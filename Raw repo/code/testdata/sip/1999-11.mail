From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 06:19:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA18367
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 06:19:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 127F052EA; Mon,  1 Nov 1999 06:17:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7759452F0; Mon,  1 Nov 1999 06:17:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B880B52EA
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 06:17:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 06:17:02 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov  1 06:16:03 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id NAA01301;
	Mon, 1 Nov 1999 13:17:20 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.73.233])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id NAA21158;
	Mon, 1 Nov 1999 13:16:50 +0200 (EET)
Message-ID: <381D769C.F3451C53@lmf.ericsson.se>
Date: Mon, 01 Nov 1999 13:16:44 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Cc: Henry Sinnreich <henry.sinnreich@mci.com>
Subject: Network authentication
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

I've seen in a couple of drafts a UAC authenticating itself to the edge
proxy of a certain network (let's say, MCI network).

What about network authentication?

I think it is also important from the user point of view to be sure that
we are "talking" to the real MCI SIP server. This is not addressed in
the drafts released by MCI.

Any ideas?

Regards,

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 06:33:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA20639
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 06:33:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9F67252F0; Mon,  1 Nov 1999 06:31:29 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 15D6E5305; Mon,  1 Nov 1999 06:31:28 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CBB3852F0
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 06:31:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 06:30:39 EST 1999
Received: from qhars001.nortel.com ([192.100.101.18]) by dusty; Mon Nov  1 06:29:41 EST 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars001.nortel.com; Mon, 1 Nov 1999 11:30:17 +0000
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <V6SR42T3>; Mon, 1 Nov 1999 11:30:14 -0000
Message-ID: <95F43C4FA359D311A8830008C791861E4038FF@ZVB1C002>
From: "Jerry Teahan" <teahanj@nortelnetworks.com>
To: sip@lists.research.bell-labs.com
Subject: Security and SIP
Date: Mon, 1 Nov 1999 11:30:05 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF245C.768FB486"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF245C.768FB486
Content-Type: text/plain

Where can I find out more about security and SIP.
H.323 uses 235 but what does SIP use ?
thanks
Jerry



------_=_NextPart_001_01BF245C.768FB486
Content-Type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=us-ascii">
<META NAME="Generator" CONTENT="MS Exchange Server version 5.5.2448.0">
<TITLE>Security and SIP</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR="#000000" SIZE=2 FACE="Tahoma">Where can I find out more about security and SIP.</FONT>
<BR><FONT COLOR="#000000" SIZE=2 FACE="Tahoma">H.323 uses 235 but what does SIP use ?</FONT>
<BR><FONT COLOR="#000000" SIZE=2 FACE="Tahoma">thanks</FONT>
<BR><FONT COLOR="#000000" SIZE=2 FACE="Tahoma">Jerry</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01BF245C.768FB486--



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 06:47:34 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA24624
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 06:47:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1823152ED; Mon,  1 Nov 1999 06:45:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 68852530A; Mon,  1 Nov 1999 06:45:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id CEAF752ED
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 06:45:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 06:43:12 EST 1999
Received: from omzrelay03.mcit.com ([199.249.19.245]) by dusty; Mon Nov  1 06:42:13 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38418)
 with ESMTP id <0FKI00K4VOJXT0@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon,  1 Nov 1999 11:43:09 +0000 (GMT)
Received: from omzmta04.mcit.com (omzmta04.mcit.com [166.37.194.122])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id LAA02740; Mon,
 01 Nov 1999 11:38:27 +0000 (GMT)
Received: from C25776A ([166.37.185.204])
 by omzmta04.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991101114305.SNFD1099@C25776A>; Mon, 01 Nov 1999 11:43:05 +0000
Date: Mon, 01 Nov 1999 05:43:03 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: Use of SIP to set up MPLS paths
In-reply-to: <33E324D95F44D311AA3E00204840075B5500B5@zhard00e.europe.nortel.com>
To: "'SIP List'" <sip@lists.research.bell-labs.com>,
        Mark Gibson <mrg@nortelnetworks.com>, mpls@uu.net
Cc: "Richard H. Wilder" <Richard.H.Wilder@wcom.com>,
        Lou Berger <lberger@labn.net>
Message-id: <NBBBIIJFOKPMFOOILMBKMEOGEMAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>This draft defines a modification of the use of the SIP protocol to
>perform route reservation. These modifications are applied...to be
>used to find the best path across a particular network based on QoS
metrics.

The proposed use of the route record of SIP to chose the most appropriate
path for real time applications is a new capability that is not available,
to my understanding, at present using LDP and RSVP. This or a similar
proposal was in the making, since the choice of MPLS routes for real time
traffic is a useful feature. Though I like the draft as an excellent
illustration of the various applications for SIP, (beyond such mundane tasks
as setting up phone calls :->), two issues come to mind:

1. Scalability
The Label Switched Routers (LSRs) in Figure 1 in the Core Transport Network
seem to require state for every QoS tunnel across the network. If that is
what the schema implies, it may still be an acceptable schema for smaller
networks, but the applications should be only such 'specials' as the
provisioning of trunk groups between large network (public CO) IP telephony
media gateways, high bandwidth video channels or the provisioning of special
(premium price?) private lines.

Tracking individual tunnels in the core may be a debatable proposition.
Does that mean that for 100,000s of phone calls, the LSRs have to keep state
for each call? Or do I misunderstand the schema?
How scalable and how desirable is it to keep state of every phone call in
backbone routers?
Would the substitution of the pipe model (tunnels) with the hose mode not be
more scalable?
It seems several advantages can be combined if the schema would be changed:
 * discovering and recording a desirable route using SIP,
 * using the hose model to keep state only at the edge,
 * using only aggregate QoS PHB in the core,
IMHO there may be a better scalable way to set up MPLS paths using SIP:
Classifying aggregate behaviors and just incrementing/decrementing the
bandwidth for a specific class of traffic from the connection managers
(CMs)...(to discuss off line)

2. More Complex Signaling for MPLS
It appears the MPLS community considers RSVP and LDP as the preferred
methods of signaling for setting up MPLS paths.
See
http://www.ietf.org/internet-drafts/draft-ietf-mpls-rsvp-lsp-tunnel-04.txt
and
http://www.ietf.org/internet-drafts/draft-ietf-mpls-ldp-06.txt
These methods allow only to set up QoS and perform traffic engineering, but
are already a quite complex set.
MPLS versed readers may excuse any naiveties expressed here.
Adding SIP for MPLS signaling may be felt as too much complexity, but that's
for the MPLS WG to decide.

Is SIP as proposed here orthogonal/compatible with RSVP and LDP for MPLS QoS
setup?
Would you comment?

The possible intellectual property claim by Nortel may be a problem that
both the SIP and MPLS WGs may want to consider. Would changing the schema,
as suggested here or in any other way, remove the intellectual property
claim?
Please comment.

It is intriguing that besides upsetting other VoIP models (H.323), SIP may
also influence various other IETF WGs (IMPP is a  notable example).

The companion draft, <draft-gibson-manage-mpls-qos>
http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-qos-00.txt
deals with scalability, but to my understanding would also require to keep
track of every single phone call in the core.
Is this correct?

Thanks, Henry

Henry Sinnreich
MCI WorldCom
400 International Parkway
Richardson, Texas 75081, USA


> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Mark Gibson
> Sent: Wednesday, October 27, 1999 7:48 AM
> To: 'SIP List'
> Subject: New Internet Draft
>
>
> The following Internet Draft has been submitted :
>
> Title:		Use of SIP for the Reservation of QoS
> guaranteed Paths
> Authors:	M. Gibson, J. Crowcroft
> Filename:	draft-gibson-sip-qos-resv-00.txt
> Date:		October 1999
>
> And subject to its approval, we will present it at the 46th IETF.
>
> Abstract:	This draft defines a modification of the use of the SIP
> protocol to
>    	perform route reservation. These modifications are applied to two of
>    	the existing SIP Methods: INVITE and REGISTER. The modifications
>    	allow the INVITE method to be used to find the best path across a
>    	particular network based on QoS metrics. The route choice is able to
>    	be restricted at the network edge. The proposed modifications also
>    	allow the REGISTER method to be used as a means of disseminating
>    	information necessary to determine these QoS metrics. This
>    	information can be used to route INVITEs away from known areas of
>    	congestion.
>
> Available from:
> http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 08:11:34 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA12901
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 08:11:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 82ED85305; Mon,  1 Nov 1999 08:09:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DBCA5530B; Mon,  1 Nov 1999 08:09:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id BFD505305
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 08:09:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 08:08:30 EST 1999
Received: from prima.time.saic.com ([205.153.241.31]) by dusty; Mon Nov  1 08:07:32 EST 1999
Received: from degas.time.saic.com (degas.time.saic.com [205.153.241.32])
	by prima.time.saic.com (8.9.3/8.8.5) with ESMTP id IAA01591;
	Mon, 1 Nov 1999 08:08:32 -0500 (EST)
Message-Id: <199911011308.IAA01591@prima.time.saic.com>
X-Mailer: exmh version 2.0.2 2/24/98
To: Henry Sinnreich <henry.sinnreich@wcom.com>
Cc: sip@lists.research.bell-labs.com, mrg@nortelnetworks.com, mpls@uu.net,
        Richard.H.Wilder@wcom.com, lberger@labn.net
Subject: Re: Use of SIP to set up MPLS paths 
In-Reply-To: Your message of "Mon, 01 Nov 1999 05:43:03 CST."
             <NBBBIIJFOKPMFOOILMBKMEOGEMAA.henry.sinnreich@wcom.com> 
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Mon, 01 Nov 1999 08:08:21 -0500
From: Ken Carlberg <carlberg@time.saic.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


> 1. Scalability
> The Label Switched Routers (LSRs) in Figure 1 in the Core Transport Network
> seem to require state for every QoS tunnel across the network. If that is
> what the schema implies, it may still be an acceptable schema for smaller
> networks, but the applications should be only such 'specials' as the
> provisioning of trunk groups between large network (public CO) IP telephony
> media gateways, high bandwidth video channels or the provisioning of special
> (premium price?) private lines.

I agree that there will probably be a need to expand the model that Mark 
initially introduces to support a more aggregated set of calls.  and as 
you allude to, for specialty 'mom-&-pop' and leaf ISPs, the granularity 
that Mark describes is probably fine.  

however, beyond the 'special' of trunking groups for large carriers, i 
believe there will still be a need to support a limited set of individual 
call traffic that corresponds to HPC signaling.  so perhaps, its not a 
question of changing Mark's model as oppposed to expanding it.

-ken





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 08:33:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17692
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 08:33:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 082AF530B; Mon,  1 Nov 1999 08:31:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 656B6530F; Mon,  1 Nov 1999 08:31:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 28FA5530B
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 08:31:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 08:29:24 EST 1999
Received: from ietf.org ([132.151.1.176]) by dusty; Mon Nov  1 08:28:25 EST 1999
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16271;
	Mon, 1 Nov 1999 08:29:08 -0500 (EST)
Message-Id: <199911011329.IAA16271@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@lists.research.bell-labs.com
From: Internet-Drafts@ietf.org
Reply-To: Internet-Drafts@ietf.org
Subject: I-D ACTION:draft-ietf-sip-callerprefs-00.txt
Date: Mon, 01 Nov 1999 08:29:08 -0500
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Caller Preferences and Callee Capabilities
	Author(s)	: H. Schulzrinne, J. Rosenberg
 	Filename	: draft-ietf-sip-callerprefs-00.txt
	Pages		: 17
	Date		: 28-Oct-99
	
This document describes a set of extensions to SIP which allow a
caller to express preferences about request handling in servers. It
also extends the SIP Contact header to allow users to describe their
communications capabilities and characteristics.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-callerprefs-00.txt

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-callerprefs-00.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-callerprefs-00.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<19991028142414.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-callerprefs-00.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-callerprefs-00.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<19991028142414.I-D@ietf.org>

--OtherAccess--

--NextPart--





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 09:03:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA24561
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 09:03:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 09D115319; Mon,  1 Nov 1999 09:01:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5840E531D; Mon,  1 Nov 1999 09:01:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1848A5319
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 09:01:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 08:59:59 EST 1999
Received: from qhars001.nortel.com ([192.100.101.18]) by dusty; Mon Nov  1 08:58:59 EST 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars001.nortel.com; Mon, 1 Nov 1999 13:59:28 +0000
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <V6SR4M4T>; Mon, 1 Nov 1999 13:59:26 -0000
Message-ID: <33E324D95F44D311AA3E00204840075B5500D0@zhard00e.europe.nortel.com>
From: "Mark Gibson" <mrg@nortelnetworks.com>
To: "'Henry Sinnreich'" <henry.sinnreich@wcom.com>,
        "'SIP List'" <sip@lists.research.bell-labs.com>, mpls@UU.NET
Cc: "Richard H. Wilder" <Richard.H.Wilder@wcom.com>,
        Lou Berger <lberger@labn.net>
Subject: RE: Use of SIP to set up MPLS paths
Date: Mon, 1 Nov 1999 13:59:21 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2471.4EBB7C3C"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2471.4EBB7C3C
Content-Type: text/plain;
	charset="iso-8859-1"

Henry

Thanks for your comments and support, I've added responses below:

> -----Original Message-----
> From:	Henry Sinnreich [SMTP:henry.sinnreich@wcom.com]
> Sent:	Monday, November 01, 1999 11:43 AM
> To:	'SIP List'; Gibson, Mark [HAL02:HM60:EXCH]; mpls@UU.NET
> Cc:	Richard H. Wilder; Lou Berger
> Subject:	Use of SIP to set up MPLS paths
> 
> >This draft defines a modification of the use of the SIP protocol to
> >perform route reservation. These modifications are applied...to be
> >used to find the best path across a particular network based on QoS
> metrics.
> 
> The proposed use of the route record of SIP to chose the most appropriate
> path for real time applications is a new capability that is not available,
> to my understanding, at present using LDP and RSVP. This or a similar
> proposal was in the making, since the choice of MPLS routes for real time
> traffic is a useful feature. Though I like the draft as an excellent
> illustration of the various applications for SIP, (beyond such mundane
> tasks
> as setting up phone calls :->), two issues come to mind:
> 
> 1. Scalability
> The Label Switched Routers (LSRs) in Figure 1 in the Core Transport
> Network
> seem to require state for every QoS tunnel across the network. If that is
> what the schema implies, it may still be an acceptable schema for smaller
> networks, but the applications should be only such 'specials' as the
> provisioning of trunk groups between large network (public CO) IP
> telephony
> media gateways, high bandwidth video channels or the provisioning of
> special
> (premium price?) private lines.
> 
> Tracking individual tunnels in the core may be a debatable proposition.
> Does that mean that for 100,000s of phone calls, the LSRs have to keep
> state
> for each call? Or do I misunderstand the schema?
> How scalable and how desirable is it to keep state of every phone call in
> backbone routers?
> Would the substitution of the pipe model (tunnels) with the hose mode not
> be
> more scalable?
> It seems several advantages can be combined if the schema would be
> changed:
>  * discovering and recording a desirable route using SIP,
>  * using the hose model to keep state only at the edge,
>  * using only aggregate QoS PHB in the core,
> IMHO there may be a better scalable way to set up MPLS paths using SIP:
> Classifying aggregate behaviors and just incrementing/decrementing the
> bandwidth for a specific class of traffic from the connection managers
> (CMs)...(to discuss off line)
> 
	 
	  Our opinion is that the scalability required for this scheme is
not significantly greater than that already needed by MPLS. Schemes like
RSVP already consider the storing of a large amout of state which we believe
can be significantly reduced.

	At present we've concentrated on getting the basis of the operation
of the extensions before expanding its applications. The sessions being
established could, as you say, be a mixture of individual calls, high
bandwidth multimedia or trunk groups. However, the proposal stores state
only in certain, if you like well-known, routers in the backbone, each of
these being interconnected by a number of LSPs. A network of 20 LSRs may
have, perhaps, only 5 storing state. 

	I'm not entirely familiar with the hose model you propose but I see
no reason why the extensions could not be applied to fit with this model.  

> 2. More Complex Signaling for MPLS
> It appears the MPLS community considers RSVP and LDP as the preferred
> methods of signaling for setting up MPLS paths.
> See
> http://www.ietf.org/internet-drafts/draft-ietf-mpls-rsvp-lsp-tunnel-04.txt
> and
> http://www.ietf.org/internet-drafts/draft-ietf-mpls-ldp-06.txt
> These methods allow only to set up QoS and perform traffic engineering,
> but
> are already a quite complex set.
> MPLS versed readers may excuse any naiveties expressed here.
> Adding SIP for MPLS signaling may be felt as too much complexity, but
> that's
> for the MPLS WG to decide.
> 
> Is SIP as proposed here orthogonal/compatible with RSVP and LDP for MPLS
> QoS
> setup?
> Would you comment?
> 
	  
	It was originally intended for the SIP extensions to inter-operate
with CR-LDP. This protocol features an Explicite Route (ER) TLV that permits
the specification of the set of routers to be used in an LSP. Moreover, we
see this as the means for defining the paths between the 'well-known' LSRs
(those with AM/CMs) by use of the Traffic Parameters TLV to achieve a
constrained set of paths. Then using CR-LDP end to end (AM to AM) for each
SIP session. See
	http://www.ietf.org/internet-drafts/draft-ietf-mpls-cr-ldp-03.txt

	The Record-Route header therefore provides an excellent means of
determining this ER-TLV.

	We have not directly considered its applicability to vanilla LDP or
RSVP.

> The possible intellectual property claim by Nortel may be a problem that
> both the SIP and MPLS WGs may want to consider. Would changing the schema,
> as suggested here or in any other way, remove the intellectual property
> claim?
> Please comment.
> 
> 
	I'm not an expert on IPR, however we have included what is a general
statement of our intent to provide access to all patented materials using
fair and resonable terms. I don't belive this is significantly different to
some other draft submissions. I would have to check the specific claims of
the application to see how changing the schema affected the patent.

> It is intriguing that besides upsetting other VoIP models (H.323), SIP may
> also influence various other IETF WGs (IMPP is a  notable example).
> 
> The companion draft, <draft-gibson-manage-mpls-qos>
> http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-qos-00.txt
> deals with scalability, but to my understanding would also require to keep
> track of every single phone call in the core.
> Is this correct?
> 
	See above.

> Thanks, Henry
> 
> Henry Sinnreich
> MCI WorldCom
> 400 International Parkway
> Richardson, Texas 75081, USA
> 
> 
> > -----Original Message-----
> > From: owner-sip@lists.research.bell-labs.com
> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Mark Gibson
> > Sent: Wednesday, October 27, 1999 7:48 AM
> > To: 'SIP List'
> > Subject: New Internet Draft
> >
> >
> > The following Internet Draft has been submitted :
> >
> > Title:		Use of SIP for the Reservation of QoS
> > guaranteed Paths
> > Authors:	M. Gibson, J. Crowcroft
> > Filename:	draft-gibson-sip-qos-resv-00.txt
> > Date:		October 1999
> >
> > And subject to its approval, we will present it at the 46th IETF.
> >
> > Abstract:	This draft defines a modification of the use of the SIP
> > protocol to
> >    	perform route reservation. These modifications are applied to two of
> >    	the existing SIP Methods: INVITE and REGISTER. The modifications
> >    	allow the INVITE method to be used to find the best path across a
> >    	particular network based on QoS metrics. The route choice is able to
> >    	be restricted at the network edge. The proposed modifications also
> >    	allow the REGISTER method to be used as a means of disseminating
> >    	information necessary to determine these QoS metrics. This
> >    	information can be used to route INVITEs away from known areas of
> >    	congestion.
> >
> > Available from:
> > http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
> >
> >
> >
> 

------_=_NextPart_001_01BF2471.4EBB7C3C
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: Use of SIP to set up MPLS paths</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Henry</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Thanks for your =
comments and support, I've added responses below:</FONT>
</P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Henry Sinnreich =
[SMTP:henry.sinnreich@wcom.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Monday, November 01, 1999 11:43 AM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">'SIP List'; Gibson, Mark [HAL02:HM60:EXCH]; =
mpls@UU.NET</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Cc:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Richard H. Wilder; Lou Berger</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">Use of SIP to set up MPLS =
paths</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt;This draft defines a modification =
of the use of the SIP protocol to</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;perform route reservation. These =
modifications are applied...to be</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;used to find the best path across =
a particular network based on QoS</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">metrics.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The proposed use of the route record =
of SIP to chose the most appropriate</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">path for real time applications is a =
new capability that is not available,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">to my understanding, at present using =
LDP and RSVP. This or a similar</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">proposal was in the making, since the =
choice of MPLS routes for real time</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">traffic is a useful feature. Though I =
like the draft as an excellent</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">illustration of the various =
applications for SIP, (beyond such mundane tasks</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">as setting up phone calls :-&gt;), =
two issues come to mind:</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">1. Scalability</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">The Label Switched Routers (LSRs) in =
Figure 1 in the Core Transport Network</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">seem to require state for every QoS =
tunnel across the network. If that is</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">what the schema implies, it may still =
be an acceptable schema for smaller</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">networks, but the applications should =
be only such 'specials' as the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">provisioning of trunk groups between =
large network (public CO) IP telephony</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">media gateways, high bandwidth video =
channels or the provisioning of special</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">(premium price?) private =
lines.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Tracking individual tunnels in the =
core may be a debatable proposition.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Does that mean that for 100,000s of =
phone calls, the LSRs have to keep state</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">for each call? Or do I misunderstand =
the schema?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">How scalable and how desirable is it =
to keep state of every phone call in</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">backbone routers?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Would the substitution of the pipe =
model (tunnels) with the hose mode not be</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">more scalable?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">It seems several advantages can be =
combined if the schema would be changed:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;* discovering and recording a =
desirable route using SIP,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;* using the hose model to keep =
state only at the edge,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;* using only aggregate QoS PHB =
in the core,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">IMHO there may be a better scalable =
way to set up MPLS paths using SIP:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Classifying aggregate behaviors and =
just incrementing/decrementing the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">bandwidth for a specific class of =
traffic from the connection managers</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">(CMs)...(to discuss off line)</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">&nbsp;</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial"></FONT></I></B><I></I>&nbsp;<FONT COLOR=3D"#0000FF" =
SIZE=3D2 FACE=3D"Arial"> Our opinion is that the scalability required =
for this scheme is not significantly greater than that already needed =
by MPLS. Schemes like RSVP already consider the storing of a large =
amout of state which we believe can be significantly =
reduced.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">At present we've =
concentrated on getting the basis of the operation of the extensions =
before expanding its applications. The sessions being established =
could, as you say, be a mixture of individual calls, high bandwidth =
multimedia or trunk groups. However, the proposal stores state only in =
certain, if you like well-known, routers in the backbone, each of these =
being interconnected by a number of LSPs. A network of 20 LSRs may =
have, perhaps, only 5 storing state. </FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I'm not entirely =
familiar with the hose model you propose but I see no reason why the =
extensions could not be applied to fit with this =
model.</FONT>&nbsp;<FONT SIZE=3D2 FACE=3D"Arial"> </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">2. More Complex Signaling for =
MPLS</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">It appears the MPLS community =
considers RSVP and LDP as the preferred</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">methods of signaling for setting up =
MPLS paths.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">See</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-ietf-mpls-rsvp-lsp-tun=
nel-04.txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-ietf-mpls-rs=
vp-lsp-tunnel-04.txt</A></FONT></U>
<BR><FONT SIZE=3D2 FACE=3D"Arial">and</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-ietf-mpls-ldp-06.txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-ietf-mpls-ld=
p-06.txt</A></FONT></U>
<BR><FONT SIZE=3D2 FACE=3D"Arial">These methods allow only to set up =
QoS and perform traffic engineering, but</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">are already a quite complex =
set.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">MPLS versed readers may excuse any =
naiveties expressed here.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Adding SIP for MPLS signaling may be =
felt as too much complexity, but that's</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">for the MPLS WG to decide.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Is SIP as proposed here =
orthogonal/compatible with RSVP and LDP for MPLS QoS</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">setup?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Would you comment?</FONT>
</P>

<P><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial"></FONT></I></B><I></I>&nbsp;<FONT COLOR=3D"#0000FF" =
SIZE=3D2 FACE=3D"Arial"> </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">It was originally =
intended for the SIP extensions to inter-operate with CR-LDP. This =
protocol features an Explicite Route (ER) TLV that permits the =
specification of the set of routers to be used in an LSP. Moreover, we =
see this as the means for defining the paths between the 'well-known' =
LSRs (those with AM/CMs) by use of the Traffic Parameters TLV to =
achieve a constrained set of paths. Then using CR-LDP end to end (AM to =
AM) for each SIP session. See</FONT></P>

<P><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-ietf-mpls-cr-ldp-03.tx=
t" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-ietf-mpls-cr=
-ldp-03.txt</A></FONT></U>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">The Record-Route =
header therefore provides an excellent means of determining this =
ER-TLV.</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">We have not directly =
considered its applicability to vanilla LDP or RSVP.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The possible intellectual property =
claim by Nortel may be a problem that</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">both the SIP and MPLS WGs may want to =
consider. Would changing the schema,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">as suggested here or in any other =
way, remove the intellectual property</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">claim?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Please comment.</FONT>
</P>
<BR>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I'm not an expert on =
IPR, however we have included what is a general statement of our intent =
to provide access to all patented materials using fair and resonable =
terms. I don't belive this is significantly different to some other =
draft submissions. I would have to check the specific claims of the =
application to see how changing the schema affected the =
patent.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">It is intriguing that besides =
upsetting other VoIP models (H.323), SIP may</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">also influence various other IETF WGs =
(IMPP is a&nbsp; notable example).</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The companion draft, =
&lt;draft-gibson-manage-mpls-qos&gt;</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-=
qos-00.txt" =
TARGET=3D"_blank">http://search.ietf.org/internet-drafts/draft-gibson-ma=
nage-mpls-qos-00.txt</A></FONT></U>
<BR><FONT SIZE=3D2 FACE=3D"Arial">deals with scalability, but to my =
understanding would also require to keep</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">track of every single phone call in =
the core.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Is this correct?</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">See above.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Thanks, Henry</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Henry Sinnreich</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">MCI WorldCom</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">400 International Parkway</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Richardson, Texas 75081, USA</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; From: =
owner-sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; [</FONT><U><FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"mailto:owner-sip@lists.research.bell-labs.com">mailto:owner-sip@=
lists.research.bell-labs.com</A>]On</FONT></U><FONT SIZE=3D2 =
FACE=3D"Arial"> Behalf Of Mark Gibson</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Sent: Wednesday, October 27, =
1999 7:48 AM</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; To: 'SIP List'</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Subject: New Internet =
Draft</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; The following Internet Draft has =
been submitted :</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
Title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Use of SIP for the =
Reservation of QoS</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; guaranteed Paths</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
Authors:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M. Gibson, J. Crowcroft</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
Filename:&nbsp;&nbsp;&nbsp;&nbsp; =
draft-gibson-sip-qos-resv-00.txt</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Date: =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; October 1999</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; And subject to its approval, we =
will present it at the 46th IETF.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
Abstract:&nbsp;&nbsp;&nbsp;&nbsp; This draft defines a modification of =
the use of the SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; protocol to</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
perform route reservation. These modifications are applied to two =
of</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
the existing SIP Methods: INVITE and REGISTER. The modifications</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
allow the INVITE method to be used to find the best path across =
a</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
particular network based on QoS metrics. The route choice is able =
to</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
be restricted at the network edge. The proposed modifications =
also</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
allow the REGISTER method to be used as a means of disseminating</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
information necessary to determine these QoS metrics. This</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
information can be used to route INVITEs away from known areas =
of</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; =
congestion.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Available from:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT><U> <FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv=
-00.txt" =
TARGET=3D"_blank">http://search.ietf.org/internet-drafts/draft-gibson-si=
p-qos-resv-00.txt</A></FONT></U>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF2471.4EBB7C3C--



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 09:57:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03645
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 09:57:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9AB57530F; Mon,  1 Nov 1999 09:55:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 13ADB531D; Mon,  1 Nov 1999 09:55:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C3A64530F
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 09:55:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 09:54:23 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov  1 09:53:24 EST 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnlr27225;
	Mon, 1 Nov 1999 14:57:56 GMT
Message-ID: <381DA9F3.9BAE30F2@dynamicsoft.com>
Date: Mon, 01 Nov 1999 09:55:47 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jerry Teahan <teahanj@nortelnetworks.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Security and SIP
References: <95F43C4FA359D311A8830008C791861E4038FF@ZVB1C002>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

SIP security is specified within the SIP spec itself, RFC2543. The
security mechanisms include basic and digest authentication (based 
on http) and PGP for both encryption, authentication, and proxy
authentication.

-Jonathan R.

> Jerry Teahan wrote:
> 
> Where can I find out more about security and SIP.
> H.323 uses 235 but what does SIP use ?
> thanks
> Jerry

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 10:00:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04263
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 10:00:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 62BF3531F; Mon,  1 Nov 1999 09:57:57 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EA26C531E; Mon,  1 Nov 1999 09:57:54 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EFD3A531F
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 09:57:11 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 09:56:00 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov  1 09:55:02 EST 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhnlr29960;
	Mon, 1 Nov 1999 14:59:17 GMT
Message-ID: <381DAA45.3E269D16@dynamicsoft.com>
Date: Mon, 01 Nov 1999 09:57:09 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip@lists.research.bell-labs.com,
        Henry Sinnreich <henry.sinnreich@mci.com>
Subject: Re: Network authentication
References: <381D769C.F3451C53@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hop by hop authentication and encryption (i.e., I am talking to the
proxy I think I'm talking to) does not need to be done within SIP.
Transport level security or IPsec are sufficient for this purpose. 

-Jonathan R.

Gonzalo Camarillo wrote:
> 
> Hi,
> 
> I've seen in a couple of drafts a UAC authenticating itself to the edge
> proxy of a certain network (let's say, MCI network).
> 
> What about network authentication?
> 
> I think it is also important from the user point of view to be sure that
> we are "talking" to the real MCI SIP server. This is not addressed in
> the drafts released by MCI.
> 
> Any ideas?
> 
> Regards,
> 
> Gonzalo
> --
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 10:25:33 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA10287
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 10:25:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8E278531E; Mon,  1 Nov 1999 10:23:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EAD945320; Mon,  1 Nov 1999 10:23:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 30C09531E
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 10:23:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 10:21:10 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov  1 10:20:07 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id RAA09406;
	Mon, 1 Nov 1999 17:21:27 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.73.233])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id RAA27293;
	Mon, 1 Nov 1999 17:20:56 +0200 (EET)
Message-ID: <381DAFD1.F078BDB8@lmf.ericsson.se>
Date: Mon, 01 Nov 1999 17:20:49 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: sip@lists.research.bell-labs.com, henry.sinnreich@mci.com
Subject: Re: Network authentication
References: <381DAA45.3E269D16@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

> Hop by hop authentication and encryption (i.e., I am talking to the
> proxy I think I'm talking to) does not need to be done within SIP.
> Transport level security or IPsec are sufficient for this purpose.

But if I use IPsec from my client to the proxy the SIP-digest will be
never used, right?

What I mean is that if we use transport level security or IPsec to
assure that the proxy I'm talking to is the "good" one, why do we have
to use the proxy-authorization SIP header? 

Regards,

Gonzalo
> 
> -Jonathan R.
> 
> Gonzalo Camarillo wrote:
> >
> > Hi,
> >
> > I've seen in a couple of drafts a UAC authenticating itself to the edge
> > proxy of a certain network (let's say, MCI network).
> >
> > What about network authentication?
> >
> > I think it is also important from the user point of view to be sure that
> > we are "talking" to the real MCI SIP server. This is not addressed in
> > the drafts released by MCI.
> >
> > Any ideas?
> >
> > Regards,
> >
> > Gonzalo
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> 
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 210
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 10:29:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA11181
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 10:29:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 729EA5320; Mon,  1 Nov 1999 10:27:26 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6560B5321; Mon,  1 Nov 1999 10:27:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id C18295320
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 10:27:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 10:26:54 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Mon Nov  1 10:25:55 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKI00KC2YM7LR@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon,  1 Nov 1999 15:20:32 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id PAA08588; Mon,
 01 Nov 1999 15:19:30 +0000 (GMT)
Received: from dwillispc4 ([166.44.162.174])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991101151928.GJCP624@dwillispc4>; Mon,
 01 Nov 1999 15:19:28 +0000
Date: Mon, 01 Nov 1999 09:21:42 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: Network authentication
In-reply-to: <381D769C.F3451C53@lmf.ericsson.se>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Message-id: <003501bf247c$ccfc61a0$55fa403f@directlink.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


If I understand your qustion, you're asking how does a UAC validate the
authenticity of a network element which has challenged the UAC?

I am currently unaware of any explicitly defined SIP-way to do this. Two
options come to mind:

1) With a PKI, have the network element attach a signature to its 401 or 407

2) As DCS suggests, use IPSEC and push the network security problem to the
network layer.

As we have neither a widely deployed PKI nor widely available working IPSEC,
neither option made it into the examples. The suggestion box is open . . .

--
Dean


Gonzalo Camarillo (Gonzalo.Camarillo@ericsson.com) asked:
> I've seen in a couple of drafts a UAC authenticating itself to the edge
> proxy of a certain network (let's say, MCI network).
>
> What about network authentication?
>
> I think it is also important from the user point of view to be sure that
> we are "talking" to the real MCI SIP server. This is not addressed in
> the drafts released by MCI.
>
> Any ideas?




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 13:06:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06300
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 13:06:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3D2575323; Mon,  1 Nov 1999 13:03:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8D4C35326; Mon,  1 Nov 1999 13:03:34 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9CEEB5323
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 13:03:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 13:01:53 EST 1999
Received: from l3mail02.level3.com ([209.119.32.20]) by dusty; Mon Nov  1 13:00:55 EST 1999
Received: by level3.com with Internet Mail Service (5.5.2448.0)
	id <V8X79MGS>; Mon, 1 Nov 1999 11:00:27 -0700
Message-ID: <6DD3824BDF75D211930E0008C71EC920057B4F2D@l3lsvlmail02.l3.com>
From: Aparna.Vemuri@Level3.com
To: sip@lists.research.bell-labs.com
Subject: SIP BCP-T
Date: Mon, 1 Nov 1999 10:54:54 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hello,

A new version of the SIP BCP-T Internet draft is available at:

http://www.ietf.org/internet-drafts/draft-zimmerer-sip-bcp-t-00.txt

Also, the latest version of the ISUP MIME draft is available at:
http://www.ietf.org/internet-drafts/draft-zimmerer-sip-isup-mime-00.txt.


These two will (hopefully) be discussed at the SIP WG session at the IETF
meet.

Comments are welcome.


Thanks,
Aparna

Aparna V.
Level 3 Communications.




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 13:08:52 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06605
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 13:08:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 67BFB5322; Mon,  1 Nov 1999 13:03:41 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7C4335324; Mon,  1 Nov 1999 13:03:39 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id DE8015322
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 13:03:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 13:01:40 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Mon Nov  1 13:00:40 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKJ004HC60TYX@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon,  1 Nov 1999 18:00:30 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id RAA31419; Mon,
 01 Nov 1999 17:55:42 +0000 (GMT)
Received: from C25776A ([166.35.227.175])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with SMTP id <19991101175645.DLP15856@[166.35.227.175]>; Mon,
 01 Nov 1999 17:56:45 +0000
Date: Mon, 01 Nov 1999 11:56:40 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: Use of SIP to set up MPLS paths
In-reply-to: <9421.941457709@cs.ucl.ac.uk>
To: Jon Crowcroft <J.Crowcroft@cs.ucl.ac.uk>
Cc: "'SIP List'" <sip@lists.research.bell-labs.com>,
        Mark Gibson <mrg@nortelnetworks.com>, mpls@UU.NET,
        "Richard H. Wilder" <Richard.H.Wilder@wcom.com>,
        Lou Berger <lberger@labn.net>
Message-id: <NBBBIIJFOKPMFOOILMBKCEPAEMAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jon Crowcroft wrote:
> 3/ This is probably largely applied
> inter-domain (inter-ITAD), so its not concerned with the
> scalign at the level of numbers of switch or router hops, but at
> the level of
> numbers of domains

Sorry, I missed this point reading the draft. Inter-domain route selection
using SIP has indeed no scaling problems and is a very interesting
application, such as for selecting carriers based on various criteria. More
than real-time application criteria could probably be added and negotiated
in the SDP body of SIP messages. Such as commercial preferences, time of day
routing, etc.
Would suggest to make this more clear in the draft.

Mark Gibson writes:
>The Record-Route header therefore provides an excellent means of
determining this ER-TLV.
Agree, this has great value.

Incidentally, the SIP enhanced routing for MPLS would also have to include
some mechanisms for authentication between 1,000 of ISPs and or a clearing
house as a trust broker in the model. ISPs will implement inter-domain QoS
only if they are sure to be paid for it. This is the topic of a related
draft
http://www.ietf.org/internet-drafts/draft-sinnreich-interdomain-sip-qos-osp-
00.txt
possibly complementary to
http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-qos-00.txt

Henry

> -----Original Message-----
> From: Jon Crowcroft [mailto:J.Crowcroft@cs.ucl.ac.uk]
> Sent: Monday, November 01, 1999 6:02 AM
> To: Henry Sinnreich
> Cc: 'SIP List'; Mark Gibson; mpls@UU.NET; Richard H. Wilder; Lou Berger
> Subject: Re: Use of SIP to set up MPLS paths
>
>
>
> In message
> <NBBBIIJFOKPMFOOILMBKMEOGEMAA.henry.sinnreich@wcom.com>, Henry Sinnr
> eich typed:
>
>  >>>This draft defines a modification of the use of the SIP protocol to
>  >>>perform route reservation. These modifications are applied...to be
>  >>>used to find the best path across a particular network based on QoS
>  >>metrics.
>
>
> the intention for the initial applicability of the proposed extensions
>  is that
> 1/ the underlying networks are typically "carrier strength" IP -
> 2/ that "carrier strength" means that there is a good correspondance
> between flow and VC, and that aggregation is very efficient I.e. the
> vast majority of admission tests are trivial (basically borrow from
> classic telephony traffic engineering).
> 3/ This is probably largely applied
> inter-domain (inter-ITAD), so its not concerned with the
> scalign at the level of numbers of switch or router hops, but at
> the level of
> numbers of domains
>
>
>  >>The proposed use of the route record of SIP to chose the most
> appropriate
>  >>path for real time applications is a new capability that is
> not available,
>  >>to my understanding, at present using LDP and RSVP. This or a similar
>  >>proposal was in the making, since the choice of MPLS routes
> for real time
>  >>traffic is a useful feature. Though I like the draft as an excellent
>  >>illustration of the various applications for SIP, (beyond such
> mundane tasks
>  >>as setting up phone calls :->), two issues come to mind:
>
>  >>1. Scalability
>  >>The Label Switched Routers (LSRs) in Figure 1 in the Core
> Transport Network
>  >>seem to require state for every QoS tunnel across the network.
> If that is
>  >>what the schema implies, it may still be an acceptable schema
> for smaller
>  >>networks, but the applications should be only such 'specials' as the
>  >>provisioning of trunk groups between large network (public CO)
> IP telephony
>  >>media gateways, high bandwidth video channels or the
> provisioning of special
>  >>(premium price?) private lines.
>
> see above.....
>
>
>  >>Tracking individual tunnels in the core may be a debatable proposition.
>  >>Does that mean that for 100,000s of phone calls, the LSRs have
> to keep state
>  >>for each call? Or do I misunderstand the schema?
>  >>How scalable and how desirable is it to keep state of every
> phone call in
>  >>backbone routers?
>  >>Would the substitution of the pipe model (tunnels) with the
> hose mode not be
>  >>more scalable?
>  >>It seems several advantages can be combined if the schema
> would be changed:
>  >> * discovering and recording a desirable route using SIP,
>  >> * using the hose model to keep state only at the edge,
>  >> * using only aggregate QoS PHB in the core,
>  >>IMHO there may be a better scalable way to set up MPLS paths using SIP:
>  >>Classifying aggregate behaviors and just incrementing/decrementing the
>  >>bandwidth for a specific class of traffic from the connection managers
>  >>(CMs)...(to discuss off line)
>
> see the companion draft....but yes, this needs a LOT more detail
> filling in - the problem I had was that there are a LOT of options for
> this, and only some can be completely described just yet...
>
>  >>2. More Complex Signaling for MPLS
>  >>It appears the MPLS community considers RSVP and LDP as the preferred
>  >>methods of signaling for setting up MPLS paths.
>  >>See
>
> >>http://www.ietf.org/internet-drafts/draft-ietf-mpls-rsvp-lsp-tun
> nel-04.txt
>  >>and
>  >>http://www.ietf.org/internet-drafts/draft-ietf-mpls-ldp-06.txt
>  >>These methods allow only to set up QoS and perform traffic
> engineering, but
>  >>are already a quite complex set.
>  >>MPLS versed readers may excuse any naiveties expressed here.
>  >>Adding SIP for MPLS signaling may be felt as too much
> complexity, but that's
>  >>for the MPLS WG to decide.
>
> hmmmmm....
>
>
>  >>Is SIP as proposed here orthogonal/compatible with RSVP and
> LDP for MPLS QoS
>  >>setup?
>  >>Would you comment?
>
> ...
>
>  >>The possible intellectual property claim by Nortel may be a
> problem that
>  >>both the SIP and MPLS WGs may want to consider. Would changing
> the schema,
>  >>as suggested here or in any other way, remove the intellectual property
>  >>claim?
>  >>Please comment.
>
> ...
>
>  >>It is intriguing that besides upsetting other VoIP models
> (H.323), SIP may
>  >>also influence various other IETF WGs (IMPP is a  notable example).
>  >>
>  >>The companion draft, <draft-gibson-manage-mpls-qos>
>
>>http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-qos-00.txt
 >>deals with scalability, but to my understanding would also require to
keep
 >>track of every single phone call in the core.
 >>Is this correct?
 >>
 >>Thanks, Henry
 >>
 >>Henry Sinnreich
 >>MCI WorldCom
 >>400 International Parkway
 >>Richardson, Texas 75081, USA
 >>
 >>
 >>> -----Original Message-----
 >>> From: owner-sip@lists.research.bell-labs.com
 >>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Mark Gibson
 >>> Sent: Wednesday, October 27, 1999 7:48 AM
 >>> To: 'SIP List'
 >>> Subject: New Internet Draft
 >>>
 >>>
 >>> The following Internet Draft has been submitted :
 >>>
 >>> Title:		Use of SIP for the Reservation of QoS
 >>> guaranteed Paths
 >>> Authors:	M. Gibson, J. Crowcroft
 >>> Filename:	draft-gibson-sip-qos-resv-00.txt
 >>> Date:		October 1999
 >>>
 >>> And subject to its approval, we will present it at the 46th IETF.
 >>>
 >>> Abstract:	This draft defines a modification of the use of the SIP
 >>> protocol to
 >>>    	perform route reservation. These modifications are applied to two
of
 >>>    	the existing SIP Methods: INVITE and REGISTER. The modifications
 >>>    	allow the INVITE method to be used to find the best path across a
 >>>    	particular network based on QoS metrics. The route choice is able
to
 >>>    	be restricted at the network edge. The proposed modifications also
 >>>    	allow the REGISTER method to be used as a means of disseminating
 >>>    	information necessary to determine these QoS metrics. This
 >>>    	information can be used to route INVITEs away from known areas of
 >>>    	congestion.
 >>>
 >>> Available from:
 >>> http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
 >>>
 >>>
 >>>
 >>

 cheers

   jon




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 13:17:07 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08162
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 13:17:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2A8F3531D; Mon,  1 Nov 1999 11:11:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 871E15322; Mon,  1 Nov 1999 11:11:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D325B531D
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 11:11:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 11:10:53 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Mon Nov  1 11:09:53 EST 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id LAA18571;
	Mon, 1 Nov 1999 11:10:49 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id LAA15720;
	Mon, 1 Nov 1999 11:10:48 -0500 (EST)
Message-ID: <381DBB86.F9C82287@cs.columbia.edu>
Date: Mon, 01 Nov 1999 11:10:46 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Dean Willis <dean.willis@wcom.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: Network authentication
References: <003501bf247c$ccfc61a0$55fa403f@directlink.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Dean Willis wrote:
> 
> If I understand your qustion, you're asking how does a UAC validate the
> authenticity of a network element which has challenged the UAC?
> 
> I am currently unaware of any explicitly defined SIP-way to do this. Two
> options come to mind:
> 
> 1) With a PKI, have the network element attach a signature to its 401 or 407
> 
> 2) As DCS suggests, use IPSEC and push the network security problem to the
> network layer.
> 
> As we have neither a widely deployed PKI nor widely available working IPSEC,
> neither option made it into the examples. The suggestion box is open . . .
> 

I assume the reason you worry about this is because somebody might trick
you into registering with the wrong server and thus gain access to
location information, for example. Any other vulnerabilities?

SSL seems like the right solution. Widely available and can re-use
existing keys.

It wouldn't be too hard to "reverse" digest authentication. One could
ask for a signed response for an OPTIONS and then use the same TCP
connection to register.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 16:17:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18575
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 16:17:20 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BA4955325; Mon,  1 Nov 1999 16:13:09 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 71CB85324; Mon,  1 Nov 1999 16:13:08 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D88B7530A
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 07:03:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov  1 07:02:01 EST 1999
Received: from bells.cs.ucl.ac.uk ([128.16.5.31]) by dusty; Mon Nov  1 07:01:01 EST 1999
Received: from sonic.cs.ucl.ac.uk by bells.cs.ucl.ac.uk with local SMTP 
          id <g.17748-0@bells.cs.ucl.ac.uk>; Mon, 1 Nov 1999 12:01:50 +0000
To: Henry Sinnreich <henry.sinnreich@wcom.com>
Cc: "'SIP List'" <sip@lists.research.bell-labs.com>,
        Mark Gibson <mrg@nortelnetworks.com>, mpls@UU.NET,
        "Richard H. Wilder" <Richard.H.Wilder@wcom.com>,
        Lou Berger <lberger@labn.net>
Subject: Re: Use of SIP to set up MPLS paths
In-reply-to: Your message of "Mon, 01 Nov 1999 05:43:03 CST." <NBBBIIJFOKPMFOOILMBKMEOGEMAA.henry.sinnreich@wcom.com>
Date: Mon, 01 Nov 1999 12:01:49 +0000
Message-ID: <9421.941457709@cs.ucl.ac.uk>
From: Jon Crowcroft <J.Crowcroft@cs.ucl.ac.uk>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


In message <NBBBIIJFOKPMFOOILMBKMEOGEMAA.henry.sinnreich@wcom.com>, Henry Sinnr
eich typed:

 >>>This draft defines a modification of the use of the SIP protocol to
 >>>perform route reservation. These modifications are applied...to be
 >>>used to find the best path across a particular network based on QoS
 >>metrics.
 

the intention for the initial applicability of the proposed extensions
 is that 
1/ the underlying networks are typically "carrier strength" IP - 
2/ that "carrier strength" means that there is a good correspondance
between flow and VC, and that aggregation is very efficient I.e. the
vast majority of admission tests are trivial (basically borrow from
classic telephony traffic engineering).
3/ This is probably largely applied
inter-domain (inter-ITAD), so its not concerned with the
scalign at the level of numbers of switch or router hops, but at the level of
numbers of domains


 >>The proposed use of the route record of SIP to chose the most appropriate
 >>path for real time applications is a new capability that is not available,
 >>to my understanding, at present using LDP and RSVP. This or a similar
 >>proposal was in the making, since the choice of MPLS routes for real time
 >>traffic is a useful feature. Though I like the draft as an excellent
 >>illustration of the various applications for SIP, (beyond such mundane tasks
 >>as setting up phone calls :->), two issues come to mind:

 >>1. Scalability
 >>The Label Switched Routers (LSRs) in Figure 1 in the Core Transport Network
 >>seem to require state for every QoS tunnel across the network. If that is
 >>what the schema implies, it may still be an acceptable schema for smaller
 >>networks, but the applications should be only such 'specials' as the
 >>provisioning of trunk groups between large network (public CO) IP telephony
 >>media gateways, high bandwidth video channels or the provisioning of special
 >>(premium price?) private lines.

see above.....


 >>Tracking individual tunnels in the core may be a debatable proposition.
 >>Does that mean that for 100,000s of phone calls, the LSRs have to keep state
 >>for each call? Or do I misunderstand the schema?
 >>How scalable and how desirable is it to keep state of every phone call in
 >>backbone routers?
 >>Would the substitution of the pipe model (tunnels) with the hose mode not be
 >>more scalable?
 >>It seems several advantages can be combined if the schema would be changed:
 >> * discovering and recording a desirable route using SIP,
 >> * using the hose model to keep state only at the edge,
 >> * using only aggregate QoS PHB in the core,
 >>IMHO there may be a better scalable way to set up MPLS paths using SIP:
 >>Classifying aggregate behaviors and just incrementing/decrementing the
 >>bandwidth for a specific class of traffic from the connection managers
 >>(CMs)...(to discuss off line)

see the companion draft....but yes, this needs a LOT more detail
filling in - the problem I had was that there are a LOT of options for
this, and only some can be completely described just yet...

 >>2. More Complex Signaling for MPLS
 >>It appears the MPLS community considers RSVP and LDP as the preferred
 >>methods of signaling for setting up MPLS paths.
 >>See
 >>http://www.ietf.org/internet-drafts/draft-ietf-mpls-rsvp-lsp-tunnel-04.txt
 >>and
 >>http://www.ietf.org/internet-drafts/draft-ietf-mpls-ldp-06.txt
 >>These methods allow only to set up QoS and perform traffic engineering, but
 >>are already a quite complex set.
 >>MPLS versed readers may excuse any naiveties expressed here.
 >>Adding SIP for MPLS signaling may be felt as too much complexity, but that's
 >>for the MPLS WG to decide.

hmmmmm....

 
 >>Is SIP as proposed here orthogonal/compatible with RSVP and LDP for MPLS QoS
 >>setup?
 >>Would you comment?

...

 >>The possible intellectual property claim by Nortel may be a problem that
 >>both the SIP and MPLS WGs may want to consider. Would changing the schema,
 >>as suggested here or in any other way, remove the intellectual property
 >>claim?
 >>Please comment.

...

 >>It is intriguing that besides upsetting other VoIP models (H.323), SIP may
 >>also influence various other IETF WGs (IMPP is a  notable example).
 >>
 >>The companion draft, <draft-gibson-manage-mpls-qos>
 >>http://search.ietf.org/internet-drafts/draft-gibson-manage-mpls-qos-00.txt
 >>deals with scalability, but to my understanding would also require to keep
 >>track of every single phone call in the core.
 >>Is this correct?
 >>
 >>Thanks, Henry
 >>
 >>Henry Sinnreich
 >>MCI WorldCom
 >>400 International Parkway
 >>Richardson, Texas 75081, USA
 >>
 >>
 >>> -----Original Message-----
 >>> From: owner-sip@lists.research.bell-labs.com
 >>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Mark Gibson
 >>> Sent: Wednesday, October 27, 1999 7:48 AM
 >>> To: 'SIP List'
 >>> Subject: New Internet Draft
 >>>
 >>>
 >>> The following Internet Draft has been submitted :
 >>>
 >>> Title:		Use of SIP for the Reservation of QoS
 >>> guaranteed Paths
 >>> Authors:	M. Gibson, J. Crowcroft
 >>> Filename:	draft-gibson-sip-qos-resv-00.txt
 >>> Date:		October 1999
 >>>
 >>> And subject to its approval, we will present it at the 46th IETF.
 >>>
 >>> Abstract:	This draft defines a modification of the use of the SIP
 >>> protocol to
 >>>    	perform route reservation. These modifications are applied to two of
 >>>    	the existing SIP Methods: INVITE and REGISTER. The modifications
 >>>    	allow the INVITE method to be used to find the best path across a
 >>>    	particular network based on QoS metrics. The route choice is able to
 >>>    	be restricted at the network edge. The proposed modifications also
 >>>    	allow the REGISTER method to be used as a means of disseminating
 >>>    	information necessary to determine these QoS metrics. This
 >>>    	information can be used to route INVITEs away from known areas of
 >>>    	congestion.
 >>>
 >>> Available from:
 >>> http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
 >>>
 >>>
 >>>
 >>

 cheers

   jon




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 16:19:21 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18951
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 16:19:05 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E53B95321; Mon,  1 Nov 1999 16:13:29 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3BBB15327; Mon,  1 Nov 1999 16:13:27 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4945A531E
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 10:11:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 10:10:19 EST 1999
Received: from ntserver4.ftrc.fujitsu.co.uk ([193.32.0.150]) by dusty; Mon Nov  1 10:09:20 EST 1999
Received: by NTSERVER4 with Internet Mail Service (5.5.2448.0)
	id <WBDZVKV4>; Mon, 1 Nov 1999 15:11:45 -0000
Message-ID: <AE676F938C58D3119F6A0010A80009960A1E32@NTSERVER4>
From: John Hopkins <J.Hopkins@fujitsu.co.uk>
To: mrg@nortelnetworks.com
Cc: Richard.H.Wilder@wcom.com, lberger@labn.net,
        Henry Sinnreich <henry.sinnreich@wcom.com>,
        "'Ken Carlberg'" <carlberg@time.saic.com>,
        sip@lists.research.bell-labs.com, mpls@UU.NET
Subject: RE: Use of SIP to set up MPLS paths 
Date: Mon, 1 Nov 1999 15:11:35 -0000 
X-Mailer: Internet Mail Service (5.5.2448.0)
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi Mark,

Per-call triggering of path establishment, e.g in support of a voip application seems interesting, but delay in establishing the paths might be an issue. I would regard "ISUP/SIP" at the top of the figure 1 as a application-layer 'call control' protocol in that regard, and the protocol to be used in the 'core management' layer of fig 1. as connection control. In this respect I would think MPLS LDP or RSVP would be a appropriate 'connection control' protocol rather than the combination of SIP and COPS shown? 

One issue is if MPLS CR-LDP or RSVP (or SIP/COPS) can meet the path delay establishment requirements of the application. e.g. MPLS has been designed with a traffic engineering application in mind, that may have less stringent performance requirements than an intended SIP application such as VoIP path establishment can tolerate (i.e. where there is a 1-to-1 relationship between calls and LSP establishment).

If LSPs are being estabished to support trunks (i.e. a many-to-1 trunkiing relationship between sip 'calls' and LSP 'connections') then delays in establishing paths would be less critcial, as the lsp setup would become an adminstrative procedure applied to engineer traffic for later use by the sip application, rather than a 'per-call' operation.

Has anyone got figures or experience of LSP establishment delays (e.g. using CR-LDP) to shed light on its suitablity for per-call or trunking usage e.g. in ip-telephony applications?

John Hopkins

N.B. .
If 'per-call' path establishment is felt to be a valid application (i'm not sure myself due to the large amount of state implied) and a MPLS control plane such as CR-LDP is felt to be too heavy/slow, then there may be a case for introducing a lightweight resource reservation for isup/sip/h323 applications between the session control and core tramsport layers as shown in your diagram. My feeling though is that SIP+COPS might be a bit heavyweight.

http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
 

> -----Original Message-----
> From:	Ken Carlberg [SMTP:carlberg@time.saic.com]
> Sent:	01 November 1999 13:08
> To:	Henry Sinnreich
> Cc:	sip@lists.research.bell-labs.com; mrg@nortelnetworks.com; mpls@UU.NET; Richard.H.Wilder@wcom.com; lberger@labn.net
> Subject:	Re: Use of SIP to set up MPLS paths 
> 
> 
> > 1. Scalability
> > The Label Switched Routers (LSRs) in Figure 1 in the Core Transport Network
> > seem to require state for every QoS tunnel across the network. If that is
> > what the schema implies, it may still be an acceptable schema for smaller
> > networks, but the applications should be only such 'specials' as the
> > provisioning of trunk groups between large network (public CO) IP telephony
> > media gateways, high bandwidth video channels or the provisioning of special
> > (premium price?) private lines.
> 
> I agree that there will probably be a need to expand the model that Mark 
> initially introduces to support a more aggregated set of calls.  and as 
> you allude to, for specialty 'mom-&-pop' and leaf ISPs, the granularity 
> that Mark describes is probably fine.  
> 
> however, beyond the 'special' of trunking groups for large carriers, i 
> believe there will still be a need to support a limited set of individual 
> call traffic that corresponds to HPC signaling.  so perhaps, its not a 
> question of changing Mark's model as oppposed to expanding it.
> 
> -ken
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov  1 20:13:38 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA23415
	for <sip-archive@odin.ietf.org>; Mon, 1 Nov 1999 20:13:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 53702530A; Mon,  1 Nov 1999 18:15:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BB40C5324; Mon,  1 Nov 1999 18:15:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4A873530A
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 18:15:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 18:14:24 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Mon Nov  1 18:13:26 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKJ00IABKJY7G@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon,  1 Nov 1999 23:14:22 +0000 (GMT)
Received: from omzmta03.mcit.com (omzmta03.mcit.com [166.37.194.121])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id XAA16012 for
 <sip@lists.research.bell-labs.com>; Mon, 01 Nov 1999 23:14:20 +0000 (GMT)
Received: from dwillispc4 ([166.35.226.109])
 by omzmta03.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991101223047.EDGX5922@dwillispc4> for
 <sip@lists.research.bell-labs.com>; Mon, 01 Nov 1999 22:30:47 +0000
Date: Mon, 01 Nov 1999 16:32:26 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: SIP-WG Agenda, IETF 46 (DC)
To: IETF SIP <sip@lists.research.bell-labs.com>
Message-id: <003601bf24b8$f9545820$6de223a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Hello there. We have an agenda for the two sessions of the SIP working
group, and it's going to be busy. The following URL should take you to a
nicely-formatted version of the agenda:

http://www.greycouncil.com/sip/sipwg-agenda.html

A textified version follows:

Monday November 8, 1999
0930-1130
-----------------------

Chairs
Agenda Bashing and WG Charter Review
0:10

Chairs
SIP Call termination (Cancel/Bye) and Supported/Unsupported/Desired/Required
0:25

Steve Donovan
SIP INFO Method (WG)
draft-ietf-sip-info-method-00.txt
0:10
Steven.R.Donovan@wcom.com

Eric Zimmerer
Aparna Vemuri
ISUP bodies for SIP messages
draft-zimmerer-sip-isup-mime-00.txt
0:10
Aparna.Vemuri@Level3.com

Eric Zimmerer
Aparna Vemuri
SIP BCP Draft
draft-zimmerer-mmusic-sip-bcp-t-00.txt
0:10
Aparna.Vemuri@Level3.com

Gonzalo Camarillo
SIP-ISUP Mapping
draft-camarillo-mmusic-sip-isup-bcp-00.txt
0:15
Gonzalo.Camarillo@ericsson.com

Lyndon Ong
Mo Zonoun
QSIG body for SIP messages
draft-ong-sip-qsig-mime-00.txt
0:10
long@nortelnetworks.com
mzonoun@nortelnetworks.com

Alan Johnston
Robert Sparks
Call flow examples
draft-johnston-sip-call-flows-00.txt
draft-sparks-sip-service-examples-00.txt
0:10
alan.johnston@wcom.com
robert.sparks@wcom.com

Frans Haerens
Intelligent Network Application Part (INAP) support of the SIP/SDP
Architecture
0:10
frans.haerens@alcatel.be

Wednesday November 20, 1999
1300-1500
---------------------------

Chairs
Intro and Agenda
0:5

Jonathan Rosenberg
Caller Preferences (TBD, WG)
draft-ietf-sip-callerprefs-00.txt
0:10
jdrosen@dynamicsoft.com

Steve Donovan
SIP Session Timer (WG)
draft-ietf-sip-session-timer-00.txt
0:10
Steven.R.Donovan@wcom.com

Steve Donovan
Adam Roach
Early Media in Provisional Responses (WG)
draft-ietf-sip-183-00.txt
0:15
Steven.R.Donovan@wcom.com
Adam.Roach@ericsson.com

Steve Donovan
Diana Rawlins
Henry Sinnreich
Interdomain-SIP-QOS-OSP
draft-sinnreich-interdomain-sip-qos-osp-00.txt
0:10
steven.r.donovan@wcom.com

Mark Gibson
Jon Crowcroft
QOS Reservations
draft-gibson-sip-qos-resv-00.txt
0:10
mrg@nortelnetworks.com
J.Crowcroft@cs.ucl.ac.uk

Jiri Kuthan
DTMF Tones Using SIP Info Method
draft-kuthan-sip-infopayload-00.txt
0:10
jiri.kuthan@wcom.com

Robert Sparks
Authentication through multiple proxies
draft-sparks-sip-multiproxy-auth-00.txt
0:10
robert.sparks@wcom.com

Faramak Vakil
Host Mobility Management Protocol
draft-itsumo-hmmp-00.txt
0:10
farm@research.telcordia.com

Anders Kristensen
SIP Servlet API
draft-kristensen-sip-servlet-00.txt
0:10
ak@hplb.hpl.hp.com

Chairs
Wrap and New Business
0:10


Note: (WG) implies title is a chartered working group topic or topic agreed
to by WG at previous meetings.

--
Dean Willis
SIP WG Co-Chair




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 03:43:50 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA14528
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 03:43:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2460C5326; Tue,  2 Nov 1999 02:55:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8BF7B5327; Tue,  2 Nov 1999 02:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8FCD05326
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 02:55:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov  2 02:53:10 EST 1999
Received: from penguin.wise.edt.ericsson.se ([194.237.142.110]) by dusty; Tue Nov  2 02:52:12 EST 1999
Received: from ebcs08.ebc.ericsson.se (ebcs08.ebc.ericsson.se [130.100.12.8])
	by penguin.wise.edt.ericsson.se (8.9.3/8.9.3/WIREfire-1.5) with ESMTP id IAA27605
	for <sip@lists.research.bell-labs.com>; Tue, 2 Nov 1999 08:53:07 +0100 (MET)
Received: from ebc.ericsson.se (ebcw098.ebc.ericsson.se [130.100.13.139])
	by ebcs08.ebc.ericsson.se (8.8.4/8.8.4) with ESMTP
	id IAA26650 for <sip@lists.research.bell-labs.com>; Tue, 2 Nov 1999 08:53:06 +0100 (MET)
Message-ID: <381E982B.2D85C88A@ebc.ericsson.se>
Date: Tue, 02 Nov 1999 08:52:11 +0100
From: Sanchez Jorge <Jorge.Sanchez@ebc.ericsson.se>
X-Mailer: Mozilla 4.07 [en] (X11; I; SunOS 5.6 sun4u)
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Subject: Require header in SIP messages with QSIG body
Content-Type: multipart/mixed; boundary="------------68604F3AC58F5F8DEE52C39A"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.
--------------68604F3AC58F5F8DEE52C39A
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi all,

I-D "The SIP QSIG/MIME type" does not describe a new value for
"Require:" and
"Proxy-Require:" headers in case of QSIG/SIP interworking, which would
allow services
such as Reliable Transmission of Provisional Responses or the
transmission of tones before
a final connection has been established. This would be quite similar to
the I-D "SIP PSTN
Interworking Umbrella "Require:" Header" proposed by Adam, where
"org.ietf.sip.pstn-interwork" was defined. Since PSTN/SIP interworking
does not imply
necessarily PISN/SIP interworking, a new value like
"org.ietf.sip.pisn-interwork" would be
desirable.
What would be the correct behaviour in case a node which serves as
PISN/SIP interworking
point receives an INVITE with a QSIG RELEASE in the body? Discard the
INVITE or
the RELEASE? I've seen this question arise in the list, but I haven't
seen any document
dealing with it.

Regards,
    Jorge

--------------68604F3AC58F5F8DEE52C39A
Content-Type: text/x-vcard; charset=us-ascii; name="vcard.vcf"
Content-Description: Card for Jorge  Sanchez Conejo
Content-Disposition: attachment; filename="vcard.vcf"
X-MIME-Autoconverted: from 8bit to quoted-printable by penguin.wise.edt.ericsson.se id IAA27605
Content-Transfer-Encoding: quoted-printable

begin:          vcard
fn:             Jorge  Sanchez Conejo
n:              Sanchez Conejo;Jorge=20
org:            NA/EBC/PEEM/RFI
adr:            Augustendalsv=E4gen 21;;Nacka Strand;Stockholm;;;Sweden
email;internet: Jorge.Sanchez@ebc.ericsson.se
title:          System and Software Design MD110
tel;work:       +46 8 4223501
tel;fax:        +46 8 4223350
note;quoted-printable:Ericsson Business Networks AB	=3D
	=3D0D=3D0A=3D
=09
x-mozilla-cpt:  ;0
x-mozilla-html: FALSE
version:        2.1
end:            vcard


--------------68604F3AC58F5F8DEE52C39A--




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 05:27:42 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA17773
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 05:27:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 833E55327; Tue,  2 Nov 1999 05:25:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E0E3B5328; Tue,  2 Nov 1999 05:25:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8B2455327
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 05:25:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov  2 05:24:03 EST 1999
Received: from qhars001.nortel.com ([192.100.101.18]) by dusty; Tue Nov  2 05:23:05 EST 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars001.nortel.com; Tue, 2 Nov 1999 10:22:32 +0000
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <V6SR4660>; Tue, 2 Nov 1999 10:22:29 -0000
Message-ID: <61ABD11436FED21192440000F81F3E36012B706B@nwcwi1a.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Subject: FW: SIP BCP-T
Date: Tue, 2 Nov 1999 10:22:21 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF251C.28E66CC8"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF251C.28E66CC8
Content-Type: text/plain

> All,
> 
> An enhanced definition for the ISUP MIME type is described in:
> 
> http://www.ietf.org/internet-drafts/draft-watson-sip-isup-mime-00.txt
> 
> This includes provision for identifying the base protocol version from
> which the encapsulated ISUP variant is derived. This will allow processing
> of the message at a node which supports the base protocol but not the
> variant.
> 
> Regards,
> 
> Mark Watson
> Nortel Networks
> 
> 
> ----------
> From: 	Aparna.Vemuri@Level3.com
> Sent: 	Monday, November 1, 1999 5:54 pm
> To: 	sip@lists.research.bell-labs.com
> Subject: 	SIP BCP-T
> 
> Hello,
> 
> A new version of the SIP BCP-T Internet draft is available at:
> 
> http://www.ietf.org/internet-drafts/draft-zimmerer-sip-bcp-t-00.txt
> 
> Also, the latest version of the ISUP MIME draft is available at:
> http://www.ietf.org/internet-drafts/draft-zimmerer-sip-isup-mime-00.txt.
> 
> 
> These two will (hopefully) be discussed at the SIP WG session at the IETF
> meet.
> 
> Comments are welcome.
> 
> 
> Thanks,
> Aparna
> 
> Aparna V.
> Level 3 Communications.
> 
> 
> 
> 

------_=_NextPart_001_01BF251C.28E66CC8
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>FW: SIP BCP-T</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">All,</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">An enhanced =
definition for the ISUP MIME type is described in:</FONT>
</P>

<P><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-watson-sip-isup-mime-0=
0.txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-watson-sip-i=
sup-mime-00.txt</A></FONT></U>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">This includes =
provision for identifying the base protocol version from which the =
encapsulated ISUP variant is derived. This will allow processing of the =
message at a node which supports the base protocol but not the =
variant.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">Regards,</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">Mark Watson</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Geneva">Nortel =
Networks</FONT>
</P>
<BR>
<UL>
<P><FONT SIZE=3D2 FACE=3D"Geneva">----------</FONT>
<BR><B><FONT SIZE=3D2 FACE=3D"Geneva">From:</FONT></B> &nbsp; <FONT =
SIZE=3D2 FACE=3D"Geneva">Aparna.Vemuri@Level3.com</FONT>
<BR><B><FONT SIZE=3D2 FACE=3D"Geneva">Sent:</FONT></B> &nbsp; <FONT =
SIZE=3D2 FACE=3D"Geneva">Monday, November 1, 1999 5:54 pm</FONT>
<BR><B><FONT SIZE=3D2 FACE=3D"Geneva">To:</FONT></B> &nbsp;&nbsp;&nbsp; =
<FONT SIZE=3D2 FACE=3D"Geneva">sip@lists.research.bell-labs.com</FONT>
<BR><B><FONT SIZE=3D2 FACE=3D"Geneva">Subject:</FONT></B> =
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT SIZE=3D2 FACE=3D"Geneva">SIP =
BCP-T</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hello,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">A new version of the SIP BCP-T =
Internet draft is available at:</FONT>
</P>

<P><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-zimmerer-sip-bcp-t-00.=
txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-zimmerer-sip=
-bcp-t-00.txt</A></FONT></U>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Also, the latest version of the ISUP =
MIME draft is available at:</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-zimmerer-sip-isup-mime=
-00.txt" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-zimmerer-sip=
-isup-mime-00.txt</A></FONT></U><FONT SIZE=3D2 FACE=3D"Arial">.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">These two will (hopefully) be =
discussed at the SIP WG session at the IETF</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">meet.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Comments are welcome.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Thanks,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Aparna</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Aparna V.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Level 3 Communications.</FONT>
</P>
<BR>
<BR>
<BR>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF251C.28E66CC8--



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 06:25:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA08442
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 06:25:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 35AF25324; Tue,  2 Nov 1999 06:23:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 97C6F5329; Tue,  2 Nov 1999 06:23:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9AB505324
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 06:23:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov  2 06:21:33 EST 1999
Received: from qhars001.nortel.com ([192.100.101.18]) by dusty; Tue Nov  2 06:20:34 EST 1999
Received: from zhard00m.europe.nortel.com (actually zhard00m) 
          by qhars001.nortel.com; Tue, 2 Nov 1999 11:21:12 +0000
Received: by zhard00m.europe.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <V6SR49MZ>; Tue, 2 Nov 1999 11:21:09 -0000
Message-ID: <33E324D95F44D311AA3E00204840075B5500D7@zhard00e.europe.nortel.com>
From: "Mark Gibson" <mrg@nortelnetworks.com>
To: "'John Hopkins'" <J.Hopkins@fujitsu.co.uk>
Cc: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>,
        "'mpls@UU.NET'" <mpls@UU.NET>
Subject: RE: Use of SIP to set up MPLS paths
Date: Tue, 2 Nov 1999 11:21:02 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2524.5C806C16"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2524.5C806C16
Content-Type: text/plain

Hi John, thanks for the feedback. 

I think I'd like to say upfront that what I'd aimed to do with the draft and
obviously not succeeded in doing was to emphasise that the sessions
established across the network I've described do not have to be single
calls. They could be leased line equivalents, trunk groups...

I agree that the setup time may be significant on a per call basis, however
this scheme is not alone in that respect. The area of LSP setup latency is
an area of ongoing interest.

It is my belief, however, that the SIP extensions neatly combine the best
parts of both RSVP and CR-LDP insomuch that it allows for the reservation of
'sessions' (be they calls or groups of calls), allows for the route to be
defined at the edge of the network and allows the network itself to make
intelligent path choices based on the contents of the request message.

Mark

> -----Original Message-----
> From:	John Hopkins [SMTP:J.Hopkins@fujitsu.co.uk]
> Sent:	Monday, November 01, 1999 3:12 PM
> To:	Gibson, Mark [HAL02:HM60:EXCH]
> Cc:	Richard.H.Wilder@wcom.com; lberger@labn.net; Henry Sinnreich; 'Ken
> Carlberg'; sip@lists.research.bell-labs.com; mpls@UU.NET
> Subject:	RE: Use of SIP to set up MPLS paths
> 
> Hi Mark,
> 
> Per-call triggering of path establishment, e.g in support of a voip
> application seems interesting, but delay in establishing the paths might
> be an issue. I would regard "ISUP/SIP" at the top of the figure 1 as a
> application-layer 'call control' protocol in that regard, and the protocol
> to be used in the 'core management' layer of fig 1. as connection control.
> In this respect I would think MPLS LDP or RSVP would be a appropriate
> 'connection control' protocol rather than the combination of SIP and COPS
> shown? 
> 
> One issue is if MPLS CR-LDP or RSVP (or SIP/COPS) can meet the path delay
> establishment requirements of the application. e.g. MPLS has been designed
> with a traffic engineering application in mind, that may have less
> stringent performance requirements than an intended SIP application such
> as VoIP path establishment can tolerate (i.e. where there is a 1-to-1
> relationship between calls and LSP establishment).
> 
> If LSPs are being estabished to support trunks (i.e. a many-to-1 trunkiing
> relationship between sip 'calls' and LSP 'connections') then delays in
> establishing paths would be less critcial, as the lsp setup would become
> an adminstrative procedure applied to engineer traffic for later use by
> the sip application, rather than a 'per-call' operation.
> 
> Has anyone got figures or experience of LSP establishment delays (e.g.
> using CR-LDP) to shed light on its suitablity for per-call or trunking
> usage e.g. in ip-telephony applications?
> 
> John Hopkins
> 
> N.B. .
> If 'per-call' path establishment is felt to be a valid application (i'm
> not sure myself due to the large amount of state implied) and a MPLS
> control plane such as CR-LDP is felt to be too heavy/slow, then there may
> be a case for introducing a lightweight resource reservation for
> isup/sip/h323 applications between the session control and core tramsport
> layers as shown in your diagram. My feeling though is that SIP+COPS might
> be a bit heavyweight.
> 
> http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv-00.txt
>  

------_=_NextPart_001_01BF2524.5C806C16
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: Use of SIP to set up MPLS paths</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Hi John, thanks for =
the feedback. </FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I think I'd like to =
say upfront that what I'd aimed to do with the draft and obviously not =
succeeded in doing was to emphasise that the sessions established =
across the network I've described do not<I> have</I> to be single =
calls. They could be leased line equivalents, trunk =
groups...</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I agree that the =
setup time may be significant on a per call basis, however this scheme =
is not alone in that respect. The area of LSP setup latency is an area =
of ongoing interest.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">It is my belief, =
however, that the SIP extensions neatly combine the best parts of both =
RSVP and CR-LDP insomuch that it allows for the reservation of =
'sessions' (be they calls or groups of calls), allows for the route to =
be defined at the edge of the network and allows the network itself to =
make intelligent path choices based on the contents of the request =
message.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Mark</FONT>
</P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">John Hopkins =
[SMTP:J.Hopkins@fujitsu.co.uk]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Monday, November 01, 1999 3:12 PM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Gibson, Mark [HAL02:HM60:EXCH]</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Cc:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Richard.H.Wilder@wcom.com; lberger@labn.net; Henry =
Sinnreich; 'Ken Carlberg'; sip@lists.research.bell-labs.com; =
mpls@UU.NET</FONT></P>

<P><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">RE: Use of SIP to set up MPLS =
paths</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi Mark,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Per-call triggering of path =
establishment, e.g in support of a voip application seems interesting, =
but delay in establishing the paths might be an issue. I would regard =
&quot;ISUP/SIP&quot; at the top of the figure 1 as a application-layer =
'call control' protocol in that regard, and the protocol to be used in =
the 'core management' layer of fig 1. as connection control. In this =
respect I would think MPLS LDP or RSVP would be a appropriate =
'connection control' protocol rather than the combination of SIP and =
COPS shown? </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">One issue is if MPLS CR-LDP or RSVP =
(or SIP/COPS) can meet the path delay establishment requirements of the =
application. e.g. MPLS has been designed with a traffic engineering =
application in mind, that may have less stringent performance =
requirements than an intended SIP application such as VoIP path =
establishment can tolerate (i.e. where there is a 1-to-1 relationship =
between calls and LSP establishment).</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">If LSPs are being estabished to =
support trunks (i.e. a many-to-1 trunkiing relationship between sip =
'calls' and LSP 'connections') then delays in establishing paths would =
be less critcial, as the lsp setup would become an adminstrative =
procedure applied to engineer traffic for later use by the sip =
application, rather than a 'per-call' operation.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Has anyone got figures or experience =
of LSP establishment delays (e.g. using CR-LDP) to shed light on its =
suitablity for per-call or trunking usage e.g. in ip-telephony =
applications?</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">John Hopkins</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">N.B. .</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">If 'per-call' path establishment is =
felt to be a valid application (i'm not sure myself due to the large =
amount of state implied) and a MPLS control plane such as CR-LDP is =
felt to be too heavy/slow, then there may be a case for introducing a =
lightweight resource reservation for isup/sip/h323 applications between =
the session control and core tramsport layers as shown in your diagram. =
My feeling though is that SIP+COPS might be a bit =
heavyweight.</FONT></P>

<P><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://search.ietf.org/internet-drafts/draft-gibson-sip-qos-resv=
-00.txt" =
TARGET=3D"_blank">http://search.ietf.org/internet-drafts/draft-gibson-si=
p-qos-resv-00.txt</A></FONT></U>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;</FONT>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF2524.5C806C16--



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 08:36:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA25437
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 08:36:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3156F5329; Tue,  2 Nov 1999 08:33:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9E400532A; Tue,  2 Nov 1999 08:33:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 438B45329
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 08:33:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  2 08:32:06 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Tue Nov  2 08:31:03 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id TAA16841
	for <sip@lists.research.bell-labs.com>; Tue, 2 Nov 1999 19:33:05 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 6525681D.004A312E ; Tue, 2 Nov 1999 19:00:22 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <6525681D.00495625.00@sampark.hss.hns.com>
Date: Tue, 2 Nov 1999 19:00:18 +0530
Subject: Received Header
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


Hi, the sip RFC states that an proxy should
check for Via and compare it with the IP address of the receiving datagram
- if they are not equal, a received= must be added.

Now, when a response to this message is to be given, should it be given to
the received address or the Via address ?
It seems logical that it should be received, and is useful for NAT
complications,
but it imposes a problem if say a particular environment has many SIP
applications using a single SIP Stack running independantly on a node -
which may well be the case for limited resource environments.
In this case, the receiving proxy will see that Via shows one IP (of
client) but actual IP address of datagram is that of Stack node and add a
received line with IP of stack node.

Just wanted to know if this means that if receivng proxys will send it to
"received" instead of "Via" then an additonal burden of trying to spoof IP
address at stack node need to be perfirmed (to match that of client node)

Is the understanding of the received header and its implications correct in
the above text or are we thinking too much ?

Regds
Arjun





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 12:27:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA17393
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 12:27:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B572152DF; Tue,  2 Nov 1999 12:25:05 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B894952E0; Tue,  2 Nov 1999 12:25:04 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A3D8A52D5
	for <sip@lists.research.bell-labs.com>; Mon,  1 Nov 1999 23:33:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov  1 23:32:41 EST 1999
Received: from fsnt.future.futsoft.com ([203.197.140.35]) by dusty; Mon Nov  1 23:31:42 EST 1999
Received: from kailash.future.futsoft.com (unverified [203.197.140.36]) by fsnt.future.futsoft.com
 (Integralis SMTPRS 2.04) with ESMTP id <B0001050611@fsnt.future.futsoft.com>;
 Tue, 02 Nov 1999 09:59:33 +0530
Received: from hdf1.future.futsoft.com ([172.16.1.3]) by kailash.future.futsoft.com (8.7.1/8.7.1) with SMTP id KAA25480 for <sip@lists.research.bell-labs.com>; Tue, 2 Nov 1999 10:00:34 +0530
Received: by hdf1.future.futsoft.com with Microsoft Mail
	id <01BF2518.CDB99E40@hdf1.future.futsoft.com>; Tue, 2 Nov 1999 09:58:25 +0530
Message-Id: <01BF2518.CDB99E40@hdf1.future.futsoft.com>
From: Shelon <longzx@future.futsoft.com>
To: "'sip@lists.research.bell-labs.com'" <sip@lists.research.bell-labs.com>
Date: Tue, 2 Nov 1999 09:58:23 +0530
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,  All!
Could somebody tell me how to subscribe this maillist?

Thanks,
Shelon



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 13:15:12 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA03540
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 13:15:11 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8773952EE; Tue,  2 Nov 1999 13:11:29 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E98C252F7; Tue,  2 Nov 1999 13:11:28 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E11DA52EE
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 13:11:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  2 13:10:31 EST 1999
Received: from devonshire.cnchost.com ([207.155.248.12]) by dusty; Tue Nov  2 13:09:32 EST 1999
Received: from scott.metatel.office (metatel.ne.mediaone.net [24.128.100.134])
	by devonshire.cnchost.com
	id NAA29919; Tue, 2 Nov 1999 13:07:01 -0500 (EST)
	[ConcentricHost SMTP Relay 1.8]
Date: Tue, 2 Nov 1999 13:08:44 -0500 (EST)
From: Scott Petrack <scott.petrack@metatel.com>
X-Sender: scott.petrack@scott.metatel.office
To: e164-to-ip@lserv.vocaltec.com, enum@ietf.org
Cc: sip@lists.research.bell-labs.com, confctrl@ISI.EDU
Subject: New ENUM WG and mailing list
Message-ID: <Pine.LNX.4.10.9911021233500.1560-100000@scott.metatel.office>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


ENUM (tElephone NUmber Mapping) has been chartered by the IESG as a WG. 
The description is as follows:

This working group will define a DNS-based architecture and protocols for
mapping a telephone number to a set of attributes (e.g. URLs) which can be
used to contact a resource associated with that number. 

The charter can be read at:
http://www.ietf.org/html.charters/enum-charter.html

A new ENUM mailing list has been set up, and is as of now the official
mailing list of the ENUM WG. The address is enum@ietf.org; to subscribe,
send mail to enum-request@ietf.org. The archive is at:
ftp://ftp.ietf.org/ietf-mail-archive/enum/ 

The e164-to-ip list remains the place for more general discussion of
things; the ENUM list is for the more restricted DNS-based work of ENUM.

You will NOT automatically be transferred from the e164-to-ip list to the
ENUM list, so please do this yourself.

The first WG meeting is scheduled for Monday in Washington. 

For people who were not involved when the WG was formed, it may be helpful
for me to state that this WG is restricted to a DNS-based solution. It is
not that other solutions are not possible or interesting to the IETF --
they are. But THIS working group is chartered to find out the
best possible DNS-based solution. It is certainly an important part of our
work to discover the limitations of DNS-based solutions (should there be
any ;-)). But solutions that are based on other architectures (IETF or
otherwise) are not within our scope.

We have lots of work to do, and very interesting work it is too. I am
looking forward to it, and hope you are too.

Scott




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 16:11:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA10952
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 16:11:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id DF52E52E4; Tue,  2 Nov 1999 16:09:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5818F52E9; Tue,  2 Nov 1999 16:09:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 80EDE52E4
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 16:09:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  2 16:08:33 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Tue Nov  2 16:07:34 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKL00NJE911IN@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue,  2 Nov 1999 21:00:38 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id UAA29622; Tue,
 02 Nov 1999 20:54:58 +0000 (GMT)
Received: from wcom.com ([166.33.132.106])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with ESMTP id <19991102205936.HUCU24613@wcom.com>; Tue,
 02 Nov 1999 20:59:36 +0000
Date: Tue, 02 Nov 1999 14:57:59 -0600
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: I-D Action: SIP Call Flows and Service Examples
To: Rick Workman <rworkman@nortelnetworks.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Message-id: <381F5056.8F627216@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.51 [en] (Win95; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <3814A72D.C14D8CE8@wcom.com> <381726D8.B61A919A@americasm01.nt.com>
 <38176AEE.82ED4B3F@dynamicsoft.com> <3817B6A1.EF541CD0@cs.columbia.edu>
 <38189579.BCD37BE3@wcom.com> <3819B9DF.D3F4C992@americasm01.nt.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

See my notes below.

Rick Workman wrote:
> 
> Alan Johnston wrote:
> 
> > We were reluctant to include the tel URL in this draft since it was still in I-D
> > status, and using sip URLs worked, if not as elegantly.  By the time we make the
> > next revision, it should be an RFC and we will probably change the sip URLs to
> > tels.  We attempted to use sip URLs as #@proxy rather than #@gateway, but we ran
> > into problems populating From headers on incoming calls from the PSTN.  The tel
> > URL will probably solve these issues.
> >
> 
> Just to clarify my position,  I think it makes sense to use SIP URL's in the From headers in
> INVITEs originating from gateways (or any SIP UA for that matter). In the context of that SIP
> session, the From host is the gateway so there's no problem in using #@gateway there, and
> allows the inclusion of tag fields and calling name if necessary. However, the only
> information the gateway has about the destination endpoint is just the dialled digits, so
> "manufacturing" a To host in the gateway is problematical. It's less of a problem for the
> RequestURIs since proxies can change those in course of routing the request, but I see no
> reason why the tel: URL shouldn't optionally be used there as well. This does require that
> proxies support this but this seems fairly fundamental to PSTN interworking (but not really
> an issue if you're not worried about the PSTN).
> 
> > I hope that once the tel URL reaches RFC status, the telephone number handling
> > in sip URLs is again matched to the tel URL.
> >
> 
> I'm not sure why the use of the tel: URL in it's I-D form isn't the same as using the
> proposed 183 response, which arguably is in a less mature state. I guess this depends
> somewhat on  the intent of publishing your call flow draft. As a discussion paper, I think
> it's a valuable and appreciated contibution to the SIP community. If it's intended that it
> evolve to RFC status as a standard for SIP network operation then I think we have to be more
> careful. For example, are the assumptions stated in the first section intended to be
> requirements. If so, what should happen if the assumptions are violated even though the SIP
> protocol usage is valid.

We included the 183 Session Progress response because there was no alternative -
without this response or a suitable header indicating early media, certain IP
Telephony calls will simply fail.  The use of SIP URLs for telephone numbers
does work (if not very elegantly as you and others have pointed out) and is
consistent with the RFC.

As to the document's future status, that is up to the group.  I see it always
remaining as an Informational document, never becoming a standard.  The document
began its life as a "current state" of SIP IP Telephony.  Future versions will
be more forward looking.

Finally, as for the assumptions made, we can discuss them - they are not
intended to be requirements.  Perhaps a section discussing alternative
assumptions and the changes this would entail in the call flows would be useful.

Again, thanks for all your input.

Alan Johnston
MCI WorldCom
+1-314-342-7360
alan.johnston@wcom.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 19:51:48 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA25145
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 19:51:47 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0160852E9; Tue,  2 Nov 1999 19:49:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6B7AE52F7; Tue,  2 Nov 1999 19:49:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id F31F252E9
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 19:49:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  2 19:48:32 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Tue Nov  2 19:47:30 EST 1999
Received: from zrchb200.us.nortel.com (actually zrchb200) 
          by smtprch1.nortel.com; Tue, 2 Nov 1999 17:52:53 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <V65KP7PA>; Tue, 2 Nov 1999 17:52:06 -0600
Message-ID: <52F74DDA50B5D211AF800000F808252101059967@zrchb212.us.nortel.com>
From: "Larry Dolinar" <ldolinar@nortelnetworks.com>
To: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: clarification on CSeq for putting media on hold
Date: Tue, 2 Nov 1999 17:51:51 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF258D.4435D1DC"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF258D.4435D1DC
Content-Type: text/plain

In the updated draft (as well as the RFC) on the SIP spec
(mmusic-sip-new-00), section B.5 talks about setting the SDP connection
address (c=) to 0.0.0.0 to request suspending media streams, but nothing
really touches on any change to CSeq: values.  In most other areas, higher
CSeq values for an existing call leg are used to indicate an update to
session parameters.  Does "update" read as "change in formats" then?
Suspension of existing ones is treated differently?  

Does this more or less force the receiver of the new INVITE to dig all the
way to the payload to find this out?  It seems at variance with the original
intent, but I'm probably misinterpreting the wording, or overlooked an
earlier post.

I mention this since I saw the messaging in
<draft-sparks-sip-service-examples-00.txt> explicitly reuse the same CSeq
value as user B puts A on hold (pg.11).  

   F13 /* User B places User A on hold. */
   INVITE
   B -> Proxy 1

          INVITE sip:UserA@ss1.wcom.com SIP/2.0
          Via: SIP/2.0/UDP there.com:5060
          Route: <sip:UserA@here.com>
          From: TheLittleGuy <sip:UserB@there.com>;tag=314159
          To: TheBigGuy <sip:UserA@here.com>
          Call-Id: 12345601@here.com
>>        CSeq: 1 INVITE
          Contact: TheLittleGuy <sip:UserB@there.com>
          Content-Type: application/sdp
          Content-Length: ...


But when B picks back up, CSeq increases (pg.12).  

          /* User B takes the call off hold */

   F19
   INVITE
   B -> Proxy 1

          INVITE sip:UserA@ss1.wcom.com SIP/2.0
          Via: SIP/2.0/UDP there.com:5060
          Route: <sip:UserA@here.com>
          From: TheLittleGuy <sip:UserB@there.com>;tag=314159
          To: TheBigGuy <sip:UserA@here.com>;tag=1234567
          Call-Id: 12345601@here.com
>>          CSeq: 2 INVITE
          Contact: TheLittleGuy <sip:UserB@there.com>
          Content-Type: application/sdp
          Content-Length: ...

So I'm confused...

thanks in advance,
larry

------_=_NextPart_001_01BF258D.4435D1DC
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2651.14">
<TITLE>clarification on CSeq for putting media on hold</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">In the updated draft (as well as the =
RFC) on the SIP spec (mmusic-sip-new-00), section B.5 talks about =
setting the SDP connection address (c=3D) to 0.0.0.0 to request =
suspending media streams, but nothing really touches on any change to =
CSeq: values.&nbsp; In most other areas, higher CSeq values for an =
existing call leg are used to indicate an update to session =
parameters.&nbsp; Does &quot;update&quot; read as &quot;change in =
formats&quot; then?&nbsp; Suspension of existing ones is treated =
differently?&nbsp; </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Does this more or less force the =
receiver of the new INVITE to dig all the way to the payload to find =
this out?&nbsp; It seems at variance with the original intent, but I'm =
probably misinterpreting the wording, or overlooked an earlier =
post.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I mention this since I saw the =
messaging in &lt;draft-sparks-sip-service-examples-00.txt&gt; =
explicitly reuse the same CSeq value as user B puts A on hold =
(pg.11).&nbsp; </FONT></P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; F13 /* =
User B places User A on hold. */</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; =
INVITE</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; B =
-&gt; Proxy 1</FONT>
</P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
INVITE sip:UserA@ss1.wcom.com SIP/2.0</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Via: SIP/2.0/UDP there.com:5060</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Route: &lt;sip:UserA@here.com&gt;</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
From: TheLittleGuy &lt;sip:UserB@there.com&gt;;tag=3D314159</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
To: TheBigGuy &lt;sip:UserA@here.com&gt;</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Call-Id: 12345601@here.com</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CSeq: =
1 INVITE</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Contact: TheLittleGuy &lt;sip:UserB@there.com&gt;</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Content-Type: application/sdp</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Content-Length: ...</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">But when B picks back up, CSeq =
increases (pg.12).&nbsp; </FONT>
</P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
/* User B takes the call off hold */</FONT>
</P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; =
F19</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; =
INVITE</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 FACE=3D"Arial">&nbsp;&nbsp; B =
-&gt; Proxy 1</FONT>
</P>

<P><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
INVITE sip:UserA@ss1.wcom.com SIP/2.0</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Via: SIP/2.0/UDP there.com:5060</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Route: &lt;sip:UserA@here.com&gt;</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
From: TheLittleGuy &lt;sip:UserB@there.com&gt;;tag=3D314159</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
To: TheBigGuy &lt;sip:UserA@here.com&gt;;tag=3D1234567</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Call-Id: 12345601@here.com</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp; CSeq: 2 INVITE</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Contact: TheLittleGuy &lt;sip:UserB@there.com&gt;</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Content-Type: application/sdp</FONT>
<BR><FONT COLOR=3D"#000000" SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Content-Length: ...</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">So I'm confused...</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">thanks in advance,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">larry</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF258D.4435D1DC--



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 20:21:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA02678
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 20:21:44 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4762152D5; Tue,  2 Nov 1999 20:19:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B18FD52DC; Tue,  2 Nov 1999 20:19:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DDBF152D5
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 20:19:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  2 20:17:59 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Tue Nov  2 20:16:57 EST 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA29455;
	Tue, 2 Nov 1999 20:17:57 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA18188;
	Tue, 2 Nov 1999 20:17:56 -0500 (EST)
Message-ID: <381F8D42.31649565@cs.columbia.edu>
Date: Tue, 02 Nov 1999 20:17:54 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Larry Dolinar <ldolinar@nortelnetworks.com>
Cc: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: Re: clarification on CSeq for putting media on hold
References: <52F74DDA50B5D211AF800000F808252101059967@zrchb212.us.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Each new request for the same call has a new CSeq number, including a
re-INVITE to put media on hold. This is necessary to avoid confusing
different requests. This has to be media-specific, since you may want to
put video on hold, but not audio, or vice versa. Thus, this belongs into
the SDP part, not the SIP message.

> Larry Dolinar wrote:
> 
> In the updated draft (as well as the RFC) on the SIP spec
> (mmusic-sip-new-00), section B.5 talks about setting the SDP
> connection address (c=) to 0.0.0.0 to request suspending media
> streams, but nothing really touches on any change to CSeq: values.  In
> most other areas, higher CSeq values for an existing call leg are used
> to indicate an update to session parameters.  Does "update" read as
> "change in formats" then?  Suspension of existing ones is treated
> differently?
> 
> Does this more or less force the receiver of the new INVITE to dig all
> the way to the payload to find this out?  It seems at variance with
> the original intent, but I'm probably misinterpreting the wording, or
> overlooked an earlier post.
> 
> I mention this since I saw the messaging in
> <draft-sparks-sip-service-examples-00.txt> explicitly reuse the same
> CSeq value as user B puts A on hold (pg.11).
> 
>    F13 /* User B places User A on hold. */
>    INVITE
>    B -> Proxy 1
> 
>           INVITE sip:UserA@ss1.wcom.com SIP/2.0
>           Via: SIP/2.0/UDP there.com:5060
>           Route: <sip:UserA@here.com>
>           From: TheLittleGuy <sip:UserB@there.com>;tag=314159
>           To: TheBigGuy <sip:UserA@here.com>
>           Call-Id: 12345601@here.com
> >>        CSeq: 1 INVITE
>           Contact: TheLittleGuy <sip:UserB@there.com>
>           Content-Type: application/sdp
>           Content-Length: ...
> 
> But when B picks back up, CSeq increases (pg.12).
> 
>           /* User B takes the call off hold */
> 
>    F19
>    INVITE
>    B -> Proxy 1
> 
>           INVITE sip:UserA@ss1.wcom.com SIP/2.0
>           Via: SIP/2.0/UDP there.com:5060
>           Route: <sip:UserA@here.com>
>           From: TheLittleGuy <sip:UserB@there.com>;tag=314159
>           To: TheBigGuy <sip:UserA@here.com>;tag=1234567
>           Call-Id: 12345601@here.com
> >>          CSeq: 2 INVITE
>           Contact: TheLittleGuy <sip:UserB@there.com>
>           Content-Type: application/sdp
>           Content-Length: ...
> 
> So I'm confused...
> 
> thanks in advance,
> larry

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  2 20:24:46 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA03350
	for <sip-archive@odin.ietf.org>; Tue, 2 Nov 1999 20:24:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3F96E52DC; Tue,  2 Nov 1999 20:21:06 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 667A552F7; Tue,  2 Nov 1999 20:21:05 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from nova.dnrc.bell-labs.com (nova [135.180.131.5])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 697DF52DC
	for <sip@lists.research.bell-labs.com>; Tue,  2 Nov 1999 20:20:25 -0500 (EST)
Received: from dnrc.bell-labs.com (igorspc.dnrc.bell-labs.com [135.180.130.146])
	by nova.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id UAA13306;
	Tue, 2 Nov 1999 20:20:21 -0500 (EST)
Message-ID: <381F906A.7FB30FF6@dnrc.bell-labs.com>
Date: Tue, 02 Nov 1999 20:31:22 -0500
From: Igor Slepchin <igors@dnrc.bell-labs.com>
Organization: Bell Labs
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en,ru
MIME-Version: 1.0
To: Larry Dolinar <ldolinar@nortelnetworks.com>
Cc: "SIP Mailing List (E-mail)" <sip@lists.research.bell-labs.com>
Subject: Re: clarification on CSeq for putting media on hold
References: <52F74DDA50B5D211AF800000F808252101059967@zrchb212.us.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> Larry Dolinar wrote:
> 
> In the updated draft (as well as the RFC) on the SIP spec
> (mmusic-sip-new-00), section B.5 talks about setting the SDP
> connection address (c=) to 0.0.0.0 to request suspending media
> streams, but nothing really touches on any change to CSeq: values.  In
> most other areas, higher CSeq values for an existing call leg are used
> to indicate an update to session parameters.  Does "update" read as
> "change in formats" then?  Suspension of existing ones is treated
> differently?

There is no exception here to the general rule that new request means
higher CSeq, that's why CSeq is not mentioned in B.5.
 
> I mention this since I saw the messaging in
> <draft-sparks-sip-service-examples-00.txt> explicitly reuse the same
> CSeq value as user B puts A on hold (pg.11).
> 
>    F13 /* User B places User A on hold. */
>    INVITE
>    B -> Proxy 1
> 
>           INVITE sip:UserA@ss1.wcom.com SIP/2.0
>           Via: SIP/2.0/UDP there.com:5060
>           Route: <sip:UserA@here.com>
>           From: TheLittleGuy <sip:UserB@there.com>;tag=314159
>           To: TheBigGuy <sip:UserA@here.com>
>           Call-Id: 12345601@here.com
> >>        CSeq: 1 INVITE
>           Contact: TheLittleGuy <sip:UserB@there.com>
>           Content-Type: application/sdp
>           Content-Length: ...


This is the first request sent from B to A, and CSeq numbering spaces in
both directions are independent. So there is no violation of the
protocol here. However, there is a CSeq-related mistake in that
scenario: the first INVITE from A to Proxy1 and the second INVITE sent
by A in response to the challenge received from Proxy A both have a CSeq
of 1 - this is wrong, CSeq should be incremented.
 
---
Igor Slepchin



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 09:33:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA01394
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 09:33:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6581852F7; Wed,  3 Nov 1999 09:29:47 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1005752FE; Wed,  3 Nov 1999 09:29:39 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 804A752E1
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 09:29:12 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov  3 00:04:15 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov  3 00:03:14 EST 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: 1Cust245.tnt1.freehold.nj.da.uu.net [63.17.113.245])
	id QQhnro16042;
	Wed, 3 Nov 1999 05:08:00 GMT
Message-ID: <381FC2B3.AE6D6696@dynamicsoft.com>
Date: Wed, 03 Nov 1999 00:05:55 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: archow@hss.hns.com
Cc: sip@lists.research.bell-labs.com
Subject: Re: Received Header
References: <6525681D.00495625.00@sampark.hss.hns.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



archow@hss.hns.com wrote:
> 
> Hi, the sip RFC states that an proxy should
> check for Via and compare it with the IP address of the receiving datagram
> - if they are not equal, a received= must be added.
> 
> Now, when a response to this message is to be given, should it be given to
> the received address or the Via address ?

Received address. Otherwise, why bother recording it in the via header?

> It seems logical that it should be received, and is useful for NAT
> complications,
> but it imposes a problem if say a particular environment has many SIP
> applications using a single SIP Stack running independantly on a node -
> which may well be the case for limited resource environments.
> In this case, the receiving proxy will see that Via shows one IP (of
> client) but actual IP address of datagram is that of Stack node and add a
> received line with IP of stack node.

Thats fine. On your "stack node", each instance can use a different
port. The received tag applies only to the IP address; the port is still
whatever is in the Via header itself (5060 if not specified).

> 
> Just wanted to know if this means that if receivng proxys will send it to
> "received" instead of "Via" then an additonal burden of trying to spoof IP
> address at stack node need to be perfirmed (to match that of client node)

I don't understand what you mean by spoofing the IP address of the stack
node. Who is spoofing what address, and why?

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 210 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 09:34:57 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA02172
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 09:34:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id EECBF52F3; Wed,  3 Nov 1999 09:30:07 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 061D052E6; Wed,  3 Nov 1999 09:30:05 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7914D52F3
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 09:29:15 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov  3 09:26:01 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Nov  3 09:24:59 EST 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id JAA19442;
	Wed, 3 Nov 1999 09:25:59 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id JAA16643;
	Wed, 3 Nov 1999 09:25:58 -0500 (EST)
Message-ID: <382045F4.B40E6346@cs.columbia.edu>
Date: Wed, 03 Nov 1999 09:25:56 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
Cc: Dean Willis <dean.willis@wcom.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: Network authentication
References: <003501bf247c$ccfc61a0$55fa403f@directlink.net>
		<381DBB86.F9C82287@cs.columbia.edu> <14368.16748.961571.177484@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Michael Thomas wrote:
> 
> If I am not mistaken, SSL only runs on a stream
> transport (read: TCP). For ALF based SIP's, that's
> a problem.

Many SIP implementations can use either UDP or TCP. Indeed, one reason
for supporting TCP (besides signaling trunks) is the ability to use SSL.
Use of SSL over UDP hasn't been done yet, although I don't see this as
requiring more than dealing with mapping SSL messages to UDP datagrams.

Another possibility for security, largely unexplored, is the use of
shttp-like techniques (RFC 2660). My impression is that this isn't
widely used, though.


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 09:40:19 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA06096
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 09:40:17 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id EF7A752DE; Wed,  3 Nov 1999 09:37:49 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2472F52F4; Wed,  3 Nov 1999 09:37:48 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E92F052DE
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 09:37:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov  3 09:04:21 EST 1999
Received: from sj-mailhub-2.cisco.com ([171.69.43.88]) by dusty; Wed Nov  3 09:03:20 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-2.cisco.com (8.9.1a/8.9.1) with ESMTP id GAA07134;
	Wed, 3 Nov 1999 06:04:29 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id GAA09549; Wed, 3 Nov 1999 06:04:10 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14368.16602.84745.983477@thomasm-u1.cisco.com>
Date: Wed, 3 Nov 1999 06:04:10 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Jerry Teahan <teahanj@nortelnetworks.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Security and SIP
In-Reply-To: <381DA9F3.9BAE30F2@dynamicsoft.com>
References: <95F43C4FA359D311A8830008C791861E4038FF@ZVB1C002>
	<381DA9F3.9BAE30F2@dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


I am skeptical that the current SIP spec will be
sufficient for a carrier class solution. There are
at least two big problems:

1) Restart avalanches at proxy's
2) PDD using DH-like schemes in the call path

(1) Probably ought to look at the packetcable
solution using PKINIT Kerberos.

(2) somewhat implies that in order to improve the
PDD, the proxy must broker e-2-e key distribution
if the flows is:

SIP->SIPProxy-o->SIPProxy-t->SIP 

which later leads to 

SIP->SIP 

to complete the call. The later is problematic
because you cannot have a fully meshed topology of
SA's for the SIP endpoints, even though you can
have a star topology with the SIP's to their
proxy's (well, that's the theory in very high
fanout at least).

Naively,  SIP->SIP would probably want to do some
sort of ephemeral-ephemeral DH exchange, and
maybe a certificate exchange which is pretty
slow. If we take advantage of the transitive
trust relationship between the SIP's and their
proxy's, we can broker a shared secret for the
e-2-e signaling.

This isn't to say that you'd *always* want to
make that tradeoff -- we certainly shouldn't
preclude the SIP's paying the PDD penalty if
they want to keep their service provider out
of their business (and by extention, LEA's).
However, this is probably a reasonable extention
in cases where PDD (and, perhaps CALEA) are
concerns.

			Mike


Jonathan Rosenberg writes:
 > SIP security is specified within the SIP spec itself, RFC2543. The
 > security mechanisms include basic and digest authentication (based 
 > on http) and PGP for both encryption, authentication, and proxy
 > authentication.
 > 
 > -Jonathan R.
 > 
 > > Jerry Teahan wrote:
 > > 
 > > Where can I find out more about security and SIP.
 > > H.323 uses 235 but what does SIP use ?
 > > thanks
 > > Jerry
 > 
 > -- 
 > Jonathan D. Rosenberg                       200 Executive Drive
 > Chief Scientist                             Suite 210 
 > dynamicsoft                                 West Orange, NJ 07052
 > jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
 > http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
 > http://www.dynamicsoft.com
 > 
 > 
 > 



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 09:43:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA07833
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 09:43:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8320352F4; Wed,  3 Nov 1999 09:41:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E2EF452E6; Wed,  3 Nov 1999 09:41:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 64CB252F5
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 09:41:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov  3 09:07:15 EST 1999
Received: from sj-mailhub-3.cisco.com ([171.68.224.215]) by dusty; Wed Nov  3 09:06:14 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-3.cisco.com (8.9.1a/8.9.1) with ESMTP id GAA20752;
	Wed, 3 Nov 1999 06:13:29 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id GAA09552; Wed, 3 Nov 1999 06:06:37 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14368.16748.961571.177484@thomasm-u1.cisco.com>
Date: Wed, 3 Nov 1999 06:06:36 -0800 (PST)
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Dean Willis <dean.willis@wcom.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: Network authentication
In-Reply-To: <381DBB86.F9C82287@cs.columbia.edu>
References: <003501bf247c$ccfc61a0$55fa403f@directlink.net>
	<381DBB86.F9C82287@cs.columbia.edu>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


If I am not mistaken, SSL only runs on a stream
transport (read: TCP). For ALF based SIP's, that's
a problem.

		Mike

Henning Schulzrinne writes:
 > Dean Willis wrote:
 > > 
 > > If I understand your qustion, you're asking how does a UAC validate the
 > > authenticity of a network element which has challenged the UAC?
 > > 
 > > I am currently unaware of any explicitly defined SIP-way to do this. Two
 > > options come to mind:
 > > 
 > > 1) With a PKI, have the network element attach a signature to its 401 or 407
 > > 
 > > 2) As DCS suggests, use IPSEC and push the network security problem to the
 > > network layer.
 > > 
 > > As we have neither a widely deployed PKI nor widely available working IPSEC,
 > > neither option made it into the examples. The suggestion box is open . . .
 > > 
 > 
 > I assume the reason you worry about this is because somebody might trick
 > you into registering with the wrong server and thus gain access to
 > location information, for example. Any other vulnerabilities?
 > 
 > SSL seems like the right solution. Widely available and can re-use
 > existing keys.
 > 
 > It wouldn't be too hard to "reverse" digest authentication. One could
 > ask for a signed response for an OPTIONS and then use the same TCP
 > connection to register.
 > 
 > -- 
 > Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
 > 
 > 
 > 



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 14:53:03 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA20065
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 14:53:00 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7B73A52DE; Wed,  3 Nov 1999 14:49:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EB16852E0; Wed,  3 Nov 1999 14:49:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 485FD52DE
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 14:49:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov  3 14:48:21 EST 1999
Received: from mail.rdc1.sfba.home.com ([24.0.0.66]) by dusty; Wed Nov  3 14:47:20 EST 1999
Received: from C721458A ([24.5.218.194]) by mail.rdc1.sfba.home.com
          (InterMail v4.01.01.00 201-229-111) with SMTP
          id <19991103194816.DKSZ11261.mail.rdc1.sfba.home.com@C721458A>
          for <sip@lists.research.bell-labs.com>;
          Wed, 3 Nov 1999 11:48:16 -0800
Message-ID: <00d801bf2634$6a93f6e0$c2da0518@pinol1.sfba.home.com>
From: "Yu Shen" <yushen@home.com>
To: <sip@lists.research.bell-labs.com>
Subject: Where are the headers of "Reqested-By" and "Also" defined?
Date: Wed, 3 Nov 1999 11:48:33 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00D5_01BF25F1.5AFF73A0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_00D5_01BF25F1.5AFF73A0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

In reading ID "SIP Telephony Services Examples with Call Flows" =
(draft-sparks-sip-service-exaples-00), I found the use of the headers =
"Also" and "Requested-By" in call transfer. But I could not find them =
defined in SIP, RFC 2543. They are not listed as extension from the RFC =
2543 either.=20

I guess that it may be defined in "H. Schulzrinne, J. Roseberg, SIP Call =
Control Servcies, Internet Draft, IETF, June 17, 99, work in progress". =
However, I could not find the document in the IETF ID directory.

Yu Shen
UTStarCom

------=_NextPart_000_00D5_01BF25F1.5AFF73A0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2721.2900" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>In reading ID "SIP Telephony Services =
Examples with=20
Call Flows" (draft-sparks-sip-service-exaples-00), I found the use of =
the=20
headers "Also" and "Requested-By" in call transfer. But I could not find =
them=20
defined in SIP, RFC 2543.</FONT><FONT face=3DArial> They are not listed =
as=20
extension from the RFC 2543 either. </FONT></DIV>
<DIV><FONT face=3DArial></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial>I guess that it may be defined in "H. =
Schulzrinne, J.=20
Roseberg, SIP Call Control Servcies, Internet Draft, IETF, June 17, 99, =
work in=20
progress". However, I could not find the document in the IETF ID=20
directory.</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>Yu Shen</FONT></DIV>
<DIV><FONT face=3DArial>UTStarCom</FONT></DIV></BODY></HTML>

------=_NextPart_000_00D5_01BF25F1.5AFF73A0--




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 15:07:31 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA27523
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 15:07:30 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 786EE52E0; Wed,  3 Nov 1999 15:05:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E83C152E1; Wed,  3 Nov 1999 15:05:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 40E2A52E0
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 15:05:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov  3 15:03:56 EST 1999
Received: from eyeforthefuture.com ([216.122.88.2]) by dusty; Wed Nov  3 15:02:55 EST 1999
Received: from [208.61.16.44] (adsl-61-16-44.mia.bellsouth.net [208.61.16.44])
	by eyeforthefuture.com (8.8.7/8.8.5) with ESMTP id MAA24766;
	Wed, 3 Nov 1999 12:04:07 -0800 (PST)
Message-Id: <199911032004.MAA24766@eyeforthefuture.com>
X-Mailer: Microsoft Outlook Express Macintosh Edition - 4.5 (0410)
Date: Wed, 03 Nov 1999 15:03:49 -0500
Subject: Re: Where are the headers of "Reqested-By" and "Also" defined?
From: "David Shrader" <DShrader@EyeForTheFuture.com>
To: Yu Shen <yushen@home.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Mime-version: 1.0
X-Priority: 3
Content-type: multipart/alternative;
   boundary="MS_Mac_OE_3024486229_470815_MIME_Part"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

> THIS MESSAGE IS IN MIME FORMAT. Since your mail reader does not understand
this format, some or all of this message may not be legible.

--MS_Mac_OE_3024486229_470815_MIME_Part
Content-type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Try looking for I-D <draft-ietf-mmusic-sip-cc-01.txt>


----------------------------
David Shrader
Master Consultant, Inc.
DShrader@EyeForTheFuture.com

----------
From: "Yu Shen" <yushen@home.com>
To: <sip@lists.research.bell-labs.com>
Subject: Where are the headers of "Reqested-By" and "Also" defined?
Date: Wed, Nov 3, 1999, 2:48 PM


In reading ID "SIP Telephony Services Examples with Call Flows"
(draft-sparks-sip-service-exaples-00), I found the use of the headers "Also"
and "Requested-By" in call transfer. But I could not find them defined in
SIP, RFC 2543. They are not listed as extension from the RFC 2543 either.

I guess that it may be defined in "H. Schulzrinne, J. Roseberg, SIP Call
Control Servcies, Internet Draft, IETF, June 17, 99, work in progress".
However, I could not find the document in the IETF ID directory.

Yu Shen
UTStarCom


--MS_Mac_OE_3024486229_470815_MIME_Part
Content-type: text/html; charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<HTML>
<HEAD>
<TITLE>Re: Where are the headers of &quot;Reqested-By&quot; and &quot;Also&=
quot; defined?</TITLE>
</HEAD>
<BODY BGCOLOR=3D"#FFFFFF">
Try looking for I-D &lt;draft-ietf-mmusic-sip-cc-01.txt&gt;<BR>
<BR>
<BR>
----------------------------<BR>
David Shrader<BR>
Master Consultant, Inc.<BR>
DShrader@EyeForTheFuture.com<BR>
<BR>
----------<BR>
From: &quot;Yu Shen&quot; &lt;yushen@home.com&gt;<BR>
To: &lt;sip@lists.research.bell-labs.com&gt;<BR>
Subject: Where are the headers of &quot;Reqested-By&quot; and &quot;Also&qu=
ot; defined?<BR>
Date: Wed, Nov 3, 1999, 2:48 PM<BR>
<BR>
<BR>
<BLOCKQUOTE><FONT SIZE=3D"2"><FONT FACE=3D"Arial">In reading ID &quot;SIP Telep=
hony Services Examples with Call Flows&quot; (draft-sparks-sip-service-exapl=
es-00), I found the use of the headers &quot;Also&quot; and &quot;Requested-=
By&quot; in call transfer. But I could not find them defined in SIP, RFC 254=
3.</FONT></FONT><FONT FACE=3D"Arial"> They are not listed as extension from th=
e RFC 2543 either. <BR>
</FONT>&nbsp;<BR>
<FONT FACE=3D"Arial">I guess that it may be defined in &quot;H. Schulzrinne, =
J. Roseberg, SIP Call Control Servcies, Internet Draft, IETF, June 17, 99, w=
ork in progress&quot;. However, I could not find the document in the IETF ID=
 directory.<BR>
</FONT>&nbsp;<BR>
<FONT FACE=3D"Arial">Yu Shen<BR>
UTStarCom<BR>
</FONT><BR>
</BLOCKQUOTE>
</BODY>
</HTML>

--MS_Mac_OE_3024486229_470815_MIME_Part--




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov  3 16:25:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA01967
	for <sip-archive@odin.ietf.org>; Wed, 3 Nov 1999 16:25:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4F25752BB; Wed,  3 Nov 1999 16:23:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AD36A52DB; Wed,  3 Nov 1999 16:23:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4AA7952BB
	for <sip@lists.research.bell-labs.com>; Wed,  3 Nov 1999 16:23:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov  3 16:22:33 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Wed Nov  3 16:21:30 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FKN00K6D46NVN@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Wed,  3 Nov 1999 21:11:12 +0000 (GMT)
Received: from omzexch006.mcit.com (OMZEXCH006.mcit.com [166.37.194.37])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id VAA31198; Wed,
 03 Nov 1999 21:06:27 +0000 (GMT)
Received: by omzexch006 with Internet Mail Service (5.5.2571.0)
	id <V5DHBK13>; Wed, 03 Nov 1999 21:10:56 +0000
Content-return: allowed
Date: Wed, 03 Nov 1999 21:11:04 +0000
From: "Vakil, Mohammad (c)" <Mohammad.Vakil@wcom.com>
Subject: RE: Where are the headers of "Reqested-By" and "Also" defined?
To: Yu Shen <yushen@home.com>, David Shrader <DShrader@EyeForTheFuture.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Message-id: <6F106FFAB7D1D211A25C0000F80924D20233ADA4@omzexch010.mcit.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2571.0)
Content-type: multipart/alternative;
	boundary="----_=_NextPart_001_01BF263F.EB0DB062"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF263F.EB0DB062
Content-Type: text/plain;
	charset="iso-8859-1"

They're defined in SIP Call Control Services. 

draft-ietf-mmusic-sip-cc-01.txt
<http://search.ietf.org/internet-drafts/draft-ietf-mmusic-sip-cc-01.txt> 

Following discussion would be helpful about the BNF of these headers.

Mohammad Vakil
MCI Worldcom
Multimedia Services Engineering
972-7297117


No, it wasn't explicit. Probably because I wrote the BNF too quickly. It
should definitely be name-addr | addr-spec, with the same rules regarding
which one to use as normal SIP.
*	Jonathan R.

Robert Sparks wrote:
	>
	> draft-ietf-mmusic-sip-cc-01 currently calls for name-addr when it
needs
	> addresses in the Also: and Requested-By: headers. Did you
explicitly
choose
	> not to allow the (name-addr|addr-spec) construct used by
To:,From:, and
	> Contact:?
	>
	> Robert Sparks
	> MultiMedia Services Engineering
	> MCI Worldcom

	----------
	From:  David Shrader [SMTP:DShrader@EyeForTheFuture.com]
	Sent:  Wednesday, November 03, 1999 2:04 PM
	To:  Yu Shen
	Cc:  SIP List
	Subject:  Re: Where are the headers of "Reqested-By" and "Also"
defined?

	Try looking for I-D <draft-ietf-mmusic-sip-cc-01.txt>
	
	
	----------------------------
	David Shrader
	Master Consultant, Inc.
	DShrader@EyeForTheFuture.com
	
	----------
	From: "Yu Shen" <yushen@home.com>
	To: <sip@lists.research.bell-labs.com>
	Subject: Where are the headers of "Reqested-By" and "Also" defined?
	Date: Wed, Nov 3, 1999, 2:48 PM
	
	
	

		In reading ID "SIP Telephony Services Examples with Call
Flows" (draft-sparks-sip-service-exaples-00), I found the use of the headers
"Also" and "Requested-By" in call transfer. But I could not find them
defined in SIP, RFC 2543. They are not listed as extension from the RFC 2543
either. 
		 
		I guess that it may be defined in "H. Schulzrinne, J.
Roseberg, SIP Call Control Servcies, Internet Draft, IETF, June 17, 99, work
in progress". However, I could not find the document in the IETF ID
directory.
		 
		Yu Shen
		UTStarCom
		
		
	

------_=_NextPart_001_01BF263F.EB0DB062
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2569.0">
<TITLE>RE: Where are the headers of &quot;Reqested-By&quot; and =
&quot;Also&quot; defined?</TITLE>
</HEAD>
<BODY BGCOLOR=3D"#FFFFFF">

<P><FONT SIZE=3D2 FACE=3D"Arial">They're defined in SIP Call Control =
Services. </FONT>
</P>

<P><A =
HREF=3D"http://search.ietf.org/internet-drafts/draft-ietf-mmusic-sip-cc-=
01.txt"><U><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">draft-ietf-mmusic-sip-cc-01.txt</FONT></U></A>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Following discussion would be helpful =
about the BNF of these headers.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Mohammad Vakil</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">MCI Worldcom</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Multimedia Services =
Engineering</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">972-7297117</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">No, it wasn't explicit. Probably =
because I wrote the BNF too quickly. It should definitely be name-addr =
| addr-spec, with the same rules regarding which one to use as normal =
SIP.</FONT></P>

<UL><LI><FONT SIZE=3D2 FACE=3D"Arial">Jonathan R.</FONT></LI>
<BR>
</UL>
<P><FONT SIZE=3D2 FACE=3D"Arial">Robert Sparks wrote:</FONT>
<UL>
<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier =
New">draft-ietf-mmusic-sip-cc-01 currently calls for name-addr when it =
needs</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">addresses in the =
Also: and Requested-By: headers. Did you explicitly</FONT>
</UL>
<P><FONT SIZE=3D2 FACE=3D"Arial">choose</FONT>
<UL>
<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">not to allow the =
(name-addr|addr-spec) construct used by To:,From:, and</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">Contact:?</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">Robert =
Sparks</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">MultiMedia =
Services Engineering</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">&gt;</FONT> =
<FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Courier New">MCI =
Worldcom</FONT>
</P>

<P><A NAME=3D"_MailData"><FONT SIZE=3D2 =
FACE=3D"Arial">----------</FONT></A>
<BR><B><FONT SIZE=3D2 FACE=3D"Arial">From:&nbsp; David Shrader =
[SMTP:DShrader@EyeForTheFuture.com]</FONT></B>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Sent:&nbsp; Wednesday, November 03, =
1999 2:04 PM</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">To:&nbsp; Yu Shen</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Cc:&nbsp; SIP List</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Subject:&nbsp; Re: Where are the =
headers of &quot;Reqested-By&quot; and &quot;Also&quot; =
defined?</FONT><B></B><B></B>
</P>

<P><FONT FACE=3D"Arial">Try looking for I-D =
&lt;draft-ietf-mmusic-sip-cc-01.txt&gt;<BR>
<BR>
<BR>
----------------------------<BR>
David Shrader<BR>
Master Consultant, Inc.<BR>
DShrader@EyeForTheFuture.com<BR>
<BR>
----------<BR>
From: &quot;Yu Shen&quot; &lt;yushen@home.com&gt;<BR>
To: &lt;sip@lists.research.bell-labs.com&gt;<BR>
Subject: Where are the headers of &quot;Reqested-By&quot; and =
&quot;Also&quot; defined?<BR>
Date: Wed, Nov 3, 1999, 2:48 PM<BR>
<BR>
<BR>
</FONT>
</P>
<UL>
<P><FONT SIZE=3D2 FACE=3D"Arial">In reading ID &quot;SIP Telephony =
Services Examples with Call Flows&quot; =
(draft-sparks-sip-service-exaples-00), I found the use of the headers =
&quot;Also&quot; and &quot;Requested-By&quot; in call transfer. But I =
could not find them defined in SIP, RFC 2543.</FONT><FONT =
FACE=3D"Arial"> They are not listed as extension from the RFC 2543 =
either.<BR>
=A0<BR>
I guess that it may be defined in &quot;H. Schulzrinne, J. Roseberg, =
SIP Call Control Servcies, Internet Draft, IETF, June 17, 99, work in =
progress&quot;. However, I could not find the document in the IETF ID =
directory.<BR>
=A0<BR>
Yu Shen<BR>
UTStarCom<BR>
<BR>
</FONT>
</UL>
<P>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF263F.EB0DB062--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov  4 18:33:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA14369
	for <sip-archive@odin.ietf.org>; Thu, 4 Nov 1999 18:33:53 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D241352E0; Thu,  4 Nov 1999 18:31:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 357D952E1; Thu,  4 Nov 1999 18:31:25 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1A7B352E0
	for <sip@lists.research.bell-labs.com>; Thu,  4 Nov 1999 18:31:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov  4 18:29:32 EST 1999
Received: from sj-mailhub-3.cisco.com ([171.68.224.215]) by dusty; Thu Nov  4 18:28:32 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-3.cisco.com (8.9.1a/8.9.1) with ESMTP id PAA12937;
	Thu, 4 Nov 1999 15:36:02 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id PAA09874; Thu, 4 Nov 1999 15:28:57 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14370.5817.777629.401159@thomasm-u1.cisco.com>
Date: Thu, 4 Nov 1999 15:28:57 -0800 (PST)
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Michael Thomas <mat@cisco.com>, Dean Willis <dean.willis@wcom.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: Network authentication
In-Reply-To: <382045F4.B40E6346@cs.columbia.edu>
References: <003501bf247c$ccfc61a0$55fa403f@directlink.net>
	<381DBB86.F9C82287@cs.columbia.edu>
	<14368.16748.961571.177484@thomasm-u1.cisco.com>
	<382045F4.B40E6346@cs.columbia.edu>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Henning Schulzrinne writes:
 > > If I am not mistaken, SSL only runs on a stream
 > > transport (read: TCP). For ALF based SIP's, that's
 > > a problem.
 > 
 > Many SIP implementations can use either UDP or TCP. Indeed, one reason
 > for supporting TCP (besides signaling trunks) is the ability to use SSL.
 > Use of SSL over UDP hasn't been done yet, although I don't see this as
 > requiring more than dealing with mapping SSL messages to UDP datagrams.

   This strikes me as the tail wagging the dog. 
   A deployment should choose a transport and then
   figure out how to secure it rather than the
   other way around. 

	     Mike



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov  4 22:52:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA13465
	for <sip-archive@odin.ietf.org>; Thu, 4 Nov 1999 22:52:12 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3E75652DE; Thu,  4 Nov 1999 22:49:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 98CAA52E3; Thu,  4 Nov 1999 22:49:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3B8B852DE
	for <sip@lists.research.bell-labs.com>; Thu,  4 Nov 1999 22:49:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov  4 22:47:22 EST 1999
Received: from eyeforthefuture.com ([216.122.88.2]) by dusty; Thu Nov  4 22:46:21 EST 1999
Received: from [208.61.16.44] (adsl-61-16-44.mia.bellsouth.net [208.61.16.44])
	by eyeforthefuture.com (8.8.7/8.8.5) with ESMTP id TAA14511
	for <sip@lists.research.bell-labs.com>; Thu, 4 Nov 1999 19:47:32 -0800 (PST)
Message-Id: <199911050347.TAA14511@eyeforthefuture.com>
X-Mailer: Microsoft Outlook Express Macintosh Edition - 4.5 (0410)
Date: Thu, 04 Nov 1999 22:47:17 -0500
Subject: Multiparty Calls
From: "David Shrader" <DShrader@EyeForTheFuture.com>
To: SIP List <sip@lists.research.bell-labs.com>
Mime-version: 1.0
X-Priority: 3
Content-type: text/plain; charset="US-ASCII"
Content-transfer-encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I've been reviewing the proposals in the call control services I-D about the
use of SIP for multiparty calling scenarios. I think the requirements
descriptions for the various types of calls are really good. I'm having
difficulty with the proposed implementation of those requirements using SIP.

I think I can make the method proposed for handling the multiparty calling
work when the streams are being mixed and managed directly by the endpoint.
It appears that the protocol allows any multiparty call scenario to
stabilize after a short time and that the distributed method works. However,
the models that involve a server cause me some difficulty. There appears to
a window in which the an endpoint cannot determine exactly what is being
received on a given media stream, so it cannot properly handle it. For
example, if A is talking with B; A sets up another call with C; Then A
bridges them all together. The distributed approach leads to a mesh of media
streams between A, B, and C. Each recipient has enough knowledge to know
that the appropriate action is to mix the two input streams for playback to
the user.

If one of the parties invites a server to perform the bridging and then all
parties invite the server, the text indicates that a two stage process is
performed. A connection is not replaced until you are sure the user's input
is being mixed through the server. As a result, it looks like there is a
window in which a recipient could be receiving both an input stream from a
conference server that contains A's voice and the recipient could be
receiving a direct stream containing A's voice. The mixing of that could
cause problems and may not produce correct results.

I don't know if there is a solution to this, but maybe there needs to be
some text added to the requirements related to the impact on the recipient's
interpretation of received input streams.

Any thoughts on this topic?
David


----------------------------
David Shrader
Master Consultant, Inc.
DShrader@EyeForTheFuture.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 03:17:48 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA20689
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 03:17:47 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 190F652E3; Fri,  5 Nov 1999 03:15:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7DBE552E6; Fri,  5 Nov 1999 03:15:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CBDDA52E3
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 03:15:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 03:13:55 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov  5 03:12:54 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id KAA22854;
	Fri, 5 Nov 1999 10:14:18 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.73.233])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id KAA25913;
	Fri, 5 Nov 1999 10:13:42 +0200 (EET)
Message-ID: <382291B8.E04643C@lmf.ericsson.se>
Date: Fri, 05 Nov 1999 10:13:44 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: schulzrinne@cs.columbia.edu
Cc: dean.willis@wcom.com, sip@lists.research.bell-labs.com
Subject: Re: Network authentication
References: <381DBB86.F9C82287@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

schulzrinne@cs.columbia.edu wrote:

> I assume the reason you worry about this is because somebody might trick
> you into registering with the wrong server and thus gain access to
> location information, for example. Any other vulnerabilities?

If we assume that the user is authenticated by the network, and we trust
everything coming from the network (the SIP proxy), the "bad" SIP proxy
would make you think that the other party is busy, or that the
other-party is not willing to join the session (denial of service).

It could also make you think that you are having a session with your
bank and this way get some confidential information. (If the SIP proxy
tells me that I am talking to my bank, I will trust it).

I will negociate end to end user plane encryption with a "bad" end user.
They could record the voice mail that I think I am leaving in my
friend's answering machine...

I believe we need to use end-to-end authentication and network-to-end
user also. Not just end user-to-network.

Regards,

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 06:41:51 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA06026
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 06:41:50 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BC66552E0; Fri,  5 Nov 1999 06:39:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1FED152E1; Fri,  5 Nov 1999 06:39:25 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A7A6F52E0
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 06:39:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 06:37:09 EST 1999
Received: from mail.transnexus.com ([209.144.152.22]) by dusty; Fri Nov  5 06:36:08 EST 1999
Received: (qmail 8097 invoked from network); 5 Nov 1999 11:42:39 -0000
Received: from unknown (HELO stephen) (172.16.3.7)
  by 192.168.1.130 with SMTP; 5 Nov 1999 11:42:39 -0000
Message-ID: <00a501bf2782$2a31c600$070310ac@stephen>
From: "Stephen Thomas" <stephen.thomas@transnexus.com>
To: "Michael Thomas" <mat@cisco.com>,
        "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>
Cc: "Michael Thomas" <mat@cisco.com>, "Dean Willis" <dean.willis@wcom.com>,
        "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <sip@lists.research.bell-labs.com>
References: <003501bf247c$ccfc61a0$55fa403f@directlink.net><381DBB86.F9C82287@cs.columbia.edu><14368.16748.961571.177484@thomasm-u1.cisco.com><382045F4.B40E6346@cs.columbia.edu> <14370.5817.777629.401159@thomasm-u1.cisco.com>
Subject: Re: Network authentication
Date: Fri, 5 Nov 1999 06:27:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


|  > Many SIP implementations can use either UDP or TCP. Indeed, one reason
|  > for supporting TCP (besides signaling trunks) is the ability to use
SSL.
|  > Use of SSL over UDP hasn't been done yet, although I don't see this as
|  > requiring more than dealing with mapping SSL messages to UDP datagrams.
|
|    This strikes me as the tail wagging the dog.
|    A deployment should choose a transport and then
|    figure out how to secure it rather than the
|    other way around.

A couple of thoughts on this thread:

1) Actually, there is a variation of TLS defined for UDP. It's the
   Wireless TLS standard developed by the Wireless Application
   Forum (www.wapforum.org). I don't know if anyone has actually
   implemented it.

2) I could make the argument that any real commercial deployment
   should first figure out its security requirements, then
   decide the security infrastructure, and, only then, determine
   the transport approach that fits within that security
   infrastructure. Leaving security as an afterthought has
   gotten a lot of people in trouble in the past. In this
   context it's worth noting that 40+ years of practical
   experience has unequivocally shown that there is a strong
   incentive for folks to try to get "free phone calls."

Stephen






From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 06:48:22 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA07994
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 06:48:22 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8F5AB52E3; Fri,  5 Nov 1999 06:45:30 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 07DCC52EB; Fri,  5 Nov 1999 06:45:29 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8A8B552E3
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 06:45:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 06:43:44 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov  5 06:42:44 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id NAA00319
	for <sip@lists.research.bell-labs.com>; Fri, 5 Nov 1999 13:44:11 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.73.233])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id NAA15241
	for <sip@lists.research.bell-labs.com>; Fri, 5 Nov 1999 13:43:40 +0200 (EET)
Message-ID: <3822C2E9.4705B9B4@lmf.ericsson.se>
Date: Fri, 05 Nov 1999 13:43:37 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip <sip@lists.research.bell-labs.com>
Subject: Standby
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

I have a high-reliable end-user (let's say a softswitch), and my primary
system crashes... the sencondary system takes over, but it has a
different IP address.

I will issue another INVITE changing my "Contact" header.
Should I introduce the old SDP in this 2nd INVITE (I do not want to
change anything in the SDP)?
Will the end-user understand my updated INVITE without SDP?

I could also use a "Replace" header (call control draft)...

This is also applicable to the paper that Elin and Henning wrote about
SIP mobility, where nothing but our "contact" header is changed when we
move and get a new IP address.

In this 2nd scenario is even more important, since we wouldn't have to
transmit the old SDP again over the air interface...

Regards,

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 06:50:22 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA08639
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 06:50:22 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9D78F52E1; Fri,  5 Nov 1999 06:45:53 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1538252EC; Fri,  5 Nov 1999 06:45:52 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 665DD52E1
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 06:45:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov  5 06:44:36 EST 1999
Received: from email3.etsi.org ([212.234.161.24]) by dusty; Fri Nov  5 06:43:35 EST 1999
Received: by EMAIL3 with Internet Mail Service (5.5.2448.0)
	id <VMT5HY49>; Fri, 5 Nov 1999 11:45:41 -0000
Message-ID: <7B7F473688DBD211B56C00805F85906C6767DC@EMAIL2>
From: Scott Cadzow <Scott.Cadzow@etsi.fr>
To: "'Stephen Thomas'" <stephen.thomas@transnexus.com>,
        Michael Thomas <mat@cisco.com>,
        Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Michael Thomas <mat@cisco.com>, Dean Willis <dean.willis@wcom.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: RE: Network authentication
Date: Fri, 5 Nov 1999 11:44:21 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I would endorse Stephen's second point. Do the analysis at the service level
to get the service secure, then make the service to transport analysis and
get that secure. Choosing TLS or anything else without knowing why is a
route to doom.

Scott

-----Original Message-----
From: Stephen Thomas [mailto:stephen.thomas@transnexus.com]
Sent: 05 November 1999 12:27
To: Michael Thomas; Henning Schulzrinne
Cc: Michael Thomas; Dean Willis; Gonzalo Camarillo;
sip@lists.research.bell-labs.com
Subject: Re: Network authentication



|  > Many SIP implementations can use either UDP or TCP. Indeed, one reason
|  > for supporting TCP (besides signaling trunks) is the ability to use
SSL.
|  > Use of SSL over UDP hasn't been done yet, although I don't see this as
|  > requiring more than dealing with mapping SSL messages to UDP datagrams.
|
|    This strikes me as the tail wagging the dog.
|    A deployment should choose a transport and then
|    figure out how to secure it rather than the
|    other way around.

A couple of thoughts on this thread:

1) Actually, there is a variation of TLS defined for UDP. It's the
   Wireless TLS standard developed by the Wireless Application
   Forum (www.wapforum.org). I don't know if anyone has actually
   implemented it.

2) I could make the argument that any real commercial deployment
   should first figure out its security requirements, then
   decide the security infrastructure, and, only then, determine
   the transport approach that fits within that security
   infrastructure. Leaving security as an afterthought has
   gotten a lot of people in trouble in the past. In this
   context it's worth noting that 40+ years of practical
   experience has unequivocally shown that there is a strong
   incentive for folks to try to get "free phone calls."

Stephen






From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 08:04:20 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA04169
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 08:04:20 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8335A52EC; Fri,  5 Nov 1999 08:01:36 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EFE7E52EF; Fri,  5 Nov 1999 08:01:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8A20C52EC
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 08:01:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 08:00:28 EST 1999
Received: from smtp02.teb1.iconnet.net ([209.3.218.43]) by dusty; Fri Nov  5 07:59:27 EST 1999
Received: from cs.columbia.edu (client-151-198-123-18.bellatlantic.net [151.198.123.18])
	by smtp02.teb1.iconnet.net (8.9.1/8.9.1) with ESMTP id IAA19014;
	Fri, 5 Nov 1999 08:00:06 -0500 (EST)
Message-ID: <3822CEE8.D43A3C1D@cs.columbia.edu>
Date: Fri, 05 Nov 1999 07:34:48 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
X-Mailer: Mozilla 4.61 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip <sip@lists.research.bell-labs.com>
Subject: Re: Standby
References: <3822C2E9.4705B9B4@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Interesting issue. I suppose the general question is:

Does an empty message body mean that the old body is still in force?

It is easy for the end system to detect that two SDP messages are the
same (via the o= line), so this is not an issue for processing. The
message size also doesn't seem that big a deal, given that it is smaller
than a typical voice packet.

One good reason to send it again is robustness: We've tried to set up
things so that calls can recover easily from crashes by encouraging
idempotent behavior. (This is one reason for having the re-INVITE be an
INVITE rather than some other request.) In the soft-state tradition,
this means that a "refresh" should have the same and complete
information as the original set-up.

In the current mechanism, any firewalls and such that are in the middle
are now "self-healing". If they conk out and lose state, just send
another INVITE... (This goes back to our old session liveness
discussion.)

Thus, while the answer to the question is probably "yes", I don't think
we'd want to encourage this shortcut since it adds one more special case
to the end system and any intermediate systems that care about message
bodies, without any real gain.

Gonzalo Camarillo wrote:
> 
> Hi,
> 
> I have a high-reliable end-user (let's say a softswitch), and my primary
> system crashes... the sencondary system takes over, but it has a
> different IP address.
> 
> I will issue another INVITE changing my "Contact" header.
> Should I introduce the old SDP in this 2nd INVITE (I do not want to
> change anything in the SDP)?
> Will the end-user understand my updated INVITE without SDP?
> 
> I could also use a "Replace" header (call control draft)...
> 
> This is also applicable to the paper that Elin and Henning wrote about
> SIP mobility, where nothing but our "contact" header is changed when we
> move and get a new IP address.
> 
> In this 2nd scenario is even more important, since we wouldn't have to
> transmit the old SDP again over the air interface...
> 
> Regards,
> 
> Gonzalo
> --
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 08:06:31 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA04878
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 08:06:31 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 61EFD52F1; Fri,  5 Nov 1999 08:01:42 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9534F52DE; Fri,  5 Nov 1999 08:01:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D100752DE
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 08:01:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 07:59:58 EST 1999
Received: from smtp02.teb1.iconnet.net ([209.3.218.43]) by dusty; Fri Nov  5 07:58:58 EST 1999
Received: from cs.columbia.edu (client-151-198-123-18.bellatlantic.net [151.198.123.18])
	by smtp02.teb1.iconnet.net (8.9.1/8.9.1) with ESMTP id HAA18994;
	Fri, 5 Nov 1999 07:59:47 -0500 (EST)
Message-ID: <3822CC3F.A986782@cs.columbia.edu>
Date: Fri, 05 Nov 1999 07:23:27 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
X-Mailer: Mozilla 4.61 [en] (Win98; I)
X-Accept-Language: en
MIME-Version: 1.0
To: David Shrader <DShrader@EyeForTheFuture.com>
Cc: SIP List <sip@lists.research.bell-labs.com>
Subject: Re: Multiparty Calls
References: <199911050347.TAA14511@eyeforthefuture.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Since you definitely want "make-before-break", it's probably hard to
avoid the problem. However, there is a solution, as long as the mixer
uses RTP: If the mixer includes the SSRC of the sources mixed in the
CSRC list of the RTP header, the recipient can tell that it is getting a
certain party twice.

David Shrader wrote:
> 
> I've been reviewing the proposals in the call control services I-D about the
> use of SIP for multiparty calling scenarios. I think the requirements
> descriptions for the various types of calls are really good. I'm having
> difficulty with the proposed implementation of those requirements using SIP.
> 
> I think I can make the method proposed for handling the multiparty calling
> work when the streams are being mixed and managed directly by the endpoint.
> It appears that the protocol allows any multiparty call scenario to
> stabilize after a short time and that the distributed method works. However,
> the models that involve a server cause me some difficulty. There appears to
> a window in which the an endpoint cannot determine exactly what is being
> received on a given media stream, so it cannot properly handle it. For
> example, if A is talking with B; A sets up another call with C; Then A
> bridges them all together. The distributed approach leads to a mesh of media
> streams between A, B, and C. Each recipient has enough knowledge to know
> that the appropriate action is to mix the two input streams for playback to
> the user.
> 
> If one of the parties invites a server to perform the bridging and then all
> parties invite the server, the text indicates that a two stage process is
> performed. A connection is not replaced until you are sure the user's input
> is being mixed through the server. As a result, it looks like there is a
> window in which a recipient could be receiving both an input stream from a
> conference server that contains A's voice and the recipient could be
> receiving a direct stream containing A's voice. The mixing of that could
> cause problems and may not produce correct results.
> 
> I don't know if there is a solution to this, but maybe there needs to be
> some text added to the requirements related to the impact on the recipient's
> interpretation of received input streams.
> 
> Any thoughts on this topic?
> David
> 
> ----------------------------
> David Shrader
> Master Consultant, Inc.
> DShrader@EyeForTheFuture.com





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov  5 08:53:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20047
	for <sip-archive@odin.ietf.org>; Fri, 5 Nov 1999 08:53:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BD7F952EB; Fri,  5 Nov 1999 08:51:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3257552EF; Fri,  5 Nov 1999 08:51:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6837452EB
	for <sip@lists.research.bell-labs.com>; Fri,  5 Nov 1999 08:51:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov  5 08:49:23 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov  5 08:48:22 EST 1999
Received: from dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.56])
	id QQhoah06834;
	Fri, 5 Nov 1999 13:53:00 GMT
Message-ID: <3822E0C3.7821B20D@dynamicsoft.com>
Date: Fri, 05 Nov 1999 08:50:59 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <hgs@cs.columbia.edu>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip <sip@lists.research.bell-labs.com>
Subject: Re: Standby
References: <3822C2E9.4705B9B4@lmf.ericsson.se> <3822CEE8.D43A3C1D@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> One good reason to send it again is robustness: We've tried to set up
> things so that calls can recover easily from crashes by encouraging
> idempotent behavior. (This is one reason for having the re-INVITE be an
> INVITE rather than some other request.) In the soft-state tradition,
> this means that a "refresh" should have the same and complete
> information as the original set-up.

I agree completely. I'd really like to keep the INVITE requests
idempotent. So, every re-INVITE should contain the session description.
The recipient can tell if it changed without parsing through it by
checking the version in the origin field.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  9 07:31:58 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA23518
	for <sip-archive@odin.ietf.org>; Tue, 9 Nov 1999 07:31:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2198B52BB; Tue,  9 Nov 1999 07:29:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8C91152D5; Tue,  9 Nov 1999 07:29:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E55BB52BB
	for <sip@lists.research.bell-labs.com>; Tue,  9 Nov 1999 07:29:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov  9 07:28:09 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov  9 07:27:03 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id HAA15351;
	Tue, 9 Nov 1999 07:28:07 -0500 (EST)
Message-ID: <001a01bf2aad$ec6bf4b0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: <sip@lists.research.bell-labs.com>
Subject: NEW TOPIC: Enhanced Services using SIP and  MGCP
Date: Tue, 9 Nov 1999 07:28:26 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

SIP versus MGCP for Interfacing Enhanced Services Platforms

*** DISCLAIMER: The following post is long one aimed at solving a much
larger problem than that immediately addressed by SIP. Please feel free to
ignore unless your interests lie in the interface between the softswitch and
an Enhanced Services Platform (based upon SIP an other protocols) ***

It is my observation that basic call completion and management operations
supported by SIP are not up to the level of control supported by MGCP.
Collection of DTMF digits according to a digit map stands as one example,
and while "possible" in SIP, is not a basic feature defined for SIP. At the
same time, MGCP provides excellent switching-matrix-oriented control over
low-level call control operations (including access to physical endpoints in
a matrix and DTMF digit maps) but does not provide the high-level signaling
required for more generalized "service-oriented" functionality. For example,
MGCP cannot tell me ultimately who the call came from nor to whom it was
directed, and is only capable of providing physical endpoint addressing.
As a result, it would appear that as an integration layer, neither SIP nor
MGCP alone would allow an enhanced services platform to receive a call and
render a complex service. Neither protocol has all the parts necessary to
support anything but the most simple, passively-activated enhanced service
(i.e. voice mail).

While it is understood that any number of SIP extensions could be created to
support such operations, it would basically require incorporating an MGCP
message set into SIP, along with some notion of local or virtual
"switching matrix" element to serve as a medium over which those
operations would be performed.

At the same time, MGCP could be exended as well, but being a simple
client/server protocol with a 1:1 mapping of call agent instance to MG, it
does not have all the relocation and proxy services of SIP. Besides, MGCP
associates a controlling element with some physical switching matrix
resource, thus resource contention and scaling problems would result by
presenting application-level call control as "bound" to some specific device
under control of the Softswitch, and the control element would not be
interfacing and not the softswitch itself.

***It is my impression that it is generally agreed that Enhanced Services
Platforms will work better if they talk to softswitches than MGs.

Where does that leave someone who wishes to tightly integrate an enhanced
services platform with a softswitch ? Does one extend one protocol to
incorporate features of the other ?  Does one establish and an MGCP
session for every SIP connection ? Is is feasible for SIP,
as will be specified in forthcoming embodiments, to incorporate low-level
call control features contained within MGCP, perhaps on a
session-by-session basis ?

Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
communictions mechanism for call setup/tear down, does it make sense
to rethink its mission in life with respect to enhanced services, or is that
capability
already inherent in SIP ? To say that any "SIP implementer" can add this
functionality
is not at all helpful because without general agreement of features it
becomes
impossible to promote vendor-specific extensions as any "standard" at all.
I am aware of the SIP call control extensions exist for blind transfer an
other such features.

I am also aware that the basic problem in putting SIP and MGCP together
relates to the fact that SIP is oriented to managing call sessions
whereas MGCP is oriented towards managing switching matrixes.
An Enhanced Service Platform needs to operate on both planes. But it
is the objective of my inquiry to avoid creating some ugly propriety
interface and instead rely upon standards as much as possible.

Basic features required for Enhanced Services Platform (ESP) intergration
with a softswitch include the following list below. This is an e-mail
message for general consideration written off the top of my head in 15
minutes and not an exhaustive treatment of the subject; so I would ask that
commentary of the items below focus on the general control issues as can
best be interpreted from the muddled presentation. The terms "call",
"connection" and "call leg" mean different things to different technology
domains. Keep in mind below that the ESP may incorporate the "announcement
server" in some cases, thus connections that require play/record of prompts
will potentially terminate on ESP.

1- Originate/Answer/Disconnect voice connections between any two network
addresses. Connections managed under control of Softswitch and potentially
even terminating on ESP for IVR purposes; all connections routed through a
MG under Softswitch control.

2- Monitor Q.931 (or equivelent) call state information for specified call
session under
control of Softswitch

3- Collect DTMF digits on specified connection

4- Generate DTMF digits on a specified connnection (for pager dialing
interface, for example)

5- Create/Add/Remove full or half-duplex call leg to call under control of
Softswitch, potentially terminating on ESP (all connections routed MG under
Softswitch control)

6- Transfer one call/connection to another

7- Originate/Answer/Disconnect connection under control of softswith with
media type of T.38 fax such fax image may be transmitted and received using
DSP fax algorithms residing in certain MGs under control of Softswitch.

Any commentary of accomplishing this level of interface using SIP would be
greatly appreciated. If nothing else, I offer to those thinking about SIP
some relevent context for the application of their work. It would seem that
interfacing
with ESP would be an important consideration for and future revisions of
SIP, and
thus this inquiry may stimulate some discussion of the topic.

Greg Girard
CTO
Iperia, Inc.









From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov  9 07:49:41 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA01293
	for <sip-archive@odin.ietf.org>; Tue, 9 Nov 1999 07:49:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A570A52B6; Tue,  9 Nov 1999 07:47:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1EE7652DC; Tue,  9 Nov 1999 07:47:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id BFAD652B6
	for <sip@lists.research.bell-labs.com>; Tue,  9 Nov 1999 07:47:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov  9 07:46:55 EST 1999
Received: from eyeforthefuture.com ([216.122.88.2]) by dusty; Tue Nov  9 07:45:48 EST 1999
Received: from JDavi04 (dhcp21-fh149.fh.ietf.innovationslab.net [130.128.21.149])
	by eyeforthefuture.com (8.8.7/8.8.5) with SMTP id EAA04828;
	Tue, 9 Nov 1999 04:47:15 -0800 (PST)
Message-ID: <001701bf2ab1$32af7200$95158082@JDavi04.dn.net>
From: "David Shrader" <DShrader@EyeForTheFuture.com>
To: "Gregory D. Girard" <ggirard@mediaone.net>,
        <sip@lists.research.bell-labs.com>
Subject: Re: NEW TOPIC: Enhanced Services using SIP and  MGCP
Date: Tue, 9 Nov 1999 07:51:51 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Greg,

I'm glad you brought this topic up on the list. I've been asking myself the
same types of questions. If I were building an enhanced services platform
and want to use "standard" protocols, which one(s) do I use? Because of the
differences between the two protocols, do I use one for some applications,
and the other for everything else? Would the softswitch even know ahead of
time what an application is going to require to adequately select the right
protocol when delivering the call to the server?

I need time to think through your questions, but I wanted to support and
encourage this topic on the list.

David


-------------------
David Shrader
Master Consultant, Inc.
DShrader@EyeForTheFuture.com


-----Original Message-----
From: Gregory D. Girard <ggirard@mediaone.net>
To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: Tuesday, November 09, 1999 7:31 AM
Subject: NEW TOPIC: Enhanced Services using SIP and MGCP


>SIP versus MGCP for Interfacing Enhanced Services Platforms
>
>*** DISCLAIMER: The following post is long one aimed at solving a much
>larger problem than that immediately addressed by SIP. Please feel free to
>ignore unless your interests lie in the interface between the softswitch
and
>an Enhanced Services Platform (based upon SIP an other protocols) ***
>
>It is my observation that basic call completion and management operations
>supported by SIP are not up to the level of control supported by MGCP.
>Collection of DTMF digits according to a digit map stands as one example,
>and while "possible" in SIP, is not a basic feature defined for SIP. At the
>same time, MGCP provides excellent switching-matrix-oriented control over
>low-level call control operations (including access to physical endpoints
in
>a matrix and DTMF digit maps) but does not provide the high-level signaling
>required for more generalized "service-oriented" functionality. For
example,
>MGCP cannot tell me ultimately who the call came from nor to whom it was
>directed, and is only capable of providing physical endpoint addressing.
>As a result, it would appear that as an integration layer, neither SIP nor
>MGCP alone would allow an enhanced services platform to receive a call and
>render a complex service. Neither protocol has all the parts necessary to
>support anything but the most simple, passively-activated enhanced service
>(i.e. voice mail).
>
>While it is understood that any number of SIP extensions could be created
to
>support such operations, it would basically require incorporating an MGCP
>message set into SIP, along with some notion of local or virtual
>"switching matrix" element to serve as a medium over which those
>operations would be performed.
>
>At the same time, MGCP could be exended as well, but being a simple
>client/server protocol with a 1:1 mapping of call agent instance to MG, it
>does not have all the relocation and proxy services of SIP. Besides, MGCP
>associates a controlling element with some physical switching matrix
>resource, thus resource contention and scaling problems would result by
>presenting application-level call control as "bound" to some specific
device
>under control of the Softswitch, and the control element would not be
>interfacing and not the softswitch itself.
>
>***It is my impression that it is generally agreed that Enhanced Services
>Platforms will work better if they talk to softswitches than MGs.
>
>Where does that leave someone who wishes to tightly integrate an enhanced
>services platform with a softswitch ? Does one extend one protocol to
>incorporate features of the other ?  Does one establish and an MGCP
>session for every SIP connection ? Is is feasible for SIP,
>as will be specified in forthcoming embodiments, to incorporate low-level
>call control features contained within MGCP, perhaps on a
>session-by-session basis ?
>
>Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
>communictions mechanism for call setup/tear down, does it make sense
>to rethink its mission in life with respect to enhanced services, or is
that
>capability
>already inherent in SIP ? To say that any "SIP implementer" can add this
>functionality
>is not at all helpful because without general agreement of features it
>becomes
>impossible to promote vendor-specific extensions as any "standard" at all.
>I am aware of the SIP call control extensions exist for blind transfer an
>other such features.
>
>I am also aware that the basic problem in putting SIP and MGCP together
>relates to the fact that SIP is oriented to managing call sessions
>whereas MGCP is oriented towards managing switching matrixes.
>An Enhanced Service Platform needs to operate on both planes. But it
>is the objective of my inquiry to avoid creating some ugly propriety
>interface and instead rely upon standards as much as possible.
>
>Basic features required for Enhanced Services Platform (ESP) intergration
>with a softswitch include the following list below. This is an e-mail
>message for general consideration written off the top of my head in 15
>minutes and not an exhaustive treatment of the subject; so I would ask that
>commentary of the items below focus on the general control issues as can
>best be interpreted from the muddled presentation. The terms "call",
>"connection" and "call leg" mean different things to different technology
>domains. Keep in mind below that the ESP may incorporate the "announcement
>server" in some cases, thus connections that require play/record of prompts
>will potentially terminate on ESP.
>
>1- Originate/Answer/Disconnect voice connections between any two network
>addresses. Connections managed under control of Softswitch and potentially
>even terminating on ESP for IVR purposes; all connections routed through a
>MG under Softswitch control.
>
>2- Monitor Q.931 (or equivelent) call state information for specified call
>session under
>control of Softswitch
>
>3- Collect DTMF digits on specified connection
>
>4- Generate DTMF digits on a specified connnection (for pager dialing
>interface, for example)
>
>5- Create/Add/Remove full or half-duplex call leg to call under control of
>Softswitch, potentially terminating on ESP (all connections routed MG under
>Softswitch control)
>
>6- Transfer one call/connection to another
>
>7- Originate/Answer/Disconnect connection under control of softswith with
>media type of T.38 fax such fax image may be transmitted and received using
>DSP fax algorithms residing in certain MGs under control of Softswitch.
>
>Any commentary of accomplishing this level of interface using SIP would be
>greatly appreciated. If nothing else, I offer to those thinking about SIP
>some relevent context for the application of their work. It would seem that
>interfacing
>with ESP would be an important consideration for and future revisions of
>SIP, and
>thus this inquiry may stimulate some discussion of the topic.
>
>Greg Girard
>CTO
>Iperia, Inc.
>
>
>
>
>
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 04:29:41 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA18812
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 04:29:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D51A552DF; Wed, 10 Nov 1999 04:27:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4861852E6; Wed, 10 Nov 1999 04:27:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5BA6352DF
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 04:27:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 04:26:37 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Wed Nov 10 04:25:31 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id EAA23792;
	Wed, 10 Nov 1999 04:26:35 -0500 (EST)
Message-ID: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: <sip@lists.research.bell-labs.com>
Cc: "Dye, Robert" <rdye@sonusnet.com>
Subject: Additional Info on DTMF under SIP
Date: Wed, 10 Nov 1999 04:26:53 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

DTMF under SIP

There has been much speculation on the transmission of DTMF digits for a SIP
session. Two methods have been proposed, one using INFO messages and the
other embedding the DTMF information in the RTP stream. Suffice it say that
under most conditions, both methods may prove satisfactory. My objections to
the use of the RTP stream method have heretofore been based upon 2 points:

1- AWKWARD: Not elegant insofar as it requires going to two separate places
to get information about same session; this approach would seem to voilate
the principles of simplicity and consistency that underpin clean, reliable,
flexible designs.

2- DEPENDENT ON CONNECTION NOT NECESSARILY PRESENT IN MODEL: Relies upon
media stream that is not guarranteed to exist for every session, or at least
not exist in terms of a call leg (RTP stream) directed specifically to the
Enhanced Service Platform that requires the DTMF. The entity performing the
session control using SIP may not be the anouncement server or have any RTP
capability. Remember there is added cost to supporting the RTP interface to
the extent that more HW may be needed in most cases.

Well, here is a new reason to object, and perhaps the most compelling reason
of all:

3- PROTOCOL DEPENDENT: All proposals for DTMF via RTP presume an IP bearer
channel transport. This is nolonger a valid assumption given the recent and
surprisingly strong rise in VoATM solutions. It seems clear to me that any
DTMF solution that REQUIRES an IP transport for the  media stream is
dead-on-arrival for this reason alone. There is nothing to suggest that any
IP technology at all would be used for bearer channel content in many
solutions (I know of a few in particular right now).

Now to further suggest on supporting an RTP stream interface (alongside the
ATM interfaces) soley for the purpose of collecting DTMF digits just won't
fly from a cost perspective. I believe it is a valid assumption to be IP
dependent for control information/protocols - this is an established
methodology for data communications, but not for bearer channel content.
When we utilize what is in essessence a bearer channel pathway to transmit
DTMF control information, we bind our method to a single bearer transport. I
believe that result is wholly inconsistent with the softswitch model.

Just a few thoughts to consider...

Greg Girard
CTO
Iperia, Inc.




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 07:49:33 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA16781
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 07:49:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9D16652F0; Wed, 10 Nov 1999 07:47:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 108A052F3; Wed, 10 Nov 1999 07:47:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CEB6952F0
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 07:47:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 07:45:33 EST 1999
Received: from kickme.cisco.com ([198.92.30.42]) by dusty; Wed Nov 10 07:44:28 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by kickme.cisco.com (8.9.1a/8.9.1) with ESMTP id EAA25157;
	Wed, 10 Nov 1999 04:44:20 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id EAA10644; Wed, 10 Nov 1999 04:45:30 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14377.26858.793225.74270@thomasm-u1.cisco.com>
Date: Wed, 10 Nov 1999 04:45:30 -0800 (PST)
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
Subject: Additional Info on DTMF under SIP
In-Reply-To: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Gregory D. Girard writes:
 > There has been much speculation on the transmission of DTMF digits for a SIP
 > session. Two methods have been proposed, one using INFO messages and the
 > other embedding the DTMF information in the RTP stream. Suffice it say that
 > under most conditions, both methods may prove satisfactory. My objections to
 > the use of the RTP stream method have heretofore been based upon 2 points:

   I think you're setting up a false dilemema here.
   RTP transport is a perfectly reasonable means
   of transport when the end SIP has no investment
   in the digits themselves, but they still need
   to be reliably transported. A good example is 
   using your answering machine when the audio
   codec is G.723.1.

 > 1- AWKWARD: Not elegant insofar as it requires going to two separate places
 > to get information about same session; this approach would seem to voilate
 > the principles of simplicity and consistency that underpin clean, reliable,
 > flexible designs.

   I'm not sure that I buy this. The same comment
   could be made for speech recognition. Surely
   there is a place for end-side recogntion based
   to the audio stream. In fact, that's the way I'd
   expect things to work for a long time coming.

 > 2- DEPENDENT ON CONNECTION NOT NECESSARILY PRESENT IN MODEL: Relies upon
 > media stream that is not guarranteed to exist for every session, or at least
 > not exist in terms of a call leg (RTP stream) directed specifically to the
 > Enhanced Service Platform that requires the DTMF. The entity performing the
 > session control using SIP may not be the anouncement server or have any RTP
 > capability. Remember there is added cost to supporting the RTP interface to
 > the extent that more HW may be needed in most cases.

   Er, uh, the main cost is in the DTMF detector
   itself. If the idea is to save money on the
   terminating SIP, either SIP based transport
   or RTP transport will work equally well. I'm
   finding it rather difficult to believe that
   opening a socket to read NSE's for a session
   is going to set an application over some
   hardware boundary.

 > 3- PROTOCOL DEPENDENT: All proposals for DTMF via RTP presume an IP bearer
 > channel transport. This is nolonger a valid assumption given the recent and
 > surprisingly strong rise in VoATM solutions. It seems clear to me that any
 > DTMF solution that REQUIRES an IP transport for the  media stream is
 > dead-on-arrival for this reason alone. There is nothing to suggest that any
 > IP technology at all would be used for bearer channel content in many
 > solutions (I know of a few in particular right now).

   Uh, both FRF.11 and AAL-2 support very similar
   mechanisms to transport DTMF as NSE's. AAL-1
   uses G.711 so relay is not an issue. I don't
   see what the dilemma is here.

   One of the things that you're not mentioning is
   timing. An originating side DTMF detector which
   transports DTMF via signaling will never have
   a precise timing relationship with the actual
   bearer. This could lead to some very odd things
   happening with retransmission timers, as an
   example (eg, I press '#' and two seconds later
   due to transmission loss it plays the # at the
   far end after I had already decided that it
   didn't "hear" the digit).
   
   My general rule: if you want to see it, signal
   it, otherwise transport it "inband" (via G.711
   or some bearer relay).

		  Mike



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 07:55:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA19348
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 07:55:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BAD9B52F3; Wed, 10 Nov 1999 07:53:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2E4BF52F4; Wed, 10 Nov 1999 07:53:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B4B9052F3
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 07:53:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 07:51:06 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Wed Nov 10 07:50:00 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FKZ0010UFP448@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Wed, 10 Nov 1999 12:51:04 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id MAA26875; Wed,
 10 Nov 1999 12:51:04 +0000 (GMT)
Received: from C25776A ([166.44.166.213])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991110125106.WVBQ15158@C25776A>; Wed,
 10 Nov 1999 12:51:06 +0000
Date: Wed, 10 Nov 1999 06:51:00 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: NEW TOPIC: Enhanced Services using SIP and  MGCP
In-reply-to: <001a01bf2aad$ec6bf4b0$122cda18@goliath.ne.mediaone.net>
To: "Gregory D. Girard" <ggirard@mediaone.net>,
        sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKCEJEENAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> It is my observation that basic call completion and management operations
> supported by SIP are not up to the level of control supported by MGCP.

For what it is worth, IMHO MGCP is very valuable to implement gateways to
PSTN while SIP has the promise of new services that go beyond what exists on
the PSTN, thus giving service providers reasons to invest in it. "S" stands
for any session and most Web/Internet real time services have yet to be
invented. The potential seems very big.

Henry

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gregory D.
> Girard
> Sent: Tuesday, November 09, 1999 6:28 AM
> To: sip@lists.research.bell-labs.com
> Subject: NEW TOPIC: Enhanced Services using SIP and MGCP
>
>
> SIP versus MGCP for Interfacing Enhanced Services Platforms
>
> *** DISCLAIMER: The following post is long one aimed at solving a much
> larger problem than that immediately addressed by SIP. Please feel free to
> ignore unless your interests lie in the interface between the
> softswitch and
> an Enhanced Services Platform (based upon SIP an other protocols) ***
>
> It is my observation that basic call completion and management operations
> supported by SIP are not up to the level of control supported by MGCP.
> Collection of DTMF digits according to a digit map stands as one example,
> and while "possible" in SIP, is not a basic feature defined for
> SIP. At the
> same time, MGCP provides excellent switching-matrix-oriented control over
> low-level call control operations (including access to physical
> endpoints in
> a matrix and DTMF digit maps) but does not provide the high-level
> signaling
> required for more generalized "service-oriented" functionality.
> For example,
> MGCP cannot tell me ultimately who the call came from nor to whom it was
> directed, and is only capable of providing physical endpoint addressing.
> As a result, it would appear that as an integration layer, neither SIP nor
> MGCP alone would allow an enhanced services platform to receive a call and
> render a complex service. Neither protocol has all the parts necessary to
> support anything but the most simple, passively-activated enhanced service
> (i.e. voice mail).
>
> While it is understood that any number of SIP extensions could be
> created to
> support such operations, it would basically require incorporating an MGCP
> message set into SIP, along with some notion of local or virtual
> "switching matrix" element to serve as a medium over which those
> operations would be performed.
>
> At the same time, MGCP could be exended as well, but being a simple
> client/server protocol with a 1:1 mapping of call agent instance to MG, it
> does not have all the relocation and proxy services of SIP. Besides, MGCP
> associates a controlling element with some physical switching matrix
> resource, thus resource contention and scaling problems would result by
> presenting application-level call control as "bound" to some
> specific device
> under control of the Softswitch, and the control element would not be
> interfacing and not the softswitch itself.
>
> ***It is my impression that it is generally agreed that Enhanced Services
> Platforms will work better if they talk to softswitches than MGs.
>
> Where does that leave someone who wishes to tightly integrate an enhanced
> services platform with a softswitch ? Does one extend one protocol to
> incorporate features of the other ?  Does one establish and an MGCP
> session for every SIP connection ? Is is feasible for SIP,
> as will be specified in forthcoming embodiments, to incorporate low-level
> call control features contained within MGCP, perhaps on a
> session-by-session basis ?
>
> Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
> communictions mechanism for call setup/tear down, does it make sense
> to rethink its mission in life with respect to enhanced services,
> or is that
> capability
> already inherent in SIP ? To say that any "SIP implementer" can add this
> functionality
> is not at all helpful because without general agreement of features it
> becomes
> impossible to promote vendor-specific extensions as any "standard" at all.
> I am aware of the SIP call control extensions exist for blind transfer an
> other such features.
>
> I am also aware that the basic problem in putting SIP and MGCP together
> relates to the fact that SIP is oriented to managing call sessions
> whereas MGCP is oriented towards managing switching matrixes.
> An Enhanced Service Platform needs to operate on both planes. But it
> is the objective of my inquiry to avoid creating some ugly propriety
> interface and instead rely upon standards as much as possible.
>
> Basic features required for Enhanced Services Platform (ESP) intergration
> with a softswitch include the following list below. This is an e-mail
> message for general consideration written off the top of my head in 15
> minutes and not an exhaustive treatment of the subject; so I
> would ask that
> commentary of the items below focus on the general control issues as can
> best be interpreted from the muddled presentation. The terms "call",
> "connection" and "call leg" mean different things to different technology
> domains. Keep in mind below that the ESP may incorporate the "announcement
> server" in some cases, thus connections that require play/record
> of prompts
> will potentially terminate on ESP.
>
> 1- Originate/Answer/Disconnect voice connections between any two network
> addresses. Connections managed under control of Softswitch and potentially
> even terminating on ESP for IVR purposes; all connections routed through a
> MG under Softswitch control.
>
> 2- Monitor Q.931 (or equivelent) call state information for specified call
> session under
> control of Softswitch
>
> 3- Collect DTMF digits on specified connection
>
> 4- Generate DTMF digits on a specified connnection (for pager dialing
> interface, for example)
>
> 5- Create/Add/Remove full or half-duplex call leg to call under control of
> Softswitch, potentially terminating on ESP (all connections
> routed MG under
> Softswitch control)
>
> 6- Transfer one call/connection to another
>
> 7- Originate/Answer/Disconnect connection under control of softswith with
> media type of T.38 fax such fax image may be transmitted and
> received using
> DSP fax algorithms residing in certain MGs under control of Softswitch.
>
> Any commentary of accomplishing this level of interface using SIP would be
> greatly appreciated. If nothing else, I offer to those thinking about SIP
> some relevent context for the application of their work. It would
> seem that
> interfacing
> with ESP would be an important consideration for and future revisions of
> SIP, and
> thus this inquiry may stimulate some discussion of the topic.
>
> Greg Girard
> CTO
> Iperia, Inc.
>
>
>
>
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 08:41:47 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA10571
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 08:41:47 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4A66952EF; Wed, 10 Nov 1999 08:39:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A707752F5; Wed, 10 Nov 1999 08:39:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id F303C52EF
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 08:39:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 08:38:44 EST 1999
Received: from witbier.cisco.com ([171.71.152.57]) by dusty; Wed Nov 10 08:37:37 EST 1999
Received: from mramalho-nt (ssh.cisco.com [171.69.10.34])
	by witbier.cisco.com (8.8.8-Cisco List Logging/8.8.8) with SMTP id FAA05013;
	Wed, 10 Nov 1999 05:38:09 -0800 (PST)
Message-Id: <4.1.19991110082522.00a56980@localhost>
X-Sender: mramalho@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Wed, 10 Nov 1999 08:39:26 -0800
To: Michael Thomas <mat@cisco.com>, "Gregory D. Girard" <ggirard@mediaone.net>
From: "Michael A. Ramalho" <mramalho@cisco.com>
Subject: Re: Additional Info on DTMF under SIP
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
In-Reply-To: <14377.26858.793225.74270@thomasm-u1.cisco.com>
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gregory,

I ditto Mike Thomas' comments below ... and have a question for
you.

Where have you been since 1996 ... as this discussion on DTMF issues
date back to that timeframe?

Back then, most of the discussion revolved around the tradeoff of reliability
vs timing accuracy; the TCP reliability at the expense of delay under
packet loss vs. RTP method which preserved timing relationships at the
cost of adding RTP redundancy. Timing (inter DTMF tone timing in
particular) is assumed for many IVR applications (e.g., banking).

In fact, it could be shown that under certain packet loss conditions that
the TCP channel would have died and the RTP (w/redundancy) method
would have been successful. These high-loss conditions are probably
not your application area (with ATM cell losses on the order of 1 in 10^6),
but they are for other application spaces.

Mike's other comments are good also ... but I would suggest that you
read the minutes of past IETF avt wg meetings for a rendering of
some of the tradeoffs discussed in the past. Also, the Schulzrinne/Petrack
RTP payload draft for DTMF/Telephony Tones/Signals provides another
good reference (ietf-avt-tones-01.ps).

Michael Ramalho

At 04:45 AM 11/10/99 -0800, Michael Thomas wrote:
>
>Gregory D. Girard writes:
> > There has been much speculation on the transmission of DTMF digits for a SIP
> > session. Two methods have been proposed, one using INFO messages and the
> > other embedding the DTMF information in the RTP stream. Suffice it say that
> > under most conditions, both methods may prove satisfactory. My objections to
> > the use of the RTP stream method have heretofore been based upon 2 points:
>
>   I think you're setting up a false dilemema here.
>   RTP transport is a perfectly reasonable means
>   of transport when the end SIP has no investment
>   in the digits themselves, but they still need
>   to be reliably transported. A good example is 
>   using your answering machine when the audio
>   codec is G.723.1.
>
> > 1- AWKWARD: Not elegant insofar as it requires going to two separate places
> > to get information about same session; this approach would seem to voilate
> > the principles of simplicity and consistency that underpin clean, reliable,
> > flexible designs.
>
>   I'm not sure that I buy this. The same comment
>   could be made for speech recognition. Surely
>   there is a place for end-side recogntion based
>   to the audio stream. In fact, that's the way I'd
>   expect things to work for a long time coming.
>
> > 2- DEPENDENT ON CONNECTION NOT NECESSARILY PRESENT IN MODEL: Relies upon
> > media stream that is not guarranteed to exist for every session, or at least
> > not exist in terms of a call leg (RTP stream) directed specifically to the
> > Enhanced Service Platform that requires the DTMF. The entity performing the
> > session control using SIP may not be the anouncement server or have any RTP
> > capability. Remember there is added cost to supporting the RTP interface to
> > the extent that more HW may be needed in most cases.
>
>   Er, uh, the main cost is in the DTMF detector
>   itself. If the idea is to save money on the
>   terminating SIP, either SIP based transport
>   or RTP transport will work equally well. I'm
>   finding it rather difficult to believe that
>   opening a socket to read NSE's for a session
>   is going to set an application over some
>   hardware boundary.
>
> > 3- PROTOCOL DEPENDENT: All proposals for DTMF via RTP presume an IP bearer
> > channel transport. This is nolonger a valid assumption given the recent and
> > surprisingly strong rise in VoATM solutions. It seems clear to me that any
> > DTMF solution that REQUIRES an IP transport for the  media stream is
> > dead-on-arrival for this reason alone. There is nothing to suggest that any
> > IP technology at all would be used for bearer channel content in many
> > solutions (I know of a few in particular right now).
>
>   Uh, both FRF.11 and AAL-2 support very similar
>   mechanisms to transport DTMF as NSE's. AAL-1
>   uses G.711 so relay is not an issue. I don't
>   see what the dilemma is here.
>
>   One of the things that you're not mentioning is
>   timing. An originating side DTMF detector which
>   transports DTMF via signaling will never have
>   a precise timing relationship with the actual
>   bearer. This could lead to some very odd things
>   happening with retransmission timers, as an
>   example (eg, I press '#' and two seconds later
>   due to transmission loss it plays the # at the
>   far end after I had already decided that it
>   didn't "hear" the digit).
>   
>   My general rule: if you want to see it, signal
>   it, otherwise transport it "inband" (via G.711
>   or some bearer relay).
>
>		  Mike
>
>


Michael A. Ramalho, Ph.D.
Cisco Systems
Wall Township, NJ
Office email: mramalho@cisco.com
Personal email: mar42@cornell.edu
Office: +1.732.449.5762
Cell: +1.732.809.0188 <-NEW!



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 12:30:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA00999
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 12:30:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C9BED52F8; Wed, 10 Nov 1999 12:27:33 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2A11A52F9; Wed, 10 Nov 1999 12:27:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id ECC0952F8
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 12:27:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 12:26:39 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Wed Nov 10 12:25:33 EST 1999
Received: from toshjhr.odisei.com (195.78.3.85) by odisei.com with SMTP (Eudora
 Internet Mail Server 2.2.2); Wed, 10 Nov 1999 18:38:27 +0100
Message-Id: <3.0.5.32.19991110182109.01050680@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Wed, 10 Nov 1999 18:21:09 +0100
To: Michael Thomas <mat@cisco.com>, "Gregory D. Girard" <ggirard@mediaone.net>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: Re: Additional Info on DTMF under SIP
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
In-Reply-To: <14377.26858.793225.74270@thomasm-u1.cisco.com>
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,

Looks like we do not progress very fast on this topic.

I now believe that both means of conveying DTMF are
needed. Because there are two distinct requirements.

1) Reliable and timely transport of DTMF at the media level (user plane).
	RTP is good here.
2) Supervisory of DTMF at the signal level (control plane)
	SIP dtmf INFO is good here (as a negotiated option probably).

There are many applications based on DTMF today. Voice is the future.
Lets handle both well.

Of course one can "get by" with any one of the solutions, but it can be
very inconvenient (specially when SIP and RTP do not terminate at the
same entity) :

Only RTP:
	You negotiate multiple SDPs. One for voice & DTMF will be direct
	between the endpoints. Another one for DTMF only will be directed to
	"supervisory"	entity. You need RTP besides SIP in supervisory entity.
	You need to support multiple SDPs in DTMF sender endpoint.

Only SIP:
	You reinject DTMF tones inside the RTP jitter buffer. All
	SIP msgs need to be intercepted/relayed by the "supervisory"
	entity. You need SIP besides RTP in the DTMF receiver endpoint.

I dislike both. I prefer having RTP only, because I believe that handling
multiple SDPs requires less hardware than handling SIP in addition to RTP
and I believe that VoIP market needs cheap IP phones.

My 2 cents...

Jean-Hugues ROBERT
--------------------------------------------------------------------
jhr@8x8.com                                        "Think globally.
www.8x8.com                                            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 12:32:33 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA01986
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 12:32:32 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3A10D52FA; Wed, 10 Nov 1999 12:27:43 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 676C552F6; Wed, 10 Nov 1999 12:27:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4670F52F6
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 12:27:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 10 12:26:45 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Wed Nov 10 12:25:39 EST 1999
Received: from toshjhr.odisei.com (195.78.3.85) by odisei.com with SMTP (Eudora
 Internet Mail Server 2.2.2); Wed, 10 Nov 1999 18:38:31 +0100
Message-Id: <3.0.5.32.19991110182501.01043760@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Wed, 10 Nov 1999 18:25:01 +0100
To: "Michael A. Ramalho" <mramalho@cisco.com>, Michael Thomas <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: Re: Additional Info on DTMF under SIP
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
In-Reply-To: <4.1.19991110082522.00a56980@localhost>
References: <14377.26858.793225.74270@thomasm-u1.cisco.com>
 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,

>Where have you been since 1996 ... as this discussion on DTMF issues
>date back to that timeframe?

Do you mean that some consensus was achieved in 1996 and that still no 
widespread / standard implementation is available ? How is that ?

Jean-Hugues Robert.

--------------------------------------------------------------------
jhr@8x8.com                                        "Think globally.
www.8x8.com                                            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 14:27:44 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA27086
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 14:27:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A38B652F0; Wed, 10 Nov 1999 14:25:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0961752F3; Wed, 10 Nov 1999 14:25:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8E3FA52F0
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 14:25:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 14:23:37 EST 1999
Received: from bounty.cisco.com ([161.44.2.72]) by dusty; Wed Nov 10 14:22:32 EST 1999
Received: from cisco.com (bounty.cisco.com [161.44.2.72])
	by bounty.cisco.com (8.8.8/2.5.1/Cisco List Logging/8.8.8) with ESMTP id OAA27621
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 14:23:34 -0500 (EST)
Message-ID: <3829C636.9D323F54@cisco.com>
Date: Wed, 10 Nov 1999 14:23:34 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
Organization: CISCO
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com
Subject: Proxy questions
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I have some doubts/questions about the behavior of the proxy. I 
apologize in advance if they have been addressed in the spec and I 
have overlooked .

1. How should a stateful proxy handle a BYE if he is in the following
state :
(a) Final response has been received on some branches ( non-200 and
non-6xx)

(b) No response has been received on some other branches.

(c) Provisional response has been received on another set of branches.

2. The spec says that :
"a BYE request is forwarded like a an INVITE request"

Let us assume that a stateful proxy sets up a call between 2 parties.
The 2 parties talk and now :

Originator of INVITE sends BYE to the Contact he received in
the 200. This Contact happens to be the stateful proxy. Is the proxy
supposed to remember the contact address of the client ( which he
got from some location service while forwarding the INVITE in the first
place) or just treat this as a new request and not worry about any
prior information about this client. 

3. Finally some questions about a user agent :
(a) UA sends INVITE, never gets any response and decides to end the
call. Should he send CANCEL or BYE or nothing ?

(b) UA sends INVITE, receives provisional response and decides to
end the call. Should he send CANCEL or BYE ?



-- 
Best regards,
Shail



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 14:53:59 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA09617
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 14:53:58 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0F12F52F5; Wed, 10 Nov 1999 14:51:26 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6428652F6; Wed, 10 Nov 1999 14:51:25 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CB48952F5
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 14:51:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 14:50:20 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Wed Nov 10 14:49:14 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprch1.nortel.com; Wed, 10 Nov 1999 13:49:14 -0600
Received: from zrtpd00x.us.nortel.com ([47.140.224.108]) 
          by zrchb213.us.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VXZ905B7; Wed, 10 Nov 1999 13:49:10 -0600
Received: from americasm01.nt.com (wnc1h030.us.nortel.com [47.142.210.29]) 
          by zrtpd00x.us.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VA601Y1W; Wed, 10 Nov 1999 14:49:10 -0500
Message-ID: <3829CC35.8BD1ECE0@americasm01.nt.com>
Date: Wed, 10 Nov 1999 14:49:09 -0500
From: "Jason Emery" <jgemery@nortelnetworks.com>
Organization: Nortel
X-Mailer: Mozilla 4.5 [en]C-CCK-MCD (Win95; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jean-Hugues ROBERT <jhr@odisei.com>
Cc: Michael Thomas <mat@cisco.com>, "Gregory D. Girard" <ggirard@mediaone.net>,
        sip <sip@lists.research.bell-labs.com>,
        "Dye, Robert" <rdye@sonusnet.com>
Subject: Re: Additional Info on DTMF under SIP
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net> <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net> <3.0.5.32.19991110182109.01050680@mail.odisei.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Has anyone looked into how this was addressed in H.323?

I believe the H.323 standard suggests a solution like the INFO message.

How have they dealt with the time sensitivity issues outlined here?

Is there any value in following the H.323 lead?

Jason Emery
Nortel Networks

Jean-Hugues ROBERT wrote:

> Hi,
>
> Looks like we do not progress very fast on this topic.
>
> I now believe that both means of conveying DTMF are
> needed. Because there are two distinct requirements.
>
> 1) Reliable and timely transport of DTMF at the media level (user plane).
>         RTP is good here.
> 2) Supervisory of DTMF at the signal level (control plane)
>         SIP dtmf INFO is good here (as a negotiated option probably).
>
> There are many applications based on DTMF today. Voice is the future.
> Lets handle both well.
>
> Of course one can "get by" with any one of the solutions, but it can be
> very inconvenient (specially when SIP and RTP do not terminate at the
> same entity) :
>
> Only RTP:
>         You negotiate multiple SDPs. One for voice & DTMF will be direct
>         between the endpoints. Another one for DTMF only will be directed to
>         "supervisory"   entity. You need RTP besides SIP in supervisory entity.
>         You need to support multiple SDPs in DTMF sender endpoint.
>
> Only SIP:
>         You reinject DTMF tones inside the RTP jitter buffer. All
>         SIP msgs need to be intercepted/relayed by the "supervisory"
>         entity. You need SIP besides RTP in the DTMF receiver endpoint.
>
> I dislike both. I prefer having RTP only, because I believe that handling
> multiple SDPs requires less hardware than handling SIP in addition to RTP
> and I believe that VoIP market needs cheap IP phones.
>
> My 2 cents...
>
> Jean-Hugues ROBERT
> --------------------------------------------------------------------
> jhr@8x8.com                                        "Think globally.
> www.8x8.com                                            Act locally."




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 16:17:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA17451
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 16:17:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4E29752DF; Wed, 10 Nov 1999 16:15:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9D7B252F3; Wed, 10 Nov 1999 16:15:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 33CF952DF
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 16:15:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 10 16:14:06 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Wed Nov 10 16:12:59 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FL000K2X2VYVI@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Wed, 10 Nov 1999 21:11:59 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id VAA28884; Wed,
 10 Nov 1999 21:07:14 +0000 (GMT)
Received: from dwillispc4 ([166.37.185.228])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991110211153.RGL10632@dwillispc4>; Wed,
 10 Nov 1999 21:11:53 +0000
Date: Wed, 10 Nov 1999 15:14:17 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: Additional Info on DTMF under SIP
In-reply-to: <3.0.5.32.19991110182109.01050680@mail.odisei.com>
To: Jean-Hugues ROBERT <jhr@odisei.com>, Michael Thomas <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com, "Dye, Robert" <rdye@sonusnet.com>
Message-id: <000701bf2bc0$8bef6360$9f168082@fh.ietf.innovationslab.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



I think the real situation is much simpler:

If DTMF is to be carried to "the other end", it should be transported in the
RTP. Trying to remix signals that occur on the signaling path instead of the
media path is intractable. In other words, I think DTMF detection signalled
as an INFO message should never be reinserted into the audio stream.
Therefore, one needs RTP and INFO.

If DTMF needs to be sent to the control plane -- i.e. the detection of DTMF
is being sent to a supervisory system, many benefits are gained by adding
INFO support. These include:

1) Reliability
2) Simplification of the control application
3) Delivery of the detected DTMF to as many proxies in the signaling chain
as need it.
4) Transparency of the signaling path to the UA -- INFOs can be moved along
the proxy path, whereas RTP would either require either an RTP proxy chain
and vast amounts of additional signaling OR a direct RTP paths between the
UA and N-many control nodes. This also simplifies the UAS implementation.

Look, there's a reason why MGCP defined an event package for DTMF instead of
just sending the RTP all the way to the softswitch. This is exactly the same
thing, with a distributed control model described by the proxy chain. I
suspect it is the same reason that led to detected DTMF being transmitted in
user-info in H.323.

There's a non-aristotelian aspect here -- knowledge of a keypress is not the
same as the data of the tone produced by that keypress.

--
Dean Willis

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Jean-Hugues
> ROBERT
> Sent: Wednesday, November 10, 1999 11:21 AM
> To: Michael Thomas; Gregory D. Girard
> Cc: sip@lists.research.bell-labs.com; Dye, Robert
> Subject: Re: Additional Info on DTMF under SIP
>
>
> Hi,
>
> Looks like we do not progress very fast on this topic.
>
> I now believe that both means of conveying DTMF are
> needed. Because there are two distinct requirements.
>
> 1) Reliable and timely transport of DTMF at the media level (user plane).
> 	RTP is good here.
> 2) Supervisory of DTMF at the signal level (control plane)
> 	SIP dtmf INFO is good here (as a negotiated option probably).
>
> There are many applications based on DTMF today. Voice is the future.
> Lets handle both well.
>
> Of course one can "get by" with any one of the solutions, but it can be
> very inconvenient (specially when SIP and RTP do not terminate at the
> same entity) :
>
> Only RTP:
> 	You negotiate multiple SDPs. One for voice & DTMF will be direct
> 	between the endpoints. Another one for DTMF only will be directed to
> 	"supervisory"	entity. You need RTP besides SIP in
> supervisory entity.
> 	You need to support multiple SDPs in DTMF sender endpoint.
>
> Only SIP:
> 	You reinject DTMF tones inside the RTP jitter buffer. All
> 	SIP msgs need to be intercepted/relayed by the "supervisory"
> 	entity. You need SIP besides RTP in the DTMF receiver endpoint.
>
> I dislike both. I prefer having RTP only, because I believe that handling
> multiple SDPs requires less hardware than handling SIP in addition to RTP
> and I believe that VoIP market needs cheap IP phones.
>
> My 2 cents...
>
> Jean-Hugues ROBERT
> --------------------------------------------------------------------
> jhr@8x8.com                                        "Think globally.
> www.8x8.com                                            Act locally."
>




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 16:54:22 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA05770
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 16:54:22 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 533475300; Wed, 10 Nov 1999 16:51:41 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9780952E6; Wed, 10 Nov 1999 16:51:40 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D13FD5300
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 16:51:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 16:50:10 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 10 16:49:04 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhotz28269;
	Wed, 10 Nov 1999 21:54:23 GMT
Received: from dynamicsoft.com (dhcp22-fh199.fh.ietf.innovationslab.net [130.128.22.199])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id QAA14439;
	Wed, 10 Nov 1999 16:50:05 -0500 (EST)
Message-ID: <3829E91C.3F7435@dynamicsoft.com>
Date: Wed, 10 Nov 1999 16:52:28 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Shail Bhatnagar <shbhatna@cisco.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Shail Bhatnagar wrote:
> 
> I have some doubts/questions about the behavior of the proxy. I
> apologize in advance if they have been addressed in the spec and I
> have overlooked .
> 
> 1. How should a stateful proxy handle a BYE if he is in the following
> state :

Proxy handling of BYE has nothing to do with call state whatsoever. 

> (a) Final response has been received on some branches ( non-200 and
> non-6xx)

forward the BYE to the next address in the Route header. If none is
present, use a location service on the request-uri, just as if it were
an INVITE.

> 
> (b) No response has been received on some other branches.

forward the BYE to the next address in the Route header. If none is
present, use a location service on the request-uri, just as if it were
an INVITE.
> 
> (c) Provisional response has been received on another set of branches.

forward the BYE to the next address in the Route header. If none is
present, use a location service on the request-uri, just as if it were
an INVITE.


> Let us assume that a stateful proxy sets up a call between 2 parties.
> The 2 parties talk and now :
> 
> Originator of INVITE sends BYE to the Contact he received in
> the 200. 

No - you are forgetting about record routes. If the proxy received the
BYE, its because it was record routing. In this case, the BYE arrives
with one more Route header, which is the value copied from the Contact
header in the 200 OK to the INVITE.

This Contact happens to be the stateful proxy. Is the proxy
> supposed to remember the contact address of the client ( which he
> got from some location service while forwarding the INVITE in the first
> place) or just treat this as a new request and not worry about any
> prior information about this client.

see above rule.

> 
> 3. Finally some questions about a user agent :
> (a) UA sends INVITE, never gets any response and decides to end the
> call. Should he send CANCEL or BYE or nothing ?

This was discussed during the meeting. Its up to the implementation. 

> 
> (b) UA sends INVITE, receives provisional response and decides to
> end the call. Should he send CANCEL or BYE ?

Also up to the implementation.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 17:26:56 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21431
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 17:26:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E5F765304; Wed, 10 Nov 1999 17:23:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 22DAC5312; Wed, 10 Nov 1999 17:23:39 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id AFF8C5304
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 17:23:14 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 17:22:14 EST 1999
Received: from bounty.cisco.com ([161.44.2.72]) by dusty; Wed Nov 10 17:21:08 EST 1999
Received: from cisco.com (bounty.cisco.com [161.44.2.72])
	by bounty.cisco.com (8.8.8/2.5.1/Cisco List Logging/8.8.8) with ESMTP id RAA14206;
	Wed, 10 Nov 1999 17:22:11 -0500 (EST)
Message-ID: <3829F013.E7313CA0@cisco.com>
Date: Wed, 10 Nov 1999 17:22:11 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
Organization: CISCO
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:

> No - you are forgetting about record routes. If the proxy received the
> BYE, its because it was record routing. In this case, the BYE arrives
> with one more Route header, which is the value copied from the Contact
> header in the 200 OK to the INVITE.

Jonathan, Are you saying that a proxy will receive a BYE only if 
record-route is used ? I can think of a scenario when proxy receives
a BYE even though no record-route was used. Am I wrong in my 
thinking ?

         Firewall
UA1 ------ Proxy ------ UA2

UA1 send INVITE and firewall proxy forwards it to UA2 without 
a Record-Route header. UA2 returns a 200 with a Contact header
containing the address of the firewall proxy. Won't the proxy 
see the BYE ?

 
> This Contact happens to be the stateful proxy. Is the proxy
> > supposed to remember the contact address of the client ( which he
> > got from some location service while forwarding the INVITE in the first
> > place) or just treat this as a new request and not worry about any
> > prior information about this client.
> 
> see above rule.
> 
> >
> > 3. Finally some questions about a user agent :
> > (a) UA sends INVITE, never gets any response and decides to end the
> > call. Should he send CANCEL or BYE or nothing ?
> 
> This was discussed during the meeting. Its up to the implementation.
> 
> >
> > (b) UA sends INVITE, receives provisional response and decides to
> > end the call. Should he send CANCEL or BYE ?
> 
> Also up to the implementation.
> 
> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Best regards,
Shail



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 17:29:59 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA22881
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 17:29:58 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id EA2BB5302; Wed, 10 Nov 1999 17:27:44 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 630DA52FF; Wed, 10 Nov 1999 17:27:43 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5B149531D
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 17:27:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 10 17:25:23 EST 1999
Received: from bounty.cisco.com ([161.44.2.72]) by dusty; Wed Nov 10 17:24:17 EST 1999
Received: from cisco.com (bounty.cisco.com [161.44.2.72])
	by bounty.cisco.com (8.8.8/2.5.1/Cisco List Logging/8.8.8) with ESMTP id RAA14705;
	Wed, 10 Nov 1999 17:25:17 -0500 (EST)
Message-ID: <3829F0CC.5FC0C70A@cisco.com>
Date: Wed, 10 Nov 1999 17:25:16 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
Organization: CISCO
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 

> > (a) Final response has been received on some branches ( non-200 and
> > non-6xx)
> 
> forward the BYE to the next address in the Route header. If none is
> present, use a location service on the request-uri, just as if it were
> an INVITE.


Does this mean that even a BYE request can potentially be forked 
because location service can return 300 Multiple choices ??



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 17:38:16 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27360
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 17:38:16 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4E50F52FF; Wed, 10 Nov 1999 17:35:33 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BE35E5306; Wed, 10 Nov 1999 17:35:32 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D141D52FF
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 17:35:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 10 17:33:12 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 10 17:32:06 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhouc07514;
	Wed, 10 Nov 1999 22:37:20 GMT
Received: from dynamicsoft.com (dhcp22-fh199.fh.ietf.innovationslab.net [130.128.22.199])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id RAA14550;
	Wed, 10 Nov 1999 17:33:01 -0500 (EST)
Message-ID: <3829F328.93B3DBDF@dynamicsoft.com>
Date: Wed, 10 Nov 1999 17:35:20 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Shail Bhatnagar <shbhatna@cisco.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com> <3829F013.E7313CA0@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Shail Bhatnagar wrote:
> 
> Jonathan Rosenberg wrote:
> 
> > No - you are forgetting about record routes. If the proxy received the
> > BYE, its because it was record routing. In this case, the BYE arrives
> > with one more Route header, which is the value copied from the Contact
> > header in the 200 OK to the INVITE.
> 
> Jonathan, Are you saying that a proxy will receive a BYE only if
> record-route is used ? I can think of a scenario when proxy receives
> a BYE even though no record-route was used. Am I wrong in my
> thinking ?
> 
>          Firewall
> UA1 ------ Proxy ------ UA2
> 
> UA1 send INVITE and firewall proxy forwards it to UA2 without
> a Record-Route header. UA2 returns a 200 with a Contact header
> containing the address of the firewall proxy. Won't the proxy
> see the BYE ?

But why? Contact is supposed to be used for the user agent, not the
proxy. If you want this proxy firewall to get BYEs, use record route.
Then, you won't have any problems, since the Route header will tell the
proxy where to forward the packet. 

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 17:40:04 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA28235
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 17:40:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 71AB45305; Wed, 10 Nov 1999 17:35:38 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0CD505307; Wed, 10 Nov 1999 17:35:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8B0B05305
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 17:35:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 17:34:45 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 10 17:33:39 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhouc10853;
	Wed, 10 Nov 1999 22:38:59 GMT
Received: from dynamicsoft.com (dhcp22-fh199.fh.ietf.innovationslab.net [130.128.22.199])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id RAA14554;
	Wed, 10 Nov 1999 17:34:42 -0500 (EST)
Message-ID: <3829F391.7A90745E@dynamicsoft.com>
Date: Wed, 10 Nov 1999 17:37:05 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Shail Bhatnagar <shbhatna@cisco.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com> <3829F0CC.5FC0C70A@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Shail Bhatnagar wrote:
> 
> Jonathan Rosenberg wrote:
> >
> 
> > > (a) Final response has been received on some branches ( non-200 and
> > > non-6xx)
> >
> > forward the BYE to the next address in the Route header. If none is
> > present, use a location service on the request-uri, just as if it were
> > an INVITE.
> 
> Does this mean that even a BYE request can potentially be forked
> because location service can return 300 Multiple choices ??

Yes. Any request can be forked. The response is the best one received,
as defined in the spec. If you don't want to do this (forking the BYE is
not that useful here), use Record-Route in the proxy, rather than having
the UAS insert a Contact header pointing to the proxy. Granted, you
*can* do that, but then you should make sure your forwarding logic in
the proxy/firewall can get the BYE to the right place.

-Jonathan R.


-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 10 20:18:06 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA12055
	for <sip-archive@odin.ietf.org>; Wed, 10 Nov 1999 20:18:06 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 28DE352F3; Wed, 10 Nov 1999 20:15:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7ED155306; Wed, 10 Nov 1999 20:15:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9E27352F3
	for <sip@lists.research.bell-labs.com>; Wed, 10 Nov 1999 20:15:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 10 20:13:27 EST 1999
Received: from sd_exchange.nuera.com ([204.216.240.98]) by dusty; Wed Nov 10 20:12:21 EST 1999
Received: by sd_exchange.nuera.com with Internet Mail Service (5.5.2448.0)
	id <W1FTPTPB>; Wed, 10 Nov 1999 17:13:24 -0800
Message-ID: <613A6A6A3F09D3118F5C00508B2C24FE29B09F@sd_exchange.nuera.com>
From: "Fox, Mike" <mfox@nuera.com>
To: Dean Willis <dean.willis@wcom.com>, Jean-Hugues ROBERT <jhr@odisei.com>,
        Michael Thomas <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com, "Dye, Robert" <rdye@sonusnet.com>
Subject: RE: Additional Info on DTMF under SIP
Date: Wed, 10 Nov 1999 17:13:23 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I suspect that there was a lot of commentary on this issues at the IETF
meeting in DC with avt-tones on this afternoons agenda.  It would be nice to
see a summary of the AVT minutes on this topic forwarded to this list. 

Lets think about  the INFO option:
Ok so now you have the DTMF in an INFO message, What exactly is the
information conveyed, what event happened (given), when the event
happened(?), how long(?). When do you transmit the event: when it starts?
When it ends? Both? What about hook flash, fax/modem answer tones, and all
the other kinds of line signalling events that a SIP softswitch application
may be interested in? So one would suspect this would lead to having all the
avt-tones indications stuffed into the INFO method. Then to get this to work
for a MGCP controlled GW (gateway) you will have to define packages to
register these events via MGCP, then you would have to translate the MGCP
events into SIP INFO methods in the MGC controller, adding more propagation
delay. To get this to work with H.323 endpoints you would have to convert
INFO methods to H.245 UII or the avt-tones format if you wanted to convey
tone duration or other signalling events/attributes not represented in the
UII. This is complexity.

Now consider the rtp-avt-tones method:
GWs and softswitches (MGCP or SIP) could  just listen to the sdp (H.323
endpoints listen to H.245 create/delete connection) and send/receive the
avt-tones stream as they are told. This could be to SIP/MGCP softswitches
and/or other GW endpoints. By sending only to, and listening from a
softswitch, the softswitch could mediate the avt-tones information so that
control of the signalling between endpoints is possible. Or the avt-tones
stream could be sent to both the destination GW(s) and softswitch, or just
between the destination GW(s).  The control of where avt-tones goes, is done
using the sdp syntax which has been already defined for both SIP and MGCP,
or using H.245 for H.323 systems. So once avt-tones is an IETF draft there
is no need make new methods, packages, signalling event  formats,
conversions between different protocols, or a requirement to forward events
though intermediary softswitches . This is simplicity!

The avt-tones approach allows as much "reliability" as you want to
implement, so arguments that an "reliable" ACKed INFO method is better than
avt-tones are less than compelling. The simplification argument does not
seem correct, especially in light of the need to use event packages for MGCP
gateways, and event format conversions between SIP and other protocols
(namely MGCP and H.323).

The idea, posted earlier, that the H.323 group has looked into this issue is
correct. The avt-tones draft is in part the result of the IMTC VOIP work,
and the agreement of H.323 implementers in this IMTC forum that a rtp
signalling mechanism is the preferred method to propagate DTMF/signalling
information. The recommendation of the IMTC VOIP IA is to use a rtp-dtmf
signalling method when one becomes available.

Best regards,
Mike Fox



		-----Original Message-----
		From:	Dean Willis [mailto:dean.willis@wcom.com]
		Sent:	Wednesday, November 10, 1999 1:14 PM
		To:	Jean-Hugues ROBERT; Michael Thomas; Gregory D.
Girard
		Cc:	sip@lists.research.bell-labs.com; Dye, Robert
		Subject:	RE: Additional Info on DTMF under SIP



		I think the real situation is much simpler:

		If DTMF is to be carried to "the other end", it should be
transported in the
		RTP. Trying to remix signals that occur on the signaling
path instead of the
		media path is intractable. In other words, I think DTMF
detection signalled
		as an INFO message should never be reinserted into the audio
stream.
		Therefore, one needs RTP and INFO.

		If DTMF needs to be sent to the control plane -- i.e. the
detection of DTMF
		is being sent to a supervisory system, many benefits are
gained by adding
		INFO support. These include:

		1) Reliability
		2) Simplification of the control application
		3) Delivery of the detected DTMF to as many proxies in the
signaling chain
		as need it.
		4) Transparency of the signaling path to the UA -- INFOs can
be moved along
		the proxy path, whereas RTP would either require either an
RTP proxy chain
		and vast amounts of additional signaling OR a direct RTP
paths between the
		UA and N-many control nodes. This also simplifies the UAS
implementation.

		Look, there's a reason why MGCP defined an event package for
DTMF instead of
		just sending the RTP all the way to the softswitch. This is
exactly the same
		thing, with a distributed control model described by the
proxy chain. I
		suspect it is the same reason that led to detected DTMF
being transmitted in
		user-info in H.323.

		There's a non-aristotelian aspect here -- knowledge of a
keypress is not the
		same as the data of the tone produced by that keypress.

		--
		Dean Willis

		> -----Original Message-----
		> From: owner-sip@lists.research.bell-labs.com
		> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf
Of Jean-Hugues
		> ROBERT
		> Sent: Wednesday, November 10, 1999 11:21 AM
		> To: Michael Thomas; Gregory D. Girard
		> Cc: sip@lists.research.bell-labs.com; Dye, Robert
		> Subject: Re: Additional Info on DTMF under SIP
		>
		>
		> Hi,
		>
		> Looks like we do not progress very fast on this topic.
		>
		> I now believe that both means of conveying DTMF are
		> needed. Because there are two distinct requirements.
		>
		> 1) Reliable and timely transport of DTMF at the media
level (user plane).
		> 	RTP is good here.
		> 2) Supervisory of DTMF at the signal level (control plane)
		> 	SIP dtmf INFO is good here (as a negotiated option
probably).
		>
		> There are many applications based on DTMF today. Voice is
the future.
		> Lets handle both well.
		>
		> Of course one can "get by" with any one of the solutions,
but it can be
		> very inconvenient (specially when SIP and RTP do not
terminate at the
		> same entity) :
		>
		> Only RTP:
		> 	You negotiate multiple SDPs. One for voice & DTMF
will be direct
		> 	between the endpoints. Another one for DTMF only
will be directed to
		> 	"supervisory"	entity. You need RTP besides SIP in
		> supervisory entity.
		> 	You need to support multiple SDPs in DTMF sender
endpoint.
		>
		> Only SIP:
		> 	You reinject DTMF tones inside the RTP jitter
buffer. All
		> 	SIP msgs need to be intercepted/relayed by the
"supervisory"
		> 	entity. You need SIP besides RTP in the DTMF
receiver endpoint.
		>
		> I dislike both. I prefer having RTP only, because I
believe that handling
		> multiple SDPs requires less hardware than handling SIP in
addition to RTP
		> and I believe that VoIP market needs cheap IP phones.
		>
		> My 2 cents...
		>
		> Jean-Hugues ROBERT
		>
--------------------------------------------------------------------
		> jhr@8x8.com                                        "Think
globally.
		> www.8x8.com                                            Act
locally."
		>
		



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 01:01:48 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA29029
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 01:01:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D81B75308; Thu, 11 Nov 1999 00:59:26 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 22DD65309; Thu, 11 Nov 1999 00:59:26 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0075F5308
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 00:59:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 11 00:58:15 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Thu Nov 11 00:57:09 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FL000H0HR90VX@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 11 Nov 1999 05:58:13 +0000 (GMT)
Received: from omta1.mcit.com (omta1.mcit.com [166.37.204.2])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id FAA27602; Thu,
 11 Nov 1999 05:53:30 +0000 (GMT)
Received: from wcom.com ([166.44.172.42])
 by omta1.mcit.com (InterMail v03.02.05 118 121 101)
 with ESMTP id <19991111055737.FRPJ21836@wcom.com>; Wed,
 10 Nov 1999 23:57:37 -0600
Date: Wed, 10 Nov 1999 23:56:52 -0600
From: Jiri Kuthan <jiri.kuthan@wcom.com>
Subject: Re: Additional Info on DTMF under SIP
To: "Michael A. Ramalho" <mramalho@cisco.com>
Cc: Michael Thomas <mat@cisco.com>, "Gregory D. Girard" <ggirard@mediaone.net>,
        sip@lists.research.bell-labs.com, "Dye, Robert" <rdye@sonusnet.com>
Message-id: <382A5AA3.A03D4A4E@wcom.com>
Organization: MCI WorldCom
MIME-version: 1.0
X-Mailer: Mozilla 4.61 [en] (Win98; I)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
 <4.1.19991110082522.00a56980@localhost>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


"Michael A. Ramalho" wrote:

>
> Back then, most of the discussion revolved around the tradeoff of reliability
> vs timing accuracy; the TCP reliability at the expense of delay under
> packet loss vs. RTP method which preserved timing relationships at the
> cost of adding RTP redundancy. Timing (inter DTMF tone timing in
> particular) is assumed for many IVR applications (e.g., banking).

Please, could you explain me why timing is assumed for many IVR applications?
 The most IVR applications I know need realiable in-order delivery rather than
exact timing. In my understanding, a banking IVR from the example will be
affected by insufficient reliability (i.e. by a loss of a digit) rather than by
missing
timing accuracy.

> In fact, it could be shown that under certain packet loss conditions that
> the TCP channel would have died and the RTP (w/redundancy) method
> would have been successful. These high-loss conditions are probably
> not your application area (with ATM cell losses on the order of 1 in 10^6),
> but they are for other application spaces.

The RTP method (avt-tones) meets certainly requirements of most applications.
However, if a bursty loss or jitter occurs it may fail to deliver a DTMF digit.
This is not so likely if DTMF/SIP-INFO/UDP is used, since the recevier's
SIP stack (unlike RTP stack) does not impose real-time constraints which
may lead to packet discarding and its exponential back-off retransmission mechanism
resists bursty loss better. Thus, applications with a strong need for reliable
in-order delivery like the phone banking application may prefer to choose this
method.

Additionally, DTMF/SIP-INFO
- may explore the SIP security which is likely to find faster acceptance than RTP
security
- may be preferable if the signaling path difers from media path (e.g. if an IVR
  consists of two boxes with signaling and IVR intelligence residing in one unit
  and media player/recorder in the other)

Jiri
--
Jiri Kuthan, MCI WorldCom, E-mail jiri.kuthan@wcom.com, VNET 777-6536, phone
972-729-6536




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 09:30:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA10273
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 09:30:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BA72552DF; Thu, 11 Nov 1999 09:27:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1822152EF; Thu, 11 Nov 1999 09:27:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id AFDEB52DF
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 09:27:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 11 09:25:27 EST 1999
Received: from bounty.cisco.com ([161.44.2.72]) by dusty; Thu Nov 11 09:24:21 EST 1999
Received: from cisco.com (bounty.cisco.com [161.44.2.72])
	by bounty.cisco.com (8.8.8/2.5.1/Cisco List Logging/8.8.8) with ESMTP id JAA25068;
	Thu, 11 Nov 1999 09:25:22 -0500 (EST)
Message-ID: <382AD1D2.19E36383@cisco.com>
Date: Thu, 11 Nov 1999 09:25:22 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
Organization: CISCO
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com> <3829F0CC.5FC0C70A@cisco.com> <3829F391.7A90745E@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan, Thanks for your quick responses. So, to summarize our 
exchanges :
(a) Since Contact is a MUST in INVITE and 200, either the BYE will go
directly to the user agent ( without record-route).
     
OR

(b) With Record-Route it will come to the proxy.

OR

(c) If the caller decides to send a BYE before receiving a 200 
from the callee, the BYE would be handled by the "originating" proxy,
just as the corresponding INVITE was handled.

Regards,
Shail


Jonathan Rosenberg wrote:
> 

> 
> Yes. Any request can be forked. The response is the best one received,
> as defined in the spec. If you don't want to do this (forking the BYE is
> not that useful here), use Record-Route in the proxy, rather than having
> the UAS insert a Contact header pointing to the proxy. Granted, you
> *can* do that, but then you should make sure your forwarding logic in
> the proxy/firewall can get the BYE to the right place.
> 
> -Jonathan R.
>



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 10:08:24 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA28797
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 10:08:24 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 17D6052F0; Thu, 11 Nov 1999 10:03:32 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 09D5352FA; Thu, 11 Nov 1999 10:03:30 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 95EDC52F0
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 10:03:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 11 10:02:29 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Nov 11 10:01:23 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhowq24859;
	Thu, 11 Nov 1999 15:06:44 GMT
Received: from dynamicsoft.com (dhcp22-fh199.fh.ietf.innovationslab.net [130.128.22.199])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id KAA15596;
	Thu, 11 Nov 1999 10:02:26 -0500 (EST)
Message-ID: <382ADB15.BACA938@dynamicsoft.com>
Date: Thu, 11 Nov 1999 10:04:53 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Shail Bhatnagar <shbhatna@cisco.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Proxy questions
References: <3829C636.9D323F54@cisco.com> <3829E91C.3F7435@dynamicsoft.com> <3829F0CC.5FC0C70A@cisco.com> <3829F391.7A90745E@dynamicsoft.com> <382AD1D2.19E36383@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Shail Bhatnagar wrote:
> 
> Jonathan, Thanks for your quick responses. So, to summarize our
> exchanges :
> (a) Since Contact is a MUST in INVITE and 200, either the BYE will go
> directly to the user agent ( without record-route).
> 
> OR
> 
> (b) With Record-Route it will come to the proxy.
> 
> OR
> 
> (c) If the caller decides to send a BYE before receiving a 200
> from the callee, the BYE would be handled by the "originating" proxy,
> just as the corresponding INVITE was handled.

Not just the originating, but all proxies that might receive this
INVITE. Note that this might result in the BYE not being routed along
the same path as the INVITE. In unusual cases, this could cause
inconsistent call state, if the BYE never reaches a host that got the
INVITE. This was discussed during the meeting. There are solutions, and
the problem can be avoided altogether by sending CANCEL until a 200 OK
comes, and after that, sending BYE.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 19:06:16 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03327
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 19:06:15 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CB6225670; Thu, 11 Nov 1999 18:45:37 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E2E18542B; Thu, 11 Nov 1999 18:09:27 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E802F533B
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 18:07:12 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 11 14:56:22 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Nov 11 14:55:16 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhoxk11331;
	Thu, 11 Nov 1999 20:00:26 GMT
Received: from dynamicsoft.com (dhcp45-lt205.lt.ietf.innovationslab.net [130.128.45.205])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id OAA28497;
	Thu, 11 Nov 1999 14:55:53 -0500 (EST)
Message-ID: <382B1FD8.891B8F87@dynamicsoft.com>
Date: Thu, 11 Nov 1999 14:58:16 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jiri Kuthan <jiri.kuthan@wcom.com>
Cc: "Michael A. Ramalho" <mramalho@cisco.com>, Michael Thomas <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>,
        sip@lists.research.bell-labs.com, "Dye, Robert" <rdye@sonusnet.com>
Subject: Re: Additional Info on DTMF under SIP
References: <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
	 <007401bf2b5d$ba1ed940$122cda18@goliath.ne.mediaone.net>
	 <4.1.19991110082522.00a56980@localhost> <382A5AA3.A03D4A4E@wcom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Jiri Kuthan wrote:
> 
> "Michael A. Ramalho" wrote:
> 
> >
> > Back then, most of the discussion revolved around the tradeoff of reliability
> > vs timing accuracy; the TCP reliability at the expense of delay under
> > packet loss vs. RTP method which preserved timing relationships at the
> > cost of adding RTP redundancy. Timing (inter DTMF tone timing in
> > particular) is assumed for many IVR applications (e.g., banking).
> 
> Please, could you explain me why timing is assumed for many IVR applications?
>  The most IVR applications I know need realiable in-order delivery rather than
> exact timing. In my understanding, a banking IVR from the example will be
> affected by insufficient reliability (i.e. by a loss of a digit) rather than by
> missing
> timing accuracy.

The time it takes to recover from a single loss of the INFO packet can
be several seconds. Now, lets look at your banking application. The
machine says "enter the amount now". Then, I press "1", but it is lost.
As the banking system doesn't get the digit yet, it continues to talk to
me, and I think it didn't work, so I press "1" again. Both then arrive,
and I've just transferred twice the amount needed.

Note that a single loss will not have such an affect on the RTP
encapsulation. In the case of heavy bursty losses, neither approach will
work. I won't be able to hear the audio from the IVR system telling me
to enter my digits, and the delays until the digits register might be so
bad that the above problem is significantly amplified. To realistically
deploy IP based IVR banking solutions, you must have good transport
service, period.


> - may be preferable if the signaling path difers from media path (e.g. if an IVR
>   consists of two boxes with signaling and IVR intelligence residing in one unit
>   and media player/recorder in the other)

I'm glad you raise this. I believe it is precisely this case where RTP
encapsulation is superior. In the model above, there is a controller
which is responsible for the service. It issues commands, and gets
responses, from a media device that plays the audio and receives the
audio. These commands probably include things like "play this
announcement", or "speak the number 55". The decisions the controller
makes about what to do are going to be based on *both* the digits (and
voice) the user inputs (number 5 was pressed), as well as the state of
the media device (finished playing announcement X).

In this architecture, we also have it such that the signaling goes to
the controller, and the media to the media device. There is some kind of
control and response protocol (MGCP plus some package for IVR, or
something equivalent). So, our architecture is this:



   +----------+
   |controller|  --------------SIP-------------------
   |          |
   +----------+
        |
        |
       MGCP
        |
        |
   +----------+
   |  media   |
   | device   | ---------------RTP --------------------
   +----------+

Now, if the DTMF is being transported by INFO, the controller is
receiving data about the service progression from two independent places
- the media device, and the SIP stream from the user. Lets say the media
device is playing some announcement, and then reports to the controller
that the announcement finished playing, and then a SIP INFO method
arrives containing the digit 3. Did this digit get dialed before, or
after, the tone finished playing? What if it matters? Perhaps I replay
the announcement on timeout, but play some other announcement if a key
is pressed? 

Consider also the case where the calling user doesn't have the DTMF
codec. Now, we need to place this function in the media device. The
controller won't know, in this case, whether the dtmf reporting will
come from the media device or the SIP signaling. Worse yet, what if it
gets both? Lets say a user has a DTMF codec, but its not very good. The
user presses 7, which the DTMF codec fails to detect, so it gets sent in
the audio stream. Then, the user presses 8, and this is send as an INFO
payload. The poor controller receives a report of a digit 7 from the
media device, and an 8 in the INFO method. Which came first?????

It gets even worse. Even a good DTMF detector takes some time to detect.
Thus, the beginning part of the DTMF may get into the audio stream (some
implementations force buffering at the sender to allow these packets to
be discarded; that doesn't work for frame based codecs where the DTMF
might cross frame boundaries...). Thus, the media device may report a
digit, and its also sent in the INFO method. The result is duplication
at the controller. Just what I want - insertion of an extra 0 in my
withdrawal amount.

Since, in this architecture, the media device is *already* reporting
events to the controller, and since we have also determined that it must
be prepared to do dtmf detection and report digits anyway (this is a
standard baseline function for an MG in the MGCP architecture), what is
gained by ALSO forcing the controller to expect the DTMF in the
signalling stream?

There is also the issue of voice recognition. "Say or speak 1" simply
doesn't work with dtmf over INFO, but works nicely if the dtmf reporting
is done in the media device only. In fact, having the dtmf sent in RTP,
and reported by the media device, means the controller doesn't even need
to know (although it can) whether the 1 was spoken or pressed. 

Control systems are harder to do when the data about the controlled
device state is being reported by two independent, unsynchronized
sources. All of the problems above go away by keeping the DTMF transport
within RTP.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 19:15:02 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06822
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 19:15:01 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id F1D835389; Thu, 11 Nov 1999 18:54:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9841A5331; Thu, 11 Nov 1999 18:52:51 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 803F957CB
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 18:51:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 11 18:49:36 EST 1999
Received: from smtp2.andrew.cmu.edu ([128.2.10.82]) by dusty; Thu Nov 11 18:48:31 EST 1999
Received: from JON2.WV.CC.CMU.EDU (JON2.WV.CC.CMU.EDU [128.2.66.101])
	by smtp2.andrew.cmu.edu (8.9.3/8.9.3) with ESMTP id SAA04232;
	Thu, 11 Nov 1999 18:49:26 -0500 (EST)
Date: Thu, 11 Nov 1999 18:49:26 -0500
From: Jon Schlegel <jon2@andrew.cmu.edu>
To: hgs@cs.columbia.edu, jdrosen@dynamicsoft.com
Cc: sip@lists.research.bell-labs.com, jon2@andrew.cmu.edu,
        bjenkin@andrew.cmu.edu, mrappard@andrew.cmu.edu,
        ktrivedi@andrew.cmu.edu, psolanki@andrew.cmu.edu,
        rsipko@andrew.cmu.edu
Subject: Questions regarding REGISTER 
Message-ID: <1748328366.942346166@JON2.WV.CC.CMU.EDU>
Originator-Info: login-token=Mulberry:01c4tGyt36tPyF+c5Qugx2Jwbrwff+v7/gAHQvqQs=;
 token_authority=postmaster@andrew.cmu.edu
X-Mailer: Mulberry (Win32) [1.4.4, s/n S-100002]
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

	In the interests of robustness, we have been reexamining our
implementation of the SIP Registrar and we have a few questions regarding
how REGISTER requests should be handled.  While we agree that the CSeq
value cannot be used to enforce global ordering on register requests, since
the requests may come from different Call-IDs, it seems that the CSeq value
could be used to enforce ordering on requests with the same Call-ID.
Further, the SIP specification indicates that Clients SHOULD enforce
ordering on their own by avoiding sending a new registration until a
response has been received for their previous register request, however it
does not say that clients MUST enforce ordering, so it is possible for a
request with a lower CSeq and a given Call-ID to arrive after a request
with a higher CSeq and the same Call-ID.  This might cause problems if the
request with the lower CSeq cancelled all registrations.  In order to get
around these problems, we have devised the following scheme for processing
REGISTER requests:

	-An incoming register for a given To which has a different Call-ID than
any other 
 	register currently in the database for that To is added to the database.
No previous
	registrations are modified or replaced.

	-An incoming register with the same To and Call-ID as other registrations
in the 	database, but with a different Contact field is added to the
database.  No previous 	registrations are modified or replaced.

	-An incoming register with the same To, Call-ID, and Contact as a
registration currently
	existing in the database, but with a lower CSeq value is discarded.
	
	-An incoming register with the same To, Call-ID, and Contact as a
registration 	currently existing in the database, but with a CSeq value >=
than the CSeq value 
	for the registration currently in the database is processed according to
the following 
	rules:
		-Compare the q values for the registrations, if the q value for the
incoming 		registration is greater than the q value for the registration
currently in the database,
		replace.  If the q value for the incoming registration is less than the q
value for the 
		registration currently in the database discard the incoming registration.
		-If the q values of the two registrations are equal, compare the TTLs for
the two 
		registrations.  If the TTL for the incoming registration is greater,
replace the entry
		currently in the database with the new registration, otherwise discard
the new 
		registration.  

	-An incoming register with the same To as a registration or set of
registrations 	currently in the database, but with Expires: 0 and Contact:
* deletes all registrations 	from the databaes with the same To, except for
those with the same Call-ID and a 
	higher CSeq value than the incoming registration.
	
	-An incoming register with the same To as a registration or set of
registrations 	currently in the database, but with Expires: 0 and a
specified contact field deletes
	the registration with the given To and Contact, unless the registration
with the given
	To and Contact has the same Call-ID and a greater CSeq value.  

Are there any problems that might be caused by handling REGISTER requests
in this manner?  The only problem that we can think of is that if someone
happens to crash their client and then it comes back up with the same
Call-ID, it will then try to renew its registrations with a lower CSeq than
the registrations which are already in the database, and the new
registrations will get discarded.  However, if the Call-ID is chosen using
cryptographically random identifiers, as the RFC indicates it should be,
this scenario is highly unlikely.  




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 20:18:49 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA07409
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 20:18:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A3DA752E6; Thu, 11 Nov 1999 19:35:30 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B5312535A; Thu, 11 Nov 1999 19:35:29 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9093452E6
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 19:35:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 11 19:33:15 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Thu Nov 11 19:32:09 EST 1999
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id TAA18157;
	Thu, 11 Nov 1999 19:33:07 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by opus.cs.columbia.edu (8.9.1/8.9.1) with ESMTP id TAA02465;
	Thu, 11 Nov 1999 19:33:06 -0500 (EST)
Message-ID: <382B6042.7443BC1C@cs.columbia.edu>
Date: Thu, 11 Nov 1999 19:33:06 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.61 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jon Schlegel <jon2@andrew.cmu.edu>
Cc: jdrosen@dynamicsoft.com, sip@lists.research.bell-labs.com,
        bjenkin@andrew.cmu.edu, mrappard@andrew.cmu.edu,
        ktrivedi@andrew.cmu.edu, psolanki@andrew.cmu.edu,
        rsipko@andrew.cmu.edu
Subject: Re: Questions regarding REGISTER
References: <1748328366.942346166@JON2.WV.CC.CMU.EDU>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I'm not sure complicated rules are necessary. Clients should generally
not send a registration for '*' (to cancel all) unless they know they
want to start with a clean slate. The typical distributed update would
simply leave the default registration ("home") alone and just change the
temporary address, with a higher q value. Removing registrations should
almost never be necessary, since they time out and having one hang
around a few minutes longer than needed does no harm.

Since a client generally does not know why some other client has
registered, about the only thing that is robust is manual removal, from
a list of current registrations.

Thus, I'm not sure when the order of arrival would matter. What problem,
exactly, are you trying to solve?
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 21:23:54 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA29569
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 21:23:54 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5B6305300; Thu, 11 Nov 1999 21:21:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3414E5304; Thu, 11 Nov 1999 21:21:27 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2F1165300
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 21:21:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 11 21:20:58 EST 1999
Received: from sd_exchange.nuera.com ([204.216.240.98]) by dusty; Thu Nov 11 21:19:50 EST 1999
Received: by sd_exchange.nuera.com with Internet Mail Service (5.5.2448.0)
	id <WW8M8CMX>; Thu, 11 Nov 1999 18:20:35 -0800
Message-ID: <613A6A6A3F09D3118F5C00508B2C24FE29B0FB@sd_exchange.nuera.com>
From: "Fox, Mike" <mfox@nuera.com>
To: Dean Willis <dean.willis@wcom.com>
Cc: IETF SIP <sip@lists.research.bell-labs.com>
Subject: RE: Additional Info on DTMF under SIP
Date: Thu, 11 Nov 1999 18:20:34 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

> From: Dean Willis [mailto:dean.willis@wcom.com]
...
> Why does MGCP use media signals rather than just passing the 
> RTP up to the
> softswitch?
> 
> Answer: because signaling is not the same as media. Passing 
> the RTP upstream
> would require splitting off the tones RTP stream, forking it, 
> and proxying
> it numerous times along the control path. Messy and awkward.
>
This cuts both ways. INFO messages must be forwarded, avt-tones can be
forked or forwarded. Forwarded information may cross proxies who do not care
about their content. Forked information is only sent to the interested
listeners. In general, forked information will arrive at all the listeners
of a proxy chain more quickly than forwarded messages. The avt-tones method
leaves the implementation with a choice, INFO messages do not.
> 
> Thinking of a softswitch as an enhancd services platform is a 
> vey limited
> approach. I visualize the current round of softswitch products as
> large-scale media gateway controllers and telephony signaling 
> gateways that
> adapt from GSTN to SIP. Enhanced services can then be built 
> very simply on
> general purpose computers using the same SIP interface to the 
> softswitch
> that softswitches use between themselves. These enhanced 
> services often
> don't need to be anywhere near the media path.
> 
I do not think about avt-tones as only a media stream. It has duality, with
both good media and good signalling characteristics. It is up to the
receiver as to what property it wants from it.

Best regards,
Mike Fox



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 11 22:37:12 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA18493
	for <sip-archive@odin.ietf.org>; Thu, 11 Nov 1999 22:37:12 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D8E5C52F5; Thu, 11 Nov 1999 22:33:46 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4532E52AB; Thu, 11 Nov 1999 22:33:46 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 953D652F5
	for <sip@lists.research.bell-labs.com>; Thu, 11 Nov 1999 22:33:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 11 22:32:06 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Thu Nov 11 22:30:57 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 id <0FL200301AB09V@firewall.mcit.com>
 (original mail from dean.willis@wcom.com) for
 sip@lists.research.bell-labs.com; Fri, 12 Nov 1999 03:27:57 +0000 (GMT)
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FL100N7CTHETA@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 11 Nov 1999 19:44:04 +0000 (GMT)
Received: from omzmta01.mcit.com (omzmta01.mcit.com [166.37.194.119])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id TAA02091; Thu,
 11 Nov 1999 19:42:34 +0000 (GMT)
Received: from dwillispc4 ([166.37.185.128])
 by omzmta01.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991111194359.IRMY10632@dwillispc4>; Thu,
 11 Nov 1999 19:43:59 +0000
Date: Thu, 11 Nov 1999 13:46:24 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: Additional Info on DTMF under SIP
In-reply-to: <613A6A6A3F09D3118F5C00508B2C24FE29B09F@sd_exchange.nuera.com>
To: IETF SIP <sip@lists.research.bell-labs.com>, "Fox, Mike" <mfox@nuera.com>
Message-id: <001001bf2c7d$6f72ec80$9f168082@fh.ietf.innovationslab.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Mike Fox asked:
> I suspect that there was a lot of commentary on this issues at the IETF
> meeting in DC with avt-tones on this afternoons agenda.  It would
> be nice to
> see a summary of the AVT minutes on this topic forwarded to this list.

Oddly enough, the avt-tones discussion passed with almost no commentary.
There was however some discussion of the topic in the SIP WG. The division
was along the lines of:

a) DTMF is just noises in the media path which need to be conveyed to the
other end and dropped off, synchronized to the other noises, in the most
loss-and bandwitdh efficient and compression-tolerant manner possible.

vs.

b) DTMF is user input to the signaling process and can affect call state and
the invocation of features, including features implemented on systems which
exist only in the control plane.

> Lets think about  the INFO option:
> Ok so now you have the DTMF in an INFO message, What exactly is the
> information conveyed, what event happened (given), when the event
> happened(?), how long(?). When do you transmit the event: when it starts?
> When it ends? Both? What about hook flash, fax/modem answer tones, and all
> the other kinds of line signalling events that a SIP softswitch
> application
> may be interested in? So one would suspect this would lead to
> having all the
> avt-tones indications stuffed into the INFO method. Then to get
> this to work
> for a MGCP controlled GW (gateway) you will have to define packages to
 . . .

That's why the draft on using tones-in-info uses the same event package as
MGCP.

> And the avt-tones option

Why does MGCP use media signals rather than just passing the RTP up to the
softswitch?

Answer: because signaling is not the same as media. Passing the RTP upstream
would require splitting off the tones RTP stream, forking it, and proxying
it numerous times along the control path. Messy and awkward.

Thinking of a softswitch as an enhancd services platform is a vey limited
approach. I visualize the current round of softswitch products as
large-scale media gateway controllers and telephony signaling gateways that
adapt from GSTN to SIP. Enhanced services can then be built very simply on
general purpose computers using the same SIP interface to the softswitch
that softswitches use between themselves. These enhanced services often
don't need to be anywhere near the media path.

This structure is directly analogous to the computational model for GSTN
switching that MCI introduced some yeas ago -- the service logic controls
the switching logic which conrols the port hardware. It's very scalable and
very distributable. Of course, doing it with robust IP protocols also makes
it a lot easier than the GSTN network ever was . . .

Let's consider the common IVR (interactive voice response) application:

A caller places a call to the IVR.

If the caller is on GSTN, the call routes to a gateway, becomes SIP, and is
passed to a service node as a SIP INVITE through one or more SIP proxies.

-or-

If the caller is on IP, the call is passed as a SIP INVITE to a service
node, perhaps through one or more SIP proxies.

The service node responds to the IN with a 200 OK describing a media path to
a media player conrolled by the service node via RTSP.

The caller responds with an ACK, and the service node activates playout of a
greeting on the media player.

The caller barges in by pressing key 4 partway through message play.

If the caller is on PSTN, the gateway detects the 4 and sends it along the
signaling path as an INFO message.
-or-
If the caller is on IP, the caller's device generates an INFO message
containing "4" and sends it along the signaling path as an INFO message.

The service node receives the INFO "4" and executes service logic to forward
the call.

Based on the service logic, the service node terminates menu play via RTSP
to the media server and uses SIP call control (INVITE Replaces) to forward
teh call to another destination.

Conclusion: We have demonstrated a useful, modular aproach to application
building which allows for service logic to be completely separate from the
media path. It is enabled by sending detected user input as INFO messages
along the SIP signaling path. Cool.


--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 03:18:57 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA10523
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 03:18:56 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 67E985310; Fri, 12 Nov 1999 03:15:50 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2D0455308; Fri, 12 Nov 1999 03:15:45 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8D9E25308
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 03:15:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 03:14:46 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Fri Nov 12 03:13:37 EST 1999
Received: from toshjhr.odisei.com (195.78.3.94) by odisei.com with SMTP (Eudora
 Internet Mail Server 2.2.2); Fri, 12 Nov 1999 09:26:39 +0100
Message-Id: <3.0.5.32.19991111180650.010ff1a0@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Thu, 11 Nov 1999 18:06:50 +0100
To: Dean Willis <dean.willis@wcom.com>, Michael Thomas <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: RE: Additional Info on DTMF under SIP
Cc: sip@lists.research.bell-labs.com, "Dye, Robert" <rdye@sonusnet.com>
In-Reply-To: <000701bf2bc0$8bef6360$9f168082@fh.ietf.innovationslab.net>
References: <3.0.5.32.19991110182109.01050680@mail.odisei.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi Dean,

>I think the real situation is much simpler:
>
>If DTMF is to be carried to "the other end", it should be transported in the
>RTP. Trying to remix signals that occur on the signaling path instead of the
>media path is intractable. In other words, I think DTMF detection signalled
>as an INFO message should never be reinserted into the audio stream.
>Therefore, one needs RTP and INFO.

DTMF is an issue with some codecs. That is the main reason why they must
be transported using a specific RTP payload.

Another reason is that DTMF tone detection, when it is needed, can
sometimes be more cost effective if done by the sending entity, while
still handled "in-band" for convenience.

Regarding the "reinsertion" of DTMF tone inside the media stream...
well it is the only solution that I found to "get by" with a SIP
dtmf INFO  when the sending entity does not have a DTMF payload
and when the codec does not handle DTMF well. It is ugly. That is
why I believe both SIP dtmf INFO and DTMF RTP payload are needed.

>If DTMF needs to be sent to the control plane -- i.e. the detection of DTMF
>is being sent to a supervisory system, many benefits are gained by adding
>INFO support.
> ...

I agree.

>Look, there's a reason why MGCP defined an event package for DTMF instead of
>just sending the RTP all the way to the softswitch.
> ...

ditto

>I suspect it is the same reason that led to detected DTMF being
transmitted in
>user-info in H.323.

It may be H.323's solution to DTMF unfriendly Codecs...

>There's a non-aristotelian aspect here -- knowledge of a keypress is not the
>same as the data of the tone produced by that keypress.
>

That is an interesting point, should we need a SIP keypressed INFO msg :-)

Sometimes WorseIsBetter. There may not exist such a thing as an "elegant
DTMF handling". Who says "PSTN is elegant" anyways ?

Jean-Hugues Robert



--------------------------------------------------------------------
jhr@8x8.com                                        "Think globally.
www.8x8.com                                            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 08:25:00 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA25646
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 08:25:00 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 101C0530B; Fri, 12 Nov 1999 08:21:43 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4232852FA; Fri, 12 Nov 1999 08:21:41 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 539DF52FA
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 08:21:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 12 08:19:48 EST 1999
Received: from tungsten.btinternet.com ([194.73.73.81]) by dusty; Fri Nov 12 08:18:39 EST 1999
Received: from [212.140.34.73] (helo=tkw)
	by tungsten.btinternet.com with smtp (Exim 2.05 #1)
	id 11mGbn-0000UQ-00; Fri, 12 Nov 1999 13:19:19 +0000
Message-ID: <008c01bf2d10$980d5340$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Dean Willis" <dean.willis@wcom.com>, "Michael Thomas" <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>,
        "Jean-Hugues ROBERT" <jhr@odisei.com>
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
Subject: Re: Additional Info on DTMF under SIP
Date: Fri, 12 Nov 1999 13:17:59 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MIMEOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I just wanted to ask whether the issues of feature interaction have been
addressed here?  For example, I might be connected to a service that
provides toll by-pass and uses DTMF to control follow-on calls etc.  One of
the calls I make might be to the (now standard) banking service.  In this
case the two systems may interpret the commands in a different way, and
indeed do the interpretation at the same time.  Does this need to be
addressed?  (My understanding of some of the schemes proposed is that the
RTP DTMF sender would send the RTP packets to all entities that had
indicated that they want DTMF info.  This would cause a lot of feature
interaction problems.)

BTW, I do think that any banking system that doesn't allow for unintended
double key hits, or mis-detection of key hits is a bad UI system.  I mis-key
all the time.  Intermittent noise can also cause false detections.  I would
advise changing banking providers in this case!!!

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 08:26:59 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA26126
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 08:26:58 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9800E5308; Fri, 12 Nov 1999 08:21:42 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6FF95530A; Fri, 12 Nov 1999 08:21:41 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1397F5308
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 08:21:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 08:19:51 EST 1999
Received: from tungsten.btinternet.com ([194.73.73.81]) by dusty; Fri Nov 12 08:18:42 EST 1999
Received: from [212.140.34.73] (helo=tkw)
	by tungsten.btinternet.com with smtp (Exim 2.05 #1)
	id 11mGbl-0000UQ-00; Fri, 12 Nov 1999 13:19:18 +0000
Message-ID: <008b01bf2d10$96e0ba20$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Fox, Mike" <mfox@nuera.com>, "Dean Willis" <dean.willis@wcom.com>,
        "Jean-Hugues ROBERT" <jhr@odisei.com>,
        "Michael Thomas" <mat@cisco.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
Cc: <sip@lists.research.bell-labs.com>, "Dye, Robert" <rdye@sonusnet.com>
Subject: Re: Additional Info on DTMF under SIP
Date: Fri, 12 Nov 1999 13:03:51 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MIMEOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Just for the record, as here, IMTC VoIP came to the conclusion that there
was probably a need for both schemes, and RTP based DTMF signalling was not
favoured over a signalling path equivalent.  The VoIP doc goes on about the
RTP method more than the control plane method because the H.323 docs already
covered off the control plane method, but did not include much (anything?)
on the RTP method.  (Also the original editors of the VoIP doc were very
into DTMF over RTP, so that in itself favoured the RTP approach also!!!  But
not unfairly of course  as none of us would do that!!!)

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Fox, Mike <mfox@nuera.com>
To: Dean Willis <dean.willis@wcom.com>; Jean-Hugues ROBERT <jhr@odisei.com>;
Michael Thomas <mat@cisco.com>; Gregory D. Girard <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>;
Dye, Robert <rdye@sonusnet.com>
Date: 11 November 1999 01:18
Subject: RE: Additional Info on DTMF under SIP


>
>The idea, posted earlier, that the H.323 group has looked into this issue
is
>correct. The avt-tones draft is in part the result of the IMTC VOIP work,
>and the agreement of H.323 implementers in this IMTC forum that a rtp
>signalling mechanism is the preferred method to propagate DTMF/signalling
>information. The recommendation of the IMTC VOIP IA is to use a rtp-dtmf
>signalling method when one becomes available.
>





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 08:29:47 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA26813
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 08:29:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D75845304; Fri, 12 Nov 1999 08:27:37 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 813C052FA; Fri, 12 Nov 1999 08:27:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id AEE98530A
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 08:27:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 12 08:26:24 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Fri Nov 12 08:25:14 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id IAA21018;
	Fri, 12 Nov 1999 08:26:19 -0500 (EST)
Message-ID: <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Dean Willis" <dean.willis@wcom.com>
Cc: "Dye, Robert" <rdye@sonusnet.com>, <sip@lists.research.bell-labs.com>
Subject: DTMF signaling between media gateways - ouch!
Date: Fri, 12 Nov 1999 08:26:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Dean,
I believe your reasoning is excellent and entirely consistent with similiar
(but not the same points) I offered in
several prior messages. It would appear that this DTMF thing could keep SIP
out of Enhanced Services Platform
strategies due to the simple inability of SIP supports to decide on a way to
transmit the simplest signals of all - DTMF user input.
Aside from other considerations, in my opinion, any DTMF signalling
technique that RELIES upon an IP transport (RTP in this case) is
dead on arrival. Such an approach pre-supposes the bearer channel transport
technology and thus binds SIP to VoIP solutions. Insofar as
ATM and Frame Relay transports exist (and particularly ATM, which is coming
on strong) and are growing, it makes no sense to me to
create an artificial dependency on IP/RTP.

In fact, to take it one step further, I will share with you that more than
two of our customer prospects for enhanced services have indicated that
their primary backbone technology for bearer channel transport shall be ATM.
We hear this more an more. The IP enviroment will provide a signaling and
service-oriented network. Although the ATM transport has provisions for
carrying DTMF information, an RTP DTMF solution won't solve these problems
for this reason: we would find ourselves engineering a new DTMF
network-layer solution for each new enviroment. And once again, no one has
resolved the issue that the enhanced services platform may have no media
connection to the media gateway, or if they do, it would likely be
half-duplex for the purpose of playing prompts. Finally, an IP phone based
upon H.323 would not generate DTMF tones at all, but instead would transmit
them has digit codes (H.245 signaling I believe) to the other end, which is
likely to be a softswitch. Is the idea that the Softswitch will have to then
invoke a DSP algorithm to generate the DTMF waveform and "inject" it into
the RTP call leg to the Enhanced Services Platform ?

I may be missing something here because I'm not an expert in every protocol
in the PSTN, but see if you can follow this line of reasoning.
It is my understanding that all ISDN and H.32X (multimedia for ISDN, IP,
ATM, etc.) protocols have pushed DTMF signaling into outband signaling
pathways to get them out of the media path. In ISDN, they are carried in a
"D" channel. Certain SIP contributors suggest that it should be pushed back
into the media path. Resultantly we encounter a strange circumstance in
which the end terminal on a connection uses outband DTMF which has to be
*put back into* the media path by a media gateway DSP resource! To matters
even stanger, if the other end of the connection (passing through a set of
media gateways) was the same kind of ISDN or H.32X terminal, that DTMF
information that was injected into the media path would have to be detected
once again and re-converted back into outband signals prior to reaching the
end terminal.

Summarily, to use the media stream alone for DTMF signaling would be the
equivelent of architecting the next generation network to use outband DTMF
signaling to its end-user ISDN and H.32X terminals while using *inband
signaling* for communicating DTMF from gateway to gateway. This is the same
as the now-obsolete DTMF signaling used in the old-world PSTN before SS7
existed. In essence, our new network would be primitive compared to the
sophisticated end-user terminals connecting to it and the clean "D" channel
outband signaling model embraced by ISDN BRI. The more I consider the
proposals at hand, the more I'm moved to reject the media stream DTMF
signaling model.

Greg Girard
CTO
Iperia, Inc.



Greg Girard
CTO
Iperia, Inc.

-----Original Message-----
From: Dean Willis <dean.willis@wcom.com>
To: Jean-Hugues ROBERT <jhr@odisei.com>; Michael Thomas <mat@cisco.com>;
Gregory D. Girard <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>;
Dye, Robert <rdye@sonusnet.com>
Date: Wednesday, November 10, 1999 4:14 PM
Subject: RE: Additional Info on DTMF under SIP


>
>
>I think the real situation is much simpler:
>
>If DTMF is to be carried to "the other end", it should be transported in
the
>RTP. Trying to remix signals that occur on the signaling path instead of
the
>media path is intractable. In other words, I think DTMF detection signalled
>as an INFO message should never be reinserted into the audio stream.
>Therefore, one needs RTP and INFO.
>
>If DTMF needs to be sent to the control plane -- i.e. the detection of DTMF
>is being sent to a supervisory system, many benefits are gained by adding
>INFO support. These include:
>
>1) Reliability
>2) Simplification of the control application
>3) Delivery of the detected DTMF to as many proxies in the signaling chain
>as need it.
>4) Transparency of the signaling path to the UA -- INFOs can be moved along
>the proxy path, whereas RTP would either require either an RTP proxy chain
>and vast amounts of additional signaling OR a direct RTP paths between the
>UA and N-many control nodes. This also simplifies the UAS implementation.
>
>Look, there's a reason why MGCP defined an event package for DTMF instead
of
>just sending the RTP all the way to the softswitch. This is exactly the
same
>thing, with a distributed control model described by the proxy chain. I
>suspect it is the same reason that led to detected DTMF being transmitted
in
>user-info in H.323.
>
>There's a non-aristotelian aspect here -- knowledge of a keypress is not
the
>same as the data of the tone produced by that keypress.
>
>--
>Dean Willis
>
>> -----Original Message-----
>> From: owner-sip@lists.research.bell-labs.com
>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Jean-Hugues
>> ROBERT
>> Sent: Wednesday, November 10, 1999 11:21 AM
>> To: Michael Thomas; Gregory D. Girard
>> Cc: sip@lists.research.bell-labs.com; Dye, Robert
>> Subject: Re: Additional Info on DTMF under SIP
>>
>>
>> Hi,
>>
>> Looks like we do not progress very fast on this topic.
>>
>> I now believe that both means of conveying DTMF are
>> needed. Because there are two distinct requirements.
>>
>> 1) Reliable and timely transport of DTMF at the media level (user plane).
>> RTP is good here.
>> 2) Supervisory of DTMF at the signal level (control plane)
>> SIP dtmf INFO is good here (as a negotiated option probably).
>>
>> There are many applications based on DTMF today. Voice is the future.
>> Lets handle both well.
>>
>> Of course one can "get by" with any one of the solutions, but it can be
>> very inconvenient (specially when SIP and RTP do not terminate at the
>> same entity) :
>>
>> Only RTP:
>> You negotiate multiple SDPs. One for voice & DTMF will be direct
>> between the endpoints. Another one for DTMF only will be directed to
>> "supervisory" entity. You need RTP besides SIP in
>> supervisory entity.
>> You need to support multiple SDPs in DTMF sender endpoint.
>>
>> Only SIP:
>> You reinject DTMF tones inside the RTP jitter buffer. All
>> SIP msgs need to be intercepted/relayed by the "supervisory"
>> entity. You need SIP besides RTP in the DTMF receiver endpoint.
>>
>> I dislike both. I prefer having RTP only, because I believe that handling
>> multiple SDPs requires less hardware than handling SIP in addition to RTP
>> and I believe that VoIP market needs cheap IP phones.
>>
>> My 2 cents...
>>
>> Jean-Hugues ROBERT
>> --------------------------------------------------------------------
>> jhr@8x8.com                                        "Think globally.
>> www.8x8.com                                            Act locally."
>>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 08:47:39 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA01303
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 08:47:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5DFC752FA; Fri, 12 Nov 1999 08:45:17 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CDF96530A; Fri, 12 Nov 1999 08:45:16 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 08B3152FA
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 08:45:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 08:44:02 EST 1999
Received: from tungsten.btinternet.com ([194.73.73.81]) by dusty; Fri Nov 12 08:42:54 EST 1999
Received: from [212.140.40.97] (helo=tkw)
	by tungsten.btinternet.com with smtp (Exim 2.05 #1)
	id 11mGze-0002MA-00
	for sip@lists.research.bell-labs.com; Fri, 12 Nov 1999 13:43:58 +0000
Message-ID: <009a01bf2d14$09330e40$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: <sip@lists.research.bell-labs.com>
Subject: Virtual switch operation
Date: Fri, 12 Nov 1999 13:43:45 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MIMEOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Can anybody on the list point me in the direction of information on how SIP
performs a virtual switch type function.  I.e. a server has the ability to
direct an incoming call to an IVR and when an agent becomes free, to
re-route the call to the agent.  Possibly using some out of band technique,
the server could provide some IVR collected information to the agent.  Then
maybe later re-route the call to some one else (more than likely in my
experience!).  I would like to do this without re-directs as I want to
maintain application specific information in the server relating to the call
which I feel would be difficult to do if the call was redirected.

Many thanks,

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 08:51:58 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA02369
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 08:51:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C370E52F0; Fri, 12 Nov 1999 08:49:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3154C530D; Fri, 12 Nov 1999 08:49:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id B59E952F0
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 08:49:02 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 12 08:47:54 EST 1999
Received: from sj-mailhub-3.cisco.com ([171.68.224.215]) by dusty; Fri Nov 12 08:46:44 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-3.cisco.com (8.9.1a/8.9.1) with ESMTP id FAA16161;
	Fri, 12 Nov 1999 05:55:56 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id FAA11150; Fri, 12 Nov 1999 05:47:47 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14380.6787.726744.745300@thomasm-u1.cisco.com>
Date: Fri, 12 Nov 1999 05:47:47 -0800 (PST)
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: "Dean Willis" <dean.willis@wcom.com>, "Dye, Robert" <rdye@sonusnet.com>,
        <sip@lists.research.bell-labs.com>
Subject: DTMF signaling between media gateways - ouch!
In-Reply-To: <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
References: <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gregory D. Girard writes:
 > Dean,
 > I believe your reasoning is excellent and entirely consistent with similiar
 > (but not the same points) I offered in
 > several prior messages. It would appear that this DTMF thing could keep SIP
 > out of Enhanced Services Platform
 > strategies due to the simple inability of SIP supports to decide on a way to
 > transmit the simplest signals of all - DTMF user input.
 > Aside from other considerations, in my opinion, any DTMF signalling
 > technique that RELIES upon an IP transport (RTP in this case) is
 > dead on arrival. 

  This is a wholesale misreading of what Dean wrote.
  Nobody's talking about "RELYING" on IP transport
  for bearer DTMF relay. In fact I mentioned two
  others bearer DTMF relay schemes that do no rely
  on IP. I suggest you re-read what was written. 
  As I said, you're setting up a whole lot of false
  dilemmas as the rest of this post demonstrates.


	      Mike 



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 11:11:38 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17653
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 11:11:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id F1B35530F; Fri, 12 Nov 1999 11:09:30 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3D4FB530A; Fri, 12 Nov 1999 11:09:28 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6AC0A530F
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 11:09:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 11:07:40 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 12 11:06:30 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpam25177;
	Fri, 12 Nov 1999 16:11:12 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id LAA01093;
	Fri, 12 Nov 1999 11:06:46 -0500 (EST)
Message-ID: <382C3BAF.C91C5FEF@dynamicsoft.com>
Date: Fri, 12 Nov 1999 11:09:19 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Jon Schlegel <jon2@andrew.cmu.edu>, sip@lists.research.bell-labs.com,
        bjenkin@andrew.cmu.edu, mrappard@andrew.cmu.edu,
        ktrivedi@andrew.cmu.edu, psolanki@andrew.cmu.edu,
        rsipko@andrew.cmu.edu
Subject: Re: Questions regarding REGISTER
References: <1748328366.942346166@JON2.WV.CC.CMU.EDU> <382B6042.7443BC1C@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I think the "problem" is solved by chaning the SHOULD to a MUST; clients
MUST not send registrations before receiving responses to the previous.
Once we do that, if you break the rule, you should anticipate that the
behavior is not what you think it might be.

I don't want to overcomplicate things if its not needed. Looking at the
specifics of the proposal:

>         -An incoming register for a given To which has a different Call-ID than
> any other 
>         register currently in the database for that To is added to the
> database.
> No previous
>         registrations are modified or replaced.

If the Contact is a new one, this is what happens now. The difference is
only if the Contact matches an existing registration. This means, for
example, I wouldn't be able to sit at one machine, go to another
machine, and from there, delete my previous registration. This disables
some useful mobility features.

> 
>         -An incoming register with the same To and Call-ID as other
> registrations
> in the  database, but with a different Contact field is added to the
> database.  No previous  registrations are modified or replaced.

This mirrors current behavior.

> 
>         -An incoming register with the same To, Call-ID, and Contact as a
> registration currently
>         existing in the database, but with a lower CSeq value is discarded.

This differs, but is eliminated by a change in strength to MUST.

>         
>         -An incoming register with the same To, Call-ID, and Contact as a
> registration    currently existing in the database, but with a CSeq value >=
> than the CSeq value 
>         for the registration currently in the database is processed according
> to
> the following 
>         rules:
>                 -Compare the q values for the registrations, if the q value for
> the
> incoming                registration is greater than the q value for the
> registration
> currently in the database,
>                 replace.  If the q value for the incoming registration is less
> than the q
> value for the 
>                 registration currently in the database discard the incoming
> registration.

Hmm; so I can't lower the q value without first deleting it, and then
adding a new one? Why is this needed?

>                 -If the q values of the two registrations are equal, compare
> the TTLs for
> the two 
>                 registrations.  If the TTL for the incoming registration is
> greater,
> replace the entry
>                 currently in the database with the new registration, otherwise
> discard
> the new 
>                 registration.  

Same as above; why?

> 
>         -An incoming register with the same To as a registration or set of
> registrations   currently in the database, but with Expires: 0 and Contact:
> * deletes all registrations     from the databaes with the same To, except for
> those with the same Call-ID and a 
>         higher CSeq value than the incoming registration.

except for those with the same Call-ID? So I have to change Call-IDs to
delete?

-Jonathan R.

Henning Schulzrinne wrote:
> 
> I'm not sure complicated rules are necessary. Clients should generally
> not send a registration for '*' (to cancel all) unless they know they
> want to start with a clean slate. The typical distributed update would
> simply leave the default registration ("home") alone and just change the
> temporary address, with a higher q value. Removing registrations should
> almost never be necessary, since they time out and having one hang
> around a few minutes longer than needed does no harm.
> 
> Since a client generally does not know why some other client has
> registered, about the only thing that is robust is manual removal, from
> a list of current registrations.
> 
> Thus, I'm not sure when the order of arrival would matter. What problem,
> exactly, are you trying to solve?
> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 11:37:44 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA28766
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 11:37:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C1CCA5314; Fri, 12 Nov 1999 11:35:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 456FB5315; Fri, 12 Nov 1999 11:35:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id AC8135314
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 11:35:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 11:33:23 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Fri Nov 12 11:32:15 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FL300L7EDAYJ1@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 12 Nov 1999 15:49:47 +0000 (GMT)
Received: from omzmta03.mcit.com (omzmta03.mcit.com [166.37.194.121])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id PAA30191; Fri,
 12 Nov 1999 15:48:17 +0000 (GMT)
Received: from dwillispc4 ([166.37.184.51])
 by omzmta03.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991112154945.PQZZ15494@dwillispc4>; Fri,
 12 Nov 1999 15:49:45 +0000
Date: Fri, 12 Nov 1999 09:52:09 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: DTMF signaling between media gateways - ouch!
In-reply-to: <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com
Message-id: <002501bf2d25$e0a96160$9f168082@fh.ietf.innovationslab.net>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gregory D. Girard wrote:
> I believe your reasoning is excellent and entirely consistent
> with similiar
> (but not the same points) I offered in
> several prior messages. It would appear that this DTMF thing

Ahh! Great minds think alike ;-). Thanks!

> the simplest signals of all - DTMF user input.
> Aside from other considerations, in my opinion, any DTMF signalling
> technique that RELIES upon an IP transport (RTP in this case) is
> dead on arrival. Such an approach pre-supposes the bearer channel
> transport
> technology and thus binds SIP to VoIP solutions. Insofar as
> ATM and Frame Relay transports exist (and particularly ATM, which
> is coming
> on strong) and are growing, it makes no sense to me to
> create an artificial dependency on IP/RTP.
. . .

I had a very similar discussion with Jonathan Lennox the other day at lunch.

His point as I understand it was that both the RTP approach and the "info
digits" appoach are fundamentally flawed for native IP phones. When one can
put a softkey on a phone that sends a SIP INFO "Delete this voicemail"
command, or any other appropriate and arbitrary string defined by an
application, then DTMF controls begin to look very primiive!

I pointed out, however, that we're stuck with more than a few analog phones
out there, many of which will end up downstream from gateway devices. For
example, my office has about 70,000 such devices . . . so a lot of people
will be using 12-key phones for a while.

So, how to grant the power of arbitrary INFO strings as defined above to
legacy phone users? We came up with a simple idea -- it may or not have
promise, but I'll describe it for the entertainment value.

It is very simple to build a SIP proxy that accepts INFO messages, rewrites
them, and passes them along the signaling chain. For example, an "INFO
{digit 4}" might become an "INFO exec delete message". This translation
could be controlled by simple tables, be XML or otherwise defined, and be
included in the signaling path based on content or capabiliies negotiation
between the endpoint and the application. Or, the INFO message might we
translated into WAP WMLSCRIPT input -- perhaps a generalized WAP client that
lets 12-key users access WAP pages . . .

Of course, this would require some analysis to understand security and
end-to-end implications, but it might be equally applicable to VoFR and
VoATM and other non-RTP command and control models.

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 12 12:08:42 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA14115
	for <sip-archive@odin.ietf.org>; Fri, 12 Nov 1999 12:08:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 61E91530D; Fri, 12 Nov 1999 12:05:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A46355316; Fri, 12 Nov 1999 12:05:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id DA752530D
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 12:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 12 12:03:13 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 12 12:02:03 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpaq12557;
	Fri, 12 Nov 1999 17:07:19 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id MAA01161;
	Fri, 12 Nov 1999 12:02:50 -0500 (EST)
Message-ID: <382C48D3.9C298361@dynamicsoft.com>
Date: Fri, 12 Nov 1999 12:05:23 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Dean Willis <dean.willis@wcom.com>, "Dye, Robert" <rdye@sonusnet.com>,
        sip@lists.research.bell-labs.com, phuang@dynamicsoft.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> Dean,
> I believe your reasoning is excellent and entirely consistent with similiar
> (but not the same points) I offered in
> several prior messages. It would appear that this DTMF thing could keep SIP
> out of Enhanced Services Platform
> strategies due to the simple inability of SIP supports to decide on a way to
> transmit the simplest signals of all - DTMF user input.

It would be beneficial to avoid these grandiose proclamations about the
future of SIP based on our technical decisions on this one issue. No one
is arguing DTMF isn't supported in the SIP architecture; rather, I (and
others) are arguing that the problems people have, and the requirements
that they need met, are solved by having DTMF transported in RTP, and,
are solved better.

> Aside from other considerations, in my opinion, any DTMF signalling
> technique that RELIES upon an IP transport (RTP in this case) is
> dead on arrival. Such an approach pre-supposes the bearer channel transport
> technology and thus binds SIP to VoIP solutions. Insofar as
> ATM and Frame Relay transports exist (and particularly ATM, which is coming
> on strong) and are growing, it makes no sense to me to
> create an artificial dependency on IP/RTP.

As others have pointed out, this is plain wrong. One can always run RTP
ontop of ATM (I'll note that H.323 actually specifies how to do this),
in which case this point is totally moot. Secondly, any native ATM
solution that can't support DTMF in a reasonable way in the bearer
channel is, IMHO, DOA. H.323 specifies and allows both, as has been
pointed out. So, are you arguing you won't support H.323 either?


> 
> In fact, to take it one step further, I will share with you that more than
> two of our customer prospects for enhanced services have indicated that
> their primary backbone technology for bearer channel transport shall be ATM.
> We hear this more an more. The IP enviroment will provide a signaling and
> service-oriented network. Although the ATM transport has provisions for
> carrying DTMF information, an RTP DTMF solution won't solve these problems
> for this reason: we would find ourselves engineering a new DTMF
> network-layer solution for each new enviroment. And once again, no one has
> resolved the issue that the enhanced services platform may have no media
> connection to the media gateway, or if they do, it would likely be
> half-duplex for the purpose of playing prompts.

Its hard to argue this based on high level notions of what you mean by
an "enhanced services platform". I have, in a prior email, suggested a
particular model of reference. THis model is not half duplex, as you
seem to indicate, in its control relationship. MGCP/megaco, which has
been proposed as a control platform for IVR, *already* supports
notification of DTMF from the controlled device to the controller. If
DTMF is transported in RTP using the DTMF codec, it is a no-brainer to
do this. In fact, you will probably have to pay money to remove this
basic function from any MGCP/megaco stack. Furthermore, you are going to
want to know about all kinds of state transitions in the controller
device, including prompt timeouts, errors (no such announcement
available), voice recognition, available DSP resources, and so on.  

 Finally, an IP phone based
> upon H.323 would not generate DTMF tones at all, but instead would transmit
> them has digit codes (H.245 signaling I believe) to the other end, which is
> likely to be a softswitch. Is the idea that the Softswitch will have to then
> invoke a DSP algorithm to generate the DTMF waveform and "inject" it into
> the RTP call leg to the Enhanced Services Platform ?

Well, as already pointed out by some real H.323 experts, this is false.
H.323 allows both.

> 
> I may be missing something here because I'm not an expert in every protocol
> in the PSTN, but see if you can follow this line of reasoning.
> It is my understanding that all ISDN and H.32X (multimedia for ISDN, IP,
> ATM, etc.) protocols have pushed DTMF signaling into outband signaling
> pathways to get them out of the media path. In ISDN, they are carried in a
> "D" channel. Certain SIP contributors suggest that it should be pushed back
> into the media path. Resultantly we encounter a strange circumstance in
> which the end terminal on a connection uses outband DTMF which has to be
> *put back into* the media path by a media gateway DSP resource!

Sorry, outband DTMF is the INFO method, which you seem to be supporting.
If the DTMF is carried in INFO, and the remote side is a gateway, you
will need to reinsert it into the media path. THis is *not* true with
the DTMF over RTP solution. So, you seem to be arguing in favor of the
RTP over DTMF solution. Actually, it is *hard* to reinsert the DTMF into
the audio stream if its sent in the INFO method, since you have lost the
timing and synchronization. For example, the audio segment that
contained the DTMF may have already passed, temporally, at the gateway,
before the INFO method arrives.... not true with the DTMF over RTP
solution.

 To matters
> even stanger, if the other end of the connection (passing through a set of
> media gateways) was the same kind of ISDN or H.32X terminal, that DTMF
> information that was injected into the media path would have to be detected
> once again and re-converted back into outband signals prior to reaching the
> end terminal.

No. In both the DTMF over RTP and INFO method solutions, the detection
can be done at the originator. The RTP format conveys the digit itself,
just as is done in the INFO method. Thus, if the terminating gateway is
an ISDN terminal, it is equally easy in both cases to insert it into the
signaling (H.245 user input indication in the H.323 case, for example)
without redetection.

> 
> Summarily, to use the media stream alone for DTMF signaling would be the
> equivelent of architecting the next generation network to use outband DTMF
> signaling to its end-user ISDN and H.32X terminals while using *inband
> signaling* for communicating DTMF from gateway to gateway. 

This would be the case if you use INFO method, but it is clean in the
case of DTMF over RTP. So, your argument only supports the opposite of
your conclusion.

This is the same
> as the now-obsolete DTMF signaling used in the old-world PSTN before SS7
> existed. In essence, our new network would be primitive compared to the
> sophisticated end-user terminals connecting to it and the clean "D" channel
> outband signaling model embraced by ISDN BRI.

Again, these abstract "sophisticated vs. primitive" arguments are
completely non-technical and without merit. You seem to be trying to
argue a technical point with marketing terms. I would argue the exact
opposite marketing spin anyway:

<silly marketing argument>
The idea of sending DTMF in the RTP stream, but not as audio, is quite
sophisticated and totally beyond what is done in ISDN or SS7. Sending
DTMF in the INFO method is akin to the "old" technology of ISDN. We've
done it better! 
</silly marketing argument>

Enough about marketing. Lets address the technical issues. 



-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 13 19:42:09 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA15134
	for <sip-archive@odin.ietf.org>; Sat, 13 Nov 1999 19:42:09 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4A8535304; Sat, 13 Nov 1999 19:39:39 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9510F5308; Sat, 13 Nov 1999 19:39:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1A17A5304
	for <sip@lists.research.bell-labs.com>; Sat, 13 Nov 1999 19:39:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Sat Nov 13 19:38:06 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Sat Nov 13 19:36:58 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprtp1.ntcom.nortel.net; Sat, 13 Nov 1999 19:36:11 -0500
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA2YCB4>; Sat, 13 Nov 1999 18:36:10 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD1102298BAE@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: sip@lists.research.bell-labs.com
Subject: RE: DTMF signaling between media gateways - ouch!
Date: Sat, 13 Nov 1999 18:36:09 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2E38.3EFE29D6"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2E38.3EFE29D6
Content-Type: text/plain

Let's step back and look at the RTP DTMF payload type vs. SIP INFO transport
methods in more abstract architectural terms.

What the two methods have in common: 
(1) They are both "out of band" compact encodings of the information
concerned, so the amount of effort required to understand them at the
receiving end is roughly the same.
(2) The transport options are the same for both methods -- there is no
reason you can't run RTP over a reliable transport if you want.
(3) Both methods require prior signalling to set up the necessary
relationship between the source and destination.

How the two methods differ:
(1) The SIP INFO  message must pass along the signalling path, and in
particular must have the same endpoints as the rest of the SIP session.  The
RTP stream can take a different path from the signalling; it can therefore
originate at the point of extraction from an audio stream, and terminate at
the point of consumption of the digit information.

Somewhat to my surprise, it looks like RTP is probably always the best
answer.  There are two possibilities that come to mind that might contradict
that conclusion:
(a) A number of entities along the signalling path need to know the digits.
(b) The receiver of the digits is one end of the SIP session and neither
sends nor receives media.  In this case it ends up having to support a
second protocol (RTP) where otherwise it could just use SIP.  In addition,
there could be coordination problems between SIP messaging and the
independently-received RTP packets.

------_=_NextPart_001_01BF2E38.3EFE29D6
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: DTMF signaling between media gateways - ouch!</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Let's step back and =
look at the RTP DTMF payload type vs. SIP INFO transport methods in =
more abstract architectural terms.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">What the two methods =
have in common: </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(1) They are both =
&quot;out of band&quot; compact encodings of the information concerned, =
so the amount of effort required to understand them at the receiving =
end is roughly the same.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(2) The transport =
options are the same for both methods -- there is no reason you can't =
run RTP over a reliable transport if you want.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(3) Both methods =
require prior signalling to set up the necessary relationship between =
the source and destination.</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">How the two methods =
differ:</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(1) The SIP =
INFO&nbsp; message must pass along the signalling path, and in =
particular must have the same endpoints as the rest of the SIP =
session.&nbsp; The RTP stream can take a different path from the =
signalling; it can therefore originate at the point of extraction from =
an audio stream, and terminate at the point of consumption of the digit =
information.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Somewhat to my =
surprise, it looks like RTP is probably always the best answer.&nbsp; =
There are two possibilities that come to mind that might contradict =
that conclusion:</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(a) A number of =
entities along the signalling path need to know the digits.</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(b) The receiver of =
the digits is one end of the SIP session and neither sends nor receives =
media.&nbsp; In this case it ends up having to support a second =
protocol (RTP) where otherwise it could just use SIP.&nbsp; In =
addition, there could be coordination problems between SIP messaging =
and the independently-received RTP packets.</FONT></P>

</BODY>
</HTML>
------_=_NextPart_001_01BF2E38.3EFE29D6--



From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 13 23:56:03 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA12727
	for <sip-archive@odin.ietf.org>; Sat, 13 Nov 1999 23:56:03 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 057FF530B; Sat, 13 Nov 1999 23:53:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7FF105300; Sat, 13 Nov 1999 23:53:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 76CDE530D
	for <sip@lists.research.bell-labs.com>; Sat, 13 Nov 1999 23:53:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sat Nov 13 23:53:01 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Sat Nov 13 23:51:53 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpgd25460;
	Sun, 14 Nov 1999 04:57:18 GMT
Received: from dynamicsoft.com (1Cust17.tnt3.freehold.nj.da.uu.net [63.25.172.17])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id XAA08219;
	Sat, 13 Nov 1999 23:52:50 -0500 (EST)
Message-ID: <382E40BF.5BE153F8@dynamicsoft.com>
Date: Sat, 13 Nov 1999 23:55:27 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Tom-PT Taylor <taylor@nortelnetworks.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <C51ED84B6F47D211917A0000F8BCBD1102298BAE@zcard00g.ca.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



> Tom-PT Taylor wrote:
> 
> How the two methods differ:
> (1) The SIP INFO  message must pass along the signalling path, and in
> particular must have the same endpoints as the rest of the SIP
> session.  The RTP stream can take a different path from the
> signalling; it can therefore originate at the point of extraction from
> an audio stream, and terminate at the point of consumption of the
> digit information.
> 
> Somewhat to my surprise, it looks like RTP is probably always the best
> answer.  There are two possibilities that come to mind that might
> contradict that conclusion:
> 
> (a) A number of entities along the signalling path need to know the
> digits.

But why? SIP is *not* a stimulus signaling protocol. Protocol features
are not invoked by DTMF. I feel strongly about this since once you start
doing this, you mandate a proxy server for call completion and possibly
certain features which otherwise don't need one. This isn't megaco,
after all. I believe it funamental to the SIP architecture that the
operation of basic call completion and certain features (where
appropriate) is independent of the presence of a proxy. 

What services could proxies provide in the SIP model by receiving DTMF?
Nearly every application of DTMF I have heard brought up required the
entity receiving the DTMF to be a UA, in which case it could get the RTP
stream instead.

> (b) The receiver of the digits is one end of the SIP session and
> neither sends nor receives media.  In this case it ends up having to
> support a second protocol (RTP) where otherwise it could just use
> SIP.  In addition, there could be coordination problems between SIP
> messaging and the independently-received RTP packets.

These coordination problems arise only when the DTMF is sent in INFO.
When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
can put back the DTMF if need be. 

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 14 03:49:05 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA17494
	for <sip-archive@odin.ietf.org>; Sun, 14 Nov 1999 03:49:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1C81D530D; Sun, 14 Nov 1999 03:45:47 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6E4245310; Sun, 14 Nov 1999 03:45:46 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 95996530D
	for <sip@lists.research.bell-labs.com>; Sun, 14 Nov 1999 03:45:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 14 03:44:21 EST 1999
Received: from bells.cs.ucl.ac.uk ([128.16.5.31]) by dusty; Sun Nov 14 03:43:13 EST 1999
Received: from cperkins-d.cs.ucl.ac.uk by bells.cs.ucl.ac.uk with local SMTP 
          id <g.04509-0@bells.cs.ucl.ac.uk>; Sun, 14 Nov 1999 08:44:03 +0000
Received: from cperkins-d.cs.ucl.ac.uk (localhost [127.0.0.1]) 
          by cperkins-d.cs.ucl.ac.uk (8.9.3/8.8.7) with ESMTP id SAA10154;
          Sat, 13 Nov 1999 18:06:46 GMT
Message-Id: <199911131806.SAA10154@cperkins-d.cs.ucl.ac.uk>
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Dean Willis <dean.willis@wcom.com>, "Dye, Robert" <rdye@sonusnet.com>,
        sip <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
In-Reply-To: Message from "Gregory D. Girard" <ggirard@mediaone.net> of "Fri, 12 Nov 1999 08:26:35 EST." <016401bf2d11$8ad2fbc0$122cda18@goliath.ne.mediaone.net>
Date: Sat, 13 Nov 1999 18:06:46 +0000
From: Colin Perkins <c.perkins@cs.ucl.ac.uk>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--> "Gregory D. Girard" writes:
>Aside from other considerations, in my opinion, any DTMF signalling
>technique that RELIES upon an IP transport (RTP in this case) is dead on
>arrival. Such an approach pre-supposes the bearer channel transport
>technology and thus binds SIP to VoIP solutions. Insofar as ATM and Frame
>Relay transports exist (and particularly ATM, which is coming on strong)
>and are growing, it makes no sense to me to create an artificial
>dependency on IP/RTP.

To clarify, whilst most RTP implementations use UDP/IP as their transport,
the protocol was intentionally defined to be transport neutral and does not
mandate IP.

Colin



From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 14 03:50:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA18502
	for <sip-archive@odin.ietf.org>; Sun, 14 Nov 1999 03:50:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3B2DD530F; Sun, 14 Nov 1999 03:45:55 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 708585308; Sun, 14 Nov 1999 03:45:54 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2005F530F
	for <sip@lists.research.bell-labs.com>; Sun, 14 Nov 1999 03:45:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 14 03:44:28 EST 1999
Received: from bells.cs.ucl.ac.uk ([128.16.5.31]) by dusty; Sun Nov 14 03:43:20 EST 1999
Received: from cperkins-d.cs.ucl.ac.uk by bells.cs.ucl.ac.uk with local SMTP 
          id <g.04498-0@bells.cs.ucl.ac.uk>; Sun, 14 Nov 1999 08:43:46 +0000
Received: from cperkins-d.cs.ucl.ac.uk (localhost [127.0.0.1]) 
          by cperkins-d.cs.ucl.ac.uk (8.9.3/8.8.7) with ESMTP id RAA09922;
          Sat, 13 Nov 1999 17:47:14 GMT
Message-Id: <199911131747.RAA09922@cperkins-d.cs.ucl.ac.uk>
To: Dean Willis <dean.willis@wcom.com>
Cc: IETF SIP <sip@lists.research.bell-labs.com>, "Fox, Mike" <mfox@nuera.com>
Subject: Re: Additional Info on DTMF under SIP
In-Reply-To: Message from Dean Willis <dean.willis@wcom.com> of "Thu, 11 Nov 1999 13:46:24 CST." <001001bf2c7d$6f72ec80$9f168082@fh.ietf.innovationslab.net>
Date: Sat, 13 Nov 1999 17:47:14 +0000
From: Colin Perkins <c.perkins@cs.ucl.ac.uk>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--> Dean Willis writes:
>Mike Fox asked:
>> I suspect that there was a lot of commentary on this issues at the IETF
>> meeting in DC with avt-tones on this afternoons agenda.  It would be
>> nice to see a summary of the AVT minutes on this topic forwarded to this
>> list.
>
>Oddly enough, the avt-tones discussion passed with almost no commentary.

The RTP payload format for DTMF tones has not been controversial in AVT,
and the main issues were resolved some time ago. The discussion at this 
meeting was just to note that the working group last call on this draft
has completed, and that it would shortly be submitted to the IESG for
consideration as a proposed standard.

>There was however some discussion of the topic in the SIP WG. The division
>was along the lines of:
>
>a) DTMF is just noises in the media path which need to be conveyed to the
>other end and dropped off, synchronized to the other noises, in the most
>loss-and bandwitdh efficient and compression-tolerant manner possible.
>
>vs.
>
>b) DTMF is user input to the signaling process and can affect call state
>and the invocation of features, including features implemented on systems
>which exist only in the control plane.

If there are significant problems with the current RTP payload format for
DTMF which prevent it achieving the goals of (a), then these should be
raised in the AVT group as soon as possible. The choice between (a) and 
(b) is for other working groups to consider.

Colin (AVT co-chair)



From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 14 18:56:11 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA09103
	for <sip-archive@odin.ietf.org>; Sun, 14 Nov 1999 18:56:09 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4B29E52B6; Sun, 14 Nov 1999 18:53:36 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A3B7552BB; Sun, 14 Nov 1999 18:53:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 40C6952DB
	for <sip@lists.research.bell-labs.com>; Sun, 14 Nov 1999 18:53:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 14 18:52:13 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Sun Nov 14 18:51:05 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprch1.nortel.com; Sun, 14 Nov 1999 17:51:30 -0600
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA2YD08>; Sun, 14 Nov 1999 17:51:25 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD1102298C57@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: RE: DTMF signaling between media gateways - ouch!
Date: Sun, 14 Nov 1999 17:51:23 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF2EFB.27A22EF4"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF2EFB.27A22EF4
Content-Type: text/plain



> -----Original Message-----
> From:	Jonathan Rosenberg [SMTP:jdrosen@dynamicsoft.com]
> Sent:	Saturday, November 13, 1999 11:55 PM
> To:	Taylor, Tom-PT [CAR:B904-I:EXCH]
> Cc:	sip@lists.research.bell-labs.com
> Subject:	Re: DTMF signaling between media gateways - ouch!
> 
> 
> 
> > Tom-PT Taylor wrote:
> > 
> > How the two methods differ:
> > (1) The SIP INFO  message must pass along the signalling path, and in
> > particular must have the same endpoints as the rest of the SIP
> > session.  The RTP stream can take a different path from the
> > signalling; it can therefore originate at the point of extraction from
> > an audio stream, and terminate at the point of consumption of the
> > digit information.
> > 
> > Somewhat to my surprise, it looks like RTP is probably always the best
> > answer.  There are two possibilities that come to mind that might
> > contradict that conclusion:
> > 
> > (a) A number of entities along the signalling path need to know the
> > digits.
> 
> But why? SIP is *not* a stimulus signaling protocol. Protocol features
> are not invoked by DTMF. I feel strongly about this since once you start
> doing this, you mandate a proxy server for call completion and possibly
> certain features which otherwise don't need one. This isn't megaco,
> after all. I believe it funamental to the SIP architecture that the
> operation of basic call completion and certain features (where
> appropriate) is independent of the presence of a proxy. 
> 
> What services could proxies provide in the SIP model by receiving DTMF?
> Nearly every application of DTMF I have heard brought up required the
> entity receiving the DTMF to be a UA, in which case it could get the RTP
> stream instead.
	[[TomT]]  
	I was enumerating logical possibilities more than anything else.  I
had no particular application in mind.

> > (b) The receiver of the digits is one end of the SIP session and
> > neither sends nor receives media.  In this case it ends up having to
> > support a second protocol (RTP) where otherwise it could just use
> > SIP.  In addition, there could be coordination problems between SIP
> > messaging and the independently-received RTP packets.
> 
> These coordination problems arise only when the DTMF is sent in INFO.
> When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
> can put back the DTMF if need be.
	[[TomT]]  
	Read my premise here.  There's nothing to put the DTMF back into
under the case I postulate.  The UA is a consumer of DTMF digits, not DTMF
signals, and there is no other media stream.  I probably used the wrong
thread to raise this, leading to your confusion.  Anyway, again this is just
a logical possibility, and I have no specific application in mind.  My main
conclusion was the one you would agree with -- that in cases other than
theoretical possibilities (a) and (b), the RTP is always preferable.
>  
> 
> -Jonathan R.
> -- 
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120 
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

------_=_NextPart_001_01BF2EFB.27A22EF4
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: DTMF signaling between media gateways - ouch!</TITLE>
</HEAD>
<BODY>
<BR>
<BR>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Jonathan Rosenberg =
[SMTP:jdrosen@dynamicsoft.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Saturday, November 13, 1999 11:55 PM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Taylor, Tom-PT [CAR:B904-I:EXCH]</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Cc:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">sip@lists.research.bell-labs.com</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">Re: DTMF signaling between media =
gateways - ouch!</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt; Tom-PT Taylor wrote:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; How the two methods =
differ:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; (1) The SIP INFO&nbsp; message =
must pass along the signalling path, and in</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; particular must have the same =
endpoints as the rest of the SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; session.&nbsp; The RTP stream =
can take a different path from the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; signalling; it can therefore =
originate at the point of extraction from</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; an audio stream, and terminate =
at the point of consumption of the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; digit information.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Somewhat to my surprise, it =
looks like RTP is probably always the best</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; answer.&nbsp; There are two =
possibilities that come to mind that might</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; contradict that =
conclusion:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; (a) A number of entities along =
the signalling path need to know the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; digits.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">But why? SIP is *not* a stimulus =
signaling protocol. Protocol features</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">are not invoked by DTMF. I feel =
strongly about this since once you start</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">doing this, you mandate a proxy =
server for call completion and possibly</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">certain features which otherwise =
don't need one. This isn't megaco,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">after all. I believe it funamental to =
the SIP architecture that the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">operation of basic call completion =
and certain features (where</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">appropriate) is independent of the =
presence of a proxy. </FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">What services could proxies provide in =
the SIP model by receiving DTMF?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Nearly every application of DTMF I =
have heard brought up required the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">entity receiving the DTMF to be a UA, =
in which case it could get the RTP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">stream instead.</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">[[TomT]]</FONT></I></B><I></I>&nbsp;<FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"> </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">I was enumerating =
logical possibilities more than anything else.&nbsp; I had no =
particular application in mind.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt; (b) The receiver of the digits is =
one end of the SIP session and</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; neither sends nor receives media.=
&nbsp; In this case it ends up having to</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; support a second protocol (RTP) =
where otherwise it could just use</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; SIP.&nbsp; In addition, there =
could be coordination problems between SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; messaging and the =
independently-received RTP packets.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">These coordination problems arise only =
when the DTMF is sent in INFO.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">When the DTMF is sent in RTP, its =
easy to reconstruct the timing, so you</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">can put back the DTMF if need =
be.</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">[[TomT]]</FONT></I></B><I></I>&nbsp;<FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"> </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Read my premise =
here.&nbsp; There's nothing to put the DTMF back into under the case I =
postulate.&nbsp; The UA is a consumer of DTMF digits, not DTMF signals, =
and there is no other media stream.&nbsp; I probably used the wrong =
thread to raise this, leading to your confusion.&nbsp; Anyway, again =
this is just a logical possibility, and I have no specific application =
in mind.&nbsp; My main conclusion was the one you would agree with -- =
that in cases other than theoretical possibilities (a) and (b), the RTP =
is always preferable.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&nbsp;</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-Jonathan R.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">-- </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Jonathan D. =
Rosenberg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
200 Executive Drive</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Suite 120 </FONT>
<BR><FONT SIZE=3D2 =
FACE=3D"Arial">dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; West Orange, NJ 07052</FONT>
<BR><FONT SIZE=3D2 =
FACE=3D"Arial">jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp; FAX:&nbsp;&nbsp; (732) 741-4778</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.cs.columbia.edu/~jdrosen" =
TARGET=3D"_blank">http://www.cs.columbia.edu/~jdrosen</A></FONT></U><FON=
T SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PHONE: =
(732) 741-7244</FONT>
<BR><U><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.dynamicsoft.com" =
TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT></U>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF2EFB.27A22EF4--



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 07:29:17 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA24747
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 07:29:17 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 30C7452DC; Mon, 15 Nov 1999 07:25:55 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7086952BB; Mon, 15 Nov 1999 07:25:51 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4551252DC
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 07:25:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 07:24:49 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Mon Nov 15 07:23:38 EST 1999
Received: from [212.140.35.27] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11nLBF-00019F-00; Mon, 15 Nov 1999 12:24:22 +0000
Message-ID: <00ba01bf2f64$7412fde0$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Mon, 15 Nov 1999 12:02:18 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

I afraid I disagree with some of your points....


-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Tom-PT Taylor <taylor@nortelnetworks.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 14 November 1999 04:57
Subject: Re: DTMF signaling between media gateways - ouch!


>
>
>> Tom-PT Taylor wrote:
>>
>> How the two methods differ:
>> (1) The SIP INFO  message must pass along the signalling path, and in
>> particular must have the same endpoints as the rest of the SIP
>> session.  The RTP stream can take a different path from the
>> signalling; it can therefore originate at the point of extraction from
>> an audio stream, and terminate at the point of consumption of the
>> digit information.
>>
>> Somewhat to my surprise, it looks like RTP is probably always the best
>> answer.  There are two possibilities that come to mind that might
>> contradict that conclusion:
>>
>> (a) A number of entities along the signalling path need to know the
>> digits.
>
>But why? SIP is *not* a stimulus signaling protocol. Protocol features
>are not invoked by DTMF. I feel strongly about this since once you start
>doing this, you mandate a proxy server for call completion and possibly
>certain features which otherwise don't need one. This isn't megaco,
>after all. I believe it funamental to the SIP architecture that the
>operation of basic call completion and certain features (where
>appropriate) is independent of the presence of a proxy.

Allowing for simulous signalling is very important even in an IP world.  It
allows people to pick up any 'phone' and run their desired application
service without downloading any patches that natively support the
application.  A lot of supplementary service suites have started out being
purely functional based, but have later had to adopt a simulous approach
because of lack of support in the endpoints.  This is particularly the case
for public services (as opposed to private networks) where the service
provider (who may not be the network provider) does not control the build on
UAs.

Also, just because you can have services supplied by proxy servers using
DTMF, I don't see that this mandates their presence in all cases.  I may be
missing the point, but in the same way that I can ring up a banking service,
I don't see that this mandates that I have to ring up a banking service
every time (although the banks might think differently!)

>
>What services could proxies provide in the SIP model by receiving DTMF?
>Nearly every application of DTMF I have heard brought up required the
>entity receiving the DTMF to be a UA, in which case it could get the RTP
>stream instead.
>
>> (b) The receiver of the digits is one end of the SIP session and
>> neither sends nor receives media.  In this case it ends up having to
>> support a second protocol (RTP) where otherwise it could just use
>> SIP.  In addition, there could be coordination problems between SIP
>> messaging and the independently-received RTP packets.
>
>These coordination problems arise only when the DTMF is sent in INFO.
>When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
>can put back the DTMF if need be.

If SIP were signalled over UDP, and the RTP timing information (which is
similar to what H.323 does with DTMF - timing info part that is) was
included in with the INFO messages, then I can't see that RTP is any more
timely than INFO.  Especially if all of those proxies only interested in the
location phase un-hook from the call path.  This of course is a build
option, but if you don't have some form of engineered QoS on your network, I
believe you should be using UDP anyway.


>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>
=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 07:31:13 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA25228
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 07:31:13 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D964B52AB; Mon, 15 Nov 1999 07:25:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3A13B52DB; Mon, 15 Nov 1999 07:25:48 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A493F52AB
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 07:25:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 07:24:50 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Mon Nov 15 07:23:39 EST 1999
Received: from [212.140.35.27] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11nLBI-00019F-00; Mon, 15 Nov 1999 12:24:25 +0000
Message-ID: <00bb01bf2f64$758be240$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Tom-PT Taylor" <taylor@nortelnetworks.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Mon, 15 Nov 1999 12:07:24 -0000
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0095_01BF2F61.F9EF3580"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_0095_01BF2F61.F9EF3580
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Tom,

I think a big difference is the number of ports a service proxy needs to =
support is a big issue.  It would need to support 3 times the number of =
ports for the same service.  These seems expensive to process 5-10 =
packets of information.

Also, proxies can leave the signalling path after 200 OK, so process in =
a lot of cases will cause the call signalling path to closely resemble =
the equivalent RTP DTMF signalling path.  If that does happen I think =
the comparisons in timeliness will be very small, especially if SIP is =
transported over UDP.

Pete

    -----Original Message-----
    From: Tom-PT Taylor <taylor@nortelnetworks.com>
    To: sip@lists.research.bell-labs.com =
<sip@lists.research.bell-labs.com>
    Date: 14 November 1999 00:42
    Subject: RE: DTMF signaling between media gateways - ouch!
   =20
   =20
    Let's step back and look at the RTP DTMF payload type vs. SIP INFO =
transport methods in more abstract architectural terms.

    What the two methods have in common:=20
    (1) They are both "out of band" compact encodings of the information =
concerned, so the amount of effort required to understand them at the =
receiving end is roughly the same.

    (2) The transport options are the same for both methods -- there is =
no reason you can't run RTP over a reliable transport if you want.

    (3) Both methods require prior signalling to set up the necessary =
relationship between the source and destination.=20

    How the two methods differ:=20
    (1) The SIP INFO  message must pass along the signalling path, and =
in particular must have the same endpoints as the rest of the SIP =
session.  The RTP stream can take a different path from the signalling; =
it can therefore originate at the point of extraction from an audio =
stream, and terminate at the point of consumption of the digit =
information.

    Somewhat to my surprise, it looks like RTP is probably always the =
best answer.  There are two possibilities that come to mind that might =
contradict that conclusion:

    (a) A number of entities along the signalling path need to know the =
digits.=20
    (b) The receiver of the digits is one end of the SIP session and =
neither sends nor receives media.  In this case it ends up having to =
support a second protocol (RTP) where otherwise it could just use SIP.  =
In addition, there could be coordination problems between SIP messaging =
and the independently-received RTP packets.

   =20
    =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
    Pete Cordell
    pete@tech-know-ware.com
    =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D



------=_NextPart_000_0095_01BF2F61.F9EF3580
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD W3 HTML//EN">
<HTML>
<HEAD>

<META content=3Dtext/html;charset=3Diso-8859-1 =
http-equiv=3DContent-Type><TITLE>RE: DTMF signaling between media =
gateways - ouch!</TITLE><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML =
3.2//EN">
<META content=3D'"MSHTML 4.72.3110.7"' name=3DGENERATOR>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT color=3D#000000 size=3D2>Tom,</FONT></DIV>
<DIV><FONT color=3D#000000 size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2>I think a big difference is the number of ports a =
service=20
proxy needs to support is a big issue.&nbsp; It would need to support 3 =
times=20
the number of ports for the same service.&nbsp; These seems expensive to =
process=20
5-10 packets of information.</FONT></DIV>
<DIV><FONT size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2>Also, proxies can leave the signalling path after =
200 OK, so=20
process in a lot of cases will cause the call signalling path to closely =

resemble the equivalent RTP DTMF signalling path.&nbsp; If that does =
happen I=20
think the comparisons in timeliness will be very small, especially if =
SIP is=20
transported over UDP.</FONT></DIV>
<DIV><FONT size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2>Pete</FONT></DIV>
<DIV>&nbsp;</DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #000000 solid 2px; MARGIN-LEFT: 5px; PADDING-LEFT: =
5px">
    <DIV><FONT face=3DArial size=3D2><B>-----Original =
Message-----</B><BR><B>From:=20
    </B>Tom-PT Taylor &lt;<A=20
    =
href=3D"mailto:taylor@nortelnetworks.com">taylor@nortelnetworks.com</A>&g=
t;<BR><B>To:=20
    </B><A=20
    =
href=3D"mailto:sip@lists.research.bell-labs.com">sip@lists.research.bell-=
labs.com</A>=20
    &lt;<A=20
    =
href=3D"mailto:sip@lists.research.bell-labs.com">sip@lists.research.bell-=
labs.com</A>&gt;<BR><B>Date:=20
    </B>14 November 1999 00:42<BR><B>Subject: </B>RE: DTMF signaling =
between=20
    media gateways - ouch!<BR><BR></DIV></FONT>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>Let's step back and =
look at the RTP=20
    DTMF payload type vs. SIP INFO transport methods in more abstract=20
    architectural terms.</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>What the two methods =
have in=20
    common: </FONT><BR><FONT color=3D#0000ff face=3DArial size=3D2>(1) =
They are both=20
    &quot;out of band&quot; compact encodings of the information =
concerned, so=20
    the amount of effort required to understand them at the receiving =
end is=20
    roughly the same.</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>(2) The transport =
options are the=20
    same for both methods -- there is no reason you can't run RTP over a =

    reliable transport if you want.</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>(3) Both methods =
require prior=20
    signalling to set up the necessary relationship between the source =
and=20
    destination.</FONT> </P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>How the two methods =
differ:</FONT>=20
    <BR><FONT color=3D#0000ff face=3DArial size=3D2>(1) The SIP =
INFO&nbsp; message=20
    must pass along the signalling path, and in particular must have the =
same=20
    endpoints as the rest of the SIP session.&nbsp; The RTP stream can =
take a=20
    different path from the signalling; it can therefore originate at =
the point=20
    of extraction from an audio stream, and terminate at the point of=20
    consumption of the digit information.</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>Somewhat to my =
surprise, it looks=20
    like RTP is probably always the best answer.&nbsp; There are two=20
    possibilities that come to mind that might contradict that=20
    conclusion:</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2>(a) A number of =
entities along the=20
    signalling path need to know the digits.</FONT> <BR><FONT =
color=3D#0000ff=20
    face=3DArial size=3D2>(b) The receiver of the digits is one end of =
the SIP=20
    session and neither sends nor receives media.&nbsp; In this case it =
ends up=20
    having to support a second protocol (RTP) where otherwise it could =
just use=20
    SIP.&nbsp; In addition, there could be coordination problems between =
SIP=20
    messaging and the independently-received RTP packets.</FONT></P>
    <P><FONT color=3D#0000ff face=3DArial size=3D2><FONT color=3D#000000 =

    =
size=3D2><BR>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
<BR>Pete=20
    Cordell<BR><A=20
    =
href=3D"mailto:pete@tech-know-ware.com">pete@tech-know-ware.com</A><BR>=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D<BR></FONT></FON=
T></P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_0095_01BF2F61.F9EF3580--




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 08:53:16 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA15261
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 08:53:15 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 20B8952BB; Mon, 15 Nov 1999 08:47:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6C5FC52C4; Mon, 15 Nov 1999 08:47:47 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A3BAF52D5
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 08:47:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 08:46:58 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 15 08:45:47 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhplf19139;
	Mon, 15 Nov 1999 13:51:28 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id IAA02568;
	Mon, 15 Nov 1999 08:46:56 -0500 (EST)
Message-ID: <38300F7B.59A36594@dynamicsoft.com>
Date: Mon, 15 Nov 1999 08:49:47 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <00ba01bf2f64$7412fde0$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> Jonathan,
> 
> I afraid I disagree with some of your points....

No reason to be afraid ;)

> >> (a) A number of entities along the signalling path need to know the
> >> digits.
> >
> >But why? SIP is *not* a stimulus signaling protocol. Protocol features
> >are not invoked by DTMF. I feel strongly about this since once you start
> >doing this, you mandate a proxy server for call completion and possibly
> >certain features which otherwise don't need one. This isn't megaco,
> >after all. I believe it funamental to the SIP architecture that the
> >operation of basic call completion and certain features (where
> >appropriate) is independent of the presence of a proxy.
> 
> Allowing for simulous signalling is very important even in an IP world.  It
> allows people to pick up any 'phone' and run their desired application
> service without downloading any patches that natively support the
> application.  A lot of supplementary service suites have started out being
> purely functional based, but have later had to adopt a simulous approach
> because of lack of support in the endpoints.  This is particularly the case
> for public services (as opposed to private networks) where the service
> provider (who may not be the network provider) does not control the build on
> UAs.

Yes, I've heard this many times. The issue of not being able to upgrade
UA's is obviously critical for the PSTN, but I'm not sure this is so
much an issue anymore for IP. Many pieces of software these days
automatically upgrade themselves, with nothing more than an "OK" from
the user. Furthermore, one can envision future UA's having JVMs that
simply fetch the latest version when I call up my "provider" to enable a
new service. Note that my network provider doesn't have to be my service
provider at all for this to work.

The issue seems to be fairly religious; there are those on one side
(like myself) who believes that IP is a true enabler of functional
signaling, and those on the other side (like yourself) who draw
parallels with systems like ISDN (which do support both) and see the
issue here as the same.

> 
> Also, just because you can have services supplied by proxy servers using
> DTMF, I don't see that this mandates their presence in all cases.  I may be
> missing the point, but in the same way that I can ring up a banking service,
> I don't see that this mandates that I have to ring up a banking service
> every time (although the banks might think differently!)

Banking is different in that its not a call control service. Any service
or feature which modifies call or connection state in any way at all, if
signaled via DTMF, will not be available in a direct UA to UA
connection. This means things like transfer, I believe, should not be
signaled by means of DTMF.

> >These coordination problems arise only when the DTMF is sent in INFO.
> >When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
> >can put back the DTMF if need be.
> 
> If SIP were signalled over UDP, and the RTP timing information (which is
> similar to what H.323 does with DTMF - timing info part that is) was
> included in with the INFO messages, then I can't see that RTP is any more
> timely than INFO. 

Multi-hop proxies. Ask the DCS folks all about this .. :)

 Especially if all of those proxies only interested in the
> location phase un-hook from the call path.  This of course is a build
> option, but if you don't have some form of engineered QoS on your network, I
> believe you should be using UDP anyway.

But if the proxies are not looking at the DTMF, it doesn't need to be in
the INFO method at all. As you suggest, if INFO carries DTMF and timing
information and goes direct, then its basically RTP with a very massive
header.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 09:10:02 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA19610
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 09:10:00 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5DAF152DB; Mon, 15 Nov 1999 09:07:37 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BD2ED52C4; Mon, 15 Nov 1999 09:07:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9475A52DC
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 09:07:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 09:06:08 EST 1999
Received: from newman.gte.com ([132.197.8.26]) by dusty; Mon Nov 15 09:04:57 EST 1999
Received: from sigmail.gte.com (sigmail.gte.com [132.197.150.42])
	by newman.gte.com (8.9.1/8.9.1) with ESMTP id JAA08378;
	Mon, 15 Nov 1999 09:05:36 -0500 (EST)
Received: by sigmail.gte.com with Internet Mail Service (5.5.2232.9)
	id <TXTVTLXK>; Mon, 15 Nov 1999 09:02:21 -0500
Message-ID: <17D1343B1AC5D11197110060081C78C52FCA9D@sigmail.gte.com>
From: "Gardell, Steve" <sgardell@gte.com>
To: "'Gregory D. Girard'" <ggirard@mediaone.net>,
        sip@lists.research.bell-labs.com
Subject: RE: NEW TOPIC: Enhanced Services using SIP and  MGCP
Date: Mon, 15 Nov 1999 09:02:15 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2232.9)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

An insightful description and a good start
at a list of basic requirements. I would 
prefer to think of the Enhanced Services 
platform as managing a set of connections,
some of which might involve MG's. e.g. a
network of SIP phones talking to each other
and to MG's.

Steven Gardell
GTE Laboratories
Voice: 781-466-2681, Fax: 781-466-3375


> -----Original Message-----
> From: Gregory D. Girard [mailto:ggirard@mediaone.net]
> Sent: Tuesday, November 09, 1999 7:28 AM
> To: sip@lists.research.bell-labs.com
> Subject: NEW TOPIC: Enhanced Services using SIP and MGCP
> 
> 
> SIP versus MGCP for Interfacing Enhanced Services Platforms
> 
> *** DISCLAIMER: The following post is long one aimed at solving a much
> larger problem than that immediately addressed by SIP. Please 
> feel free to
> ignore unless your interests lie in the interface between the 
> softswitch and
> an Enhanced Services Platform (based upon SIP an other protocols) ***
> 
> It is my observation that basic call completion and 
> management operations
> supported by SIP are not up to the level of control supported by MGCP.
> Collection of DTMF digits according to a digit map stands as 
> one example,
> and while "possible" in SIP, is not a basic feature defined 
> for SIP. At the
> same time, MGCP provides excellent switching-matrix-oriented 
> control over
> low-level call control operations (including access to 
> physical endpoints in
> a matrix and DTMF digit maps) but does not provide the 
> high-level signaling
> required for more generalized "service-oriented" 
> functionality. For example,
> MGCP cannot tell me ultimately who the call came from nor to 
> whom it was
> directed, and is only capable of providing physical endpoint 
> addressing.
> As a result, it would appear that as an integration layer, 
> neither SIP nor
> MGCP alone would allow an enhanced services platform to 
> receive a call and
> render a complex service. Neither protocol has all the parts 
> necessary to
> support anything but the most simple, passively-activated 
> enhanced service
> (i.e. voice mail).
> 
> While it is understood that any number of SIP extensions 
> could be created to
> support such operations, it would basically require 
> incorporating an MGCP
> message set into SIP, along with some notion of local or virtual
> "switching matrix" element to serve as a medium over which those
> operations would be performed.
> 
> At the same time, MGCP could be exended as well, but being a simple
> client/server protocol with a 1:1 mapping of call agent 
> instance to MG, it
> does not have all the relocation and proxy services of SIP. 
> Besides, MGCP
> associates a controlling element with some physical switching matrix
> resource, thus resource contention and scaling problems would 
> result by
> presenting application-level call control as "bound" to some 
> specific device
> under control of the Softswitch, and the control element would not be
> interfacing and not the softswitch itself.
> 
> ***It is my impression that it is generally agreed that 
> Enhanced Services
> Platforms will work better if they talk to softswitches than MGs.
> 
> Where does that leave someone who wishes to tightly integrate 
> an enhanced
> services platform with a softswitch ? Does one extend one protocol to
> incorporate features of the other ?  Does one establish and an MGCP
> session for every SIP connection ? Is is feasible for SIP,
> as will be specified in forthcoming embodiments, to 
> incorporate low-level
> call control features contained within MGCP, perhaps on a
> session-by-session basis ?
> 
> Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
> communictions mechanism for call setup/tear down, does it make sense
> to rethink its mission in life with respect to enhanced 
> services, or is that
> capability
> already inherent in SIP ? To say that any "SIP implementer" 
> can add this
> functionality
> is not at all helpful because without general agreement of features it
> becomes
> impossible to promote vendor-specific extensions as any 
> "standard" at all.
> I am aware of the SIP call control extensions exist for blind 
> transfer an
> other such features.
> 
> I am also aware that the basic problem in putting SIP and 
> MGCP together
> relates to the fact that SIP is oriented to managing call sessions
> whereas MGCP is oriented towards managing switching matrixes.
> An Enhanced Service Platform needs to operate on both planes. But it
> is the objective of my inquiry to avoid creating some ugly propriety
> interface and instead rely upon standards as much as possible.
> 
> Basic features required for Enhanced Services Platform (ESP) 
> intergration
> with a softswitch include the following list below. This is an e-mail
> message for general consideration written off the top of my head in 15
> minutes and not an exhaustive treatment of the subject; so I 
> would ask that
> commentary of the items below focus on the general control 
> issues as can
> best be interpreted from the muddled presentation. The terms "call",
> "connection" and "call leg" mean different things to 
> different technology
> domains. Keep in mind below that the ESP may incorporate the 
> "announcement
> server" in some cases, thus connections that require 
> play/record of prompts
> will potentially terminate on ESP.
> 
> 1- Originate/Answer/Disconnect voice connections between any 
> two network
> addresses. Connections managed under control of Softswitch 
> and potentially
> even terminating on ESP for IVR purposes; all connections 
> routed through a
> MG under Softswitch control.
> 
> 2- Monitor Q.931 (or equivelent) call state information for 
> specified call
> session under
> control of Softswitch
> 
> 3- Collect DTMF digits on specified connection
> 
> 4- Generate DTMF digits on a specified connnection (for pager dialing
> interface, for example)
> 
> 5- Create/Add/Remove full or half-duplex call leg to call 
> under control of
> Softswitch, potentially terminating on ESP (all connections 
> routed MG under
> Softswitch control)
> 
> 6- Transfer one call/connection to another
> 
> 7- Originate/Answer/Disconnect connection under control of 
> softswith with
> media type of T.38 fax such fax image may be transmitted and 
> received using
> DSP fax algorithms residing in certain MGs under control of 
> Softswitch.
> 
> Any commentary of accomplishing this level of interface using 
> SIP would be
> greatly appreciated. If nothing else, I offer to those 
> thinking about SIP
> some relevent context for the application of their work. It 
> would seem that
> interfacing
> with ESP would be an important consideration for and future 
> revisions of
> SIP, and
> thus this inquiry may stimulate some discussion of the topic.
> 
> Greg Girard
> CTO
> Iperia, Inc.
> 
> 
> 
> 
> 
> 
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 09:17:57 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA21614
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 09:17:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8DFC552DC; Mon, 15 Nov 1999 09:15:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0951552C4; Mon, 15 Nov 1999 09:15:34 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 74A9352DD
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 09:15:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 09:14:45 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Mon Nov 15 09:13:34 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id JAA12754;
	Mon, 15 Nov 1999 09:14:38 -0500 (EST)
Message-ID: <3830154D.8B4FFFCB@cs.columbia.edu>
Date: Mon, 15 Nov 1999 09:14:37 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Pete Cordell <pete@tech-know-ware.com>, sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <00ba01bf2f64$7412fde0$0200000a@tkw> <38300F7B.59A36594@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 

> > If SIP were signalled over UDP, and the RTP timing information (which is
> > similar to what H.323 does with DTMF - timing info part that is) was
> > included in with the INFO messages, then I can't see that RTP is any more
> > timely than INFO.
> 
> Multi-hop proxies. Ask the DCS folks all about this .. :)
> 

It should be noted that loss recovery speed is not primarily a UDP vs.
TCP issue. The timeliness of RTP-based delivery is due to the "FEC-like"
redundancy mechanism where DTMF status updates are transmitted every 50
ms or so, allowing very fast recovery, much faster than the SIP
retransmission timer. (To further confound the simple "UDP is faster"
issue, TCP can recover from losses significantly faster than fixed-timer
UDP for long-lived signaling channels if RTT estimation is used.)

Compared to the normal audio stream, RTP DTMF is no increase in packet
rate. Doing something similar as SIP INFO may, however, strain proxy
resources if DTMF signaling becomes popular.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 10:18:10 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA03944
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 10:18:09 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 40EAC52AB; Mon, 15 Nov 1999 10:14:41 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B395452C4; Mon, 15 Nov 1999 10:14:40 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 11A965318
	for <sip@lists.research.bell-labs.com>; Fri, 12 Nov 1999 12:25:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 12 12:25:02 EST 1999
Received: from mw.3com.com ([149.112.20.3]) by dusty; Fri Nov 12 12:23:54 EST 1999
Received: from mwgate02.mw.3com.com by mw.3com.com (8.8.5/3.1.090690-3Com Corporation)
	id LAA13525; Fri, 12 Nov 1999 11:24:39 -0600 (CST)
Received: by mwgate02.mw.3com.com(Lotus SMTP MTA v4.6.4  (830.2 3-23-1999))  id 86256827.0060914F ; Fri, 12 Nov 1999 11:34:46 -0600
X-Lotus-FromDomain: 3COM@3COM-MWGATE
From: "Rick Dean" <Rick_Dean@mw.3com.com>
To: sip@lists.research.bell-labs.com
Cc: "Jerry Mahler" <Jerry_Mahler@mw.3com.com>
Message-ID: <86256827.00608F51.00@mwgate02.mw.3com.com>
Date: Fri, 12 Nov 1999 11:32:12 -0600
Subject: Implementation detail about tags.
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk




Whenever my SIP UA sends an invite,
it includes a "From" tag.  This makes the case
of me calling myself through
a proxy easier.  Otherwise, matching messages to
call-leg-ends is more painful.  I believe this
is allowable within the spec, and you have now
been warned, so don't let it break your stack.

When responding to an invite, I always include
a "to" tag even though I sometimes don't have to.
Thus, if I ever receive a invite with a "to" tag, yet have
no record of the call, I know the invite is
a re-invite, and either could be for someone else
or is ancient, thus I return "481 Call Leg
does not exist".

Does anyone have a problem with this?

--
Rick Dean
3Com






From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 10:39:05 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA07542
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 10:39:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id DABB152D5; Mon, 15 Nov 1999 10:36:01 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2271452C4; Mon, 15 Nov 1999 10:36:00 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D1BB852DE
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 10:35:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 10:34:17 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Mon Nov 15 10:33:05 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FL800DJPV7PTL@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Mon, 15 Nov 1999 15:04:37 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id OAA23277; Mon,
 15 Nov 1999 14:59:53 +0000 (GMT)
Received: from C25776A ([166.37.185.191])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991115150433.VOOB15158@C25776A>; Mon,
 15 Nov 1999 15:04:33 +0000
Date: Mon, 15 Nov 1999 09:04:26 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: NEW TOPIC: Enhanced Services using SIP and  MGCP
In-reply-to: <17D1343B1AC5D11197110060081C78C52FCA9D@sigmail.gte.com>
To: "Gardell, Steve" <sgardell@gte.com>,
        "'Gregory D. Girard'" <ggirard@mediaone.net>,
        sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKKENGENAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>I would 
> prefer to think of the Enhanced Services 
> platform as managing a set of connections,
> some of which might involve MG's. e.g. a
> network of SIP phones talking to each other
> and to MG's.

Agree 100%.

Henry

Henry Sinnreich
MCI WorldCom
400 International Parkway
Richardson, Texas 75081, USA 


> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gardell,
> Steve
> Sent: Monday, November 15, 1999 8:02 AM
> To: 'Gregory D. Girard'; sip@lists.research.bell-labs.com
> Subject: RE: NEW TOPIC: Enhanced Services using SIP and MGCP
> 
> 
> An insightful description and a good start
> at a list of basic requirements. I would 
> prefer to think of the Enhanced Services 
> platform as managing a set of connections,
> some of which might involve MG's. e.g. a
> network of SIP phones talking to each other
> and to MG's.
> 
> Steven Gardell
> GTE Laboratories
> Voice: 781-466-2681, Fax: 781-466-3375
> 
> 
> > -----Original Message-----
> > From: Gregory D. Girard [mailto:ggirard@mediaone.net]
> > Sent: Tuesday, November 09, 1999 7:28 AM
> > To: sip@lists.research.bell-labs.com
> > Subject: NEW TOPIC: Enhanced Services using SIP and MGCP
> > 
> > 
> > SIP versus MGCP for Interfacing Enhanced Services Platforms
> > 
> > *** DISCLAIMER: The following post is long one aimed at solving a much
> > larger problem than that immediately addressed by SIP. Please 
> > feel free to
> > ignore unless your interests lie in the interface between the 
> > softswitch and
> > an Enhanced Services Platform (based upon SIP an other protocols) ***
> > 
> > It is my observation that basic call completion and 
> > management operations
> > supported by SIP are not up to the level of control supported by MGCP.
> > Collection of DTMF digits according to a digit map stands as 
> > one example,
> > and while "possible" in SIP, is not a basic feature defined 
> > for SIP. At the
> > same time, MGCP provides excellent switching-matrix-oriented 
> > control over
> > low-level call control operations (including access to 
> > physical endpoints in
> > a matrix and DTMF digit maps) but does not provide the 
> > high-level signaling
> > required for more generalized "service-oriented" 
> > functionality. For example,
> > MGCP cannot tell me ultimately who the call came from nor to 
> > whom it was
> > directed, and is only capable of providing physical endpoint 
> > addressing.
> > As a result, it would appear that as an integration layer, 
> > neither SIP nor
> > MGCP alone would allow an enhanced services platform to 
> > receive a call and
> > render a complex service. Neither protocol has all the parts 
> > necessary to
> > support anything but the most simple, passively-activated 
> > enhanced service
> > (i.e. voice mail).
> > 
> > While it is understood that any number of SIP extensions 
> > could be created to
> > support such operations, it would basically require 
> > incorporating an MGCP
> > message set into SIP, along with some notion of local or virtual
> > "switching matrix" element to serve as a medium over which those
> > operations would be performed.
> > 
> > At the same time, MGCP could be exended as well, but being a simple
> > client/server protocol with a 1:1 mapping of call agent 
> > instance to MG, it
> > does not have all the relocation and proxy services of SIP. 
> > Besides, MGCP
> > associates a controlling element with some physical switching matrix
> > resource, thus resource contention and scaling problems would 
> > result by
> > presenting application-level call control as "bound" to some 
> > specific device
> > under control of the Softswitch, and the control element would not be
> > interfacing and not the softswitch itself.
> > 
> > ***It is my impression that it is generally agreed that 
> > Enhanced Services
> > Platforms will work better if they talk to softswitches than MGs.
> > 
> > Where does that leave someone who wishes to tightly integrate 
> > an enhanced
> > services platform with a softswitch ? Does one extend one protocol to
> > incorporate features of the other ?  Does one establish and an MGCP
> > session for every SIP connection ? Is is feasible for SIP,
> > as will be specified in forthcoming embodiments, to 
> > incorporate low-level
> > call control features contained within MGCP, perhaps on a
> > session-by-session basis ?
> > 
> > Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
> > communictions mechanism for call setup/tear down, does it make sense
> > to rethink its mission in life with respect to enhanced 
> > services, or is that
> > capability
> > already inherent in SIP ? To say that any "SIP implementer" 
> > can add this
> > functionality
> > is not at all helpful because without general agreement of features it
> > becomes
> > impossible to promote vendor-specific extensions as any 
> > "standard" at all.
> > I am aware of the SIP call control extensions exist for blind 
> > transfer an
> > other such features.
> > 
> > I am also aware that the basic problem in putting SIP and 
> > MGCP together
> > relates to the fact that SIP is oriented to managing call sessions
> > whereas MGCP is oriented towards managing switching matrixes.
> > An Enhanced Service Platform needs to operate on both planes. But it
> > is the objective of my inquiry to avoid creating some ugly propriety
> > interface and instead rely upon standards as much as possible.
> > 
> > Basic features required for Enhanced Services Platform (ESP) 
> > intergration
> > with a softswitch include the following list below. This is an e-mail
> > message for general consideration written off the top of my head in 15
> > minutes and not an exhaustive treatment of the subject; so I 
> > would ask that
> > commentary of the items below focus on the general control 
> > issues as can
> > best be interpreted from the muddled presentation. The terms "call",
> > "connection" and "call leg" mean different things to 
> > different technology
> > domains. Keep in mind below that the ESP may incorporate the 
> > "announcement
> > server" in some cases, thus connections that require 
> > play/record of prompts
> > will potentially terminate on ESP.
> > 
> > 1- Originate/Answer/Disconnect voice connections between any 
> > two network
> > addresses. Connections managed under control of Softswitch 
> > and potentially
> > even terminating on ESP for IVR purposes; all connections 
> > routed through a
> > MG under Softswitch control.
> > 
> > 2- Monitor Q.931 (or equivelent) call state information for 
> > specified call
> > session under
> > control of Softswitch
> > 
> > 3- Collect DTMF digits on specified connection
> > 
> > 4- Generate DTMF digits on a specified connnection (for pager dialing
> > interface, for example)
> > 
> > 5- Create/Add/Remove full or half-duplex call leg to call 
> > under control of
> > Softswitch, potentially terminating on ESP (all connections 
> > routed MG under
> > Softswitch control)
> > 
> > 6- Transfer one call/connection to another
> > 
> > 7- Originate/Answer/Disconnect connection under control of 
> > softswith with
> > media type of T.38 fax such fax image may be transmitted and 
> > received using
> > DSP fax algorithms residing in certain MGs under control of 
> > Softswitch.
> > 
> > Any commentary of accomplishing this level of interface using 
> > SIP would be
> > greatly appreciated. If nothing else, I offer to those 
> > thinking about SIP
> > some relevent context for the application of their work. It 
> > would seem that
> > interfacing
> > with ESP would be an important consideration for and future 
> > revisions of
> > SIP, and
> > thus this inquiry may stimulate some discussion of the topic.
> > 
> > Greg Girard
> > CTO
> > Iperia, Inc.
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 15 11:40:38 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA26309
	for <sip-archive@odin.ietf.org>; Mon, 15 Nov 1999 11:40:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 87FB252BB; Mon, 15 Nov 1999 11:37:51 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EA5AA52B6; Mon, 15 Nov 1999 11:37:50 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4243E52DB
	for <sip@lists.research.bell-labs.com>; Mon, 15 Nov 1999 11:37:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 15 11:36:46 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Mon Nov 15 11:35:35 EST 1999
Received: from mr3.exu.ericsson.se (mr3u.ericy.com [208.238.116.100])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id KAA13918;
	Mon, 15 Nov 1999 10:36:11 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id KAA09760;
	Mon, 15 Nov 1999 10:36:11 -0600 (CST)
Received: from qpop.exu.ericsson.se (qpop [138.85.1.15]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id KAA11404; Mon, 15 Nov 1999 10:36:07 -0600 (CST)
Received: from ericsson.com (pc194116.exu.ericsson.se [138.85.194.116])
	by qpop.exu.ericsson.se (8.9.1/8.9.1) with ESMTP id KAA01550;
	Mon, 15 Nov 1999 10:36:06 -0600 (CST)
Message-ID: <38303674.55D2135@ericsson.com>
Date: Mon, 15 Nov 1999 10:36:04 -0600
From: Ulf Andersson <ulf.andersson@ericsson.com>
Organization: Ericsson Inc
X-Mailer: Mozilla 4.04 [en] (Win95; I)
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com, ensc-tia@sfu.ca,
        sip-implementors@cs.columbia.edu, confctrl@isi.edu,
        iptel@lists.research.bell-labs.com, eriietf@kk.ericsson.se
Subject: SIP Bake-off Deadline today!
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hello!

This is a reminder that the deadline for registering for the
third SIP bake-off is today! I will extend it until tomorrow
as requested by a couple of groups.

If you plan to attend, please register ASAP at:
http://www.sipbakeoff.org

As of 10:21 am (CST) the registered participants are:

8x8
Pingtel Corp.
Catapult Communications
MCIWorldcom (3 teams)
Nortel Networks (2 teams)
Broadsoft
VTEL Corporation
Telogy Networks
Radcom Equipment, Inc
Nuera Communications
Ericsson (2 teams)
Dynamicsoft
Cisco Systems, Inc
E*Club (Carnegie Mellon University)
Hewlett-Packard Labs
3Com
OZ.COM
FacetCorp
IPCell Technologies

Regards,
Ulf

--
Ulf Andersson
Ericsson Inc          +1 972 583 7537        ulf.andersson@ericsson.com

---

Hello!

The third SIP bake-off will be hosted by Ericsson in Dallas, Texas,
December 6-8, 1999.

For information and registration please visit http://www.sipbakeoff.org.

The deadline for requesting special equipment and connections is October
30th. The deadline for general registration is November 15th.

Please note that the bake-off is open only to implementors with working
SIP implementations. It is not a trade show, public demonstration,
conference or workshop, and individual results of all testing will remain
confidential. A press release will be prepared at the end of the event to
announce the results.

Welcome!


Ulf Andersson
Ericsson Inc
ulf.andersson@ericsson.com
(972) 583-7537






From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 08:55:57 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA09929
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 08:55:56 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2801D52D6; Tue, 16 Nov 1999 08:53:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9605452DB; Tue, 16 Nov 1999 08:53:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0A10552D6
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 08:53:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 08:51:14 EST 1999
Received: from carbon.btinternet.com ([194.73.73.92]) by dusty; Tue Nov 16 08:50:03 EST 1999
Received: from [212.140.34.66] (helo=tkw)
	by carbon.btinternet.com with smtp (Exim 2.05 #1)
	id 11nj0a-000087-00; Tue, 16 Nov 1999 13:50:57 +0000
Message-ID: <000c01bf3039$b235c280$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 16 Nov 1999 13:48:19 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Pete Cordell <pete@tech-know-ware.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 15 November 1999 13:51
Subject: Re: DTMF signaling between media gateways - ouch!


>
>
>Pete Cordell wrote:
>>
>> Jonathan,
>>
>> I afraid I disagree with some of your points....
>
>No reason to be afraid ;)
>
>> >> (a) A number of entities along the signalling path need to know the
>> >> digits.
>> >
>> >But why? SIP is *not* a stimulus signaling protocol. Protocol features
>> >are not invoked by DTMF. I feel strongly about this since once you start
>> >doing this, you mandate a proxy server for call completion and possibly
>> >certain features which otherwise don't need one. This isn't megaco,
>> >after all. I believe it funamental to the SIP architecture that the
>> >operation of basic call completion and certain features (where
>> >appropriate) is independent of the presence of a proxy.
>>
>> Allowing for simulous signalling is very important even in an IP world.
It
>> allows people to pick up any 'phone' and run their desired application
>> service without downloading any patches that natively support the
>> application.  A lot of supplementary service suites have started out
being
>> purely functional based, but have later had to adopt a simulous approach
>> because of lack of support in the endpoints.  This is particularly the
case
>> for public services (as opposed to private networks) where the service
>> provider (who may not be the network provider) does not control the build
on
>> UAs.
>
>Yes, I've heard this many times. The issue of not being able to upgrade
>UA's is obviously critical for the PSTN, but I'm not sure this is so
>much an issue anymore for IP. Many pieces of software these days
>automatically upgrade themselves, with nothing more than an "OK" from
>the user. Furthermore, one can envision future UA's having JVMs that
>simply fetch the latest version when I call up my "provider" to enable a
>new service. Note that my network provider doesn't have to be my service
>provider at all for this to work.
>
>The issue seems to be fairly religious; there are those on one side
>(like myself) who believes that IP is a true enabler of functional
>signaling, and those on the other side (like yourself) who draw
>parallels with systems like ISDN (which do support both) and see the
>issue here as the same.

There was also a time when it was said that there was no need to standardise
call control software as you would just down load the appropriate version.
That hasn't happened, and I'm not surprised.  I agree that ISDN devices are
less easily upgradeable (by design rather than technology limitations), but
I don't think the difference is sufficient to ignore simulus based
signalling.  HTTP/HTML based control may play a big part in the future, but
I think with small mobile devices, and other similar toys, simulus based
signalling will still play a part.  There will also be the case of calls
originating off-IP, but terminating in IP space and these will still need
some form of control.

Also, a lot of people are worried about downloading software from here,
there and everywhere, and I think many of them, given the choice, would
prefer not to do it, - especially if it was just to contact the tax office
call centre etc!

So, in the short term at least, I think we need simulus signalling.  If
that's not possible then the whole thing is going to look rather silly.
Maybe in the long term things will change, but you have to move by
evolution, not revolution.

And we should definitately avoid not doing things just because ISDN does
it!!!

>
>>
>> Also, just because you can have services supplied by proxy servers using
>> DTMF, I don't see that this mandates their presence in all cases.  I may
be
>> missing the point, but in the same way that I can ring up a banking
service,
>> I don't see that this mandates that I have to ring up a banking service
>> every time (although the banks might think differently!)
>
>Banking is different in that its not a call control service. Any service
>or feature which modifies call or connection state in any way at all, if
>signaled via DTMF, will not be available in a direct UA to UA
>connection. This means things like transfer, I believe, should not be
>signaled by means of DTMF.
>

Atomic things like transfer can probably easily get away with being
functionally signalled.  However, I think transfers will occur as a result
of DTMF signalling, even if only indirectly, such as in a call center.  I
really don't want to down load a patch (that may be phone specific) for each
call center I contact.

>> >These coordination problems arise only when the DTMF is sent in INFO.
>> >When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
>> >can put back the DTMF if need be.
>>
>> If SIP were signalled over UDP, and the RTP timing information (which is
>> similar to what H.323 does with DTMF - timing info part that is) was
>> included in with the INFO messages, then I can't see that RTP is any more
>> timely than INFO.
>
>Multi-hop proxies. Ask the DCS folks all about this .. :)
>
> Especially if all of those proxies only interested in the
>> location phase un-hook from the call path.  This of course is a build
>> option, but if you don't have some form of engineered QoS on your
network, I
>> believe you should be using UDP anyway.
>
>But if the proxies are not looking at the DTMF, it doesn't need to be in
>the INFO method at all. As you suggest, if INFO carries DTMF and timing
>information and goes direct, then its basically RTP with a very massive
>header.

But DTMF is a signalling protocol, albeit crude, and ought to be aligned
with other signalling information, such as transfer, end call etc.
Therefore, if there is nothing to choose between them, the information is
best associated with the signalling.  The header of an INFO message might be
bigger, but there shouldn't be too many of them, and they don't need to be
re-transmitted at regular intervals.

>
>-Jonathan R.
>
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 09:21:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA22391
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 09:21:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 28C2952AB; Tue, 16 Nov 1999 09:19:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 96B2652DB; Tue, 16 Nov 1999 09:19:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7D06652AB
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 09:19:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 09:18:37 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 16 09:17:27 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpoz24343;
	Tue, 16 Nov 1999 14:23:03 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id JAA07490;
	Tue, 16 Nov 1999 09:18:22 -0500 (EST)
Message-ID: <3831685E.2501E81D@dynamicsoft.com>
Date: Tue, 16 Nov 1999 09:21:18 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Rick Dean <Rick_Dean@mw.3com.com>
Cc: sip@lists.research.bell-labs.com, Jerry Mahler <Jerry_Mahler@mw.3com.com>
Subject: Re: Implementation detail about tags.
References: <86256827.00608F51.00@mwgate02.mw.3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Rick Dean wrote:
> 
> Whenever my SIP UA sends an invite,
> it includes a "From" tag.  This makes the case
> of me calling myself through
> a proxy easier.  Otherwise, matching messages to
> call-leg-ends is more painful.  I believe this
> is allowable within the spec, and you have now
> been warned, so don't let it break your stack.

Yes.

> 
> When responding to an invite, I always include
> a "to" tag even though I sometimes don't have to.
> Thus, if I ever receive a invite with a "to" tag, yet have
> no record of the call, I know the invite is
> a re-invite, and either could be for someone else
> or is ancient, thus I return "481 Call Leg
> does not exist".

Also correct.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 09:49:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA05976
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 09:49:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B46A152DB; Tue, 16 Nov 1999 09:47:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2E74852DD; Tue, 16 Nov 1999 09:47:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8753952DB
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 09:47:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 09:46:26 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Tue Nov 16 09:45:13 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id UAA02879
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 20:50:56 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 6525682B.0050F261 ; Tue, 16 Nov 1999 20:14:09 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <6525682B.004FD278.00@sampark.hss.hns.com>
Date: Tue, 16 Nov 1999 20:14:04 +0530
Subject: Question on INFO
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,
In draft-ietf-sip-info-method-00.txt it is stated that the parsing rules
for INFO is same as that of BYE unless stated otherwise.
However, the document does not seem to mention any exception (besides
change of state) - so is it correct to assume then
that both follow the same parsing rule set ? Or has there been any changes
?

The draft draft-zimmerer-mmusic-sip-bcp-t-00.txt mentions both INFO and
Mime-type extensions to carry PSTN signals.
Has there been any standardisation on which is preferred or this this still
in flux ?

Thx
Regds
Arjun





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 09:55:38 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA08675
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 09:55:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0DF8752BB; Tue, 16 Nov 1999 09:53:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 75D2352DE; Tue, 16 Nov 1999 09:53:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 541B452BB
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 09:53:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 09:52:03 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Tue Nov 16 09:50:52 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id QAA21643
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 16:52:33 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.72.252])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id QAA04366
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 16:51:57 +0200 (EET)
Message-ID: <38316F87.C7EDFA31@lmf.ericsson.se>
Date: Tue, 16 Nov 1999 16:51:51 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip <sip@lists.research.bell-labs.com>
Subject: 183, BCP & forking
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

In the last SIP meeting in DC there was a discussion about forking or
not forking in the SIP-BCP-T...

I would like to write down some ideas about this, but not just related
to SIP-BCP-T...

When we have a SIP UA in our computer is not a problem to reach a user
in several places at the same time (forking the INVITE), but when we
have the "old black phone" we run into troubles. This is the case of
PSTN phones, but also if we build a SIP phone that looks like a
traditional phone, and I believe lots of people want this kind of
device.

We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
forks it and sends it to several locations (parallel search) where B can
be reached. We receive one 183 reponse and we begin hearing a ringback
tone or an announce... in the meantime, we receive a 200 from another
location... what should we do??

Because it is not a good idea to CANCEL the rest of the branches when I
receive a 183...

Maybe we could specify that we do not want parallel search in our caller
preferences... in this case, as Scott suggested, the caller preferences
would have to have priority over any logic (CPL) intalled in the server.

Maybe it is worthwhile saying something about this in the 183 draft.
Maybe instead of saying "no fork" it is better to say "no parallel
search" in SIP-BCP-T...

Any ideas?

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 12:37:57 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20691
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 12:37:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D7E9552AB; Tue, 16 Nov 1999 12:35:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 568F252DB; Tue, 16 Nov 1999 12:35:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DC97D52AB
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 12:35:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 12:34:48 EST 1999
Received: from bounty.cisco.com ([161.44.2.72]) by dusty; Tue Nov 16 12:33:37 EST 1999
Received: from cisco.com (bounty.cisco.com [161.44.2.72])
	by bounty.cisco.com (8.8.8/2.5.1/Cisco List Logging/8.8.8) with ESMTP id MAA16618;
	Tue, 16 Nov 1999 12:33:57 -0500 (EST)
Message-ID: <38319585.687FEB01@cisco.com>
Date: Tue, 16 Nov 1999 12:33:57 -0500
From: Shail Bhatnagar <shbhatna@cisco.com>
Organization: CISCO
X-Mailer: Mozilla 4.51C-CISCOENG [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Rick Dean <Rick_Dean@mw.3com.com>
Cc: sip@lists.research.bell-labs.com, Jerry Mahler <Jerry_Mahler@mw.3com.com>
Subject: Re: Implementation detail about tags.
References: <86256827.00608F51.00@mwgate02.mw.3com.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Rick Dean wrote:
> 
> Whenever my SIP UA sends an invite,
> it includes a "From" tag.  This makes the case
> of me calling myself through
> a proxy easier.  Otherwise, matching messages to
> call-leg-ends is more painful.  I believe this
> is allowable within the spec, and you have now
> been warned, so don't let it break your stack.
> 
> When responding to an invite, I always include
> a "to" tag even though I sometimes don't have to.
> Thus, if I ever receive a invite with a "to" tag, yet have
> no record of the call, I know the invite is
> a re-invite, and either could be for someone else
> or is ancient, thus I return "481 Call Leg
> does not exist".

Not sure what this achieves. When you say "yet have no record of
the call", you have probably done some kind of lookup based on 
Call-ID. It does not optimize your decision to send 481 in any
way, does it ?

> 
> Does anyone have a problem with this?
> 
> --
> Rick Dean
> 3Com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 16 12:47:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24772
	for <sip-archive@odin.ietf.org>; Tue, 16 Nov 1999 12:47:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9844852DB; Tue, 16 Nov 1999 12:45:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1252252DC; Tue, 16 Nov 1999 12:45:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 16B4852DB
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 12:45:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 12:43:06 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Tue Nov 16 12:41:50 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLA00ACNX4MNI@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 16 Nov 1999 17:41:11 +0000 (GMT)
Received: from omzexch007.mcit.com (OMZEXCH007.mcit.com [166.37.194.38])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id RAA17057; Tue,
 16 Nov 1999 17:39:41 +0000 (GMT)
Received: by omzexch007 with Internet Mail Service (5.5.2571.0)
	id <XAWG61GM>; Tue, 16 Nov 1999 17:41:10 +0000
Content-return: allowed
Date: Tue, 16 Nov 1999 17:41:06 +0000
From: "Donovan, Steven R." <Steven.R.Donovan@wcom.com>
Subject: RE: Question on INFO
To: "'archow@hss.hns.com'" <archow@hss.hns.com>,
        sip@lists.research.bell-labs.com
Message-id: <75C79E507864D3118AFC00805FEAB7D8018F76@ripexch001.mcit.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2571.0)
Content-type: multipart/alternative;
	boundary="----_=_NextPart_001_01BF3059.C4988268"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF3059.C4988268
Content-Type: text/plain;
	charset="iso-8859-1"



-----Original Message-----
From: archow@hss.hns.com [mailto:archow@hss.hns.com]
Sent: Tuesday, November 16, 1999 8:44 AM
To: sip@lists.research.bell-labs.com
Subject: Question on INFO


Hi,
In draft-ietf-sip-info-method-00.txt it is stated that the parsing rules
for INFO is same as that of BYE unless stated otherwise.
However, the document does not seem to mention any exception (besides
change of state) - so is it correct to assume then
that both follow the same parsing rule set ? Or has there been any changes
?

SRD> There has been nothing identified yet that would require activating the
"unless stated otherwise" clause.

The draft draft-zimmerer-mmusic-sip-bcp-t-00.txt mentions both INFO and
Mime-type extensions to carry PSTN signals.
Has there been any standardisation on which is preferred or this this still
in flux ?

SRD> Both are required.  The MIME type extensions are required to attach
PSTN signals to any SIP message, where appropriate.  This would apply to
INVITE (for IAM), BYE (for REL), 200 OK (for ANM), 180 and 183 (for ACM),
and possibly some others (for instance, 486 for REL with cause value of
busy).  The INFO method would then be used to carry any PSTN signals that
arrive during the middle of an existing session.

Thx
Regds
Arjun



------_=_NextPart_001_01BF3059.C4988268
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2569.0">
<TITLE>RE: Question on INFO</TITLE>
</HEAD>
<BODY>
<BR>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: archow@hss.hns.com [<A =
HREF=3D"mailto:archow@hss.hns.com">mailto:archow@hss.hns.com</A>]</FONT>=

<BR><FONT SIZE=3D2>Sent: Tuesday, November 16, 1999 8:44 AM</FONT>
<BR><FONT SIZE=3D2>To: sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2>Subject: Question on INFO</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Hi,</FONT>
<BR><FONT SIZE=3D2>In draft-ietf-sip-info-method-00.txt it is stated =
that the parsing rules</FONT>
<BR><FONT SIZE=3D2>for INFO is same as that of BYE unless stated =
otherwise.</FONT>
<BR><FONT SIZE=3D2>However, the document does not seem to mention any =
exception (besides</FONT>
<BR><FONT SIZE=3D2>change of state) - so is it correct to assume =
then</FONT>
<BR><FONT SIZE=3D2>that both follow the same parsing rule set ? Or has =
there been any changes</FONT>
<BR><FONT SIZE=3D2>?</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; There has been nothing identified yet that =
would require activating the &quot;unless stated otherwise&quot; =
clause.</FONT>
</P>

<P><FONT SIZE=3D2>The draft draft-zimmerer-mmusic-sip-bcp-t-00.txt =
mentions both INFO and</FONT>
<BR><FONT SIZE=3D2>Mime-type extensions to carry PSTN signals.</FONT>
<BR><FONT SIZE=3D2>Has there been any standardisation on which is =
preferred or this this still</FONT>
<BR><FONT SIZE=3D2>in flux ?</FONT>
</P>

<P><FONT SIZE=3D2>SRD&gt; Both are required.&nbsp; The MIME type =
extensions are required to attach PSTN signals to any SIP message, =
where appropriate.&nbsp; This would apply to INVITE (for IAM), BYE (for =
REL), 200 OK (for ANM), 180 and 183 (for ACM), and possibly some others =
(for instance, 486 for REL with cause value of busy).&nbsp; The INFO =
method would then be used to carry any PSTN signals that arrive during =
the middle of an existing session.</FONT></P>

<P><FONT SIZE=3D2>Thx</FONT>
<BR><FONT SIZE=3D2>Regds</FONT>
<BR><FONT SIZE=3D2>Arjun</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01BF3059.C4988268--



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 17:50:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA15071
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 17:49:56 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id DE3E952DE; Wed, 17 Nov 1999 17:39:18 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7B88B52DC; Wed, 17 Nov 1999 17:39:15 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from chair.dnrc.bell-labs.com (chair [135.180.161.201])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 3617152EE
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:34:42 -0500 (EST)
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10] (may be forged))
	by chair.dnrc.bell-labs.com (8.9.3/8.9.3) with SMTP id RAA01600
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:31:20 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 15:24:16 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 17 15:23:05 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhptp21918;
	Wed, 17 Nov 1999 20:28:44 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA13414;
	Wed, 17 Nov 1999 15:24:03 -0500 (EST)
Message-ID: <38330F94.6C4C2C9C@dynamicsoft.com>
Date: Wed, 17 Nov 1999 15:27:00 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Pete Cordell <pete@tech-know-ware.com>, sip@lists.research.bell-labs.com
Subject: Re: More on DTMF signaling between media gateways
References: <00f001bf3090$96269cc0$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> That is, what if the objective is to not require ANY real-time or RTP
> transport at all between the MG and the ESP.

I don't know what an ESP is. You have never defined it nor given
reference to it. I had guessed it was some kind of logic ontop of a
softswitch. Now you seem to be implying its a seperate server with some
media function. 

 In sofar as the ESP really need
> only to "play" and "record" voice/fax to/from the end user, it may be
> possible for the MG, acting as an intermediate entity, to utilize more of a
> streaming interface in its connections with the ESP.
> 
> It would appear that simply playing prompts and recording voice could be
> accomplished without RTP as there is no real-time full-duplex session
> between the MG and ESP. Thus the playing of a prompt could proceed as as any
> other media connection, but with relaxed realtime component. The only
> requirement is that the MG have enough voice data to continue the play
> operation. Whether it arrives in realtime is not a requirement. Of course,
> multi-second delays would not be acceptable without large buffer sizes. Why
> do this ? because it removes all need for RTP HW/SW on the ESP for both play
> and record operations. The same goes for T.38 fax data.

I'm at a total loss here about what you are talking about. Relaxing the
real time requirement doesn't mean RTP or media goes away. If you want
to send media from this ESP thing to a MG, whether your playout buffer
in the MG is big or small doesn't change the need for RTP. Streaming
media, ala RealPlayer, still use RTP.

> 
> Of course, the result is that DTMF over the media stream would be of no use
> because the digits need to be instantly propogated to the ESP, not caught up
> in some audio buffer. Thus DTMF reliance upon RTP is awkward when the
> solution has no RTP in use. There are a lot of other reasons for the MG
> media i/o to operate in a streaming fashion: for instance, the ESP will only
> be able to store and retreive message data in a streaming fashion, so why
> add the real-time requirement on ESP ?

This also makes no sense to me, since based on your description, you are
still using RTP.

> 
> Above and beyond that issue, it has come to my attention from a variety of
> sources (and suggestions from MG manufacturers) to incorporate all or most
> of MGCP  in SIP according to a tunneling method.

While we're at it, lets put all of RTP into SIP also. This way, we can
avoid the need for this additional RTP protocol; we just tunnel the
header and payload through SIP. While we're at it, RSVP should go also,
since this would allow the MGC/proxy/router to know about QoS
reservations!! Wow! We've just thrown away three extra protocols
(MGCP,RTP,RSVP). Amazing how tunneling one protocol in another magically
makes the problem of protocols and state machinery go away. Now, if we
can just get BGP in there too....

<note intense sarcasm>


 I currently stand opposed
> to this because the goals of MGCP and SIP seem to part company in many
> areas, namely in the level of matrix control afforded by MGCP.

One might add that they are also completely different protocols with
totally different functions.


> TO THAT END, it would seem a reasonable solution that at the very least the
> DTMF digit map method be incorporated into SIP so that a request for digits
> can be kept in the MG without generating a lot of DTMF traffic in either the
> signaling or media planes. 

The MG doesn't speak SIP.

Of course, any use of the media plane to resolve
> a DTMF digit map request would need to return a very structured response as
> part of a negotiation.

Given that you haven't defined "digit map request" or "negotiation" in
this context, the statement seems hardly obvious to me.


-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 17:59:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19439
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 17:59:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 798D852E4; Wed, 17 Nov 1999 17:39:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0F3FB52D5; Wed, 17 Nov 1999 17:39:44 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from chair.dnrc.bell-labs.com (chair [135.180.161.201])
	by lists.research.bell-labs.com (Postfix) with ESMTP id D113B52F1
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:34:42 -0500 (EST)
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10] (may be forged))
	by chair.dnrc.bell-labs.com (8.9.3/8.9.3) with SMTP id RAA01539
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:31:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 19:14:49 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 16 19:13:38 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id TAA01234;
	Tue, 16 Nov 1999 19:13:13 -0500 (EST)
Message-ID: <00f001bf3090$96269cc0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Pete Cordell" <pete@tech-know-ware.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: More on DTMF signaling between media gateways
Date: Tue, 16 Nov 1999 19:13:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan, Pete,

In yet another of my discussions with an MG manufacturer today, the issue
was raised as to how to create the simplest, most cost effective interface
between an enhanced services platform (ESP) and a MG - a solution that would
require the least amount of work, the fewest components, and preferable no
additional HW (since much of the point of this excercise is to get rid of
TDM HW). While Iperia is in discusssions with most MG manufacturers
regarding this same subject, a new DTMF issue was raise that we have not yet
considered in our wide and varied explorations.

That is, what if the objective is to not require ANY real-time or RTP
transport at all between the MG and the ESP. In sofar as the ESP really need
only to "play" and "record" voice/fax to/from the end user, it may be
possible for the MG, acting as an intermediate entity, to utilize more of a
streaming interface in its connections with the ESP.

It would appear that simply playing prompts and recording voice could be
accomplished without RTP as there is no real-time full-duplex session
between the MG and ESP. Thus the playing of a prompt could proceed as as any
other media connection, but with relaxed realtime component. The only
requirement is that the MG have enough voice data to continue the play
operation. Whether it arrives in realtime is not a requirement. Of course,
multi-second delays would not be acceptable without large buffer sizes. Why
do this ? because it removes all need for RTP HW/SW on the ESP for both play
and record operations. The same goes for T.38 fax data.

Of course, the result is that DTMF over the media stream would be of no use
because the digits need to be instantly propogated to the ESP, not caught up
in some audio buffer. Thus DTMF reliance upon RTP is awkward when the
solution has no RTP in use. There are a lot of other reasons for the MG
media i/o to operate in a streaming fashion: for instance, the ESP will only
be able to store and retreive message data in a streaming fashion, so why
add the real-time requirement on ESP ?

Above and beyond that issue, it has come to my attention from a variety of
sources (and suggestions from MG manufacturers) to incorporate all or most
of MGCP  in SIP according to a tunneling method. I currently stand opposed
to this because the goals of MGCP and SIP seem to part company in many
areas, namely in the level of matrix control afforded by MGCP. I'm sure that
Jonathan might have some words to say about this, perhaps to the exent of
even agreeing with it :). But in any case, it seem quite crucial that (and
here I refer to a point made by Pete ? or someone else ?) that if DTMF gets
popular, it will put a load on SIP elements for which it may not be
designed.

TO THAT END, it would seem a reasonable solution that at the very least the
DTMF digit map method be incorporated into SIP so that a request for digits
can be kept in the MG without generating a lot of DTMF traffic in either the
signaling or media planes. Of course, any use of the media plane to resolve
a DTMF digit map request would need to return a very structured response as
part of a negotiation. I think we could all agree that it would be an
entirely inappropriate use of a media stream to try and run a DTMF digit map
query protocol in it. Thus, while I am not supporting the merging or
incorporating MGCP in SIP, I am proposing that the DTMF digit collection
mechanism of MGCP be incorporated in the SIP feature set. My apologies if
this combinations of the ideas and issues of many has already been
considered; however I personally have not heard this particular solution
suggested.

So, to summarize my proposed solution:

1- DTMF digit map technique becomes part of SIP; client simply presents map
and waits for SIP to fulful it, returning result in INFO
2- Media stream may contain raw DTMF digits in form of tone waveforms, but
no special RTP DTMF passing would be used
3- Technique in (1) confines DTMF binary digit input to control/signaling
plane as prompted user stimulus initiated by SIP client and resolved by SIP
server
4- MGCP in Softswitch used to implement/support functionality in (3)
5- SIP used for all connection initiation and management as originally
intended
6- Technique in (2) is by-product of tones inserted into media stream by
terminal and supported transparently as a pass-thru for analog devices on
the other end of the connection.

In addition, a few DSP operations such as voice energy level detection, as
used for barge-in, need to be detected by DSPs on the MG rather than the
ESP. Otherwise we are back to a HW solution for the ESP. The solution, I
would think, would be to add a few more functions to SIP for the remaining
voice-oriented DSP functions that are best left to the huge DSP capabilities
of most MG.

Summarily, DTMF and voice detection are simply user stimulants that must be
requested by the the client, and SIP may provide a perfect protocol
framework for these operations.

Regards,

Greg Girard
CTO
Iperia, Inc.





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:06:01 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA22081
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:05:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4B97052E0; Wed, 17 Nov 1999 17:46:17 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AA65652ED; Wed, 17 Nov 1999 17:45:57 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1F55652E0
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:43:22 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 14:56:40 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 17 14:55:29 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpto25951;
	Wed, 17 Nov 1999 20:01:17 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id OAA13329;
	Wed, 17 Nov 1999 14:56:37 -0500 (EST)
Message-ID: <38330926.75DEC2E6@dynamicsoft.com>
Date: Wed, 17 Nov 1999 14:59:34 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: sip@lists.research.bell-labs.com
Subject: Re: NEW TOPIC: Enhanced Services using SIP and  MGCP
References: <001a01bf2aad$ec6bf4b0$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> It is my observation that basic call completion and management operations
> supported by SIP are not up to the level of control supported by MGCP.

This is comparing apples and oranges. MGCP is about device
(specifically, gateway) control. SIP is about setting up calls and
sessions between participants, some of which may or may not happen to be
controlled by MGCP. It doesn't matter as far as SIP is concerned.

> Collection of DTMF digits according to a digit map stands as one example,
> and while "possible" in SIP, is not a basic feature defined for SIP. At the
> same time, MGCP provides excellent switching-matrix-oriented control over
> low-level call control operations (including access to physical endpoints in
> a matrix and DTMF digit maps) but does not provide the high-level signaling
> required for more generalized "service-oriented" functionality. For example,
> MGCP cannot tell me ultimately who the call came from nor to whom it was
> directed, and is only capable of providing physical endpoint addressing.
> As a result, it would appear that as an integration layer, neither SIP nor
> MGCP alone would allow an enhanced services platform to receive a call and
> render a complex service. Neither protocol has all the parts necessary to
> support anything but the most simple, passively-activated enhanced service
> (i.e. voice mail).

Last I checked, SIP can support a whole host of enhanced services.
Perhaps you have some different definition of what these are.


> 
> While it is understood that any number of SIP extensions could be created to
> support such operations, it would basically require incorporating an MGCP
> message set into SIP, along with some notion of local or virtual
> "switching matrix" element to serve as a medium over which those
> operations would be performed.

Why? A complete solution for IP telephony services might also include
RSVP, RTP, COPS, Diffserv, TRIP, and CPL, but I certainly wouldn't
advocate making these all one protocol. If you want to control a MG, and
then based on its input, signal setup of a call or some services, you
use both MGCP (to control the MG) and SIP (to signal the call
establishment).


> Where does that leave someone who wishes to tightly integrate an enhanced
> services platform with a softswitch ? Does one extend one protocol to
> incorporate features of the other ?  Does one establish and an MGCP
> session for every SIP connection ? Is is feasible for SIP,
> as will be specified in forthcoming embodiments, to incorporate low-level
> call control features contained within MGCP, perhaps on a
> session-by-session basis ?

I don't see the issue here at all. All of the standard architectural
drawings for MGCP show the softswitch speaking megaco/mgcp to media
gateways, and SIP out to proxies and eventually to other softswitches.
The call services themselves aren't in MGCP. MGCP isn't about calls, its
about managing media connections. 

> 
> Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
> communictions mechanism for call setup/tear down, does it make sense
> to rethink its mission in life with respect to enhanced services, or is that
> capability
> already inherent in SIP ?

As I have mentioned above, numerous "enhanced services" are possible in
SIP. The presence of an ISUP payload does not change the ability of a
proxy to deliver these services. 


 To say that any "SIP implementer" can add this
> functionality
> is not at all helpful because without general agreement of features it
> becomes
> impossible to promote vendor-specific extensions as any "standard" at all.
> I am aware of the SIP call control extensions exist for blind transfer an
> other such features.

You seem to be implying that each service requires some kind of
extension ontop of SIP to work. That is just plain false. Services are
defined by the logic sitting on top of a SIP UA or proxy. The features
this logic invokes do not need anything beyond normal SIP services in
order to work. A simple example is call forward to voicemail on
no-answer. Lets say this service is being provided by a proxy. When it
receives a call, it looks up in its database the name of the called
party. Seeing that this customer subscribes to this service, the call is
forwarded to their currently registered address. Based on normal SIP
processing, the phone rings. After some time, the proxy decides that the
call is not answered. It sends a CANCEL, and per normal SIP rules, the
phone stops ringing. Then, the proxy forwards the INVITE to a specific
voicemail server, which answers and records a message. This service
didn't require any kind of special extension in the clients; its based
solely on logic that guides proxy operations.

> 
> I am also aware that the basic problem in putting SIP and MGCP together
> relates to the fact that SIP is oriented to managing call sessions
> whereas MGCP is oriented towards managing switching matrixes.
> An Enhanced Service Platform needs to operate on both planes.

Why? Having no definition of "Enhanced Service Platform", its hard to
know what you mean. However, if you want call services, these reside on
SIP, since SIP handles call establishment. 


> Basic features required for Enhanced Services Platform (ESP) intergration
> with a softswitch include the following list below. This is an e-mail
> message for general consideration written off the top of my head in 15
> minutes and not an exhaustive treatment of the subject; so I would ask that
> commentary of the items below focus on the general control issues as can
> best be interpreted from the muddled presentation. The terms "call",
> "connection" and "call leg" mean different things to different technology
> domains. Keep in mind below that the ESP may incorporate the "announcement
> server" in some cases, thus connections that require play/record of prompts
> will potentially terminate on ESP.
> 
> 1- Originate/Answer/Disconnect voice connections between any two network
> addresses. Connections managed under control of Softswitch and potentially
> even terminating on ESP for IVR purposes; all connections routed through a
> MG under Softswitch control.
> 
> 2- Monitor Q.931 (or equivelent) call state information for specified call
> session under
> control of Softswitch
> 
> 3- Collect DTMF digits on specified connection
> 
> 4- Generate DTMF digits on a specified connnection (for pager dialing
> interface, for example)
> 
> 5- Create/Add/Remove full or half-duplex call leg to call under control of
> Softswitch, potentially terminating on ESP (all connections routed MG under
> Softswitch control)
> 
> 6- Transfer one call/connection to another
> 
> 7- Originate/Answer/Disconnect connection under control of softswith with
> media type of T.38 fax such fax image may be transmitted and received using
> DSP fax algorithms residing in certain MGs under control of Softswitch.
>
 > Any commentary of accomplishing this level of interface using SIP
would be
> greatly appreciated. If nothing else, I offer to those thinking about SIP
> some relevent context for the application of their work. It would seem that
> interfacing
> with ESP would be an important consideration for and future revisions of
> SIP, and
> thus this inquiry may stimulate some discussion of the topic.

You seem to have confused a lot of things together with this list. For
example, transferring a media connection (i.e., a MG first sends media
to A, then to B) is a clear MGCP function, but transferring a call is a
clear SIP function. To perform an actual call transfer using a
softswitch, you will need SIP to signaling the call transfer. The
softswitch then uses MGC to execute the connection transfer after the
new SIP call leg is set up.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:08:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA23180
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:08:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 099BD52D5; Wed, 17 Nov 1999 17:51:05 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 310E852F4; Wed, 17 Nov 1999 17:51:02 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3BF0052F8
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:49:16 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 10:18:09 EST 1999
Received: from kevlar.softarmor.com ([63.64.250.82]) by dusty; Wed Nov 17 10:16:59 EST 1999
Received: from dwillispc4 ([166.37.187.199])
	by kevlar.softarmor.com (8.9.3/8.9.3) with SMTP id VAA17777;
	Wed, 17 Nov 1999 21:13:59 -0600
From: "Dean Willis" <dean.willis@wcom.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Tom-PT Taylor" <taylor@nortelnetworks.com>,
        <sip@lists.research.bell-labs.com>
Subject: RE: User signaling -- was  DTMF signaling between media gateways -ouch!
Date: Wed, 17 Nov 1999 09:17:45 -0600
Message-ID: <001401bf310e$e6a8f980$54fa403f@directlink.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
In-reply-to: <3832B035.F7EF30FF@dynamicsoft.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Jonathan wrote:
> Dean Willis wrote:
> > See my previously posted example of an IVR which participates as a SIP
> > signaling system but has all of its media paths terminated on
> set of media
> > servers somewhere else.
> >
> > Yeah, I suppose we could have the detected tones schlepped back from the
> > media server to the IVR over yet-another-potocol, but that doesn't seem
> > particularly efficient.
>
> My point in previous posts is that in a real system, this is
> unavoidable. You
> will need input from the media server back to the controller to indicate
> (1)
> status of playbacks of announcements, (2) speech recognition, (3) dtmf
> not
> sent using a dtmf codec (i.e., g.711), (4) error conditions. I'm sure
> there are other pieces of data as well.

I believe that the start, stop, and status controls of a media server can be
provided via RTSP. It doesn't even have to understand SIP -- just has to be
able to generate an RTP stream.

> I really want to emphasize that SIP is *not* meant to be a stimulus
> signaling protocol. If that were the case, we could have ditched every
> single request method, and just had an INFO method that sends digits to
> the proxy. This would be nothing more than a poor version of megaco. It,
> of course, would also mean clients can't call each other directly.
> Simply put, stimulus signaling *does not work* for direct client to
> client calling. Our aim with SIP is not to replicate the phone network
> all over again, but to do things in way that match the end-to-end
> architecture of the Internet.

Any input that doesn't have a semantic meaning in SIP is just a
"stimulus" -- something to be passed along the nervous system in hopes that
a ganglia can process it. That would seem to include mid-call telephony
events. It's a distributed model very different from the Megaco centralized
control model. I think of the SIP proxy chain as a sort of bus that
reconfigures between and during calls as needed.

And why would arbitrary client-to-client messages "not work for direct
client to client calling"? It simply requires that the two clients share a
semantic understanding of the messages. The "requires, desires, supports"
behviors give us semantics needed to determine a shared understanding . . .

I could, for example, see an application wherein each end point periodically
snaps a jpeg image of the speaker, mimes it, and ships it via INFO to the
other end for display as a "speaker icon". The proxies in between don't
care, they just ship the message along. Yeah, you could do it in RTP. You
could do it a lot of ways -- but INFO is easy for asynchronous stuff.

--
Dean

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:11:21 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA24503
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:11:17 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D375A5300; Wed, 17 Nov 1999 17:57:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A0A0D5305; Wed, 17 Nov 1999 17:57:47 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8A2425300
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:57:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 17 03:20:23 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Wed Nov 17 03:19:12 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id KAA11541;
	Wed, 17 Nov 1999 10:20:10 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.72.252])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id KAA29475;
	Wed, 17 Nov 1999 10:19:34 +0200 (EET)
Message-ID: <38326507.CA6B6019@lmf.ericsson.se>
Date: Wed, 17 Nov 1999 10:19:19 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: ak@hplb.hpl.hp.com
Cc: sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <3831AEBC.D9CF8A7E@hplb.hpl.hp.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



ak@hplb.hpl.hp.com wrote:
> 
> Gonzalo Camarillo wrote:
> >
> > Hi,
> >
> > In the last SIP meeting in DC there was a discussion about forking or
> > not forking in the SIP-BCP-T...
> >
> > I would like to write down some ideas about this, but not just related
> > to SIP-BCP-T...
> >
> > When we have a SIP UA in our computer is not a problem to reach a user
> > in several places at the same time (forking the INVITE), but when we
> > have the "old black phone" we run into troubles. This is the case of
> > PSTN phones, but also if we build a SIP phone that looks like a
> > traditional phone, and I believe lots of people want this kind of
> > device.
> >
> > We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> > forks it and sends it to several locations (parallel search) where B can
> > be reached. We receive one 183 reponse and we begin hearing a ringback
> > tone or an announce... in the meantime, we receive a 200 from another
> > location... what should we do??
> >
> > Because it is not a good idea to CANCEL the rest of the branches when I
> > receive a 183...
> 
> Why? Seems perfectly fine to me. This is a feature rather than a bug --
> you'd typically want all phones at which you're potentially reachable to
> ring. How second and subsequent 200 OK's are handled is up to the
> calling UA and/or the forking proxy.  I don't see why "old black phones"
> are any different from SIP softphones in this respect, and I think it
> would be a mistake to disallow forking whenever black phones are
> involved. Neither calling UA or proxies should need to know there's a
> PSTN (-like) phone at the other end.

The problem is not when we callee (B-party) is a "black phone". The
problem I see is when the caller (A-party) is one PSTN-like phone.

We do not have a display or something like that to trace the status of
all the locations where our INVITE arrived.

So, A is calling B, and B can be reachable at B1, B2 and B3.

B1 sends back a 183, and A hears from the speaker some kind of announce.
In the meantime, B picks up B2, and A receives a 200. Now A's speaker
suddently stops playing the message from B1, tears down the connection
with B1 and connects to B2... then we will CANCEL the other branches, so
as soon as we receive the first 200 there is no problen with receiving
subsequent 200 responses.

I believe this is not acceptable.

What do you suggest if we receive two 183 responses from different
locations? Which one shall the caller hear?

Maybe one is an announce and the other is a ringback tone... maybe both
are ring back tones...maybe both are announces...

Gonzalo


> >
> > Maybe we could specify that we do not want parallel search in our caller
> > preferences... in this case, as Scott suggested, the caller preferences
> > would have to have priority over any logic (CPL) intalled in the server.
> 
> That assumes the caller knows he's calling a black phone, right?
> Otherwise he'd have to always specify no-forking in the caller prefs.
> 
> >
> > Maybe it is worthwhile saying something about this in the 183 draft.
> > Maybe instead of saying "no fork" it is better to say "no parallel
> > search" in SIP-BCP-T...
> >
> > Any ideas?
> >
> > Gonzalo
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> 
> --
> Anders Kristensen <ak@hplb.hpl.hp.com>,
> http://www-uk.hpl.hp.com/people/ak/
> Hewlett-Packard Labs, Bristol, UK

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:14:02 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA25814
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:13:58 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 03C185308; Wed, 17 Nov 1999 17:59:51 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 46842530A; Wed, 17 Nov 1999 17:59:49 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DAF3F5308
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 17:59:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 08:37:13 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 17 08:36:01 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpso25934;
	Wed, 17 Nov 1999 13:41:44 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id IAA11072;
	Wed, 17 Nov 1999 08:37:05 -0500 (EST)
Message-ID: <3832B035.F7EF30FF@dynamicsoft.com>
Date: Wed, 17 Nov 1999 08:40:05 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Dean Willis <dean.willis@wcom.com>
Cc: Tom-PT Taylor <taylor@nortelnetworks.com>,
        sip@lists.research.bell-labs.com
Subject: Re: User signaling -- was  DTMF signaling between media gateways - ouch!
References: <003901bf3068$cd921c20$c5f7143f@dwillispc4>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Dean Willis wrote:
> 
> Jonathan Rosenburg wrote:
> > What services could proxies provide in the SIP model by receiving DTMF?
> > Nearly every application of DTMF I have heard brought up required the
> > entity receiving the DTMF to be a UA, in which case it could get the RTP
> > stream instead.
> 
> See my previously posted example of an IVR which participates as a SIP
> signaling system but has all of its media paths terminated on set of media
> servers somewhere else.
> 
> Yeah, I suppose we could have the detected tones schlepped back from the
> media server to the IVR over yet-another-potocol, but that doesn't seem
> particularly efficient.

My point in previous posts is that in a real system, this is
unavoidable. You
will need input from the media server back to the controller to indicate
(1)
status of playbacks of announcements, (2) speech recognition, (3) dtmf
not
sent using a dtmf codec (i.e., g.711), (4) error conditions. I'm sure
there are other pieces of data as well.

> If that isn't enough, let me propose another application.
> 
> User A completes all calls through proxy P.
> 
> P provides additional services, along the lines of a "personal assistant".
> One of these services is a "voice recorder" ala President Nixon.
> 
> A uses an analog phone connected to a generic UA gateway.
> A calls party B, leaving P in the proxy path.
> A decides B is saying something interesting and wants B recorded.
> A presses the "R" key.
> P uses call control to add a voice recorder and recording announcement tone
> generator and conference bridge to the call.
> P never saw a single byte of media.

As has been pointed out, this kind of thing takes us down a long nasty
road
of stimulus signaling based feature interaction problems. 

This service is readily provided functionally by having the gateway
figure out (somehow; there are many ways to do this without overloading
the gateway) what pressing "R" means, and then signal the call control
you describe above. In a decomposed gateway, the MGC would receive the
"R" and then figure out what to do. 

I really want to emphasize that SIP is *not* meant to be a stimulus
signaling protocol. If that were the case, we could have ditched every
single request method, and just had an INFO method that sends digits to
the proxy. This would be nothing more than a poor version of megaco. It,
of course, would also mean clients can't call each other directly.
Simply put, stimulus signaling *does not work* for direct client to
client calling. Our aim with SIP is not to replicate the phone network
all over again, but to do things in way that match the end-to-end
architecture of the Internet. 

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:16:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA27000
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:16:25 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A321A52E1; Wed, 17 Nov 1999 18:01:39 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EC71B52D6; Wed, 17 Nov 1999 18:01:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6157452FE
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:01:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 17 03:26:24 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Wed Nov 17 03:25:13 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id KAA12565;
	Wed, 17 Nov 1999 10:26:53 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.72.252])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id KAA00157;
	Wed, 17 Nov 1999 10:26:18 +0200 (EET)
Message-ID: <3832669B.F5D289CC@lmf.ericsson.se>
Date: Wed, 17 Nov 1999 10:26:03 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Adam.Roach@ericsson.com
Cc: bartw@nortelnetworks.com, Gonzalo.Camarillo@ericsson.com,
        sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <199911162306.RAA15238@b04a24.exu.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

It is nicer to send complete URIs in the "to" header. If the i-gateway 
sends the INVITE before receiveing all the digits, the "to" header is
not complete. It would contain just a few digits of the whole telephone
number (this assumes that with just some digits the i-gateway figures
out where to send the INVITE).

Gonzalo

Adam.Roach@ericsson.com wrote:
> 
> >The use of a timer to force enbloc signaling is not acceptable. In the case
> >of SIP bridging, subscribers originating calls from the PSTN will not accept
> >an artificial post-dial delay (even if it is just a few seconds long).
> >Overlap signaling must be supported. It is essential that the overlap
> >process takes place within the context of a single session - using the
> >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
> >calls being delivered to the terminating agent, which would not be
> >acceptable.
> >
> >Why not send an INVITE message when the ISUP IAM is received and then send
> >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> >agents will expect the INVITE to contain the complete address of the called
> >party. This could be handled by including support for overlap in the
> >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> >the terminator did not support the PSTN extensions, the originator could
> >then switch to enbloc and wait for the full address to be collected.
> 
> There are a variety of problems here. The first is determining how
> intervening proxies will react. If, for example, a proxy is making
> decisions about where to forward messages based on a called party URI,
> your suggestion would require it to understand ISUP (for interpretation
> of SAM message). It also requires it to have number analysis code and
> dialing plan information (potentially for the entire globe).
> 
> The problem gets even stranger for redirect servers, which expect to
> be able to send an immediate response to an INVITE -- not sit around
> collecting digits.
> 
> Basically, your suggestion forces overlapped dialing deep into each
> and every SIP node in the network that is expected to receive calls
> originating from the PSTN network.
> 
> I agree that this is a problem that needs to be solved if we intend
> to use SIP between two PSTN phones; but we need to find a better
> solution than tunelling SAMs all over the place.
> 
> We shouldn't overlook human factors: it could be that customers are
> willing to, for example, be trained to press "#" at the end of a
> phone number to skip the post-dial-delay.
> 
> --
> Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:18:22 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA27790
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:18:19 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5144152D6; Wed, 17 Nov 1999 18:05:31 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AE9AF52FC; Wed, 17 Nov 1999 18:05:30 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5B82752D6
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:05:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 17 08:44:44 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 17 08:43:34 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpsp11728;
	Wed, 17 Nov 1999 13:49:20 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id IAA11083;
	Wed, 17 Nov 1999 08:44:41 -0500 (EST)
Message-ID: <3832B1FD.90620A50@dynamicsoft.com>
Date: Wed, 17 Nov 1999 08:47:41 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip <sip@lists.research.bell-labs.com>
Subject: Re: 183, BCP & forking
References: <38316F87.C7EDFA31@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gonzalo Camarillo wrote:
> 
> Hi,
> 
> In the last SIP meeting in DC there was a discussion about forking or
> not forking in the SIP-BCP-T...
>  
> When we have a SIP UA in our computer is not a problem to reach a user
> in several places at the same time (forking the INVITE), but when we
> have the "old black phone" we run into troubles. This is the case of
> PSTN phones, but also if we build a SIP phone that looks like a
> traditional phone, and I believe lots of people want this kind of
> device.
> 
> We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> forks it and sends it to several locations (parallel search) where B can
> be reached. We receive one 183 reponse and we begin hearing a ringback
> tone or an announce... in the meantime, we receive a 200 from another
> location... what should we do??

Two choices:

1. If your aim is for the phone to speak with the first person that is
reached,
accept the 200 OK with an ACK, and stop playing out any ringback
received as a result
of the 183. As a 200 OK has been received, a CANCEL would have been
generated by the
proxies that will effectively stop the announcement on the remote side.

2. Send a BYE to the 200 OK (automatically, without user intervention),
and hope that the party that sent the 183 will answer the phone.

> Maybe we could specify that we do not want parallel search in our caller
> preferences... in this case, as Scott suggested, the caller preferences
> would have to have priority over any logic (CPL) intalled in the server.

Doing this is probably the best bet.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:22:18 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA29403
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:22:17 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B070452F7; Wed, 17 Nov 1999 18:18:03 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C928252B6; Wed, 17 Nov 1999 18:18:02 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4B8E05319
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:17:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 17:47:10 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Tue Nov 16 17:45:59 EST 1999
Received: from mr3.exu.ericsson.se (mr3u.ericy.com [208.238.116.100])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id QAA17256;
	Tue, 16 Nov 1999 16:47:08 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id QAA00671;
	Tue, 16 Nov 1999 16:47:07 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA07661; Tue, 16 Nov 1999 16:47:05 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id QAA15152;
	Tue, 16 Nov 1999 16:47:04 -0600 (CST)
Message-Id: <199911162247.QAA15152@b04a24.exu.ericsson.se>
Subject: Re: Some initial queries/comments on draft-ietf-sip-183-00.txt
To: oran@cisco.com (David R. Oran)
Date: Tue, 16 Nov 1999 16:47:04 -0600 (CST)
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <NDBBKHCGKKIOOIJEGCOEEEDFCKAA.oran@cisco.com> from "David R. Oran" at Oct 25, 99 02:05:29 pm
From: "Adam B. Roach" <Adam.Roach@Ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Sorry I've not been responding recently. I've been somewhat out-of-pocket
for the past six weeks. I wish I could have been at the DC meeting...

>1) you don't make clear which pieces of this are intended to be specific to
>the 183 response message and what pieces are intended to be generic. For
>example, it would seem that the "Session: media/qos/security" header is much
>more generic. In the abstract and introduction, it might be best to say
>you're making TWO extensions to SIP, the Session header, and the 183
>response.

This is a very good point; the title of the draft should probably
reflect this as well.

>4) I know this may be a can of worms, but if we ever want to allow multiple
>SDP bodies in SIP messages it would behoove us to ensure that headers that
>refer to body part treatment can explicitly say WHICH body instance they
>refer to.

We had breifly debated making this header a content header. The obvious
advantage is that it fixes the problem you point out. Unfortunately,
it also ties protocol behavior to headers that are arguably part of the
body -- and I beleive there is a strong consensus that the body shouldn't
have an effect on the protocol (which is the primarly flaw in my original
draft).

Can you think of a palatable syntax that gets around both problems?

>5) the MUSTs in section 4.2/4.3 seem a bit strong. Nothing breaks if the
>sender is slow or sloppy at stopping; the user might get some mixed audio or
>be annoyed though. While I can't off the top of my head think of any
>positive use for the continued transmission (maybe the "call is being
>monitored" beep tone...") I'd like to hear why such strong prohibition is
>called for.

The concept when I originally put that together is that some (most?)
simple end-devices will have no means of mixing multiple RTP audio
streams.

>There is also the philosophical question of what actually
>constitutes "temporary" media, especially in the case where the SDP
>describing the "permanent" media is identical to the SDP describing the
>"temporary" media.

This occured to me too late to make it into the revised draft.
Perhaps the media should be continued if the SDP matches?
(Otherwise you get a brief gap between the 200 and the ACK).

>6) Section 4.4, second paragraph. While I see that 183 may not be
>appropriate for ringing, forwarding, or queued (since we have other
>responses for these), the used of Session: media may be perfectly
>appropriate. Is this just another instance of not becing clear about the
>relative independence of the Session: header and the 183 response?

Yes; the two concepts are supposed to be perfectly orthagonal.

-- 
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:24:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA00737
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:24:53 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5A97552DB; Wed, 17 Nov 1999 18:20:07 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DBC6152DC; Wed, 17 Nov 1999 18:20:04 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7A8A352DB
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:19:15 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 18:06:35 EST 1999
Received: from ericsson.com ([198.215.127.2]) by dusty; Tue Nov 16 18:05:24 EST 1999
Received: from mr4.exu.ericsson.se (mr4a.ericsson.com [198.215.127.160])
	by ericsson.com (8.9.3/8.9.3) with ESMTP id RAA16492;
	Tue, 16 Nov 1999 17:06:32 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr4.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id RAA26827;
	Tue, 16 Nov 1999 17:06:31 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id RAA08722; Tue, 16 Nov 1999 17:06:30 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id RAA15238;
	Tue, 16 Nov 1999 17:06:29 -0600 (CST)
Message-Id: <199911162306.RAA15238@b04a24.exu.ericsson.se>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
To: bartw@nortelnetworks.com (Bart Wensley)
Date: Tue, 16 Nov 1999 17:06:28 -0600 (CST)
Cc: Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
In-Reply-To: <61ABD11436FED21192440000F81F3E36014C5DB1@nwcwi1a.europe.nortel.com> from "Bart Wensley" at Oct 27, 99 02:56:05 pm
From: "Adam B. Roach" <Adam.Roach@ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>The use of a timer to force enbloc signaling is not acceptable. In the case
>of SIP bridging, subscribers originating calls from the PSTN will not accept
>an artificial post-dial delay (even if it is just a few seconds long).
>Overlap signaling must be supported. It is essential that the overlap
>process takes place within the context of a single session - using the
>suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
>calls being delivered to the terminating agent, which would not be
>acceptable.
>
>Why not send an INVITE message when the ISUP IAM is received and then send
>subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
>agents will expect the INVITE to contain the complete address of the called
>party. This could be handled by including support for overlap in the
>"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
>the terminator did not support the PSTN extensions, the originator could
>then switch to enbloc and wait for the full address to be collected.

There are a variety of problems here. The first is determining how
intervening proxies will react. If, for example, a proxy is making
decisions about where to forward messages based on a called party URI, 
your suggestion would require it to understand ISUP (for interpretation 
of SAM message). It also requires it to have number analysis code and 
dialing plan information (potentially for the entire globe).

The problem gets even stranger for redirect servers, which expect to
be able to send an immediate response to an INVITE -- not sit around
collecting digits.

Basically, your suggestion forces overlapped dialing deep into each 
and every SIP node in the network that is expected to receive calls 
originating from the PSTN network.

I agree that this is a problem that needs to be solved if we intend
to use SIP between two PSTN phones; but we need to find a better
solution than tunelling SAMs all over the place.

We shouldn't overlook human factors: it could be that customers are
willing to, for example, be trained to press "#" at the end of a
phone number to skip the post-dial-delay.

--
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:28:07 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02319
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:28:07 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8C69A52B6; Wed, 17 Nov 1999 18:20:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9899752E2; Wed, 17 Nov 1999 18:20:08 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0F0A252AB
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:19:12 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 17 08:58:50 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 17 08:57:39 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpsq11478;
	Wed, 17 Nov 1999 14:03:10 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id IAA11087;
	Wed, 17 Nov 1999 08:58:31 -0500 (EST)
Message-ID: <3832B53A.670BA3E7@dynamicsoft.com>
Date: Wed, 17 Nov 1999 09:01:30 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <000c01bf3039$b235c280$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> >Yes, I've heard this many times. The issue of not being able to upgrade
> >UA's is obviously critical for the PSTN, but I'm not sure this is so
> >much an issue anymore for IP. Many pieces of software these days
> >automatically upgrade themselves, with nothing more than an "OK" from
> >the user. Furthermore, one can envision future UA's having JVMs that
> >simply fetch the latest version when I call up my "provider" to enable a
> >new service. Note that my network provider doesn't have to be my service
> >provider at all for this to work.
> >
> >The issue seems to be fairly religious; there are those on one side
> >(like myself) who believes that IP is a true enabler of functional
> >signaling, and those on the other side (like yourself) who draw
> >parallels with systems like ISDN (which do support both) and see the
> >issue here as the same.
> 
> There was also a time when it was said that there was no need to standardise
> call control software as you would just down load the appropriate version.
> That hasn't happened, and I'm not surprised.  I agree that ISDN devices are
> less easily upgradeable (by design rather than technology limitations), but
> I don't think the difference is sufficient to ignore simulus based
> signalling.  HTTP/HTML based control may play a big part in the future, but
> I think with small mobile devices, and other similar toys, simulus based
> signalling will still play a part.  There will also be the case of calls
> originating off-IP, but terminating in IP space and these will still need
> some form of control.

For off IP devices, it is already the job of the gateway to determine
what is meant by the
DTMF it receives from a normal phone. In current gateway operations,
when I dial "5551212" on my phone, the gateway knows that I am really
saying "call the terminal named 555-1212", and thus converts this to a
functional equivalent (INVITE tel:5551212 SIP/2.0). The same concept can
be used to handle other services that are stimulus signaled. 

> 
> Also, a lot of people are worried about downloading software from here,
> there and everywhere, and I think many of them, given the choice, would
> prefer not to do it, - especially if it was just to contact the tax office
> call centre etc!

But there is no need for downloading software to contact a tax center. I
have been arguing that for IVR systems (which is what you are talking
about), DTMF "signaling" of what you want is just dandy, but that this
"signaling", which can also be based on voice recognition, resides in
the RTP stream possibly using the DTMF codec. Thus, you can call any IVR
system without having to download software for each one.


> 
> So, in the short term at least, I think we need simulus signalling.  If
> that's not possible then the whole thing is going to look rather silly.

I'm not arguing that a user can't use a normal phone with SIP, and press
buttons. What I am arguing is that for the vast majority of what people
use DTMF for, IVR and voicemail systems, we carry these using the RTP
stream. For SIP services, the DTMF needs to be converted to its
functional equivalent at the UA, be it gateway or phone.


> Atomic things like transfer can probably easily get away with being
> functionally signalled.  However, I think transfers will occur as a result
> of DTMF signalling, even if only indirectly, such as in a call center.  I
> really don't want to down load a patch (that may be phone specific) for each
> call center I contact.

See my above point; I'm not arguing for this.


> >But if the proxies are not looking at the DTMF, it doesn't need to be in
> >the INFO method at all. As you suggest, if INFO carries DTMF and timing
> >information and goes direct, then its basically RTP with a very massive
> >header.
> 
> But DTMF is a signalling protocol, albeit crude, and ought to be aligned
> with other signalling information, such as transfer, end call etc.

Well, if DTMF is such a crude signaling protocol, I'd rather have the UA
point
convert it to a non-crude functional equivalent, as we already do right
now for
things like INVITE.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:30:52 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA03662
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:30:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5F14952AB; Wed, 17 Nov 1999 18:23:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C212452DC; Wed, 17 Nov 1999 18:23:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0B75D52AB
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 14:29:06 EST 1999
Received: from kevlar.softarmor.com ([63.64.250.82]) by dusty; Tue Nov 16 14:27:56 EST 1999
Received: from dwillispc4 (1Cust245.tnt3.tco2.da.uu.net [63.20.247.245])
	by kevlar.softarmor.com (8.9.3/8.9.3) with SMTP id BAA16249;
	Wed, 17 Nov 1999 01:25:00 -0600
From: "Dean Willis" <dean.willis@wcom.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Tom-PT Taylor" <taylor@nortelnetworks.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: User signaling -- was  DTMF signaling between media gateways - ouch!
Date: Tue, 16 Nov 1999 13:28:47 -0600
Message-ID: <003901bf3068$cd921c20$c5f7143f@dwillispc4>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
In-Reply-To: <382E40BF.5BE153F8@dynamicsoft.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenburg wrote:
> What services could proxies provide in the SIP model by receiving DTMF?
> Nearly every application of DTMF I have heard brought up required the
> entity receiving the DTMF to be a UA, in which case it could get the RTP
> stream instead.

See my previously posted example of an IVR which participates as a SIP
signaling system but has all of its media paths terminated on set of media
servers somewhere else.

Yeah, I suppose we could have the detected tones schlepped back from the
media server to the IVR over yet-another-potocol, but that doesn't seem
particularly efficient.

Consider also that the end goal is NOT to ship DTMF, but to ship user input
notifications. Today, a user input notification is DTMF because that's what
the phones have, but it isn't going to stay that way.

If that isn't enough, let me propose another application.


User A completes all calls through proxy P.

P provides additional services, along the lines of a "personal assistant".
One of these services is a "voice recorder" ala President Nixon.

A uses an analog phone connected to a generic UA gateway.
A calls party B, leaving P in the proxy path.
A decides B is saying something interesting and wants B recorded.
A presses the "R" key.
P uses call control to add a voice recorder and recording announcement tone
generator and conference bridge to the call.
P never saw a single byte of media.

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:39:52 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA06607
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:39:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 87C5852C4; Wed, 17 Nov 1999 18:25:51 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A313452E2; Wed, 17 Nov 1999 18:25:50 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2F8E852C4
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:25:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 16 14:20:15 EST 1999
Received: from atlrel2.hp.com ([156.153.255.202]) by dusty; Tue Nov 16 14:19:04 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by atlrel2.hp.com (8.8.6 (PHNE_17135)/8.8.5tis) with ESMTP id OAA26129
	for <sip@lists.research.bell-labs.com>; Tue, 16 Nov 1999 14:19:14 -0500 (EST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id TAA17292;
	Tue, 16 Nov 1999 19:20:05 GMT
Message-ID: <3831AEBC.D9CF8A7E@hplb.hpl.hp.com>
Date: Tue, 16 Nov 1999 19:21:32 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip <sip@lists.research.bell-labs.com>
Subject: Re: 183, BCP & forking
References: <38316F87.C7EDFA31@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Gonzalo Camarillo wrote:
> 
> Hi,
> 
> In the last SIP meeting in DC there was a discussion about forking or
> not forking in the SIP-BCP-T...
> 
> I would like to write down some ideas about this, but not just related
> to SIP-BCP-T...
> 
> When we have a SIP UA in our computer is not a problem to reach a user
> in several places at the same time (forking the INVITE), but when we
> have the "old black phone" we run into troubles. This is the case of
> PSTN phones, but also if we build a SIP phone that looks like a
> traditional phone, and I believe lots of people want this kind of
> device.
> 
> We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> forks it and sends it to several locations (parallel search) where B can
> be reached. We receive one 183 reponse and we begin hearing a ringback
> tone or an announce... in the meantime, we receive a 200 from another
> location... what should we do??
> 
> Because it is not a good idea to CANCEL the rest of the branches when I
> receive a 183...

Why? Seems perfectly fine to me. This is a feature rather than a bug --
you'd typically want all phones at which you're potentially reachable to
ring. How second and subsequent 200 OK's are handled is up to the
calling UA and/or the forking proxy.  I don't see why "old black phones"
are any different from SIP softphones in this respect, and I think it
would be a mistake to disallow forking whenever black phones are
involved. Neither calling UA or proxies should need to know there's a
PSTN (-like) phone at the other end.

> 
> Maybe we could specify that we do not want parallel search in our caller
> preferences... in this case, as Scott suggested, the caller preferences
> would have to have priority over any logic (CPL) intalled in the server.

That assumes the caller knows he's calling a black phone, right?
Otherwise he'd have to always specify no-forking in the caller prefs.

> 
> Maybe it is worthwhile saying something about this in the 183 draft.
> Maybe instead of saying "no fork" it is better to say "no parallel
> search" in SIP-BCP-T...
> 
> Any ideas?
> 
> Gonzalo
> --
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 18:44:34 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA08095
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 18:44:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3963452E2; Wed, 17 Nov 1999 18:31:43 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5D93C52E3; Wed, 17 Nov 1999 18:31:42 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9C79352E2
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:31:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 16:23:48 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Tue Nov 16 16:22:37 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprch1.nortel.com; Tue, 16 Nov 1999 15:23:31 -0600
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA2Z3AN>; Tue, 16 Nov 1999 15:23:25 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD11022E9EE2@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: Dean Willis <dean.willis@wcom.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip <sip@lists.research.bell-labs.com>
Subject: RE: User signaling -- was DTMF signaling between media gateways - ouch!
Date: Tue, 16 Nov 1999 15:23:16 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF3078.D0346D2E"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF3078.D0346D2E
Content-Type: text/plain

Comments below.

> -----Original Message-----
> From:	Dean Willis [SMTP:dean.willis@wcom.com]
> Sent:	Tuesday, November 16, 1999 2:29 PM
> To:	Jonathan Rosenberg; Taylor, Tom-PT [CAR:B904-I:EXCH]
> Cc:	sip
> Subject:	User signaling -- was DTMF signaling between media gateways
> - ouch!
> 
> Jonathan Rosenburg wrote:
> > What services could proxies provide in the SIP model by receiving DTMF?
> > Nearly every application of DTMF I have heard brought up required the
> > entity receiving the DTMF to be a UA, in which case it could get the RTP
> > stream instead.
> 
> See my previously posted example of an IVR which participates as a SIP
> signaling system but has all of its media paths terminated on set of media
> servers somewhere else.
> 
> Yeah, I suppose we could have the detected tones schlepped back from the
> media server to the IVR over yet-another-potocol, but that doesn't seem
> particularly efficient.
	[[TomT]]  
	It has to happen at one end or the other.  There are several
possibilities, all assuming that the user input is captured and encoded at
the originating gateway:
	(1) Originating gateway is a single unit, not decomposed.  SIP INFO
method seems to be the best choice, so that the IVR doesn't have to
implement RTP as well as SIP.  I must have assumed decomposed gateways when
I sent my message the other day.
	(2) Originating gateway is decomposed.  User input is sent up to the
MGC via Megaco and sent on as a SIP INFO message.
	(3) Originating gateway is decomposed.  User input is encoded as a
separate RTP stream and sent to a IVR media box.  From here it is sent up to
the IVR controller via Megaco.  This only makes sense if the media box
expects to receive other media streams.
	(4) Originating gateway is decomposed.  User input is encoded as a
separate RTP stream and sent to the IVR directly from the MG.  Thus the IVR
controller has to understand RTP as well as SIP.  The originating MGC has to
tell its MG where to send the digits.  What we get in recompense is more
direct routing of the information and reduced processing demands on the
originating MGC.

	Seems to me that the choice between 2, 3, 4 isn't obvious.

> Consider also that the end goal is NOT to ship DTMF, but to ship user
> input
> notifications. Today, a user input notification is DTMF because that's
> what
> the phones have, but it isn't going to stay that way.
> 
> If that isn't enough, let me propose another application.
> 
> 
> User A completes all calls through proxy P.
> 
> P provides additional services, along the lines of a "personal assistant".
> One of these services is a "voice recorder" ala President Nixon.
> 
> A uses an analog phone connected to a generic UA gateway.
> A calls party B, leaving P in the proxy path.
> A decides B is saying something interesting and wants B recorded.
> A presses the "R" key.
> P uses call control to add a voice recorder and recording announcement
> tone
> generator and conference bridge to the call.
> P never saw a single byte of media.
	[[TomT]]  
	Since P is a proxy, how does it know that it should consume the "R"
and not pass it on?  Seems to me your generic UA gateway has to understand
that input.

> --
> Dean
> 

------_=_NextPart_001_01BF3078.D0346D2E
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: User signaling -- was DTMF signaling between media gateways =
- ouch!</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Comments =
below.</FONT>
</P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Dean Willis [SMTP:dean.willis@wcom.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Tuesday, November 16, 1999 2:29 PM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Jonathan Rosenberg; Taylor, Tom-PT =
[CAR:B904-I:EXCH]</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Cc:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">sip</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">User signaling -- was DTMF signaling =
between media gateways - ouch!</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Jonathan Rosenburg wrote:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; What services could proxies =
provide in the SIP model by receiving DTMF?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Nearly every application of DTMF =
I have heard brought up required the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; entity receiving the DTMF to be =
a UA, in which case it could get the RTP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; stream instead.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">See my previously posted example of an =
IVR which participates as a SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">signaling system but has all of its =
media paths terminated on set of media</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">servers somewhere else.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Yeah, I suppose we could have the =
detected tones schlepped back from the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">media server to the IVR over =
yet-another-potocol, but that doesn't seem</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">particularly efficient.</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">[[TomT]]</FONT></I></B><I></I>&nbsp;<FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"> </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">It has to happen at =
one end or the other.&nbsp; There are several possibilities, all =
assuming that the user input is captured and encoded at the originating =
gateway:</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(1) Originating =
gateway is a single unit, not decomposed.&nbsp; SIP INFO method seems =
to be the best choice, so that the IVR doesn't have to implement RTP as =
well as SIP.&nbsp; I must have assumed decomposed gateways when I sent =
my message the other day.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(2) Originating =
gateway is decomposed.&nbsp; User input is sent up to the MGC via =
Megaco and sent on as a SIP INFO message.</FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(3) Originating =
gateway is decomposed.&nbsp; User input is encoded as a separate RTP =
stream and sent to a IVR media box.&nbsp; From here it is sent up to =
the IVR controller via Megaco.&nbsp; This only makes sense if the media =
box expects to receive other media streams.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">(4) Originating =
gateway is decomposed.&nbsp; User input is encoded as a separate RTP =
stream and sent to the IVR directly from the MG.&nbsp; Thus the IVR =
controller has to understand RTP as well as SIP.&nbsp; The originating =
MGC has to tell its MG where to send the digits.&nbsp; What we get in =
recompense is more direct routing of the information and reduced =
processing demands on the originating MGC.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Seems to me that the =
choice between 2, 3, 4 isn't obvious.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Consider also that the end goal is NOT =
to ship DTMF, but to ship user input</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">notifications. Today, a user input =
notification is DTMF because that's what</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the phones have, but it isn't going =
to stay that way.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">If that isn't enough, let me propose =
another application.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">User A completes all calls through =
proxy P.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">P provides additional services, along =
the lines of a &quot;personal assistant&quot;.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">One of these services is a =
&quot;voice recorder&quot; ala President Nixon.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">A uses an analog phone connected to a =
generic UA gateway.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">A calls party B, leaving P in the =
proxy path.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">A decides B is saying something =
interesting and wants B recorded.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">A presses the &quot;R&quot; =
key.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">P uses call control to add a voice =
recorder and recording announcement tone</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">generator and conference bridge to =
the call.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">P never saw a single byte of =
media.</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">[[TomT]]</FONT></I></B><I></I>&nbsp;<FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"> </FONT>
<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Since P is a proxy, =
how does it know that it should consume the &quot;R&quot; and not pass =
it on?&nbsp; Seems to me your generic UA gateway has to understand that =
input.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">--</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Dean</FONT>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF3078.D0346D2E--



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 19:13:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA18627
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 19:13:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D9F9252D5; Wed, 17 Nov 1999 19:11:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4D67452DB; Wed, 17 Nov 1999 19:11:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A818A52E6
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 18:27:13 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 16 14:03:11 EST 1999
Received: from mw.3com.com ([149.112.20.3]) by dusty; Tue Nov 16 14:02:00 EST 1999
Received: from mwgate02.mw.3com.com by mw.3com.com (8.8.5/3.1.090690-3Com Corporation)
	id NAA06192; Tue, 16 Nov 1999 13:02:29 -0600 (CST)
Received: by mwgate02.mw.3com.com(Lotus SMTP MTA v4.6.4  (830.2 3-23-1999))  id 8625682B.006987B9 ; Tue, 16 Nov 1999 13:12:40 -0600
X-Lotus-FromDomain: 3COM@3COM-MWGATE
From: "Rick Dean" <Rick_Dean@mw.3com.com>
To: Shail Bhatnagar <shbhatna@cisco.com>
Cc: sip@lists.research.bell-labs.com,
        "Jerry Mahler" <Jerry_Mahler@mw.3com.com>
Message-ID: <8625682B.00698729.00@mwgate02.mw.3com.com>
Date: Tue, 16 Nov 1999 13:10:06 -0600
Subject: Re: Implementation detail about tags.
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk




From: Shail Bhatnagar <shbhatna@cisco.com>
>>
>> When responding to an invite, I always include
>> a "to" tag even though I sometimes don't have to.
>> Thus, if I ever receive a invite with a "to" tag, yet have
>> no record of the call, I know the invite is
>> a re-invite, and either could be for someone else
>> or is ancient, thus I return "481 Call Leg
>> does not exist".
>
>Not sure what this achieves. When you say "yet have no record of
>the call", you have probably done some kind of lookup based on
>Call-ID. It does not optimize your decision to send 481 in any
>way, does it ?
>

My point is not optimization, but instead behavior which may not
be obvious to first time readers of SIP.

For example my UA is a embedded phone which recently rebooted.  Should it
ring when it receives a re-invite?  What if through DHCP re-licenseing this
call was for a different phone?  Ultimately, if the sender insists on
reestablishing the call, then it can always resend
the failed re-invite without a tag.

Another example is a proxy which broadcasts a re-invite to a
set of PSTN gateways.  If the originating gateway of a call (foolishly)
didn't include a contact, the stateless proxy may not know who to
send it to.

Finally, in the spirit of SIP, a UA cannot assume call-leg uniqueness
if it doesn't create its own tag.

--
Rick







Shail Bhatnagar <shbhatna@cisco.com> on 11/16/99 11:33:57 AM

Sent by:  Shail Bhatnagar <shbhatna@cisco.com>


To:   Rick Dean/MW/US/3Com
cc:   sip@lists.research.bell-labs.com, Jerry Mahler/MW/US/3Com
Subject:  Re: Implementation detail about tags.




Rick Dean wrote:
>
> Whenever my SIP UA sends an invite,
> it includes a "From" tag.  This makes the case
> of me calling myself through
> a proxy easier.  Otherwise, matching messages to
> call-leg-ends is more painful.  I believe this
> is allowable within the spec, and you have now
> been warned, so don't let it break your stack.
>
> When responding to an invite, I always include
> a "to" tag even though I sometimes don't have to.
> Thus, if I ever receive a invite with a "to" tag, yet have
> no record of the call, I know the invite is
> a re-invite, and either could be for someone else
> or is ancient, thus I return "481 Call Leg
> does not exist".

Not sure what this achieves. When you say "yet have no record of
the call", you have probably done some kind of lookup based on
Call-ID. It does not optimize your decision to send 481 in any
way, does it ?

>
> Does anyone have a problem with this?
>
> --
> Rick Dean
> 3Com







From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 19:46:33 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA00514
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 19:46:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8390752AB; Wed, 17 Nov 1999 19:07:18 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E1D5352C4; Wed, 17 Nov 1999 19:07:17 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3449352AB
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 19:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 19:06:49 EST 1999
Received: from sj-mailhub-3.cisco.com ([171.68.224.215]) by dusty; Wed Nov 17 19:05:38 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-3.cisco.com (8.9.1a/8.9.1) with ESMTP id QAA14168;
	Wed, 17 Nov 1999 16:15:33 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id QAA11687; Wed, 17 Nov 1999 16:06:39 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14387.17167.284935.181579@thomasm-u1.cisco.com>
Date: Wed, 17 Nov 1999 16:06:39 -0800 (PST)
To: "Dean Willis" <dean.willis@wcom.com>
Cc: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Tom-PT Taylor" <taylor@nortelnetworks.com>,
        <sip@lists.research.bell-labs.com>
Subject: User signaling -- was  DTMF signaling between media gateways - ouch!
In-Reply-To: <003901bf3068$cd921c20$c5f7143f@dwillispc4>
References: <382E40BF.5BE153F8@dynamicsoft.com>
	<003901bf3068$cd921c20$c5f7143f@dwillispc4>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Dean Willis writes:
 > Jonathan Rosenburg wrote:
 > > What services could proxies provide in the SIP model by receiving DTMF?
 > > Nearly every application of DTMF I have heard brought up required the
 > > entity receiving the DTMF to be a UA, in which case it could get the RTP
 > > stream instead.
 > 
 > See my previously posted example of an IVR which participates as a SIP
 > signaling system but has all of its media paths terminated on set of media
 > servers somewhere else.
 > 
 > Yeah, I suppose we could have the detected tones schlepped back from the
 > media server to the IVR over yet-another-potocol, but that doesn't seem
 > particularly efficient.

   Why not? In the end we're probably talking
   about IP transport in both cases, assuming
   that SIP is transported over IP. An RTP
   sink at the IVR for *just* RTP NSE's seems
   like a pretty easy thing to implement if you
   ask me. All the INFO with digits is doing is 
   transporting NSE's in disguise -- with less
   information and less flexibility -- back to
   the SIP. All to save having the IVR from having
   to understand RTP?
   
   This just doesn't seem sensible to me. Is
   it really all that hard to listen on a
   different socket for these events?  
 
 > Consider also that the end goal is NOT to ship DTMF, but to ship user input
 > notifications. Today, a user input notification is DTMF because that's what
 > the phones have, but it isn't going to stay that way.

   Right, but what that says is that the SIP
   is going to either have local intelligence
   to understand what the keys mean and initiate
   action based on them, or it will delegate 
   handling of the keys and/or display to a 
   foreign application which may drive them 
   with something completely different (eg, 
   http/html or telnet/ansi).

 > User A completes all calls through proxy P.
 > 
 > P provides additional services, along the lines of a "personal assistant".
 > One of these services is a "voice recorder" ala President Nixon.
 > 
 > A uses an analog phone connected to a generic UA gateway.
 > A calls party B, leaving P in the proxy path.
 > A decides B is saying something interesting and wants B recorded.
 > A presses the "R" key.
 > P uses call control to add a voice recorder and recording announcement tone
 > generator and conference bridge to the call.
 > P never saw a single byte of media.

   I don't understand what this has to do with
   DTMF delivery.

   The "R" button sounds like it's locally
   intercepted by "A" which causes it to do
   some signaling to P to start a record
   function. This doesn't seem much different
   than local digit collection for the telephone
   number in the first place (putting aside that
   a naive implementation like this might conflict
   with an IVR system's digit collection if "B"
   were an IVR).

   I'm having a pretty hard time understanding
   why if a SIP-anything is interested in DTMF
   digits, it cannot set itself up as being the
   recipient of NSE's over RTP (or some other
   means). Even if the bearer is normally over
   ATM or FR or something else, that doesn't
   preclude that an IVR SIP cannot receive DTMF over
   whatever choice of media bearer it needs to
   see it over (eg, RTP). The source SIP just needs
   to support more than one media bearer network
   type is all which is signaled in the SDP
   announcement. And in fact, those could be split
   or even "three way" such that the IVR got the
   NSE's, and the normal bearer got it's own
   version of NSE's (or not).

   Am I missing something here? Things seem quite
   a bit more flexible than some people are giving
   credit for.

		Mike



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 20:52:14 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA22982
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 20:52:13 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0FBBB52AB; Wed, 17 Nov 1999 20:49:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5DB8652C4; Wed, 17 Nov 1999 20:49:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C32A552AB
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 20:49:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 20:47:40 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Nov 17 20:46:29 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA17495;
	Wed, 17 Nov 1999 20:46:12 -0500 (EST)
Message-ID: <38335A64.B4329134@cs.columbia.edu>
Date: Wed, 17 Nov 1999 20:46:12 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: "Adam B. Roach" <Adam.Roach@ericsson.com>
Cc: Bart Wensley <bartw@nortelnetworks.com>, Gonzalo.Camarillo@ericsson.com,
        sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <199911162306.RAA15238@b04a24.exu.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

"Adam B. Roach" wrote:
> 

> 
> There are a variety of problems here. The first is determining how
> intervening proxies will react. If, for example, a proxy is making
> decisions about where to forward messages based on a called party URI,
> your suggestion would require it to understand ISUP (for interpretation
> of SAM message). It also requires it to have number analysis code and
> dialing plan information (potentially for the entire globe).
> 
> The problem gets even stranger for redirect servers, which expect to
> be able to send an immediate response to an INVITE -- not sit around
> collecting digits.
> 
> Basically, your suggestion forces overlapped dialing deep into each
> and every SIP node in the network that is expected to receive calls
> originating from the PSTN network.
> 
> I agree that this is a problem that needs to be solved if we intend
> to use SIP between two PSTN phones; but we need to find a better
> solution than tunelling SAMs all over the place.
> 
> We shouldn't overlook human factors: it could be that customers are
> willing to, for example, be trained to press "#" at the end of a
> phone number to skip the post-dial-delay.
> 

It seems like the PSTN gateway is the best equipped to detect at least
some dialing plans, just like in today's network. Why can't it simply
collect the ISUP SAMs until it detects the end of 1+10 digits?

It used to be that for variable-length dialing plans (e.g., most of
Europe), you'd use timeout (or #). I imagine that SAM can now be carried
end-to-end, so this may no longer be true. Anybody know for sure? (This
would only work if every single end office is ISUP-capable, since the
digit variation often occurs within a single central office. For
example, my old university in Darmstadt had phone number 19-x, where x
could be 0 for the switchboard or a four-digit number for the
"extension").


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 17 23:11:53 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA24828
	for <sip-archive@odin.ietf.org>; Wed, 17 Nov 1999 23:11:52 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8F6DB52B6; Wed, 17 Nov 1999 23:09:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F289F52C4; Wed, 17 Nov 1999 23:09:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 10D6952B6
	for <sip@lists.research.bell-labs.com>; Wed, 17 Nov 1999 23:09:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 17 23:07:39 EST 1999
Received: from firewall.hypercom.com ([208.248.82.2]) by dusty; Wed Nov 17 23:06:25 EST 1999
Received: by firewall.hypercom.com; id VAA11351; Wed, 17 Nov 1999 21:06:42 -0700 (MST)
Received: from citadel.hypercom.com(10.0.2.39) by firewall.hypercom.com via smap (4.1)
	id xma011275; Wed, 17 Nov 99 21:06:27 -0700
Received: from smtp.hypercom.com (smtp.hypercom.com [10.0.2.36])
	by citadel.hypercom.com (8.8.8/8.8.8) with SMTP id VAA29501;
	Wed, 17 Nov 1999 21:06:56 -0700 (MST)
Received: from POP3 Client by smtp.hypercom.com (ccMail Link to SMTP R8.30.00.7)
    id AA942897852; Wed, 17 Nov 1999 21:04:16 -0700
Message-Id: <9911179428.AA942897852@smtp.hypercom.com>
X-Mailer: ccMail Link to SMTP R8.30.00.7
Date: Wed, 17 Nov 1999 21:06:40 -0700
From: Larry Cox <lcox@neta.com>
To: <Adam.Roach@ericsson.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt 
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="simple boundary"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


--simple boundary
Content-Type: text/plain; charset=US-ASCII
Content-Description: "cc:Mail Note Part"
Content-Transfer-Encoding: 7bit

At 05:06 PM 11/16/99 -0600, you wrote:
>>
>>...
>>
>
>There are a variety of problems here. The first is determining how
>intervening proxies will react. If, for example, a proxy is making
>decisions about where to forward messages based on a called party URI, 
>your suggestion would require it to understand ISUP (for interpretation 
>of SAM message). It also requires it to have number analysis code and 
>dialing plan information (potentially for the entire globe).

As you imply here this is simply not something that can be considered rational.

>
>The problem gets even stranger for redirect servers, which expect to
>be able to send an immediate response to an INVITE -- not sit around
>collecting digits.
>
>Basically, your suggestion forces overlapped dialing deep into each 
>and every SIP node in the network that is expected to receive calls 
>originating from the PSTN network.

For a significant transition period this will effectively be all nodes.

>
>I agree that this is a problem that needs to be solved if we intend
>to use SIP between two PSTN phones; but we need to find a better
>solution than tunelling SAMs all over the place.
>
>We shouldn't overlook human factors: it could be that customers are
>willing to, for example, be trained to press "#" at the end of a
>phone number to skip the post-dial-delay.
>

You have pointed out quite clearly some of the problems that I have been
thinking about for some time. It also appears that a compelling answer to
the question will not be easily found.

Since there will be a significant interim period during which SIP systems
will represent a small percentage of total calls routed, it must be
possible to provide seamless inter-operation with the PSTN if SIP is to be
an acceptable call control protocol outside of private networks. This
precludes requiring a # digit at the end of the digit string.

Since knowledge of the required number of routing digits in many parts of
the world is local information subject to change at random intervals,
waiting for a timeout is the only reliable way to be sure that all digits
are collected. This tends to introduce a significant perception of
unreliable call switching. It appears that it would be much better to find
an alternative.

I agree that sending SAMs does not appear to be a viable answer. I have
been unable to find any approach that does not appear to have fatal flaws
in it. The existing call routing system is almost organic in nature and
with SIP we are trying to fit it into a much more rigid structure. Since
the market will not allow forcing this change, we can only succeed if we
identify a structure that improves on the existing PSTN capability without
causing user distress. I think this will not be an easy task.

>--
>Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
>adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
>


======================================

Larry Cox
Senior Software Engineer

Hypercom Network Systems Inc.
2851 West Kathleen Road
Phoenix, AZ 85053
USA

Phone: (602) 504-4657
Fax: (602) 504-4711
Web: www.hypercom.com


--simple boundary--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 02:37:52 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA14030
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 02:37:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9AFAC52AB; Thu, 18 Nov 1999 02:35:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0CA1C52C4; Thu, 18 Nov 1999 02:35:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D204F52AB
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 02:35:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 02:34:24 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Thu Nov 18 02:33:06 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id JAA12967
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 09:34:49 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0309 [131.160.72.252])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id JAA02192
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 09:34:14 +0200 (EET)
Message-ID: <3833ABF8.2B1067B1@lmf.ericsson.se>
Date: Thu, 18 Nov 1999 09:34:16 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip <sip@lists.research.bell-labs.com>
Subject: Re: 183,BCP & forking
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

ak@hplb.hpl.hp.com wrote:
> 
> Gonzalo Camarillo wrote:
> >
> > Hi,
> >
> > In the last SIP meeting in DC there was a discussion about forking or
> > not forking in the SIP-BCP-T...
> >
> > I would like to write down some ideas about this, but not just related
> > to SIP-BCP-T...
> >
> > When we have a SIP UA in our computer is not a problem to reach a user
> > in several places at the same time (forking the INVITE), but when we
> > have the "old black phone" we run into troubles. This is the case of
> > PSTN phones, but also if we build a SIP phone that looks like a
> > traditional phone, and I believe lots of people want this kind of
> > device.
> >
> > We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> > forks it and sends it to several locations (parallel search) where B can
> > be reached. We receive one 183 reponse and we begin hearing a ringback
> > tone or an announce... in the meantime, we receive a 200 from another
> > location... what should we do??
> >
> > Because it is not a good idea to CANCEL the rest of the branches when I
> > receive a 183...
> 
> Why? Seems perfectly fine to me. This is a feature rather than a bug --
> you'd typically want all phones at which you're potentially reachable to
> ring. How second and subsequent 200 OK's are handled is up to the
> calling UA and/or the forking proxy.  I don't see why "old black phones"
> are any different from SIP softphones in this respect, and I think it
> would be a mistake to disallow forking whenever black phones are
> involved. Neither calling UA or proxies should need to know there's a
> PSTN (-like) phone at the other end.

The problem is not when we callee (B-party) is a "black phone". The
problem I see is when the caller (A-party) is one PSTN-like phone.

We do not have a display or something like that to trace the status of
all the locations where our INVITE arrived.

So, A is calling B, and B can be reachable at B1, B2 and B3.

B1 sends back a 183, and A hears from the speaker some kind of announce.
In the meantime, B picks up B2, and A receives a 200. Now A's speaker
suddently stops playing the message from B1, tears down the connection
with B1 and connects to B2... then we will CANCEL the other branches, so
as soon as we receive the first 200 there is no problen with receiving
subsequent 200 responses.

I believe this is not acceptable.

What do you suggest if we receive two 183 responses from different
locations? Which one shall the caller hear?

Maybe one is an announce and the other is a ringback tone... maybe both
are ring back tones...maybe both are announces...

Gonzalo


> >
> > Maybe we could specify that we do not want parallel search in our caller
> > preferences... in this case, as Scott suggested, the caller preferences
> > would have to have priority over any logic (CPL) intalled in the server.
> 
> That assumes the caller knows he's calling a black phone, right?
> Otherwise he'd have to always specify no-forking in the caller prefs.
> 
> >
> > Maybe it is worthwhile saying something about this in the 183 draft.
> > Maybe instead of saying "no fork" it is better to say "no parallel
> > search" in SIP-BCP-T...
> >
> > Any ideas?
> >
> > Gonzalo
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> 
> --
> Anders Kristensen <ak@hplb.hpl.hp.com>,
> http://www-uk.hpl.hp.com/people/ak/
> Hewlett-Packard Labs, Bristol, UK

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 06:36:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA11594
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 06:35:59 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CBF1252AB; Thu, 18 Nov 1999 06:33:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 47C1852BB; Thu, 18 Nov 1999 06:33:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2DC1C52AB
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 06:33:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 06:32:07 EST 1999
Received: from palrel1.hp.com ([156.153.255.242]) by dusty; Thu Nov 18 06:30:54 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by palrel1.hp.com (Postfix) with ESMTP id 18F97B0C
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 03:32:04 -0800 (PST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id LAA13548;
	Thu, 18 Nov 1999 11:32:01 GMT
Message-ID: <3833E40A.25889956@hplb.hpl.hp.com>
Date: Thu, 18 Nov 1999 11:33:30 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <3831AEBC.D9CF8A7E@hplb.hpl.hp.com> <38326507.CA6B6019@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gonzalo Camarillo wrote:
> 
> ak@hplb.hpl.hp.com wrote:
> >
> > Gonzalo Camarillo wrote:
> > >
> > > Hi,
> > >
> > > In the last SIP meeting in DC there was a discussion about forking or
> > > not forking in the SIP-BCP-T...
> > >
> > > I would like to write down some ideas about this, but not just related
> > > to SIP-BCP-T...
> > >
> > > When we have a SIP UA in our computer is not a problem to reach a user
> > > in several places at the same time (forking the INVITE), but when we
> > > have the "old black phone" we run into troubles. This is the case of
> > > PSTN phones, but also if we build a SIP phone that looks like a
> > > traditional phone, and I believe lots of people want this kind of
> > > device.
> > >
> > > We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> > > forks it and sends it to several locations (parallel search) where B can
> > > be reached. We receive one 183 reponse and we begin hearing a ringback
> > > tone or an announce... in the meantime, we receive a 200 from another
> > > location... what should we do??
> > >
> > > Because it is not a good idea to CANCEL the rest of the branches when I
> > > receive a 183...
> >
> > Why? Seems perfectly fine to me. This is a feature rather than a bug --
> > you'd typically want all phones at which you're potentially reachable to
> > ring. How second and subsequent 200 OK's are handled is up to the
> > calling UA and/or the forking proxy.  I don't see why "old black phones"
> > are any different from SIP softphones in this respect, and I think it
> > would be a mistake to disallow forking whenever black phones are
> > involved. Neither calling UA or proxies should need to know there's a
> > PSTN (-like) phone at the other end.
> 
> The problem is not when we callee (B-party) is a "black phone". The
> problem I see is when the caller (A-party) is one PSTN-like phone.

Ah, I see.  I'd say the calling UA probably should send caller prefs
saying parallel search is undesirable, but other than that it is a local
matter for it to figure out how best to deal with multiple responses,
early media etc.  Yes, there may be odd cases, but they're likely to be
uncommon and probably unavoidable (in principle at least).

> 
> We do not have a display or something like that to trace the status of
> all the locations where our INVITE arrived.
> 
> So, A is calling B, and B can be reachable at B1, B2 and B3.
> 
> B1 sends back a 183, and A hears from the speaker some kind of announce.
> In the meantime, B picks up B2, and A receives a 200. Now A's speaker
> suddently stops playing the message from B1, tears down the connection
> with B1 and connects to B2... then we will CANCEL the other branches, so
> as soon as we receive the first 200 there is no problen with receiving
> subsequent 200 responses.
> 
> I believe this is not acceptable.
> 
> What do you suggest if we receive two 183 responses from different
> locations? Which one shall the caller hear?
> 
> Maybe one is an announce and the other is a ringback tone... maybe both
> are ring back tones...maybe both are announces...
> 

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 07:13:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA25136
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 07:13:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0B07852AB; Thu, 18 Nov 1999 07:11:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8018D52B6; Thu, 18 Nov 1999 07:11:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5694952AB
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 07:11:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 07:09:58 EST 1999
Received: from ids2.idsonline.com ([205.177.236.32]) by dusty; Thu Nov 18 07:08:44 EST 1999
Received: from 207.176.21.63 (dc-csesp63.idsonline.com [207.176.21.63]) by ids2.idsonline.com (8.9.1/8.6.9) with SMTP id IAA13876; Thu, 18 Nov 1999 08:16:19 -0500
Message-ID: <3833ECFE.1BD5@21rst-century.com>
Date: Thu, 18 Nov 1999 07:11:45 -0500
From: Thomas Marshall Eubanks <tme@21rst-century.com>
Reply-To: tme@21rst-century.com
Organization: USNO
X-Mailer: Mozilla 3.01-C-MACOS8 (Macintosh; I; PPC)
MIME-Version: 1.0
To: Larry Cox <lcox@neta.com>
Cc: Adam.Roach@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <9911179428.AA942897852@smtp.hypercom.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hello;

Larry Cox wrote:
> 
> 
> You have pointed out quite clearly some of the problems that I have been
> thinking about for some time. It also appears that a compelling answer to
> the question will not be easily found.
> 
> Since there will be a significant interim period during which SIP systems
> will represent a small percentage of total calls routed, it must be
> possible to provide seamless inter-operation with the PSTN if SIP is to be
> an acceptable call control protocol outside of private networks. This
> precludes requiring a # digit at the end of the digit string.
>

I would not be so sure of this. In the US, this might be a problem, as
our phone numbers have been stable for decades. In the US, a # sign
would probably not be
necessary, though, except for overseas calls. In Europe, however, I am
not sure that such a change 
would be a big problem, as changes like this tend to happen more
frequently anyway. In Austria, 
for example, within this decade they re-numbered much of the country. I
don't know the details, 
but EVERY number I use in Austria changed. If they can handle this, they
can handle a # sign, 
especially as it would not be absolutely required.

My point here is simply that the more "organic" the phone system, the
more users have to
put up with instabilities in the system, and so the more they would be
willing to accept
additional changes.

Also, won't recently called numbers be cached ? If a number is in the
cache, neither
a # sign nor a wait would be necessary. For most people, this would
remove most of the problem.

> Since knowledge of the required number of routing digits in many parts of
> the world is local information subject to change at random intervals,
> waiting for a timeout is the only reliable way to be sure that all digits
> are collected. This tends to introduce a significant perception of
> unreliable call switching. It appears that it would be much better to find
> an alternative.
> 
> ======================================
> 
> Larry Cox
> Senior Software Engineer
> 
> Hypercom Network Systems Inc.
> 2851 West Kathleen Road
> Phoenix, AZ 85053
> USA
> 
> Phone: (602) 504-4657
> Fax: (602) 504-4711
> Web: www.hypercom.com

                                         Regards
                                         Marshall Eubanks
                                         Multicast Technologies LLC
                                         tme@21rst-century.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 10:15:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA20512
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 10:15:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4280452B6; Thu, 18 Nov 1999 10:13:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B0ED552C4; Thu, 18 Nov 1999 10:13:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1FBE052B6
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 10:13:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 10:11:15 EST 1999
Received: from tungsten.btinternet.com ([194.73.73.81]) by dusty; Thu Nov 18 10:10:02 EST 1999
Received: from [212.140.39.216] (helo=tkw)
	by tungsten.btinternet.com with smtp (Exim 2.05 #1)
	id 11oTD1-0003kx-00; Thu, 18 Nov 1999 15:10:52 +0000
Message-ID: <002501bf31d7$31036920$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Thu, 18 Nov 1999 14:58:16 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Pete Cordell <pete@tech-know-ware.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 17 November 1999 13:58
Subject: Re: DTMF signaling between media gateways - ouch!


<some old stuff snipped>

>>
>> There was also a time when it was said that there was no need to
standardise
>> call control software as you would just down load the appropriate
version.
>> That hasn't happened, and I'm not surprised.  I agree that ISDN devices
are
>> less easily upgradeable (by design rather than technology limitations),
but
>> I don't think the difference is sufficient to ignore simulus based
>> signalling.  HTTP/HTML based control may play a big part in the future,
but
>> I think with small mobile devices, and other similar toys, simulus based
>> signalling will still play a part.  There will also be the case of calls
>> originating off-IP, but terminating in IP space and these will still need
>> some form of control.
>
>For off IP devices, it is already the job of the gateway to determine
>what is meant by the
>DTMF it receives from a normal phone. In current gateway operations,
>when I dial "5551212" on my phone, the gateway knows that I am really
>saying "call the terminal named 555-1212", and thus converts this to a
>functional equivalent (INVITE tel:5551212 SIP/2.0). The same concept can
>be used to handle other services that are stimulus signaled.
>

A gateway can be expected to know about dialling, so your first example
works well (except for the issue of different numbering plans used
throughout the world which may need addressing later).  After that I don't
think you can expect a gateway to convert subsequent digits correctly into
an appropriate functional as you can't expect it to know about all possible
services.

>>
>> Also, a lot of people are worried about downloading software from here,
>> there and everywhere, and I think many of them, given the choice, would
>> prefer not to do it, - especially if it was just to contact the tax
office
>> call centre etc!
>
>But there is no need for downloading software to contact a tax center. I
>have been arguing that for IVR systems (which is what you are talking
>about), DTMF "signaling" of what you want is just dandy, but that this
>"signaling", which can also be based on voice recognition, resides in
>the RTP stream possibly using the DTMF codec. Thus, you can call any IVR
>system without having to download software for each one.
>
>

That's one way you can cut a system, but it is not the only way.  There are
also other situations where the DTMF is not interpreted by the end system.
In these cases end-to-end DTMF is not appropriate.

>>
>> So, in the short term at least, I think we need simulus signalling.  If
>> that's not possible then the whole thing is going to look rather silly.
>
>I'm not arguing that a user can't use a normal phone with SIP, and press
>buttons. What I am arguing is that for the vast majority of what people
>use DTMF for, IVR and voicemail systems, we carry these using the RTP
>stream. For SIP services, the DTMF needs to be converted to its
>functional equivalent at the UA, be it gateway or phone.

I would think that the only functional equivalents that the gateway can
convert to are services that are specific to it.  These may be standard SIP
services, or they might be specials.  Either way it is an example of a
non-terminal device acting on the DTMF.  The gateway certainly can't be
expected to converted to any (probably as yet un-specified) functional
service.

>
>
>> Atomic things like transfer can probably easily get away with being
>> functionally signalled.  However, I think transfers will occur as a
result
>> of DTMF signalling, even if only indirectly, such as in a call center.  I
>> really don't want to down load a patch (that may be phone specific) for
each
>> call center I contact.
>
>See my above point; I'm not arguing for this.
>
>

<some old stuff snipped>

>>
>> But DTMF is a signalling protocol, albeit crude, and ought to be aligned
>> with other signalling information, such as transfer, end call etc.
>
>Well, if DTMF is such a crude signaling protocol, I'd rather have the UA
>point
>convert it to a non-crude functional equivalent, as we already do right
>now for
>things like INVITE.

DTMF may be crude, but in fact it's its simplicity that makes it so useful.
(It's a bit like ones and zeros are fairly crude, but we seem to manage with
them OK!)

Also, as you say, the timing of the DTMF is important, but this timeliness
also needs to be maintained relative to any functional service.  The best
way to do this is to put all such signalling down the the same hole.

>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 10:21:50 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23020
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 10:21:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D3CF352C4; Thu, 18 Nov 1999 10:19:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3C5B152D5; Thu, 18 Nov 1999 10:19:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8D3D252C4
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 10:19:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 10:18:25 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Thu Nov 18 10:17:12 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprtp1.ntcom.nortel.net; Thu, 18 Nov 1999 10:17:58 -0500
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA253BH>; Thu, 18 Nov 1999 09:17:56 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD11022EA769@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: "Adam B. Roach" <Adam.Roach@ericsson.com>,
        "Bart Wensley" <bartw@nortelnetworks.com>
Cc: Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Thu, 18 Nov 1999 09:17:54 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF31D8.15D6A06C"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF31D8.15D6A06C
Content-Type: text/plain

The SAM solution works if sending ISUP in SIP works.  The basic principle is
this: if too few digits are available at a given stage to locate an egress
gateway, a 484 final response is sent back to the ingress gateway saying so.
The ingress gateway has to wait for more digits, then reissue the INVITE
(with updated encapsulated IAM).  Eventually either the call is found to
terminate on a non-ISUP network (in which case there has to be interworking
somewhere along the signalling path) or it terminates on an egress gateway.
In either case the ingress gateway will forward SAMs via INFO messages to
the point where they are consumed.  (The obvious exception is if the ingress
gateway itself is the point at which interworking must occur.)

> -----Original Message-----
> From:	Adam B. Roach [SMTP:Adam.Roach@ericsson.com]
> Sent:	Tuesday, November 16, 1999 6:06 PM
	[[TomT]]  ... >
> >Why not send an INVITE message when the ISUP IAM is received and then
> send
> >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> >agents will expect the INVITE to contain the complete address of the
> called
> >party. This could be handled by including support for overlap in the
> >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt).
> If
> >the terminator did not support the PSTN extensions, the originator could
> >then switch to enbloc and wait for the full address to be collected.
> 
> There are a variety of problems here. The first is determining how
> intervening proxies will react. If, for example, a proxy is making
> decisions about where to forward messages based on a called party URI, 
> your suggestion would require it to understand ISUP (for interpretation 
> of SAM message). It also requires it to have number analysis code and 
> dialing plan information (potentially for the entire globe).
> 
> The problem gets even stranger for redirect servers, which expect to
> be able to send an immediate response to an INVITE -- not sit around
> collecting digits.
> 
> Basically, your suggestion forces overlapped dialing deep into each 
> and every SIP node in the network that is expected to receive calls 
> originating from the PSTN network.
> 
> I agree that this is a problem that needs to be solved if we intend
> to use SIP between two PSTN phones; but we need to find a better
> solution than tunelling SAMs all over the place.
> 
> We shouldn't overlook human factors: it could be that customers are
> willing to, for example, be trained to press "#" at the end of a
> phone number to skip the post-dial-delay.
> 
> --
> Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS
> L-04
> adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081
> USA
> 

------_=_NextPart_001_01BF31D8.15D6A06C
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: Comments on =
draft-camarillo-mmusic-sip-isup-bcp-00.txt</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">The SAM solution =
works if sending ISUP in SIP works.&nbsp; The basic principle is this: =
if too few digits are available at a given stage to locate an egress =
gateway, a 484 final response is sent back to the ingress gateway =
saying so.&nbsp; The ingress gateway has to wait for more digits, then =
reissue the INVITE (with updated encapsulated IAM).&nbsp; Eventually =
either the call is found to terminate on a non-ISUP network (in which =
case there has to be interworking somewhere along the signalling path) =
or it terminates on an egress gateway.&nbsp; In either case the ingress =
gateway will forward SAMs via INFO messages to the point where they are =
consumed.&nbsp; (The obvious exception is if the ingress gateway itself =
is the point at which interworking must occur.)</FONT></P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Adam B. Roach =
[SMTP:Adam.Roach@ericsson.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Tuesday, November 16, 1999 6:06 PM</FONT>
<BR><B><I><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Arial">[[TomT]]</FONT></I></B><I></I>&nbsp;<FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"> =
...</FONT><B></B><B></B><B><FONT SIZE=3D1 FACE=3D"Arial"></FONT></B> =
<FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;Why not send an INVITE message =
when the ISUP IAM is received and then send</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;subsequent INFO messages for each =
ISUP SAM? I understand that &quot;pure&quot; SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;agents will expect the INVITE to =
contain the complete address of the called</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;party. This could be handled by =
including support for overlap in the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&quot;Require&quot; extensions =
(draft-roach-mmusic-sip-pstn-require-header-00.txt). If</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;the terminator did not support =
the PSTN extensions, the originator could</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;then switch to enbloc and wait =
for the full address to be collected.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">There are a variety of problems here. =
The first is determining how</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">intervening proxies will react. If, =
for example, a proxy is making</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">decisions about where to forward =
messages based on a called party URI, </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">your suggestion would require it to =
understand ISUP (for interpretation </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">of SAM message). It also requires it =
to have number analysis code and </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">dialing plan information (potentially =
for the entire globe).</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The problem gets even stranger for =
redirect servers, which expect to</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">be able to send an immediate response =
to an INVITE -- not sit around</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">collecting digits.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Basically, your suggestion forces =
overlapped dialing deep into each </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">and every SIP node in the network =
that is expected to receive calls </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">originating from the PSTN =
network.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I agree that this is a problem that =
needs to be solved if we intend</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">to use SIP between two PSTN phones; =
but we need to find a better</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">solution than tunelling SAMs all over =
the place.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">We shouldn't overlook human factors: =
it could be that customers are</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">willing to, for example, be trained =
to press &quot;#&quot; at the end of a</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">phone number to skip the =
post-dial-delay.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">--</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Adam Roach, Ericsson Inc. |&nbsp; Ph: =
+1 972 583 7594 | 1010 E. Arapaho, MS L-04</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">adam.roach@ericsson.com&nbsp;&nbsp; | =
Fax: +1 972 669 0154 | Richardson, TX 75081 USA</FONT>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF31D8.15D6A06C--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 10:25:31 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24598
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 10:25:30 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 786D852D5; Thu, 18 Nov 1999 10:23:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DFED652D6; Thu, 18 Nov 1999 10:23:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 094DA52D5
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 10:23:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 10:21:24 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Thu Nov 18 10:20:10 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id KAA21470;
	Thu, 18 Nov 1999 10:21:17 -0500 (EST)
Message-ID: <02c601bf31d8$995848a0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Thu, 18 Nov 1999 10:21:33 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete,
Simply put, I agree with you points and don't have anything else to add
execpt that voice detection (energy and endpoint) fall in the exact same
catagory as DTMF, save only to demark voice, rather than digit-press events.

Greg Girard


-----Original Message-----
From: Pete Cordell <pete@tech-know-ware.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: Thursday, November 18, 1999 10:15 AM
Subject: Re: DTMF signaling between media gateways - ouch!


>Jonathan,
>
>-----Original Message-----
>From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
>To: Pete Cordell <pete@tech-know-ware.com>
>Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>Date: 17 November 1999 13:58
>Subject: Re: DTMF signaling between media gateways - ouch!
>
>
><some old stuff snipped>
>
>>>
>>> There was also a time when it was said that there was no need to
>standardise
>>> call control software as you would just down load the appropriate
>version.
>>> That hasn't happened, and I'm not surprised.  I agree that ISDN devices
>are
>>> less easily upgradeable (by design rather than technology limitations),
>but
>>> I don't think the difference is sufficient to ignore simulus based
>>> signalling.  HTTP/HTML based control may play a big part in the future,
>but
>>> I think with small mobile devices, and other similar toys, simulus based
>>> signalling will still play a part.  There will also be the case of calls
>>> originating off-IP, but terminating in IP space and these will still
need
>>> some form of control.
>>
>>For off IP devices, it is already the job of the gateway to determine
>>what is meant by the
>>DTMF it receives from a normal phone. In current gateway operations,
>>when I dial "5551212" on my phone, the gateway knows that I am really
>>saying "call the terminal named 555-1212", and thus converts this to a
>>functional equivalent (INVITE tel:5551212 SIP/2.0). The same concept can
>>be used to handle other services that are stimulus signaled.
>>
>
>A gateway can be expected to know about dialling, so your first example
>works well (except for the issue of different numbering plans used
>throughout the world which may need addressing later).  After that I don't
>think you can expect a gateway to convert subsequent digits correctly into
>an appropriate functional as you can't expect it to know about all possible
>services.
>
>>>
>>> Also, a lot of people are worried about downloading software from here,
>>> there and everywhere, and I think many of them, given the choice, would
>>> prefer not to do it, - especially if it was just to contact the tax
>office
>>> call centre etc!
>>
>>But there is no need for downloading software to contact a tax center. I
>>have been arguing that for IVR systems (which is what you are talking
>>about), DTMF "signaling" of what you want is just dandy, but that this
>>"signaling", which can also be based on voice recognition, resides in
>>the RTP stream possibly using the DTMF codec. Thus, you can call any IVR
>>system without having to download software for each one.
>>
>>
>
>That's one way you can cut a system, but it is not the only way.  There are
>also other situations where the DTMF is not interpreted by the end system.
>In these cases end-to-end DTMF is not appropriate.
>
>>>
>>> So, in the short term at least, I think we need simulus signalling.  If
>>> that's not possible then the whole thing is going to look rather silly.
>>
>>I'm not arguing that a user can't use a normal phone with SIP, and press
>>buttons. What I am arguing is that for the vast majority of what people
>>use DTMF for, IVR and voicemail systems, we carry these using the RTP
>>stream. For SIP services, the DTMF needs to be converted to its
>>functional equivalent at the UA, be it gateway or phone.
>
>I would think that the only functional equivalents that the gateway can
>convert to are services that are specific to it.  These may be standard SIP
>services, or they might be specials.  Either way it is an example of a
>non-terminal device acting on the DTMF.  The gateway certainly can't be
>expected to converted to any (probably as yet un-specified) functional
>service.
>
>>
>>
>>> Atomic things like transfer can probably easily get away with being
>>> functionally signalled.  However, I think transfers will occur as a
>result
>>> of DTMF signalling, even if only indirectly, such as in a call center.
I
>>> really don't want to down load a patch (that may be phone specific) for
>each
>>> call center I contact.
>>
>>See my above point; I'm not arguing for this.
>>
>>
>
><some old stuff snipped>
>
>>>
>>> But DTMF is a signalling protocol, albeit crude, and ought to be aligned
>>> with other signalling information, such as transfer, end call etc.
>>
>>Well, if DTMF is such a crude signaling protocol, I'd rather have the UA
>>point
>>convert it to a non-crude functional equivalent, as we already do right
>>now for
>>things like INVITE.
>
>DTMF may be crude, but in fact it's its simplicity that makes it so useful.
>(It's a bit like ones and zeros are fairly crude, but we seem to manage
with
>them OK!)
>
>Also, as you say, the timing of the DTMF is important, but this timeliness
>also needs to be maintained relative to any functional service.  The best
>way to do this is to put all such signalling down the the same hole.
>
>>
>>-Jonathan R.
>>--
>>Jonathan D. Rosenberg                       200 Executive Drive
>>Chief Scientist                             Suite 120
>>dynamicsoft                                 West Orange, NJ 07052
>>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>>http://www.dynamicsoft.com
>>
>
>Pete
>
>=============================================
>Pete Cordell
>pete@tech-know-ware.com
>=============================================
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 10:57:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA07872
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 10:57:44 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 05A1552BB; Thu, 18 Nov 1999 10:55:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 647CF52DB; Thu, 18 Nov 1999 10:55:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B2D0B52BB
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 10:55:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 10:54:35 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Nov 18 10:53:22 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpwp22579;
	Thu, 18 Nov 1999 15:59:14 GMT
Received: from dynamicsoft.com (1Cust121.tnt2.freehold.nj.da.uu.net [63.17.114.121])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id KAA16227;
	Thu, 18 Nov 1999 10:54:28 -0500 (EST)
Message-ID: <383421EB.5C188344@dynamicsoft.com>
Date: Thu, 18 Nov 1999 10:57:31 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <199911162306.RAA15238@b04a24.exu.ericsson.se> <3832669B.F5D289CC@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

What if, rather than encapsulating subsequent digits into INFO, they are
added to the request URI in an INVITE? A local proxy for the gateway
will respond with 484 to all those that don't have enough digits until
it gets one that does have enough. So:


Ingress GW            P             Egress GW

INV tel:1 ------------>
CSeq: 1

INV tel:12 ----------->
CSeq: 2


<---------484 --------
          CSeq: 1

INV tel:121 --------->
CSeq: 3

<---------484 -------
          CSeq: 2

INV tel:1212 --------> ---------------------->   IAM 1212---------->
CSeq: 4

<--------------484----
               CSeq: 3

INV tel:12125---------> ----------------------> SAM 5 ------------->
CSeq: 5

INV tel:121255 -------> ----------------------> SAM 5 ------------->
CSeq: 6

INV tel:1212555 ------> -----------------------> SAM 5 ------------>
CSeq: 7                 

.......(same thing for digits 1, 2, 1)

INV tel:12125551212----> ---------------------> SAM 2 -------------->
CSeq: 11                                        <---------ACM-------

                         <------484-----------
                                CSeq: 5
                         <------484-----------
                                CSeq: 6
                               .......
                         <------484 
                                CSeq: 10
                         <---183--------------
                                CSeq: 11


Ok, so let me explain. Proxies do routing just on longest prefix matches
for INVITE's. So, proxy P can be stateless actually, as it just forwards
INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
without waiting for a response to the previous INVITE) every time a new
digit is received from the PSTN. Once the proxy has enough digits to
route, it won't send 484 anymore, and forwards it to the egress gateway.
The egress gateway is smart, and creates an IAM from the first INVITE.
Subsequent re-INVITEs cause SAMs to be sent, containing the difference
in the set of digits from the previous INVITE. Once the egress gateway
receives an ACM (address complete, right?), it responds with a 484 to
all the INVITEs but the last, and the final INVITE with a 183. Things
progress normally from there.

Implications:

1. proxies don't have to know anything about INFO or ISUP. They just
have to know longest prefix match routing for phone numbers. They can
even be stateless.

2. egress gateways that know ISUP effectively re-generate the SAMs

3. if the egress point is not an ISUP gateway, but a PC terminal or
something that happens to have a phone number as its name, it will have
to know enough to reject each INVITE until it gets one with a request
URI/To field that matches its own number. This, BTW, is normal behavior.
A UAS rejects an INVITE if the URI is for an address thats not its own.

4. This works *even* if there is misordering of re-INVITEs. The egress
gateway computes the SAMs based on differentials. So, lets say it
receives the INVITE with 1555, then the INVITE with 155512. It then
sends two SAMs, the first with 1, the next with 2. Lets say, then, that
the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
old and rejects it.

5. The ingress gateway doesn't depend on special messages or a
completion character, like #, to send an INVITE.




Its very possible I've completely missed something, as I'm hardly an
ISUP expert. Perhaps there is additional data in SAM such that it MUST
be sent across, rather than being regenerated. But, the above solution
seems nice, as it doesn't break anything, works with non-ISUP
terminating points, doesn't require users to dial a # at the end of the
digit string, etc.

Comments?

-Jonathan R.


Gonzalo Camarillo wrote:
> 
> It is nicer to send complete URIs in the "to" header. If the i-gateway
> sends the INVITE before receiveing all the digits, the "to" header is
> not complete. It would contain just a few digits of the whole telephone
> number (this assumes that with just some digits the i-gateway figures
> out where to send the INVITE).
> 
> Gonzalo
> 
> Adam.Roach@ericsson.com wrote:
> >
> > >The use of a timer to force enbloc signaling is not acceptable. In the case
> > >of SIP bridging, subscribers originating calls from the PSTN will not accept
> > >an artificial post-dial delay (even if it is just a few seconds long).
> > >Overlap signaling must be supported. It is essential that the overlap
> > >process takes place within the context of a single session - using the
> > >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
> > >calls being delivered to the terminating agent, which would not be
> > >acceptable.
> > >
> > >Why not send an INVITE message when the ISUP IAM is received and then send
> > >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> > >agents will expect the INVITE to contain the complete address of the called
> > >party. This could be handled by including support for overlap in the
> > >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> > >the terminator did not support the PSTN extensions, the originator could
> > >then switch to enbloc and wait for the full address to be collected.
> >
> > There are a variety of problems here. The first is determining how
> > intervening proxies will react. If, for example, a proxy is making
> > decisions about where to forward messages based on a called party URI,
> > your suggestion would require it to understand ISUP (for interpretation
> > of SAM message). It also requires it to have number analysis code and
> > dialing plan information (potentially for the entire globe).
> >
> > The problem gets even stranger for redirect servers, which expect to
> > be able to send an immediate response to an INVITE -- not sit around
> > collecting digits.
> >
> > Basically, your suggestion forces overlapped dialing deep into each
> > and every SIP node in the network that is expected to receive calls
> > originating from the PSTN network.
> >
> > I agree that this is a problem that needs to be solved if we intend
> > to use SIP between two PSTN phones; but we need to find a better
> > solution than tunelling SAMs all over the place.
> >
> > We shouldn't overlook human factors: it could be that customers are
> > willing to, for example, be trained to press "#" at the end of a
> > phone number to skip the post-dial-delay.
> >
> > --
> > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
> 
> --
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 11:35:09 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23245
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 11:35:07 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7939752DE; Thu, 18 Nov 1999 11:25:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 81F0A52DD; Thu, 18 Nov 1999 11:25:34 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5701D52DE
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 11:25:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 11:24:56 EST 1999
Received: from Telemann.inoc.dl.nec.com ([143.101.112.2]) by dusty; Thu Nov 18 11:23:41 EST 1999
Received: from aslws01.asl.dl.nec.com (aslws01.asl.dl.nec.com [143.101.2.1])
	by Telemann.inoc.dl.nec.com (8.8.8/8.8.8) with ESMTP id KAA01745;
	Thu, 18 Nov 1999 10:17:03 -0600 (CST)
Received: by aslws01.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id KAA01240(aslws01.asl.dl.nec.com); Thu, 18 Nov 1999 10:14:34 -0600 (CST)
Received: by aslnfs220.asl.dl.nec.com (8.7.3/YDL1.9.1-940729.15)
	id KAA06848(aslnfs220.asl.dl.nec.com); Thu, 18 Nov 1999 10:14:31 -0600 (CST)
Message-ID: <3834262A.DEF95EC4@asl.dl.nec.com>
Date: Thu, 18 Nov 1999 10:15:38 -0600
From: Anil Yelundur <yelundur@asl.dl.nec.com>
X-Mailer: Mozilla 4.03 [en] (WinNT; I)
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <199911162306.RAA15238@b04a24.exu.ericsson.se> <3832669B.F5D289CC@lmf.ericsson.se> <383421EB.5C188344@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Can multiple SAMs be sent? I thought only one SAM is allowed after the IAM...I am not
very sure.
Anil Yelundur

Jonathan Rosenberg wrote:

> What if, rather than encapsulating subsequent digits into INFO, they are
> added to the request URI in an INVITE? A local proxy for the gateway
> will respond with 484 to all those that don't have enough digits until
> it gets one that does have enough. So:
>
> Ingress GW            P             Egress GW
>
> INV tel:1 ------------>
> CSeq: 1
>
> INV tel:12 ----------->
> CSeq: 2
>
> <---------484 --------
>           CSeq: 1
>
> INV tel:121 --------->
> CSeq: 3
>
> <---------484 -------
>           CSeq: 2
>
> INV tel:1212 --------> ---------------------->   IAM 1212---------->
> CSeq: 4
>
> <--------------484----
>                CSeq: 3
>
> INV tel:12125---------> ----------------------> SAM 5 ------------->
> CSeq: 5
>
> INV tel:121255 -------> ----------------------> SAM 5 ------------->
> CSeq: 6
>
> INV tel:1212555 ------> -----------------------> SAM 5 ------------>
> CSeq: 7
>
> .......(same thing for digits 1, 2, 1)
>
> INV tel:12125551212----> ---------------------> SAM 2 -------------->
> CSeq: 11                                        <---------ACM-------
>
>                          <------484-----------
>                                 CSeq: 5
>                          <------484-----------
>                                 CSeq: 6
>                                .......
>                          <------484
>                                 CSeq: 10
>                          <---183--------------
>                                 CSeq: 11
>
> Ok, so let me explain. Proxies do routing just on longest prefix matches
> for INVITE's. So, proxy P can be stateless actually, as it just forwards
> INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
> without waiting for a response to the previous INVITE) every time a new
> digit is received from the PSTN. Once the proxy has enough digits to
> route, it won't send 484 anymore, and forwards it to the egress gateway.
> The egress gateway is smart, and creates an IAM from the first INVITE.
> Subsequent re-INVITEs cause SAMs to be sent, containing the difference
> in the set of digits from the previous INVITE. Once the egress gateway
> receives an ACM (address complete, right?), it responds with a 484 to
> all the INVITEs but the last, and the final INVITE with a 183. Things
> progress normally from there.
>
> Implications:
>
> 1. proxies don't have to know anything about INFO or ISUP. They just
> have to know longest prefix match routing for phone numbers. They can
> even be stateless.
>
> 2. egress gateways that know ISUP effectively re-generate the SAMs
>
> 3. if the egress point is not an ISUP gateway, but a PC terminal or
> something that happens to have a phone number as its name, it will have
> to know enough to reject each INVITE until it gets one with a request
> URI/To field that matches its own number. This, BTW, is normal behavior.
> A UAS rejects an INVITE if the URI is for an address thats not its own.
>
> 4. This works *even* if there is misordering of re-INVITEs. The egress
> gateway computes the SAMs based on differentials. So, lets say it
> receives the INVITE with 1555, then the INVITE with 155512. It then
> sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> old and rejects it.
>
> 5. The ingress gateway doesn't depend on special messages or a
> completion character, like #, to send an INVITE.
>
> Its very possible I've completely missed something, as I'm hardly an
> ISUP expert. Perhaps there is additional data in SAM such that it MUST
> be sent across, rather than being regenerated. But, the above solution
> seems nice, as it doesn't break anything, works with non-ISUP
> terminating points, doesn't require users to dial a # at the end of the
> digit string, etc.
>
> Comments?
>
> -Jonathan R.
>
> Gonzalo Camarillo wrote:
> >
> > It is nicer to send complete URIs in the "to" header. If the i-gateway
> > sends the INVITE before receiveing all the digits, the "to" header is
> > not complete. It would contain just a few digits of the whole telephone
> > number (this assumes that with just some digits the i-gateway figures
> > out where to send the INVITE).
> >
> > Gonzalo
> >
> > Adam.Roach@ericsson.com wrote:
> > >
> > > >The use of a timer to force enbloc signaling is not acceptable. In the case
> > > >of SIP bridging, subscribers originating calls from the PSTN will not accept
> > > >an artificial post-dial delay (even if it is just a few seconds long).
> > > >Overlap signaling must be supported. It is essential that the overlap
> > > >process takes place within the context of a single session - using the
> > > >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
> > > >calls being delivered to the terminating agent, which would not be
> > > >acceptable.
> > > >
> > > >Why not send an INVITE message when the ISUP IAM is received and then send
> > > >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> > > >agents will expect the INVITE to contain the complete address of the called
> > > >party. This could be handled by including support for overlap in the
> > > >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> > > >the terminator did not support the PSTN extensions, the originator could
> > > >then switch to enbloc and wait for the full address to be collected.
> > >
> > > There are a variety of problems here. The first is determining how
> > > intervening proxies will react. If, for example, a proxy is making
> > > decisions about where to forward messages based on a called party URI,
> > > your suggestion would require it to understand ISUP (for interpretation
> > > of SAM message). It also requires it to have number analysis code and
> > > dialing plan information (potentially for the entire globe).
> > >
> > > The problem gets even stranger for redirect servers, which expect to
> > > be able to send an immediate response to an INVITE -- not sit around
> > > collecting digits.
> > >
> > > Basically, your suggestion forces overlapped dialing deep into each
> > > and every SIP node in the network that is expected to receive calls
> > > originating from the PSTN network.
> > >
> > > I agree that this is a problem that needs to be solved if we intend
> > > to use SIP between two PSTN phones; but we need to find a better
> > > solution than tunelling SAMs all over the place.
> > >
> > > We shouldn't overlook human factors: it could be that customers are
> > > willing to, for example, be trained to press "#" at the end of a
> > > phone number to skip the post-dial-delay.
> > >
> > > --
> > > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> > > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
> >
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
>
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com






From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 12:07:43 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA08027
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 12:07:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CD5F152D5; Thu, 18 Nov 1999 12:05:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 35EA652D6; Thu, 18 Nov 1999 12:05:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A046F52D5
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 12:05:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 12:04:58 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Thu Nov 18 12:03:45 EST 1999
Received: from [212.140.38.153] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11oUvm-0004CV-00; Thu, 18 Nov 1999 17:01:11 +0000
Message-ID: <00f701bf31e6$91727620$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: <tme@21rst-century.com>, "Larry Cox" <lcox@neta.com>
Cc: <Adam.Roach@ericsson.com>, <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Thu, 18 Nov 1999 16:30:04 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I think the problem with having a # at the end of the number is that it
depends on the way the call is routed whether it is necessary.  So one day
the call might be all switched network routed, and no # is needed or
desirable (and an extra # might cause problems), and the next day the
routing might be via IP in which case the # would be required.
Alternatively, calls that go via, say, London, might be IP routed, and calls
via Amsterdam might be switched routed.  And you wouldn't expect someone in
the US to know that calls in the UK now need a # to terminate them.

I don't think you can expect users to have to cope with these sorts of
routing issues.  They would have a right not to be satisfied with such a
service.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Thomas Marshall Eubanks <tme@21rst-century.com>
To: Larry Cox <lcox@neta.com>
Cc: Adam.Roach@ericsson.com <Adam.Roach@ericsson.com>;
sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 18 November 1999 12:13
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt


>Hello;
>
>Larry Cox wrote:
>>
>>
>> You have pointed out quite clearly some of the problems that I have been
>> thinking about for some time. It also appears that a compelling answer to
>> the question will not be easily found.
>>
>> Since there will be a significant interim period during which SIP systems
>> will represent a small percentage of total calls routed, it must be
>> possible to provide seamless inter-operation with the PSTN if SIP is to
be
>> an acceptable call control protocol outside of private networks. This
>> precludes requiring a # digit at the end of the digit string.
>>
>
>I would not be so sure of this. In the US, this might be a problem, as
>our phone numbers have been stable for decades. In the US, a # sign
>would probably not be
>necessary, though, except for overseas calls. In Europe, however, I am
>not sure that such a change
>would be a big problem, as changes like this tend to happen more
>frequently anyway. In Austria,
>for example, within this decade they re-numbered much of the country. I
>don't know the details,
>but EVERY number I use in Austria changed. If they can handle this, they
>can handle a # sign,
>especially as it would not be absolutely required.
>
>My point here is simply that the more "organic" the phone system, the
>more users have to
>put up with instabilities in the system, and so the more they would be
>willing to accept
>additional changes.
>
>Also, won't recently called numbers be cached ? If a number is in the
>cache, neither
>a # sign nor a wait would be necessary. For most people, this would
>remove most of the problem.
>
>> Since knowledge of the required number of routing digits in many parts of
>> the world is local information subject to change at random intervals,
>> waiting for a timeout is the only reliable way to be sure that all digits
>> are collected. This tends to introduce a significant perception of
>> unreliable call switching. It appears that it would be much better to
find
>> an alternative.
>>
>> ======================================
>>
>> Larry Cox
>> Senior Software Engineer
>>
>> Hypercom Network Systems Inc.
>> 2851 West Kathleen Road
>> Phoenix, AZ 85053
>> USA
>>
>> Phone: (602) 504-4657
>> Fax: (602) 504-4711
>> Web: www.hypercom.com
>
>                                         Regards
>                                         Marshall Eubanks
>                                         Multicast Technologies LLC
>                                         tme@21rst-century.com
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 12:30:07 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA17880
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 12:30:06 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 38E3B52DF; Thu, 18 Nov 1999 12:27:33 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8848B52E3; Thu, 18 Nov 1999 12:27:32 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E26E352DF
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 12:27:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 12:25:43 EST 1999
Received: from carbon.btinternet.com ([194.73.73.92]) by dusty; Thu Nov 18 12:24:29 EST 1999
Received: from [212.140.38.15] (helo=tkw)
	by carbon.btinternet.com with smtp (Exim 2.05 #1)
	id 11oVHk-0005re-00; Thu, 18 Nov 1999 17:23:53 +0000
Message-ID: <011401bf31e9$c7ba9ca0$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <Adam.Roach@ericsson.com>, <bartw@nortelnetworks.com>,
        <Gonzalo.Camarillo@ericsson.com>, <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Thu, 18 Nov 1999 17:23:54 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

I like this solution for handling in-complete numbers.  It would be nice if
there was some way to reduce the number of failed attempts though.

Perhaps the 484 response could contain a parameter that specified the
minimum number length for a number of the given pre-fix.

A megaco style digit map could be included, but I feel this is overly
complicated to expect all UAs to understand it.

Perhaps parameters in the 484 could specify the minimum number of digits
needed and optionally a digitmap.

That way a simple device could keep trying digit by digit as in your
example.  An improved device could wait until it had collected the minimum
number of digits, and the mega super special version could interpret the
digit map.

(In this I'm assuming that the digit map is a lot easier to generate -
perhaps using manual or off-line means - than it is to interpret.  If a
digitmap is manually generated, or uses some off-line process to generate
it, I'm assuming that all a proxy has to do with it is copy it to the
appropriate 484 response field.)

The thing I'm not sure about is the handling of the SAMs.  On the face of it
I would prefer these to be transported through the network rather than being
re-generated.  I don't know whether the final INVITE should include IAM plus
all the additional SAMs, or whether it is appropriate to define a SAM that
captures all the changes from the previous SAMs.  Another option is not to
send any SAMs at all, but update the IAM with the SAM information.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@ericsson.com <Adam.Roach@ericsson.com>;
bartw@nortelnetworks.com <bartw@nortelnetworks.com>;
Gonzalo.Camarillo@ericsson.com <Gonzalo.Camarillo@ericsson.com>;
sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 18 November 1999 15:58
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt


>What if, rather than encapsulating subsequent digits into INFO, they are
>added to the request URI in an INVITE? A local proxy for the gateway
>will respond with 484 to all those that don't have enough digits until
>it gets one that does have enough. So:
>
>
>Ingress GW            P             Egress GW
>
>INV tel:1 ------------>
>CSeq: 1
>
>INV tel:12 ----------->
>CSeq: 2
>
>
><---------484 --------
>          CSeq: 1
>
>INV tel:121 --------->
>CSeq: 3
>
><---------484 -------
>          CSeq: 2
>
>INV tel:1212 --------> ---------------------->   IAM 1212---------->
>CSeq: 4
>
><--------------484----
>               CSeq: 3
>
>INV tel:12125---------> ----------------------> SAM 5 ------------->
>CSeq: 5
>
>INV tel:121255 -------> ----------------------> SAM 5 ------------->
>CSeq: 6
>
>INV tel:1212555 ------> -----------------------> SAM 5 ------------>
>CSeq: 7
>
>.......(same thing for digits 1, 2, 1)
>
>INV tel:12125551212----> ---------------------> SAM 2 -------------->
>CSeq: 11                                        <---------ACM-------
>
>                         <------484-----------
>                                CSeq: 5
>                         <------484-----------
>                                CSeq: 6
>                               .......
>                         <------484
>                                CSeq: 10
>                         <---183--------------
>                                CSeq: 11
>
>
>Ok, so let me explain. Proxies do routing just on longest prefix matches
>for INVITE's. So, proxy P can be stateless actually, as it just forwards
>INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
>without waiting for a response to the previous INVITE) every time a new
>digit is received from the PSTN. Once the proxy has enough digits to
>route, it won't send 484 anymore, and forwards it to the egress gateway.
>The egress gateway is smart, and creates an IAM from the first INVITE.
>Subsequent re-INVITEs cause SAMs to be sent, containing the difference
>in the set of digits from the previous INVITE. Once the egress gateway
>receives an ACM (address complete, right?), it responds with a 484 to
>all the INVITEs but the last, and the final INVITE with a 183. Things
>progress normally from there.
>
>Implications:
>
>1. proxies don't have to know anything about INFO or ISUP. They just
>have to know longest prefix match routing for phone numbers. They can
>even be stateless.
>
>2. egress gateways that know ISUP effectively re-generate the SAMs
>
>3. if the egress point is not an ISUP gateway, but a PC terminal or
>something that happens to have a phone number as its name, it will have
>to know enough to reject each INVITE until it gets one with a request
>URI/To field that matches its own number. This, BTW, is normal behavior.
>A UAS rejects an INVITE if the URI is for an address thats not its own.
>
>4. This works *even* if there is misordering of re-INVITEs. The egress
>gateway computes the SAMs based on differentials. So, lets say it
>receives the INVITE with 1555, then the INVITE with 155512. It then
>sends two SAMs, the first with 1, the next with 2. Lets say, then, that
>the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
>old and rejects it.
>
>5. The ingress gateway doesn't depend on special messages or a
>completion character, like #, to send an INVITE.
>
>
>
>
>Its very possible I've completely missed something, as I'm hardly an
>ISUP expert. Perhaps there is additional data in SAM such that it MUST
>be sent across, rather than being regenerated. But, the above solution
>seems nice, as it doesn't break anything, works with non-ISUP
>terminating points, doesn't require users to dial a # at the end of the
>digit string, etc.
>
>Comments?
>
>-Jonathan R.
>
>
>Gonzalo Camarillo wrote:
>>
>> It is nicer to send complete URIs in the "to" header. If the i-gateway
>> sends the INVITE before receiveing all the digits, the "to" header is
>> not complete. It would contain just a few digits of the whole telephone
>> number (this assumes that with just some digits the i-gateway figures
>> out where to send the INVITE).
>>
>> Gonzalo
>>
>> Adam.Roach@ericsson.com wrote:
>> >
>> > >The use of a timer to force enbloc signaling is not acceptable. In the
case
>> > >of SIP bridging, subscribers originating calls from the PSTN will not
accept
>> > >an artificial post-dial delay (even if it is just a few seconds long).
>> > >Overlap signaling must be supported. It is essential that the overlap
>> > >process takes place within the context of a single session - using the
>> > >suggested INVITE/CANCEL/INVITE approach would result in multiple
abortive
>> > >calls being delivered to the terminating agent, which would not be
>> > >acceptable.
>> > >
>> > >Why not send an INVITE message when the ISUP IAM is received and then
send
>> > >subsequent INFO messages for each ISUP SAM? I understand that "pure"
SIP
>> > >agents will expect the INVITE to contain the complete address of the
called
>> > >party. This could be handled by including support for overlap in the
>> > >"Require" extensions
(draft-roach-mmusic-sip-pstn-require-header-00.txt). If
>> > >the terminator did not support the PSTN extensions, the originator
could
>> > >then switch to enbloc and wait for the full address to be collected.
>> >
>> > There are a variety of problems here. The first is determining how
>> > intervening proxies will react. If, for example, a proxy is making
>> > decisions about where to forward messages based on a called party URI,
>> > your suggestion would require it to understand ISUP (for interpretation
>> > of SAM message). It also requires it to have number analysis code and
>> > dialing plan information (potentially for the entire globe).
>> >
>> > The problem gets even stranger for redirect servers, which expect to
>> > be able to send an immediate response to an INVITE -- not sit around
>> > collecting digits.
>> >
>> > Basically, your suggestion forces overlapped dialing deep into each
>> > and every SIP node in the network that is expected to receive calls
>> > originating from the PSTN network.
>> >
>> > I agree that this is a problem that needs to be solved if we intend
>> > to use SIP between two PSTN phones; but we need to find a better
>> > solution than tunelling SAMs all over the place.
>> >
>> > We shouldn't overlook human factors: it could be that customers are
>> > willing to, for example, be trained to press "#" at the end of a
>> > phone number to skip the post-dial-delay.
>> >
>> > --
>> > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS
L-04
>> > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081
USA
>>
>> --
>> Gonzalo Camarillo         Phone :  +358  9 299 33 71
>> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>> Telecom R&D               Fax   :  +358  9 299 31 18
>> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>> Finland
>
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>





From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 12:43:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24543
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 12:43:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6519152C4; Thu, 18 Nov 1999 12:41:16 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C001A52E0; Thu, 18 Nov 1999 12:41:15 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E401552C4
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 12:41:02 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 12:40:20 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Thu Nov 18 12:39:07 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLE00L3IM7O5N@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 18 Nov 1999 17:37:43 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id RAA11541; Thu,
 18 Nov 1999 17:34:59 +0000 (GMT)
Received: from dwillispc4 ([166.35.225.177])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with SMTP id <19991118173455.OSOK16941@[166.35.225.177]>; Thu,
 18 Nov 1999 17:34:55 +0000
Date: Thu, 18 Nov 1999 11:37:26 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
In-reply-to: <199911162306.RAA15238@b04a24.exu.ericsson.se>
To: "Adam B. Roach" <Adam.Roach@ericsson.com>,
        Bart Wensley <bartw@nortelnetworks.com>
Cc: Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Message-id: <000401bf31eb$946b5180$b1e123a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Adam asked:
> We shouldn't overlook human factors: it could be that customers are
> willing to, for example, be trained to press "#" at the end of a
> phone number to skip the post-dial-delay.

We get by here in the states quite nicely without overlap signaling.

As I understand it, MCI systems use either timeout (I believe 2 seconds) or
short-# key to trigger the IAM.

Personally, I've never used the short-# and didn't even know it was an
option until one of the switch guys told me. I just thought 3-4 seconds of
PDD was normal for long-distance calls.

On the other hand, our BT associates were quite fanatic about overlap
signaling.

--
Dean Willis




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 15:48:11 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24297
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 15:48:09 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 16BFE52DD; Thu, 18 Nov 1999 15:45:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7E1A152DE; Thu, 18 Nov 1999 15:45:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 142CD52DD
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 15:45:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 15:44:27 EST 1999
Received: from repulse.cnchost.com ([207.155.248.4]) by dusty; Thu Nov 18 15:43:13 EST 1999
Received: from vovida.com (w178.z216112071.sjc-ca.dsl.cnc.net [216.112.71.178])
	by repulse.cnchost.com
	id PAA04347; Thu, 18 Nov 1999 15:42:57 -0500 (EST)
	[ConcentricHost SMTP Relay 1.8]
Message-ID: <3834742B.B0AA79D7@vovida.com>
Date: Thu, 18 Nov 1999 15:48:27 -0600
From: Sunitha Kumar <skumar@vovida.com>
Organization: Vovida Networks
X-Mailer: Mozilla 4.51 [en] (X11; I; Linux 2.2.5-15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: siplist <sip@lists.research.bell-labs.com>
Subject: Clarifications on attributes in a SDP message
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi:

In an SDP message, it is said that the attributes could be defined for
the entire session and for each media, and that the one in the media
over rides the one in the session.

It is given in the SDP spec that  the property attribute, such as
a=recvonly applies to the session.
So, if this occurs in the media, is this to be ignored ; or treated as
the session attribute ?

Thanks
sunitha





From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 17:17:44 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA07697
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 17:17:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0E5C052BB; Thu, 18 Nov 1999 17:15:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 633A952E0; Thu, 18 Nov 1999 17:15:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5856552BB
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 17:15:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 17:13:29 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Thu Nov 18 17:12:15 EST 1999
Received: from zsc4c002.corpwest.baynetworks.com (actually h0295.s86b1.BayNetworks.COM) 
          by smtprtp1.ntcom.nortel.net; Thu, 18 Nov 1999 17:12:13 -0500
Received: from zsc4c006.corpwest.baynetworks.com ([134.177.2.153]) 
          by zsc4c002.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id XFHM4BZG; Thu, 18 Nov 1999 14:12:11 -0800
Received: from long-pc.corpwest.baynetworks.com. (long-pc.corpwest.baynetworks.com [134.177.35.130]) 
          by zsc4c006.corpwest.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id VA71PPZ0; Thu, 18 Nov 1999 14:12:10 -0800
Message-Id: <3.0.1.32.19991118140823.00bd41b4@zsc4c006.corpwest.baynetworks.com>
X-Sender: long@zsc4c006.corpwest.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0.1 (32)
Date: Thu, 18 Nov 1999 14:08:23 -0800
To: Anil Yelundur <yelundur@asl.dl.nec.com>
From: "Lyndon Ong" <long@nortelnetworks.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <3834262A.DEF95EC4@asl.dl.nec.com>
References: <199911162306.RAA15238@b04a24.exu.ericsson.se> <3832669B.F5D289CC@lmf.ericsson.se> <383421EB.5C188344@dynamicsoft.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

You definitely need multiple SAMs in ISUP, since you may need to send several additional digits in the address - if you could send them all in one SAM, you could equivalently send them in the first IAM.

2 cents: The INVITE-based solution seems most in keeping with SIP procedures, since you are not sending end-to-end information, but information that is affecting the processing of the session.  

Encapsulating the SAM might help reduce the processing needed at the far-end gateway, as opposed to generating new SAMs there, but that might not work in some cases, e.g., if you have different ISUPs at each end, or something other than ISUP at the far end.

Cheers,

L. Ong

At 10:15 AM 11/18/99 -0600, Anil Yelundur wrote:
>Can multiple SAMs be sent? I thought only one SAM is allowed after the IAM...I am not
>very sure.
>Anil Yelundur
>
>Jonathan Rosenberg wrote:
>
>> What if, rather than encapsulating subsequent digits into INFO, they are
>> added to the request URI in an INVITE? A local proxy for the gateway
>> will respond with 484 to all those that don't have enough digits until
>> it gets one that does have enough. So:
>>
>> Ingress GW            P             Egress GW
>>
>> INV tel:1 ------------>
>> CSeq: 1
>>
>> INV tel:12 ----------->
>> CSeq: 2
>>
>> <---------484 --------
>>           CSeq: 1
>>
>> INV tel:121 --------->
>> CSeq: 3
>>
>> <---------484 -------
>>           CSeq: 2
>>
>> INV tel:1212 --------> ---------------------->   IAM 1212---------->
>> CSeq: 4
>>
>> <--------------484----
>>                CSeq: 3
>>
>> INV tel:12125---------> ----------------------> SAM 5 ------------->
>> CSeq: 5
>>
>> INV tel:121255 -------> ----------------------> SAM 5 ------------->
>> CSeq: 6
>>
>> INV tel:1212555 ------> -----------------------> SAM 5 ------------>
>> CSeq: 7
>>
>> .......(same thing for digits 1, 2, 1)
>>
>> INV tel:12125551212----> ---------------------> SAM 2 -------------->
>> CSeq: 11                                        <---------ACM-------
>>
>>                          <------484-----------
>>                                 CSeq: 5
>>                          <------484-----------
>>                                 CSeq: 6
>>                                .......
>>                          <------484
>>                                 CSeq: 10
>>                          <---183--------------
>>                                 CSeq: 11
>>
>> Ok, so let me explain. Proxies do routing just on longest prefix matches
>> for INVITE's. So, proxy P can be stateless actually, as it just forwards
>> INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
>> without waiting for a response to the previous INVITE) every time a new
>> digit is received from the PSTN. Once the proxy has enough digits to
>> route, it won't send 484 anymore, and forwards it to the egress gateway.
>> The egress gateway is smart, and creates an IAM from the first INVITE.
>> Subsequent re-INVITEs cause SAMs to be sent, containing the difference
>> in the set of digits from the previous INVITE. Once the egress gateway
>> receives an ACM (address complete, right?), it responds with a 484 to
>> all the INVITEs but the last, and the final INVITE with a 183. Things
>> progress normally from there.
>>
>> Implications:
>>
>> 1. proxies don't have to know anything about INFO or ISUP. They just
>> have to know longest prefix match routing for phone numbers. They can
>> even be stateless.
>>
>> 2. egress gateways that know ISUP effectively re-generate the SAMs
>>
>> 3. if the egress point is not an ISUP gateway, but a PC terminal or
>> something that happens to have a phone number as its name, it will have
>> to know enough to reject each INVITE until it gets one with a request
>> URI/To field that matches its own number. This, BTW, is normal behavior.
>> A UAS rejects an INVITE if the URI is for an address thats not its own.
>>
>> 4. This works *even* if there is misordering of re-INVITEs. The egress
>> gateway computes the SAMs based on differentials. So, lets say it
>> receives the INVITE with 1555, then the INVITE with 155512. It then
>> sends two SAMs, the first with 1, the next with 2. Lets say, then, that
>> the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
>> old and rejects it.
>>
>> 5. The ingress gateway doesn't depend on special messages or a
>> completion character, like #, to send an INVITE.
>>
>> Its very possible I've completely missed something, as I'm hardly an
>> ISUP expert. Perhaps there is additional data in SAM such that it MUST
>> be sent across, rather than being regenerated. But, the above solution
>> seems nice, as it doesn't break anything, works with non-ISUP
>> terminating points, doesn't require users to dial a # at the end of the
>> digit string, etc.
>>
>> Comments?
>>
>> -Jonathan R.
>>
>> Gonzalo Camarillo wrote:
>> >
>> > It is nicer to send complete URIs in the "to" header. If the i-gateway
>> > sends the INVITE before receiveing all the digits, the "to" header is
>> > not complete. It would contain just a few digits of the whole telephone
>> > number (this assumes that with just some digits the i-gateway figures
>> > out where to send the INVITE).
>> >
>> > Gonzalo
>> >
>> > Adam.Roach@ericsson.com wrote:
>> > >
>> > > >The use of a timer to force enbloc signaling is not acceptable. In the case
>> > > >of SIP bridging, subscribers originating calls from the PSTN will not accept
>> > > >an artificial post-dial delay (even if it is just a few seconds long).
>> > > >Overlap signaling must be supported. It is essential that the overlap
>> > > >process takes place within the context of a single session - using the
>> > > >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
>> > > >calls being delivered to the terminating agent, which would not be
>> > > >acceptable.
>> > > >
>> > > >Why not send an INVITE message when the ISUP IAM is received and then send
>> > > >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
>> > > >agents will expect the INVITE to contain the complete address of the called
>> > > >party. This could be handled by including support for overlap in the
>> > > >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
>> > > >the terminator did not support the PSTN extensions, the originator could
>> > > >then switch to enbloc and wait for the full address to be collected.
>> > >
>> > > There are a variety of problems here. The first is determining how
>> > > intervening proxies will react. If, for example, a proxy is making
>> > > decisions about where to forward messages based on a called party URI,
>> > > your suggestion would require it to understand ISUP (for interpretation
>> > > of SAM message). It also requires it to have number analysis code and
>> > > dialing plan information (potentially for the entire globe).
>> > >
>> > > The problem gets even stranger for redirect servers, which expect to
>> > > be able to send an immediate response to an INVITE -- not sit around
>> > > collecting digits.
>> > >
>> > > Basically, your suggestion forces overlapped dialing deep into each
>> > > and every SIP node in the network that is expected to receive calls
>> > > originating from the PSTN network.
>> > >
>> > > I agree that this is a problem that needs to be solved if we intend
>> > > to use SIP between two PSTN phones; but we need to find a better
>> > > solution than tunelling SAMs all over the place.
>> > >
>> > > We shouldn't overlook human factors: it could be that customers are
>> > > willing to, for example, be trained to press "#" at the end of a
>> > > phone number to skip the post-dial-delay.
>> > >
>> > > --
>> > > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
>> > > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
>> >
>> > --
>> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
>> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>> > Telecom R&D               Fax   :  +358  9 299 31 18
>> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>> > Finland
>>
>> --
>> Jonathan D. Rosenberg                       200 Executive Drive
>> Chief Scientist                             Suite 120
>> dynamicsoft                                 West Orange, NJ 07052
>> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>> http://www.dynamicsoft.com
>
>
>
>
>



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 17:44:15 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19443
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 17:44:14 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D6A6D52E0; Thu, 18 Nov 1999 17:41:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 319D552E2; Thu, 18 Nov 1999 17:41:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 33B1952E0
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 17:41:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 17:39:08 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Thu Nov 18 17:37:37 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FLF0080B084FC@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 18 Nov 1999 22:38:33 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id WAA30210; Thu,
 18 Nov 1999 22:36:58 +0000 (GMT)
Received: from dwillispc4 ([166.35.150.147])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991118223833.SWWA13986@dwillispc4>; Thu,
 18 Nov 1999 22:38:33 +0000
Date: Thu, 18 Nov 1999 16:40:54 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: User signaling -- was DTMF signaling between media gateways - ouch!
In-reply-to: <C51ED84B6F47D211917A0000F8BCBD11022E9EE2@zcard00g.ca.nortel.com>
To: Tom-PT Taylor <taylor@nortelnetworks.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip <sip@lists.research.bell-labs.com>
Message-id: <000501bf3215$f91ea3a0$939623a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


> Dean proposed:
>> User A completes all calls through proxy P.
>> P provides additional services, along the lines of a "personal
assistant".
>> One of these services is a "voice recorder" ala President Nixon.
>> A uses an analog phone connected to a generic UA gateway.
>> A calls party B, leaving P in the proxy path.
>> A decides B is saying something interesting and wants B recorded.
>> A presses the "R" key.
>> P uses call control to add a voice recorder and recording announcement
tone
>> generator and conference bridge to the call.
>> P never saw a single byte of media.

TomT asked:
> Since P is a proxy, how does it know that it should consume the "R" and
not pass it on?  Seems to me your generic UA gateway has to understand that
input.

P is a SIP proxy with application logic, like Calista (www.generalmagic.com)
is a PSTN proxy with application logic. We can't put the logic into a
generic gateway, becase IT'S GENERIC!

What I'm trying to say is that by simply configuring the gatway to route
calls through P, the user can receive the benefits of the applications logic
at P with some measue of independence from the features and user interface
of the user's phone and gateway. This is the key to building third-party
application capability for stupid phones into the SIP environment. Kind of
like why your browser merely displays HTML and executes a few scripting
primitives instead of containing an entire stock trading application logic.

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 17:47:02 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA20644
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 17:47:01 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id AD33652E1; Thu, 18 Nov 1999 17:43:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E0C8B52E2; Thu, 18 Nov 1999 17:43:47 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9C54352E1
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 17:43:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 17:41:25 EST 1999
Received: from gwa.ericsson.com ([198.215.127.2]) by dusty; Thu Nov 18 17:40:11 EST 1999
Received: from mr4.exu.ericsson.se (mr4a.ericsson.com [198.215.127.160])
	by gwa.ericsson.com (8.9.3/8.9.3) with ESMTP id QAA21663;
	Thu, 18 Nov 1999 16:40:42 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr4.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id QAA15797;
	Thu, 18 Nov 1999 16:40:41 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA13943; Thu, 18 Nov 1999 16:40:25 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id QAA20502;
	Thu, 18 Nov 1999 16:40:24 -0600 (CST)
Message-Id: <199911182240.QAA20502@b04a24.exu.ericsson.se>
Subject: Re: Detecting DTMF tones on a SIP voice session
To: ggirard@mediaone.net
Date: Thu, 18 Nov 1999 16:40:23 -0600 (CST)
Cc: jdrosen@dynamicsoft.com, kosowski@iperia.com, jmm@iperia.com,
        cberluti@iperia.com, rconnaughton@iperia.com, dcrow@iperia.com,
        pladd@iperia.com, sip@lists.research.bell-labs.com,
        schulzrinne@cs.columbia.edu
In-Reply-To: <00dd01bf2208$aa4f9c10$122cda18@goliath.ne.mediaone.net> from "Gregory D. Girard" at Oct 29, 99 08:25:19 am
From: "Adam B. Roach" <Adam.Roach@Ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>In other words, I don't want to be required to move RTP data from the Media
>Gateway to my application server (RTP interface) or some other media server,
>and then have to pipe it through DSP hardware just to know the user pressed
>"5".  If the RTP stream is used as the DTMF source, then the benefits of an
>IP interface are largely lost due to the need for additional DSP hardware on
>my (media server) endpoint.

The AVT tones draft does not require the use of any DSP hardware to
interpret the RTP. (Sorry if this has already been pointed out; I'm
still catching up).

--
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 17:49:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21687
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 17:49:29 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CC5D752E2; Thu, 18 Nov 1999 17:47:31 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3A57452E3; Thu, 18 Nov 1999 17:47:31 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9481152E2
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 17:47:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 17:46:56 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Thu Nov 18 17:45:43 EST 1999
Received: from zrchb200.us.nortel.com (actually zrchb200) 
          by smtprch1.nortel.com; Thu, 18 Nov 1999 16:46:48 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <XA9945ZS>; Thu, 18 Nov 1999 16:46:43 -0600
Message-ID: <BEF0F85DF631D311B1200000F80932F925656B@crchy28c.us.nortel.com>
From: "Paul Defrain" <defrain@nortelnetworks.com>
To: "'Sunitha Kumar'" <skumar@vovida.com>,
        siplist <sip@lists.research.bell-labs.com>
Subject: RE: Clarifications on attributes in a SDP message
Date: Thu, 18 Nov 1999 16:46:41 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF3216.C8E35D1A"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF3216.C8E35D1A
Content-Type: text/plain

Without going back to the spec, my take on the matter was that any attribute
specification within a media session pertains only to that particular
session. Anything set before the first media session pertains to all
sessions unless otherwise overriden within a media session.

PDD

> -----Original Message-----
> From:	Sunitha Kumar [SMTP:skumar@vovida.com]
> Sent:	Thursday, November 18, 1999 3:48 PM
> To:	siplist
> Subject:	Clarifications on attributes in a SDP message
> 
> Hi:
> 
> In an SDP message, it is said that the attributes could be defined for
> the entire session and for each media, and that the one in the media
> over rides the one in the session.
> 
> It is given in the SDP spec that  the property attribute, such as
> a=recvonly applies to the session.
> So, if this occurs in the media, is this to be ignored ; or treated as
> the session attribute ?
> 
> Thanks
> sunitha
> 
> 
> 

------_=_NextPart_001_01BF3216.C8E35D1A
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2651.14">
<TITLE>RE: Clarifications on attributes in a SDP message</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Without going back =
to the spec, my take on the matter was that any attribute specification =
within a media session pertains only to that particular session. =
Anything set before the first media session pertains to all sessions =
unless otherwise overriden within a media session.</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">PDD</FONT>
</P>

<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Sunitha Kumar [SMTP:skumar@vovida.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Thursday, November 18, 1999 3:48 PM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">siplist</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">Clarifications on attributes in a =
SDP message</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi:</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">In an SDP message, it is said that the =
attributes could be defined for</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the entire session and for each =
media, and that the one in the media</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">over rides the one in the =
session.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">It is given in the SDP spec that&nbsp; =
the property attribute, such as</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">a=3Drecvonly applies to the =
session.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">So, if this occurs in the media, is =
this to be ignored ; or treated as</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the session attribute ?</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Thanks</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">sunitha</FONT>
</P>
<BR>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01BF3216.C8E35D1A--



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 17:53:22 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA23556
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 17:53:21 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3C8FE52DE; Thu, 18 Nov 1999 17:51:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 94AF152E4; Thu, 18 Nov 1999 17:51:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6CB1052DE
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 17:51:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 17:49:37 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Thu Nov 18 17:48:20 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLF0001Y09ASY@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 18 Nov 1999 22:40:24 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id WAA00760 for
 <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 22:33:41 +0000 (GMT)
Received: from dwillispc4 ([166.35.150.147])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991118223831.SWVY13986@dwillispc4> for
 <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 22:38:31 +0000
Date: Thu, 18 Nov 1999 16:40:51 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: User signaling -- was  DTMF signaling between media gateways -
 ouch!
In-reply-to: <14387.17167.284935.181579@thomasm-u1.cisco.com>
To: sip@lists.research.bell-labs.com
Message-id: <000401bf3215$f78bcea0$939623a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Michal Thomas pondered:
> Dean Willis writes:
>  > Consider also that the end goal is NOT to ship DTMF, but to
> ship user input
>  > notifications. Today, a user input notification is DTMF
> because that's what
>  > the phones have, but it isn't going to stay that way.
>
>    Right, but what that says is that the SIP
>    is going to either have local intelligence
>    to understand what the keys mean and initiate
>    action based on them, or it will delegate
>    handling of the keys and/or display to a
>    foreign application which may drive them
>    with something completely different (eg,
>    http/html or telnet/ansi).

Not that SIP has to understand, but the service node implementing a service
has to have logic for the service . . .


>
>  > User A completes all calls through proxy P.
>  >
>  > P provides additional services, along the lines of a "personal
> assistant".
>  > One of these services is a "voice recorder" ala President Nixon.
>  >
>  > A uses an analog phone connected to a generic UA gateway.
>  > A calls party B, leaving P in the proxy path.
>  > A decides B is saying something interesting and wants B recorded.
>  > A presses the "R" key.
>  > P uses call control to add a voice recorder and recording
> announcement tone
>  > generator and conference bridge to the call.
>  > P never saw a single byte of media.
>
>    I don't understand what this has to do with
>    DTMF delivery.
>
>    The "R" button sounds like it's locally
>    intercepted by "A" which causes it to do
>    some signaling to P to start a record
>    function. This doesn't seem much different
>    than local digit collection for the telephone
>    number in the first place (putting aside that
>    a naive implementation like this might conflict
>    with an IVR system's digit collection if "B"
>    were an IVR).

A can't intercept anything. A is a user at an analog phone.
A's gateway decodes the analog DTMF for key 7 (P,R,S key) and sends an
INFO(dtmf-7) to P.
OR, the gateway encodes the 7 in RTP and forks the RTP to P. How it knows to
fork to P remains to be seen . . . something we solve with the proxy path in
SIP.
P has service logic that says "If input is dtmf-7, then execute record."

P might also have service logic that says "if input is string "record" then
execute record suroutine" to support native SIP phones that can send richer
INFO messages.

>
>    I'm having a pretty hard time understanding
>    why if a SIP-anything is interested in DTMF
>    digits, it cannot set itself up as being the
>    recipient of NSE's over RTP (or some other
>    means). Even if the bearer is normally over
>    ATM or FR or something else, that doesn't
>    preclude that an IVR SIP cannot receive DTMF over
>    whatever choice of media bearer it needs to
>    see it over (eg, RTP). The source SIP just needs
>    to support more than one media bearer network
>    type is all which is signaled in the SDP
>    announcement. And in fact, those could be split
>    or even "three way" such that the IVR got the
>    NSE's, and the normal bearer got it's own
>    version of NSE's (or not).

Because the INPUT IS NOT NECESARRILY A DTMF DIGIT. We use DTMF for some
applications because that's all analog phones can produce. How would you
encode "exec rm voicemail.au" in an RTP audio stream? Require speech
recognition at every end point?

The alternative is NOT to use RTP to the control plane, but to introduce
some other sort of input mapping protocol that turns an input into a
stimulus. The question is whether that stimulus can be transported as a SIP
INFO, or whether some other approach is needed. Other potential approaches
might include RMI, HTTP, RPC, DCOM, SNMP, RSQL, 3270 LU-2, and so on.A
second question is whether the SIP signaling path represents a useful
service locator, or some external approach like JINI is more useful.

If we use a SIP INFO approach, we can choose whether the DTMF detecting
device transmits out as SIP, RTP, or both. We can choose whether the
recipient of that noification transforms it into some other format before
passing it elsewhere. And you know what? It's not a protocol issue. The
protocols allow all such usages. It's an implementation and application
design issue.

I happen to believe that the open-ended nature of the SIP INFO approach I
have discussed provides for some very powerful and easily implemented
applications. SIP provides arbitrary application messaging support with INFO
and MIME bodies. SIP provides automatic scoping to the nodes contained in
the signaling path, with an opt-out mechanism for nodes that don't want to
play, transparaency for nodes that don't care, and negotiation mechanisms
for nodes that think they might want to care. Feel free to write 3270
applications if you want, but . . .

>    Am I missing something here? Things seem quite
>    a bit more flexible than some people are giving
>    credit for.

I believe you are, but feel assured that you're not the only one. I feel
like I'm preaching in the wilderness here, so I'm going to shut up now.
Besides, the patent lawyers just yelled at me for leaking too much IPR.

From a WG perspective, we have designed a protocol that can be used in many
ways. Given that, can we let the applications implementors explore those
alternatives and let the market decide which approaches are useful and which
aren't?

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 18:15:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA03146
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 18:15:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 28AC652E4; Thu, 18 Nov 1999 18:13:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8D81452E6; Thu, 18 Nov 1999 18:13:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8598252E4
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 18:13:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 18:12:41 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Thu Nov 18 18:11:27 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpxt15770;
	Thu, 18 Nov 1999 23:17:21 GMT
Received: from dynamicsoft.com (1Cust121.tnt2.freehold.nj.da.uu.net [63.17.114.121])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id SAA19377;
	Thu, 18 Nov 1999 18:12:36 -0500 (EST)
Message-ID: <38348899.BA4DBC56@dynamicsoft.com>
Date: Thu, 18 Nov 1999 18:15:37 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lyndon Ong <long@nortelnetworks.com>
Cc: Anil Yelundur <yelundur@asl.dl.nec.com>, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <199911162306.RAA15238@b04a24.exu.ericsson.se> <3832669B.F5D289CC@lmf.ericsson.se> <383421EB.5C188344@dynamicsoft.com> <3.0.1.32.19991118140823.00bd41b4@zsc4c006.corpwest.baynetworks.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Lyndon Ong wrote:
> 
> Encapsulating the SAM might help reduce the processing needed at the far-end gateway, as opposed to generating new SAMs there, but that might not work in some cases, e.g., if you have different ISUPs at each end, or something other than ISUP at the far end.

There is also the issue that the INVITEs may arrive out of order, and in
that case the SAMs that get sent by the egress gateway don't match whats
carried in the INVITEs.

If the ISUP messages don't contain any additional useful information
beyond whats in SIP itself, I'd much prefer not to have them carried in
SIP.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 18:21:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA06040
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 18:21:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id DF08052E6; Thu, 18 Nov 1999 18:19:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 65D3E52E8; Thu, 18 Nov 1999 18:19:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2D4A552E6
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 18:19:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 18:17:44 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Thu Nov 18 18:16:31 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38417)
 with ESMTP id <0FLF0031S1MYIY@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Thu, 18 Nov 1999 23:08:58 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id XAA09441 for
 <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 23:07:12 +0000 (GMT)
Received: from dwillispc4 ([166.35.150.147])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991118230848.TCVI13986@dwillispc4> for
 <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 23:08:48 +0000
Date: Thu, 18 Nov 1999 17:11:06 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: Overlap signaling to INVITE (Was RE: Comments on
 draft-camarillo-mmusic-sip-isup-bcp-00.txt)
In-reply-to: <383421EB.5C188344@dynamicsoft.com>
To: sip@lists.research.bell-labs.com
Message-id: <000801bf321a$314f91e0$939623a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Jonthan proposed a handling for overlap:
> What if, rather than encapsulating subsequent digits into INFO, they are
> added to the request URI in an INVITE? A local proxy for the gateway
> will respond with 484 to all those that don't have enough digits until
> it gets one that does have enough. So:

Could be some fascinating interactions with TRIP and ENUM using this
approach.

One would have to do ENUM lookups and potentially TRIP path checks on each
invite (each digit) at each hop . . . it could get weird.

Maybe the resolution looks something more like

Receive IAM
lookup digits in ENUM
if found send INVITE //It's an IP phone number
else
	look for route in TRIP
	if found send INVITE  // It's a GSTN phone number
	else
		while not done and not timer-expired
			receive SAM
			lookup digits in ENUM
			if found send INVITE, set done
			else
				look for route in TRIP
				if found send INVITE, set done
			end else
		end while
	end else
	send 484 // don't know how to route, timer expired
end else

Of course, this sort of depends on length-constrained prefix-matching in
TRIP and ENUM . . . you wouldn't want to match on a partial prefix and
dispatch before receiving all of the digits.

--
Dean





From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 19:01:41 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA25240
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 19:01:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9A09452E3; Thu, 18 Nov 1999 18:59:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1215552E8; Thu, 18 Nov 1999 18:59:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 363E752E3
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 18:59:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 18:58:22 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Thu Nov 18 18:56:40 EST 1999
Received: from mr4.exu.ericsson.se (mr4u.ericy.com [208.238.116.99])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id RAA13171;
	Thu, 18 Nov 1999 17:56:26 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr4.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id RAA27185;
	Thu, 18 Nov 1999 17:56:26 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id RAA17483; Thu, 18 Nov 1999 17:56:24 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id RAA21583;
	Thu, 18 Nov 1999 17:56:22 -0600 (CST)
Message-Id: <199911182356.RAA21583@b04a24.exu.ericsson.se>
Subject: Re: DTMF signaling between media gateways - ouch!
To: taylor@nortelnetworks.com (Tom-PT Taylor)
Date: Thu, 18 Nov 1999 17:56:22 -0600 (CST)
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <C51ED84B6F47D211917A0000F8BCBD1102298BAE@zcard00g.ca.nortel.com> from "Tom-PT Taylor" at Nov 13, 99 06:36:09 pm
From: "Adam B. Roach" <Adam.Roach@Ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>Somewhat to my surprise, it looks like RTP is probably always the best
>answer.  There are two possibilities that come to mind that might contradict
>that conclusion:
...
>(b) The receiver of the digits is one end of the SIP session and neither
>sends nor receives media.  In this case it ends up having to support a
>second protocol (RTP) where otherwise it could just use SIP.  In addition,
>there could be coordination problems between SIP messaging and the
>independently-received RTP packets.

But this makes no sense. How would a user have any idea what digits 
to enter, or even that an action is expected on his part, if there 
are no prompts?

If there *are* prompts, the node described above must have some sort
of controlling relationship with a media server. The communication
of DTMF can be done from the media server to the controlling box
using whatever protocol they already share.

-- 
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 19:05:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA26997
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 19:05:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0696852E8; Thu, 18 Nov 1999 19:01:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2A20052EA; Thu, 18 Nov 1999 19:01:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CDD3452E8
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 19:01:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 19:00:25 EST 1999
Received: from repulse.cnchost.com ([207.155.248.4]) by dusty; Thu Nov 18 18:59:12 EST 1999
Received: from vovida.com (w178.z216112071.sjc-ca.dsl.cnc.net [216.112.71.178])
	by repulse.cnchost.com
	id TAA00990; Thu, 18 Nov 1999 19:00:13 -0500 (EST)
	[ConcentricHost SMTP Relay 1.8]
Message-ID: <3834A267.28BB28D8@vovida.com>
Date: Thu, 18 Nov 1999 19:05:44 -0600
From: Sunitha Kumar <skumar@vovida.com>
Organization: Vovida Networks
X-Mailer: Mozilla 4.51 [en] (X11; I; Linux 2.2.5-15 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Paul Defrain <defrain@nortelnetworks.com>
Cc: siplist <sip@lists.research.bell-labs.com>
Subject: Re: Clarifications on attributes in a SDP message
References: <BEF0F85DF631D311B1200000F80932F925656B@crchy28c.us.nortel.com>
Content-Type: multipart/alternative;
 boundary="------------18F4D5880F7071E5B1FD780D"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


--------------18F4D5880F7071E5B1FD780D
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Thanks for the reply :)
It is fine that the attrib after the m field belongs to the media, and
not the session. However, I am confused with the statement, in the SDP
spec (page 18) which says about the property attribute being that of the
session. Now, if I get a property attribute after the m field, does this
belong to the session or should this be ignored?

Thanks again.
sunitha


Paul Defrain wrote:

>
>
> Without going back to the spec, my take on the matter was that any
> attribute specification within a media session pertains only to that
> particular session. Anything set before the first media session
> pertains to all sessions unless otherwise overriden within a media
> session.
>
> PDD
>
> -----Original Message-----
> From:   Sunitha Kumar [SMTP:skumar@vovida.com]
> Sent:   Thursday, November 18, 1999 3:48 PM
> To:     siplist
> Subject:        Clarifications on attributes in a SDP message
>
> Hi:
>
> In an SDP message, it is said that the attributes could be defined for
>
> the entire session and for each media, and that the one in the media
> over rides the one in the session.
>
> It is given in the SDP spec that  the property attribute, such as
> a=recvonly applies to the session.
> So, if this occurs in the media, is this to be ignored ; or treated as
>
> the session attribute ?
>
> Thanks
> sunitha
>

--------------18F4D5880F7071E5B1FD780D
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Thanks for the reply :)
<br>It is fine that the attrib after the m field belongs to the media,
and not the session. However, I am confused with the statement, in the
SDP spec (page 18) which says about the property attribute being that of
the session. Now, if I get a property attribute after the m field, does
this belong to the session or should this be ignored?
<p>Thanks again.
<br>sunitha
<br>&nbsp;
<p>Paul Defrain wrote:
<blockquote TYPE=CITE>&nbsp;
<p><font face="Arial"><font color="#0000FF"><font size=-1>Without going
back to the spec, my take on the matter was that any attribute specification
within a media session pertains only to that particular session. Anything
set before the first media session pertains to all sessions unless otherwise
overriden within a media session.</font></font></font>
<p><font face="Arial"><font color="#0000FF"><font size=-1>PDD</font></font></font>
<p><font face="Arial"><font size=-2>-----Original Message-----</font></font>
<br><b><font face="Arial"><font size=-2>From:&nbsp;&nbsp;</font></font></b>
<font face="Arial"><font size=-2>Sunitha Kumar [SMTP:skumar@vovida.com]</font></font>
<br><b><font face="Arial"><font size=-2>Sent:&nbsp;&nbsp;</font></font></b>
<font face="Arial"><font size=-2>Thursday, November 18, 1999 3:48 PM</font></font>
<br><b><font face="Arial"><font size=-2>To:&nbsp;&nbsp;&nbsp;&nbsp;</font></font></b>
<font face="Arial"><font size=-2>siplist</font></font>
<br><b><font face="Arial"><font size=-2>Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font></font></b>
<font face="Arial"><font size=-2>Clarifications on attributes in a SDP
message</font></font>
<p><font face="Arial"><font size=-1>Hi:</font></font>
<p><font face="Arial"><font size=-1>In an SDP message, it is said that
the attributes could be defined for</font></font>
<br><font face="Arial"><font size=-1>the entire session and for each media,
and that the one in the media</font></font>
<br><font face="Arial"><font size=-1>over rides the one in the session.</font></font>
<p><font face="Arial"><font size=-1>It is given in the SDP spec that&nbsp;
the property attribute, such as</font></font>
<br><font face="Arial"><font size=-1>a=recvonly applies to the session.</font></font>
<br><font face="Arial"><font size=-1>So, if this occurs in the media, is
this to be ignored ; or treated as</font></font>
<br><font face="Arial"><font size=-1>the session attribute ?</font></font>
<p><font face="Arial"><font size=-1>Thanks</font></font>
<br><font face="Arial"><font size=-1>sunitha</font></font>
<br>&nbsp;</blockquote>
</html>

--------------18F4D5880F7071E5B1FD780D--




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 19:08:31 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA28224
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 19:08:30 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1F69C52EA; Thu, 18 Nov 1999 19:05:27 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 64D6252EB; Thu, 18 Nov 1999 19:05:26 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 093EE52EA
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 19:05:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 19:04:52 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Thu Nov 18 19:03:39 EST 1999
Received: from mr3.exu.ericsson.se (mr3u.ericy.com [208.238.116.100])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id SAA13687;
	Thu, 18 Nov 1999 18:03:13 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id SAA20525;
	Thu, 18 Nov 1999 18:03:13 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id SAA17744; Thu, 18 Nov 1999 18:03:12 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id SAA21690;
	Thu, 18 Nov 1999 18:03:11 -0600 (CST)
Message-Id: <199911190003.SAA21690@b04a24.exu.ericsson.se>
Subject: Re: DTMF signaling between media gateways - ouch!
To: pete@tech-know-ware.com (Pete Cordell)
Date: Thu, 18 Nov 1999 18:03:11 -0600 (CST)
Cc: jdrosen@dynamicsoft.com, sip@lists.research.bell-labs.com
In-Reply-To: <000c01bf3039$b235c280$0200000a@tkw> from "Pete Cordell" at Nov 16, 99 01:48:19 pm
From: "Adam B. Roach" <Adam.Roach@Ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>Atomic things like transfer can probably easily get away with being
>functionally signalled.  However, I think transfers will occur as a result
>of DTMF signalling, even if only indirectly, such as in a call center.  I
>really don't want to down load a patch (that may be phone specific) for each
>call center I contact.

You seem to be missing the bigger picture here:

Call transfer is well defined within the call control draft.
It won't be done via any sort of DTMF signalling; it'll be
built in to the end devices. No patching involved...

-- 
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 19:21:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03783
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 19:21:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2A2B752EB; Thu, 18 Nov 1999 19:19:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A737252E0; Thu, 18 Nov 1999 19:19:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7F88252E0
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 19:19:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 19:17:35 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Thu Nov 18 19:16:22 EST 1999
Received: from mr4.exu.ericsson.se (mr4u.ericy.com [208.238.116.99])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id SAA14764
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 18:17:10 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr4.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id SAA29496
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 18:17:10 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id SAA18162; Thu, 18 Nov 1999 18:17:08 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id SAA21726;
	Thu, 18 Nov 1999 18:17:07 -0600 (CST)
Message-Id: <199911190017.SAA21726@b04a24.exu.ericsson.se>
Subject: Re: 183, BCP & forking
To: Gonzalo.Camarillo@lmf.ericsson.se (Gonzalo Camarillo)
Date: Thu, 18 Nov 1999 18:17:07 -0600 (CST)
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <38316F87.C7EDFA31@lmf.ericsson.se> from "Gonzalo Camarillo" at Nov 16, 99 04:51:51 pm
From: "Adam B. Roach" <Adam.Roach@Ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
>forks it and sends it to several locations (parallel search) where B can
>be reached. We receive one 183 reponse and we begin hearing a ringback
>tone or an announce... in the meantime, we receive a 200 from another
>location... what should we do??
>
>Because it is not a good idea to CANCEL the rest of the branches when I
>receive a 183...

For starters, there is a major flaw, in my opinion, in using 183 and
then sending a *ringtone*, as you suggest. That would be a *180*
followed by a ringtone, or a 183 followed by some tone or announcment
that does not indicate "ringing," "your call is being forwarded," or
"your call has been queued" in any way.

For your example, I'd say it's pretty obvious that you need to CANCEL
the branch that sent a 183 (and be prepared to BYE it), and switch the
media to the 200.

In general, though, you're right; forking poses an extreme problem
for PSTN interworking, for two reasons: ISUP message consistency 
(when tunneling) and media stream selection.

I'm not going to approach the first one right now. For the second
one, I've toyed around with the concept of defining an ordering for the
1xx status codes; e.g.:

- If you receive a 180 with a media session, the proxy will forward it
  unless it's already passed a 1xx with a media session.

- If you receive a 181-183 with a media session, the proxy will forward it
  unless it's already passed a 181-183 with a media session.

In this way, a user may hear ringtone, followed by an announcement
(from a different branch) that the call has been queued; but never
the other way around (since the ringtone could interrupt a word).

Opinion from the list: would an attempt to codify such behavior for
forking proxies involved in PSTN calls seem useful, or should we 
just come up with a mechanism to prohibit forking for these types of calls?

(***NOTE*** these are just examples, not actually proposed modifications;
 at least, not yet. I don't want to start a debate on the actual
 "rules" I've stated above as much as a discussion on whether this sort
 of work would be useful).

--
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 19:35:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA09578
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 19:35:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 79A3052E5; Thu, 18 Nov 1999 19:33:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EBEDE52EC; Thu, 18 Nov 1999 19:33:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3BBD152E5
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 19:33:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 18 19:32:57 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Thu Nov 18 19:31:44 EST 1999
Received: from mr3.exu.ericsson.se (mr3u.ericy.com [208.238.116.100])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id SAA16008;
	Thu, 18 Nov 1999 18:32:39 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id SAA25313;
	Thu, 18 Nov 1999 18:32:39 -0600 (CST)
Received: from b04a24.exu.ericsson.se (b04a24 [138.85.60.124]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id SAA18934; Thu, 18 Nov 1999 18:32:37 -0600 (CST)
Received: (from exuadam@localhost)
	by b04a24.exu.ericsson.se (8.9.1/8.9.1) id SAA21975;
	Thu, 18 Nov 1999 18:32:36 -0600 (CST)
Message-Id: <199911190032.SAA21975@b04a24.exu.ericsson.se>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
To: lcox@neta.com (Larry Cox)
Date: Thu, 18 Nov 1999 18:32:36 -0600 (CST)
Cc: Adam.Roach@ericsson.com, sip@lists.research.bell-labs.com
In-Reply-To: <9911179428.AA942897852@smtp.hypercom.com> from "Larry Cox" at Nov 17, 99 09:06:40 pm
From: "Adam B. Roach" <Adam.Roach@ericsson.com>
X-Mailer: ELM [version 2.4 PL24]
MIME-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>Since there will be a significant interim period during which SIP systems
>will represent a small percentage of total calls routed, it must be
>possible to provide seamless inter-operation with the PSTN if SIP is to be
>an acceptable call control protocol outside of private networks. This
>precludes requiring a # digit at the end of the digit string.

I must have been unclear:

I was not proposing the *requirement* of a '#' to signal the end of a
number; merely that it could be used to bypass a timeout. Customers
can be informed that, if they want to minimize post-dial-delay, they
can hit '#'. Customers who don't care or haven't been informed can
wait for the timeout. This is, I know, massively sub-optimal. But
it was what I was suggesting (merely for being the least of all
evils considered so far, in my opinion).

--
Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 20:41:53 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA09882
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 20:41:52 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BB4DE52E1; Thu, 18 Nov 1999 20:39:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 18D7D52E2; Thu, 18 Nov 1999 20:39:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1916E52E1
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 20:39:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 20:37:33 EST 1999
Received: from mail.pingtel.com ([209.6.118.245]) by dusty; Thu Nov 18 20:36:20 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id UAA07700;
	Thu, 18 Nov 1999 20:53:10 -0500
Message-ID: <3834AA3D.4EC70751@pingtel.com>
Date: Thu, 18 Nov 1999 20:39:09 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <011401bf31e9$c7ba9ca0$0200000a@tkw>
Content-Type: multipart/mixed;
 boundary="------------E5D6DFEA7012079AE2AD1E34"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.
--------------E5D6DFEA7012079AE2AD1E34
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

This is a bit of a diversion, at least in application of this technique as this
is a perspective of a call initiated on a IP node.  We have been thinking of
using a simular approach to solving the digit collection issue for SIP user
agents without using time outs, send buttons or requiring the user agent to have
a huge dial plan.

1) a user agent registers with its favorite proxy(s) and in the response gets a
high level dial plan/patterns which correlates patterns with server URLs.  For
example:
911                 -> sip:emergency@local-gateway.mycompany.com
9938xxxx        -> sip:<pattern>@local-gateway.mycompany.com
4xxx               -> sip:<pattern>@new-york.mycompany.com
5xxx               -> sip:<pattern>@dallas.mycompany.com
91xxxxxxxxxx -> sip:<pattern>@us-carrier.com
9110x             -> sip:<pattern>@international-carrier.com

2) The user dials digits until the SIP UA matches a pattern and sends an INVITE.

3) At this point the behavior is as Jonathan and Pete suggest:
  The proxy with secondary dialplan knowledge accepts the request as a complete
address or sends back a 484, optionally with second tier pattern(s) and
corresponding server URLs.

It would be great if we can define a framework that solves this problem from
either direction.
Cheers,
Dan



Pete Cordell wrote:

> Jonathan,
>
> I like this solution for handling in-complete numbers.  It would be nice if
> there was some way to reduce the number of failed attempts though.
>
> Perhaps the 484 response could contain a parameter that specified the
> minimum number length for a number of the given pre-fix.
>
> A megaco style digit map could be included, but I feel this is overly
> complicated to expect all UAs to understand it.
>
> Perhaps parameters in the 484 could specify the minimum number of digits
> needed and optionally a digitmap.
>
> That way a simple device could keep trying digit by digit as in your
> example.  An improved device could wait until it had collected the minimum
> number of digits, and the mega super special version could interpret the
> digit map.
>
> (In this I'm assuming that the digit map is a lot easier to generate -
> perhaps using manual or off-line means - than it is to interpret.  If a
> digitmap is manually generated, or uses some off-line process to generate
> it, I'm assuming that all a proxy has to do with it is copy it to the
> appropriate 484 response field.)
>
> The thing I'm not sure about is the handling of the SAMs.  On the face of it
> I would prefer these to be transported through the network rather than being
> re-generated.  I don't know whether the final INVITE should include IAM plus
> all the additional SAMs, or whether it is appropriate to define a SAM that
> captures all the changes from the previous SAMs.  Another option is not to
> send any SAMs at all, but update the IAM with the SAM information.
>
> Pete
>
> =============================================
> Pete Cordell
> pete@tech-know-ware.com
> =============================================
>
> -----Original Message-----
> From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
> To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
> Cc: Adam.Roach@ericsson.com <Adam.Roach@ericsson.com>;
> bartw@nortelnetworks.com <bartw@nortelnetworks.com>;
> Gonzalo.Camarillo@ericsson.com <Gonzalo.Camarillo@ericsson.com>;
> sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
> Date: 18 November 1999 15:58
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
>
> >What if, rather than encapsulating subsequent digits into INFO, they are
> >added to the request URI in an INVITE? A local proxy for the gateway
> >will respond with 484 to all those that don't have enough digits until
> >it gets one that does have enough. So:
> >
> >
> >Ingress GW            P             Egress GW
> >
> >INV tel:1 ------------>
> >CSeq: 1
> >
> >INV tel:12 ----------->
> >CSeq: 2
> >
> >
> ><---------484 --------
> >          CSeq: 1
> >
> >INV tel:121 --------->
> >CSeq: 3
> >
> ><---------484 -------
> >          CSeq: 2
> >
> >INV tel:1212 --------> ---------------------->   IAM 1212---------->
> >CSeq: 4
> >
> ><--------------484----
> >               CSeq: 3
> >
> >INV tel:12125---------> ----------------------> SAM 5 ------------->
> >CSeq: 5
> >
> >INV tel:121255 -------> ----------------------> SAM 5 ------------->
> >CSeq: 6
> >
> >INV tel:1212555 ------> -----------------------> SAM 5 ------------>
> >CSeq: 7
> >
> >.......(same thing for digits 1, 2, 1)
> >
> >INV tel:12125551212----> ---------------------> SAM 2 -------------->
> >CSeq: 11                                        <---------ACM-------
> >
> >                         <------484-----------
> >                                CSeq: 5
> >                         <------484-----------
> >                                CSeq: 6
> >                               .......
> >                         <------484
> >                                CSeq: 10
> >                         <---183--------------
> >                                CSeq: 11
> >
> >
> >Ok, so let me explain. Proxies do routing just on longest prefix matches
> >for INVITE's. So, proxy P can be stateless actually, as it just forwards
> >INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
> >without waiting for a response to the previous INVITE) every time a new
> >digit is received from the PSTN. Once the proxy has enough digits to
> >route, it won't send 484 anymore, and forwards it to the egress gateway.
> >The egress gateway is smart, and creates an IAM from the first INVITE.
> >Subsequent re-INVITEs cause SAMs to be sent, containing the difference
> >in the set of digits from the previous INVITE. Once the egress gateway
> >receives an ACM (address complete, right?), it responds with a 484 to
> >all the INVITEs but the last, and the final INVITE with a 183. Things
> >progress normally from there.
> >
> >Implications:
> >
> >1. proxies don't have to know anything about INFO or ISUP. They just
> >have to know longest prefix match routing for phone numbers. They can
> >even be stateless.
> >
> >2. egress gateways that know ISUP effectively re-generate the SAMs
> >
> >3. if the egress point is not an ISUP gateway, but a PC terminal or
> >something that happens to have a phone number as its name, it will have
> >to know enough to reject each INVITE until it gets one with a request
> >URI/To field that matches its own number. This, BTW, is normal behavior.
> >A UAS rejects an INVITE if the URI is for an address thats not its own.
> >
> >4. This works *even* if there is misordering of re-INVITEs. The egress
> >gateway computes the SAMs based on differentials. So, lets say it
> >receives the INVITE with 1555, then the INVITE with 155512. It then
> >sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> >the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> >old and rejects it.
> >
> >5. The ingress gateway doesn't depend on special messages or a
> >completion character, like #, to send an INVITE.
> >
> >
> >
> >
> >Its very possible I've completely missed something, as I'm hardly an
> >ISUP expert. Perhaps there is additional data in SAM such that it MUST
> >be sent across, rather than being regenerated. But, the above solution
> >seems nice, as it doesn't break anything, works with non-ISUP
> >terminating points, doesn't require users to dial a # at the end of the
> >digit string, etc.
> >
> >Comments?
> >
> >-Jonathan R.
> >
> >
> >Gonzalo Camarillo wrote:
> >>
> >> It is nicer to send complete URIs in the "to" header. If the i-gateway
> >> sends the INVITE before receiveing all the digits, the "to" header is
> >> not complete. It would contain just a few digits of the whole telephone
> >> number (this assumes that with just some digits the i-gateway figures
> >> out where to send the INVITE).
> >>
> >> Gonzalo
> >>
> >> Adam.Roach@ericsson.com wrote:
> >> >
> >> > >The use of a timer to force enbloc signaling is not acceptable. In the
> case
> >> > >of SIP bridging, subscribers originating calls from the PSTN will not
> accept
> >> > >an artificial post-dial delay (even if it is just a few seconds long).
> >> > >Overlap signaling must be supported. It is essential that the overlap
> >> > >process takes place within the context of a single session - using the
> >> > >suggested INVITE/CANCEL/INVITE approach would result in multiple
> abortive
> >> > >calls being delivered to the terminating agent, which would not be
> >> > >acceptable.
> >> > >
> >> > >Why not send an INVITE message when the ISUP IAM is received and then
> send
> >> > >subsequent INFO messages for each ISUP SAM? I understand that "pure"
> SIP
> >> > >agents will expect the INVITE to contain the complete address of the
> called
> >> > >party. This could be handled by including support for overlap in the
> >> > >"Require" extensions
> (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> >> > >the terminator did not support the PSTN extensions, the originator
> could
> >> > >then switch to enbloc and wait for the full address to be collected.
> >> >
> >> > There are a variety of problems here. The first is determining how
> >> > intervening proxies will react. If, for example, a proxy is making
> >> > decisions about where to forward messages based on a called party URI,
> >> > your suggestion would require it to understand ISUP (for interpretation
> >> > of SAM message). It also requires it to have number analysis code and
> >> > dialing plan information (potentially for the entire globe).
> >> >
> >> > The problem gets even stranger for redirect servers, which expect to
> >> > be able to send an immediate response to an INVITE -- not sit around
> >> > collecting digits.
> >> >
> >> > Basically, your suggestion forces overlapped dialing deep into each
> >> > and every SIP node in the network that is expected to receive calls
> >> > originating from the PSTN network.
> >> >
> >> > I agree that this is a problem that needs to be solved if we intend
> >> > to use SIP between two PSTN phones; but we need to find a better
> >> > solution than tunelling SAMs all over the place.
> >> >
> >> > We shouldn't overlook human factors: it could be that customers are
> >> > willing to, for example, be trained to press "#" at the end of a
> >> > phone number to skip the post-dial-delay.
> >> >
> >> > --
> >> > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS
> L-04
> >> > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081
> USA
> >>
> >> --
> >> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> >> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> >> Telecom R&D               Fax   :  +358  9 299 31 18
> >> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> >> Finland
> >
> >--
> >Jonathan D. Rosenberg                       200 Executive Drive
> >Chief Scientist                             Suite 120
> >dynamicsoft                                 West Orange, NJ 07052
> >jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> >http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> >http://www.dynamicsoft.com
> >
> >

--------------E5D6DFEA7012079AE2AD1E34
Content-Type: text/x-vcard; charset=us-ascii;
 name="dpetrie.vcf"
Content-Description: Card for Daniel G. Petrie
Content-Disposition: attachment;
 filename="dpetrie.vcf"
Content-Transfer-Encoding: 7bit

begin:vcard 
n:Petrie;Daniel
tel;fax:+1 781 938 9650
tel;work:+1 781 938 5306
x-mozilla-html:FALSE
url:www.pingtel.com
org:Pingtel Corp.
version:2.1
email;internet:dpetrie@pingtel.com
title:Software Systems Architect
adr;quoted-printable:;;Suite 2200=0D=0A400 Cummings Park;Woburn;MA;01801;USA
x-mozilla-cpt:;-11472
fn:Daniel Petrie
end:vcard

--------------E5D6DFEA7012079AE2AD1E34--




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 18 22:27:39 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA01798
	for <sip-archive@odin.ietf.org>; Thu, 18 Nov 1999 22:27:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5631652E2; Thu, 18 Nov 1999 22:25:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C63FF52EC; Thu, 18 Nov 1999 22:25:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4BBED52E2
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 22:25:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 22:23:09 EST 1999
Received: from mail.pingtel.com ([209.6.118.245]) by dusty; Thu Nov 18 22:21:56 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id WAA07975;
	Thu, 18 Nov 1999 22:38:32 -0500
Message-ID: <3834C2F1.CEDF310D@pingtel.com>
Date: Thu, 18 Nov 1999 22:24:33 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Adam B. Roach" <Adam.Roach@Ericsson.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <199911190017.SAA21726@b04a24.exu.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


"Adam B. Roach" wrote:

>
> Opinion from the list: would an attempt to codify such behavior for
> forking proxies involved in PSTN calls seem useful, or should we
> just come up with a mechanism to prohibit forking for these types of calls?
>

How can you know to prevent forking?  You have already forked the call after
which you received 18x response(s) with media.  The user agent does not know
apriori and odds are the proxy does not know either that a 18x response with
media is coming..  Perhaps both desire forking. They do not know until it is
too late
that they are going to get an 183 response.  If anything is to be surpressed
its
the 18x response with media.

> (***NOTE*** these are just examples, not actually proposed modifications;
>  at least, not yet. I don't want to start a debate on the actual
>  "rules" I've stated above as much as a discussion on whether this sort
>  of work would be useful).
>
> --
> Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 00:15:16 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA24741
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 00:15:15 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6DB5552EC; Fri, 19 Nov 1999 00:11:29 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D8CCD52ED; Fri, 19 Nov 1999 00:11:28 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EE33B52EC
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 00:11:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 00:10:10 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 00:08:57 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpyq06857;
	Fri, 19 Nov 1999 05:14:52 GMT
Received: from dynamicsoft.com (1Cust121.tnt2.freehold.nj.da.uu.net [63.17.114.121])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id AAA20121;
	Fri, 19 Nov 1999 00:10:06 -0500 (EST)
Message-ID: <3834DC62.6BE21557@dynamicsoft.com>
Date: Fri, 19 Nov 1999 00:13:06 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Adam B. Roach" <Adam.Roach@Ericsson.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <199911190017.SAA21726@b04a24.exu.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Adam B. Roach" wrote:
> 
> For your example, I'd say it's pretty obvious that you need to CANCEL
> the branch that sent a 183 (and be prepared to BYE it), and switch the
> media to the 200.

You can't CANCEL individual branches. CANCEL is for the whole
transaction.


> I'm not going to approach the first one right now. For the second
> one, I've toyed around with the concept of defining an ordering for the
> 1xx status codes; e.g.:
> 
> - If you receive a 180 with a media session, the proxy will forward it
>   unless it's already passed a 1xx with a media session.
> 
> - If you receive a 181-183 with a media session, the proxy will forward it
>   unless it's already passed a 181-183 with a media session.
> 
> In this way, a user may hear ringtone, followed by an announcement
> (from a different branch) that the call has been queued; but never
> the other way around (since the ringtone could interrupt a word).

The problem can also be solved locally at the UA through RTP. The UA
will be able to distinguish one audio stream from the other (we'll
eventually have an end to end provisional acknowledgement which can
contain SDP with an updated port number). Thus, it can simply not play
audio from a 180 on one branch after getting a 183 with audio on
another.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 00:28:22 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01286
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 00:28:21 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4B92652E0; Fri, 19 Nov 1999 00:24:00 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6487652ED; Fri, 19 Nov 1999 00:23:59 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 70E7152E0
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 00:23:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 00:22:43 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 00:21:30 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhpyr06164;
	Fri, 19 Nov 1999 05:27:25 GMT
Received: from dynamicsoft.com (1Cust121.tnt2.freehold.nj.da.uu.net [63.17.114.121])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id AAA20130;
	Fri, 19 Nov 1999 00:22:39 -0500 (EST)
Message-ID: <3834DF52.73C4E407@dynamicsoft.com>
Date: Fri, 19 Nov 1999 00:25:38 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Dean Willis <dean.willis@wcom.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Overlap signaling to INVITE (Was RE: Comments 
 ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
References: <000801bf321a$314f91e0$939623a6@mcit.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Dean Willis wrote:
> 
> Jonthan proposed a handling for overlap:
> > What if, rather than encapsulating subsequent digits into INFO, they are
> > added to the request URI in an INVITE? A local proxy for the gateway
> > will respond with 484 to all those that don't have enough digits until
> > it gets one that does have enough. So:
> 
> Could be some fascinating interactions with TRIP and ENUM using this
> approach.

Its going to be a general complication of overlap sending. Using INFO or
something else will be just at least as bad, probably worse. The lesson
is to use en-bloc. Fortunately, my proposed INVITE approach doesn't
require special processing; just that standard processing will be
duplicated for each INVITE.


> Of course, this sort of depends on length-constrained prefix-matching in
> TRIP and ENUM . . . you wouldn't want to match on a partial prefix and
> dispatch before receiving all of the digits.

Actually, for TRIP, thats exactly what you want to do. The whole idea is
that a given proxy doesn't have a complete digit map to fully route the
number. It knows enough to forward it somewhere else (that somewhere
else knowing even more). Its complicated in the case where a proxy has a
prefix A which is less specific than B, with A and B having different
next hops. In this case, you kind of want to wait for enough digits to
fill the longest prefix you have. Note this is not *all* the digits;
just enough to fill the longest prefix.

Anyone know how this is handled in the phone network? How does a switch
know when it has enough digits to make a routing decision?

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 07:23:57 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA28772
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 07:23:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id F01DF52EA; Fri, 19 Nov 1999 07:21:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 618A552EE; Fri, 19 Nov 1999 07:21:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EB05A52EA
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 07:21:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 07:20:20 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov 19 07:19:06 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id OAA26032;
	Fri, 19 Nov 1999 14:20:46 +0200 (EET)
Received: from lmf.ericsson.se (E005004F8DB68 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id OAA12521;
	Fri, 19 Nov 1999 14:20:11 +0200 (EET)
Message-ID: <3835407A.E99C644A@lmf.ericsson.se>
Date: Fri, 19 Nov 1999 14:20:10 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: Adam.Roach@Ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <3834DC62.6BE21557@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

The problem is still there.

Why do we have to hear the announcement related to the first 183
received and not the announcement related to the second one? Just
because the first 183 response arrived a few miliseconds before?? It
does not sound very good to me...

Even it is not that clear that an announcement has always higher
preference than a ringback tone (180 vs 183 responses).

If SIP is going to interoperate with the PSTN we have to have a
predictable behaviour... that is, the user knows what's going on when he
listens to the handset (remember that the user may not have a display a
monitor).

The idea of 1xx reponses with media (when it comes to PSTN-SIP
interworking) is to be able to hear the ringback tone generated by the
last PSTN exchange. If we are going to hear this ringback tone from one
branch and then we are going to connect to another branch (because a 200
OK has arrived from the other branch), the ringback makes little sense.
It would change the semantics of the ringback tone for the PSTN user.

The parelell searching sounds like a good idea for reaching a user
saving some time. The problem is how to have the user updated about the
status of the different branches. If we cannot keep the user updated it
is better to perform sequencial search.

Gonzalo


jdrosen@dynamicsoft.com wrote:
> 
> "Adam B. Roach" wrote:
> >
> > For your example, I'd say it's pretty obvious that you need to CANCEL
> > the branch that sent a 183 (and be prepared to BYE it), and switch the
> > media to the 200.
> 
> You can't CANCEL individual branches. CANCEL is for the whole
> transaction.
> 
> > I'm not going to approach the first one right now. For the second
> > one, I've toyed around with the concept of defining an ordering for the
> > 1xx status codes; e.g.:
> >
> > - If you receive a 180 with a media session, the proxy will forward it
> >   unless it's already passed a 1xx with a media session.
> >
> > - If you receive a 181-183 with a media session, the proxy will forward it
> >   unless it's already passed a 181-183 with a media session.
> >
> > In this way, a user may hear ringtone, followed by an announcement
> > (from a different branch) that the call has been queued; but never
> > the other way around (since the ringtone could interrupt a word).
> 
> The problem can also be solved locally at the UA through RTP. The UA
> will be able to distinguish one audio stream from the other (we'll
> eventually have an end to end provisional acknowledgement which can
> contain SDP with an updated port number). Thus, it can simply not play
> audio from a 180 on one branch after getting a 183 with audio on
> another.
> 
> -Jonathan R.
> 
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 07:29:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA01124
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 07:29:32 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6F12952EE; Fri, 19 Nov 1999 07:27:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D1A9852EF; Fri, 19 Nov 1999 07:27:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4047F52EE
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 07:27:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 07:25:19 EST 1999
Received: from witbier.cisco.com ([171.71.152.57]) by dusty; Fri Nov 19 07:24:06 EST 1999
Received: from mramalho-nt (ssh.cisco.com [171.69.10.34])
	by witbier.cisco.com (8.8.8-Cisco List Logging/8.8.8) with SMTP id EAA00539;
	Fri, 19 Nov 1999 04:25:15 -0800 (PST)
Message-Id: <4.1.19991119071625.00a66600@localhost>
X-Sender: mramalho@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Fri, 19 Nov 1999 07:26:40 -0800
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Dean Willis <dean.willis@wcom.com>
From: "Michael A. Ramalho" <mramalho@cisco.com>
Subject: Re: Overlap signaling to INVITE (Was RE: Comments 
  ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <3834DF52.73C4E407@dynamicsoft.com>
References: <000801bf321a$314f91e0$939623a6@mcit.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Jonathan,

re: "Anyone know how this is handled in the phone network? How
does a switch know when it has enough digits to make a routing decision?"

For the overlap sending case ... it is as both Dean and Henry
described .... sometimes you don't know until you hit the last switch.

This variable-length phone number problem dates back to pre-SS7
switches where the switch legs were completed as the number
was dialed (and later DTMFed) in. As soon as the switch that
the present call leg terminated knew enough to either terminate
the call or forward the call to another call leg ... that is what it did.

Henry had an example where the number for a university he
attended in Europe where yyy-zzz-0 for the university operator,
yet something like yyy-zzz-qqq, where qqq is his phone number.

Clearly only the last switch knew if 0** was to be completed
to the operator (as soon as the zero was dialed) and that no
other phone numbers were to begin with a zero.

Thus the required number of digits is only known by the keeper
of the (local) numbering plan. It is probably unrealistic for the
originating proxy to know it a priori.

Thus you probably need a heuristic tree like Dean posted
yesterday.

Michael

At 12:25 AM 11/19/99 -0500, Jonathan Rosenberg wrote:
>
>
>Dean Willis wrote:
>> 
>> Jonthan proposed a handling for overlap:
>> > What if, rather than encapsulating subsequent digits into INFO, they are
>> > added to the request URI in an INVITE? A local proxy for the gateway
>> > will respond with 484 to all those that don't have enough digits until
>> > it gets one that does have enough. So:
>> 
>> Could be some fascinating interactions with TRIP and ENUM using this
>> approach.
>
>Its going to be a general complication of overlap sending. Using INFO or
>something else will be just at least as bad, probably worse. The lesson
>is to use en-bloc. Fortunately, my proposed INVITE approach doesn't
>require special processing; just that standard processing will be
>duplicated for each INVITE.
>
>
>> Of course, this sort of depends on length-constrained prefix-matching in
>> TRIP and ENUM . . . you wouldn't want to match on a partial prefix and
>> dispatch before receiving all of the digits.
>
>Actually, for TRIP, thats exactly what you want to do. The whole idea is
>that a given proxy doesn't have a complete digit map to fully route the
>number. It knows enough to forward it somewhere else (that somewhere
>else knowing even more). Its complicated in the case where a proxy has a
>prefix A which is less specific than B, with A and B having different
>next hops. In this case, you kind of want to wait for enough digits to
>fill the longest prefix you have. Note this is not *all* the digits;
>just enough to fill the longest prefix.
>
>Anyone know how this is handled in the phone network? How does a switch
>know when it has enough digits to make a routing decision?
>
>-Jonathan R.
>-- 
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120 
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>


Michael A. Ramalho, Ph.D.
Cisco Systems
Wall Township, NJ
Office email: mramalho@cisco.com
Personal email: mar42@cornell.edu
Office: +1.732.449.5762
Cell: +1.732.809.0188



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 09:49:22 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA07839
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 09:49:17 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5DE1752F1; Fri, 19 Nov 1999 09:47:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A2C3E52F0; Fri, 19 Nov 1999 09:47:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2ACEB52F1
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 09:47:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 19 09:45:22 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 09:44:09 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqad27950;
	Fri, 19 Nov 1999 14:50:05 GMT
Received: from dynamicsoft.com (1Cust228.tnt2.freehold.nj.da.uu.net [63.17.114.228])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id JAA21566;
	Fri, 19 Nov 1999 09:45:18 -0500 (EST)
Message-ID: <3835633A.31E5D640@dynamicsoft.com>
Date: Fri, 19 Nov 1999 09:48:26 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@Ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <3834DC62.6BE21557@dynamicsoft.com> <3835407A.E99C644A@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gonzalo Camarillo wrote:
> 
> Hi,
> 
> The problem is still there.
> 
> Why do we have to hear the announcement related to the first 183
> received and not the announcement related to the second one? Just
> because the first 183 response arrived a few miliseconds before?? It
> does not sound very good to me...

Do whatever you want. My point is only that the UA will know what
streams are from where, and can decide as it wishes to play one, some,
none, or all.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 09:59:38 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA12232
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 09:59:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8C99E52ED; Fri, 19 Nov 1999 09:57:17 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F178452F0; Fri, 19 Nov 1999 09:57:16 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 93F1252ED
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 09:57:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 19 09:56:39 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 09:55:26 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqae18819;
	Fri, 19 Nov 1999 15:01:17 GMT
Received: from dynamicsoft.com (1Cust228.tnt2.freehold.nj.da.uu.net [63.17.114.228])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id JAA21627;
	Fri, 19 Nov 1999 09:56:26 -0500 (EST)
Message-ID: <383565D7.99DB0DA3@dynamicsoft.com>
Date: Fri, 19 Nov 1999 09:59:35 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383421EB.5C188344@dynamicsoft.com> <38356253.552DD8F3@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gonzalo Camarillo wrote:
> 
> Problem of imcomplete To field:
> If the i-gateway sends (as Jonathan suggests) an INVITE with some
> digits, and then adds the rest of them to the request URI, the To filed
> is not going to be complete. It will contain just some digits.
> Are we OK with this?
> We may have:
> 
> INVITE 123456@...
> To: 123@...
> 
> Because we received 123 in the IAM, and 456 in SAMs (a single SAM can
> contain several digits).

I don't understand why this will happen. When the request is updated,
also update the To field. This is, effectively, a new call, so keeping
the To field the same across all transactions isn't needed here. Keeping
the Call-ID the same is needed so the egress gateway can correlate all
these together.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:18:14 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA20719
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:18:12 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6E80F52F0; Fri, 19 Nov 1999 10:15:52 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D5FF252F3; Fri, 19 Nov 1999 10:15:51 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 6A85852F0
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:15:36 -0500 (EST)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id KAA17661;
	Fri, 19 Nov 1999 10:15:33 -0500 (EST)
Message-ID: <38356998.A11838DE@cs.columbia.edu>
Date: Fri, 19 Nov 1999 10:15:36 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: "Michael A. Ramalho" <mramalho@cisco.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Overlap signaling to INVITE (Was RE: Comments 
	  ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
References: <000801bf321a$314f91e0$939623a6@mcit.com> <4.1.19991119071625.00a66600@localhost>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Michael A. Ramalho wrote:
> 
> Jonathan,
> 
> re: "Anyone know how this is handled in the phone network? How
> does a switch know when it has enough digits to make a routing decision?"
> 
> For the overlap sending case ... it is as both Dean and Henry
> described .... sometimes you don't know until you hit the last switch.
> 
> This variable-length phone number problem dates back to pre-SS7
> switches where the switch legs were completed as the number
> was dialed (and later DTMFed) in. As soon as the switch that
> the present call leg terminated knew enough to either terminate
> the call or forward the call to another call leg ... that is what it did.

Indeed, if you look at the numbering schemes in Germany and (I believe)
France, you will find a strict geographical hierarchy, with regional
centers having shorter numbers. In the days of stepper switches, each
switch would simply connect to the next CO, which would interpret the
next digit. Extra digits are ignored, as usual.

As an aside, this makes GLP/TRIP much easier - you don't have to carry
around a list of 105 exchange codes when advertising your local calling
area (the number 105 is the length of the list for Leonia, NJ).

> 
> Henry had an example where the number for a university he

Are you referring to me? Just curious if I have now undergone the "Ellis
Island treatment"...

> attended in Europe where yyy-zzz-0 for the university operator,
> yet something like yyy-zzz-qqq, where qqq is his phone number.
> 
> Clearly only the last switch knew if 0** was to be completed
> to the operator (as soon as the zero was dialed) and that no
> other phone numbers were to begin with a zero.
> 
> Thus the required number of digits is only known by the keeper
> of the (local) numbering plan. It is probably unrealistic for the
> originating proxy to know it a priori.
> 
> Thus you probably need a heuristic tree like Dean posted
> yesterday.
> 
> Michael
>



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:23:10 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22769
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:23:06 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0125652EF; Fri, 19 Nov 1999 09:45:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5E16052F0; Fri, 19 Nov 1999 09:45:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6AF7452EF
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 09:45:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 09:44:48 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov 19 09:43:35 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id QAA02610;
	Fri, 19 Nov 1999 16:45:13 +0200 (EET)
Received: from lmf.ericsson.se (E005004F8DB68 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id QAA16685;
	Fri, 19 Nov 1999 16:44:37 +0200 (EET)
Message-ID: <38356253.552DD8F3@lmf.ericsson.se>
Date: Fri, 19 Nov 1999 16:44:35 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383421EB.5C188344@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

We are talking about several problems, all related to overlap
signalling.

First of all, this is what draft-camarillo-mmusic-sip-isup-bcp-00.txt
says in the chapter 7.1 about this. This is the chapter that has to
contain the solution that is found to be the best.

********
7.1 Address received

   Upon the reception of an IAM resources are reserved in the MG and it
   gets backward through connected.

   The B-party number can be received in just one IAM ('en bloc'
   signalling) or in one IAM followed by one or several SAMs (overlap
   signalling). In some countries there is no way for the MGC to know
   whether the B-party number is already complete or some SAMs will
   still arrive.

   If the MGC relies on the inter-digit timeout to assume that the
   number is complete the establishment of the connection is delayed.
   Alternatively, if the MGC sends the INVITE request immediately after
   receiving the IAM heavy signalling traffic may be generated.

   Therefore every individual MGC must be configured with a specific
   timer. If an MGC never receives a SAM the value of the timer should
   be zero. If the reception of a SAM is likely the value of the timer
   should be sufficient for receiving them before the INVITE is sent
   (after receiving the minimum amount of digits that can represent a
   number, around 5 seconds).

   Thus, after receiving the B-party number, the MGC issues an INVITE
   request. If after sending this request a SAM is received the MGC
   will CANCEL the INVITE and send a new INVITE to the complete
   address. If a '484 Address Incomplete' is received the MGC should
   wait for subsequent SAMs and send a new INVITE.
**************

The problem of a user typing # :
In the States 'en-bloc' signalling is used, so this is not needed. In
Europe, the use of 'en-bloc' signalling is becoming more and more common
due to the use of mobiles (in Finland there are more mobiles than fixed
phones).
Therefore, the problem i getting smaller and smaller. However, we have
to provide backwards compatibility.
We are here for finding a solution to the problem. If we do not find a
solution, we can tell all the users to press # after the phone number,
but I wouldn't say that this is "finding a solution" :o)

Problem of imcomplete To field:
If the i-gateway sends (as Jonathan suggests) an INVITE with some
digits, and then adds the rest of them to the request URI, the To filed
is not going to be complete. It will contain just some digits.
Are we OK with this?
We may have:

INVITE 123456@...
To: 123@...

Because we received 123 in the IAM, and 456 in SAMs (a single SAM can
contain several digits).

This means that the information contained in the SIP fields is not
really correct. And we are talking about mandatory fields. That's why I
was trying to avoid this. If nobody sees a problem with this we can
proceed this way.

By the way, the trade-off I pointed out in the draft is still there. If
we issue an INVITE every time we get a SAM, we will generate lots of
messages. I still think that the timer I was proposing is an idea to
take into account.

Any comments?

Gonzalo

jdrosen@dynamicsoft.com wrote:
> 
> What if, rather than encapsulating subsequent digits into INFO, they are
> added to the request URI in an INVITE? A local proxy for the gateway
> will respond with 484 to all those that don't have enough digits until
> it gets one that does have enough. So:
> 
> Ingress GW            P             Egress GW
> 
> INV tel:1 ------------>
> CSeq: 1
> 
> INV tel:12 ----------->
> CSeq: 2
> 
> <---------484 --------
>           CSeq: 1
> 
> INV tel:121 --------->
> CSeq: 3
> 
> <---------484 -------
>           CSeq: 2
> 
> INV tel:1212 --------> ---------------------->   IAM 1212---------->
> CSeq: 4
> 
> <--------------484----
>                CSeq: 3
> 
> INV tel:12125---------> ----------------------> SAM 5 ------------->
> CSeq: 5
> 
> INV tel:121255 -------> ----------------------> SAM 5 ------------->
> CSeq: 6
> 
> INV tel:1212555 ------> -----------------------> SAM 5 ------------>
> CSeq: 7
> 
> ........(same thing for digits 1, 2, 1)
> 
> INV tel:12125551212----> ---------------------> SAM 2 -------------->
> CSeq: 11                                        <---------ACM-------
> 
>                          <------484-----------
>                                 CSeq: 5
>                          <------484-----------
>                                 CSeq: 6
>                                .......
>                          <------484
>                                 CSeq: 10
>                          <---183--------------
>                                 CSeq: 11
> 
> Ok, so let me explain. Proxies do routing just on longest prefix matches
> for INVITE's. So, proxy P can be stateless actually, as it just forwards
> INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
> without waiting for a response to the previous INVITE) every time a new
> digit is received from the PSTN. Once the proxy has enough digits to
> route, it won't send 484 anymore, and forwards it to the egress gateway.
> The egress gateway is smart, and creates an IAM from the first INVITE.
> Subsequent re-INVITEs cause SAMs to be sent, containing the difference
> in the set of digits from the previous INVITE. Once the egress gateway
> receives an ACM (address complete, right?), it responds with a 484 to
> all the INVITEs but the last, and the final INVITE with a 183. Things
> progress normally from there.
> 
> Implications:
> 
> 1. proxies don't have to know anything about INFO or ISUP. They just
> have to know longest prefix match routing for phone numbers. They can
> even be stateless.
> 
> 2. egress gateways that know ISUP effectively re-generate the SAMs
> 
> 3. if the egress point is not an ISUP gateway, but a PC terminal or
> something that happens to have a phone number as its name, it will have
> to know enough to reject each INVITE until it gets one with a request
> URI/To field that matches its own number. This, BTW, is normal behavior.
> A UAS rejects an INVITE if the URI is for an address thats not its own.
> 
> 4. This works *even* if there is misordering of re-INVITEs. The egress
> gateway computes the SAMs based on differentials. So, lets say it
> receives the INVITE with 1555, then the INVITE with 155512. It then
> sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> old and rejects it.
> 
> 5. The ingress gateway doesn't depend on special messages or a
> completion character, like #, to send an INVITE.
> 
> Its very possible I've completely missed something, as I'm hardly an
> ISUP expert. Perhaps there is additional data in SAM such that it MUST
> be sent across, rather than being regenerated. But, the above solution
> seems nice, as it doesn't break anything, works with non-ISUP
> terminating points, doesn't require users to dial a # at the end of the
> digit string, etc.
> 
> Comments?
> 
> -Jonathan R.
> 
> Gonzalo Camarillo wrote:
> >
> > It is nicer to send complete URIs in the "to" header. If the i-gateway
> > sends the INVITE before receiveing all the digits, the "to" header is
> > not complete. It would contain just a few digits of the whole telephone
> > number (this assumes that with just some digits the i-gateway figures
> > out where to send the INVITE).
> >
> > Gonzalo
> >
> > Adam.Roach@ericsson.com wrote:
> > >
> > > >The use of a timer to force enbloc signaling is not acceptable. In the case
> > > >of SIP bridging, subscribers originating calls from the PSTN will not accept
> > > >an artificial post-dial delay (even if it is just a few seconds long).
> > > >Overlap signaling must be supported. It is essential that the overlap
> > > >process takes place within the context of a single session - using the
> > > >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
> > > >calls being delivered to the terminating agent, which would not be
> > > >acceptable.
> > > >
> > > >Why not send an INVITE message when the ISUP IAM is received and then send
> > > >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> > > >agents will expect the INVITE to contain the complete address of the called
> > > >party. This could be handled by including support for overlap in the
> > > >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> > > >the terminator did not support the PSTN extensions, the originator could
> > > >then switch to enbloc and wait for the full address to be collected.
> > >
> > > There are a variety of problems here. The first is determining how
> > > intervening proxies will react. If, for example, a proxy is making
> > > decisions about where to forward messages based on a called party URI,
> > > your suggestion would require it to understand ISUP (for interpretation
> > > of SAM message). It also requires it to have number analysis code and
> > > dialing plan information (potentially for the entire globe).
> > >
> > > The problem gets even stranger for redirect servers, which expect to
> > > be able to send an immediate response to an INVITE -- not sit around
> > > collecting digits.
> > >
> > > Basically, your suggestion forces overlapped dialing deep into each
> > > and every SIP node in the network that is expected to receive calls
> > > originating from the PSTN network.
> > >
> > > I agree that this is a problem that needs to be solved if we intend
> > > to use SIP between two PSTN phones; but we need to find a better
> > > solution than tunelling SAMs all over the place.
> > >
> > > We shouldn't overlook human factors: it could be that customers are
> > > willing to, for example, be trained to press "#" at the end of a
> > > phone number to skip the post-dial-delay.
> > >
> > > --
> > > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> > > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
> >
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> 
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:41:44 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01102
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:41:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A9AE552F3; Fri, 19 Nov 1999 10:39:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 187D852F4; Fri, 19 Nov 1999 10:39:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E3F9452F3
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:39:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 10:38:52 EST 1999
Received: from mailserv2.iuinc.com ([206.245.164.55]) by dusty; Fri Nov 19 10:37:37 EST 1999
Received: (qmail 21550 invoked from network); 19 Nov 1999 15:38:45 -0000
Received: from unknown (HELO tate) (216.181.56.35)
  by mailserv2.iuinc.com with SMTP; 19 Nov 1999 15:38:45 -0000
Message-ID: <03a401bf32a4$bcfdd3c0$3102a8c0@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@lists.research.bell-labs.com>
References: <199911190017.SAA21726@b04a24.exu.ericsson.se> <3834DC62.6BE21557@dynamicsoft.com>
Subject: Forking and unwanted/unexpected 200 responses for INVITE (was Re: 183, BCP & forking)
Date: Fri, 19 Nov 1999 10:42:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Adam B. Roach <Adam.Roach@Ericsson.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>;
<sip@lists.research.bell-labs.com>
Sent: Friday, November 19, 1999 12:13 AM
Subject: Re: 183, BCP & forking


>
>
> "Adam B. Roach" wrote:
> >
> > For your example, I'd say it's pretty obvious that you need to CANCEL
> > the branch that sent a 183 (and be prepared to BYE it), and switch the
> > media to the 200.
>
> You can't CANCEL individual branches. CANCEL is for the whole
> transaction.

The forking example within the August 1999 SIP Draft uses a CANCEL
message to cancel an individual branch.  Is this no longer valid?
Or are you saying that the CANCEL can not have a TAG in the TO field.

CANCEL appears to be very helpful for services like
CallForwardingNoAnswer in a proxy server.
The CANCEL would end ringing on phone B so that phone C could
be tried next.  This actually causes a forking situation since phone B's
200 response for INVITE could cross on the wire with the CANCEL.
Thus 200 responses for INVITEs could be received from both B and C.

Here are four solutions dealing with forking:

1) Phone A (or SIP end node for phone A) would have to send ACK
and BYE for unwanted or unexpected 200 responses for INVITE.
I think that this solution best fits the current SIP draft.

2) Allow proxy servers to send BYEs.  People have mentioned that
this causes problems concerning the CSeq and encryption.

3) Allow a CANCEL to trigger a BYE from C if C has sent a 200
response for the corresponding INVITE.  This action is not specified
in the SIP draft, but I have not heard a reason against
this solution (although I assume someone could inform me).

4) Allow the proxy server to drop unwanted or unexpected 200 responses
for INVITEs.  I would not like this solution since I assume not receiving
an ACK could still allow it to remain in the call.


>
> -Jonathan R.
>
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:52:08 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05336
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:52:06 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A417952F5; Fri, 19 Nov 1999 10:49:31 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1A88F52F6; Fri, 19 Nov 1999 10:49:30 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 849FD52F5
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:49:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 10:47:23 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov 19 10:46:09 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id RAA04558;
	Fri, 19 Nov 1999 17:47:43 +0200 (EET)
Received: from lmf.ericsson.se (E005004F8DB68 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id RAA18383;
	Fri, 19 Nov 1999 17:47:08 +0200 (EET)
Message-ID: <383570FB.C4691B00@lmf.ericsson.se>
Date: Fri, 19 Nov 1999 17:47:07 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383421EB.5C188344@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



jdrosen@dynamicsoft.com wrote:
> 
> What if, rather than encapsulating subsequent digits into INFO, they are
> added to the request URI in an INVITE? A local proxy for the gateway
> will respond with 484 to all those that don't have enough digits until
> it gets one that does have enough. So:
> 
> Ingress GW            P             Egress GW
> 
> INV tel:1 ------------>
> CSeq: 1
> 
> INV tel:12 ----------->
> CSeq: 2
> 
> <---------484 --------
>           CSeq: 1
> 
> INV tel:121 --------->
> CSeq: 3
> 
> <---------484 -------
>           CSeq: 2
> 
> INV tel:1212 --------> ---------------------->   IAM 1212---------->
> CSeq: 4
> 
> <--------------484----
>                CSeq: 3
> 
> INV tel:12125---------> ----------------------> SAM 5 ------------->
> CSeq: 5
> 
> INV tel:121255 -------> ----------------------> SAM 5 ------------->
> CSeq: 6
> 
> INV tel:1212555 ------> -----------------------> SAM 5 ------------>
> CSeq: 7
> 
> ........(same thing for digits 1, 2, 1)
> 
> INV tel:12125551212----> ---------------------> SAM 2 -------------->
> CSeq: 11                                        <---------ACM-------
> 
>                          <------484-----------
>                                 CSeq: 5
>                          <------484-----------
>                                 CSeq: 6
>                                .......
>                          <------484
>                                 CSeq: 10
>                          <---183--------------
>                                 CSeq: 11
> 
> Ok, so let me explain. Proxies do routing just on longest prefix matches
> for INVITE's. So, proxy P can be stateless actually, as it just forwards
> INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
> without waiting for a response to the previous INVITE) every time a new
> digit is received from the PSTN. Once the proxy has enough digits to
> route, it won't send 484 anymore, and forwards it to the egress gateway.
> The egress gateway is smart, and creates an IAM from the first INVITE.
> Subsequent re-INVITEs cause SAMs to be sent, containing the difference
> in the set of digits from the previous INVITE. Once the egress gateway
> receives an ACM (address complete, right?), it responds with a 484 to
> all the INVITEs but the last, and the final INVITE with a 183. Things
> progress normally from there.
> 
> Implications:
> 
> 1. proxies don't have to know anything about INFO or ISUP. They just
> have to know longest prefix match routing for phone numbers. They can
> even be stateless.
> 
> 2. egress gateways that know ISUP effectively re-generate the SAMs
> 
> 3. if the egress point is not an ISUP gateway, but a PC terminal or
> something that happens to have a phone number as its name, it will have
> to know enough to reject each INVITE until it gets one with a request
> URI/To field that matches its own number. This, BTW, is normal behavior.
> A UAS rejects an INVITE if the URI is for an address thats not its own.
> 
> 4. This works *even* if there is misordering of re-INVITEs. The egress
> gateway computes the SAMs based on differentials. So, lets say it
> receives the INVITE with 1555, then the INVITE with 155512. It then
> sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> old and rejects it.


This is in principle correct (just taking into account that one SAM can
contain both digits). But here we have a PSTN-SIP-PSTN situation, and we
are trying to achieve ISUP transparency. So, the normal behaviour of the
e-gress gateway is to generate the ISUP messages contained in the MIME
body of the SIP message. 

If we proceed as you said, the e-gateway will generate by itself some
messages (like this SAM with two digits), without taking into
consideration the MIME body of SIP.

I am not saying that this is incorrect. Actually we are sending exactly
the same information, and the result will be most likely the same. I am
just saying that we brake the ISUP transparency... 

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:55:01 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA06263
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:54:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C8E6D52F2; Fri, 19 Nov 1999 10:51:53 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B9D5C52F6; Fri, 19 Nov 1999 10:51:52 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2BAED52F2
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:51:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 19 10:50:55 EST 1999
Received: from mailman.cisco.com ([171.68.225.9]) by dusty; Fri Nov 19 10:49:41 EST 1999
Received: from chsharp-tecra (chsharp-isdn.cisco.com [171.68.116.221]) by mailman.cisco.com (8.8.8+Sun/CISCO.SERVER.1.2) with ESMTP id HAA09132; Fri, 19 Nov 1999 07:50:13 -0800 (PST)
Message-Id: <4.2.0.58.19991119104455.00a376a0@dogwood.cisco.com>
X-Sender: chsharp@dogwood.cisco.com
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Fri, 19 Nov 1999 10:49:24 -0500
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
From: Chip Sharp <chsharp@cisco.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <38356253.552DD8F3@lmf.ericsson.se>
References: <383421EB.5C188344@dynamicsoft.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

At 04:44 PM 11/19/99 +0200, Gonzalo Camarillo wrote:
>Hi,
>
>We are talking about several problems, all related to overlap
>signalling.
>
>First of all, this is what draft-camarillo-mmusic-sip-isup-bcp-00.txt
>says in the chapter 7.1 about this. This is the chapter that has to
>contain the solution that is found to be the best.
...snip...
>The problem of a user typing # :
>In the States 'en-bloc' signalling is used, so this is not needed. In
>Europe, the use of 'en-bloc' signalling is becoming more and more common
>due to the use of mobiles (in Finland there are more mobiles than fixed
>phones).

FWIW,
When dialing international calls from the US, the user usually must either 
enter "#" or wait for a timeout for the call to be completed.  In most 
countries I have travelled in, I have found that entering "#" to terminate 
"dialing" at least does no harm.  Sometimes it speeds up post dial delay by 
a couple of seconds.

>Therefore, the problem i getting smaller and smaller. However, we have
>to provide backwards compatibility.
>We are here for finding a solution to the problem. If we do not find a
>solution, we can tell all the users to press # after the phone number,
>but I wouldn't say that this is "finding a solution" :o)
>
>Problem of imcomplete To field:
>If the i-gateway sends (as Jonathan suggests) an INVITE with some
>digits, and then adds the rest of them to the request URI, the To filed
>is not going to be complete. It will contain just some digits.
>Are we OK with this?
>We may have:
>
>INVITE 123456@...
>To: 123@...
>
>Because we received 123 in the IAM, and 456 in SAMs (a single SAM can
>contain several digits).
>
>This means that the information contained in the SIP fields is not
>really correct. And we are talking about mandatory fields. That's why I
>was trying to avoid this. If nobody sees a problem with this we can
>proceed this way.
>
>By the way, the trade-off I pointed out in the draft is still there. If
>we issue an INVITE every time we get a SAM, we will generate lots of
>messages. I still think that the timer I was proposing is an idea to
>take into account.
>
>Any comments?
>
>Gonzalo
>
>jdrosen@dynamicsoft.com wrote:
> >
> > What if, rather than encapsulating subsequent digits into INFO, they are
> > added to the request URI in an INVITE? A local proxy for the gateway
> > will respond with 484 to all those that don't have enough digits until
> > it gets one that does have enough. So:
> >
> > Ingress GW            P             Egress GW
> >
> > INV tel:1 ------------>
> > CSeq: 1
> >
> > INV tel:12 ----------->
> > CSeq: 2
> >
> > <---------484 --------
> >           CSeq: 1
> >
> > INV tel:121 --------->
> > CSeq: 3
> >
> > <---------484 -------
> >           CSeq: 2
> >
> > INV tel:1212 --------> ---------------------->   IAM 1212---------->
> > CSeq: 4
> >
> > <--------------484----
> >                CSeq: 3
> >
> > INV tel:12125---------> ----------------------> SAM 5 ------------->
> > CSeq: 5
> >
> > INV tel:121255 -------> ----------------------> SAM 5 ------------->
> > CSeq: 6
> >
> > INV tel:1212555 ------> -----------------------> SAM 5 ------------>
> > CSeq: 7
> >
> > ........(same thing for digits 1, 2, 1)
> >
> > INV tel:12125551212----> ---------------------> SAM 2 -------------->
> > CSeq: 11                                        <---------ACM-------
> >
> >                          <------484-----------
> >                                 CSeq: 5
> >                          <------484-----------
> >                                 CSeq: 6
> >                                .......
> >                          <------484
> >                                 CSeq: 10
> >                          <---183--------------
> >                                 CSeq: 11
> >
> > Ok, so let me explain. Proxies do routing just on longest prefix matches
> > for INVITE's. So, proxy P can be stateless actually, as it just forwards
> > INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
> > without waiting for a response to the previous INVITE) every time a new
> > digit is received from the PSTN. Once the proxy has enough digits to
> > route, it won't send 484 anymore, and forwards it to the egress gateway.
> > The egress gateway is smart, and creates an IAM from the first INVITE.
> > Subsequent re-INVITEs cause SAMs to be sent, containing the difference
> > in the set of digits from the previous INVITE. Once the egress gateway
> > receives an ACM (address complete, right?), it responds with a 484 to
> > all the INVITEs but the last, and the final INVITE with a 183. Things
> > progress normally from there.
> >
> > Implications:
> >
> > 1. proxies don't have to know anything about INFO or ISUP. They just
> > have to know longest prefix match routing for phone numbers. They can
> > even be stateless.
> >
> > 2. egress gateways that know ISUP effectively re-generate the SAMs
> >
> > 3. if the egress point is not an ISUP gateway, but a PC terminal or
> > something that happens to have a phone number as its name, it will have
> > to know enough to reject each INVITE until it gets one with a request
> > URI/To field that matches its own number. This, BTW, is normal behavior.
> > A UAS rejects an INVITE if the URI is for an address thats not its own.
> >
> > 4. This works *even* if there is misordering of re-INVITEs. The egress
> > gateway computes the SAMs based on differentials. So, lets say it
> > receives the INVITE with 1555, then the INVITE with 155512. It then
> > sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> > the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> > old and rejects it.
> >
> > 5. The ingress gateway doesn't depend on special messages or a
> > completion character, like #, to send an INVITE.
> >
> > Its very possible I've completely missed something, as I'm hardly an
> > ISUP expert. Perhaps there is additional data in SAM such that it MUST
> > be sent across, rather than being regenerated. But, the above solution
> > seems nice, as it doesn't break anything, works with non-ISUP
> > terminating points, doesn't require users to dial a # at the end of the
> > digit string, etc.
> >
> > Comments?
> >
> > -Jonathan R.
> >
> > Gonzalo Camarillo wrote:
> > >
> > > It is nicer to send complete URIs in the "to" header. If the i-gateway
> > > sends the INVITE before receiveing all the digits, the "to" header is
> > > not complete. It would contain just a few digits of the whole telephone
> > > number (this assumes that with just some digits the i-gateway figures
> > > out where to send the INVITE).
> > >
> > > Gonzalo
> > >
> > > Adam.Roach@ericsson.com wrote:
> > > >
> > > > >The use of a timer to force enbloc signaling is not acceptable. In 
> the case
> > > > >of SIP bridging, subscribers originating calls from the PSTN will 
> not accept
> > > > >an artificial post-dial delay (even if it is just a few seconds long).
> > > > >Overlap signaling must be supported. It is essential that the overlap
> > > > >process takes place within the context of a single session - using the
> > > > >suggested INVITE/CANCEL/INVITE approach would result in multiple 
> abortive
> > > > >calls being delivered to the terminating agent, which would not be
> > > > >acceptable.
> > > > >
> > > > >Why not send an INVITE message when the ISUP IAM is received and 
> then send
> > > > >subsequent INFO messages for each ISUP SAM? I understand that 
> "pure" SIP
> > > > >agents will expect the INVITE to contain the complete address of 
> the called
> > > > >party. This could be handled by including support for overlap in the
> > > > >"Require" extensions 
> (draft-roach-mmusic-sip-pstn-require-header-00.txt). If
> > > > >the terminator did not support the PSTN extensions, the originator 
> could
> > > > >then switch to enbloc and wait for the full address to be collected.
> > > >
> > > > There are a variety of problems here. The first is determining how
> > > > intervening proxies will react. If, for example, a proxy is making
> > > > decisions about where to forward messages based on a called party URI,
> > > > your suggestion would require it to understand ISUP (for interpretation
> > > > of SAM message). It also requires it to have number analysis code and
> > > > dialing plan information (potentially for the entire globe).
> > > >
> > > > The problem gets even stranger for redirect servers, which expect to
> > > > be able to send an immediate response to an INVITE -- not sit around
> > > > collecting digits.
> > > >
> > > > Basically, your suggestion forces overlapped dialing deep into each
> > > > and every SIP node in the network that is expected to receive calls
> > > > originating from the PSTN network.
> > > >
> > > > I agree that this is a problem that needs to be solved if we intend
> > > > to use SIP between two PSTN phones; but we need to find a better
> > > > solution than tunelling SAMs all over the place.
> > > >
> > > > We shouldn't overlook human factors: it could be that customers are
> > > > willing to, for example, be trained to press "#" at the end of a
> > > > phone number to skip the post-dial-delay.
> > > >
> > > > --
> > > > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, 
> MS L-04
> > > > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 
> 75081 USA
> > >
> > > --
> > > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > > Telecom R&D               Fax   :  +358  9 299 31 18
> > > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > > Finland
> >
> > --
> > Jonathan D. Rosenberg                       200 Executive Drive
> > Chief Scientist                             Suite 120
> > dynamicsoft                                 West Orange, NJ 07052
> > jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> > http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> > http://www.dynamicsoft.com
>
>--
>Gonzalo Camarillo         Phone :  +358  9 299 33 71
>Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>Telecom R&D               Fax   :  +358  9 299 31 18
>FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>Finland

Support NetAid!  http://www.netaid.org
--------------------------------------------------
Chip Sharp                 Consulting Engineering
Cisco Systems              Telco Bio-region
Reality - Love it or Leave it.			
--------------------------------------------------



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 10:57:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA07111
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 10:57:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C990A52F7; Fri, 19 Nov 1999 10:55:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1726752F6; Fri, 19 Nov 1999 10:55:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9622B52F8
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:55:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 10:53:38 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov 19 10:52:24 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id RAA04731;
	Fri, 19 Nov 1999 17:54:05 +0200 (EET)
Received: from lmf.ericsson.se (E005004F8DB68 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id RAA18511;
	Fri, 19 Nov 1999 17:53:31 +0200 (EET)
Message-ID: <38357276.119E991E@lmf.ericsson.se>
Date: Fri, 19 Nov 1999 17:53:26 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383565D7.99DB0DA3@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



jdrosen@dynamicsoft.com wrote:
> 
> Gonzalo Camarillo wrote:
> >
> > Problem of imcomplete To field:
> > If the i-gateway sends (as Jonathan suggests) an INVITE with some
> > digits, and then adds the rest of them to the request URI, the To filed
> > is not going to be complete. It will contain just some digits.
> > Are we OK with this?
> > We may have:
> >
> > INVITE 123456@...
> > To: 123@...
> >
> > Because we received 123 in the IAM, and 456 in SAMs (a single SAM can
> > contain several digits).
> 
> I don't understand why this will happen. When the request is updated,
> also update the To field. This is, effectively, a new call, so keeping
> the To field the same across all transactions isn't needed here. Keeping
> the Call-ID the same is needed so the egress gateway can correlate all
> these together.
> 

Yes, you are right. I was thinking about using just one call leg
(Call-ID, To, From). As you say, if we use different call legs
(different to field) inside the same call (call-ID) upgrading the Cseq
for every new request we will avoid the problem I was pointing out.

Gonzalo


> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:00:24 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08053
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:00:22 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4506F52F6; Fri, 19 Nov 1999 10:57:30 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CD72652F8; Fri, 19 Nov 1999 10:57:28 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A6D4F52F6
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 10:57:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 10:56:24 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Fri Nov 19 10:55:10 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprtp1.ntcom.nortel.net; Fri, 19 Nov 1999 10:55:55 -0500
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA26FB8>; Fri, 19 Nov 1999 09:55:53 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD110232E200@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        jdrosen@dynamicsoft.com
Cc: Adam.Roach@Ericsson.com, sip@lists.research.bell-labs.com
Subject: RE: 183, BCP & forking
Date: Fri, 19 Nov 1999 09:55:53 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF32A6.8ED0CFB4"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF32A6.8ED0CFB4
Content-Type: text/plain;
	charset="iso-8859-1"

There is a PSTN feature called MADN (Multiple Appearance Directory Number).
At the terminating end, this rings multiple sets.  It may be possible to dig
up the feature description and see how this is supposed to appear to the
originating user.  I'll see if there is anything helpful here.  There may
not be because there may be restrictions on the terminating numbers which
prevent cases where one would get ringback (ringing tone) from one
appearance and something else from another.  

> -----Original Message-----
> From:	Gonzalo Camarillo [SMTP:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent:	Friday, November 19, 1999 7:20 AM
> To:	jdrosen@dynamicsoft.com
> Cc:	Adam.Roach@Ericsson.com; sip@lists.research.bell-labs.com
> Subject:	Re: 183, BCP & forking
> 
> Hi,
> 
> The problem is still there.
> 
> Why do we have to hear the announcement related to the first 183
> received and not the announcement related to the second one? Just
> because the first 183 response arrived a few miliseconds before?? It
> does not sound very good to me...
> 
> Even it is not that clear that an announcement has always higher
> preference than a ringback tone (180 vs 183 responses).
> 
> If SIP is going to interoperate with the PSTN we have to have a
> predictable behaviour... that is, the user knows what's going on when he
> listens to the handset (remember that the user may not have a display a
> monitor).
> 
> The idea of 1xx reponses with media (when it comes to PSTN-SIP
> interworking) is to be able to hear the ringback tone generated by the
> last PSTN exchange. If we are going to hear this ringback tone from one
> branch and then we are going to connect to another branch (because a 200
> OK has arrived from the other branch), the ringback makes little sense.
> It would change the semantics of the ringback tone for the PSTN user.
> 
> The parelell searching sounds like a good idea for reaching a user
> saving some time. The problem is how to have the user updated about the
> status of the different branches. If we cannot keep the user updated it
> is better to perform sequencial search.
> 
> Gonzalo
> 
> 
> jdrosen@dynamicsoft.com wrote:
> > 
> > "Adam B. Roach" wrote:
> > >
> > > For your example, I'd say it's pretty obvious that you need to CANCEL
> > > the branch that sent a 183 (and be prepared to BYE it), and switch the
> > > media to the 200.
> > 
> > You can't CANCEL individual branches. CANCEL is for the whole
> > transaction.
> > 
> > > I'm not going to approach the first one right now. For the second
> > > one, I've toyed around with the concept of defining an ordering for
> the
> > > 1xx status codes; e.g.:
> > >
> > > - If you receive a 180 with a media session, the proxy will forward it
> > >   unless it's already passed a 1xx with a media session.
> > >
> > > - If you receive a 181-183 with a media session, the proxy will
> forward it
> > >   unless it's already passed a 181-183 with a media session.
> > >
> > > In this way, a user may hear ringtone, followed by an announcement
> > > (from a different branch) that the call has been queued; but never
> > > the other way around (since the ringtone could interrupt a word).
> > 
> > The problem can also be solved locally at the UA through RTP. The UA
> > will be able to distinguish one audio stream from the other (we'll
> > eventually have an end to end provisional acknowledgement which can
> > contain SDP with an updated port number). Thus, it can simply not play
> > audio from a 180 on one branch after getting a 183 with audio on
> > another.
> > 
> > -Jonathan R.
> > 
> > --
> > Jonathan D. Rosenberg                       200 Executive Drive
> > Chief Scientist                             Suite 120
> > dynamicsoft                                 West Orange, NJ 07052
> > jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> > http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> > http://www.dynamicsoft.com
> 
> -- 
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland
> 

------_=_NextPart_001_01BF32A6.8ED0CFB4
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: 183, BCP &amp; forking</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">There is a PSTN =
feature called MADN (Multiple Appearance Directory Number).&nbsp; At =
the terminating end, this rings multiple sets.&nbsp; It may be possible =
to dig up the feature description and see how this is supposed to =
appear to the originating user.&nbsp; I'll see if there is anything =
helpful here.&nbsp; There may not be because there may be restrictions =
on the terminating numbers which prevent cases where one would get =
ringback (ringing tone) from one appearance and something else from =
another.&nbsp; </FONT></P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Gonzalo Camarillo =
[SMTP:Gonzalo.Camarillo@lmf.ericsson.se]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Friday, November 19, 1999 7:20 AM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">jdrosen@dynamicsoft.com</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Cc:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Adam.Roach@Ericsson.com; =
sip@lists.research.bell-labs.com</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">Re: 183, BCP &amp; forking</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Hi,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The problem is still there.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Why do we have to hear the =
announcement related to the first 183</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">received and not the announcement =
related to the second one? Just</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">because the first 183 response =
arrived a few miliseconds before?? It</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">does not sound very good to =
me...</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Even it is not that clear that an =
announcement has always higher</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">preference than a ringback tone (180 =
vs 183 responses).</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">If SIP is going to interoperate with =
the PSTN we have to have a</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">predictable behaviour... that is, the =
user knows what's going on when he</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">listens to the handset (remember that =
the user may not have a display a</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">monitor).</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The idea of 1xx reponses with media =
(when it comes to PSTN-SIP</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">interworking) is to be able to hear =
the ringback tone generated by the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">last PSTN exchange. If we are going =
to hear this ringback tone from one</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">branch and then we are going to =
connect to another branch (because a 200</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">OK has arrived from the other =
branch), the ringback makes little sense.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">It would change the semantics of the =
ringback tone for the PSTN user.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">The parelell searching sounds like a =
good idea for reaching a user</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">saving some time. The problem is how =
to have the user updated about the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">status of the different branches. If =
we cannot keep the user updated it</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">is better to perform sequencial =
search.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Gonzalo</FONT>
</P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">jdrosen@dynamicsoft.com wrote:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &quot;Adam B. Roach&quot; =
wrote:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; For your example, I'd say =
it's pretty obvious that you need to CANCEL</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; the branch that sent a 183 =
(and be prepared to BYE it), and switch the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; media to the 200.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; You can't CANCEL individual =
branches. CANCEL is for the whole</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; transaction.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; I'm not going to approach =
the first one right now. For the second</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; one, I've toyed around with =
the concept of defining an ordering for the</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; 1xx status codes; =
e.g.:</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; - If you receive a 180 with =
a media session, the proxy will forward it</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;&nbsp;&nbsp; unless it's =
already passed a 1xx with a media session.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; - If you receive a 181-183 =
with a media session, the proxy will forward it</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;&nbsp;&nbsp; unless it's =
already passed a 181-183 with a media session.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; In this way, a user may =
hear ringtone, followed by an announcement</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; (from a different branch) =
that the call has been queued; but never</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt; the other way around (since =
the ringtone could interrupt a word).</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; The problem can also be solved =
locally at the UA through RTP. The UA</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; will be able to distinguish one =
audio stream from the other (we'll</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; eventually have an end to end =
provisional acknowledgement which can</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; contain SDP with an updated port =
number). Thus, it can simply not play</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; audio from a 180 on one branch =
after getting a 183 with audio on</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; another.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; -Jonathan R.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; --</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Jonathan D. =
Rosenberg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
200 Executive Drive</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Chief =
Scientist&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Suite 120</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
dynamicsoft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; West =
Orange, NJ 07052</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
jdrosen@dynamicsoft.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
FAX:&nbsp;&nbsp; (732) 741-4778</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;<U> </U></FONT><U><FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"http://www.cs.columbia.edu/~jdrosen" =
TARGET=3D"_blank">http://www.cs.columbia.edu/~jdrosen</A></FONT></U><FON=
T SIZE=3D2 =
FACE=3D"Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PHONE: =
(732) 741-7244</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT><U> <FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A HREF=3D"http://www.dynamics=
oft.com" TARGET=3D"_blank">http://www.dynamicsoft.com</A></FONT></U>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-- </FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Gonzalo =
Camarillo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Phone :&nbsp; =
+358&nbsp; 9 299 33 71</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Oy L M Ericsson =
Ab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mobile:&nbsp; +358 40 702 =
35 35</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Telecom =
R&amp;D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; Fax&nbsp;&nbsp; :&nbsp; +358&nbsp; 9 299 31 =
18</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">FIN-02420 =
Jorvas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Email =
:&nbsp; Gonzalo.Camarillo@ericsson.com</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">Finland</FONT>
</P>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF32A6.8ED0CFB4--



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:03:29 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09085
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:03:28 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D50C852F8; Fri, 19 Nov 1999 11:01:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4B27552F9; Fri, 19 Nov 1999 11:01:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id A045252F8
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:01:23 -0500 (EST)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id LAA19165;
	Fri, 19 Nov 1999 11:01:18 -0500 (EST)
Message-ID: <38357450.A11DB101@cs.columbia.edu>
Date: Fri, 19 Nov 1999 11:01:20 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: jdrosen@dynamicsoft.com, Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383565D7.99DB0DA3@dynamicsoft.com> <38357276.119E991E@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> 
> Yes, you are right. I was thinking about using just one call leg
> (Call-ID, To, From). As you say, if we use different call legs
> (different to field) inside the same call (call-ID) upgrading the Cseq
> for every new request we will avoid the problem I was pointing out.
> 
However, while this is about the only viable mechanism, new call legs
make the job more difficult for the SIP-to-ISUP gateway at the egress
side, in that it now has to make a decision whether this is really a new
call or not, since one could presumably add call legs to an existing
call (e.g., in call transfer) in the absence of overlap dialing.



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:06:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10085
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:06:33 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 43CD052FC; Fri, 19 Nov 1999 11:04:01 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2118652F9; Fri, 19 Nov 1999 11:03:52 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2DEA352FB
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:03:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 11:02:42 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 11:01:29 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqai06232;
	Fri, 19 Nov 1999 16:07:21 GMT
Received: from dynamicsoft.com (1Cust228.tnt2.freehold.nj.da.uu.net [63.17.114.228])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id LAA23718;
	Fri, 19 Nov 1999 11:02:31 -0500 (EST)
Message-ID: <3835754F.C587CD4B@dynamicsoft.com>
Date: Fri, 19 Nov 1999 11:05:35 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: "Michael A. Ramalho" <mramalho@cisco.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Overlap signaling to INVITE (Was RE: Comments 
 ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
References: <000801bf321a$314f91e0$939623a6@mcit.com> <4.1.19991119071625.00a66600@localhost> <38356998.A11838DE@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> > This variable-length phone number problem dates back to pre-SS7
> > switches where the switch legs were completed as the number
> > was dialed (and later DTMFed) in. As soon as the switch that
> > the present call leg terminated knew enough to either terminate
> > the call or forward the call to another call leg ... that is what it did.
> 
> Indeed, if you look at the numbering schemes in Germany and (I believe)
> France, you will find a strict geographical hierarchy, with regional
> centers having shorter numbers. In the days of stepper switches, each
> switch would simply connect to the next CO, which would interpret the
> next digit. Extra digits are ignored, as usual.
> 
> As an aside, this makes GLP/TRIP much easier - you don't have to carry
> around a list of 105 exchange codes when advertising your local calling
> area (the number 105 is the length of the list for Leonia, NJ).

My question about pstn operation was a bit more specific. As you say, an
exchange has some short table of prefixes, and for each, a "next hop"
switch which will know how to handle additional digits. My question is,
would this table include two prefixes that overlap, with a different
next hop? In other words, would a European switch have:

+1  -> switch A
+1 212 -> switch B

In this case, when it gets a "1", it can't yet make a decision, since if
a 212 follow it, the IAM gets sent to switch B instead of A.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:08:58 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10827
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:08:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2B2DB52FB; Fri, 19 Nov 1999 11:03:55 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CC9D352FA; Fri, 19 Nov 1999 11:03:51 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 145BF52F9
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:03:02 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 19 11:01:18 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Fri Nov 19 11:00:04 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id SAA04899;
	Fri, 19 Nov 1999 18:01:45 +0200 (EET)
Received: from lmf.ericsson.se (E005004F8DB68 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id SAA18753;
	Fri, 19 Nov 1999 18:01:10 +0200 (EET)
Message-ID: <38357444.F6D80BC@lmf.ericsson.se>
Date: Fri, 19 Nov 1999 18:01:08 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: mramalho@cisco.com
Cc: jdrosen@dynamicsoft.com, dean.willis@wcom.com,
        sip@lists.research.bell-labs.com
Subject: Re: Overlap signaling to INVITE (Was RE: Comments  
 ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
References: <4.1.19991119071625.00a66600@localhost>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



mramalho@cisco.com wrote:
> 
> Jonathan,
> 
> re: "Anyone know how this is handled in the phone network? How
> does a switch know when it has enough digits to make a routing decision?"
> 

Every switch performs B-number analisys and knows that if the number is
inside a certain range it has to be routed to a certain next hop.

Example:

+358 9 299 3371

With +358 the signalling can be routed up to an internatinal gateway in
Finland.

+358 9

The signalling is rounted up a swtich in Helsinki.

+358 9 299

The signalling is routed to the PBX of Ericsson Finland.

Now, if the next digit is 1, you will speak to the front desk, but if
the digits dialed are 3371 you will reach my phone.

So, every switch knows about the next hop, but nothing else.

Gonzalo




> For the overlap sending case ... it is as both Dean and Henry
> described .... sometimes you don't know until you hit the last switch.
> 
> This variable-length phone number problem dates back to pre-SS7
> switches where the switch legs were completed as the number
> was dialed (and later DTMFed) in. As soon as the switch that
> the present call leg terminated knew enough to either terminate
> the call or forward the call to another call leg ... that is what it did.
> 
> Henry had an example where the number for a university he
> attended in Europe where yyy-zzz-0 for the university operator,
> yet something like yyy-zzz-qqq, where qqq is his phone number.
> 
> Clearly only the last switch knew if 0** was to be completed
> to the operator (as soon as the zero was dialed) and that no
> other phone numbers were to begin with a zero.
> 
> Thus the required number of digits is only known by the keeper
> of the (local) numbering plan. It is probably unrealistic for the
> originating proxy to know it a priori.
> 
> Thus you probably need a heuristic tree like Dean posted
> yesterday.
> 
> Michael
> 
> At 12:25 AM 11/19/99 -0500, Jonathan Rosenberg wrote:
> >
> >
> >Dean Willis wrote:
> >>
> >> Jonthan proposed a handling for overlap:
> >> > What if, rather than encapsulating subsequent digits into INFO, they are
> >> > added to the request URI in an INVITE? A local proxy for the gateway
> >> > will respond with 484 to all those that don't have enough digits until
> >> > it gets one that does have enough. So:
> >>
> >> Could be some fascinating interactions with TRIP and ENUM using this
> >> approach.
> >
> >Its going to be a general complication of overlap sending. Using INFO or
> >something else will be just at least as bad, probably worse. The lesson
> >is to use en-bloc. Fortunately, my proposed INVITE approach doesn't
> >require special processing; just that standard processing will be
> >duplicated for each INVITE.
> >
> >
> >> Of course, this sort of depends on length-constrained prefix-matching in
> >> TRIP and ENUM . . . you wouldn't want to match on a partial prefix and
> >> dispatch before receiving all of the digits.
> >
> >Actually, for TRIP, thats exactly what you want to do. The whole idea is
> >that a given proxy doesn't have a complete digit map to fully route the
> >number. It knows enough to forward it somewhere else (that somewhere
> >else knowing even more). Its complicated in the case where a proxy has a
> >prefix A which is less specific than B, with A and B having different
> >next hops. In this case, you kind of want to wait for enough digits to
> >fill the longest prefix you have. Note this is not *all* the digits;
> >just enough to fill the longest prefix.
> >
> >Anyone know how this is handled in the phone network? How does a switch
> >know when it has enough digits to make a routing decision?
> >
> >-Jonathan R.
> >--
> >Jonathan D. Rosenberg                       200 Executive Drive
> >Chief Scientist                             Suite 120
> >dynamicsoft                                 West Orange, NJ 07052
> >jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> >http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> >http://www.dynamicsoft.com
> >
> >
> 
> Michael A. Ramalho, Ph.D.
> Cisco Systems
> Wall Township, NJ
> Office email: mramalho@cisco.com
> Personal email: mar42@cornell.edu
> Office: +1.732.449.5762
> Cell: +1.732.809.0188

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:12:56 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA12077
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:12:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4394952FD; Fri, 19 Nov 1999 11:09:32 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 68D0F52F9; Fri, 19 Nov 1999 11:09:31 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5090C52FD
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:09:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 11:08:11 EST 1999
Received: from mailman.cisco.com ([171.68.225.9]) by dusty; Fri Nov 19 11:06:58 EST 1999
Received: from chsharp-tecra (chsharp-isdn.cisco.com [171.68.116.221]) by mailman.cisco.com (8.8.8+Sun/CISCO.SERVER.1.2) with ESMTP id IAA13651; Fri, 19 Nov 1999 08:07:48 -0800 (PST)
Message-Id: <4.2.0.58.19991119105534.00a5f820@dogwood.cisco.com>
X-Sender: chsharp@dogwood.cisco.com
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Fri, 19 Nov 1999 11:05:11 -0500
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
From: Chip Sharp <chsharp@cisco.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Cc: <sip@lists.research.bell-labs.com>
In-Reply-To: <002501bf31d7$31036920$0200000a@tkw>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

At 02:58 PM 11/18/99 +0000, Pete Cordell wrote:
>Jonathan,
>
>-----Original Message-----
>From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
>To: Pete Cordell <pete@tech-know-ware.com>
>Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>Date: 17 November 1999 13:58
>Subject: Re: DTMF signaling between media gateways - ouch!

...snip...


><some old stuff snipped>
>
> >>
> >> But DTMF is a signalling protocol, albeit crude, and ought to be aligned
> >> with other signalling information, such as transfer, end call etc.
> >
> >Well, if DTMF is such a crude signaling protocol, I'd rather have the UA
> >point
> >convert it to a non-crude functional equivalent, as we already do right
> >now for
> >things like INVITE.
>
>DTMF may be crude, but in fact it's its simplicity that makes it so useful.
>(It's a bit like ones and zeros are fairly crude, but we seem to manage with
>them OK!)
>
>Also, as you say, the timing of the DTMF is important, but this timeliness
>also needs to be maintained relative to any functional service.  The best
>way to do this is to put all such signalling down the the same hole.

In designing ISDN terminals back in the early-mid '80s there was the idea 
that everything would be done via ISDN signaling and DTMF would go 
away.  Lots of functionality was built into the phones (to do both 
functional and non-DTMF stimulus signaling) and user-user information 
elements were defined (and codeset 6) for those cases in which signaling 
was needed between the user and a non-telco enhanced service provider.

However, terminal designers quickly found that inband DTMF generators were 
required on ISDN phones.  One big reason was that these phones had to 
interwork with legacy call center equipment.  The other reason was that 
reality intruded and terminal designers quickly found that not all switch 
vendors or ISDNs would actually carry these information elements in "the 
same hole".  Therefore, the only reliable method of signaling between the 
ISDN phone user and enhanced service provider was inband DTMF.

This discussion seems analogous to the old ISDN problem.  If keypad entries 
are carried in SIP messages along the signaling path, the user and the call 
center application are at the mercy of SIP service provider for their 
service and business.  Carrying keypad entries directly between the MG and 
the call center provides the only signaling transparent to the SIP service 
provider.


> >
> >-Jonathan R.
> >--
> >Jonathan D. Rosenberg                       200 Executive Drive
> >Chief Scientist                             Suite 120
> >dynamicsoft                                 West Orange, NJ 07052
> >jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> >http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> >http://www.dynamicsoft.com
> >
>
>Pete
>
>=============================================
>Pete Cordell
>pete@tech-know-ware.com
>=============================================
>
>

Support NetAid!  http://www.netaid.org
--------------------------------------------------
Chip Sharp                 Consulting Engineering
Cisco Systems              Telco Bio-region
Reality - Love it or Leave it.			
--------------------------------------------------



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:19:44 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA14427
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:19:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8FFFA52F9; Fri, 19 Nov 1999 11:17:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 036C152FA; Fri, 19 Nov 1999 11:17:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 160A652F9
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:17:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 19 11:16:04 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Fri Nov 19 11:14:49 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqaj03523;
	Fri, 19 Nov 1999 16:20:43 GMT
Received: from dynamicsoft.com (1Cust228.tnt2.freehold.nj.da.uu.net [63.17.114.228])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id LAA23732;
	Fri, 19 Nov 1999 11:15:55 -0500 (EST)
Message-ID: <38357878.ABF8960E@dynamicsoft.com>
Date: Fri, 19 Nov 1999 11:19:04 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383421EB.5C188344@dynamicsoft.com> <383570FB.C4691B00@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Gonzalo Camarillo wrote:
> 
> > 4. This works *even* if there is misordering of re-INVITEs. The egress
> > gateway computes the SAMs based on differentials. So, lets say it
> > receives the INVITE with 1555, then the INVITE with 155512. It then
> > sends two SAMs, the first with 1, the next with 2. Lets say, then, that
> > the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
> > old and rejects it.
> 
> This is in principle correct (just taking into account that one SAM can
> contain both digits). But here we have a PSTN-SIP-PSTN situation, and we
> are trying to achieve ISUP transparency. So, the normal behaviour of the
> e-gress gateway is to generate the ISUP messages contained in the MIME
> body of the SIP message.

I disagree with the goal you state. SIP is not a transfer protocol. Our
aim is for ISUP transparency in the sense that there is no loss of
information. This can be accomplished through straight transfer of ISUP,
or by allowing for reconstruction of a complete message from the SIP
information. Both approaches achieve transparency. In order to make
operation of the protocol as broadly applicable as possible, I would
strongly recommend including ISUP messages in bodies only when (1) it
provides information that cannot be otherwise reconstructed from SIP
itself, (2) the semantic of the ISUP message matches the semantic of the
SIP message. In this case, the gateway can reconstruct the SAM.
Including it only makes things confusing, since, as I pointed out, the
SAM that is generated may not be the same as the one in the INVITE
itself (this happens when messages are misordered). In fact, inclusion
of SAMs doesn't pass either condition above. The SIP INVITE is a
complete call setup request, akin to IAM, rather than a notification of
additional digits, as SAM is.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:25:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17091
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:25:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B921352FA; Fri, 19 Nov 1999 11:23:25 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 34B1852FE; Fri, 19 Nov 1999 11:23:25 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id CB4A852FA
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:23:11 -0500 (EST)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id LAA19860;
	Fri, 19 Nov 1999 11:23:05 -0500 (EST)
Message-ID: <3835796A.93459C8@cs.columbia.edu>
Date: Fri, 19 Nov 1999 11:23:06 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "Michael A. Ramalho" <mramalho@cisco.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Overlap signaling to INVITE (Was RE: Comments 
	 ondraft-camarillo-mmusic-sip-isup-bcp-00.txt)
References: <000801bf321a$314f91e0$939623a6@mcit.com> <4.1.19991119071625.00a66600@localhost> <38356998.A11838DE@cs.columbia.edu> <3835754F.C587CD4B@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> 
> +1  -> switch A
> +1 212 -> switch B
> 
> In this case, when it gets a "1", it can't yet make a decision, since if
> a 212 follow it, the IAM gets sent to switch B instead of A.
> 

To use a real (simplified) example:

+49 2*  is the Rhineland.
+49 228 is Bonn 
+49 221 is Cologne (city of),
+49 2232 is a city near Cologne.

(Generally, +49 .. 1 seems to be the favorite way to terminate the area
code for the codes with fewer than 4 digits.)

Assume a call to +49 2232 something. The call gets to +49, which
processes the next digit (2). It then directs calls to the Rhineland
regional center. That center gets the next digit (say, 2). If it's a 1
or 8, it knows that the area code is done with and directs the call to
the CO in the city of Bonn or Cologne. Otherwise, it knows the area code
has an additional digit, and in the example, sends the call to the 223
switching center, based on the next digit. The 223 switching center uses
the next digit to find the smaller town, applying the same prefix
algorithm.

Any of these numbers have to have the Huffman prefix property, i.e.,
there can't be a city with the area code +49 2281.

If you are interested in this,
http://set.gmd.de/~halfmann/daten/avon.html
has the complete list. Area codes range in size from 2 (Berlin) to 5
(small towns near Berlin).



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 11:49:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA27813
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 11:49:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3B53352FE; Fri, 19 Nov 1999 11:47:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B0A0652FF; Fri, 19 Nov 1999 11:47:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C2FD052FE
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 11:47:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 11:46:21 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Fri Nov 19 11:45:08 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id MAA04069;
	Fri, 19 Nov 1999 12:50:55 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Fri, 19 Nov 1999 11:47:57 -0600
Message-ID: <004e01bf32b6$376de990$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
In-reply-to: <38356253.552DD8F3@lmf.ericsson.se>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gonzalo,
	I agree with every thing you have detailed except for
the statement extracted below.  I agree the problem is 
getting smaller and smaller since it really is a hold 
over from pre-SS7 days. My question is why do we need 
to provide backwards compatibility? Mobile seems to have
done a very good job of not providing this.
Why not take the same approach as mobile and exclude support?

IMHO this is one legacy PSTN function that needs left on the PSTN.
The amount of work required to support the feature is just
not justified.

Matt


> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gonzalo
> Camarillo
> Sent: Friday, November 19, 1999 8:45 AM
> To: jdrosen@dynamicsoft.com
> Cc: Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
> Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt

snip-->

> The problem of a user typing # :
> In the States 'en-bloc' signalling is used, so this is not needed. In
> Europe, the use of 'en-bloc' signalling is becoming more and more common
> due to the use of mobiles (in Finland there are more mobiles than fixed
> phones).
 >Therefore, the problem i getting smaller and smaller.
> However, we have to provide backwards compatibility.
> We are here for finding a solution to the problem. If we do not find a
> solution, we can tell all the users to press # after the phone number,
> but I wouldn't say that this is "finding a solution" :o)

end snip-->




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 12:55:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26193
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 12:55:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id EB2AF52FF; Fri, 19 Nov 1999 12:53:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 670815300; Fri, 19 Nov 1999 12:53:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 769FF52FF
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 12:53:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 12:52:18 EST 1999
Received: from beamer.mchh.siemens.de ([194.138.158.163]) by dusty; Fri Nov 19 12:51:06 EST 1999
Received: from blues.mchh.siemens.de (mail3.mchh.siemens.de [194.138.158.227] (may be forged))
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id SAA19933
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 18:51:42 +0100 (MET)
Received: from mchh201e.demchh201e.icn.siemens.de ([218.1.68.104])
	by blues.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id SAA00457
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 18:50:12 +0100 (MET)
Received: by MCHH201E with Internet Mail Service (5.5.2448.0)
	id <WWGZ4ZJV>; Fri, 19 Nov 1999 18:53:06 +0100
Message-ID: <679076A067F2D211A8F70090274481B81512FA@lnn201e.lan.siemens.fr>
From: Samandi Sami <Sami.Samandi@SRIT.siemens.fr>
To: sip@lists.research.bell-labs.com
Subject: SIP <--> H.323 mapping
Date: Fri, 19 Nov 1999 18:22:12 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by ietf.org id MAA26193

HI,

  Is there any work done on this group or other related groups (Iptel,
mmusic, ...) on mapping between H.323 and SIP ? I am specially interested on
mapping with Q931 ? This is maybe an implementer question treated in a
implementor list. If such a list exist please tell me.

Thank you
Sami

> Sami SAMANDI
	SIEMENS Rseaux Informatiques et Tlcommunications
> 3 Rue Blaise Pascal
> 22300 LANNION
> France
> 
> 
> 
> 
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 13:57:55 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA24179
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 13:57:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8528B52F4; Fri, 19 Nov 1999 13:55:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F033E5301; Fri, 19 Nov 1999 13:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6D24F52F4
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 13:55:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 13:54:19 EST 1999
Received: from firewall.hypercom.com ([208.248.82.2]) by dusty; Fri Nov 19 13:53:06 EST 1999
Received: by firewall.hypercom.com; id LAA06549; Fri, 19 Nov 1999 11:53:36 -0700 (MST)
Received: from citadel.hypercom.com(10.0.2.39) by firewall.hypercom.com via smap (4.1)
	id xma006525; Fri, 19 Nov 99 11:53:34 -0700
Received: from smtp.hypercom.com (smtp.hypercom.com [10.0.2.36])
	by citadel.hypercom.com (8.8.8/8.8.8) with SMTP id LAA25002;
	Fri, 19 Nov 1999 11:54:02 -0700 (MST)
Received: from POP3 Client by smtp.hypercom.com (ccMail Link to SMTP R8.30.00.7)
    id AA943037482; Fri, 19 Nov 1999 11:51:23 -0700
Message-Id: <9911199430.AA943037482@smtp.hypercom.com>
X-Mailer: ccMail Link to SMTP R8.30.00.7
Date: Fri, 19 Nov 1999 11:53:58 -0700
From: Larry Cox <lcox@neta.com>
To: <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: 183, BCP & forking 
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="simple boundary"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


--simple boundary
Content-Type: text/plain; charset=US-ASCII
Content-Description: "cc:Mail Note Part"
Content-Transfer-Encoding: 7bit

Some common Centrex type behavior patterns are also significant problems.
Example:

1) a call to site A rings at stations 1 and 2.
2) after 10 seconds un-answered,
   station 3 is added to the ring list.
   1 and 2 are still ringing.
3) after 10 more seconds station 4 is added to the ring list.
   four stations are now ringing.
4) after 10 more seconds ring is canceled on all four stations.
   the call is forwarded to station 1 at site B

This is an example of the type of call features that people want to add to
simple systems. The problem that we are facing is the requirement that
responses at the origin of the call have to make sense even though we do
not have easy access to the information required to keep the decisions
simple at the destination end of the call. It has mostly been assumed that
intelligence at the destination end was required to achieve rational
behavior on a complex call. Even though I sometimes wonder if it is safe to
remove that assumption, our objective is to enable complex calling
capability across multiple switching systems. If we send an INVITE to a
node that starts ringing on multiple stations and concurrently to a second
node that produces multiple responses, it is easy to describe an
environment that will produce several irrelevant media responses and also
result in the call being answered in multiple locations. At present PBX and
Centrex systems can respond quick enough to cancel ring a few milliseconds
after the call is answered on one ringing station. In a distributed
environment, latency will result in much more unpredictable behavior.
Instead of picking up a ringing phone and hearing dial tone (resulting in
the conclusion that the calling party had already disconnected), there
could easily be 2 or more seconds of silence resulting in the conclusion
that the calling party waited to identify who answered and then
disconnected. On a cell phone, this could also result in the answering
party being billed for the wasted air time.

Larry

At 02:20 PM 11/19/99 +0200, you wrote:
>Hi,
>
>The problem is still there.
>
>Why do we have to hear the announcement related to the first 183
>received and not the announcement related to the second one? Just
>because the first 183 response arrived a few miliseconds before?? It
>does not sound very good to me...
>
>Even it is not that clear that an announcement has always higher
>preference than a ringback tone (180 vs 183 responses).
>
>If SIP is going to interoperate with the PSTN we have to have a
>predictable behaviour... that is, the user knows what's going on when he
>listens to the handset (remember that the user may not have a display a
>monitor).
>
>The idea of 1xx reponses with media (when it comes to PSTN-SIP
>interworking) is to be able to hear the ringback tone generated by the
>last PSTN exchange. If we are going to hear this ringback tone from one
>branch and then we are going to connect to another branch (because a 200
>OK has arrived from the other branch), the ringback makes little sense.
>It would change the semantics of the ringback tone for the PSTN user.
>
>The parelell searching sounds like a good idea for reaching a user
>saving some time. The problem is how to have the user updated about the
>status of the different branches. If we cannot keep the user updated it
>is better to perform sequencial search.
>
>Gonzalo
>
>
>jdrosen@dynamicsoft.com wrote:
>> 
>> "Adam B. Roach" wrote:
>> >
>> > For your example, I'd say it's pretty obvious that you need to CANCEL
>> > the branch that sent a 183 (and be prepared to BYE it), and switch the
>> > media to the 200.
>> 
>> You can't CANCEL individual branches. CANCEL is for the whole
>> transaction.
>> 
>> > I'm not going to approach the first one right now. For the second
>> > one, I've toyed around with the concept of defining an ordering for the
>> > 1xx status codes; e.g.:
>> >
>> > - If you receive a 180 with a media session, the proxy will forward it
>> >   unless it's already passed a 1xx with a media session.
>> >
>> > - If you receive a 181-183 with a media session, the proxy will forward it
>> >   unless it's already passed a 181-183 with a media session.
>> >
>> > In this way, a user may hear ringtone, followed by an announcement
>> > (from a different branch) that the call has been queued; but never
>> > the other way around (since the ringtone could interrupt a word).
>> 
>> The problem can also be solved locally at the UA through RTP. The UA
>> will be able to distinguish one audio stream from the other (we'll
>> eventually have an end to end provisional acknowledgement which can
>> contain SDP with an updated port number). Thus, it can simply not play
>> audio from a 180 on one branch after getting a 183 with audio on
>> another.
>> 
>> -Jonathan R.
>> 
>> --
>> Jonathan D. Rosenberg                       200 Executive Drive
>> Chief Scientist                             Suite 120
>> dynamicsoft                                 West Orange, NJ 07052
>> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>> http://www.dynamicsoft.com
>
>-- 
>Gonzalo Camarillo         Phone :  +358  9 299 33 71
>Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>Telecom R&D               Fax   :  +358  9 299 31 18
>FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>Finland
>


======================================

Larry Cox
Senior Software Engineer

Hypercom Network Systems Inc.      Phone: (602) 504-4657
2851 West Kathleen Road            Fax: (602) 504-4711
Phoenix, AZ 85053                  Web: www.hypercom.com
USA


--simple boundary--



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 17:02:40 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16148
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 17:02:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 236B05300; Fri, 19 Nov 1999 16:59:57 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 908E85301; Fri, 19 Nov 1999 16:59:56 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from bronx.dnrc.bell-labs.com (bronx [135.180.160.8])
	by lists.research.bell-labs.com (Postfix) with ESMTP id 33FDB5300
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 16:59:41 -0500 (EST)
Received: from cs.columbia.edu (ume [135.180.240.103])
	by bronx.dnrc.bell-labs.com (8.9.3/8.9.3) with ESMTP id QAA28420;
	Fri, 19 Nov 1999 16:59:38 -0500 (EST)
Message-ID: <3835C84D.BFC3BACE@cs.columbia.edu>
Date: Fri, 19 Nov 1999 16:59:41 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
X-Mailer: Mozilla 4.05 [en] (WinNT; U)
MIME-Version: 1.0
To: Matt Cannon <mcannon@broadbandoffice.net>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <004e01bf32b6$376de990$8b0e503f@broadbandoffice.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Matt Cannon wrote:
> 
> Gonzalo,
>         I agree with every thing you have detailed except for
> the statement extracted below.  I agree the problem is
> getting smaller and smaller since it really is a hold
> over from pre-SS7 days. My question is why do we need
> to provide backwards compatibility? Mobile seems to have
> done a very good job of not providing this.
> Why not take the same approach as mobile and exclude support?
> 
> IMHO this is one legacy PSTN function that needs left on the PSTN.
> The amount of work required to support the feature is just
> not justified.
> 
>
One subtle difference is that people have been trained to expect this on
mobile phones, but on black phones, it would sometimes work with
immediate ringback and sometimes with delayed ringback and timeout, if
carried via VoIP. Depending on how the gateway works, the behavior may
even change from call to call, e.g., if the gateway keeps the call on
the PSTN during periods of Internet congestion.

On the other hand, callers in the US expect that international calls
take a bit longer to set up, so this is probably mostly a problem for
intra-European calls...

As a historical side note, call setup delays of above ten seconds were
not uncommon not that many years ago (see Duffy and Mercer, 1978).


Henning



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 17:39:35 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA03386
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 17:39:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id AA23152FA; Fri, 19 Nov 1999 17:37:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 28A5B5301; Fri, 19 Nov 1999 17:37:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CA61352FA
	for <sip@lists.research.bell-labs.com>; Fri, 19 Nov 1999 17:37:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 19 17:36:26 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Fri Nov 19 17:35:13 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id SAA10738;
	Fri, 19 Nov 1999 18:41:03 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: "'Henning Schulzrinne'" <schulzrinne@cs.columbia.edu>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Fri, 19 Nov 1999 17:38:05 -0600
Message-ID: <006401bf32e7$2142e6d0$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
In-reply-to: <3835C84D.BFC3BACE@cs.columbia.edu>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Agreed,
	But even in the Intra-European wire-lined phones,
the use of overlap sending is disappearing(slowly) with
the introduction of the competitive environments and the
newer carriers. My major point was that the use of SIP 
for voice should be treated much the same way as mobile.
The expectation is that there will be enough value
add in the way of features and cost, that 'polluting' the
mechanism by which that value is added(SIP), by trying to
support some of the more esoteric legacy features is 
probably a bad thing. Just a thought.

I am the ultimate bellhead here folks, but even I recognize
that if you try and reproduce every feature of the existing
PSTN your gonna wind up with something that is no better 
than the PSTN. SIP derives much of its power from its simplicity
and ease of implementation. If overlap can be accommodated
without adding new verbs, headers or response messages and 
a minimum amount of complexity in UAC/S, great. If it cannot,
I would leave it behind on the PSTN where it belongs.

Matt


> -----Original Message-----
> From: Henning Schulzrinne [mailto:schulzrinne@cs.columbia.edu]
> Sent: Friday, November 19, 1999 4:00 PM
> To: Matt Cannon
> Cc: 'Gonzalo Camarillo'; sip@lists.research.bell-labs.com
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> 
> Matt Cannon wrote:
> > 
> > Gonzalo,
> >         I agree with every thing you have detailed except for
> > the statement extracted below.  I agree the problem is
> > getting smaller and smaller since it really is a hold
> > over from pre-SS7 days. My question is why do we need
> > to provide backwards compatibility? Mobile seems to have
> > done a very good job of not providing this.
> > Why not take the same approach as mobile and exclude support?
> > 
> > IMHO this is one legacy PSTN function that needs left on the PSTN.
> > The amount of work required to support the feature is just
> > not justified.
> > 
> >
> One subtle difference is that people have been trained to 
> expect this on
> mobile phones, but on black phones, it would sometimes work with
> immediate ringback and sometimes with delayed ringback and timeout, if
> carried via VoIP. Depending on how the gateway works, the behavior may
> even change from call to call, e.g., if the gateway keeps the call on
> the PSTN during periods of Internet congestion.
> 
> On the other hand, callers in the US expect that international calls
> take a bit longer to set up, so this is probably mostly a problem for
> intra-European calls...
> 
> As a historical side note, call setup delays of above ten seconds were
> not uncommon not that many years ago (see Duffy and Mercer, 1978).
> 
> 
> Henning



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 19 19:16:45 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA19355
	for <sip-archive@odin.ietf.org>; Fri, 19 Nov 1999 19:16:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1255F52EB; Fri, 19 Nov 1999 18:09:06 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 56D225302; Fri, 19 Nov 1999 18:09:05 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9BE0D52B6
	for <sip@lists.research.bell-labs.com>; Thu, 18 Nov 1999 11:37:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 18 11:37:04 EST 1999
Received: from lmmx1.fl.icn.siemens.com ([192.132.51.129]) by dusty; Thu Nov 18 11:35:50 EST 1999
Received: from li01.lm.ssc.siemens.com (li01.lm.ssc.siemens.com [135.5.43.54])
	by lmmx1.fl.icn.siemens.com (8.9.3/8.9.3) with SMTP id LAA14389;
	Thu, 18 Nov 1999 11:26:14 -0500 (EST)
Received: by li01.lm.ssc.siemens.com(Lotus SMTP MTA v4.6.3 (778.2 1-4-1999))  id 8525682D.005ACE20 ; Thu, 18 Nov 1999 11:31:50 -0500
X-Lotus-FromDomain: ICN
From: Steve.Carr@icn.siemens.com
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Message-ID: <8525682D.005ACC48.00@li01.lm.ssc.siemens.com>
Date: Thu, 18 Nov 1999 11:27:35 -0500
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk



I think this will work. In order to help you with the ISUP, I just checked Q763.
The SAM cannot contain any additional information except additional digit(s).
This means that it is not neccessary to send a SAM for each digit, but one SAM
can be sent with as many additional digits as are available, so

"The egress gateway computes the SAMs based on differentials. So, lets say it
receives the INVITE with 1555, then the INVITE with 155512. It then
sends two SAMs, the first with 1, the next with 2."

can be modified with

"It then sends one SAM, with both digits 1 and  2."

Steve Carr
Unisphere Solutions, Inc.





Jonathan Rosenberg <jdrosen@dynamicsoft.com> on 11/18/99 10:57:31 AM

To:   Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
cc:   Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
      Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com (bcc:
      Steve Carr/Internet/ICN)
Subject:  Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt




What if, rather than encapsulating subsequent digits into INFO, they are
added to the request URI in an INVITE? A local proxy for the gateway
will respond with 484 to all those that don't have enough digits until
it gets one that does have enough. So:






Ingress GW            P             Egress GW

INV tel:1 ------------>
CSeq: 1

INV tel:12 ----------->
CSeq: 2


<---------484 --------
          CSeq: 1

INV tel:121 --------->
CSeq: 3

<---------484 -------
          CSeq: 2

INV tel:1212 --------> ---------------------->   IAM 1212---------->
CSeq: 4

<--------------484----
               CSeq: 3

INV tel:12125---------> ----------------------> SAM 5 ------------->
CSeq: 5

INV tel:121255 -------> ----------------------> SAM 5 ------------->
CSeq: 6

INV tel:1212555 ------> -----------------------> SAM 5 ------------>
CSeq: 7

.......(same thing for digits 1, 2, 1)

INV tel:12125551212----> ---------------------> SAM 2 -------------->
CSeq: 11                                        <---------ACM-------

                         <------484-----------
                                CSeq: 5
                         <------484-----------
                                CSeq: 6
                               .......
                         <------484
                                CSeq: 10
                         <---183--------------
                                CSeq: 11


Ok, so let me explain. Proxies do routing just on longest prefix matches
for INVITE's. So, proxy P can be stateless actually, as it just forwards
INVITEs that match 1212. The ingress gateway sends a re-INVITE (possibly
without waiting for a response to the previous INVITE) every time a new
digit is received from the PSTN. Once the proxy has enough digits to
route, it won't send 484 anymore, and forwards it to the egress gateway.
The egress gateway is smart, and creates an IAM from the first INVITE.
Subsequent re-INVITEs cause SAMs to be sent, containing the difference
in the set of digits from the previous INVITE. Once the egress gateway
receives an ACM (address complete, right?), it responds with a 484 to
all the INVITEs but the last, and the final INVITE with a 183. Things
progress normally from there.

Implications:

1. proxies don't have to know anything about INFO or ISUP. They just
have to know longest prefix match routing for phone numbers. They can
even be stateless.

2. egress gateways that know ISUP effectively re-generate the SAMs

3. if the egress point is not an ISUP gateway, but a PC terminal or
something that happens to have a phone number as its name, it will have
to know enough to reject each INVITE until it gets one with a request
URI/To field that matches its own number. This, BTW, is normal behavior.
A UAS rejects an INVITE if the URI is for an address thats not its own.

4. This works *even* if there is misordering of re-INVITEs. The egress
gateway computes the SAMs based on differentials. So, lets say it
receives the INVITE with 1555, then the INVITE with 155512. It then
sends two SAMs, the first with 1, the next with 2. Lets say, then, that
the INVITE with 15551 comes. Based on CSeq, the egress gateway knows its
old and rejects it.

5. The ingress gateway doesn't depend on special messages or a
completion character, like #, to send an INVITE.




Its very possible I've completely missed something, as I'm hardly an
ISUP expert. Perhaps there is additional data in SAM such that it MUST
be sent across, rather than being regenerated. But, the above solution
seems nice, as it doesn't break anything, works with non-ISUP
terminating points, doesn't require users to dial a # at the end of the
digit string, etc.

Comments?

-Jonathan R.


Gonzalo Camarillo wrote:
>
> It is nicer to send complete URIs in the "to" header. If the i-gateway
> sends the INVITE before receiveing all the digits, the "to" header is
> not complete. It would contain just a few digits of the whole telephone
> number (this assumes that with just some digits the i-gateway figures
> out where to send the INVITE).
>
> Gonzalo
>
> Adam.Roach@ericsson.com wrote:
> >
> > >The use of a timer to force enbloc signaling is not acceptable. In the case
> > >of SIP bridging, subscribers originating calls from the PSTN will not
accept
> > >an artificial post-dial delay (even if it is just a few seconds long).
> > >Overlap signaling must be supported. It is essential that the overlap
> > >process takes place within the context of a single session - using the
> > >suggested INVITE/CANCEL/INVITE approach would result in multiple abortive
> > >calls being delivered to the terminating agent, which would not be
> > >acceptable.
> > >
> > >Why not send an INVITE message when the ISUP IAM is received and then send
> > >subsequent INFO messages for each ISUP SAM? I understand that "pure" SIP
> > >agents will expect the INVITE to contain the complete address of the called
> > >party. This could be handled by including support for overlap in the
> > >"Require" extensions (draft-roach-mmusic-sip-pstn-require-header-00.txt).
If
> > >the terminator did not support the PSTN extensions, the originator could
> > >then switch to enbloc and wait for the full address to be collected.
> >
> > There are a variety of problems here. The first is determining how
> > intervening proxies will react. If, for example, a proxy is making
> > decisions about where to forward messages based on a called party URI,
> > your suggestion would require it to understand ISUP (for interpretation
> > of SAM message). It also requires it to have number analysis code and
> > dialing plan information (potentially for the entire globe).
> >
> > The problem gets even stranger for redirect servers, which expect to
> > be able to send an immediate response to an INVITE -- not sit around
> > collecting digits.
> >
> > Basically, your suggestion forces overlapped dialing deep into each
> > and every SIP node in the network that is expected to receive calls
> > originating from the PSTN network.
> >
> > I agree that this is a problem that needs to be solved if we intend
> > to use SIP between two PSTN phones; but we need to find a better
> > solution than tunelling SAMs all over the place.
> >
> > We shouldn't overlook human factors: it could be that customers are
> > willing to, for example, be trained to press "#" at the end of a
> > phone number to skip the post-dial-delay.
> >
> > --
> > Adam Roach, Ericsson Inc. |  Ph: +1 972 583 7594 | 1010 E. Arapaho, MS L-04
> > adam.roach@ericsson.com   | Fax: +1 972 669 0154 | Richardson, TX 75081 USA
>
> --
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland

--
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com







From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 20 01:03:52 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA08653
	for <sip-archive@odin.ietf.org>; Sat, 20 Nov 1999 01:03:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1510A52BB; Sat, 20 Nov 1999 01:01:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5ED9F52D5; Sat, 20 Nov 1999 01:01:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1864E52BB
	for <sip@lists.research.bell-labs.com>; Sat, 20 Nov 1999 01:01:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sat Nov 20 01:00:06 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Sat Nov 20 00:58:53 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqcm21830;
	Sat, 20 Nov 1999 06:04:50 GMT
Received: from dynamicsoft.com (1Cust190.tnt2.freehold.nj.da.uu.net [63.17.114.190])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id BAA29256;
	Sat, 20 Nov 1999 01:00:00 -0500 (EST)
Message-ID: <383639A0.5048479E@dynamicsoft.com>
Date: Sat, 20 Nov 1999 01:03:12 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383565D7.99DB0DA3@dynamicsoft.com> <38357276.119E991E@lmf.ericsson.se> <38357450.A11DB101@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Henning Schulzrinne wrote:
> 
> >
> > Yes, you are right. I was thinking about using just one call leg
> > (Call-ID, To, From). As you say, if we use different call legs
> > (different to field) inside the same call (call-ID) upgrading the Cseq
> > for every new request we will avoid the problem I was pointing out.
> >
> However, while this is about the only viable mechanism, new call legs
> make the job more difficult for the SIP-to-ISUP gateway at the egress
> side, in that it now has to make a decision whether this is really a new
> call or not, since one could presumably add call legs to an existing
> call (e.g., in call transfer) in the absence of overlap dialing.

True, but these appear differently. If I receive INVITEs with the same
Call-ID, but a new *From* field, these are new call legs ala multiparty
calls from the call control spec. Receiving INVITEs with the same
Call-ID and different *To* fields has no currently specified behavior,
as I recall. For a normal (not a gateway) UAS, this will probably cause
an error response to be generated, since a UAS won't normally accept
calls that are not addressed to it. A gateway will need to be a bit
smarter, as I have described.

-Jonathan R.


-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 20 01:19:37 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA17225
	for <sip-archive@odin.ietf.org>; Sat, 20 Nov 1999 01:19:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BACA552D5; Sat, 20 Nov 1999 01:17:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 338E352D6; Sat, 20 Nov 1999 01:17:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1E27E52D5
	for <sip@lists.research.bell-labs.com>; Sat, 20 Nov 1999 01:17:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sat Nov 20 01:16:18 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Sat Nov 20 01:15:05 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqcn11563;
	Sat, 20 Nov 1999 06:21:03 GMT
Received: from dynamicsoft.com (1Cust190.tnt2.freehold.nj.da.uu.net [63.17.114.190])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id BAA29261;
	Sat, 20 Nov 1999 01:16:13 -0500 (EST)
Message-ID: <38363D6D.7D0AD132@dynamicsoft.com>
Date: Sat, 20 Nov 1999 01:19:25 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Brett Tate <brett@broadsoft.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Forking and unwanted/unexpected 200 responses for INVITE (was Re: 
 183, BCP & forking)
References: <199911190017.SAA21726@b04a24.exu.ericsson.se> <3834DC62.6BE21557@dynamicsoft.com> <03a401bf32a4$bcfdd3c0$3102a8c0@broadsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Brett Tate wrote:
> 

> > You can't CANCEL individual branches. CANCEL is for the whole
> > transaction.
> 
> The forking example within the August 1999 SIP Draft uses a CANCEL
> message to cancel an individual branch.  Is this no longer valid?
> Or are you saying that the CANCEL can not have a TAG in the TO field.

I'm saying a CANCEL can't have a tag in the To field. In the example you
refer to,
a CANCEL is not sent for the other forked requests as they have already
responded.

> 
> CANCEL appears to be very helpful for services like
> CallForwardingNoAnswer in a proxy server.
> The CANCEL would end ringing on phone B so that phone C could
> be tried next.

Agreed, but you don't need tags for this to work. Just send the CANCEL
to cancel all phones that might currently be ringing, and then send your
next INVITE.

  This actually causes a forking situation since phone B's
> 200 response for INVITE could cross on the wire with the CANCEL.
> Thus 200 responses for INVITEs could be received from both B and C.
> 
> Here are four solutions dealing with forking:
> 
> 1) Phone A (or SIP end node for phone A) would have to send ACK
> and BYE for unwanted or unexpected 200 responses for INVITE.
> I think that this solution best fits the current SIP draft.

I expect this to be the behavior in 99% of the cases.

> 
> 2) Allow proxy servers to send BYEs.  People have mentioned that
> this causes problems concerning the CSeq and encryption.

Yes, this definitely causes problems.

> 
> 3) Allow a CANCEL to trigger a BYE from C if C has sent a 200
> response for the corresponding INVITE.  This action is not specified
> in the SIP draft, but I have not heard a reason against
> this solution (although I assume someone could inform me).

The difficulty is that this fundamentally changes the semantics of
CANCEL. CANCEL does not mean hang up, it means "terminate search".
Consider a typical case. Forking proxy P sends 2 INVITES. It gets a 200
OK to one, and then sends CANCEL to the other. Unfortuantely, this
CANCEL, downstream from the proxy, gets forked again and reaches the UA
which responded with that 200 OK. Now, according to your proposal, this
would cause the call to be hung up. This is not the desired behavior in
this case.

Handling of multiple 200 OK is best left to the UA, since it can hang up
with the additional 200 OKs, as you mention above. Or, it might even
initiate a conference call. However, only the UA can know which to do.


> 
> 4) Allow the proxy server to drop unwanted or unexpected 200 responses
> for INVITEs.  I would not like this solution since I assume not receiving
> an ACK could still allow it to remain in the call.

This isn't guaranteed to work, since only a stateful server can do this.
If a proxy, after receiving a 200 OK, goes stateless, and then receives
another 200 OK, it will be forwarded. In any case, I'd rather let the
end systems decide on the right behavior.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 20 01:47:51 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA03017
	for <sip-archive@odin.ietf.org>; Sat, 20 Nov 1999 01:47:50 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C4F4952D6; Sat, 20 Nov 1999 01:45:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3603452DD; Sat, 20 Nov 1999 01:45:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A4D4D52D6
	for <sip@lists.research.bell-labs.com>; Sat, 20 Nov 1999 01:45:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sat Nov 20 01:43:44 EST 1999
Received: from terra.com21.com ([209.10.47.135]) by dusty; Sat Nov 20 01:42:30 EST 1999
Received: from jpickens.com21.com (pm3-06.com21.com [192.168.80.37])
	by terra.com21.com (8.9.0/8.9.0) with SMTP id WAA11937;
	Fri, 19 Nov 1999 22:43:35 -0800 (PST)
Message-Id: <4.1.19991119210946.029e7950@popserver.com21.com>
X-Sender: jpickens@popserver.com21.com
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Fri, 19 Nov 1999 21:17:31 -0800
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "Gregory D. Girard" <ggirard@mediaone.net>
From: John Pickens <jpickens@com21.com>
Subject: Re: NEW TOPIC: Enhanced Services using SIP and  MGCP
Cc: sip@lists.research.bell-labs.com
In-Reply-To: <38330926.75DEC2E6@dynamicsoft.com>
References: <001a01bf2aad$ec6bf4b0$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I agree with Jonathan's comments.  I would add that an oversimplified set
of models for MGCP and SIP that shows both their differences and their
compatibility is:

MGCP is a protocol for remoting a (slightly smart) line card on a CO/PBX
across an IP network.

SIP is a protocol signaling from a user side PBX/CO to a network side
PBX/CO (when proxies are used, otherwise the user side PBX/COs talk to each
other directly)

Thus a client device implementing MGCP is a simple (slightly smart) line,
and routes media streams via the virtual media switch (aka IP)

Thus a client device implementing SIP is a PBX.

Thus a MGC/Call agent implementing MGCP is a Class5-CO/PBX.

Thus a proxy implementing SIP is a Class 4 CO.

This is oversimplified and slightly inaccurate, but maybe useful in helping
understand why MGCP and SIP work just fine in a network side server/proxy
CO/PBX and don't need any fundamental model extensions.

J

is a protocol for At 02:59 PM 11/17/99 -0500, Jonathan Rosenberg wrote:
>
>
>"Gregory D. Girard" wrote:
>> 
>> It is my observation that basic call completion and management operations
>> supported by SIP are not up to the level of control supported by MGCP.
>
>This is comparing apples and oranges. MGCP is about device
>(specifically, gateway) control. SIP is about setting up calls and
>sessions between participants, some of which may or may not happen to be
>controlled by MGCP. It doesn't matter as far as SIP is concerned.
>
>> Collection of DTMF digits according to a digit map stands as one example,
>> and while "possible" in SIP, is not a basic feature defined for SIP. At the
>> same time, MGCP provides excellent switching-matrix-oriented control over
>> low-level call control operations (including access to physical endpoints in
>> a matrix and DTMF digit maps) but does not provide the high-level signaling
>> required for more generalized "service-oriented" functionality. For example,
>> MGCP cannot tell me ultimately who the call came from nor to whom it was
>> directed, and is only capable of providing physical endpoint addressing.
>> As a result, it would appear that as an integration layer, neither SIP nor
>> MGCP alone would allow an enhanced services platform to receive a call and
>> render a complex service. Neither protocol has all the parts necessary to
>> support anything but the most simple, passively-activated enhanced service
>> (i.e. voice mail).
>
>Last I checked, SIP can support a whole host of enhanced services.
>Perhaps you have some different definition of what these are.
>
>
>> 
>> While it is understood that any number of SIP extensions could be created to
>> support such operations, it would basically require incorporating an MGCP
>> message set into SIP, along with some notion of local or virtual
>> "switching matrix" element to serve as a medium over which those
>> operations would be performed.
>
>Why? A complete solution for IP telephony services might also include
>RSVP, RTP, COPS, Diffserv, TRIP, and CPL, but I certainly wouldn't
>advocate making these all one protocol. If you want to control a MG, and
>then based on its input, signal setup of a call or some services, you
>use both MGCP (to control the MG) and SIP (to signal the call
>establishment).
>
>
>> Where does that leave someone who wishes to tightly integrate an enhanced
>> services platform with a softswitch ? Does one extend one protocol to
>> incorporate features of the other ?  Does one establish and an MGCP
>> session for every SIP connection ? Is is feasible for SIP,
>> as will be specified in forthcoming embodiments, to incorporate low-level
>> call control features contained within MGCP, perhaps on a
>> session-by-session basis ?
>
>I don't see the issue here at all. All of the standard architectural
>drawings for MGCP show the softswitch speaking megaco/mgcp to media
>gateways, and SIP out to proxies and eventually to other softswitches.
>The call services themselves aren't in MGCP. MGCP isn't about calls, its
>about managing media connections. 
>
>> 
>> Thus, for SIP-BCP-T to be useful as more than an inter-softswitch to
>> communictions mechanism for call setup/tear down, does it make sense
>> to rethink its mission in life with respect to enhanced services, or is that
>> capability
>> already inherent in SIP ?
>
>As I have mentioned above, numerous "enhanced services" are possible in
>SIP. The presence of an ISUP payload does not change the ability of a
>proxy to deliver these services. 
>
>
> To say that any "SIP implementer" can add this
>> functionality
>> is not at all helpful because without general agreement of features it
>> becomes
>> impossible to promote vendor-specific extensions as any "standard" at all.
>> I am aware of the SIP call control extensions exist for blind transfer an
>> other such features.
>
>You seem to be implying that each service requires some kind of
>extension ontop of SIP to work. That is just plain false. Services are
>defined by the logic sitting on top of a SIP UA or proxy. The features
>this logic invokes do not need anything beyond normal SIP services in
>order to work. A simple example is call forward to voicemail on
>no-answer. Lets say this service is being provided by a proxy. When it
>receives a call, it looks up in its database the name of the called
>party. Seeing that this customer subscribes to this service, the call is
>forwarded to their currently registered address. Based on normal SIP
>processing, the phone rings. After some time, the proxy decides that the
>call is not answered. It sends a CANCEL, and per normal SIP rules, the
>phone stops ringing. Then, the proxy forwards the INVITE to a specific
>voicemail server, which answers and records a message. This service
>didn't require any kind of special extension in the clients; its based
>solely on logic that guides proxy operations.
>
>> 
>> I am also aware that the basic problem in putting SIP and MGCP together
>> relates to the fact that SIP is oriented to managing call sessions
>> whereas MGCP is oriented towards managing switching matrixes.
>> An Enhanced Service Platform needs to operate on both planes.
>
>Why? Having no definition of "Enhanced Service Platform", its hard to
>know what you mean. However, if you want call services, these reside on
>SIP, since SIP handles call establishment. 
>
>
>> Basic features required for Enhanced Services Platform (ESP) intergration
>> with a softswitch include the following list below. This is an e-mail
>> message for general consideration written off the top of my head in 15
>> minutes and not an exhaustive treatment of the subject; so I would ask that
>> commentary of the items below focus on the general control issues as can
>> best be interpreted from the muddled presentation. The terms "call",
>> "connection" and "call leg" mean different things to different technology
>> domains. Keep in mind below that the ESP may incorporate the "announcement
>> server" in some cases, thus connections that require play/record of prompts
>> will potentially terminate on ESP.
>> 
>> 1- Originate/Answer/Disconnect voice connections between any two network
>> addresses. Connections managed under control of Softswitch and potentially
>> even terminating on ESP for IVR purposes; all connections routed through a
>> MG under Softswitch control.
>> 
>> 2- Monitor Q.931 (or equivelent) call state information for specified call
>> session under
>> control of Softswitch
>> 
>> 3- Collect DTMF digits on specified connection
>> 
>> 4- Generate DTMF digits on a specified connnection (for pager dialing
>> interface, for example)
>> 
>> 5- Create/Add/Remove full or half-duplex call leg to call under control of
>> Softswitch, potentially terminating on ESP (all connections routed MG under
>> Softswitch control)
>> 
>> 6- Transfer one call/connection to another
>> 
>> 7- Originate/Answer/Disconnect connection under control of softswith with
>> media type of T.38 fax such fax image may be transmitted and received using
>> DSP fax algorithms residing in certain MGs under control of Softswitch.
>>
> > Any commentary of accomplishing this level of interface using SIP
>would be
>> greatly appreciated. If nothing else, I offer to those thinking about SIP
>> some relevent context for the application of their work. It would seem that
>> interfacing
>> with ESP would be an important consideration for and future revisions of
>> SIP, and
>> thus this inquiry may stimulate some discussion of the topic.
>
>You seem to have confused a lot of things together with this list. For
>example, transferring a media connection (i.e., a MG first sends media
>to A, then to B) is a clear MGCP function, but transferring a call is a
>clear SIP function. To perform an actual call transfer using a
>softswitch, you will need SIP to signaling the call transfer. The
>softswitch then uses MGC to execute the connection transfer after the
>new SIP call leg is set up.
>
>-Jonathan R.
>-- 
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120 
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>



John R. Pickens PhD 
COM21 VP Technology and CTO
408 953 9228, 510 459 4878 Cell



From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 20 22:21:51 1999
Received: from lists.research.bell-labs.com (lists.research.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA00564
	for <sip-archive@odin.ietf.org>; Sat, 20 Nov 1999 22:21:50 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 317FC52BB; Sat, 20 Nov 1999 22:19:18 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9476752D5; Sat, 20 Nov 1999 22:19:17 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C84A052BB
	for <sip@lists.research.bell-labs.com>; Sat, 20 Nov 1999 22:19:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sat Nov 20 22:18:06 EST 1999
Received: from web1402.mail.yahoo.com ([128.11.23.166]) by dusty; Sat Nov 20 22:16:50 EST 1999
Message-ID: <19991121031759.19322.rocketmail@web1402.mail.yahoo.com>
Received: from [209.239.195.144] by web1402.mail.yahoo.com; Sat, 20 Nov 1999 19:17:59 PST
Date: Sat, 20 Nov 1999 19:17:59 -0800 (PST)
From: Pyda Srisuresh <srisuresh@yahoo.com>
Subject: Re: Forking and unwanted/unexpected 200 responses for INVITE (was Re:  183, BCP & forking)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Brett Tate <brett@broadsoft.com>
Cc: sip@lists.research.bell-labs.com
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


--- Jonathan Rosenberg <jdrosen@dynamicsoft.com> wrote:
<... snip>
>   This actually causes a forking situation since phone B's
> > 200 response for INVITE could cross on the wire with the CANCEL.
> > Thus 200 responses for INVITEs could be received from both B and C.
> > 
> > Here are four solutions dealing with forking:
> > 
> > 1) Phone A (or SIP end node for phone A) would have to send ACK
> > and BYE for unwanted or unexpected 200 responses for INVITE.
> > I think that this solution best fits the current SIP draft.
> 
> I expect this to be the behavior in 99% of the cases.
> 

I agree, it makes sense to let the UAC make the selection. But, this
may not be desirable to Users who dont want to be bothered with making
selections after they placed the call.
  
> > 
> > 2) Allow proxy servers to send BYEs.  People have mentioned that
> > this causes problems concerning the CSeq and encryption.
> 
> Yes, this definitely causes problems.
> 

I dont know what the Cseq  and encryption problems are. Can you elaborate?

I imagine, if the proxy has knowledge of user profile (i.e., preferences), 
and the proxy is empowered to make a selection on behalf of the user, the 
proxy might do almost as good a job as the UAC. This might actually be a
good approach to pursue in a lot of situations. 

Jonathan - what other problems are you alluding to?

> > 
> > 3) Allow a CANCEL to trigger a BYE from C if C has sent a 200
> > response for the corresponding INVITE.  This action is not specified
> > in the SIP draft, but I have not heard a reason against
> > this solution (although I assume someone could inform me).
> 
> The difficulty is that this fundamentally changes the semantics of
> CANCEL. CANCEL does not mean hang up, it means "terminate search".
> Consider a typical case. Forking proxy P sends 2 INVITES. It gets a 200
> OK to one, and then sends CANCEL to the other. Unfortuantely, this
> CANCEL, downstream from the proxy, gets forked again and reaches the UA
> which responded with that 200 OK. Now, according to your proposal, this
> would cause the call to be hung up. This is not the desired behavior in
> this case.

I fully agree with Jonathan. This is a total change of CANCEL semantics.
Whoever (Proxy or UAC) generated the CANCEL could send BYE instead.
  
> 
> Handling of multiple 200 OK is best left to the UA, since it can hang up
> with the additional 200 OKs, as you mention above. Or, it might even
> initiate a conference call. However, only the UA can know which to do.
> 

Interesting. Are you suggesting that conference calling (with callee's home
phone no., mobile phone no. and work no.) could be a free by-product of 
call forking? And, the caller gets to decide whether to do conference 
calling or select a line, after he/she hears from all callee locations? 
This is clearly something a proxy cannot decide on behalf of the UAC.
 
> 
> > 
> > 4) Allow the proxy server to drop unwanted or unexpected 200 responses
> > for INVITEs.  I would not like this solution since I assume not receiving
> > an ACK could still allow it to remain in the call.
> 
> This isn't guaranteed to work, since only a stateful server can do this.
> If a proxy, after receiving a 200 OK, goes stateless, and then receives
> another 200 OK, it will be forwarded. In any case, I'd rather let the
> end systems decide on the right behavior.
> 

Assuming you have a stateful proxy that is tracking the responses, I guess,
it is a way to not acknowledge the unexpected/unwanted 200 responses.
It would work. 
I agree, this is at the cost of giving grief to the callee UAS and 
certainly not a recommended practice.
   
> -Jonathan R.
> 
> -- 
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120 
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
> 
> 

regards,
suresh
__________________________________________________
Do You Yahoo!?
Bid and sell for free at http://auctions.yahoo.com



From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 21 20:31:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA01442
	for <sip-archive@odin.ietf.org>; Sun, 21 Nov 1999 20:31:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8DCAC52D5; Sun, 21 Nov 1999 20:29:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 066F852DD; Sun, 21 Nov 1999 20:29:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3915452D5
	for <sip@lists.research.bell-labs.com>; Sun, 21 Nov 1999 20:29:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 21 20:27:38 EST 1999
Received: from smtp7.atl.mindspring.net ([207.69.128.51]) by dusty; Sun Nov 21 20:26:23 EST 1999
Received: from paris.mds.local (user-2ivf7vi.dialup.mindspring.com [165.247.159.242])
	by smtp7.atl.mindspring.net (8.8.5/8.8.5) with ESMTP id UAA00772;
	Sun, 21 Nov 1999 20:27:34 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id UAA07288;
	Sun, 21 Nov 1999 20:27:28 -0500
Message-ID: <00fb01bf3488$b55d9930$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Tom-PT Taylor" <taylor@nortelnetworks.com>
Cc: <sip@lists.research.bell-labs.com>
References: <C51ED84B6F47D211917A0000F8BCBD1102298BAE@zcard00g.ca.nortel.com> <382E40BF.5BE153F8@dynamicsoft.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Sun, 21 Nov 1999 20:27:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

In reading through this thread on DTMF signalling, this particular message
stands out at me.

When I read Tom's point (a), I immediately thought of the scenario where
User A calls User B.  User B wishes to transfer User A to User C on the
PSTN.  Being the originator of the transfer, I would expect User B to pay
for the call.  This suggests to me that a SIP proxy would want to receive a
signal, send an INVITE to the PSTN gateway to establish the out-bound call,
and send an INVITE message to User A to redirect the media streams.

Call handing is within the scope of SIP, so I am curious about your thoughts
relating to performing such functions commonly seen today, such as call
transfer, park/pick-up, etc.  It seems that SIP would need to be somewhat
stimulus-based in order to carry out many functions.  It would also seem
that proxies would be key to providing such call-related services.

I do not necessarily advocate the usage of DTMF for these functions, but it
seems that proxies and some kind of signaling along the call signaling path
is more important than you suggest here.

Thanks,
Paul

----- Original Message -----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Tom-PT Taylor <taylor@nortelnetworks.com>
Cc: <sip@lists.research.bell-labs.com>
Sent: Saturday, November 13, 1999 11:55 PM
Subject: Re: DTMF signaling between media gateways - ouch!


>
>
> > Tom-PT Taylor wrote:
> >
> > How the two methods differ:
> > (1) The SIP INFO  message must pass along the signalling path, and in
> > particular must have the same endpoints as the rest of the SIP
> > session.  The RTP stream can take a different path from the
> > signalling; it can therefore originate at the point of extraction from
> > an audio stream, and terminate at the point of consumption of the
> > digit information.
> >
> > Somewhat to my surprise, it looks like RTP is probably always the best
> > answer.  There are two possibilities that come to mind that might
> > contradict that conclusion:
> >
> > (a) A number of entities along the signalling path need to know the
> > digits.
>
> But why? SIP is *not* a stimulus signaling protocol. Protocol features
> are not invoked by DTMF. I feel strongly about this since once you start
> doing this, you mandate a proxy server for call completion and possibly
> certain features which otherwise don't need one. This isn't megaco,
> after all. I believe it funamental to the SIP architecture that the
> operation of basic call completion and certain features (where
> appropriate) is independent of the presence of a proxy.
>
> What services could proxies provide in the SIP model by receiving DTMF?
> Nearly every application of DTMF I have heard brought up required the
> entity receiving the DTMF to be a UA, in which case it could get the RTP
> stream instead.
>
> > (b) The receiver of the digits is one end of the SIP session and
> > neither sends nor receives media.  In this case it ends up having to
> > support a second protocol (RTP) where otherwise it could just use
> > SIP.  In addition, there could be coordination problems between SIP
> > messaging and the independently-received RTP packets.
>
> These coordination problems arise only when the DTMF is sent in INFO.
> When the DTMF is sent in RTP, its easy to reconstruct the timing, so you
> can put back the DTMF if need be.
>
> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 07:34:10 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA15576
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 07:34:08 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 81B1B52C4; Mon, 22 Nov 1999 07:31:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E3C8952DE; Mon, 22 Nov 1999 07:31:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 234B752C4
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 07:31:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 07:30:47 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov 22 07:29:32 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id OAA11170;
	Mon, 22 Nov 1999 14:31:12 +0200 (EET)
Received: from lmf.ericsson.se (E0080C77A56E4 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id OAA07730;
	Mon, 22 Nov 1999 14:30:36 +0200 (EET)
Message-ID: <38393757.A6DED561@lmf.ericsson.se>
Date: Mon, 22 Nov 1999 14:30:15 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: schulzrinne@cs.columbia.edu, Adam.Roach@ericsson.com,
        bartw@nortelnetworks.com, Gonzalo.Camarillo@ericsson.com,
        sip@lists.research.bell-labs.com, Olli.Hynonen@lmf.ericsson.se
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <383639A0.5048479E@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

A review of this thread:

I think everybody agrees that overlap signalling is something not
desirable in SIP. So, we have to try to minimize its presence when
interworking with PSTN.

Therefore, the i-gateway implements a timer (it is started upon the
reception of an IAM). This way, it is likely that before it expires some
SAMs have arrive. This way the amount of signalling messages is
decreased. On the other hand, it introduces a delay.

If the timer expires, we issue the INVITE as Jonathan suggested (instead
of the CANCEL, new-INVITE solution that was suggested in the draft).

This timer is used in lots of SS7 systems, so it is not anything new.

If we educate the users and everybody types # after the number, the
timer will never be started and there will be no delay in the setup.

Does anybody have a problem with this solution?

Gonzalo

jdrosen@dynamicsoft.com wrote:
> 
> Henning Schulzrinne wrote:
> >
> > >
> > > Yes, you are right. I was thinking about using just one call leg
> > > (Call-ID, To, From). As you say, if we use different call legs
> > > (different to field) inside the same call (call-ID) upgrading the Cseq
> > > for every new request we will avoid the problem I was pointing out.
> > >
> > However, while this is about the only viable mechanism, new call legs
> > make the job more difficult for the SIP-to-ISUP gateway at the egress
> > side, in that it now has to make a decision whether this is really a new
> > call or not, since one could presumably add call legs to an existing
> > call (e.g., in call transfer) in the absence of overlap dialing.
> 
> True, but these appear differently. If I receive INVITEs with the same
> Call-ID, but a new *From* field, these are new call legs ala multiparty
> calls from the call control spec. Receiving INVITEs with the same
> Call-ID and different *To* fields has no currently specified behavior,
> as I recall. For a normal (not a gateway) UAS, this will probably cause
> an error response to be generated, since a UAS won't normally accept
> calls that are not addressed to it. A gateway will need to be a bit
> smarter, as I have described.
> 
> -Jonathan R.
> 
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:05:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA03439
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:05:11 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D7E3352DF; Mon, 22 Nov 1999 08:01:37 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 473AB52E1; Mon, 22 Nov 1999 08:01:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6E31D52DF
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:01:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:00:46 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Mon Nov 22 07:59:30 EST 1999
Received: from [212.140.32.191] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11pt52-00059f-00; Mon, 22 Nov 1999 13:00:28 +0000
Message-ID: <00b001bf34e9$8e532060$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <Adam.Roach@ericsson.com>, <bartw@nortelnetworks.com>,
        <Gonzalo.Camarillo@ericsson.com>, <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 12:40:22 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Related to this thread is the case where we have a PSTN-SIP-PSTN call, and
we get the case where we have gone through Jonathan's scheme to get routing
all the way through the SIP part of the connection, but maybe this has only
got us to the Rhineland (in Henning's example) and the network decides to
jump back to PSTN.

In this case the egress PSTN side still needs to do overlap sending on the
legacy PSTN side.  I think we then need to use the INFO method of sending
dialling information.  This shouldn't be a problem though as we can simply
resort to this scheme once we have got a non-484 result (actually we need a
response something like ???? - uhm I'm not sure!!!)

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Adam.Roach@ericsson.com <Adam.Roach@ericsson.com>;
bartw@nortelnetworks.com <bartw@nortelnetworks.com>;
Gonzalo.Camarillo@ericsson.com <Gonzalo.Camarillo@ericsson.com>;
sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 19 November 1999 16:21
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt


>
>
>Gonzalo Camarillo wrote:
>>
>> > 4. This works *even* if there is misordering of re-INVITEs. The egress
>> > gateway computes the SAMs based on differentials. So, lets say it
>> > receives the INVITE with 1555, then the INVITE with 155512. It then
>> > sends two SAMs, the first with 1, the next with 2. Lets say, then, that
>> > the INVITE with 15551 comes. Based on CSeq, the egress gateway knows
its
>> > old and rejects it.
>>
>> This is in principle correct (just taking into account that one SAM can
>> contain both digits). But here we have a PSTN-SIP-PSTN situation, and we
>> are trying to achieve ISUP transparency. So, the normal behaviour of the
>> e-gress gateway is to generate the ISUP messages contained in the MIME
>> body of the SIP message.
>
>I disagree with the goal you state. SIP is not a transfer protocol. Our
>aim is for ISUP transparency in the sense that there is no loss of
>information. This can be accomplished through straight transfer of ISUP,
>or by allowing for reconstruction of a complete message from the SIP
>information. Both approaches achieve transparency. In order to make
>operation of the protocol as broadly applicable as possible, I would
>strongly recommend including ISUP messages in bodies only when (1) it
>provides information that cannot be otherwise reconstructed from SIP
>itself, (2) the semantic of the ISUP message matches the semantic of the
>SIP message. In this case, the gateway can reconstruct the SAM.
>Including it only makes things confusing, since, as I pointed out, the
>SAM that is generated may not be the same as the one in the INVITE
>itself (this happens when messages are misordered). In fact, inclusion
>of SAMs doesn't pass either condition above. The SIP INVITE is a
>complete call setup request, akin to IAM, rather than a notification of
>additional digits, as SAM is.
>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:07:26 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA04652
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:07:26 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8F08652DD; Mon, 22 Nov 1999 08:01:46 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BAECE52E2; Mon, 22 Nov 1999 08:01:45 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 68FB452DD
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:01:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 08:00:36 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Mon Nov 22 07:59:21 EST 1999
Received: from [212.140.32.191] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11pt50-00059f-00; Mon, 22 Nov 1999 13:00:26 +0000
Message-ID: <00af01bf34e9$8d1d5f80$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Adam B. Roach" <Adam.Roach@Ericsson.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Mon, 22 Nov 1999 11:50:17 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


-----Original Message-----
From: Adam B. Roach <Adam.Roach@Ericsson.com>
To: Pete Cordell <pete@tech-know-ware.com>
Cc: jdrosen@dynamicsoft.com <jdrosen@dynamicsoft.com>;
sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 19 November 1999 00:09
Subject: Re: DTMF signaling between media gateways - ouch!


>>Atomic things like transfer can probably easily get away with being
>>functionally signalled.  However, I think transfers will occur as a result
>>of DTMF signalling, even if only indirectly, such as in a call center.  I
>>really don't want to down load a patch (that may be phone specific) for
each
>>call center I contact.
>
>You seem to be missing the bigger picture here:
>
>Call transfer is well defined within the call control draft.
>It won't be done via any sort of DTMF signalling; it'll be
>built in to the end devices. No patching involved...
>


No, you've missed what I'm saying...  Call transfer may take place using
procedures defined in the call control draft, BUT the event that causes the
call transfer to be kicked off MAY be some DTMF signal.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:09:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA06024
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:09:54 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C7B5A52E1; Mon, 22 Nov 1999 08:02:54 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 40C4F52E0; Mon, 22 Nov 1999 08:02:26 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1010452E0
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:01:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 08:00:49 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Mon Nov 22 07:59:34 EST 1999
Received: from [212.140.32.191] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11pt55-00059f-00; Mon, 22 Nov 1999 13:00:31 +0000
Message-ID: <00b101bf34e9$900f2840$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>,
        "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <jdrosen@dynamicsoft.com>, <Adam.Roach@ericsson.com>,
        <bartw@nortelnetworks.com>, <Gonzalo.Camarillo@ericsson.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 12:59:32 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>>
>> Yes, you are right. I was thinking about using just one call leg
>> (Call-ID, To, From). As you say, if we use different call legs
>> (different to field) inside the same call (call-ID) upgrading the Cseq
>> for every new request we will avoid the problem I was pointing out.
>>
>However, while this is about the only viable mechanism, new call legs
>make the job more difficult for the SIP-to-ISUP gateway at the egress
>side, in that it now has to make a decision whether this is really a new
>call or not, since one could presumably add call legs to an existing
>call (e.g., in call transfer) in the absence of overlap dialing.
>
>

Thinking about it, my feeling is that as Jonathan originally described his
scheme it is a bit over proactive about sending new dialled digit
information.  Perhaps it should only send a new INVITE once it has received
a response to a previous INVITE.  If it receives additional dialled digits
in this time, then it just accumulates them.

This reduces the amount of information that an ingress gateway has to store
about unacknowledged INVITEs and will also reduce the potential load on
egress gateways.

This may result in slightly slowing dialling of the final digits, but
hopefully should not be as bad as waiting for a 2 or 5 second time out.  If
the delay is long, then it suggests that there is congestion some where and
sending additional INVITE messages will not help this to go away.

(In fact I have heard that when collecting digits it is worth waiting a few
hundred milliseconds after reception of a digit to see if another one
arrives before sending a notification.  This can result in fewer messages
being sent without any perceptible delay by the user.)

The only problem that seems to arise from this is if an INVITE or its
response gets lost.  In this case, if the gateway wants to send additional
digits and it thinks the previous INVITE has got lost, then it needs to send
a CANCEL to make sure that no device along the chain is still acting on the
previous request.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:21:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA12188
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:21:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D42C652EE; Mon, 22 Nov 1999 08:15:38 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F3CCC52EF; Mon, 22 Nov 1999 08:15:37 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1AC3152EE
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:15:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:14:41 EST 1999
Received: from mgw-x1.nokia.com ([131.228.20.21]) by dusty; Mon Nov 22 08:13:26 EST 1999
Received: from mgw-i2.ntc.nokia.com (mgw-i2.ntc.nokia.com [131.228.118.61])
	by mgw-x1.nokia.com (8.9.3/8.9.3) with ESMTP id PAA07557;
	Mon, 22 Nov 1999 15:13:44 +0200 (EET)
From: mikko.alutoin@nokia.com
Received: from esebh01nok.ntc.nokia.com (esebh01nok.ntc.nokia.com [131.228.118.150])
	by mgw-i2.ntc.nokia.com (8.9.3/8.9.3) with ESMTP id PAA13955;
	Mon, 22 Nov 1999 15:13:35 +0200 (EET)
Received: by esebh01nok with Internet Mail Service (5.5.2650.10)
	id <XJ9Q9AYF>; Mon, 22 Nov 1999 15:13:32 +0200
Message-ID: <11CD408013B6D2119BB50008C7EA510C989595@eseis05nok>
To: mcannon@broadbandoffice.net
Cc: sip@lists.research.bell-labs.com
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 15:13:26 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.10)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Dear Matt,

Some comments regarding your article below:

> 	I agree with every thing you have detailed except for
> the statement extracted below.  I agree the problem is 
> getting smaller and smaller since it really is a hold 
> over from pre-SS7 days. My question is why do we need 
> to provide backwards compatibility? Mobile seems to have
> done a very good job of not providing this.
> Why not take the same approach as mobile and exclude support?
> 
> IMHO this is one legacy PSTN function that needs left on the PSTN.
> The amount of work required to support the feature is just
> not justified.
> 
> Matt
 
The key issue here is that the mobile networks needn't to support 
overlap sending, because the mobile phones provide a way to use enbloc 
sending, but the analogue POTS phones don't.

This is the reason for which you have to have an element in the PSTN, 
where you switch from overlap sending to enbloc sending. 
This place has to be the same one, where you have the 
number analysis tree, usually a class 5 switch. 
This devices waits for the digits, one by one, and determines 
the next hop as soon as the matching prefix is found (if there are 
several overlapping prefixes, there might be some policies involved).

Think now about the case of a VoIP access gateway or a call agent. 
If SIP wouldn't support overlap sending (which by the way is easily 
done with a help of sequential INVITEs and 484's as Jonathan R. 
earlier described in this list) every access gateway and call agent 
should have a number analysis tree associated with it. This results 
in a major problems in updating these trees. Basically it means that 
each of the gateways/call agents would have to take part in TRIP. 
To demonstrate the severity of the problem,consider the current PSTN, 
where there are tens of thousands of subscribers using one number 
analysis tree. How many subscribers there would be attached to one 
access gateway? Only small fraction of this I would assume.

An alternative approach would be that the number analysis tree is 
only located in one centralized server, which updates it using TRIP, 
and the access gateways/call agents use SIP towards it in overlap 
sending fashion, as described by Jonathan.

Now I see another problem. What if the default SIP server detects 
(by using TRIP or enum for example) that there is no SIP URL 
associated with the dialed number, but only a H.323 gatekeeper? 

The SIP RFC mentions that some kind of a "H.323 URL" should be 
included in the resulting REDIRECT message, but has this been 
addressed by anyone? At least I couldn't find any information at 
all about this. I would be happy, if somebody bothered to prove me 
wrong.

Regards,

Mikko Alutoin
Nokia Networks
Mikko.Alutoin@nokia.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:24:19 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA13608
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:24:18 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D48DE52F0; Mon, 22 Nov 1999 08:15:47 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B6D0A52EA; Mon, 22 Nov 1999 08:15:41 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5131C52EA
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:15:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:13:13 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov 22 08:11:57 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id PAA13246;
	Mon, 22 Nov 1999 15:13:42 +0200 (EET)
Received: from lmf.ericsson.se (E0080C77A56E4 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id PAA08857;
	Mon, 22 Nov 1999 15:13:06 +0200 (EET)
Message-ID: <3839414B.701279A@lmf.ericsson.se>
Date: Mon, 22 Nov 1999 15:12:43 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: mcannon@broadbandoffice.net
Cc: sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <004e01bf32b6$376de990$8b0e503f@broadbandoffice.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Matt,

mcannon@broadbandoffice.net wrote:
> 
> Gonzalo,
>         I agree with every thing you have detailed except for
> the statement extracted below.  I agree the problem is
> getting smaller and smaller since it really is a hold
> over from pre-SS7 days. My question is why do we need
> to provide backwards compatibility? Mobile seems to have
> done a very good job of not providing this.
> Why not take the same approach as mobile and exclude support?

A mobile always sends 'en bloc' signalling, but a call that uses overlap
signalling will be able to reach a mobile... therefore, mobile provides
backward compatibility in that sense.

In SIP I suggest to use the same approach. We send 'en bloc' signalling,
but we are able to receive overlap.

Regards,

Gonzalo


> 
> IMHO this is one legacy PSTN function that needs left on the PSTN.
> The amount of work required to support the feature is just
> not justified.
> 
> Matt
> 
> > -----Original Message-----
> > From: owner-sip@lists.research.bell-labs.com
> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gonzalo
> > Camarillo
> > Sent: Friday, November 19, 1999 8:45 AM
> > To: jdrosen@dynamicsoft.com
> > Cc: Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
> > Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com
> > Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> snip-->
> 
> > The problem of a user typing # :
> > In the States 'en-bloc' signalling is used, so this is not needed. In
> > Europe, the use of 'en-bloc' signalling is becoming more and more common
> > due to the use of mobiles (in Finland there are more mobiles than fixed
> > phones).
>  >Therefore, the problem i getting smaller and smaller.
> > However, we have to provide backwards compatibility.
> > We are here for finding a solution to the problem. If we do not find a
> > solution, we can tell all the users to press # after the phone number,
> > but I wouldn't say that this is "finding a solution" :o)
> 
> end snip-->

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:29:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16454
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:29:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1D4D552E2; Mon, 22 Nov 1999 08:27:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7A67752E3; Mon, 22 Nov 1999 08:27:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 791D352E2
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:27:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:25:58 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Mon Nov 22 08:24:43 EST 1999
Received: from [212.140.37.187] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11ptTb-0005Mq-00; Mon, 22 Nov 1999 13:25:51 +0000
Message-ID: <00ce01bf34ed$19ba5a80$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <jdrosen@dynamicsoft.com>
Cc: <schulzrinne@cs.columbia.edu>, <Adam.Roach@ericsson.com>,
        <bartw@nortelnetworks.com>, <Gonzalo.Camarillo@ericsson.com>,
        <sip@lists.research.bell-labs.com>, <Olli.Hynonen@lmf.ericsson.se>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 13:25:03 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>Hi,
>
>A review of this thread:
>
>I think everybody agrees that overlap signalling is something not
>desirable in SIP. So, we have to try to minimize its presence when
>interworking with PSTN.
>
>Therefore, the i-gateway implements a timer (it is started upon the
>reception of an IAM). This way, it is likely that before it expires some
>SAMs have arrive. This way the amount of signalling messages is
>decreased. On the other hand, it introduces a delay.
>

How long are you proposing this timer be?

>If the timer expires, we issue the INVITE as Jonathan suggested (instead
>of the CANCEL, new-INVITE solution that was suggested in the draft).
>
>This timer is used in lots of SS7 systems, so it is not anything new.
>

Seems reasonable, but....

>If we educate the users and everybody types # after the number, the
>timer will never be started and there will be no delay in the setup.

I'm very, very against this.  It is just plain broken.

If every user magically gets a SEND button on their phone over night, then
fine, but until then this is deficiencies in the technology dictating the
UI.  In this fabulous Internet age users should not have to be confronted
with this.  Legacy or otherwise, we have a problem to solve and we should
not be looking to the user to solve our problems as they have their own
problems to contend with.

The two second plus delay is also not acceptable.  While this may only
affect international calls in the US, it will affect every call in the UK,
and presumably Germany and France, and many other countries as well.  Our
wonderful new toy should be making call services better, not worse!

Emotional shirty mode = off :)

>
>Does anybody have a problem with this solution?
>
>Gonzalo
>
>jdrosen@dynamicsoft.com wrote:
>>
>> Henning Schulzrinne wrote:
>> >
>> > >
>> > > Yes, you are right. I was thinking about using just one call leg
>> > > (Call-ID, To, From). As you say, if we use different call legs
>> > > (different to field) inside the same call (call-ID) upgrading the
Cseq
>> > > for every new request we will avoid the problem I was pointing out.
>> > >
>> > However, while this is about the only viable mechanism, new call legs
>> > make the job more difficult for the SIP-to-ISUP gateway at the egress
>> > side, in that it now has to make a decision whether this is really a
new
>> > call or not, since one could presumably add call legs to an existing
>> > call (e.g., in call transfer) in the absence of overlap dialing.
>>
>> True, but these appear differently. If I receive INVITEs with the same
>> Call-ID, but a new *From* field, these are new call legs ala multiparty
>> calls from the call control spec. Receiving INVITEs with the same
>> Call-ID and different *To* fields has no currently specified behavior,
>> as I recall. For a normal (not a gateway) UAS, this will probably cause
>> an error response to be generated, since a UAS won't normally accept
>> calls that are not addressed to it. A gateway will need to be a bit
>> smarter, as I have described.
>>
>> -Jonathan R.
>>
>> --
>> Jonathan D. Rosenberg                       200 Executive Drive
>> Chief Scientist                             Suite 120
>> dynamicsoft                                 West Orange, NJ 07052
>> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>> http://www.dynamicsoft.com
>
>--
>Gonzalo Camarillo         Phone :  +358  9 299 33 71
>Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>Telecom R&D               Fax   :  +358  9 299 31 18
>FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>Finland
>
>



=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:37:50 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20557
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:37:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A89F652E3; Mon, 22 Nov 1999 08:35:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0CA6652E4; Mon, 22 Nov 1999 08:35:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1E62652E3
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:35:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:33:40 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov 22 08:32:24 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id PAA14286;
	Mon, 22 Nov 1999 15:34:00 +0200 (EET)
Received: from lmf.ericsson.se (E0080C77A56E4 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id PAA09424;
	Mon, 22 Nov 1999 15:33:23 +0200 (EET)
Message-ID: <3839460F.BDD6381A@lmf.ericsson.se>
Date: Mon, 22 Nov 1999 15:33:03 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: pete@tech-know-ware.com
Cc: jdrosen@dynamicsoft.com, schulzrinne@cs.columbia.edu,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com,
        Olli.Hynonen@lmf.ericsson.se
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <00ce01bf34ed$19ba5a80$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



pete@tech-know-ware.com wrote:
> 
> >Hi,
> >
> >A review of this thread:
> >
> >I think everybody agrees that overlap signalling is something not
> >desirable in SIP. So, we have to try to minimize its presence when
> >interworking with PSTN.
> >
> >Therefore, the i-gateway implements a timer (it is started upon the
> >reception of an IAM). This way, it is likely that before it expires some
> >SAMs have arrive. This way the amount of signalling messages is
> >decreased. On the other hand, it introduces a delay.
> >
> 
> How long are you proposing this timer be?

As it is said in the draft, the maximun value for this timer is 5
seconds, but it has to be configurable depending on where the gateway is
located. In some points of the network the reception of SAMs is very
unlikely to happen. In these situations the timer will be short. If the
reception of SAMs is likely to happen, the timer has to be long enough
to avoid lots of signalling messages.

> 
> >If the timer expires, we issue the INVITE as Jonathan suggested (instead
> >of the CANCEL, new-INVITE solution that was suggested in the draft).
> >
> >This timer is used in lots of SS7 systems, so it is not anything new.
> >
> 
> Seems reasonable, but....
> 
> >If we educate the users and everybody types # after the number, the
> >timer will never be started and there will be no delay in the setup.
> 
> I'm very, very against this.  It is just plain broken.
> 
> If every user magically gets a SEND button on their phone over night, then
> fine, but until then this is deficiencies in the technology dictating the
> UI.  In this fabulous Internet age users should not have to be confronted
> with this.  Legacy or otherwise, we have a problem to solve and we should
> not be looking to the user to solve our problems as they have their own
> problems to contend with.

That's what I said in a previous mail. I am just saying thatin case we
receive the end-of-digits signal, the gateway doesn't wait for the timer
to expire.

Regards,

Gonzalo


> 
> The two second plus delay is also not acceptable.  While this may only
> affect international calls in the US, it will affect every call in the UK,
> and presumably Germany and France, and many other countries as well.  Our
> wonderful new toy should be making call services better, not worse!
> 
> Emotional shirty mode = off :)
> 
> >
> >Does anybody have a problem with this solution?
> >
> >Gonzalo
> >
> >jdrosen@dynamicsoft.com wrote:
> >>
> >> Henning Schulzrinne wrote:
> >> >
> >> > >
> >> > > Yes, you are right. I was thinking about using just one call leg
> >> > > (Call-ID, To, From). As you say, if we use different call legs
> >> > > (different to field) inside the same call (call-ID) upgrading the
> Cseq
> >> > > for every new request we will avoid the problem I was pointing out.
> >> > >
> >> > However, while this is about the only viable mechanism, new call legs
> >> > make the job more difficult for the SIP-to-ISUP gateway at the egress
> >> > side, in that it now has to make a decision whether this is really a
> new
> >> > call or not, since one could presumably add call legs to an existing
> >> > call (e.g., in call transfer) in the absence of overlap dialing.
> >>
> >> True, but these appear differently. If I receive INVITEs with the same
> >> Call-ID, but a new *From* field, these are new call legs ala multiparty
> >> calls from the call control spec. Receiving INVITEs with the same
> >> Call-ID and different *To* fields has no currently specified behavior,
> >> as I recall. For a normal (not a gateway) UAS, this will probably cause
> >> an error response to be generated, since a UAS won't normally accept
> >> calls that are not addressed to it. A gateway will need to be a bit
> >> smarter, as I have described.
> >>
> >> -Jonathan R.
> >>
> >> --
> >> Jonathan D. Rosenberg                       200 Executive Drive
> >> Chief Scientist                             Suite 120
> >> dynamicsoft                                 West Orange, NJ 07052
> >> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> >> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> >> http://www.dynamicsoft.com
> >
> >--
> >Gonzalo Camarillo         Phone :  +358  9 299 33 71
> >Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> >Telecom R&D               Fax   :  +358  9 299 31 18
> >FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> >Finland
> >
> >
> 
> =============================================
> Pete Cordell
> pete@tech-know-ware.com
> =============================================

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 08:49:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA25675
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 08:49:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7BFA852E4; Mon, 22 Nov 1999 08:47:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E8E3852E5; Mon, 22 Nov 1999 08:47:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 25B9152E4
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:47:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:45:19 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Mon Nov 22 08:44:04 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id JAA19359;
	Mon, 22 Nov 1999 09:50:00 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 08:47:11 -0600
Message-ID: <001001bf34f8$7613dc10$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3839414B.701279A@lmf.ericsson.se>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gonzalo,
	I agree completely...
Matt

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Monday, November 22, 1999 7:13 AM
> To: mcannon@broadbandoffice.net
> Cc: sip@lists.research.bell-labs.com
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> 
> Matt,
> 
> mcannon@broadbandoffice.net wrote:
> > 
> > Gonzalo,
> >         I agree with every thing you have detailed except for
> > the statement extracted below.  I agree the problem is
> > getting smaller and smaller since it really is a hold
> > over from pre-SS7 days. My question is why do we need
> > to provide backwards compatibility? Mobile seems to have
> > done a very good job of not providing this.
> > Why not take the same approach as mobile and exclude support?
> 
> A mobile always sends 'en bloc' signalling, but a call that 
> uses overlap
> signalling will be able to reach a mobile... therefore, 
> mobile provides
> backward compatibility in that sense.
> 
> In SIP I suggest to use the same approach. We send 'en bloc' 
> signalling,
> but we are able to receive overlap.
> 
> Regards,
> 
> Gonzalo
> 
> 
> > 
> > IMHO this is one legacy PSTN function that needs left on the PSTN.
> > The amount of work required to support the feature is just
> > not justified.
> > 
> > Matt
> > 
> > > -----Original Message-----
> > > From: owner-sip@lists.research.bell-labs.com
> > > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf 
> Of Gonzalo
> > > Camarillo
> > > Sent: Friday, November 19, 1999 8:45 AM
> > > To: jdrosen@dynamicsoft.com
> > > Cc: Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
> > > Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com
> > > Subject: Re: Comments on 
> draft-camarillo-mmusic-sip-isup-bcp-00.txt
> > 
> > snip-->
> > 
> > > The problem of a user typing # :
> > > In the States 'en-bloc' signalling is used, so this is 
> not needed. In
> > > Europe, the use of 'en-bloc' signalling is becoming more 
> and more common
> > > due to the use of mobiles (in Finland there are more 
> mobiles than fixed
> > > phones).
> >  >Therefore, the problem i getting smaller and smaller.
> > > However, we have to provide backwards compatibility.
> > > We are here for finding a solution to the problem. If we 
> do not find a
> > > solution, we can tell all the users to press # after the 
> phone number,
> > > but I wouldn't say that this is "finding a solution" :o)
> > 
> > end snip-->
> 
> -- 
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 09:00:57 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00710
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 09:00:54 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6656252DE; Mon, 22 Nov 1999 08:57:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D08D452E8; Mon, 22 Nov 1999 08:57:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2FF3F52DE
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 08:57:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 08:55:21 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Mon Nov 22 08:54:05 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id KAA19507;
	Mon, 22 Nov 1999 10:00:08 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <pete@tech-know-ware.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 08:57:19 -0600
Message-ID: <001101bf34f9$e03e65f0$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3839460F.BDD6381A@lmf.ericsson.se>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete, I'm sorry , I just firmly believe that the
importation of overlap signaling to SIP is a 
mistake. Your comment snipped below is right 
on the money....

"Our wonderful new toy should be making call
 services better, not worse!"

Agree completely, if you are not providing either 
new services/features or cheaper rates 
with the use of SIP, its not going to be 
heavily deployed. But on the flip side, if the
services and costs are there, people will get used
to waiting for the few seconds for the timers to
expire or learn to hit the # key real quick.

The thought of a large number of INVITES and 484
response messages flying across the network to make
overlap work just makes me shake my head.

Just my two cents...

Matt


> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gonzalo
> Camarillo
> Sent: Monday, November 22, 1999 7:33 AM
> To: pete@tech-know-ware.com
> Cc: jdrosen@dynamicsoft.com; schulzrinne@cs.columbia.edu;
> Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
> Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com;
> Olli.Hynonen@lmf.ericsson.se
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> 
> 
> 
> pete@tech-know-ware.com wrote:
> > 
> > >Hi,
> > >
> > >A review of this thread:
> > >
> > >I think everybody agrees that overlap signalling is something not
> > >desirable in SIP. So, we have to try to minimize its presence when
> > >interworking with PSTN.
> > >
> > >Therefore, the i-gateway implements a timer (it is started upon the
> > >reception of an IAM). This way, it is likely that before 
> it expires some
> > >SAMs have arrive. This way the amount of signalling messages is
> > >decreased. On the other hand, it introduces a delay.
> > >
> > 
> > How long are you proposing this timer be?
> 
> As it is said in the draft, the maximun value for this timer is 5
> seconds, but it has to be configurable depending on where the 
> gateway is
> located. In some points of the network the reception of SAMs is very
> unlikely to happen. In these situations the timer will be 
> short. If the
> reception of SAMs is likely to happen, the timer has to be long enough
> to avoid lots of signalling messages.
> 
> > 
> > >If the timer expires, we issue the INVITE as Jonathan 
> suggested (instead
> > >of the CANCEL, new-INVITE solution that was suggested in 
> the draft).
> > >
> > >This timer is used in lots of SS7 systems, so it is not 
> anything new.
> > >
> > 
> > Seems reasonable, but....
> > 
> > >If we educate the users and everybody types # after the number, the
> > >timer will never be started and there will be no delay in 
> the setup.
> > 
> > I'm very, very against this.  It is just plain broken.
> > 
> > If every user magically gets a SEND button on their phone 
> over night, then
> > fine, but until then this is deficiencies in the technology 
> dictating the
> > UI.  In this fabulous Internet age users should not have to 
> be confronted
> > with this.  Legacy or otherwise, we have a problem to solve 
> and we should
> > not be looking to the user to solve our problems as they 
> have their own
> > problems to contend with.
> 
> That's what I said in a previous mail. I am just saying thatin case we
> receive the end-of-digits signal, the gateway doesn't wait 
> for the timer
> to expire.
> 
> Regards,
> 
> Gonzalo
> 
> 
> > 
> > The two second plus delay is also not acceptable.  While 
> this may only
> > affect international calls in the US, it will affect every 
> call in the UK,
> > and presumably Germany and France, and many other countries 
> as well.  Our
> > wonderful new toy should be making call services better, not worse!
> > 
> > Emotional shirty mode = off :)




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 09:07:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA04377
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 09:07:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id F110C52E8; Mon, 22 Nov 1999 09:05:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7250052E9; Mon, 22 Nov 1999 09:05:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id B895652E8
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 09:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 09:04:05 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Mon Nov 22 09:02:48 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id KAA19660;
	Mon, 22 Nov 1999 10:08:53 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: <mikko.alutoin@nokia.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 09:06:04 -0600
Message-ID: <001201bf34fb$19953df0$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <11CD408013B6D2119BB50008C7EA510C989595@eseis05nok>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Mikko, thanks for the comments.

Mine are line preceded by MJC==>

Matt

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of
> mikko.alutoin@nokia.com
> Sent: Monday, November 22, 1999 7:13 AM
> To: mcannon@broadbandoffice.net
> Cc: sip@lists.research.bell-labs.com
> Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> 
> Dear Matt,
> 
> Some comments regarding your article below:
> 
> > 	I agree with every thing you have detailed except for
> > the statement extracted below.  I agree the problem is 
> > getting smaller and smaller since it really is a hold 
> > over from pre-SS7 days. My question is why do we need 
> > to provide backwards compatibility? Mobile seems to have
> > done a very good job of not providing this.
> > Why not take the same approach as mobile and exclude support?
> > 
> > IMHO this is one legacy PSTN function that needs left on the PSTN.
> > The amount of work required to support the feature is just
> > not justified.
> > 
> > Matt
>  
> The key issue here is that the mobile networks needn't to support 
> overlap sending, because the mobile phones provide a way to 
> use enbloc 
> sending, but the analogue POTS phones don't.
> 
> This is the reason for which you have to have an element in the PSTN, 
> where you switch from overlap sending to enbloc sending. 
> This place has to be the same one, where you have the 
> number analysis tree, usually a class 5 switch. 
> This devices waits for the digits, one by one, and determines 
> the next hop as soon as the matching prefix is found (if there are 
> several overlapping prefixes, there might be some policies involved).
> 
MJC==> Agreed, but why does it need to find the next hop? If it
uses Gonzalos timer method/# and then routes, it also works.

> Think now about the case of a VoIP access gateway or a call agent. 
> If SIP wouldn't support overlap sending (which by the way is easily 
> done with a help of sequential INVITEs and 484's as Jonathan R. 
> earlier described in this list) every access gateway and call agent 
> should have a number analysis tree associated with it. This results 
> in a major problems in updating these trees. Basically it means that 
> each of the gateways/call agents would have to take part in TRIP. 
> To demonstrate the severity of the problem,consider the current PSTN, 
> where there are tens of thousands of subscribers using one number 
> analysis tree. How many subscribers there would be attached to one 
> access gateway? Only small fraction of this I would assume.
> 
MJC==> You answer this in the next line. Don't do it if you can
avoid it.

> An alternative approach would be that the number analysis tree is 
> only located in one centralized server, which updates it using TRIP, 
> and the access gateways/call agents use SIP towards it in overlap 
> sending fashion, as described by Jonathan.

MJC==> And the difference again comes down to, do I collect all the 
digits first or start querying with partial strings. My answer
stays the same collect all the digits first.

> 
> Now I see another problem. What if the default SIP server detects 
> (by using TRIP or enum for example) that there is no SIP URL 
> associated with the dialed number, but only a H.323 gatekeeper? 

MJC==> This is routing question not a SAM question.
> 
> The SIP RFC mentions that some kind of a "H.323 URL" should be 
> included in the resulting REDIRECT message, but has this been 
> addressed by anyone? At least I couldn't find any information at 
> all about this. I would be happy, if somebody bothered to prove me 
> wrong.
> 
> Regards,
> 
> Mikko Alutoin
> Nokia Networks
> Mikko.Alutoin@nokia.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 09:27:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA14832
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 09:27:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2C4FE52EB; Mon, 22 Nov 1999 09:21:28 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5DF8B52ED; Mon, 22 Nov 1999 09:21:27 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2AA1652EB
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 09:21:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 09:19:24 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Mon Nov 22 09:18:09 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id JAA04877;
	Mon, 22 Nov 1999 09:08:58 -0500 (EST)
Message-ID: <38394E79.6FC215D8@cs.columbia.edu>
Date: Mon, 22 Nov 1999 09:08:57 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Matt Cannon <mcannon@broadbandoffice.net>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        pete@tech-know-ware.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <001101bf34f9$e03e65f0$8b0e503f@broadbandoffice.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Matt Cannon wrote:
> 

> The thought of a large number of INVITES and 484
> response messages flying across the network to make
> overlap work just makes me shake my head.

To get some feeling as to how bad (or not) this might be, I wonder if
there's any sense as to the per-country variation in number length. It
is probably reasonable for a gateway to know the minimum digit string
length for each country, so only digits beyond that would need to be
signaled digit-by-digit. (It is also very unlikely that the minimum will
suddenly drop, so updates should not be an issue.) Any observations?

(By the way, the 484 overlap signaling method is already in the SIP
spec, as this topic has been around a few times...)

I agree that we should avoid this as much as possible.
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 09:30:16 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA16288
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 09:30:16 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 142FC52EF; Mon, 22 Nov 1999 09:25:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1A4B152F4; Mon, 22 Nov 1999 09:25:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id AF4F152EF
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 09:25:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 09:24:11 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 09:22:55 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqld26585;
	Mon, 22 Nov 1999 14:28:39 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id JAA02699;
	Mon, 22 Nov 1999 09:23:43 -0500 (EST)
Message-ID: <383952BF.531DDC07@dynamicsoft.com>
Date: Mon, 22 Nov 1999 09:27:11 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <00b001bf34e9$8e532060$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> Related to this thread is the case where we have a PSTN-SIP-PSTN call, and
> we get the case where we have gone through Jonathan's scheme to get routing
> all the way through the SIP part of the connection, but maybe this has only
> got us to the Rhineland (in Henning's example) and the network decides to
> jump back to PSTN.
> 
> In this case the egress PSTN side still needs to do overlap sending on the
> legacy PSTN side.  I think we then need to use the INFO method of sending
> dialling information.  This shouldn't be a problem though as we can simply
> resort to this scheme once we have got a non-484 result (actually we need a
> response something like ???? - uhm I'm not sure!!!)

Why INFO? Usage of INFO for carrying overlapped signaling is definitely
an interoperability problem. Normal SIP UAS's won't know to look for
digits in INFO to set up a call. The example call flow I gave in email
handles perfectly well the case of PSTN-IP-PSTN with overlap on both
ends.

In another mail, you wrote:

> Thinking about it, my feeling is that as Jonathan originally described his
> scheme it is a bit over proactive about sending new dialled digit
> information.  Perhaps it should only send a new INVITE once it has received
> a response to a previous INVITE.  If it receives additional dialled digits
> in this time, then it just accumulates them.

What I don't like about this is that it requires every proxy or UAS to
know about overlap signaling. This is because they need to know to send
a 484 to ask for more digits, which nearly all UAS won't. 

I also don't believe we necesarily need ONE way to handle this. The
ingress gateway can do one of several things as a local choice without
breaking interoperability. Any one of the following will work:

1. send digits immediately upon receipt, as I described in my email
2. wait some timeout T after a digit, and collect whatever arrives
during T into a single INVITE
3. wait for some longer timeout to get all the digits, effectively
converting overlap to en-block at the ingress gateway
4. wait for a # key

Fortunately, it doesn't matter what the ingress gateway does, so long as
the following rules are obeyed at a UAS:

1. A UAS that is not a gateway, which receives an INVITE with a Request
URI that does not correspond to one of its configured addresses (be it a
tel URL or SIP URI), MUST respond with an error response.

2. A gateway that receives an INVITE with a Call-ID that matches a
previous call, and whose Request-URI contains a tel or SIP URL with
additional digits in the user part, should tret this INVITE as adding
additional digits to the original dialed string (overlap).

Note that, if we don't do overlap in SIP at all, (2) does not need to be
supported in a gateway. I believe this is effectively what Matt is
suggesting.

Proxy processing is the same in all cases, which is how en-bloc is
handled also: longest prefix match against a phone number database. Each
INVITE in the case of overlap is treated independently. A smart proxy
can cache if it likes.


So, I would recommend that we describe the various choices for ingress
gateways, making each a MAY, and be sure to codify/emphasize the above
as MUST.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 09:50:05 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25052
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 09:50:03 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6869852EA; Mon, 22 Nov 1999 09:47:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D564852EC; Mon, 22 Nov 1999 09:47:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5D55E52EA
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 09:47:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 09:46:42 EST 1999
Received: from carbon.btinternet.com ([194.73.73.92]) by dusty; Mon Nov 22 09:45:26 EST 1999
Received: from [212.140.40.168] (helo=tkw)
	by carbon.btinternet.com with smtp (Exim 2.05 #1)
	id 11pujW-0003me-00; Mon, 22 Nov 1999 14:46:22 +0000
Message-ID: <01ed01bf34f8$54806e60$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <mcannon@broadbandoffice.net>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 13:55:09 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gonzalo,

I think the problem with your analogy here is that mobile is essentially an
access technology, whereas SIP can be used for access, and trunking (toll)
and a number of other combinations.  While an access technology can limit
how it collects digits, a trunk protocol does not have this luxury.

Pete
>Matt,
>
>mcannon@broadbandoffice.net wrote:
>>
>> Gonzalo,
>>         I agree with every thing you have detailed except for
>> the statement extracted below.  I agree the problem is
>> getting smaller and smaller since it really is a hold
>> over from pre-SS7 days. My question is why do we need
>> to provide backwards compatibility? Mobile seems to have
>> done a very good job of not providing this.
>> Why not take the same approach as mobile and exclude support?
>
>A mobile always sends 'en bloc' signalling, but a call that uses overlap
>signalling will be able to reach a mobile... therefore, mobile provides
>backward compatibility in that sense.
>
>In SIP I suggest to use the same approach. We send 'en bloc' signalling,
>but we are able to receive overlap.
>
>Regards,
>
>Gonzalo
>
>
>>
>> IMHO this is one legacy PSTN function that needs left on the PSTN.
>> The amount of work required to support the feature is just
>> not justified.
>>
>> Matt
>>
>> > -----Original Message-----
>> > From: owner-sip@lists.research.bell-labs.com
>> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gonzalo
>> > Camarillo
>> > Sent: Friday, November 19, 1999 8:45 AM
>> > To: jdrosen@dynamicsoft.com
>> > Cc: Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
>> > Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com
>> > Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
>>
>> snip-->
>>
>> > The problem of a user typing # :
>> > In the States 'en-bloc' signalling is used, so this is not needed. In
>> > Europe, the use of 'en-bloc' signalling is becoming more and more
common
>> > due to the use of mobiles (in Finland there are more mobiles than fixed
>> > phones).
>>  >Therefore, the problem i getting smaller and smaller.
>> > However, we have to provide backwards compatibility.
>> > We are here for finding a solution to the problem. If we do not find a
>> > solution, we can tell all the users to press # after the phone number,
>> > but I wouldn't say that this is "finding a solution" :o)
>>
>> end snip-->
>
>--
>Gonzalo Camarillo         Phone :  +358  9 299 33 71
>Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>Telecom R&D               Fax   :  +358  9 299 31 18
>FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
>Finland
>
>



=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 11:20:05 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA07831
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 11:20:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E0F1652EC; Mon, 22 Nov 1999 11:17:36 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5201252F2; Mon, 22 Nov 1999 11:17:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id BC3DC52EC
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 11:17:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 11:16:42 EST 1999
Received: from tantalum.btinternet.com ([194.73.73.80]) by dusty; Mon Nov 22 11:15:26 EST 1999
Received: from [212.140.37.111] (helo=tkw)
	by tantalum.btinternet.com with smtp (Exim 2.05 #1)
	id 11pw4v-00008u-00; Mon, 22 Nov 1999 16:12:34 +0000
Message-ID: <023c01bf3504$5addf460$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <Adam.Roach@ericsson.com>, <bartw@nortelnetworks.com>,
        <Gonzalo.Camarillo@ericsson.com>, <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 15:33:13 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,


>
>
>Pete Cordell wrote:
>>
>> Related to this thread is the case where we have a PSTN-SIP-PSTN call,
and
>> we get the case where we have gone through Jonathan's scheme to get
routing
>> all the way through the SIP part of the connection, but maybe this has
only
>> got us to the Rhineland (in Henning's example) and the network decides to
>> jump back to PSTN.
>>
>> In this case the egress PSTN side still needs to do overlap sending on
the
>> legacy PSTN side.  I think we then need to use the INFO method of sending
>> dialling information.  This shouldn't be a problem though as we can
simply
>> resort to this scheme once we have got a non-484 result (actually we need
a
>> response something like ???? - uhm I'm not sure!!!)
>
>Why INFO? Usage of INFO for carrying overlapped signaling is definitely
>an interoperability problem. Normal SIP UAS's won't know to look for
>digits in INFO to set up a call. The example call flow I gave in email
>handles perfectly well the case of PSTN-IP-PSTN with overlap on both
>ends.

When I was writing this, I meant to say something like "INFO or similar
method," but my brain moved on before my fingers caught up, BUT

there is the issue that in the come cases logic may not wish to cut through
the caller to callee media path until there is a 200 OK accepting the call.
This might favour an INFO based method.

>
>In another mail, you wrote:
>
>> Thinking about it, my feeling is that as Jonathan originally described
his
>> scheme it is a bit over proactive about sending new dialled digit
>> information.  Perhaps it should only send a new INVITE once it has
received
>> a response to a previous INVITE.  If it receives additional dialled
digits
>> in this time, then it just accumulates them.
>
>What I don't like about this is that it requires every proxy or UAS to
>know about overlap signaling. This is because they need to know to send
>a 484 to ask for more digits, which nearly all UAS won't.

That's a good point, but I think the condition can be safely reduced to
accepting the 404 (and 604) reason also (and perhaps some others) to
indicate that the address is incomplete.  This would allow proxies to remain
ignorant of overlapped sending.

>
>I also don't believe we necesarily need ONE way to handle this. The
>ingress gateway can do one of several things as a local choice without
>breaking interoperability. Any one of the following will work:
>

I agree that it can be handled multiple ways, but this does require the
protocol to be up to it.

>1. send digits immediately upon receipt, as I described in my email
>2. wait some timeout T after a digit, and collect whatever arrives
>during T into a single INVITE
>3. wait for some longer timeout to get all the digits, effectively
>converting overlap to en-block at the ingress gateway
>4. wait for a # key

5. Only ever have one outstanding INVITE request and wait for a success or
failure code before sending another. :)

>
>Fortunately, it doesn't matter what the ingress gateway does, so long as
>the following rules are obeyed at a UAS:
>
>1. A UAS that is not a gateway, which receives an INVITE with a Request
>URI that does not correspond to one of its configured addresses (be it a
>tel URL or SIP URI), MUST respond with an error response.
>
>2. A gateway that receives an INVITE with a Call-ID that matches a
>previous call, and whose Request-URI contains a tel or SIP URL with
>additional digits in the user part, should tret this INVITE as adding
>additional digits to the original dialed string (overlap).

This condition will also apply to any device that wants to provide a service
along the call path.

Indeed, it also applys to any terminal UAS because in the general case you
won't know whether a call will go to a gateway or a stand-alone UAS,
especially with users moving around and using location services.

>
>Note that, if we don't do overlap in SIP at all, (2) does not need to be
>supported in a gateway. I believe this is effectively what Matt is
>suggesting.
>
>Proxy processing is the same in all cases, which is how en-bloc is
>handled also: longest prefix match against a phone number database. Each
>INVITE in the case of overlap is treated independently. A smart proxy
>can cache if it likes.
>
>
>So, I would recommend that we describe the various choices for ingress
>gateways, making each a MAY, and be sure to codify/emphasize the above
>as MUST.

Sounds good - subject to comments made.

>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>


=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 13:19:51 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA06484
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 13:19:50 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6509952F1; Mon, 22 Nov 1999 13:17:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C256052F2; Mon, 22 Nov 1999 13:17:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id F2AD952F1
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 13:17:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 13:15:19 EST 1999
Received: from mail.pingtel.com ([216.91.1.131]) by dusty; Mon Nov 22 13:14:04 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id NAA22918;
	Mon, 22 Nov 1999 13:28:01 -0500
Message-ID: <3839881B.FFA30055@pingtel.com>
Date: Mon, 22 Nov 1999 13:14:52 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <00b001bf34e9$8e532060$0200000a@tkw> <383952BF.531DDC07@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:

> Fortunately, it doesn't matter what the ingress gateway does, so long as
> the following rules are obeyed at a UAS:
>
> 1. A UAS that is not a gateway, which receives an INVITE with a Request
> URI that does not correspond to one of its configured addresses (be it a
> tel URL or SIP URI), MUST respond with an error response.
>

Sorry I do not understand the need of this requirement.  I had assumed that
ingress gateway is gathering digits some how (dtmf, PSTN signaling magic, etc.)
so that it can address a SIP INVITE to be sent to atleast one SIP server
providing directory services.  The SIP directory server, would proxy or
redirect the message to subsequent server(s) and/or the final SIP UAS.

How does the message get to the final UAS, past all of the SIP servers
with an invalid user ID?  I assumed that is what you meant by invalid address,
is the digits are incomplete.  Isn't this requirement on the SIP servers in the
middle not the user agent server on the edge?




>
> 2. A gateway that receives an INVITE with a Call-ID that matches a
> previous call, and whose Request-URI contains a tel or SIP URL with
> additional digits in the user part, should tret this INVITE as adding
> additional digits to the original dialed string (overlap).
>
> Note that, if we don't do overlap in SIP at all, (2) does not need to be
> supported in a gateway. I believe this is effectively what Matt is
> suggesting.
>
> Proxy processing is the same in all cases, which is how en-bloc is
> handled also: longest prefix match against a phone number database. Each
> INVITE in the case of overlap is treated independently. A smart proxy
> can cache if it likes.
>
> So, I would recommend that we describe the various choices for ingress
> gateways, making each a MAY, and be sure to codify/emphasize the above
> as MUST.
>
> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 13:42:14 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17559
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 13:42:12 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 02A9C52F2; Mon, 22 Nov 1999 13:39:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 51BA852F4; Mon, 22 Nov 1999 13:39:39 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A26E452F2
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 13:39:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 13:38:31 EST 1999
Received: from mail.pingtel.com ([216.91.1.131]) by dusty; Mon Nov 22 13:37:15 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id NAA23049;
	Mon, 22 Nov 1999 13:53:40 -0500
Message-ID: <38398E1F.A97BFE4C@pingtel.com>
Date: Mon, 22 Nov 1999 13:40:31 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Matt Cannon <mcannon@broadbandoffice.net>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        pete@tech-know-ware.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <001101bf34f9$e03e65f0$8b0e503f@broadbandoffice.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Matt Cannon wrote:

> Pete, I'm sorry , I just firmly believe that the
> importation of overlap signaling to SIP is a
> mistake. Your comment snipped below is right
> on the money....
>
> "Our wonderful new toy should be making call
>  services better, not worse!"
>
> Agree completely, if you are not providing either
> new services/features or cheaper rates
> with the use of SIP, its not going to be
> heavily deployed. But on the flip side, if the
> services and costs are there, people will get used
> to waiting for the few seconds for the timers to
> expire or learn to hit the # key real quick.
>

Pete is right on with our thinking.  There is no doubt a significant group
of end users who will have no problem using a send button (assuming there
is one present) or # button etc.  However there is another group of people
that do not want to know what SIP, en bloc or over lap is they just want
their phone to dial when they are done dialing, not 2 or 5 seconds later.
Believe it or not there are many people who still do not own a mobile phone
and have not learned to use the send button.  I have been told by mobile
phone services people that "why do I have to push send" is the most
common support question from new mobile phone users.

I believe that it is necessary to support both modes for users dialing with
a
send button and without.  In the latter case a timer will cause frustration
to
the end user and should be avoided.

>
> The thought of a large number of INVITES and 484
> response messages flying across the network to make
> overlap work just makes me shake my head.
>
> Just my two cents...
>
> Matt
>
> > -----Original Message-----
> > From: owner-sip@lists.research.bell-labs.com
> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Gonzalo
> > Camarillo
> > Sent: Monday, November 22, 1999 7:33 AM
> > To: pete@tech-know-ware.com
> > Cc: jdrosen@dynamicsoft.com; schulzrinne@cs.columbia.edu;
> > Adam.Roach@ericsson.com; bartw@nortelnetworks.com;
> > Gonzalo.Camarillo@ericsson.com; sip@lists.research.bell-labs.com;
> > Olli.Hynonen@lmf.ericsson.se
> > Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> >
> >
> >
> >
> > pete@tech-know-ware.com wrote:
> > >
> > > >Hi,
> > > >
> > > >A review of this thread:
> > > >
> > > >I think everybody agrees that overlap signalling is something not
> > > >desirable in SIP. So, we have to try to minimize its presence when
> > > >interworking with PSTN.
> > > >
> > > >Therefore, the i-gateway implements a timer (it is started upon the
> > > >reception of an IAM). This way, it is likely that before
> > it expires some
> > > >SAMs have arrive. This way the amount of signalling messages is
> > > >decreased. On the other hand, it introduces a delay.
> > > >
> > >
> > > How long are you proposing this timer be?
> >
> > As it is said in the draft, the maximun value for this timer is 5
> > seconds, but it has to be configurable depending on where the
> > gateway is
> > located. In some points of the network the reception of SAMs is very
> > unlikely to happen. In these situations the timer will be
> > short. If the
> > reception of SAMs is likely to happen, the timer has to be long enough
> > to avoid lots of signalling messages.
> >
> > >
> > > >If the timer expires, we issue the INVITE as Jonathan
> > suggested (instead
> > > >of the CANCEL, new-INVITE solution that was suggested in
> > the draft).
> > > >
> > > >This timer is used in lots of SS7 systems, so it is not
> > anything new.
> > > >
> > >
> > > Seems reasonable, but....
> > >
> > > >If we educate the users and everybody types # after the number, the
> > > >timer will never be started and there will be no delay in
> > the setup.
> > >
> > > I'm very, very against this.  It is just plain broken.
> > >
> > > If every user magically gets a SEND button on their phone
> > over night, then
> > > fine, but until then this is deficiencies in the technology
> > dictating the
> > > UI.  In this fabulous Internet age users should not have to
> > be confronted
> > > with this.  Legacy or otherwise, we have a problem to solve
> > and we should
> > > not be looking to the user to solve our problems as they
> > have their own
> > > problems to contend with.
> >
> > That's what I said in a previous mail. I am just saying thatin case we
> > receive the end-of-digits signal, the gateway doesn't wait
> > for the timer
> > to expire.
> >
> > Regards,
> >
> > Gonzalo
> >
> >
> > >
> > > The two second plus delay is also not acceptable.  While
> > this may only
> > > affect international calls in the US, it will affect every
> > call in the UK,
> > > and presumably Germany and France, and many other countries
> > as well.  Our
> > > wonderful new toy should be making call services better, not worse!
> > >
> > > Emotional shirty mode = off :)




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 14:47:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA14480
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 14:47:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 062FC52F3; Mon, 22 Nov 1999 14:45:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6DB8952F5; Mon, 22 Nov 1999 14:45:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7577252F3
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 14:45:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 14:43:43 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 14:42:27 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqlz06274;
	Mon, 22 Nov 1999 19:48:23 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id OAA02981;
	Mon, 22 Nov 1999 14:43:25 -0500 (EST)
Message-ID: <38399DAB.E0AC8E2C@dynamicsoft.com>
Date: Mon, 22 Nov 1999 14:46:51 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Daniel G. Petrie" <dpetrie@pingtel.com>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <00b001bf34e9$8e532060$0200000a@tkw> <383952BF.531DDC07@dynamicsoft.com> <3839881B.FFA30055@pingtel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Daniel G. Petrie" wrote:
> 
> Jonathan Rosenberg wrote:
> 
> > Fortunately, it doesn't matter what the ingress gateway does, so long as
> > the following rules are obeyed at a UAS:
> >
> > 1. A UAS that is not a gateway, which receives an INVITE with a Request
> > URI that does not correspond to one of its configured addresses (be it a
> > tel URL or SIP URI), MUST respond with an error response.
> >
> 
> Sorry I do not understand the need of this requirement.  I had assumed that
> ingress gateway is gathering digits some how (dtmf, PSTN signaling magic, etc.)
> so that it can address a SIP INVITE to be sent to atleast one SIP server
> providing directory services.  The SIP directory server, would proxy or
> redirect the message to subsequent server(s) and/or the final SIP UAS.

The "directory services" you refer to might not be based on complete
addresses, and will very likely be routing tables based on prefixes. For
example, a proxy might only have prefixes, and for each prefix, have a
configured next hop. That next hop, in turn, may have longer prefix
maps, and for each of those, additional next hops. The above requirement
is not needed so long as no proxy has a prefix (not a complete number)
whose next hop is a UA. However, it is hard to guarantee that this is
never the case. So, to be safe, thats the requirement. Its worth noting
that I think this should generally be standard operating procedure for a
UA. It shouldn't just always ring the phone for every INVITE it gets; as
a check, it should make sure the INVITE was addressed to itself. 

> 
> How does the message get to the final UAS, past all of the SIP servers
> with an invalid user ID?  I assumed that is what you meant by invalid address,
> is the digits are incomplete.  Isn't this requirement on the SIP servers in the
> middle not the user agent server on the edge?

Since, in SIP, there is no way to tell the difference between a UAS
thats a terminal or a gateway, let alone tell if the next hop is a
proxy, I don't want to impose architectural requirements like this.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 14:58:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA17897
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 14:58:00 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3771F52F5; Mon, 22 Nov 1999 14:55:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8FCF952F7; Mon, 22 Nov 1999 14:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8C41052F5
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 14:55:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 14:53:32 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 14:52:17 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqlz28748;
	Mon, 22 Nov 1999 19:58:20 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id OAA02985;
	Mon, 22 Nov 1999 14:53:23 -0500 (EST)
Message-ID: <3839A001.C7CCF291@dynamicsoft.com>
Date: Mon, 22 Nov 1999 14:56:49 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <023c01bf3504$5addf460$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> >Why INFO? Usage of INFO for carrying overlapped signaling is definitely
> >an interoperability problem. Normal SIP UAS's won't know to look for
> >digits in INFO to set up a call. The example call flow I gave in email
> >handles perfectly well the case of PSTN-IP-PSTN with overlap on both
> >ends.
> 
> When I was writing this, I meant to say something like "INFO or similar
> method," but my brain moved on before my fingers caught up, BUT
> 
> there is the issue that in the come cases logic may not wish to cut through
> the caller to callee media path until there is a 200 OK accepting the call.
> This might favour an INFO based method.

Why? These seem orthogonal. We have the whole 183 message stuff to
decide whether to cut through. A UAS isn't going to send a 183 in
response to an INFO, but it will to an INVITE.

> 
> >
> >In another mail, you wrote:
> >
> >> Thinking about it, my feeling is that as Jonathan originally described
> his
> >> scheme it is a bit over proactive about sending new dialled digit
> >> information.  Perhaps it should only send a new INVITE once it has
> received
> >> a response to a previous INVITE.  If it receives additional dialled
> digits
> >> in this time, then it just accumulates them.
> >
> >What I don't like about this is that it requires every proxy or UAS to
> >know about overlap signaling. This is because they need to know to send
> >a 484 to ask for more digits, which nearly all UAS won't.
> 
> That's a good point, but I think the condition can be safely reduced to
> accepting the 404 (and 604) reason also (and perhaps some others) to
> indicate that the address is incomplete.  This would allow proxies to remain
> ignorant of overlapped sending.

OK. I'm fine with that.

> >1. send digits immediately upon receipt, as I described in my email
> >2. wait some timeout T after a digit, and collect whatever arrives
> >during T into a single INVITE
> >3. wait for some longer timeout to get all the digits, effectively
> >converting overlap to en-block at the ingress gateway
> >4. wait for a # key
> 
> 5. Only ever have one outstanding INVITE request and wait for a success or
> failure code before sending another. :)

People have expressed concerns over PDD if this is done. Ideally, I'd
prefer this also.


> >2. A gateway that receives an INVITE with a Call-ID that matches a
> >previous call, and whose Request-URI contains a tel or SIP URL with
> >additional digits in the user part, should tret this INVITE as adding
> >additional digits to the original dialed string (overlap).
> 
> This condition will also apply to any device that wants to provide a service
> along the call path.

For a call-stateful proxy, maybe. For a normal stateful or stateless
proxy, no. 


> 
> Indeed, it also applys to any terminal UAS because in the general case you
> won't know whether a call will go to a gateway or a stand-alone UAS,
> especially with users moving around and using location services.

No. A UAS knows its a terminal and not a gateway. A terminal will never
need to worry about things like SAMs and additional address digits. A
terminal will have a small, finite (usually one) set of addresses that
it is responsible for. Thus, a UAS thats a terminal will end up
rejecting all these INVITEs but the last. If, by some chance, another
one comes, the UAS should reject that also, since the request URI won't
match a valid address at the terminal.


Before we get too much farther, I think we need some more discussion on
the general direction of the solution. I see two directions:

1. The one we've been discussing, which requires all egress gateways to
know about overlap. Terminals, stateful and stateless proxies don't need
to do anything special. Call stateful proxies may need to know about
overlap.

2. Matt's suggestion: convert the overlap to en-bloc at the ingress
gateway with a timeout. Users don't need to dial an extra pound or
anything, but PDD's may be longer. Do we care? If this is legacy
technology that truly is fading away, should we bother to burden new
gateways with it?

Anyone else have an opinion on (1) vs. (2)?

-Jonathan R.


-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 15:03:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA20137
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 15:03:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5C2EA52F7; Mon, 22 Nov 1999 15:01:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CFA7352F8; Mon, 22 Nov 1999 15:01:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 11C8C52F7
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 15:01:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 15:01:00 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 14:59:45 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqma14800;
	Mon, 22 Nov 1999 20:05:48 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA02997;
	Mon, 22 Nov 1999 15:00:48 -0500 (EST)
Message-ID: <3839A1BF.42B5AA6B@dynamicsoft.com>
Date: Mon, 22 Nov 1999 15:04:15 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: mikko.alutoin@nokia.com
Cc: mcannon@broadbandoffice.net, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <11CD408013B6D2119BB50008C7EA510C989595@eseis05nok>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



mikko.alutoin@nokia.com wrote:
> 
> The key issue here is that the mobile networks needn't to support
> overlap sending, because the mobile phones provide a way to use enbloc
> sending, but the analogue POTS phones don't.
> 
> This is the reason for which you have to have an element in the PSTN,
> where you switch from overlap sending to enbloc sending.
> This place has to be the same one, where you have the
> number analysis tree, usually a class 5 switch.
> This devices waits for the digits, one by one, and determines
> the next hop as soon as the matching prefix is found (if there are
> several overlapping prefixes, there might be some policies involved).
> 
> Think now about the case of a VoIP access gateway or a call agent.
> If SIP wouldn't support overlap sending (which by the way is easily
> done with a help of sequential INVITEs and 484's as Jonathan R.
> earlier described in this list) every access gateway and call agent
> should have a number analysis tree associated with it. This results
> in a major problems in updating these trees. Basically it means that
> each of the gateways/call agents would have to take part in TRIP.
> To demonstrate the severity of the problem,consider the current PSTN,
> where there are tens of thousands of subscribers using one number
> analysis tree. How many subscribers there would be attached to one
> access gateway? Only small fraction of this I would assume.

The problem of where to put the routing function (gateway, proxy), and
how much data is in it, seem completely orthogonal to the issue of
overlap vs en-bloc. In fact, with the suggestion to use INVITE with
cumulative digits, the whole idea was that a proxy with a routing table
wouldn't even know that overlap dialing was taking place.


> Now I see another problem. What if the default SIP server detects
> (by using TRIP or enum for example) that there is no SIP URL
> associated with the dialed number, but only a H.323 gatekeeper?

Again, orthogonal issue. Locate a gateway and send it there. TRIP
supports things like this, FWIW.


> 
> The SIP RFC mentions that some kind of a "H.323 URL" should be
> included in the resulting REDIRECT message, but has this been
> addressed by anyone? At least I couldn't find any information at
> all about this. I would be happy, if somebody bothered to prove me
> wrong.

My understanding (Pete can correct me) is that there is no currently
specified H.323 URL. In any case, that is also a separate issue. There
is no need to have redirects in this case. The SIP could be proxied to a
signaling conversion gateway that converts SIP to H.323.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 15:07:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA21490
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 15:07:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id F160152F8; Mon, 22 Nov 1999 15:03:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5CA7452F9; Mon, 22 Nov 1999 15:03:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4267D52F8
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 15:03:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 15:02:51 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 15:01:35 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqma19168;
	Mon, 22 Nov 1999 20:07:44 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA03001;
	Mon, 22 Nov 1999 15:02:45 -0500 (EST)
Message-ID: <3839A234.25CA3503@dynamicsoft.com>
Date: Mon, 22 Nov 1999 15:06:12 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <00af01bf34e9$8d1d5f80$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> >You seem to be missing the bigger picture here:
> >
> >Call transfer is well defined within the call control draft.
> >It won't be done via any sort of DTMF signalling; it'll be
> >built in to the end devices. No patching involved...
> >
> 
> No, you've missed what I'm saying...  Call transfer may take place using
> procedures defined in the call control draft, BUT the event that causes the
> call transfer to be kicked off MAY be some DTMF signal.

Not in the SIP architecture. An MG may get a DTMF signal that means
transfer, and then the CA can invoke SIP procedures to perform the
transfer function. In this case, use of dtmf to signal transfer services
is not within SIP. Note that, in a pure SIP environment, a proxy cannot
transfer a call. Thats because it requires end systems cooperation, as
media is end to end. Thus, UAs invoke transfer directly.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 15:16:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25177
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 15:16:03 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B918652F9; Mon, 22 Nov 1999 15:13:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 321D652FA; Mon, 22 Nov 1999 15:13:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1F2F452F9
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 15:13:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 15:12:18 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 22 15:11:02 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqmb09278;
	Mon, 22 Nov 1999 20:17:09 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA03005;
	Mon, 22 Nov 1999 15:12:11 -0500 (EST)
Message-ID: <3839A46A.C01876DF@dynamicsoft.com>
Date: Mon, 22 Nov 1999 15:15:38 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pyda Srisuresh <srisuresh@yahoo.com>
Cc: Brett Tate <brett@broadsoft.com>, sip@lists.research.bell-labs.com
Subject: Re: Forking and unwanted/unexpected 200 responses for INVITE (was Re:  
 183, BCP & forking)
References: <19991121031759.19322.rocketmail@web1402.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pyda Srisuresh wrote:
> 
> --- Jonathan Rosenberg <jdrosen@dynamicsoft.com> wrote:
> <... snip>
> >   This actually causes a forking situation since phone B's
> > > 200 response for INVITE could cross on the wire with the CANCEL.
> > > Thus 200 responses for INVITEs could be received from both B and C.
> > >
> > > Here are four solutions dealing with forking:
> > >
> > > 1) Phone A (or SIP end node for phone A) would have to send ACK
> > > and BYE for unwanted or unexpected 200 responses for INVITE.
> > > I think that this solution best fits the current SIP draft.
> >
> > I expect this to be the behavior in 99% of the cases.
> >
> 
> I agree, it makes sense to let the UAC make the selection. But, this
> may not be desirable to Users who dont want to be bothered with making
> selections after they placed the call.

I does't need to be exposed to end users. The phone can automatically
send BYE for the unwanted 200's, completely unbeknowenst to the actual
user.

> > > 2) Allow proxy servers to send BYEs.  People have mentioned that
> > > this causes problems concerning the CSeq and encryption.
> >
> > Yes, this definitely causes problems.
> >
> 
> I dont know what the Cseq  and encryption problems are. Can you elaborate?

The CSeq space is defined to be unique within the Call-ID, To, and From.
A proxy that tries to send a BYE needs to have the same value of the
Call-ID, To, and From as the INVITE. This means both a proxy and a UA
will need to select CSeq numbers from the same space. As these are often
chosen in increasing order, there is a very likely possibility that a UA
sends a re-INVITE with the same CSeq as a BYE sent by the proxy. This
totally fouls things up, since now there are two requests with the same
To,From,Call-ID and CSeq, but with different methods. These cannot be
ordered correctly, and the result will be inconsistent call state across
all parties.

There is also a security problem. In the current model, the requests are
signed by the UA. Thus, we can use things like PGP to sign requests, as
a person can easily build up a keyring of keys from other users they
talk to. However, if we assume a UA only accepts signed requests, it
would need to accept BYE requests signed by proxies. There are lots of
proxies, and there is no way a user can be expected to have keys (and
trust) all of them that might appear on a call path.

We've been through this discussion before, and consensus was clear that
proxies cannot send BYE.

> >
> > Handling of multiple 200 OK is best left to the UA, since it can hang up
> > with the additional 200 OKs, as you mention above. Or, it might even
> > initiate a conference call. However, only the UA can know which to do.
> >
> 
> Interesting. Are you suggesting that conference calling (with callee's home
> phone no., mobile phone no. and work no.) could be a free by-product of
> call forking? And, the caller gets to decide whether to do conference
> calling or select a line, after he/she hears from all callee locations?
> This is clearly something a proxy cannot decide on behalf of the UAC.

Yes, the caller (or his UA) gets to decide. Note that the conference
call is not "free". The result of multiple 200 OK is N point to point
conversations, where N is the the number of 200 OK. Using call control,
the calling party can turn those into a conference call if they like.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 16:09:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA21244
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 16:09:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D0AA152E5; Mon, 22 Nov 1999 16:07:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 3E9D452FB; Mon, 22 Nov 1999 16:07:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9FBB452E5
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 16:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 16:06:58 EST 1999
Received: from mail.pingtel.com ([216.91.1.131]) by dusty; Mon Nov 22 16:05:42 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id QAA23897;
	Mon, 22 Nov 1999 16:21:11 -0500
Message-ID: <3839B0B4.7B8A4FA3@pingtel.com>
Date: Mon, 22 Nov 1999 16:08:04 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
References: <023c01bf3504$5addf460$0200000a@tkw> <3839A001.C7CCF291@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg wrote:

> Before we get too much farther, I think we need some more discussion on
> the general direction of the solution. I see two directions:
>
> 1. The one we've been discussing, which requires all egress gateways to
> know about overlap. Terminals, stateful and stateless proxies don't need
> to do anything special. Call stateful proxies may need to know about
> overlap.
>

I like 1 as it works symetrically and solves the problem of collecting digits
from users on SIP terminals as well as for the from PSTN to egress gateway
case.  As much as I would like to see a new dialing pardigm on SIP phones,
I do not believe that it will work for all installations.

It seems though that an installation could always choose to use the second
solution if desired without impact on SIP whether we support option 1 or
not.  I can effectively do option 2 today on a SIP terminal with a timer for
collecting digits, but I believe the impact on the user is less desirable.  I
believe the impact to the PSTN user coming in via the egress gateway is
equivalent.


>
> 2. Matt's suggestion: convert the overlap to en-bloc at the ingress
> gateway with a timeout. Users don't need to dial an extra pound or
> anything, but PDD's may be longer. Do we care? If this is legacy
> technology that truly is fading away, should we bother to burden new
> gateways with it?
>
> Anyone else have an opinion on (1) vs. (2)?
>
> -Jonathan R.
>
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 17:31:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA25255
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 17:31:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6104452FA; Mon, 22 Nov 1999 17:29:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CC10352FE; Mon, 22 Nov 1999 17:29:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1B00252FA
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:29:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 17:27:35 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 17:26:19 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA29023;
	Mon, 22 Nov 1999 16:28:21 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA22813;
	Mon, 22 Nov 1999 16:27:01 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXABV>; Mon, 22 Nov 1999 16:27:00 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BD@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: "'Dean Willis'" <dean.willis@wcom.com>
Cc: sip@lists.research.bell-labs.com
Subject: jpegs in INFO messages?
Date: Mon, 22 Nov 1999 16:26:58 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


Dean Willis [mailto:dean.willis@wcom.com] writes
> I could, for example, see an application wherein each end point
periodically
> snaps a jpeg image of the speaker, mimes it, and ships it via INFO to the
> other end for display as a "speaker icon". The proxies in between don't
> care, they just ship the message along. Yeah, you could do it in RTP. You
> could do it a lot of ways -- but INFO is easy for asynchronous stuff.

Was this a serious suggestion for an application?  It sounds like a crude
implementation of a video-phone service, where the audio is sent via a media
channel, but the video is sent via the signaling network.

The idea of letting end systems (UACs or UASs) send INFO messages on the
signaling network seems to open up quite a potential for abuse.  

For one thing, as your JPEG example shows, the amount of data could be large
-- unbounded actually.  In that case, it seems like some one needs to pay
for those messages.  That opposes the idea (popular in Washington, at least)
that nothing is charged for until a call is "completed". 

Also, it may be that to keep the signaling network "healthy", that end
system signaling (as in an INFO message) might be kept separate from (or
sent with a different class of service than, or whatever) the other more
bounded SIP signaling messages.  This would mean INFO messages might not be
able to flow through the same set of network proxies as the other SIP
signaling messages, or they might arrive with more latency, less
reliability, etc.

Tim Schroeder



 
This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 17:44:02 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA29856
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 17:44:02 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0A9DD52FE; Mon, 22 Nov 1999 17:41:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7E5E75300; Mon, 22 Nov 1999 17:41:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1C6B352FE
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:41:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 17:39:05 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 17:37:50 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA29140;
	Mon, 22 Nov 1999 16:39:52 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA23119;
	Mon, 22 Nov 1999 16:38:32 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXAD7>; Mon, 22 Nov 1999 16:38:31 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BE@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        ak@hplb.hpl.hp.com
Cc: sip@lists.research.bell-labs.com
Subject: RE: 183, BCP & forking
Date: Mon, 22 Nov 1999 16:38:30 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gonzalo,

Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] writes
> The problem is not when we callee (B-party) is a "black phone". The
> problem I see is when the caller (A-party) is one PSTN-like phone.

> So, A is calling B, and B can be reachable at B1, B2 and B3.

> B1 sends back a 183, and A hears from the speaker some kind of announce.
> In the meantime, B picks up B2, and A receives a 200. Now A's speaker
> suddently stops playing the message from B1, tears down the connection
> with B1 and connects to B2... then we will CANCEL the other branches, so
> as soon as we receive the first 200 there is no problem with receiving
> subsequent 200 responses.

> I believe this is not acceptable.

This behavior seems to happen a fair amount even today.  I call a call
center, and get some ringback.  Shortly thereafter I hear an announcement
about how all representatives are busy, then get switched to music for a
bit.  At some point the music is interrupted for another announcement (or
even an advertisement).  Eventually (hopefully) either the announcement or
the music is interrupted by a human answering the phone, possibly preceded
by another bit of ringback.

Or I call someone's home, and get the start of an answering machine message,
but then a live person picks up the phone, interrupting the answering
machine (which hopefully has enough smarts to shut itself off at that
point).

> What do you suggest if we receive two 183 responses from different
> locations? Which one shall the caller hear?

I think that would be up to the UAC, right?  If my equipment is somehow
capable of doing both, maybe I can receive both.  If my equipment is a
"black phone", maybe I hear neither, but just hear some locally-generated
ringback.  (I know that's not the intent of the 183 Session Progress, but
this afternoon I'm having some problem with the one-way media path set up in
the 183 message.)

Tim Schroeder


This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 17:53:44 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA03029
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 17:53:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 67ECF52FD; Mon, 22 Nov 1999 17:51:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E06DD5300; Mon, 22 Nov 1999 17:51:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1680052FD
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:51:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 17:50:53 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 17:49:37 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA29185
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 16:51:15 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA23375
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 16:49:56 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXAFQ>; Mon, 22 Nov 1999 16:49:55 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BF@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: sip@lists.research.bell-labs.com
Subject: one-way media with 183 Session Progress
Date: Mon, 22 Nov 1999 16:49:55 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Regarding the possibility of setting up a media stream with the 183 Session
Progress message ...

I can see why this is nice, though I don't understand (today) why this is
necessary.  And it does seem to have similar potential for abuse as the INFO
method does.  Agreed, it sounds helpful to be able to send back the status
of the call completion.  But what (if anything) stops a called party's UAS
from using that one-way media stream to read back the value of a caller's
stock portfolio?  Or connecting it to a microphone, while simultaneously
initiating a new call back to the original caller, in order to get a second
one-way media stream?  There are certainly services where a one-way stream
is all that is necessary, and with two one-way streams in opposite direction
I can do nearly anything.

Again, it would seem that the solution is to charge someone for the one-way
stream -- probably the called party (who is setting it up).  But again that
results in charging for uncompleted calls.  

Even without the media stream, repeated 183 Session Progress message seems
like they could be used to transfer some (maybe not significant) information
prior to call completion.

In a PSTN interworking scenario involving both local and LD carriers, it
seems like it would be possible to construct a scenario where the LD carrier
ends up carrying a one-way media stream for a significant length of time,
but is never paid for that service, because the call is never completed with
an ANM.

Tim Schroeder


This e-mail and any files transmitted with it are the property of SBC, are
confidential, and are intended solely for the use of the individual or
entity to whom this e-mail is addressed. If you are not one of the named
recipient(s) or otherwise have reason to believe that you have received this
message in error, please notify the sender at tschroeder@tri.sbc.com and
delete this message immediately from your computer. Any other use,
retention, dissemination, forwarding, printing, or copying of this e-mail is
strictly prohibited.





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 18:13:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10819
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 18:13:36 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2F8BB5300; Mon, 22 Nov 1999 18:11:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7E8DF5301; Mon, 22 Nov 1999 18:11:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 865E75300
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 18:11:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 18:09:55 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 18:08:40 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA29314;
	Mon, 22 Nov 1999 17:10:42 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA23822;
	Mon, 22 Nov 1999 17:09:22 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXA23>; Mon, 22 Nov 1999 17:09:22 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C0@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip@lists.research.bell-labs.com
Subject: RE: 183, BCP & forking
Date: Mon, 22 Nov 1999 17:09:21 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gonzalo Camarillo wrote:
> We want to call B, and we issue an INVITE. Our INVITE hits a proxy that
> forks it and sends it to several locations (parallel search) where B can
> be reached. We receive one 183 response and we begin hearing a ringback
> tone or an announce... in the meantime, we receive a 200 from another
> location... what should we do??

Jonathan Rosenberg wrote:
> Two choices:
> 1. If your aim is for the phone to speak with the first person that is
> reached,
> accept the 200 OK with an ACK, and stop playing out any ringback
> received as a result
> of the 183. As a 200 OK has been received, a CANCEL would have been
> generated by the
> proxies that will effectively stop the announcement on the remote side.

That seems OK.

> 2. Send a BYE to the 200 OK (automatically, without user intervention),
> and hope that the party that sent the 183 will answer the phone.

Isn't this effectively a call defect?  Someone answered a ringing phone
(causing the 200 OK to be sent) and the caller immediately hangs up on them?
I don't think I like that.  Especially when they get dropped in the hope
that someone might answer the phone that isn't even ringing yet?  (Do I have
that right?)

Gonzalo Camarillo wrote:
> Maybe we could specify that we do not want parallel search in our caller
> preferences... in this case, as Scott suggested, the caller preferences
> would have to have priority over any logic (CPL) installed in the server.

Jonathan Rosenberg wrote:
> Doing this is probably the best bet.

I think we ought to be very leery of letting the caller determine the
behavior of the callee's service/equipment.  In this case the parallel
search is being done by a proxy server, presumably because the called party
has signed up for some "Find Me" sort of service that has that behavior.
Should someone then be able to call and over-ride that behavior?  It seems
if I have a whole set of phones that I expect to ring in unison (and that I
can answer any of them) it could be pretty annoying if someone could usurp
control of them and ring them serially and make me wait for the one nearest
me to ring before I could answer it, or deny me the ability to answer the
'first' one, even though a later one was still ringing.

Since SIP has the capability of doing these parallel searches, I think we
ought to figure out how not-very-smart terminals (black phones) can deal
with that, rather than letting them forcibly alter the behavior of SIP for
someone who has a fully capable terminal.

Tim Schroeder


This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 18:29:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA17420
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 18:29:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 270745302; Mon, 22 Nov 1999 18:27:36 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9A1F35301; Mon, 22 Nov 1999 18:27:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DFC1F5302
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 18:27:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 18:27:01 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Mon Nov 22 18:25:46 EST 1999
Received: from mr3.exu.ericsson.se (mr3u.ericy.com [208.238.116.100])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id RAA12353;
	Mon, 22 Nov 1999 17:25:38 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr3.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id RAA14274;
	Mon, 22 Nov 1999 17:25:37 -0600 (CST)
Received: from b04a45.exu.ericsson.se (b04a45 [138.85.60.145]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id RAA09733; Mon, 22 Nov 1999 17:25:37 -0600 (CST)
From: Sean Olson <eussean@exu.ericsson.se>
Received: (from eussean@localhost)
	by b04a45.exu.ericsson.se (8.9.1/8.9.1) id RAA01207;
	Mon, 22 Nov 1999 17:25:35 -0600 (CST)
Date: Mon, 22 Nov 1999 17:25:35 -0600 (CST)
Message-Id: <199911222325.RAA01207@b04a45.exu.ericsson.se>
To: dean.willis@wcom.com, schroeder@tri.sbc.com
Subject: Re: jpegs in INFO messages?
Cc: sip@lists.research.bell-labs.com
X-Sun-Charset: US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

> Dean Willis [mailto:dean.willis@wcom.com] writes
> > I could, for example, see an application wherein each end point
> periodically
> > snaps a jpeg image of the speaker, mimes it, and ships it via INFO to the
> > other end for display as a "speaker icon". The proxies in between don't
> > care, they just ship the message along. Yeah, you could do it in RTP. You
> > could do it a lot of ways -- but INFO is easy for asynchronous stuff.
> 
> Was this a serious suggestion for an application?  It sounds like a crude
> implementation of a video-phone service, where the audio is sent via a media
> channel, but the video is sent via the signaling network.
> 

I believe the application was more of a still picture than video streaming.
I think everyone realizes that SIP is NOT a transport protocol. If I 
understand what Dean was proposing, this application would be akin to some
of the information passed in RTCP.

> The idea of letting end systems (UACs or UASs) send INFO messages on the
> signaling network seems to open up quite a potential for abuse.  

No more than any other SIP message. What happens if a UAC issues an
INVITE request with a multipart body that includes SDP and some other
unknown MIME type? Would you consider this abuse? Would you reject the
request? You of course have to restrict some usages of the INFO message
or any other SIP message but this is not a problem unique to the INFO
message.

> 
> For one thing, as your JPEG example shows, the amount of data could be large
> -- unbounded actually.  In that case, it seems like some one needs to pay
> for those messages.  That opposes the idea (popular in Washington, at least)
> that nothing is charged for until a call is "completed". 
> 

Again, SIP is NOT a transport protocol. Large payloads like JPEG/TIFF/etc.
would be inappropriate and should be restricted in some cases. But I don't
believe this is the intended usage of the INFO message.

> Also, it may be that to keep the signaling network "healthy", that end
> system signaling (as in an INFO message) might be kept separate from (or
> sent with a different class of service than, or whatever) the other more
> bounded SIP signaling messages.  This would mean INFO messages might not be
> able to flow through the same set of network proxies as the other SIP
> signaling messages, or they might arrive with more latency, less
> reliability, etc.
>

Depending on the intent/usage of the INFO message, it may very well be that
they are delivered directly to the UAC/UAS. If you wish to segregate the
signalling and media networks then you may have to enforce certain 
restrictions on the SIP signalling to ensure certain characteristics as you
mention. In general, however, since SIP is not a transport protocol, there 
are no provisions for fragmentation. So sending INFO messages with huge
bodies is really not an option in many cases.... 
"413 Request Entity Too Large"
 
> Tim Schroeder

-----------------------------------------------------------------
Sean Olson            E-mail: sean.olson@ericsson.com
Ericsson Inc.         Voice: (972) 583-5472 
                      FAX: (972) 669-0154 



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 18:43:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA23113
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 18:43:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6971B5303; Mon, 22 Nov 1999 18:41:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D9B4A5304; Mon, 22 Nov 1999 18:41:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7B2635303
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 18:41:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 18:39:11 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 18:37:56 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA29419
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:39:58 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA24400
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:38:38 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXAL5>; Mon, 22 Nov 1999 17:38:38 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C1@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: sip@lists.research.bell-labs.com
Subject: RE: DTMF signaling between media gateways - ouch!
Date: Mon, 22 Nov 1999 17:38:37 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I'm a bit confused by much of this DTMF discussion.  SIP is a Session
Initiation Protocol, so it understands how to initiate sessions.  As for the
mid-call DTMF tones,

(1) If they are coming from some network where those tones *do* have session
initiation implications, then the gateway ought to be able to map them to
the existing set of SIP messages in some rational fashion.  So, in a network
where the DTMF 7 tone (R for record) means to add a recording device to the
call, the SIP gateway would map this to an invite of a recording device to
the call.  

(2) If those tones don't have session initiation implications, then I don't
see why any of the SIP network servers would understand them (any more than
a gateway would understand them); only the end systems would.  Yes, they may
be used for signaling, but it's not session initiation signaling, and I
don't understand the desire to somehow wrap them up into SIP messages and
send them between end systems that way.  I see SIP as being used to set up a
session between end systems, possibly consisting of two media channels, one
used for end system signaling, one used for end system data.  I haven't made
the leap that because the end systems are interpreting some data as
signaling, that the data should be sent using SIP messages.

My impression from reading all the DTMF messages (and in trying to catch up
-- there were a lot of them!) is that two separate kinds of signaling
(session initiation, and some higher level service signaling) are being
confused.  Currently SIP handles the first type.  Adding the INFO method
might make it able to handle some of the second type, but I don't think it
can handle all service signaling that easily.  

Tim Schroeder



This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 18:55:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA27501
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 18:55:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6BAFC52FF; Mon, 22 Nov 1999 18:53:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D63A05305; Mon, 22 Nov 1999 18:53:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2DC9352FF
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 18:53:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 18:51:05 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 18:49:49 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA29464;
	Mon, 22 Nov 1999 17:51:51 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id RAA24555;
	Mon, 22 Nov 1999 17:50:31 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXAM5>; Mon, 22 Nov 1999 17:50:31 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C2@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: "'Adam B. Roach'" <Adam.Roach@Ericsson.com>
Cc: sip@lists.research.bell-labs.com
Subject: RE: 183, BCP & forking
Date: Mon, 22 Nov 1999 17:50:28 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Adam B. Roach [mailto:Adam.Roach@Ericsson.com] writes
> Opinion from the list: would an attempt to codify such behavior for
> forking proxies involved in PSTN calls seem useful, or should we 
> just come up with a mechanism to prohibit forking for these types of
calls?

I believe this has to be handled by the PSTN gateways, whether codified or
whether the decision is made on a gateway-by-gateway basis.  In general, I
think nothing else will know whether the party is on the PSTN or not, or
what the exact behavior of signaling on that PSTN ought to be.  I also don't
think prohibiting forking is correct, unless forking is completely removed
from SIP.  The server doing the forking may not be able to determine whether
a PSTN party is involved (although that may be worked around); more
importantly signaling behavior should not be different for one party because
the other is on (or across) a PSTN.

Tim Schroeder



This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 19:23:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA06629
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 19:23:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 617EA5305; Mon, 22 Nov 1999 19:21:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D3D425308; Mon, 22 Nov 1999 19:21:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9B47E5305
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 19:21:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Mon Nov 22 19:20:52 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Mon Nov 22 19:19:37 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id SAA29549;
	Mon, 22 Nov 1999 18:21:34 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id SAA24990;
	Mon, 22 Nov 1999 18:20:12 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXAPG>; Mon, 22 Nov 1999 18:20:12 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C3@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: sip@lists.research.bell-labs.com
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Mon, 22 Nov 1999 18:20:11 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] writes
> A mobile always sends 'en bloc' signalling, but a call that uses overlap
> signalling will be able to reach a mobile... therefore, mobile provides
> backward compatibility in that sense.

> In SIP I suggest to use the same approach. We send 'en bloc' signalling,
> but we are able to receive overlap.

This sounds like the right approach to me.

Tim Schroeder


This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.





From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 19:58:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA20331
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 19:58:01 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 181155304; Mon, 22 Nov 1999 19:55:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 800395309; Mon, 22 Nov 1999 19:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 979D35304
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 19:55:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 19:55:01 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Mon Nov 22 19:53:45 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id TAA01553;
	Mon, 22 Nov 1999 19:54:57 -0500 (EST)
Message-ID: <04d001bf354d$639ab360$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Sean Olson" <eussean@exu.ericsson.se>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: jpegs in INFO messages?
Date: Mon, 22 Nov 1999 19:55:08 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I would reject any image transfer via SIP on the simple grounds that the
message size would adversely affect the transmission timing for SIP
messages, particular if time-sentive signaling ( like DTMF digit sequences
if that were in SIP). Thus a big lump of image data would convert SIP into
file transfer protocol. Connections would time-out waiting for images to
load. While SIP may not require a real-time transmission medium, anything
more than a tiny latency (1/2 second) is bound to be percieved as delay to
the end users in the form of call setup time an in many other ways. H.32x
protocols have provisions for image transfer, however they transfer are
executed through a logical channel specifically set-up for this purpose to
the extent that it is interwoven with other transmission by other logical
channels in a way that does not expand the total bandwidth consumed by the
connection. For example, audio and video are shut off while image data is
transferred using that bandwidth.

A few bytes of DTMF sequences is one thing, but several kilobytes of image
data hogging the signaling link is over the line for me.

Greg Girard


-----Original Message-----
From: Sean Olson <eussean@exu.ericsson.se>
To: dean.willis@wcom.com <dean.willis@wcom.com>; schroeder@tri.sbc.com
<schroeder@tri.sbc.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: Monday, November 22, 1999 6:29 PM
Subject: Re: jpegs in INFO messages?


>> Dean Willis [mailto:dean.willis@wcom.com] writes
>> > I could, for example, see an application wherein each end point
>> periodically
>> > snaps a jpeg image of the speaker, mimes it, and ships it via INFO to
the
>> > other end for display as a "speaker icon". The proxies in between don't
>> > care, they just ship the message along. Yeah, you could do it in RTP.
You
>> > could do it a lot of ways -- but INFO is easy for asynchronous stuff.
>>
>> Was this a serious suggestion for an application?  It sounds like a crude
>> implementation of a video-phone service, where the audio is sent via a
media
>> channel, but the video is sent via the signaling network.
>>
>
>I believe the application was more of a still picture than video streaming.
>I think everyone realizes that SIP is NOT a transport protocol. If I
>understand what Dean was proposing, this application would be akin to some
>of the information passed in RTCP.
>
>> The idea of letting end systems (UACs or UASs) send INFO messages on the
>> signaling network seems to open up quite a potential for abuse.
>
>No more than any other SIP message. What happens if a UAC issues an
>INVITE request with a multipart body that includes SDP and some other
>unknown MIME type? Would you consider this abuse? Would you reject the
>request? You of course have to restrict some usages of the INFO message
>or any other SIP message but this is not a problem unique to the INFO
>message.
>
>>
>> For one thing, as your JPEG example shows, the amount of data could be
large
>> -- unbounded actually.  In that case, it seems like some one needs to pay
>> for those messages.  That opposes the idea (popular in Washington, at
least)
>> that nothing is charged for until a call is "completed".
>>
>
>Again, SIP is NOT a transport protocol. Large payloads like JPEG/TIFF/etc.
>would be inappropriate and should be restricted in some cases. But I don't
>believe this is the intended usage of the INFO message.
>
>> Also, it may be that to keep the signaling network "healthy", that end
>> system signaling (as in an INFO message) might be kept separate from (or
>> sent with a different class of service than, or whatever) the other more
>> bounded SIP signaling messages.  This would mean INFO messages might not
be
>> able to flow through the same set of network proxies as the other SIP
>> signaling messages, or they might arrive with more latency, less
>> reliability, etc.
>>
>
>Depending on the intent/usage of the INFO message, it may very well be that
>they are delivered directly to the UAC/UAS. If you wish to segregate the
>signalling and media networks then you may have to enforce certain
>restrictions on the SIP signalling to ensure certain characteristics as you
>mention. In general, however, since SIP is not a transport protocol, there
>are no provisions for fragmentation. So sending INFO messages with huge
>bodies is really not an option in many cases....
>"413 Request Entity Too Large"
>
>> Tim Schroeder
>
>-----------------------------------------------------------------
>Sean Olson            E-mail: sean.olson@ericsson.com
>Ericsson Inc.         Voice: (972) 583-5472
>                      FAX: (972) 669-0154
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 20:15:36 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA27932
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 20:15:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 72C575309; Mon, 22 Nov 1999 20:13:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DAA36530A; Mon, 22 Nov 1999 20:13:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 087B65309
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 20:13:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 20:11:11 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Mon Nov 22 20:09:55 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id UAA28754;
	Mon, 22 Nov 1999 20:11:06 -0500 (EST)
Message-ID: <3839E9A8.97F71D51@cs.columbia.edu>
Date: Mon, 22 Nov 1999 20:11:04 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Sean Olson <eussean@exu.ericsson.se>, sip@lists.research.bell-labs.com
Subject: Re: jpegs in INFO messages?
References: <04d001bf354d$639ab360$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

"Gregory D. Girard" wrote:
> 
> I would reject any image transfer via SIP on the simple grounds that the
> message size would adversely affect the transmission timing for SIP
> messages, particular if time-sentive signaling ( like DTMF digit sequences
> if that were in SIP). Thus a big lump of image data would convert SIP into
> file transfer protocol. Connections would time-out waiting for images to
> load. While SIP may not require a real-time transmission medium, anything
> more than a tiny latency (1/2 second) is bound to be percieved as delay to
> the end users in the form of call setup time an in many other ways. H.32x
> protocols have provisions for image transfer, however they transfer are
> executed through a logical channel specifically set-up for this purpose to
> the extent that it is interwoven with other transmission by other logical
> channels in a way that does not expand the total bandwidth consumed by the
> connection. For example, audio and video are shut off while image data is
> transferred using that bandwidth.
> 
> A few bytes of DTMF sequences is one thing, but several kilobytes of image
> data hogging the signaling link is over the line for me.
> 

Fortunately, we don't have "signaling links", but an integrated network,
where the signaling paths are likely to have the same bandwidth as the
rest of best-effort traffic. Thus, this is only a problem when
SIP-as-web-page-carrier competes in traffic with http. That'll be a long
time off (I hope).

While SIP should not be a transport protocol, I see no reason to
prohibit sending one's likeness as a JPEG or a web page if that makes
service development easier (subject to MTU considerations). This clearly
only works if SIP messages are best-effort rather than marked as
high-priority traffic. The latter would encourage the "SIP for audio"
bypass.

Somehow this discussion/reaction reminds me of the ISDN UU field (which,
so I'm told, European PTTs disallowed since they couldn't stomach the
free bits that they would grant to their customers).

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 20:25:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA02165
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 20:25:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E0249530A; Mon, 22 Nov 1999 20:23:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5883E530B; Mon, 22 Nov 1999 20:23:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D5A8E530A
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 20:23:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 20:22:35 EST 1999
Received: from mailman.cisco.com ([171.68.225.9]) by dusty; Mon Nov 22 20:21:19 EST 1999
Received: from chsharp-tecra (chsharp-isdn.cisco.com [171.68.116.221]) by mailman.cisco.com (8.8.8+Sun/CISCO.SERVER.1.2) with ESMTP id RAA29252 for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 17:22:32 -0800 (PST)
Message-Id: <4.2.0.58.19991122201521.00aac380@dogwood.cisco.com>
X-Sender: chsharp@dogwood.cisco.com
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Mon, 22 Nov 1999 20:20:27 -0500
To: sip@lists.research.bell-labs.com
From: Chip Sharp <chsharp@cisco.com>
Subject: Re: jpegs in INFO messages?
In-Reply-To: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BD@trimail.tri.sbc.c
 om>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

I see that we are close to repeating the arguments from the late '80s in 
T1S1 and ITU over carrying User-User Information Elements in SS7 messages.

In fact, all this argument over carrying information in the signaling 
network vs the data path is causing serious flashback to ISDN.

Chip

At 04:26 PM 11/22/99 -0600, Schroeder, Tim wrote:

>Dean Willis [mailto:dean.willis@wcom.com] writes
> > I could, for example, see an application wherein each end point
>periodically
> > snaps a jpeg image of the speaker, mimes it, and ships it via INFO to the
> > other end for display as a "speaker icon". The proxies in between don't
> > care, they just ship the message along. Yeah, you could do it in RTP. You
> > could do it a lot of ways -- but INFO is easy for asynchronous stuff.
>
>Was this a serious suggestion for an application?  It sounds like a crude
>implementation of a video-phone service, where the audio is sent via a media
>channel, but the video is sent via the signaling network.
>
>The idea of letting end systems (UACs or UASs) send INFO messages on the
>signaling network seems to open up quite a potential for abuse.
>
>For one thing, as your JPEG example shows, the amount of data could be large
>-- unbounded actually.  In that case, it seems like some one needs to pay
>for those messages.  That opposes the idea (popular in Washington, at least)
>that nothing is charged for until a call is "completed".
>
>Also, it may be that to keep the signaling network "healthy", that end
>system signaling (as in an INFO message) might be kept separate from (or
>sent with a different class of service than, or whatever) the other more
>bounded SIP signaling messages.  This would mean INFO messages might not be
>able to flow through the same set of network proxies as the other SIP
>signaling messages, or they might arrive with more latency, less
>reliability, etc.
>
>Tim Schroeder
>
>
>
>
>This e-mail and any files transmitted with it are the property of SBC,
>are confidential, and are intended solely for the use of the individual
>or entity to whom this e-mail is addressed. If you are not one of the
>named recipient(s) or otherwise have reason to believe that you have
>received this message in error, please notify the sender at
>tschroeder@tri.sbc.com and delete this message immediately from your
>computer. Any other use, retention, dissemination, forwarding, printing,
>or copying of this e-mail is strictly prohibited.
>

Support NetAid!  http://www.netaid.org
--------------------------------------------------
Chip Sharp                 Consulting Engineering
Cisco Systems              Telco Bio-region
Reality - Love it or Leave it.			
--------------------------------------------------



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 22 21:44:04 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA11153
	for <sip-archive@odin.ietf.org>; Mon, 22 Nov 1999 21:43:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 343FD52FB; Mon, 22 Nov 1999 21:41:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 99EA552FC; Mon, 22 Nov 1999 21:41:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6075352FB
	for <sip@lists.research.bell-labs.com>; Mon, 22 Nov 1999 21:41:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 22 21:40:18 EST 1999
Received: from omzrelay03.mcit.com ([199.249.19.245]) by dusty; Mon Nov 22 21:39:03 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-29 #38418)
 with ESMTP id <0FLM00MBFQ33YP@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 23 Nov 1999 02:40:15 +0000 (GMT)
Received: from omta1.mcit.com (omta1.mcit.com [166.37.204.2])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id CAA26701; Tue,
 23 Nov 1999 02:35:29 +0000 (GMT)
Received: from dwillispc4 ([166.37.187.69])
 by omta1.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991123023940.RRFT847@dwillispc4>; Mon,
 22 Nov 1999 20:39:40 -0600
Date: Mon, 22 Nov 1999 20:42:45 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: jpegs in INFO messages?
In-reply-to: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BD@trimail.tri.sbc.com>
To: "Schroeder, Tim" <schroeder@tri.sbc.com>
Cc: sip@lists.research.bell-labs.com
Message-id: <000901bf355c$6bcb1d40$54fa403f@dwillispc4>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Tim asked:
> Dean Willis [mailto:dean.willis@wcom.com] writes
> > I could, for example, see an application wherein each end point
> periodically
> > snaps a jpeg image of the speaker, mimes it, and ships it via
> >INFO to the
. . .
> Was this a serious suggestion for an application?  It sounds like a crude
> implementation of a video-phone service, where the audio is sent
> via a media
> channel, but the video is sent via the signaling network.
>
> The idea of letting end systems (UACs or UASs) send INFO messages on the
> signaling network seems to open up quite a potential for abuse.
> For one thing, as your JPEG example shows, the amount of data
> could be large
> -- unbounded actually.  In that case, it seems like some one needs to pay
> for those messages.  That opposes the idea (popular in
> Washington, at least)
> that nothing is charged for until a call is "completed".

Many people also objected to letting users send large amount of email
without additional charges. Come to think of it, we used to get $1 US per
page of email.

Then the users realized they were buying BANDWIDTH, not email service, and
stopped using our mail servers. That really scuttled the profit boat, you
know? Just think -- my IETF mailing list bill would be like $10,000 a day!
Think they won't route around call control servers if there is an economic
reason to do so?

> Also, it may be that to keep the signaling network "healthy", that end
> system signaling (as in an INFO message) might be kept separate from (or
> sent with a different class of service than, or whatever) the other more
> bounded SIP signaling messages.  This would mean INFO messages
> might not be
> able to flow through the same set of network proxies as the other SIP
> signaling messages, or they might arrive with more latency, less
> reliability, etc.

One might wish to design a network and application that minimizes the number
of end-to-end proxies. In fact, I believe the DCS architecture REQUIRES that
there be no proxies remaining in-path by the time of the final 200 OK, so
any INFO messages sent in such a case would be end-to-end.

While I admit that this may be a little extreme, I can certainly predict
that the norm will be for only proxies that really NEED to stay in-path
(like firewalls, anonymizers, proxy-service-nodes, and the like) to do so.
Other proxies will bail out as soon as their task is done.

This makes the signaling path very close to shortest-path between two nodes
in an established session. We already had to hole the firewalls to pass the
SIP traffic, so using INFO for generic asynchronous-but-immediate
application messaging is actually pretty efficient. And if you use
persistent TCP, it's pretty easy on the network too. Not to mention the fact
that one gains the utility of every intervening proxy (like IP address
anonymizing and firewall passage) quite transparently.

If you want your signaling (and JPEGS and IMs and other stuff somebody might
shove in an INFO) transmitted at a higher preference, well, I'll be happy to
arrange to charge for those high-priority packets . . .

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 02:15:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA11935
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 02:15:52 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1B0265308; Tue, 23 Nov 1999 02:13:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 829D8530B; Tue, 23 Nov 1999 02:13:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 92FC35308
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 02:13:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 02:11:17 EST 1999
Received: from smtp10.atl.mindspring.net ([207.69.200.246]) by dusty; Tue Nov 23 02:10:02 EST 1999
Received: from paris.mds.local (user-2ivf1me.dialup.mindspring.com [165.247.134.206])
	by smtp10.atl.mindspring.net (8.9.3/8.8.5) with ESMTP id CAA30562;
	Tue, 23 Nov 1999 02:11:15 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id CAA12807;
	Tue, 23 Nov 1999 02:11:08 -0500
Message-ID: <019401bf3581$ddca4fe0$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Schroeder, Tim" <schroeder@tri.sbc.com>,
        <sip@lists.research.bell-labs.com>
References: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C1@trimail.tri.sbc.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 02:10:45 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2314.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Tim,

> My impression from reading all the DTMF messages (and in trying to catch
up
> -- there were a lot of them!) is that two separate kinds of signaling
> (session initiation, and some higher level service signaling) are being
> confused.  Currently SIP handles the first type.  Adding the INFO method
> might make it able to handle some of the second type, but I don't think it
> can handle all service signaling that easily.

I doubt folks have confused the two.  I, for one, completely agree with your
comments.  SIP is exactly that-- a Session Initiation Protocol.  It is not a
Session Control Protocol (which we arguably need) or anything else.  I think
people understand that, but are trying to provoke some discussion on how to
fill in the gaps.

I've seen several proposals that attempt to twist SIP into something it is
not.  As a complete system, there are some deficiencies in using SIP alone,
but those deficiencies can be worked out.  In order to do so, we must
present the problems that need to be solved.

Paul





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 05:31:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA16826
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 05:31:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id ABE4252E2; Tue, 23 Nov 1999 05:29:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 24A1552E8; Tue, 23 Nov 1999 05:29:24 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6815B52E2
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 05:29:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 05:29:03 EST 1999
Received: from rakshaka.wipsys.soft.net ([164.164.68.8]) by dusty; Tue Nov 23 05:27:43 EST 1999
Received: (from fwtk@localhost)
	by rakshaka.wipsys.soft.net (8.9.1b+Sun/8.9.1) id PAA01431
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 15:58:18 -0500 (GMT)
X-Authentication-Warning: rakshaka.wipsys.soft.net: fwtk set sender to <vipinpal@wipsys.soft.net> using -f
Received: from unknown(192.168.172.18) by rakshaka.wipsys.soft.net via smap (V2.0)
	id xmaa01419; Tue, 23 Nov 99 15:58:09 -0500
Received: from vipin ([192.168.178.178]) by ecmail.wipsys.soft.net
          (Netscape Messaging Server 3.6)  with SMTP id AAA413F
          for <sip@lists.research.bell-labs.com>;
          Tue, 23 Nov 1999 15:55:55 +0530
Message-ID: <01cc01bf359e$f9832690$b2b2a8c0@vipin.wipsys.soft.net>
From: "VIPIN PALAWAT" <vipinpal@wipsys.soft.net>
To: <sip@lists.research.bell-labs.com>
Subject: SDP in information response
Date: Tue, 23 Nov 1999 16:09:09 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.5
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



I have a doubt.

*     Can the informational message carry SDP message with them, e.g.
180 response Message carry the SDP Message with it.




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 05:46:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA24344
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 05:46:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E57AC52ED; Tue, 23 Nov 1999 05:05:26 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 58F0E52E8; Tue, 23 Nov 1999 05:05:25 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 69A2E52F4
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 05:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 05:03:30 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 05:02:14 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id FAA05454;
	Tue, 23 Nov 1999 05:03:25 -0500 (EST)
Message-ID: <051901bf359a$01e69e70$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>
Subject: Re: jpegs in INFO messages?
Date: Tue, 23 Nov 1999 05:03:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

See my comments below marked "GG:"


>"Gregory D. Girard" wrote:
>>
>> I would reject any image transfer via SIP on the simple grounds that the
>> message size would adversely affect the transmission timing for SIP
>> messages, particular if time-sentive signaling ( like DTMF digit
sequences
>> if that were in SIP). Thus a big lump of image data would convert SIP
into
>> file transfer protocol. Connections would time-out waiting for images to
>> load. While SIP may not require a real-time transmission medium, anything
>> more than a tiny latency (1/2 second) is bound to be percieved as delay
to
>> the end users in the form of call setup time an in many other ways. H.32x
>> protocols have provisions for image transfer, however they transfer are
>> executed through a logical channel specifically set-up for this purpose
to
>> the extent that it is interwoven with other transmission by other logical
>> channels in a way that does not expand the total bandwidth consumed by
the
>> connection. For example, audio and video are shut off while image data is
>> transferred using that bandwidth.
>>
>> A few bytes of DTMF sequences is one thing, but several kilobytes of
image
>> data hogging the signaling link is over the line for me.
>>
>
>Fortunately, we don't have "signaling links", but an integrated network,
>where the signaling paths are likely to have the same bandwidth as the
>rest of best-effort traffic. Thus, this is only a problem when
>SIP-as-web-page-carrier competes in traffic with http. That'll be a long
>time off (I hope).

GG: I knew somebody would get wrapped around the "signaling links"
reference. I should have chosen a different word. I meant more like sausage
links (connections between units, in this case "switches"), or more
specifically as in (American Heritage 2a.) "A unit in a transporation or
communication system". Sorry for the confusion.

I don't believe bandwidth is the only issue here, but more the latentcy
between transmission elements. A tiny 2" square JPEG would be at least 20K
of data payload; maybe that is ok, but speaking as someone who has been
working in video phone technology for years, it sounds like a slow motion
video phone to me. More specifically, an ITU-T "still image transfer" is
what I remember the term to be. In the ITU-T H.32x model we already have,
this is in the media pathway via logical channel set to a specific
asynchronous transfer mode. Besides, no matter how much transmission
capability lies in the back-end of the network, the connection between the
user station and the switch will still likely proceed via ISDN or some
limited bandwidth pathway in many cases (particularly wireless), and
restrict us to a "D" channel or less for signaling.

*** It is my opinion that the signaling model used on the next-generation
network architecture should have at least some reasonable level of natural
compatibility with the world's existing infrastructure ***

In my own view, pics in the signal channel will break that model (besides
being just bad form). For example, I calculated that it would take roughly
12-15 seconds to transmit that JPEG through and ISDN "D" channel if one were
to map SIP to a standard ISDN Basic Rate Interface. Hardly workable. So the
image would have to be extracted from the SIP signaling link and reinserted
into the media stream according to something like H.32x, which has the
capacity to deliver an image to the terminal, but not through a signaling
channel. And then it is only a matter of time before common practice expands
the SIP image transfer to file transfer, and soon we pumping multi-megabyte
packages through the signaling channel. And then we would be forced to set
limits on the bandwith used by SIP and be right back to where we started
with the ISDN restrictions on "signaling link" bandwith to ensure call
setup/teardown timeliness. I support a model in which  what goes through SIP
is: (1) signaling directly related to the state of the connection, (2)
addressing info related to the connection, and (3) primitive user stimulus
during the session. Now, if one wants to use SIP to signal image transfer,
then I'd go along with that.

>
>While SIP should not be a transport protocol, I see no reason to
>prohibit sending one's likeness as a JPEG or a web page if that makes
>service development easier (subject to MTU considerations). This clearly
>only works if SIP messages are best-effort rather than marked as
>high-priority traffic. The latter would encourage the "SIP for audio"
>bypass.

GG: See reasons above. Henning, I thought I saw you name on orignal SIP IETF
papers and other work on SIP going way back. You tell me, doesn't still
image transfer breaks the model ?.  I'm just putting in my two cents, but
cleary I'm on the periphery. I cannot fully understand why the idea of DTMF
digits in the SIP pathway has gone against the grain of so many, but images
! There is no signaling case at all for this usage.

>
>Somehow this discussion/reaction reminds me of the ISDN UU field (which,
>so I'm told, European PTTs disallowed since they couldn't stomach the
>free bits that they would grant to their customers).

GG: I'm less well versed in this field use in Europe, so I can't comment.
>
>--
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:24:07 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA13356
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:24:06 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 17C6552DD; Tue, 23 Nov 1999 07:19:38 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AE4D852E1; Tue, 23 Nov 1999 07:19:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 244C152D5
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:19:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 07:17:55 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Tue Nov 23 07:16:39 EST 1999
Received: from [212.140.38.74] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11qEtJ-000079-00; Tue, 23 Nov 1999 12:17:50 +0000
Message-ID: <00f201bf35ac$c4841220$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 12:07:50 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Adam B. Roach <Adam.Roach@Ericsson.com>;
sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 22 November 1999 20:08
Subject: Re: DTMF signaling between media gateways - ouch!


>
>Note that, in a pure SIP environment, a proxy cannot
>transfer a call. Thats because it requires end systems cooperation, as
>media is end to end. Thus, UAs invoke transfer directly.

Then we have a problem.  We are ruling out a whole bunch of useful services
if a non-end device can not initiate a transfer between end UAs.

Would an impure SIP device be able to do it?

>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>



=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:27:23 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA14845
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:27:23 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C3D7652E3; Tue, 23 Nov 1999 07:19:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 726C552D5; Tue, 23 Nov 1999 07:19:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 513D152DD
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:19:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 07:18:01 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Tue Nov 23 07:16:45 EST 1999
Received: from [212.140.38.74] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11qEtH-000079-00; Tue, 23 Nov 1999 12:17:48 +0000
Message-ID: <00f101bf35ac$c33d8860$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <Adam.Roach@ericsson.com>, <bartw@nortelnetworks.com>,
        <Gonzalo.Camarillo@ericsson.com>, <sip@lists.research.bell-labs.com>
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Tue, 23 Nov 1999 11:59:06 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>;
Adam.Roach@ericsson.com <Adam.Roach@ericsson.com>; bartw@nortelnetworks.com
<bartw@nortelnetworks.com>; Gonzalo.Camarillo@ericsson.com
<Gonzalo.Camarillo@ericsson.com>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: 22 November 1999 19:58
Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt


>
>
>Pete Cordell wrote:
>>
>> >Why INFO? Usage of INFO for carrying overlapped signaling is definitely
>> >an interoperability problem. Normal SIP UAS's won't know to look for
>> >digits in INFO to set up a call. The example call flow I gave in email
>> >handles perfectly well the case of PSTN-IP-PSTN with overlap on both
>> >ends.
>>
>> When I was writing this, I meant to say something like "INFO or similar
>> method," but my brain moved on before my fingers caught up, BUT
>>
>> there is the issue that in the come cases logic may not wish to cut
through
>> the caller to callee media path until there is a 200 OK accepting the
call.
>> This might favour an INFO based method.
>
>Why? These seem orthogonal. We have the whole 183 message stuff to
>decide whether to cut through. A UAS isn't going to send a 183 in
>response to an INFO, but it will to an INVITE.

183 cuts through media in the called party to calling party direction.
That's good.  But I hope it does not enforce the media to be cut through in
the calling party to called party direction.  A number of operators only
want to allow this when 200 OK is exchanged as this is when they intend to
start charging.  We couldn't possibly allow someone to have free call
time!!!  My observation was that DTMF over RTP would be media (in so far as
it is RTP) in the calling party to called party direction prior to 200 OK.

>
>>
>> >
>> >In another mail, you wrote:
>> >
>> >> Thinking about it, my feeling is that as Jonathan originally described
>> his
>> >> scheme it is a bit over proactive about sending new dialled digit
>> >> information.  Perhaps it should only send a new INVITE once it has
>> received
>> >> a response to a previous INVITE.  If it receives additional dialled
>> digits
>> >> in this time, then it just accumulates them.
>> >
>> >What I don't like about this is that it requires every proxy or UAS to
>> >know about overlap signaling. This is because they need to know to send
>> >a 484 to ask for more digits, which nearly all UAS won't.
>>
>> That's a good point, but I think the condition can be safely reduced to
>> accepting the 404 (and 604) reason also (and perhaps some others) to
>> indicate that the address is incomplete.  This would allow proxies to
remain
>> ignorant of overlapped sending.
>
>OK. I'm fine with that.
>
>> >1. send digits immediately upon receipt, as I described in my email
>> >2. wait some timeout T after a digit, and collect whatever arrives
>> >during T into a single INVITE
>> >3. wait for some longer timeout to get all the digits, effectively
>> >converting overlap to en-block at the ingress gateway
>> >4. wait for a # key
>>
>> 5. Only ever have one outstanding INVITE request and wait for a success
or
>> failure code before sending another. :)
>
>People have expressed concerns over PDD if this is done. Ideally, I'd
>prefer this also.

It's a good point, but I feel that it is no worse than waiting 5 seconds
after each digit.  Also it does provide some element of congestion control.

However, following through the various failure modes when signalled over
UDP, I don't think it makes the life of a gateway UAS any easier.  It may
make the life of a gateway UAS signalled over TCP easier though.

>
>
>> >2. A gateway that receives an INVITE with a Call-ID that matches a
>> >previous call, and whose Request-URI contains a tel or SIP URL with
>> >additional digits in the user part, should tret this INVITE as adding
>> >additional digits to the original dialed string (overlap).
>>
>> This condition will also apply to any device that wants to provide a
service
>> along the call path.
>
>For a call-stateful proxy, maybe. For a normal stateful or stateless
>proxy, no.

Yep, when I said service I meant a call state-ful service.

>
>
>>
>> Indeed, it also applys to any terminal UAS because in the general case
you
>> won't know whether a call will go to a gateway or a stand-alone UAS,
>> especially with users moving around and using location services.
>
>No. A UAS knows its a terminal and not a gateway. A terminal will never
>need to worry about things like SAMs and additional address digits. A
>terminal will have a small, finite (usually one) set of addresses that
>it is responsible for. Thus, a UAS thats a terminal will end up
>rejecting all these INVITEs but the last. If, by some chance, another
>one comes, the UAS should reject that also, since the request URI won't
>match a valid address at the terminal.

This sounds plausable, but in any text that is written up on this, I feel
there should be a noted directed at terminal UASs that indicate that this
situation may occur.  After all, the simplest implementation is not to
bother checking the To: field in a UAS and just accept any INVITE that comes
along.  This would be OK if the UAS indicated busy for second and subsequent
INVITEs, but would not give the right results if the UAS tried to conference
in the new INVITE.

>
>
>Before we get too much farther, I think we need some more discussion on
>the general direction of the solution. I see two directions:
>
>1. The one we've been discussing, which requires all egress gateways to
>know about overlap. Terminals, stateful and stateless proxies don't need
>to do anything special. Call stateful proxies may need to know about
>overlap.
>
>2. Matt's suggestion: convert the overlap to en-bloc at the ingress
>gateway with a timeout. Users don't need to dial an extra pound or
>anything, but PDD's may be longer. Do we care? If this is legacy
>technology that truly is fading away, should we bother to burden new
>gateways with it?
>
>Anyone else have an opinion on (1) vs. (2)?

I know I may not be in the category of anyone else in this debate, but I
don't feel that overlap sending will fade away anytime soon.  For a US only
solution it will probably be OK to ignore the overlap issue, but for many
other countries it would be dangerous to ignore it.

>
>-Jonathan R.
>
>
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>
>



=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:30:50 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA16792
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:30:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5D06652D5; Tue, 23 Nov 1999 07:21:07 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2309C52DE; Tue, 23 Nov 1999 07:20:36 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1FF2452DE
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:19:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 07:17:55 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Tue Nov 23 07:16:39 EST 1999
Received: from [212.140.38.74] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11qEtF-000079-00; Tue, 23 Nov 1999 12:17:46 +0000
Message-ID: <00f001bf35ac$c1fe9fc0$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>,
        "Gregory D. Girard" <ggirard@mediaone.net>
Cc: "Sean Olson" <eussean@exu.ericsson.se>, <sip@lists.research.bell-labs.com>
Subject: Re: jpegs in INFO messages?
Date: Tue, 23 Nov 1999 11:34:11 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Henning,

Although we have an integrated network, I think we should still bear in mind
that control signalling will become more concentrated around proxies and
other service nodes than the media which will be more dispersed across the
entire network.  This makes it attractive to keep the signalling bandwidth
low if possible.

Also, in a managed network, links may be provisioned based on their expected
traffic flow.  Large JPEGs and GIFs flying around the place may make such
traffic estimates impossible, and so affect the economics of deploying such
systems.

I prefer the solution of including a URL which would allow a called party to
access a picture if desired without burdening the call signalling.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
To: Gregory D. Girard <ggirard@mediaone.net>
Cc: Sean Olson <eussean@exu.ericsson.se>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: 23 November 1999 01:16
Subject: Re: jpegs in INFO messages?


>"Gregory D. Girard" wrote:
>>
>> I would reject any image transfer via SIP on the simple grounds that the
>> message size would adversely affect the transmission timing for SIP
>> messages, particular if time-sentive signaling ( like DTMF digit
sequences
>> if that were in SIP). Thus a big lump of image data would convert SIP
into
>> file transfer protocol. Connections would time-out waiting for images to
>> load. While SIP may not require a real-time transmission medium, anything
>> more than a tiny latency (1/2 second) is bound to be percieved as delay
to
>> the end users in the form of call setup time an in many other ways. H.32x
>> protocols have provisions for image transfer, however they transfer are
>> executed through a logical channel specifically set-up for this purpose
to
>> the extent that it is interwoven with other transmission by other logical
>> channels in a way that does not expand the total bandwidth consumed by
the
>> connection. For example, audio and video are shut off while image data is
>> transferred using that bandwidth.
>>
>> A few bytes of DTMF sequences is one thing, but several kilobytes of
image
>> data hogging the signaling link is over the line for me.
>>
>
>Fortunately, we don't have "signaling links", but an integrated network,
>where the signaling paths are likely to have the same bandwidth as the
>rest of best-effort traffic. Thus, this is only a problem when
>SIP-as-web-page-carrier competes in traffic with http. That'll be a long
>time off (I hope).
>
>While SIP should not be a transport protocol, I see no reason to
>prohibit sending one's likeness as a JPEG or a web page if that makes
>service development easier (subject to MTU considerations). This clearly
>only works if SIP messages are best-effort rather than marked as
>high-priority traffic. The latter would encourage the "SIP for audio"
>bypass.
>
>Somehow this discussion/reaction reminds me of the ISDN UU field (which,
>so I'm told, European PTTs disallowed since they couldn't stomach the
>free bits that they would grant to their customers).
>
>--
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:33:43 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA18415
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:33:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A702A52E1; Tue, 23 Nov 1999 07:21:10 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A7A5152DF; Tue, 23 Nov 1999 07:20:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CDC9952DF
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:19:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 07:18:32 EST 1999
Received: from praseodumium.btinternet.com ([194.73.73.82]) by dusty; Tue Nov 23 07:17:16 EST 1999
Received: from [212.140.38.74] (helo=tkw)
	by praseodumium.btinternet.com with smtp (Exim 2.05 #1)
	id 11qEtD-000079-00; Tue, 23 Nov 1999 12:17:44 +0000
Message-ID: <00ef01bf35ac$c0d9a7c0$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Schroeder, Tim" <schroeder@tri.sbc.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 11:24:13 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

My feeling is that SIP stopped being purely an initiation protocol a long
time ago.  In fact, when the BYE method was added, it no longer was purely
an initiation protocol.  It went further down the path when all the call
transfer stuff was added.

I'm here because SIP is being touted as a solution for Internet Telephony,
which involves more, much more, than just initiation.  If that's not what
it's about a decision needs to be made quickly and the message that is being
spread by SIP advocates needs to be changed to avoid confusion in the market
place.

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Schroeder, Tim <schroeder@tri.sbc.com>
To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: 22 November 1999 23:44
Subject: RE: DTMF signaling between media gateways - ouch!


>I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>Initiation Protocol, so it understands how to initiate sessions.  As for
the
>mid-call DTMF tones,
>
>(1) If they are coming from some network where those tones *do* have
session
>initiation implications, then the gateway ought to be able to map them to
>the existing set of SIP messages in some rational fashion.  So, in a
network
>where the DTMF 7 tone (R for record) means to add a recording device to the
>call, the SIP gateway would map this to an invite of a recording device to
>the call.
>
>(2) If those tones don't have session initiation implications, then I don't
>see why any of the SIP network servers would understand them (any more than
>a gateway would understand them); only the end systems would.  Yes, they
may
>be used for signaling, but it's not session initiation signaling, and I
>don't understand the desire to somehow wrap them up into SIP messages and
>send them between end systems that way.  I see SIP as being used to set up
a
>session between end systems, possibly consisting of two media channels, one
>used for end system signaling, one used for end system data.  I haven't
made
>the leap that because the end systems are interpreting some data as
>signaling, that the data should be sent using SIP messages.
>
>My impression from reading all the DTMF messages (and in trying to catch up
>-- there were a lot of them!) is that two separate kinds of signaling
>(session initiation, and some higher level service signaling) are being
>confused.  Currently SIP handles the first type.  Adding the INFO method
>might make it able to handle some of the second type, but I don't think it
>can handle all service signaling that easily.
>
>Tim Schroeder
>
>
>
>This e-mail and any files transmitted with it are the property of SBC,
>are confidential, and are intended solely for the use of the individual
>or entity to whom this e-mail is addressed. If you are not one of the
>named recipient(s) or otherwise have reason to believe that you have
>received this message in error, please notify the sender at
>tschroeder@tri.sbc.com and delete this message immediately from your
>computer. Any other use, retention, dissemination, forwarding, printing,
>or copying of this e-mail is strictly prohibited.
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:42:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA23200
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:42:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2E24E52DF; Tue, 23 Nov 1999 07:39:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0231052E4; Tue, 23 Nov 1999 07:39:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 90FC852DE
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:39:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 07:38:26 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 07:37:11 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id HAA22059;
	Tue, 23 Nov 1999 07:38:21 -0500 (EST)
Message-ID: <056301bf35af$a68387d0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>
Cc: "Sean Olson" <eussean@exu.ericsson.se>, <sip@lists.research.bell-labs.com>
Subject: Re: jpegs in INFO messages?
Date: Tue, 23 Nov 1999 07:38:31 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete,

I agree with your perspective.

Greg Girard

-----Original Message-----
From: Pete Cordell <pete@tech-know-ware.com>
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>; Gregory D. Girard
<ggirard@mediaone.net>
Cc: Sean Olson <eussean@exu.ericsson.se>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: Tuesday, November 23, 1999 7:31 AM
Subject: Re: jpegs in INFO messages?


>Henning,
>
>Although we have an integrated network, I think we should still bear in
mind
>that control signalling will become more concentrated around proxies and
>other service nodes than the media which will be more dispersed across the
>entire network.  This makes it attractive to keep the signalling bandwidth
>low if possible.
>
>Also, in a managed network, links may be provisioned based on their
expected
>traffic flow.  Large JPEGs and GIFs flying around the place may make such
>traffic estimates impossible, and so affect the economics of deploying such
>systems.
>
>I prefer the solution of including a URL which would allow a called party
to
>access a picture if desired without burdening the call signalling.
>
>Pete
>
>=============================================
>Pete Cordell
>pete@tech-know-ware.com
>=============================================
>
>-----Original Message-----
>From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
>To: Gregory D. Girard <ggirard@mediaone.net>
>Cc: Sean Olson <eussean@exu.ericsson.se>; sip@lists.research.bell-labs.com
><sip@lists.research.bell-labs.com>
>Date: 23 November 1999 01:16
>Subject: Re: jpegs in INFO messages?
>
>
>>"Gregory D. Girard" wrote:
>>>
>>> I would reject any image transfer via SIP on the simple grounds that the
>>> message size would adversely affect the transmission timing for SIP
>>> messages, particular if time-sentive signaling ( like DTMF digit
>sequences
>>> if that were in SIP). Thus a big lump of image data would convert SIP
>into
>>> file transfer protocol. Connections would time-out waiting for images to
>>> load. While SIP may not require a real-time transmission medium,
anything
>>> more than a tiny latency (1/2 second) is bound to be percieved as delay
>to
>>> the end users in the form of call setup time an in many other ways.
H.32x
>>> protocols have provisions for image transfer, however they transfer are
>>> executed through a logical channel specifically set-up for this purpose
>to
>>> the extent that it is interwoven with other transmission by other
logical
>>> channels in a way that does not expand the total bandwidth consumed by
>the
>>> connection. For example, audio and video are shut off while image data
is
>>> transferred using that bandwidth.
>>>
>>> A few bytes of DTMF sequences is one thing, but several kilobytes of
>image
>>> data hogging the signaling link is over the line for me.
>>>
>>
>>Fortunately, we don't have "signaling links", but an integrated network,
>>where the signaling paths are likely to have the same bandwidth as the
>>rest of best-effort traffic. Thus, this is only a problem when
>>SIP-as-web-page-carrier competes in traffic with http. That'll be a long
>>time off (I hope).
>>
>>While SIP should not be a transport protocol, I see no reason to
>>prohibit sending one's likeness as a JPEG or a web page if that makes
>>service development easier (subject to MTU considerations). This clearly
>>only works if SIP messages are best-effort rather than marked as
>>high-priority traffic. The latter would encourage the "SIP for audio"
>>bypass.
>>
>>Somehow this discussion/reaction reminds me of the ISDN UU field (which,
>>so I'm told, European PTTs disallowed since they couldn't stomach the
>>free bits that they would grant to their customers).
>>
>>--
>>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>>
>>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 07:45:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA24673
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 07:45:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 75AFD52E8; Tue, 23 Nov 1999 07:39:39 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A733152DE; Tue, 23 Nov 1999 07:39:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3691652DF
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 07:39:08 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 07:38:29 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 07:37:14 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id HAA21942;
	Tue, 23 Nov 1999 07:37:48 -0500 (EST)
Message-ID: <056001bf35af$95c6dcd0$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "Schroeder, Tim" <schroeder@tri.sbc.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 07:37:58 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete,
I could not agree more. If it is only for session initiation, then its time
to create yet another procotol that overlaps
about 90% of SIP's current functinality.

Greg Girard


>My feeling is that SIP stopped being purely an initiation protocol a long
>time ago.  In fact, when the BYE method was added, it no longer was purely
>an initiation protocol.  It went further down the path when all the call
>transfer stuff was added.
>
>I'm here because SIP is being touted as a solution for Internet Telephony,
>which involves more, much more, than just initiation.  If that's not what
>it's about a decision needs to be made quickly and the message that is
being
>spread by SIP advocates needs to be changed to avoid confusion in the
market
>place.
>
>Pete
>
>=============================================
>Pete Cordell
>pete@tech-know-ware.com
>=============================================
>
>-----Original Message-----
>From: Schroeder, Tim <schroeder@tri.sbc.com>
>To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>Date: 22 November 1999 23:44
>Subject: RE: DTMF signaling between media gateways - ouch!
>
>
>>I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>>Initiation Protocol, so it understands how to initiate sessions.  As for
>the
>>mid-call DTMF tones,
>>
>>(1) If they are coming from some network where those tones *do* have
>session
>>initiation implications, then the gateway ought to be able to map them to
>>the existing set of SIP messages in some rational fashion.  So, in a
>network
>>where the DTMF 7 tone (R for record) means to add a recording device to
the
>>call, the SIP gateway would map this to an invite of a recording device to
>>the call.
>>
>>(2) If those tones don't have session initiation implications, then I
don't
>>see why any of the SIP network servers would understand them (any more
than
>>a gateway would understand them); only the end systems would.  Yes, they
>may
>>be used for signaling, but it's not session initiation signaling, and I
>>don't understand the desire to somehow wrap them up into SIP messages and
>>send them between end systems that way.  I see SIP as being used to set up
>a
>>session between end systems, possibly consisting of two media channels,
one
>>used for end system signaling, one used for end system data.  I haven't
>made
>>the leap that because the end systems are interpreting some data as
>>signaling, that the data should be sent using SIP messages.
>>
>>My impression from reading all the DTMF messages (and in trying to catch
up
>>-- there were a lot of them!) is that two separate kinds of signaling
>>(session initiation, and some higher level service signaling) are being
>>confused.  Currently SIP handles the first type.  Adding the INFO method
>>might make it able to handle some of the second type, but I don't think it
>>can handle all service signaling that easily.
>>
>>Tim Schroeder
>>
>>
>>
>>This e-mail and any files transmitted with it are the property of SBC,
>>are confidential, and are intended solely for the use of the individual
>>or entity to whom this e-mail is addressed. If you are not one of the
>>named recipient(s) or otherwise have reason to believe that you have
>>received this message in error, please notify the sender at
>>tschroeder@tri.sbc.com and delete this message immediately from your
>>computer. Any other use, retention, dissemination, forwarding, printing,
>>or copying of this e-mail is strictly prohibited.
>>
>>
>>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:05:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA06384
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:05:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9685952D6; Tue, 23 Nov 1999 08:03:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0460552E4; Tue, 23 Nov 1999 08:03:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7440A52D6
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:03:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:01:10 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Tue Nov 23 07:59:55 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLN005ACITNYA@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 23 Nov 1999 13:01:00 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id MAA30697; Tue,
 23 Nov 1999 12:59:27 +0000 (GMT)
Received: from C25776A ([166.37.187.128])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991123130104.LAFS13986@C25776A>; Tue,
 23 Nov 1999 13:01:04 +0000
Date: Tue, 23 Nov 1999 07:00:55 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: Please push the pound key ( was RE: Comments on
 draft-camarillo-mmusic-sip-isup-bcp-00.txt)
In-reply-to: <383952BF.531DDC07@dynamicsoft.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Pete Cordell <pete@tech-know-ware.com>
Cc: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Adam.Roach@ericsson.com, bartw@nortelnetworks.com,
        Gonzalo.Camarillo@ericsson.com, sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKKEHLEOAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Please forgive me for "not getting it", but why can things not be kept
simple along the reasoning by Matt Cannon and others: If an IP telephony
gateway terminates calls to a PSTN network with numbering plans having
different digit string lengths, it can just insert a voice message: "Please
push the pound key when you have finished dialing". Are there any problems
with this approach?

Thanks, Henry

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Jonathan
> Rosenberg
> Sent: Monday, November 22, 1999 8:27 AM
> To: Pete Cordell
> Cc: Gonzalo Camarillo; Adam.Roach@ericsson.com;
> bartw@nortelnetworks.com; Gonzalo.Camarillo@ericsson.com;
> sip@lists.research.bell-labs.com
> Subject: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
>
>
>
>
> Pete Cordell wrote:
> >
> > Related to this thread is the case where we have a
> PSTN-SIP-PSTN call, and
> > we get the case where we have gone through Jonathan's scheme to
> get routing
> > all the way through the SIP part of the connection, but maybe
> this has only
> > got us to the Rhineland (in Henning's example) and the network
> decides to
> > jump back to PSTN.
> >
> > In this case the egress PSTN side still needs to do overlap
> sending on the
> > legacy PSTN side.  I think we then need to use the INFO method
> of sending
> > dialling information.  This shouldn't be a problem though as we
> can simply
> > resort to this scheme once we have got a non-484 result
> (actually we need a
> > response something like ???? - uhm I'm not sure!!!)
>
> Why INFO? Usage of INFO for carrying overlapped signaling is definitely
> an interoperability problem. Normal SIP UAS's won't know to look for
> digits in INFO to set up a call. The example call flow I gave in email
> handles perfectly well the case of PSTN-IP-PSTN with overlap on both
> ends.
>
> In another mail, you wrote:
>
> > Thinking about it, my feeling is that as Jonathan originally
> described his
> > scheme it is a bit over proactive about sending new dialled digit
> > information.  Perhaps it should only send a new INVITE once it
> has received
> > a response to a previous INVITE.  If it receives additional
> dialled digits
> > in this time, then it just accumulates them.
>
> What I don't like about this is that it requires every proxy or UAS to
> know about overlap signaling. This is because they need to know to send
> a 484 to ask for more digits, which nearly all UAS won't.
>
> I also don't believe we necesarily need ONE way to handle this. The
> ingress gateway can do one of several things as a local choice without
> breaking interoperability. Any one of the following will work:
>
> 1. send digits immediately upon receipt, as I described in my email
> 2. wait some timeout T after a digit, and collect whatever arrives
> during T into a single INVITE
> 3. wait for some longer timeout to get all the digits, effectively
> converting overlap to en-block at the ingress gateway
> 4. wait for a # key
>
> Fortunately, it doesn't matter what the ingress gateway does, so long as
> the following rules are obeyed at a UAS:
>
> 1. A UAS that is not a gateway, which receives an INVITE with a Request
> URI that does not correspond to one of its configured addresses (be it a
> tel URL or SIP URI), MUST respond with an error response.
>
> 2. A gateway that receives an INVITE with a Call-ID that matches a
> previous call, and whose Request-URI contains a tel or SIP URL with
> additional digits in the user part, should tret this INVITE as adding
> additional digits to the original dialed string (overlap).
>
> Note that, if we don't do overlap in SIP at all, (2) does not need to be
> supported in a gateway. I believe this is effectively what Matt is
> suggesting.
>
> Proxy processing is the same in all cases, which is how en-bloc is
> handled also: longest prefix match against a phone number database. Each
> INVITE in the case of overlap is treated independently. A smart proxy
> can cache if it likes.
>
>
> So, I would recommend that we describe the various choices for ingress
> gateways, making each a MAY, and be sure to codify/emphasize the above
> as MUST.
>
> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:09:31 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA08454
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:09:30 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 493CB52E4; Tue, 23 Nov 1999 08:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9E9C352EB; Tue, 23 Nov 1999 08:07:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 36AE852E4
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:06:56 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Tue Nov 23 08:05:41 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id IAA11925;
	Tue, 23 Nov 1999 08:06:51 -0500 (EST)
Message-ID: <383A9169.B3F793BF@cs.columbia.edu>
Date: Tue, 23 Nov 1999 08:06:49 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: "Gregory D. Girard" <ggirard@mediaone.net>,
        Sean Olson <eussean@exu.ericsson.se>, sip@lists.research.bell-labs.com
Subject: Re: jpegs in INFO messages?
References: <00f001bf35ac$c1fe9fc0$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete Cordell wrote:
> 
> Henning,
> 
> Although we have an integrated network, I think we should still bear in mind
> that control signalling will become more concentrated around proxies and
> other service nodes than the media which will be more dispersed across the
> entire network.  This makes it attractive to keep the signalling bandwidth
> low if possible.

This discussion is kind of theoretical. We don't restrict what protocols
can and cannot be used for. In some environments and for some
applications, this may be an issue, in others it just doesn't matter. 
Do you want to call the protocol police if I send a JPEG image and issue
a weight violation ticket? Users and application writers will figure out
pretty quickly that sending along a QuickTime movie introducing yourself
(with accordion and playing ping-pong) may not be the best way to
guarantee call success and speed. SIP has the status code to refuse
large messages, if needed.

If customers find a need for sending large SIP messages, I'm sure there
will be service providers to accommodate them. ("We allow you to see
who's calling, unlike that other company..."). Somehow, this doesn't
rank high on the list of my concerns, but somehow restricting usage
before we know what interesting services you can build, does.

> 
> Also, in a managed network, links may be provisioned based on their expected
> traffic flow.  Large JPEGs and GIFs flying around the place may make such
> traffic estimates impossible, and so affect the economics of deploying such
> systems.
> 
> I prefer the solution of including a URL which would allow a called party to
> access a picture if desired without burdening the call signalling.

Indeed, that would be the preferred approach where feasible. It also
allows caching in the case of "JPEG caller id", but with the trade-off
that it may be a few seconds before the callee sees who's calling.

However, with dynamically generated web pages, this would be very
awkward and the caching benefit would not accrue, so it is perfectly
appropriate to include them in the message body.

> 
> Pete
> 


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:27:59 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17171
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:27:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7415F52EB; Tue, 23 Nov 1999 08:25:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DA20D52EE; Tue, 23 Nov 1999 08:25:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6F94052EB
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:25:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:24:52 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Tue Nov 23 08:23:36 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-29 #38417)
 with ESMTP id <0FLN003NIJXD9N@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 23 Nov 1999 13:24:50 +0000 (GMT)
Received: from omzmta04.mcit.com (omzmta04.mcit.com [166.37.194.122])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id NAA05026; Tue,
 23 Nov 1999 13:23:17 +0000 (GMT)
Received: from C25776A ([166.44.154.118])
 by omzmta04.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991123132448.QTOJ23219@C25776A>; Tue,
 23 Nov 1999 13:24:48 +0000
Date: Tue, 23 Nov 1999 07:24:46 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: DTMF signaling between media gateways - ouch!
In-reply-to: <00ef01bf35ac$c0d9a7c0$0200000a@tkw>
To: Pete Cordell <pete@tech-know-ware.com>,
        "Schroeder, Tim" <schroeder@tri.sbc.com>,
        sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKOEHMEOAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Pete Cordell wrote
> I'm here because

Pete, if this is the reason for stuffing our mail, just say so and let's get
back to designing features we need for new services. As mentioned, telephony
legacy systems can be accommodated by gateway features and their ways need
not be ported to the Internet. I suggest we stop this thread, it's been a
drag already.

Henry

Henry Sinnreich
MCI WorldCom
400 International Parkway
Richardson, Texas 75081, USA


> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete Cordell
> Sent: Tuesday, November 23, 1999 5:24 AM
> To: Schroeder, Tim; sip@lists.research.bell-labs.com
> Subject: Re: DTMF signaling between media gateways - ouch!
>
>
> My feeling is that SIP stopped being purely an initiation protocol a long
> time ago.  In fact, when the BYE method was added, it no longer was purely
> an initiation protocol.  It went further down the path when all the call
> transfer stuff was added.
>
> I'm here because SIP is being touted as a solution for Internet Telephony,
> which involves more, much more, than just initiation.  If that's not what
> it's about a decision needs to be made quickly and the message
> that is being
> spread by SIP advocates needs to be changed to avoid confusion in
> the market
> place.
>
> Pete
>
> =============================================
> Pete Cordell
> pete@tech-know-ware.com
> =============================================
>
> -----Original Message-----
> From: Schroeder, Tim <schroeder@tri.sbc.com>
> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
> Date: 22 November 1999 23:44
> Subject: RE: DTMF signaling between media gateways - ouch!
>
>
> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
> >Initiation Protocol, so it understands how to initiate sessions.  As for
> the
> >mid-call DTMF tones,
> >
> >(1) If they are coming from some network where those tones *do* have
> session
> >initiation implications, then the gateway ought to be able to map them to
> >the existing set of SIP messages in some rational fashion.  So, in a
> network
> >where the DTMF 7 tone (R for record) means to add a recording
> device to the
> >call, the SIP gateway would map this to an invite of a recording
> device to
> >the call.
> >
> >(2) If those tones don't have session initiation implications,
> then I don't
> >see why any of the SIP network servers would understand them
> (any more than
> >a gateway would understand them); only the end systems would.  Yes, they
> may
> >be used for signaling, but it's not session initiation signaling, and I
> >don't understand the desire to somehow wrap them up into SIP messages and
> >send them between end systems that way.  I see SIP as being used
> to set up
> a
> >session between end systems, possibly consisting of two media
> channels, one
> >used for end system signaling, one used for end system data.  I haven't
> made
> >the leap that because the end systems are interpreting some data as
> >signaling, that the data should be sent using SIP messages.
> >
> >My impression from reading all the DTMF messages (and in trying
> to catch up
> >-- there were a lot of them!) is that two separate kinds of signaling
> >(session initiation, and some higher level service signaling) are being
> >confused.  Currently SIP handles the first type.  Adding the INFO method
> >might make it able to handle some of the second type, but I
> don't think it
> >can handle all service signaling that easily.
> >
> >Tim Schroeder
> >
> >
> >
> >This e-mail and any files transmitted with it are the property of SBC,
> >are confidential, and are intended solely for the use of the individual
> >or entity to whom this e-mail is addressed. If you are not one of the
> >named recipient(s) or otherwise have reason to believe that you have
> >received this message in error, please notify the sender at
> >tschroeder@tri.sbc.com and delete this message immediately from your
> >computer. Any other use, retention, dissemination, forwarding, printing,
> >or copying of this e-mail is strictly prohibited.
> >
> >
> >
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:35:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA21130
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:35:30 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 384D052BB; Tue, 23 Nov 1999 08:33:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8759152C4; Tue, 23 Nov 1999 08:33:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A6A6B52BB
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:33:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:31:21 EST 1999
Received: from babel.roke.co.uk ([193.118.192.40]) by dusty; Tue Nov 23 08:30:06 EST 1999
Received: from [193.118.192.55] by babel.roke.co.uk
 with ESMTP (Eudora Internet Mail Server 1.3.1); Tue, 23 Nov 1999 13:31:32 +0000
Mime-Version: 1.0
X-Sender: lwc@derek.roke.co.uk (Unverified)
Message-Id: <v04220801b46047aa702d@[193.118.192.55]>
Date: Tue, 23 Nov 1999 13:31:33 +0000
To: sip@lists.research.bell-labs.com
From: Lawrence Conroy <lwc@roke.co.uk>
Subject: Re: Please push the pound key ( was RE: Comments on 
 draft-camarillo-mmusic-sip-isup-bcp-00.txt)
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

>Please forgive me for "not getting it", but why can things not be kept
>simple along the reasoning by Matt Cannon and others: If an IP telephony
>gateway terminates calls to a PSTN network with numbering plans having
>different digit string lengths, it can just insert a voice message: "Please
>push the pound key when you have finished dialing". Are there any problems
>with this approach?
>
>Thanks, Henry
>
Hello all,
  Amusing as this particular discussion is, I do wonder what most of the people
over here in the U.K. would think if they heard such an announcement.
If they aren't on strike, I'd dearly love to hear BT's call center agents
explaining that the "pound" key is not one with a Sterling symbol on it.

All the best, Lawrence
-----------------------------------------------------------------------
| Lawrence Conroy,    | "These Opinions must be mine, 'cos if they    |
| Roke Manor Research |  were my Company's they'd pay me for them"    |
|- lwc@roke.co.uk  ---+- Tel: +44 1794 833666  Fax: +44 1794 833434 --|



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:39:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA23332
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:39:44 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 72D8D52C4; Tue, 23 Nov 1999 08:37:18 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D7A0152E5; Tue, 23 Nov 1999 08:37:17 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 20D5652C4
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:37:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:36:22 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Tue Nov 23 08:35:06 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id PAA15552;
	Tue, 23 Nov 1999 15:36:52 +0200 (EET)
Received: from lmf.ericsson.se (E0080C77A56E4 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id PAA11933;
	Tue, 23 Nov 1999 15:36:16 +0200 (EET)
Message-ID: <383A9832.5848DB6@lmf.ericsson.se>
Date: Tue, 23 Nov 1999 15:35:46 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: taylor@nortelnetworks.com
Cc: jdrosen@dynamicsoft.com, Adam.Roach@Ericsson.com,
        sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <C51ED84B6F47D211917A0000F8BCBD110232E200@zcard00g.ca.nortel.co>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Tom,

I haven't heard about this PSTN feature (MADN) that you are referring
to, but it is probably because in Europe has a different name than in
the States.

I can tell you how the "Personal number" worked in the nordic countries
though.

This was an IN (Intelligent network) service. The user had a personal
number where he could be reached.

Tipically the user had three kinds of phones.

1) GSM phone.
2) NMT phone (a mobile network in north Europe).
3) Fixed phone.

When the personal number was dialed, the IN node tried first the GSM
phone. It sent the GSM number to the GW-MSC with a parameter indicating
that announcements were not allowed.
Therefore, if the user was not reachable in the GSM network, instead of
playing "The mobile cannot be reached", a REL was sent back. 
Then, the IN node tried the next number (NMT phone), and so on. Thus,
the search was always sequencial.

This way, the caller did not hear "The mobile cannot be reached" before
the call was actually answered. Do we want this to happen in SIP? :o)

Best regards,

Gonzalo

> taylor@nortelnetworks.com wrote:
> 
> There is a PSTN feature called MADN (Multiple Appearance Directory
> Number).
> At the terminating end, this rings multiple sets.  It may be possible
> to dig
> up the feature description and see how this is supposed to appear to
> the
> originating user.  I'll see if there is anything helpful here.  There
> may
> not be because there may be restrictions on the terminating numbers
> which
> prevent cases where one would get ringback (ringing tone) from one
> appearance and something else from another.
> 
> > -----Original Message-----
> > From: Gonzalo Camarillo [SMTP:Gonzalo.Camarillo@lmf.ericsson.se]
> > Sent: Friday, November 19, 1999 7:20 AM
> > To:   jdrosen@dynamicsoft.com
> > Cc:   Adam.Roach@Ericsson.com; sip@lists.research.bell-labs.com
> > Subject:      Re: 183, BCP & forking
> >
> > Hi,
> >
> > The problem is still there.
> >
> > Why do we have to hear the announcement related to the first 183
> > received and not the announcement related to the second one? Just
> > because the first 183 response arrived a few miliseconds before?? It
> > does not sound very good to me...
> >
> > Even it is not that clear that an announcement has always higher
> > preference than a ringback tone (180 vs 183 responses).
> >
> > If SIP is going to interoperate with the PSTN we have to have a
> > predictable behaviour... that is, the user knows what's going on
> when he
> > listens to the handset (remember that the user may not have a
> display a
> > monitor).
> >
> > The idea of 1xx reponses with media (when it comes to PSTN-SIP
> > interworking) is to be able to hear the ringback tone generated by
> the
> > last PSTN exchange. If we are going to hear this ringback tone from
> one
> > branch and then we are going to connect to another branch (because a
> 200
> > OK has arrived from the other branch), the ringback makes little
> sense.
> > It would change the semantics of the ringback tone for the PSTN
> user.
> >
> > The parelell searching sounds like a good idea for reaching a user
> > saving some time. The problem is how to have the user updated about
> the
> > status of the different branches. If we cannot keep the user updated
> it
> > is better to perform sequencial search.
> >
> > Gonzalo
> >
> >
> > jdrosen@dynamicsoft.com wrote:
> > >
> > > "Adam B. Roach" wrote:
> > > >
> > > > For your example, I'd say it's pretty obvious that you need to
> CANCEL
> > > > the branch that sent a 183 (and be prepared to BYE it), and
> switch the
> > > > media to the 200.
> > >
> > > You can't CANCEL individual branches. CANCEL is for the whole
> > > transaction.
> > >
> > > > I'm not going to approach the first one right now. For the
> second
> > > > one, I've toyed around with the concept of defining an ordering
> for
> > the
> > > > 1xx status codes; e.g.:
> > > >
> > > > - If you receive a 180 with a media session, the proxy will
> forward it
> > > >   unless it's already passed a 1xx with a media session.
> > > >
> > > > - If you receive a 181-183 with a media session, the proxy will
> > forward it
> > > >   unless it's already passed a 181-183 with a media session.
> > > >
> > > > In this way, a user may hear ringtone, followed by an
> announcement
> > > > (from a different branch) that the call has been queued; but
> never
> > > > the other way around (since the ringtone could interrupt a
> word).
> > >
> > > The problem can also be solved locally at the UA through RTP. The
> UA
> > > will be able to distinguish one audio stream from the other (we'll
> > > eventually have an end to end provisional acknowledgement which
> can
> > > contain SDP with an updated port number). Thus, it can simply not
> play
> > > audio from a 180 on one branch after getting a 183 with audio on
> > > another.
> > >
> > > -Jonathan R.
> > >
> > > --
> > > Jonathan D. Rosenberg                       200 Executive Drive
> > > Chief Scientist                             Suite 120
> > > dynamicsoft                                 West Orange, NJ 07052
> > > jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> > > http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> > > http://www.dynamicsoft.com
> >
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> >
> 
>     ---------------------------------------------------------------
> 
> There is a PSTN feature called MADN (Multiple Appearance Directory
> Number).  At the terminating end, this rings multiple sets.  It may be
> possible to dig up the feature description and see how this is
> supposed to appear to the originating user.  I'll see if there is
> anything helpful here.  There may not be because there may be
> restrictions on the terminating numbers which prevent cases where one
> would get ringback (ringing tone) from one appearance and something
> else from another.
> 
>      -----Original Message-----
>      From:   Gonzalo Camarillo
>      [SMTP:Gonzalo.Camarillo@lmf.ericsson.se]
>      Sent:   Friday, November 19, 1999 7:20 AM
>      To:     jdrosen@dynamicsoft.com
>      Cc:     Adam.Roach@Ericsson.com; sip@lists.research.bell-labs.com
> 
>      Subject:        Re: 183, BCP & forking
> 
>      Hi,
> 
>      The problem is still there.
> 
>      Why do we have to hear the announcement related to the first 183
>      received and not the announcement related to the second one? Just
> 
>      because the first 183 response arrived a few miliseconds before??
>      It
>      does not sound very good to me...
> 
>      Even it is not that clear that an announcement has always higher
>      preference than a ringback tone (180 vs 183 responses).
> 
>      If SIP is going to interoperate with the PSTN we have to have a
>      predictable behaviour... that is, the user knows what's going on
>      when he
>      listens to the handset (remember that the user may not have a
>      display a
>      monitor).
> 
>      The idea of 1xx reponses with media (when it comes to PSTN-SIP
>      interworking) is to be able to hear the ringback tone generated
>      by the
>      last PSTN exchange. If we are going to hear this ringback tone
>      from one
>      branch and then we are going to connect to another branch
>      (because a 200
>      OK has arrived from the other branch), the ringback makes little
>      sense.
>      It would change the semantics of the ringback tone for the PSTN
>      user.
> 
>      The parelell searching sounds like a good idea for reaching a
>      user
>      saving some time. The problem is how to have the user updated
>      about the
>      status of the different branches. If we cannot keep the user
>      updated it
>      is better to perform sequencial search.
> 
>      Gonzalo
> 
>      jdrosen@dynamicsoft.com wrote:
>      >
>      > "Adam B. Roach" wrote:
>      > >
>      > > For your example, I'd say it's pretty obvious that you need
>      to CANCEL
>      > > the branch that sent a 183 (and be prepared to BYE it), and
>      switch the
>      > > media to the 200.
>      >
>      > You can't CANCEL individual branches. CANCEL is for the whole
>      > transaction.
>      >
>      > > I'm not going to approach the first one right now. For the
>      second
>      > > one, I've toyed around with the concept of defining an
>      ordering for the
>      > > 1xx status codes; e.g.:
>      > >
>      > > - If you receive a 180 with a media session, the proxy will
>      forward it
>      > >   unless it's already passed a 1xx with a media session.
>      > >
>      > > - If you receive a 181-183 with a media session, the proxy
>      will forward it
>      > >   unless it's already passed a 181-183 with a media session.
>      > >
>      > > In this way, a user may hear ringtone, followed by an
>      announcement
>      > > (from a different branch) that the call has been queued; but
>      never
>      > > the other way around (since the ringtone could interrupt a
>      word).
>      >
>      > The problem can also be solved locally at the UA through RTP.
>      The UA
>      > will be able to distinguish one audio stream from the other
>      (we'll
>      > eventually have an end to end provisional acknowledgement which
>      can
>      > contain SDP with an updated port number). Thus, it can simply
>      not play
>      > audio from a 180 on one branch after getting a 183 with audio
>      on
>      > another.
>      >
>      > -Jonathan R.
>      >
>      > --
>      > Jonathan D. Rosenberg                       200 Executive Drive
> 
>      > Chief Scientist                             Suite 120
>      > dynamicsoft                                 West Orange, NJ
>      07052
>      > jdrosen@dynamicsoft.com                     FAX:   (732)
>      741-4778
>      > http://www.cs.columbia.edu/~jdrosen         PHONE: (732)
>      741-7244
>      > http://www.dynamicsoft.com
> 
>      --
>      Gonzalo Camarillo         Phone :  +358  9 299 33 71
>      Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
>      Telecom R&D               Fax   :  +358  9 299 31 18
>      FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> 
>      Finland

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:49:51 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA28267
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:49:50 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 346E452E5; Tue, 23 Nov 1999 08:47:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A4AF652EA; Tue, 23 Nov 1999 08:47:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1703752E5
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:47:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:45:26 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Tue Nov 23 08:44:10 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id PAA15942;
	Tue, 23 Nov 1999 15:45:56 +0200 (EET)
Received: from lmf.ericsson.se (E0080C77A56E4 [131.160.73.50])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id PAA12190;
	Tue, 23 Nov 1999 15:45:20 +0200 (EET)
Message-ID: <383A9A52.D024B0A2@lmf.ericsson.se>
Date: Tue, 23 Nov 1999 15:44:50 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: schroeder@tri.sbc.com
Cc: ak@hplb.hpl.hp.com, sip@lists.research.bell-labs.com
Subject: Re: 183, BCP & forking
References: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BE@trimail.tri.sbc.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Tim,

> This behavior seems to happen a fair amount even today.  I call a call
> center, and get some ringback.  Shortly thereafter I hear an announcement
> about how all representatives are busy, then get switched to music for a
> bit.  At some point the music is interrupted for another announcement (or
> even an advertisement).  Eventually (hopefully) either the announcement or
> the music is interrupted by a human answering the phone, possibly preceded
> by another bit of ringback.
> 

Here I do not see the problem, since all these announcements are
coordinated by the same call center.


> Or I call someone's home, and get the start of an answering machine message,
> but then a live person picks up the phone, interrupting the answering
> machine (which hopefully has enough smarts to shut itself off at that
> point).

Well, this is a diferent story, since the answering machine has to be
the last location to be tried (not in parallel with the rest). If we
perform parallel searches and the answering machine is tried at the same
time as my mobile I will probably get lots of voice mails and not that
many calls :o)

If can take a look at the mailing list archive there was a proposal from
Ericsson some time ago about adding a new 2xx SIP response. It would be
280, meaning "the call has been connected to a voice mail/answering
machine". This way, when trying to reach the user, this location is not
taken into account when the response arrives.

By the way, what happened with this proposal?

Regards,

Gonzalo
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 08:53:54 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA00183
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 08:53:54 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B4D4452DE; Tue, 23 Nov 1999 08:51:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 24C0E52EE; Tue, 23 Nov 1999 08:51:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0A26E52DE
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:51:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 08:49:23 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 08:48:08 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id IAA08346;
	Tue, 23 Nov 1999 08:48:24 -0500 (EST)
Message-ID: <059a01bf35b9$6f575700$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Henry Sinnreich" <henry.sinnreich@wcom.com>,
        "Pete Cordell" <pete@tech-know-ware.com>,
        "Schroeder, Tim" <schroeder@tri.sbc.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 08:48:33 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Henry,
It real gets back to a simple issue regarding the scope of the problems one
is trying to solve. Certainly the SIP-related issues will be much more tidy
if one closes the aperature to only address a theoretical problem set. Well,
as Pete has correctly and repeated pointed out, the world begs to differ.
SIP, realistically or not, has been touted as a general purpose signaling
interface extensible to a wide range of applications. If SIP is
inappropriate for this task, then lets just move on to creating the next
protocol that will directly compete with SIP, much the way that SS7 overtook
its predessessor.

For example, one could propose Session Management Protocol. It will
incorporate all the existing functionality of SIP, plus the telephony user
stimulus and other mid-session management features required to support
real-world services, such as DTMF support, existing SIP call control
extension for blind-transfers, and a host of other things that you just
cannot do without (if you want to at least reach functional parity with
legacy PSTN products).

I don't recall reading the "Requirements Document" for SIP (there is none),
so I'm not aware of any boundaries on functionality beside those related to
establishing and managing a call session involving one or more connections.
Henry, have you spoken with any customers about the "new services" you
mention ? I've spoken with a whole lot, and no one is impressed by SIP
duplicating SS7 functions to set up and tear down calls. As a body of
interested parties, we would do well to propose a SIP model that at the very
least can support legacy apps, if not provide some measure of obvious
improvement.

SIP cannot even approach parity now through its data-oriented approach, thus
we all have some holes to plug in the model. In my opinion, Pete is simply
approaching it from the requirements/market side, while some seem to be
driven to incorporate nuances related to some very very basic functionality
(seriously no personal insinuation here, just a general observation that
rightfully much of the discussion surrounds refining simple functions. Some
of us who have less expertise and involvement with the subtleties of SIP are
more interested in how larger problems get solved, some of which may be
slightly different than once envisioned at time of inception).

Greg Girard


-----Original Message-----
From: Henry Sinnreich <henry.sinnreich@wcom.com>
To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
<schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: Tuesday, November 23, 1999 8:28 AM
Subject: RE: DTMF signaling between media gateways - ouch!


>Pete Cordell wrote
>> I'm here because
>
>Pete, if this is the reason for stuffing our mail, just say so and let's
get
>back to designing features we need for new services. As mentioned,
telephony
>legacy systems can be accommodated by gateway features and their ways need
>not be ported to the Internet. I suggest we stop this thread, it's been a
>drag already.
>
>Henry
>
>Henry Sinnreich
>MCI WorldCom
>400 International Parkway
>Richardson, Texas 75081, USA
>
>
>> -----Original Message-----
>> From: owner-sip@lists.research.bell-labs.com
>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete Cordell
>> Sent: Tuesday, November 23, 1999 5:24 AM
>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
>> Subject: Re: DTMF signaling between media gateways - ouch!
>>
>>
>> My feeling is that SIP stopped being purely an initiation protocol a long
>> time ago.  In fact, when the BYE method was added, it no longer was
purely
>> an initiation protocol.  It went further down the path when all the call
>> transfer stuff was added.
>>
>> I'm here because SIP is being touted as a solution for Internet
Telephony,
>> which involves more, much more, than just initiation.  If that's not what
>> it's about a decision needs to be made quickly and the message
>> that is being
>> spread by SIP advocates needs to be changed to avoid confusion in
>> the market
>> place.
>>
>> Pete
>>
>> =============================================
>> Pete Cordell
>> pete@tech-know-ware.com
>> =============================================
>>
>> -----Original Message-----
>> From: Schroeder, Tim <schroeder@tri.sbc.com>
>> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>> Date: 22 November 1999 23:44
>> Subject: RE: DTMF signaling between media gateways - ouch!
>>
>>
>> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>> >Initiation Protocol, so it understands how to initiate sessions.  As for
>> the
>> >mid-call DTMF tones,
>> >
>> >(1) If they are coming from some network where those tones *do* have
>> session
>> >initiation implications, then the gateway ought to be able to map them
to
>> >the existing set of SIP messages in some rational fashion.  So, in a
>> network
>> >where the DTMF 7 tone (R for record) means to add a recording
>> device to the
>> >call, the SIP gateway would map this to an invite of a recording
>> device to
>> >the call.
>> >
>> >(2) If those tones don't have session initiation implications,
>> then I don't
>> >see why any of the SIP network servers would understand them
>> (any more than
>> >a gateway would understand them); only the end systems would.  Yes, they
>> may
>> >be used for signaling, but it's not session initiation signaling, and I
>> >don't understand the desire to somehow wrap them up into SIP messages
and
>> >send them between end systems that way.  I see SIP as being used
>> to set up
>> a
>> >session between end systems, possibly consisting of two media
>> channels, one
>> >used for end system signaling, one used for end system data.  I haven't
>> made
>> >the leap that because the end systems are interpreting some data as
>> >signaling, that the data should be sent using SIP messages.
>> >
>> >My impression from reading all the DTMF messages (and in trying
>> to catch up
>> >-- there were a lot of them!) is that two separate kinds of signaling
>> >(session initiation, and some higher level service signaling) are being
>> >confused.  Currently SIP handles the first type.  Adding the INFO method
>> >might make it able to handle some of the second type, but I
>> don't think it
>> >can handle all service signaling that easily.
>> >
>> >Tim Schroeder
>> >
>> >
>> >
>> >This e-mail and any files transmitted with it are the property of SBC,
>> >are confidential, and are intended solely for the use of the individual
>> >or entity to whom this e-mail is addressed. If you are not one of the
>> >named recipient(s) or otherwise have reason to believe that you have
>> >received this message in error, please notify the sender at
>> >tschroeder@tri.sbc.com and delete this message immediately from your
>> >computer. Any other use, retention, dissemination, forwarding, printing,
>> >or copying of this e-mail is strictly prohibited.
>> >
>> >
>> >
>>
>>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 09:55:58 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03292
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 09:55:58 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7EBB752EA; Tue, 23 Nov 1999 09:53:18 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id F3C8B52EC; Tue, 23 Nov 1999 09:53:17 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4D40B52EA
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 09:53:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 09:52:38 EST 1999
Received: from paleale.cisco.com ([171.71.154.60]) by dusty; Tue Nov 23 09:51:23 EST 1999
Received: from OranLT ([171.69.210.5]) by paleale.cisco.com (8.8.4-Cisco.1/8.6.5) with SMTP id GAA12332; Tue, 23 Nov 1999 06:52:34 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Lawrence Conroy" <lwc@roke.co.uk>, <sip@lists.research.bell-labs.com>
Subject: RE: Please push the pound key ( was RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt)
Date: Tue, 23 Nov 1999 09:52:33 -0500
Message-ID: <NDBBKHCGKKIOOIJEGCOEGENCCLAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
In-Reply-To: <v04220801b46047aa702d@[193.118.192.55]>
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

OK, that's not so bad as what might happen 'way down south on this side of
the pond if the message said "press the HASH key".

Or how many people would freeze and say "duh?" if the message said "press
the octothorpe key".

Gee, maybe that last is a good idea, because while the poor sod sits
wondering what the f... an octothorpe is, the digit timer would have expired
and the call completed!

Dave.

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Lawrence
> Conroy
> Sent: Tuesday, November 23, 1999 8:32 AM
> To: sip@lists.research.bell-labs.com
> Subject: Re: Please push the pound key ( was RE: Comments on
> draft-camarillo-mmusic-sip-isup-bcp-00.txt)
>
>
> >Please forgive me for "not getting it", but why can things not be kept
> >simple along the reasoning by Matt Cannon and others: If an IP telephony
> >gateway terminates calls to a PSTN network with numbering plans having
> >different digit string lengths, it can just insert a voice
> message: "Please
> >push the pound key when you have finished dialing". Are there
> any problems
> >with this approach?
> >
> >Thanks, Henry
> >
> Hello all,
>   Amusing as this particular discussion is, I do wonder what most
> of the people
> over here in the U.K. would think if they heard such an announcement.
> If they aren't on strike, I'd dearly love to hear BT's call center agents
> explaining that the "pound" key is not one with a Sterling symbol on it.
>
> All the best, Lawrence
> -----------------------------------------------------------------------
> | Lawrence Conroy,    | "These Opinions must be mine, 'cos if they    |
> | Roke Manor Research |  were my Company's they'd pay me for them"    |
> |- lwc@roke.co.uk  ---+- Tel: +44 1794 833666  Fax: +44 1794 833434 --|
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 10:06:14 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA09062
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 10:06:13 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 229C752EC; Tue, 23 Nov 1999 10:03:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8F87652EE; Tue, 23 Nov 1999 10:03:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 07E6152EC
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 10:03:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 10:01:43 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Tue Nov 23 10:00:27 EST 1999
Received: from toshjhr.odisei.com (192.168.0.104) by odisei.com with SMTP
 (Eudora Internet Mail Server 2.2.2); Tue, 23 Nov 1999 16:14:01 +0100
Message-Id: <3.0.5.32.19991123160111.01410100@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Tue, 23 Nov 1999 16:01:11 +0100
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Pete Cordell <pete@tech-know-ware.com>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Cc: "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
In-Reply-To: <3839A234.25CA3503@dynamicsoft.com>
References: <00af01bf34e9$8d1d5f80$0200000a@tkw>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,

>Pete Cordell wrote:
>> 
>> >You seem to be missing the bigger picture here:
>> >
>> >Call transfer is well defined within the call control draft.
>> >It won't be done via any sort of DTMF signalling; it'll be
>> >built in to the end devices. No patching involved...
>> >
>> 
>> No, you've missed what I'm saying...  Call transfer may take place using
>> procedures defined in the call control draft, BUT the event that causes the
>> call transfer to be kicked off MAY be some DTMF signal.
>
>Not in the SIP architecture.

Customer calls Company's IVR
IVR plays annoucement "1 for sale, 2 for support,..."
Customer send DTMF 1
IVR initiates SIP transfer.

I guess we have a "DTMF initiated call transfer" here ?

Depending on the architecture, IVR may be a single entity
or a decomposed entity with a control endpoint and a media
endpoint.

With a decomposed IVR, DTMF should get somehow to the
control endpoint.

Yours,

Jean-Hugues Robert

--------------------------------------------------------------------
jhr@8x8.com                                        "Think globally.
www.8x8.com                                            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 10:37:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA25075
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 10:37:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B1ADA52EE; Tue, 23 Nov 1999 10:35:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2FF1352EF; Tue, 23 Nov 1999 10:35:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8979652EE
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 10:35:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 10:33:23 EST 1999
Received: from mailman.cisco.com ([171.68.225.9]) by dusty; Tue Nov 23 10:32:08 EST 1999
Received: from chsharp-tecra (chsharp-isdn.cisco.com [171.68.116.221]) by mailman.cisco.com (8.8.8+Sun/CISCO.SERVER.1.2) with ESMTP id HAA14326; Tue, 23 Nov 1999 07:32:31 -0800 (PST)
Message-Id: <4.2.0.58.19991123102842.00ae9740@dogwood.cisco.com>
X-Sender: chsharp@dogwood.cisco.com
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Tue, 23 Nov 1999 10:32:10 -0500
To: Jean-Hugues ROBERT <jhr@odisei.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Pete Cordell <pete@tech-know-ware.com>
From: Chip Sharp <chsharp@cisco.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Cc: "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
In-Reply-To: <3.0.5.32.19991123160111.01410100@mail.odisei.com>
References: <3839A234.25CA3503@dynamicsoft.com>
 <00af01bf34e9$8d1d5f80$0200000a@tkw>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

At 04:01 PM 11/23/99 +0100, Jean-Hugues ROBERT wrote:
>Hi,
>
> >Pete Cordell wrote:
> >>
> >> >You seem to be missing the bigger picture here:
> >> >
> >> >Call transfer is well defined within the call control draft.
> >> >It won't be done via any sort of DTMF signalling; it'll be
> >> >built in to the end devices. No patching involved...
> >> >
> >>
> >> No, you've missed what I'm saying...  Call transfer may take place using
> >> procedures defined in the call control draft, BUT the event that 
> causes the
> >> call transfer to be kicked off MAY be some DTMF signal.
> >
> >Not in the SIP architecture.
>
>Customer calls Company's IVR
>IVR plays annoucement "1 for sale, 2 for support,..."
>Customer send DTMF 1
>IVR initiates SIP transfer.
>
>I guess we have a "DTMF initiated call transfer" here ?
>
>Depending on the architecture, IVR may be a single entity
>or a decomposed entity with a control endpoint and a media
>endpoint.
>
>With a decomposed IVR, DTMF should get somehow to the
>control endpoint.

Yes, and traditionally this is done independent of the call setup signaling 
method (e.g., inband DTMF direct from the phone to the IVR).  If the IVR is 
provided by a Company different from the SIP service provider, they 
probably don't want their IVR services totally dependent on the 
capabilities of the service provider.


>Yours,
>
>Jean-Hugues Robert
>
>--------------------------------------------------------------------
>jhr@8x8.com                                        "Think globally.
>www.8x8.com                                            Act locally."

Support NetAid!  http://www.netaid.org
--------------------------------------------------
Chip Sharp                 Consulting Engineering
Cisco Systems              Telco Bio-region
Reality - Love it or Leave it.			
--------------------------------------------------



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 11:08:11 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10234
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 11:08:04 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6AF7752AB; Tue, 23 Nov 1999 11:05:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D2E7352F1; Tue, 23 Nov 1999 11:05:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 93F0452AB
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 11:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 11:03:25 EST 1999
Received: from sj-mailhub-2.cisco.com ([171.69.43.88]) by dusty; Tue Nov 23 11:02:09 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-2.cisco.com (8.9.1a/8.9.1) with ESMTP id IAA09010;
	Tue, 23 Nov 1999 08:02:45 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id IAA12420; Tue, 23 Nov 1999 08:02:28 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14394.47764.160543.505539@thomasm-u1.cisco.com>
Date: Tue, 23 Nov 1999 08:02:28 -0800 (PST)
To: Jean-Hugues ROBERT <jhr@odisei.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Pete Cordell <pete@tech-know-ware.com>,
        "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
In-Reply-To: <3.0.5.32.19991123160111.01410100@mail.odisei.com>
References: <00af01bf34e9$8d1d5f80$0200000a@tkw>
	<3.0.5.32.19991123160111.01410100@mail.odisei.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Jean-Hugues ROBERT writes:
 > >> No, you've missed what I'm saying...  Call transfer may take place using
 > >> procedures defined in the call control draft, BUT the event that causes the
 > >> call transfer to be kicked off MAY be some DTMF signal.
 > >
 > >Not in the SIP architecture.
 > 
 > Customer calls Company's IVR
 > IVR plays annoucement "1 for sale, 2 for support,..."
 > Customer send DTMF 1
 > IVR initiates SIP transfer.
 > 
 > I guess we have a "DTMF initiated call transfer" here ?
 > 
 > Depending on the architecture, IVR may be a single entity
 > or a decomposed entity with a control endpoint and a media
 > endpoint.
 > 
 > With a decomposed IVR, DTMF should get somehow to the
 > control endpoint.

All this reinforces is Jonathan's point: DTMF
signaling should be outside of the scope of the
actual signaling. I'm not sure why people are
getting so hung up about DTMF as if it were from a
different planet. If you did nothing more than
replace DTMF with your keyboard, an application
could either intercept the keys and interpret them
locally (eg, the UA acts on them directly), or it
could transport them using another protocol (eg,
telnet, or X) to another application which then
signals the local app what to do.

For example:

App1 on vertigo.cisco.com: rsh mtcc.com ivrapp
App2 on mtcc.com: 
  printf ("press 1 for sales, press 2 for support")
  >>wait for keypresses over socket<<
App1: >>user presses "1"<<
App2: rsh vertigo.cisco.com xv - `cat salesdroid.jpg`

If you substitute SIP for rsh and RTP for the
actual data flowing between the two apps, you have
this entire discussion in a nutshell.

What some people are suggesting is that this just
cannot be done unless we rewrite "rsh". Seems
pretty simple to me though.

		Mike



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 11:25:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18890
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 11:25:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 8093052F1; Tue, 23 Nov 1999 11:23:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E912052F2; Tue, 23 Nov 1999 11:23:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2575252F1
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 11:23:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 11:22:45 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 23 11:21:30 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqpd07114;
	Tue, 23 Nov 1999 16:27:36 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id LAA04437;
	Tue, 23 Nov 1999 11:22:36 -0500 (EST)
Message-ID: <383AC021.4BE036DE@dynamicsoft.com>
Date: Tue, 23 Nov 1999 11:26:09 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Pete Cordell <pete@tech-know-ware.com>
Cc: Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        "Gregory D. Girard" <ggirard@mediaone.net>,
        Sean Olson <eussean@exu.ericsson.se>, sip@lists.research.bell-labs.com
Subject: Re: jpegs in INFO messages?
References: <00f001bf35ac$c1fe9fc0$0200000a@tkw>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Pete Cordell wrote:
> 
> Henning,
> 
> I prefer the solution of including a URL which would allow a called party to
> access a picture if desired without burdening the call signalling.

I agree. Note this is one of the applications of the Content-Disposition
header, to say that the content is for display. Thus, one would do
something like:

INVITE sip:user@host SIP/2.0
Content-Type: application/uri-list
Content-Disposition: display

http://www.host.com/myjpeg

This allows us to use HTTP as the transfer protocol, as it was intended.

We also need a way to indicate that a body is optional, in the case of
multipart. This will likely be needed for SIP-T as well. By optional I
mean that the receiving agent can ignore it. Normally, if a UAS receives
an INVITE with a body it doesn't understand, it returns an error.

One could also use "logical channels" for still image transfer. However,
I see uses for sending pictures and html, either by reference or
imbedded, if size allows, within INVITE and its responses. Thats because
they serve to provide additional information about the calling or called
parties, or about the call itself. This is different from DTMF, as we
are not trying to invoke call services with this content. Its also
different than dtmf because of the synchronization, voice-recognition,
and other issues that I have raised in past emails. I do agree, though,
that sending images in INFO mid-call is probably not the best idea, and
that a media stream for this is better.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 11:30:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21694
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 11:30:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9FFEF52F2; Tue, 23 Nov 1999 11:27:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id DC57552F6; Tue, 23 Nov 1999 11:27:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id B7E5352F2
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 11:27:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 11:25:54 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 23 11:24:39 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqpe13465;
	Tue, 23 Nov 1999 16:30:51 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id LAA04441;
	Tue, 23 Nov 1999 11:25:51 -0500 (EST)
Message-ID: <383AC0E4.4D647034@dynamicsoft.com>
Date: Tue, 23 Nov 1999 11:29:24 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: VIPIN PALAWAT <vipinpal@wipsys.soft.net>
Cc: sip@lists.research.bell-labs.com
Subject: Re: SDP in information response
References: <01cc01bf359e$f9832690$b2b2a8c0@vipin.wipsys.soft.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Right now, no. This will be changed in the next version of SIP as a
result of the discussion on 183. The current draft actually contains
proposed wording changes, I believe.

-Jonathan R.

VIPIN PALAWAT wrote:
> 
> I have a doubt.
> 
> *     Can the informational message carry SDP message with them, e.g.
> 180 response Message carry the SDP Message with it.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 11:33:23 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23075
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 11:33:22 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E036652F3; Tue, 23 Nov 1999 11:27:40 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E8EB152F4; Tue, 23 Nov 1999 11:27:39 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 75F4A52F3
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 11:27:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 11:26:20 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Tue Nov 23 11:25:03 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLN00L15RONQ6@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 23 Nov 1999 16:12:23 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id QAA03138; Tue,
 23 Nov 1999 16:07:37 +0000 (GMT)
Received: from C25776A ([166.35.225.141])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991123161228.MSOF13986@C25776A>; Tue,
 23 Nov 1999 16:12:28 +0000
Date: Tue, 23 Nov 1999 10:12:19 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: DTMF signaling between media gateways - ouch!
In-reply-to: <059a01bf35b9$6f575700$122cda18@goliath.ne.mediaone.net>
To: "Gregory D. Girard" <ggirard@mediaone.net>,
        Pete Cordell <pete@tech-know-ware.com>,
        "Schroeder, Tim" <schroeder@tri.sbc.com>,
        sip@lists.research.bell-labs.com
Message-id: <NBBBIIJFOKPMFOOILMBKGEIDEOAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gregory,
> For example, one could propose Session Management Protocol.
may be an interesting proposal. Why don't you write a 1st draft?
Let's see it.

Henry

> -----Original Message-----
> From: Gregory D. Girard [mailto:ggirard@mediaone.net]
> Sent: Tuesday, November 23, 1999 7:49 AM
> To: Henry Sinnreich; Pete Cordell; Schroeder, Tim;
> sip@lists.research.bell-labs.com
> Subject: Re: DTMF signaling between media gateways - ouch!
>
>
> Henry,
> It real gets back to a simple issue regarding the scope of the
> problems one
> is trying to solve. Certainly the SIP-related issues will be much
> more tidy
> if one closes the aperature to only address a theoretical problem
> set. Well,
> as Pete has correctly and repeated pointed out, the world begs to differ.
> SIP, realistically or not, has been touted as a general purpose signaling
> interface extensible to a wide range of applications. If SIP is
> inappropriate for this task, then lets just move on to creating the next
> protocol that will directly compete with SIP, much the way that
> SS7 overtook
> its predessessor.
>
> For example, one could propose Session Management Protocol. It will
> incorporate all the existing functionality of SIP, plus the telephony user
> stimulus and other mid-session management features required to support
> real-world services, such as DTMF support, existing SIP call control
> extension for blind-transfers, and a host of other things that you just
> cannot do without (if you want to at least reach functional parity with
> legacy PSTN products).
>
> I don't recall reading the "Requirements Document" for SIP (there
> is none),
> so I'm not aware of any boundaries on functionality beside those
> related to
> establishing and managing a call session involving one or more
> connections.
> Henry, have you spoken with any customers about the "new services" you
> mention ? I've spoken with a whole lot, and no one is impressed by SIP
> duplicating SS7 functions to set up and tear down calls. As a body of
> interested parties, we would do well to propose a SIP model that
> at the very
> least can support legacy apps, if not provide some measure of obvious
> improvement.
>
> SIP cannot even approach parity now through its data-oriented
> approach, thus
> we all have some holes to plug in the model. In my opinion, Pete is simply
> approaching it from the requirements/market side, while some seem to be
> driven to incorporate nuances related to some very very basic
> functionality
> (seriously no personal insinuation here, just a general observation that
> rightfully much of the discussion surrounds refining simple
> functions. Some
> of us who have less expertise and involvement with the subtleties
> of SIP are
> more interested in how larger problems get solved, some of which may be
> slightly different than once envisioned at time of inception).
>
> Greg Girard
>
>
> -----Original Message-----
> From: Henry Sinnreich <henry.sinnreich@wcom.com>
> To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
> <schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
> <sip@lists.research.bell-labs.com>
> Date: Tuesday, November 23, 1999 8:28 AM
> Subject: RE: DTMF signaling between media gateways - ouch!
>
>
> >Pete Cordell wrote
> >> I'm here because
> >
> >Pete, if this is the reason for stuffing our mail, just say so and let's
> get
> >back to designing features we need for new services. As mentioned,
> telephony
> >legacy systems can be accommodated by gateway features and their
> ways need
> >not be ported to the Internet. I suggest we stop this thread, it's been a
> >drag already.
> >
> >Henry
> >
> >Henry Sinnreich
> >MCI WorldCom
> >400 International Parkway
> >Richardson, Texas 75081, USA
> >
> >
> >> -----Original Message-----
> >> From: owner-sip@lists.research.bell-labs.com
> >> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of
> Pete Cordell
> >> Sent: Tuesday, November 23, 1999 5:24 AM
> >> To: Schroeder, Tim; sip@lists.research.bell-labs.com
> >> Subject: Re: DTMF signaling between media gateways - ouch!
> >>
> >>
> >> My feeling is that SIP stopped being purely an initiation
> protocol a long
> >> time ago.  In fact, when the BYE method was added, it no longer was
> purely
> >> an initiation protocol.  It went further down the path when
> all the call
> >> transfer stuff was added.
> >>
> >> I'm here because SIP is being touted as a solution for Internet
> Telephony,
> >> which involves more, much more, than just initiation.  If
> that's not what
> >> it's about a decision needs to be made quickly and the message
> >> that is being
> >> spread by SIP advocates needs to be changed to avoid confusion in
> >> the market
> >> place.
> >>
> >> Pete
> >>
> >> =============================================
> >> Pete Cordell
> >> pete@tech-know-ware.com
> >> =============================================
> >>
> >> -----Original Message-----
> >> From: Schroeder, Tim <schroeder@tri.sbc.com>
> >> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
> >> Date: 22 November 1999 23:44
> >> Subject: RE: DTMF signaling between media gateways - ouch!
> >>
> >>
> >> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
> >> >Initiation Protocol, so it understands how to initiate
> sessions.  As for
> >> the
> >> >mid-call DTMF tones,
> >> >
> >> >(1) If they are coming from some network where those tones *do* have
> >> session
> >> >initiation implications, then the gateway ought to be able to map them
> to
> >> >the existing set of SIP messages in some rational fashion.  So, in a
> >> network
> >> >where the DTMF 7 tone (R for record) means to add a recording
> >> device to the
> >> >call, the SIP gateway would map this to an invite of a recording
> >> device to
> >> >the call.
> >> >
> >> >(2) If those tones don't have session initiation implications,
> >> then I don't
> >> >see why any of the SIP network servers would understand them
> >> (any more than
> >> >a gateway would understand them); only the end systems would.
>  Yes, they
> >> may
> >> >be used for signaling, but it's not session initiation
> signaling, and I
> >> >don't understand the desire to somehow wrap them up into SIP messages
> and
> >> >send them between end systems that way.  I see SIP as being used
> >> to set up
> >> a
> >> >session between end systems, possibly consisting of two media
> >> channels, one
> >> >used for end system signaling, one used for end system data.
> I haven't
> >> made
> >> >the leap that because the end systems are interpreting some data as
> >> >signaling, that the data should be sent using SIP messages.
> >> >
> >> >My impression from reading all the DTMF messages (and in trying
> >> to catch up
> >> >-- there were a lot of them!) is that two separate kinds of signaling
> >> >(session initiation, and some higher level service signaling)
> are being
> >> >confused.  Currently SIP handles the first type.  Adding the
> INFO method
> >> >might make it able to handle some of the second type, but I
> >> don't think it
> >> >can handle all service signaling that easily.
> >> >
> >> >Tim Schroeder
> >> >
> >> >
> >> >
> >> >This e-mail and any files transmitted with it are the property of SBC,
> >> >are confidential, and are intended solely for the use of the
> individual
> >> >or entity to whom this e-mail is addressed. If you are not one of the
> >> >named recipient(s) or otherwise have reason to believe that you have
> >> >received this message in error, please notify the sender at
> >> >tschroeder@tri.sbc.com and delete this message immediately from your
> >> >computer. Any other use, retention, dissemination,
> forwarding, printing,
> >> >or copying of this e-mail is strictly prohibited.
> >> >
> >> >
> >> >
> >>
> >>
> >
> >
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 11:47:48 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA29654
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 11:47:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9497F52F4; Tue, 23 Nov 1999 11:45:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1B10952F5; Tue, 23 Nov 1999 11:45:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A271E52F4
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 11:45:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 11:44:56 EST 1999
Received: from palrel1.hp.com ([156.153.255.242]) by dusty; Tue Nov 23 11:43:41 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by palrel1.hp.com (Postfix) with ESMTP id 858F211AC
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 08:44:53 -0800 (PST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id QAA25638;
	Tue, 23 Nov 1999 16:44:52 GMT
Message-ID: <383AC4E0.9D36B6D5@hplb.hpl.hp.com>
Date: Tue, 23 Nov 1999 16:46:24 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP <sip@lists.research.bell-labs.com>
Subject: Sip servlets
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Folks,

At the Washington IETF meeting there was resistance towards the proposal
to add the definition of a Java SIP API based on servlets as a SIP
working group item. 

However, there appeared to be enough interest to warrant the setting up
of some other forum for SIP servlet discussions.  Hence, I've set up a
mailing list for this purpose: sipservlet@listbot.com.  Directions for
how to subscribe are available at:

  http://www-uk.hpl.hp.com/people/ak/sip/servlet/

Cheers,
Anders

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 12:43:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA27106
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 12:43:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B820652F0; Tue, 23 Nov 1999 12:41:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2E38C52F6; Tue, 23 Nov 1999 12:41:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id D0D4152F0
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 12:41:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 12:39:53 EST 1999
Received: from mgw-x1.nokia.com ([131.228.20.21]) by dusty; Tue Nov 23 12:38:33 EST 1999
Received: from mgw-i1.ntc.nokia.com (mgw-i1.ntc.nokia.com [131.228.118.60])
	by mgw-x1.nokia.com (8.9.3/8.9.3) with ESMTP id TAA02064;
	Tue, 23 Nov 1999 19:39:37 +0200 (EET)
From: mikko.alutoin@nokia.com
Received: from esebh02nok.ntc.nokia.com (esebh02nok.ntc.nokia.com [131.228.118.151])
	by mgw-i1.ntc.nokia.com (8.9.3/8.9.3) with ESMTP id NAA09141;
	Tue, 23 Nov 1999 13:43:56 +0200 (EET)
Received: by esebh02nok with Internet Mail Service (5.5.2650.10)
	id <XJYHNDY8>; Tue, 23 Nov 1999 13:43:53 +0200
Message-ID: <11CD408013B6D2119BB50008C7EA510C989598@eseis05nok>
To: mcannon@broadbandoffice.net, mikko.alutoin@nokia.com
Cc: sip@lists.research.bell-labs.com
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Tue, 23 Nov 1999 13:43:52 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.10)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

The problem with the timeout-based solution, which Matt 
suggests, is how this timeout is defined. The user may 
sometimes stop dialing for several seconds between the digits. 
How long should the timeout be in order not to misinterpret 
this and think that all the needed digits are received?
In Q.931 the minimum for this inter digit timeout is 
10 seconds, after which the ingress switch disconnects 
the call, if it hasn't received an Address Complete from
the egress switch, of course.
 
I would imagine that the users will start complaining,
if the timeout would be shorter than 5 seconds. And 5 seconds 
is an awful lot of extra delay for a call setup.

Using # to notify that the last digit has been dialed 
would solve the problem, but is it justified to teach a 
new way of dialing for this?
(Moreover, it works only with DTMF-capable phones, 
but that isn't a big disadvantage.)

Pardon me Matt, if I got you wrong. If you meant that a 
timeout based solution should be used in addition to 
overlap sending with SIP, I agree with you 100%. 
It is probably a good idea to wait about 1 second
before sending a new INVITE, but not for 5 seconds. 
But this is an implementation issue.

Regards,

Mikko Alutoin
Nokia Networks
Mikko.Alutoin@nokia.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 13:00:19 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA05031
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 13:00:18 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9ACB552B6; Tue, 23 Nov 1999 12:27:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 0C49552DB; Tue, 23 Nov 1999 12:27:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 20C9452B6
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 12:27:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 12:26:45 EST 1999
Received: from carbon.btinternet.com ([194.73.73.92]) by dusty; Tue Nov 23 12:25:29 EST 1999
Received: from [212.140.35.13] (helo=tkw)
	by carbon.btinternet.com with smtp (Exim 2.05 #1)
	id 11qJiD-0003Y7-00; Tue, 23 Nov 1999 17:26:41 +0000
Message-ID: <005801bf35d7$e269f9a0$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Henry Sinnreich" <henry.sinnreich@wcom.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Note to Henry (Was: Re: DTMF signaling between media gateways - ouch!)
Date: Tue, 23 Nov 1999 17:25:17 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Sorry for busting ya party Henry.  I didn't realise a personal invitation
was required.

Trouble is, I don't see any point inventing fan-dabby-doozo new services if
the basics are not covered off.  I reckon that 80% of calls even in the
brave new world of SIP will never go any where near any fancy services.
Degrading the basic call experience in these cases so that we can add a few
extra services does not make sense to me.  From a US perspective I can see
this issue is not a big problem, but globally I think you would be
committing suicide if this is not catered for.  Sure, if we could say this
can be handled by the gateways that would be great, but my analysis (and I'm
quite happy for others to prove me wrong) shows that it can't be.
Unfortunately, that means that SIP has to tackle it.

Sorry for not proving to be entertaining, but in reality Jonathan's last
e-mail seems to be pretty much there in terms of crystallising what needs to
be said.  Let's finish it off.  I too will then be pleased to see this
thread end!

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================

-----Original Message-----
From: Henry Sinnreich <henry.sinnreich@wcom.com>
To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
<schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: 23 November 1999 13:28
Subject: RE: DTMF signaling between media gateways - ouch!


>Pete Cordell wrote
>> I'm here because
>
>Pete, if this is the reason for stuffing our mail, just say so and let's
get
>back to designing features we need for new services. As mentioned,
telephony
>legacy systems can be accommodated by gateway features and their ways need
>not be ported to the Internet. I suggest we stop this thread, it's been a
>drag already.
>
>Henry
>
>Henry Sinnreich
>MCI WorldCom
>400 International Parkway
>Richardson, Texas 75081, USA
>
>
>> -----Original Message-----
>> From: owner-sip@lists.research.bell-labs.com
>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete Cordell
>> Sent: Tuesday, November 23, 1999 5:24 AM
>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
>> Subject: Re: DTMF signaling between media gateways - ouch!
>>
>>
>> My feeling is that SIP stopped being purely an initiation protocol a long
>> time ago.  In fact, when the BYE method was added, it no longer was
purely
>> an initiation protocol.  It went further down the path when all the call
>> transfer stuff was added.
>>
>> I'm here because SIP is being touted as a solution for Internet
Telephony,
>> which involves more, much more, than just initiation.  If that's not what
>> it's about a decision needs to be made quickly and the message
>> that is being
>> spread by SIP advocates needs to be changed to avoid confusion in
>> the market
>> place.
>>
>> Pete
>>
>> =============================================
>> Pete Cordell
>> pete@tech-know-ware.com
>> =============================================
>>
>> -----Original Message-----
>> From: Schroeder, Tim <schroeder@tri.sbc.com>
>> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>> Date: 22 November 1999 23:44
>> Subject: RE: DTMF signaling between media gateways - ouch!
>>
>>
>> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>> >Initiation Protocol, so it understands how to initiate sessions.  As for
>> the
>> >mid-call DTMF tones,
>> >
>> >(1) If they are coming from some network where those tones *do* have
>> session
>> >initiation implications, then the gateway ought to be able to map them
to
>> >the existing set of SIP messages in some rational fashion.  So, in a
>> network
>> >where the DTMF 7 tone (R for record) means to add a recording
>> device to the
>> >call, the SIP gateway would map this to an invite of a recording
>> device to
>> >the call.
>> >
>> >(2) If those tones don't have session initiation implications,
>> then I don't
>> >see why any of the SIP network servers would understand them
>> (any more than
>> >a gateway would understand them); only the end systems would.  Yes, they
>> may
>> >be used for signaling, but it's not session initiation signaling, and I
>> >don't understand the desire to somehow wrap them up into SIP messages
and
>> >send them between end systems that way.  I see SIP as being used
>> to set up
>> a
>> >session between end systems, possibly consisting of two media
>> channels, one
>> >used for end system signaling, one used for end system data.  I haven't
>> made
>> >the leap that because the end systems are interpreting some data as
>> >signaling, that the data should be sent using SIP messages.
>> >
>> >My impression from reading all the DTMF messages (and in trying
>> to catch up
>> >-- there were a lot of them!) is that two separate kinds of signaling
>> >(session initiation, and some higher level service signaling) are being
>> >confused.  Currently SIP handles the first type.  Adding the INFO method
>> >might make it able to handle some of the second type, but I
>> don't think it
>> >can handle all service signaling that easily.
>> >
>> >Tim Schroeder
>> >
>> >
>> >
>> >This e-mail and any files transmitted with it are the property of SBC,
>> >are confidential, and are intended solely for the use of the individual
>> >or entity to whom this e-mail is addressed. If you are not one of the
>> >named recipient(s) or otherwise have reason to believe that you have
>> >received this message in error, please notify the sender at
>> >tschroeder@tri.sbc.com and delete this message immediately from your
>> >computer. Any other use, retention, dissemination, forwarding, printing,
>> >or copying of this e-mail is strictly prohibited.
>> >
>> >
>> >
>>
>>
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 13:00:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA05197
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 13:00:39 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BFE2E52F5; Tue, 23 Nov 1999 12:59:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 22D6D52F7; Tue, 23 Nov 1999 12:59:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0C3C152F5
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 12:59:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 12:57:56 EST 1999
Received: from tantalum.btinternet.com ([194.73.73.80]) by dusty; Tue Nov 23 12:56:41 EST 1999
Received: from [212.140.32.131] (helo=tkw)
	by tantalum.btinternet.com with smtp (Exim 2.05 #1)
	id 11qKCB-0005xy-00; Tue, 23 Nov 1999 17:57:39 +0000
Message-ID: <00d901bf35dc$337d7340$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Chip Sharp" <chsharp@cisco.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 17:52:20 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

>Chip added:


>At 04:01 PM 11/23/99 +0100, Jean-Hugues ROBERT wrote:
>>Hi,
>>
>> >Pete Cordell wrote:
>> >>
>> >> >You seem to be missing the bigger picture here:
>> >> >
>> >> >Call transfer is well defined within the call control draft.
>> >> >It won't be done via any sort of DTMF signalling; it'll be
>> >> >built in to the end devices. No patching involved...
>> >> >
>> >>
>> >> No, you've missed what I'm saying...  Call transfer may take place
using
>> >> procedures defined in the call control draft, BUT the event that
>> causes the
>> >> call transfer to be kicked off MAY be some DTMF signal.
>> >
>> >Not in the SIP architecture.
>>
>>Customer calls Company's IVR
>>IVR plays annoucement "1 for sale, 2 for support,..."
>>Customer send DTMF 1
>>IVR initiates SIP transfer.
>>
>>I guess we have a "DTMF initiated call transfer" here ?
>>
>>Depending on the architecture, IVR may be a single entity
>>or a decomposed entity with a control endpoint and a media
>>endpoint.
>>
>>With a decomposed IVR, DTMF should get somehow to the
>>control endpoint.
>
>Yes, and traditionally this is done independent of the call setup signaling
>method (e.g., inband DTMF direct from the phone to the IVR).  If the IVR is
>provided by a Company different from the SIP service provider, they
>probably don't want their IVR services totally dependent on the
>capabilities of the service provider.
>

Although it must be recognised that this is but one example, and therefore
should not be taken as the sole basis for making a design decision.
Unfortunately, having control only at the ends limits the sorts of services
that you can deploy.  Even today on crusty old POTS local exchanges (COs)
will act on DTMF while in the middle of a call (whether it's inband or out
of band is not really relevant).  Some of the features provided this way
could be moved to the originating UA if the system is migrated to SIP, but
there will still remain some that would have advantage operating in this
way.


>
>>Yours,
>>
>>Jean-Hugues Robert
>>
>>--------------------------------------------------------------------
>>jhr@8x8.com                                        "Think globally.
>>www.8x8.com                                            Act locally."
>
>Support NetAid!  http://www.netaid.org
>--------------------------------------------------
>Chip Sharp                 Consulting Engineering
>Cisco Systems              Telco Bio-region
>Reality - Love it or Leave it.
>--------------------------------------------------
>
>

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 13:39:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26147
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 13:39:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3794352F7; Tue, 23 Nov 1999 13:37:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AF7A252F8; Tue, 23 Nov 1999 13:37:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EB22D52F7
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 13:37:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 13:35:50 EST 1999
Received: from corpserve0.broadbandoffice.net ([63.80.14.5]) by dusty; Tue Nov 23 13:34:35 EST 1999
Received: from expedition (tco0-dhcp-14-139.broadbandoffice.NET [63.80.14.139])
	by corpserve0.broadbandoffice.net (8.9.3/8.9.3) with SMTP id OAA09480;
	Tue, 23 Nov 1999 14:40:45 -0500
From: "Matt Cannon" <mcannon@broadbandoffice.net>
To: <mikko.alutoin@nokia.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
Date: Tue, 23 Nov 1999 13:37:00 -0600
Message-ID: <001101bf35ea$1d4dca80$8b0e503f@broadbandoffice.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-Reply-To: <11CD408013B6D2119BB50008C7EA510C989598@eseis05nok>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Mikko,
	Since as Jonathan has pointed out the protocol 
can easily and inherently support the use of overlap,
the conflict between timeout/# and overlap is
really a configuration issue on the client. Luckily
I believe the choice of that configuration is probably
out of the scope of the working group and is more 
an issue with the requirements between vendors 
and service providers.

I agree with Pete, as long as Jonathan's 484 solution
is acceptable with everyone, we've beat this topic to death. 
Lets move on.

Matt

> -----Original Message-----
> From: mikko.alutoin@nokia.com [mailto:mikko.alutoin@nokia.com]
> Sent: Tuesday, November 23, 1999 5:44 AM
> To: mcannon@broadbandoffice.net; mikko.alutoin@nokia.com
> Cc: sip@lists.research.bell-labs.com
> Subject: RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt
> 
> 
> The problem with the timeout-based solution, which Matt 
> suggests, is how this timeout is defined. The user may 
> sometimes stop dialing for several seconds between the digits. 
> How long should the timeout be in order not to misinterpret 
> this and think that all the needed digits are received?
> In Q.931 the minimum for this inter digit timeout is 
> 10 seconds, after which the ingress switch disconnects 
> the call, if it hasn't received an Address Complete from
> the egress switch, of course.
>  
> I would imagine that the users will start complaining,
> if the timeout would be shorter than 5 seconds. And 5 seconds 
> is an awful lot of extra delay for a call setup.
> 
> Using # to notify that the last digit has been dialed 
> would solve the problem, but is it justified to teach a 
> new way of dialing for this?
> (Moreover, it works only with DTMF-capable phones, 
> but that isn't a big disadvantage.)
> 
> Pardon me Matt, if I got you wrong. If you meant that a 
> timeout based solution should be used in addition to 
> overlap sending with SIP, I agree with you 100%. 
> It is probably a good idea to wait about 1 second
> before sending a new INVITE, but not for 5 seconds. 
> But this is an implementation issue.
> 
> Regards,
> 
> Mikko Alutoin
> Nokia Networks
> Mikko.Alutoin@nokia.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 13:50:05 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01682
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 13:50:05 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 7921052DC; Tue, 23 Nov 1999 12:31:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AC50252F0; Tue, 23 Nov 1999 12:31:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 413DB52DC
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 12:31:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 12:29:47 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Tue Nov 23 12:28:31 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLN00N0DT0YUN@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 23 Nov 1999 16:41:23 +0000 (GMT)
Received: from omta1.mcit.com (omta1.mcit.com [166.37.204.2])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id QAA27512; Tue,
 23 Nov 1999 16:36:35 +0000 (GMT)
Received: from dwillispc4 ([166.35.225.226])
 by omta1.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991123164046.UNSP847@dwillispc4>; Tue,
 23 Nov 1999 10:40:46 -0600
Date: Tue, 23 Nov 1999 10:43:57 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: SDP in information response
In-reply-to: <01cc01bf359e$f9832690$b2b2a8c0@vipin.wipsys.soft.net>
To: VIPIN PALAWAT <vipinpal@wipsys.soft.net>, sip@lists.research.bell-labs.com
Message-id: <001c01bf35d1$ef901f20$e2e123a6@mcit.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


The ability to carry a body in a provisional method is an extension proposed
by Steve Donovan and others in the "183 message" drafts.

There was some dicussion of this at the DC meeting. There is some debate as
to whether this would constitute a change to or an extension of the SIP
specification. I believe the issue to be currently unresolved.

--
Dean

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of VIPIN
> PALAWAT
> Sent: Tuesday, November 23, 1999 4:39 AM
> To: sip@lists.research.bell-labs.com
> Subject: SDP in information response
>
>
>
>
> I have a doubt.
>
> *     Can the informational message carry SDP message with them, e.g.
> 180 response Message carry the SDP Message with it.
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 14:25:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA20249
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 14:25:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 638DC52F6; Tue, 23 Nov 1999 14:23:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CB64F52F9; Tue, 23 Nov 1999 14:23:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2D36652F6
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 14:23:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 14:22:09 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Tue Nov 23 14:20:54 EST 1999
Received: from zrchb213.us.nortel.com (actually zrchb213) 
          by smtprch1.nortel.com; Tue, 23 Nov 1999 13:21:47 -0600
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <WXA276TJ>; Tue, 23 Nov 1999 13:21:36 -0600
Message-ID: <C51ED84B6F47D211917A0000F8BCBD110237EF0A@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: sip <sip@lists.research.bell-labs.com>
Subject: RE: Please push the pound key ( was RE: Comments on draft-camari 
         llo-mmusic-sip-isup-bcp-00.txt)
Date: Tue, 23 Nov 1999 13:21:29 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF35E7.F541DCB8"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF35E7.F541DCB8
Content-Type: text/plain

Fact is, a lot of European phones don't have such a key.

Seriously, what we need is to thrash out an IETF view of the architecture
for IP Telephony.  This could include views on how to make the transition
between the legacy GSTN and the SIP network of the future, both spatially
(between islands) and temporally (making the new islands grow).  For the
issue at hand, this exercise would delineate the situations where overlap
outpulsing has to be supported and make recommendations on the protocols to
be used (not necessarily SIP if there's no intent to take advantage of the
new possibilities added by SIP).

Sounds like what TIPHON is doing, but they were handicapped by starting with
an assumed protocol.  Are we going to do that again or learn from their two
years of thrashing?

> -----Original Message-----
> From:	David R. Oran [SMTP:oran@cisco.com]
> Sent:	Tuesday, November 23, 1999 9:53 AM
> To:	Lawrence Conroy; sip
> Subject:	RE: Please push the pound key ( was RE: Comments on
> draft-camarillo-mmusic-sip-isup-bcp-00.txt)
> 
> OK, that's not so bad as what might happen 'way down south on this side of
> the pond if the message said "press the HASH key".
> 
> Or how many people would freeze and say "duh?" if the message said "press
> the octothorpe key".
> 
> Gee, maybe that last is a good idea, because while the poor sod sits
> wondering what the f... an octothorpe is, the digit timer would have
> expired
> and the call completed!
> 
> Dave.
> 
> > -----Original Message-----
> > From: owner-sip@lists.research.bell-labs.com
> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Lawrence
> > Conroy
> > Sent: Tuesday, November 23, 1999 8:32 AM
> > To: sip@lists.research.bell-labs.com
> > Subject: Re: Please push the pound key ( was RE: Comments on
> > draft-camarillo-mmusic-sip-isup-bcp-00.txt)
> >
> >
> > >Please forgive me for "not getting it", but why can things not be kept
> > >simple along the reasoning by Matt Cannon and others: If an IP
> telephony
> > >gateway terminates calls to a PSTN network with numbering plans having
> > >different digit string lengths, it can just insert a voice
> > message: "Please
> > >push the pound key when you have finished dialing". Are there
> > any problems
> > >with this approach?
> > >
> > >Thanks, Henry
> > >
> > Hello all,
> >   Amusing as this particular discussion is, I do wonder what most
> > of the people
> > over here in the U.K. would think if they heard such an announcement.
> > If they aren't on strike, I'd dearly love to hear BT's call center
> agents
> > explaining that the "pound" key is not one with a Sterling symbol on it.
> >
> > All the best, Lawrence
> > -----------------------------------------------------------------------
> > | Lawrence Conroy,    | "These Opinions must be mine, 'cos if they    |
> > | Roke Manor Research |  were my Company's they'd pay me for them"    |
> > |- lwc@roke.co.uk  ---+- Tel: +44 1794 833666  Fax: +44 1794 833434 --|
> >
> >
> >
> 
> 

------_=_NextPart_001_01BF35E7.F541DCB8
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>RE: Please push the pound key ( was RE: Comments on  =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)</TITLE>
</HEAD>
<BODY>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Fact is, a lot of =
European phones don't have such a key.</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Seriously, what we =
need is to thrash out an IETF view of the architecture for IP =
Telephony.&nbsp; This could include views on how to make the transition =
between the legacy GSTN and the SIP network of the future, both =
spatially (between islands) and temporally (making the new islands =
grow).&nbsp; For the issue at hand, this exercise would delineate the =
situations where overlap outpulsing has to be supported and make =
recommendations on the protocols to be used (not necessarily SIP if =
there's no intent to take advantage of the new possibilities added by =
SIP).</FONT></P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial">Sounds like what =
TIPHON is doing, but they were handicapped by starting with an assumed =
protocol.&nbsp; Are we going to do that again or learn from their two =
years of thrashing?</FONT></P>
<UL>
<P><FONT SIZE=3D1 FACE=3D"Arial">-----Original Message-----</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">From:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">David R. Oran [SMTP:oran@cisco.com]</FONT>
<BR><B><FONT SIZE=3D1 FACE=3D"Arial">Sent:&nbsp;&nbsp;</FONT></B> <FONT =
SIZE=3D1 FACE=3D"Arial">Tuesday, November 23, 1999 9:53 AM</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT SIZE=3D1 =
FACE=3D"Arial">Lawrence Conroy; sip</FONT>
<BR><B><FONT SIZE=3D1 =
FACE=3D"Arial">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT>=
</B> <FONT SIZE=3D1 FACE=3D"Arial">RE: Please push the pound key ( was =
RE: Comments on&nbsp; =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">OK, that's not so bad as what might =
happen 'way down south on this side of</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the pond if the message said =
&quot;press the HASH key&quot;.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Or how many people would freeze and =
say &quot;duh?&quot; if the message said &quot;press</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">the octothorpe key&quot;.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Gee, maybe that last is a good idea, =
because while the poor sod sits</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">wondering what the f... an octothorpe =
is, the digit timer would have expired</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">and the call completed!</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Dave.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; From: =
owner-sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; [<U></U></FONT><U><FONT =
COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Arial"><A =
HREF=3D"mailto:owner-sip@lists.research.bell-labs.com">mailto:owner-sip@=
lists.research.bell-labs.com</A>]On</FONT></U><FONT SIZE=3D2 =
FACE=3D"Arial"> Behalf Of Lawrence</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Conroy</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Sent: Tuesday, November 23, 1999 =
8:32 AM</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; To: =
sip@lists.research.bell-labs.com</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Subject: Re: Please push the =
pound key ( was RE: Comments on</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;Please forgive me for =
&quot;not getting it&quot;, but why can things not be kept</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;simple along the reasoning =
by Matt Cannon and others: If an IP telephony</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;gateway terminates calls to =
a PSTN network with numbering plans having</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;different digit string =
lengths, it can just insert a voice</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; message: &quot;Please</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;push the pound key when you =
have finished dialing&quot;. Are there</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; any problems</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;with this approach?</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;Thanks, Henry</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; &gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; Hello all,</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;&nbsp;&nbsp; Amusing as this =
particular discussion is, I do wonder what most</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; of the people</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; over here in the U.K. would =
think if they heard such an announcement.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; If they aren't on strike, I'd =
dearly love to hear BT's call center agents</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; explaining that the =
&quot;pound&quot; key is not one with a Sterling symbol on it.</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; All the best, Lawrence</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; =
-----------------------------------------------------------------------<=
/FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; | Lawrence =
Conroy,&nbsp;&nbsp;&nbsp; | &quot;These Opinions must be mine, 'cos if =
they&nbsp;&nbsp;&nbsp; |</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; | Roke Manor Research |&nbsp; =
were my Company's they'd pay me for them&quot;&nbsp;&nbsp;&nbsp; =
|</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt; |- lwc@roke.co.uk&nbsp; ---+- =
Tel: +44 1794 833666&nbsp; Fax: +44 1794 833434 --|</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Arial">&gt;</FONT>
</P>
<BR>
</UL>
</BODY>
</HTML>
------_=_NextPart_001_01BF35E7.F541DCB8--



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 15:36:08 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23571
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 15:36:07 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 25F1A52FA; Tue, 23 Nov 1999 15:33:35 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 691045300; Tue, 23 Nov 1999 15:33:34 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 848D252FA
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 15:33:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 23 15:31:39 EST 1999
Received: from gwu.ericy.com ([208.196.3.162]) by dusty; Tue Nov 23 15:30:23 EST 1999
Received: from mr4.exu.ericsson.se (mr4u.ericy.com [208.238.116.99])
	by gwu.ericy.com (8.9.3/8.9.3) with ESMTP id OAA22905;
	Tue, 23 Nov 1999 14:31:36 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.10.50])
	by mr4.exu.ericsson.se (8.9.3/8.9.3) with ESMTP id OAA23984;
	Tue, 23 Nov 1999 14:31:36 -0600 (CST)
Received: from qpop.exu.ericsson.se (qpop [138.85.1.15]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA01819; Tue, 23 Nov 1999 14:31:30 -0600 (CST)
Received: from ericsson.com (pc194116.exu.ericsson.se [138.85.194.116])
	by qpop.exu.ericsson.se (8.9.1/8.9.1) with ESMTP id OAA06727;
	Tue, 23 Nov 1999 14:31:28 -0600 (CST)
Message-ID: <383AF8DA.2566DCCB@ericsson.com>
Date: Tue, 23 Nov 1999 14:28:11 -0600
From: Ulf Andersson <ulf.andersson@ericsson.com>
Organization: Ericsson Inc
X-Mailer: Mozilla 4.04 [en] (Win95; I)
MIME-Version: 1.0
To: sip@lists.research.bell-labs.com, ensc-tia@sfu.ca,
        sip-implementors@cs.columbia.edu, confctrl@isi.edu,
        iptel@lists.research.bell-labs.com, eriietf@kk.ericsson.se
Subject: SIP Bake-off - Registration Closed
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hello!

The registration for the 3rd SIP bakeoff is closed!

The popularity of this event has by far exceeded expectations.
Instead of having 15-17 teams as we expected, there are 33 teams
now on the final list and nearly 100 people.

Here is the final list of participating teams:

Name                Team Size  Contact
---------------------------------------
Nortel-1             5          orton@nortelnetworks.com
Pingtel              2          dpetrie@pingtel.com
Nortel-2             2          cjessen@nortelnetworks.com
Mediatrix            2          etremblay@mediatrix.com
Netspeak             2          noreilly@netspeak.com
Telogy               1          wkwok@telogy.com
Nuera                4          cteoh@nuera.com
Catapult             4          terry@catapult.com
Ericsson-2           3          hans@erix.ericsson.se
Mitel                2          Ashok_Ganesan@Mitel.COM
Agilent              2          douglas_carson@agilent.com
Dynamicsoft          3          vpatel@dynamicsoft.com
Broadsoft            4          joyce@broadsoft.com
VTEL                 2          rkrishna@vtel.com
Delta                3          nurban@delta-info.com
Radcom               2          mwinslow@radcomusa.com
E*Club               2          jon2@andrew.cmu.edu
8x8                  4          artru@8x8.com
Helsinki Tech U.     2          jose@tct.hut.fi
Columbia U.          3          hgs@cs.columbia.edu
HP Labs              1          ak@hplb.hpl.hp.com
Indigo               3          eb@indigo-software.com
OZ.com               2          jii@oz.com
Vovida               3          ldang@vovida.com
Cisco                3          manojb@cisco.com
IPCell               2          alex@ipcell.com
FacetCorp            5          clark@facetcorp.com
MCIW-3               4          kelvin.porter@wcom.com
3Com-1               2          Jerry_Mahler@mw.3com.com
MCIW-1               3          mohammad.vakil@wcom.com
Ericsson-1           3          adam.roach@ericsson.com
3Com-2               2          Ravandhu_hariram@3com.com
MCIW-2               5          steven.r.donovan@wcom.com
-----------------------------------------
TOTAL:  92 participants in 33 teams


Have a nice thanksgiving everyone!!

Regards,
Ulf


--
Ulf Andersson
Ericsson Inc          +1 972 583 7537        ulf.andersson@ericsson.com





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 17:17:37 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19891
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 17:17:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BE31D52FD; Tue, 23 Nov 1999 17:15:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 39D7E52FF; Tue, 23 Nov 1999 17:15:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 39EE452FD
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 17:15:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 17:14:55 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 23 17:13:40 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqqb12460;
	Tue, 23 Nov 1999 22:19:51 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id RAA05764;
	Tue, 23 Nov 1999 17:14:49 -0500 (EST)
Message-ID: <383B12AC.F56E8BA7@dynamicsoft.com>
Date: Tue, 23 Nov 1999 17:18:20 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jean-Hugues ROBERT <jhr@odisei.com>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <00af01bf34e9$8d1d5f80$0200000a@tkw> <3.0.5.32.19991123160111.01410100@mail.odisei.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Jean-Hugues ROBERT wrote:
> 
> Customer calls Company's IVR
> IVR plays annoucement "1 for sale, 2 for support,..."
> Customer send DTMF 1
> IVR initiates SIP transfer.
> 
> I guess we have a "DTMF initiated call transfer" here ?
> 
> Depending on the architecture, IVR may be a single entity
> or a decomposed entity with a control endpoint and a media
> endpoint.
> 
> With a decomposed IVR, DTMF should get somehow to the
> control endpoint.

Correct. This works since the IVR is acting as a UA in SIP terminology.
Similarly, a "proxy" can insert itself into the media path, and thus
receive both RTP and SIP. This would allow it to transfer calls without
the two end users actually invoking the service. Thats because its not
really a proxy, but rather back to back UAs. 

Gregory Girard wrote:
> 
> mention ? I've spoken with a whole lot, and no one is impressed by SIP
> duplicating SS7 functions to set up and tear down calls. As a body of
> interested parties, we would do well to propose a SIP model that at the very
> least can support legacy apps, if not provide some measure of obvious
> improvement.

The reason SIP doesn't duplicate SS7 functions, and achieve this parity
with it, is that this is not the goal. We already have SS7. I don't see
any reason to re-invent a protocol that is nothing more, nor less, than
SS7 over IP. Rather, SIP can do lots of really cool things, and
innovative new services, that are completely outside the realm of
possibility for traditional telephony. These, IMHO, are the selling
points for SIP, not for its ability to do "AIN feature 443". 

Later, you write:
> SIP cannot even approach parity now through its data-oriented approach, thus
> we all have some holes to plug in the model.

Better believe it that SIP takes a data-oriented, IP-centric,
web-centric approach. This is entirely the point.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 18:00:07 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10774
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 18:00:05 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 410A352FF; Tue, 23 Nov 1999 17:27:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B44EB5300; Tue, 23 Nov 1999 17:27:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B32A452FF
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 17:27:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 17:26:29 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Tue Nov 23 17:25:14 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA03549
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 16:27:16 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id QAA16172
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 16:25:55 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XFLGXDX5>; Tue, 23 Nov 1999 16:25:54 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C6@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: sip@lists.research.bell-labs.com
Subject: RE: Overlap signaling to INVITE
Date: Tue, 23 Nov 1999 16:25:54 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


> Anyone know how this is handled in the phone network? How does a switch
> know when it has enough digits to make a routing decision?

In the US, the switches are provisioned with "forms" that describe the
dialing plan.  The basic plan is pretty straightforward (7 digits, 1 + 10
digits, etc.).  By looking at the dialed number, the switch can tell whether
to route the call to an (error) announcement server or to another carrier
(where it may complete or fail).  There are also the CACs (carrier access
codes, the 101xxx and 1010xxxx strings), x11 calls, etc., that complicate
the dialing plan -- but still the switch is provisioned with enough
information to know how many digits to expect.

In the case of a call from the US to somewhere else (011+), we know only the
minimum and maximum length of a generic international number.  If the caller
dials at least the minimum number, the switch will wait (on the order of
5-10 seconds, depending on provisioning) to see if more digits might be
forthcoming, so that much delay is introduced.  After the timeout (or the
maximum number of digits are received), the number is sent, and any
subsequently dialed digits are ignored.

Tim Schroeder





This e-mail and any files transmitted with it are the property of SBC,
are confidential, and are intended solely for the use of the individual
or entity to whom this e-mail is addressed. If you are not one of the
named recipient(s) or otherwise have reason to believe that you have
received this message in error, please notify the sender at
tschroeder@tri.sbc.com and delete this message immediately from your
computer. Any other use, retention, dissemination, forwarding, printing,
or copying of this e-mail is strictly prohibited.





From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 18:13:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA17851
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 18:13:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D6D1952FE; Tue, 23 Nov 1999 18:11:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 52AC05302; Tue, 23 Nov 1999 18:11:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9A0B252FE
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 18:11:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 18:09:34 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 23 18:08:19 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqqe16192;
	Tue, 23 Nov 1999 23:14:32 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id SAA05947;
	Tue, 23 Nov 1999 18:09:28 -0500 (EST)
Message-ID: <383B1F7B.C56A710@dynamicsoft.com>
Date: Tue, 23 Nov 1999 18:12:59 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Schroeder, Tim" <schroeder@tri.sbc.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: one-way media with 183 Session Progress
References: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69BF@trimail.tri.sbc.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Schroeder, Tim" wrote:
> 
> Regarding the possibility of setting up a media stream with the 183 Session
> Progress message ...
> 
> I can see why this is nice, though I don't understand (today) why this is
> necessary.  And it does seem to have similar potential for abuse as the INFO
> method does.  Agreed, it sounds helpful to be able to send back the status
> of the call completion.  But what (if anything) stops a called party's UAS
> from using that one-way media stream to read back the value of a caller's
> stock portfolio?  Or connecting it to a microphone, while simultaneously
> initiating a new call back to the original caller, in order to get a second
> one-way media stream?  There are certainly services where a one-way stream
> is all that is necessary, and with two one-way streams in opposite direction
> I can do nearly anything.

You should read the DCS drafts, as they tackle these issues from one
perspective.

From a different perspective, its very difficult (actually, impossible)
to prevent users from sending best effort traffic to each other. If you
are just providing best effort service, why do you care that users can
send audio back before the call is complete? If you are providing
transport level QoS, perhaps with diffserv, there won't be per-call (let
alone per minute) billing, so again, who cares. In the case of per-call
resource reservation, one can reserve resources even after the call is
completed, so again this early media is not an issue. It is an issue if,
and only if, you charge calls per minute, provided call by call resource
reservation, and don't want to charge for calls until they are answered.
This is more or less the DCS assumption. In this case, the right
approach is not to prevent early media for announcements, but rather not
provide it the enhanced QoS service that they will pay for once the call
is answered.

> Even without the media stream, repeated 183 Session Progress message seems
> like they could be used to transfer some (maybe not significant) information
> prior to call completion.

IP allows people to send data. Once I receive an INVITE, I have your IP
address. I can send you instant messages, email, web pages, ftp data
to/from you, and so on anyway.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 18:21:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA21506
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 18:21:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B92615302; Tue, 23 Nov 1999 18:19:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2C9405303; Tue, 23 Nov 1999 18:19:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B6CE15302
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 18:19:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 18:17:38 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 18:16:23 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id SAA01372;
	Tue, 23 Nov 1999 18:17:20 -0500 (EST)
Message-ID: <05cf01bf3608$ede09560$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Jean-Hugues ROBERT" <jhr@odisei.com>
Cc: "Pete Cordell" <pete@tech-know-ware.com>,
        "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        <sip@lists.research.bell-labs.com>
Subject: Re: DTMF signaling between media gateways - ouch!
Date: Tue, 23 Nov 1999 18:17:29 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

I'd love to hear a service one can't do with PSTN telephony that one can do
with SIP. Any suggestions would be nice to propose to service providers. I
have yet to hear of any yet besides some variations on location services
already implemented as follow-me services. Thanks for any info.

Greg Girard

-----Original Message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Jean-Hugues ROBERT <jhr@odisei.com>
Cc: Pete Cordell <pete@tech-know-ware.com>; Adam B. Roach
<Adam.Roach@Ericsson.com>; sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
Date: Tuesday, November 23, 1999 5:17 PM
Subject: Re: DTMF signaling between media gateways - ouch!


>
>
>Jean-Hugues ROBERT wrote:
>>
>> Customer calls Company's IVR
>> IVR plays annoucement "1 for sale, 2 for support,..."
>> Customer send DTMF 1
>> IVR initiates SIP transfer.
>>
>> I guess we have a "DTMF initiated call transfer" here ?
>>
>> Depending on the architecture, IVR may be a single entity
>> or a decomposed entity with a control endpoint and a media
>> endpoint.
>>
>> With a decomposed IVR, DTMF should get somehow to the
>> control endpoint.
>
>Correct. This works since the IVR is acting as a UA in SIP terminology.
>Similarly, a "proxy" can insert itself into the media path, and thus
>receive both RTP and SIP. This would allow it to transfer calls without
>the two end users actually invoking the service. Thats because its not
>really a proxy, but rather back to back UAs.
>
>Gregory Girard wrote:
>>
>> mention ? I've spoken with a whole lot, and no one is impressed by SIP
>> duplicating SS7 functions to set up and tear down calls. As a body of
>> interested parties, we would do well to propose a SIP model that at the
very
>> least can support legacy apps, if not provide some measure of obvious
>> improvement.
>
>The reason SIP doesn't duplicate SS7 functions, and achieve this parity
>with it, is that this is not the goal. We already have SS7. I don't see
>any reason to re-invent a protocol that is nothing more, nor less, than
>SS7 over IP. Rather, SIP can do lots of really cool things, and
>innovative new services, that are completely outside the realm of
>possibility for traditional telephony. These, IMHO, are the selling
>points for SIP, not for its ability to do "AIN feature 443".
>
>Later, you write:
>> SIP cannot even approach parity now through its data-oriented approach,
thus
>> we all have some holes to plug in the model.
>
>Better believe it that SIP takes a data-oriented, IP-centric,
>web-centric approach. This is entirely the point.
>
>-Jonathan R.
>--
>Jonathan D. Rosenberg                       200 Executive Drive
>Chief Scientist                             Suite 120
>dynamicsoft                                 West Orange, NJ 07052
>jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
>http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
>http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 18:27:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA24017
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 18:27:37 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0FB045303; Tue, 23 Nov 1999 18:25:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 773165304; Tue, 23 Nov 1999 18:25:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 48DFD5303
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 18:25:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 18:23:22 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 18:22:06 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id SAA03178;
	Tue, 23 Nov 1999 18:23:11 -0500 (EST)
Message-ID: <05d601bf3609$bb2bd200$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "Henry Sinnreich" <henry.sinnreich@wcom.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways - ouch!)
Date: Tue, 23 Nov 1999 18:23:20 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hey Pete, you hit the nail on the head in your comments below. I've done the
analysis. I've spoken to the customers. We (Iperia) have relationships with
all major gateway manufacturers. The message is crystal clear that SIP (Or
its replacement/adjunct) must cover the basics before any fancy stuff even
matters a damn to anyone anywhere. If SIP can't duplicate legacy for
starters, it Dead on Arrival and will belong in the archives of great
intellectual achievements that never made it commerically, right up there
with the H.324 videophone stuff where the bottom fell out about a year ago.

Greg Girard

-----Original Message-----
From: Pete Cordell <pete@tech-know-ware.com>
To: Henry Sinnreich <henry.sinnreich@wcom.com>
Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
Date: Tuesday, November 23, 1999 12:30 PM
Subject: Note to Henry (Was: Re: DTMF signaling between media gateways -
ouch!)


>Sorry for busting ya party Henry.  I didn't realise a personal invitation
>was required.
>
>Trouble is, I don't see any point inventing fan-dabby-doozo new services if
>the basics are not covered off.  I reckon that 80% of calls even in the
>brave new world of SIP will never go any where near any fancy services.
>Degrading the basic call experience in these cases so that we can add a few
>extra services does not make sense to me.  From a US perspective I can see
>this issue is not a big problem, but globally I think you would be
>committing suicide if this is not catered for.  Sure, if we could say this
>can be handled by the gateways that would be great, but my analysis (and
I'm
>quite happy for others to prove me wrong) shows that it can't be.
>Unfortunately, that means that SIP has to tackle it.
>
>Sorry for not proving to be entertaining, but in reality Jonathan's last
>e-mail seems to be pretty much there in terms of crystallising what needs
to
>be said.  Let's finish it off.  I too will then be pleased to see this
>thread end!
>
>Pete
>
>=============================================
>Pete Cordell
>pete@tech-know-ware.com
>=============================================
>
>-----Original Message-----
>From: Henry Sinnreich <henry.sinnreich@wcom.com>
>To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
><schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
><sip@lists.research.bell-labs.com>
>Date: 23 November 1999 13:28
>Subject: RE: DTMF signaling between media gateways - ouch!
>
>
>>Pete Cordell wrote
>>> I'm here because
>>
>>Pete, if this is the reason for stuffing our mail, just say so and let's
>get
>>back to designing features we need for new services. As mentioned,
>telephony
>>legacy systems can be accommodated by gateway features and their ways need
>>not be ported to the Internet. I suggest we stop this thread, it's been a
>>drag already.
>>
>>Henry
>>
>>Henry Sinnreich
>>MCI WorldCom
>>400 International Parkway
>>Richardson, Texas 75081, USA
>>
>>
>>> -----Original Message-----
>>> From: owner-sip@lists.research.bell-labs.com
>>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete Cordell
>>> Sent: Tuesday, November 23, 1999 5:24 AM
>>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
>>> Subject: Re: DTMF signaling between media gateways - ouch!
>>>
>>>
>>> My feeling is that SIP stopped being purely an initiation protocol a
long
>>> time ago.  In fact, when the BYE method was added, it no longer was
>purely
>>> an initiation protocol.  It went further down the path when all the call
>>> transfer stuff was added.
>>>
>>> I'm here because SIP is being touted as a solution for Internet
>Telephony,
>>> which involves more, much more, than just initiation.  If that's not
what
>>> it's about a decision needs to be made quickly and the message
>>> that is being
>>> spread by SIP advocates needs to be changed to avoid confusion in
>>> the market
>>> place.
>>>
>>> Pete
>>>
>>> =============================================
>>> Pete Cordell
>>> pete@tech-know-ware.com
>>> =============================================
>>>
>>> -----Original Message-----
>>> From: Schroeder, Tim <schroeder@tri.sbc.com>
>>> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>>> Date: 22 November 1999 23:44
>>> Subject: RE: DTMF signaling between media gateways - ouch!
>>>
>>>
>>> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>>> >Initiation Protocol, so it understands how to initiate sessions.  As
for
>>> the
>>> >mid-call DTMF tones,
>>> >
>>> >(1) If they are coming from some network where those tones *do* have
>>> session
>>> >initiation implications, then the gateway ought to be able to map them
>to
>>> >the existing set of SIP messages in some rational fashion.  So, in a
>>> network
>>> >where the DTMF 7 tone (R for record) means to add a recording
>>> device to the
>>> >call, the SIP gateway would map this to an invite of a recording
>>> device to
>>> >the call.
>>> >
>>> >(2) If those tones don't have session initiation implications,
>>> then I don't
>>> >see why any of the SIP network servers would understand them
>>> (any more than
>>> >a gateway would understand them); only the end systems would.  Yes,
they
>>> may
>>> >be used for signaling, but it's not session initiation signaling, and I
>>> >don't understand the desire to somehow wrap them up into SIP messages
>and
>>> >send them between end systems that way.  I see SIP as being used
>>> to set up
>>> a
>>> >session between end systems, possibly consisting of two media
>>> channels, one
>>> >used for end system signaling, one used for end system data.  I haven't
>>> made
>>> >the leap that because the end systems are interpreting some data as
>>> >signaling, that the data should be sent using SIP messages.
>>> >
>>> >My impression from reading all the DTMF messages (and in trying
>>> to catch up
>>> >-- there were a lot of them!) is that two separate kinds of signaling
>>> >(session initiation, and some higher level service signaling) are being
>>> >confused.  Currently SIP handles the first type.  Adding the INFO
method
>>> >might make it able to handle some of the second type, but I
>>> don't think it
>>> >can handle all service signaling that easily.
>>> >
>>> >Tim Schroeder
>>> >
>>> >
>>> >
>>> >This e-mail and any files transmitted with it are the property of SBC,
>>> >are confidential, and are intended solely for the use of the individual
>>> >or entity to whom this e-mail is addressed. If you are not one of the
>>> >named recipient(s) or otherwise have reason to believe that you have
>>> >received this message in error, please notify the sender at
>>> >tschroeder@tri.sbc.com and delete this message immediately from your
>>> >computer. Any other use, retention, dissemination, forwarding,
printing,
>>> >or copying of this e-mail is strictly prohibited.
>>> >
>>> >
>>> >
>>>
>>>
>>
>>
>>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 18:31:57 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA25995
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 18:31:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5EE4B5304; Tue, 23 Nov 1999 18:29:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id CE9295305; Tue, 23 Nov 1999 18:29:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 291EF5304
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 18:29:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 18:28:22 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Tue Nov 23 18:27:07 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqqg23508;
	Tue, 23 Nov 1999 23:33:20 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id SAA06063;
	Tue, 23 Nov 1999 18:28:19 -0500 (EST)
Message-ID: <383B23E5.EAF5312C@dynamicsoft.com>
Date: Tue, 23 Nov 1999 18:31:49 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Jean-Hugues ROBERT <jhr@odisei.com>,
        Pete Cordell <pete@tech-know-ware.com>,
        "Adam B. Roach" <Adam.Roach@Ericsson.com>,
        sip@lists.research.bell-labs.com
Subject: Re: DTMF signaling between media gateways - ouch!
References: <05cf01bf3608$ede09560$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> I'd love to hear a service one can't do with PSTN telephony that one can do
> with SIP. Any suggestions would be nice to propose to service providers. I
> have yet to hear of any yet besides some variations on location services
> already implemented as follow-me services. Thanks for any info.

Well, thats easy. Nearly any service that integrates voice with web,
email, instant messaging, chat, presence, IRC or any other IP
application obviously doesn't work on the PSTN. Here's a few examples:

call transfer to web
call redirect to email
Web IVR
Web voicemail
jpeg caller ID (as we've discussed, include a URL in the INVITE that
gets a JPEG image of the caller. Last I checked, ISUP and Q.931 didn't
have MIME support and URLs)

The list of possibilities is quite extensive.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 20:07:53 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA14176
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 20:07:53 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9247752B6; Tue, 23 Nov 1999 20:05:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E026F52BB; Tue, 23 Nov 1999 20:05:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0DF1252B6
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 20:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 20:04:50 EST 1999
Received: from witbier.cisco.com ([171.71.152.57]) by dusty; Tue Nov 23 20:03:35 EST 1999
Received: from mramalho-nt (ssh.cisco.com [171.69.10.34])
	by witbier.cisco.com (8.8.8-Cisco List Logging/8.8.8) with SMTP id RAA01404;
	Tue, 23 Nov 1999 17:04:00 -0800 (PST)
Message-Id: <4.1.19991123195222.00adb530@localhost>
X-Sender: mramalho@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Tue, 23 Nov 1999 20:02:55 -0800
To: "Gregory D. Girard" <ggirard@mediaone.net>,
        "Pete Cordell" <pete@tech-know-ware.com>,
        "Henry Sinnreich" <henry.sinnreich@wcom.com>
From: "Michael A. Ramalho" <mramalho@cisco.com>
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media
  gateways - ouch!)
Cc: <sip@lists.research.bell-labs.com>
In-Reply-To: <05d601bf3609$bb2bd200$122cda18@goliath.ne.mediaone.net>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Greg,

I guess that since the Internet has functionality above the PSTN
that it would have been Dead-on-Arrival too?

Seems odd to me that you are commenting on an IETF list.

Lets get real here .... your customers would have NEVER given
you feedback on ICQ (e.g., AOL IM or Yahoo Messenger) a
few years ago. Why ... because they didn't know what these
new features could do for them.

The Internet provides lots of services that can be used in concert
with real-time transport (e.g., telephony apps) ... probably the most
user impacting apps have not yet been written! ... but we desire an
architecture that enables them.

If you really feel this way .... that we are brain-dead for not replicating
EVERY functionality of the PSTN in the IDENTICAL manner the PSTN
implements them .... I have to wonder what you are doing here?

(He tried to say in as nice a way as possible),

Michael Ramalho


At 06:23 PM 11/23/99 -0500, Gregory D. Girard wrote:
>Hey Pete, you hit the nail on the head in your comments below. I've done the
>analysis. I've spoken to the customers. We (Iperia) have relationships with
>all major gateway manufacturers. The message is crystal clear that SIP (Or
>its replacement/adjunct) must cover the basics before any fancy stuff even
>matters a damn to anyone anywhere. If SIP can't duplicate legacy for
>starters, it Dead on Arrival and will belong in the archives of great
>intellectual achievements that never made it commerically, right up there
>with the H.324 videophone stuff where the bottom fell out about a year ago.
>
>Greg Girard
>
>-----Original Message-----
>From: Pete Cordell <pete@tech-know-ware.com>
>To: Henry Sinnreich <henry.sinnreich@wcom.com>
>Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>Date: Tuesday, November 23, 1999 12:30 PM
>Subject: Note to Henry (Was: Re: DTMF signaling between media gateways -
>ouch!)
>
>
>>Sorry for busting ya party Henry.  I didn't realise a personal invitation
>>was required.
>>
>>Trouble is, I don't see any point inventing fan-dabby-doozo new services if
>>the basics are not covered off.  I reckon that 80% of calls even in the
>>brave new world of SIP will never go any where near any fancy services.
>>Degrading the basic call experience in these cases so that we can add a few
>>extra services does not make sense to me.  From a US perspective I can see
>>this issue is not a big problem, but globally I think you would be
>>committing suicide if this is not catered for.  Sure, if we could say this
>>can be handled by the gateways that would be great, but my analysis (and
>I'm
>>quite happy for others to prove me wrong) shows that it can't be.
>>Unfortunately, that means that SIP has to tackle it.
>>
>>Sorry for not proving to be entertaining, but in reality Jonathan's last
>>e-mail seems to be pretty much there in terms of crystallising what needs
>to
>>be said.  Let's finish it off.  I too will then be pleased to see this
>>thread end!
>>
>>Pete
>>
>>=============================================
>>Pete Cordell
>>pete@tech-know-ware.com
>>=============================================
>>
>>-----Original Message-----
>>From: Henry Sinnreich <henry.sinnreich@wcom.com>
>>To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
>><schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
>><sip@lists.research.bell-labs.com>
>>Date: 23 November 1999 13:28
>>Subject: RE: DTMF signaling between media gateways - ouch!
>>
>>
>>>Pete Cordell wrote
>>>> I'm here because
>>>
>>>Pete, if this is the reason for stuffing our mail, just say so and let's
>>get
>>>back to designing features we need for new services. As mentioned,
>>telephony
>>>legacy systems can be accommodated by gateway features and their ways need
>>>not be ported to the Internet. I suggest we stop this thread, it's been a
>>>drag already.
>>>
>>>Henry
>>>
>>>Henry Sinnreich
>>>MCI WorldCom
>>>400 International Parkway
>>>Richardson, Texas 75081, USA
>>>
>>>
>>>> -----Original Message-----
>>>> From: owner-sip@lists.research.bell-labs.com
>>>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete Cordell
>>>> Sent: Tuesday, November 23, 1999 5:24 AM
>>>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
>>>> Subject: Re: DTMF signaling between media gateways - ouch!
>>>>
>>>>
>>>> My feeling is that SIP stopped being purely an initiation protocol a
>long
>>>> time ago.  In fact, when the BYE method was added, it no longer was
>>purely
>>>> an initiation protocol.  It went further down the path when all the call
>>>> transfer stuff was added.
>>>>
>>>> I'm here because SIP is being touted as a solution for Internet
>>Telephony,
>>>> which involves more, much more, than just initiation.  If that's not
>what
>>>> it's about a decision needs to be made quickly and the message
>>>> that is being
>>>> spread by SIP advocates needs to be changed to avoid confusion in
>>>> the market
>>>> place.
>>>>
>>>> Pete
>>>>
>>>> =============================================
>>>> Pete Cordell
>>>> pete@tech-know-ware.com
>>>> =============================================
>>>>
>>>> -----Original Message-----
>>>> From: Schroeder, Tim <schroeder@tri.sbc.com>
>>>> To: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>>>> Date: 22 November 1999 23:44
>>>> Subject: RE: DTMF signaling between media gateways - ouch!
>>>>
>>>>
>>>> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>>>> >Initiation Protocol, so it understands how to initiate sessions.  As
>for
>>>> the
>>>> >mid-call DTMF tones,
>>>> >
>>>> >(1) If they are coming from some network where those tones *do* have
>>>> session
>>>> >initiation implications, then the gateway ought to be able to map them
>>to
>>>> >the existing set of SIP messages in some rational fashion.  So, in a
>>>> network
>>>> >where the DTMF 7 tone (R for record) means to add a recording
>>>> device to the
>>>> >call, the SIP gateway would map this to an invite of a recording
>>>> device to
>>>> >the call.
>>>> >
>>>> >(2) If those tones don't have session initiation implications,
>>>> then I don't
>>>> >see why any of the SIP network servers would understand them
>>>> (any more than
>>>> >a gateway would understand them); only the end systems would.  Yes,
>they
>>>> may
>>>> >be used for signaling, but it's not session initiation signaling, and I
>>>> >don't understand the desire to somehow wrap them up into SIP messages
>>and
>>>> >send them between end systems that way.  I see SIP as being used
>>>> to set up
>>>> a
>>>> >session between end systems, possibly consisting of two media
>>>> channels, one
>>>> >used for end system signaling, one used for end system data.  I haven't
>>>> made
>>>> >the leap that because the end systems are interpreting some data as
>>>> >signaling, that the data should be sent using SIP messages.
>>>> >
>>>> >My impression from reading all the DTMF messages (and in trying
>>>> to catch up
>>>> >-- there were a lot of them!) is that two separate kinds of signaling
>>>> >(session initiation, and some higher level service signaling) are being
>>>> >confused.  Currently SIP handles the first type.  Adding the INFO
>method
>>>> >might make it able to handle some of the second type, but I
>>>> don't think it
>>>> >can handle all service signaling that easily.
>>>> >
>>>> >Tim Schroeder
>>>> >
>>>> >
>>>> >
>>>> >This e-mail and any files transmitted with it are the property of SBC,
>>>> >are confidential, and are intended solely for the use of the individual
>>>> >or entity to whom this e-mail is addressed. If you are not one of the
>>>> >named recipient(s) or otherwise have reason to believe that you have
>>>> >received this message in error, please notify the sender at
>>>> >tschroeder@tri.sbc.com and delete this message immediately from your
>>>> >computer. Any other use, retention, dissemination, forwarding,
>printing,
>>>> >or copying of this e-mail is strictly prohibited.
>>>> >
>>>> >
>>>> >
>>>>
>>>>
>>>
>>>
>>>
>>
>>
>
>
>


Michael A. Ramalho, Ph.D.
Cisco Systems
Wall Township, NJ
Office email: mramalho@cisco.com
Personal email: mar42@cornell.edu
Office: +1.732.449.5762
Cell: +1.732.809.0188



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 23 21:25:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA21695
	for <sip-archive@odin.ietf.org>; Tue, 23 Nov 1999 21:25:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1A0BB52AB; Tue, 23 Nov 1999 21:23:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B335852C4; Tue, 23 Nov 1999 21:23:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C601352AB
	for <sip@lists.research.bell-labs.com>; Tue, 23 Nov 1999 21:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 23 21:22:28 EST 1999
Received: from chmls06.mediaone.net ([24.128.1.71]) by dusty; Tue Nov 23 21:21:12 EST 1999
Received: from goliath (h00104b9c2d7a.ne.mediaone.net [24.218.44.18])
	by chmls06.mediaone.net (8.8.7/8.8.7) with ESMTP id VAA25833;
	Tue, 23 Nov 1999 21:20:18 -0500 (EST)
Message-ID: <06a601bf3622$79447220$122cda18@goliath.ne.mediaone.net>
Reply-To: "Gregory D. Girard" <ggirard@mediaone.net>
From: "Gregory D. Girard" <ggirard@mediaone.net>
To: "Michael A. Ramalho" <mramalho@cisco.com>
Cc: <sip@lists.research.bell-labs.com>
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways - ouch!)
Date: Tue, 23 Nov 1999 21:20:23 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.2106.4
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.2106.4
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Michael,
Please see my comments below marked "GG:"

-

>Greg,
>
>I guess that since the Internet has functionality above the PSTN
>that it would have been Dead-on-Arrival too?

GG: The internet as currently deployed has yet to offer itself as a
telephony market to compete with the PSTN for  point-to-point connections.
And even service provider's today are not suggesting anything but very
carefully manged IP links, only very few of which have anything to do with
the internet. The difference is that SIP is positioned as an IP-version of
the PSTN singnaling mechanisms; the "data equivelent" if you will. In that
capacity, if it cannot
allow an application to perform on a parity with PSTN interfaces, it has not
use to telephony interfaces used in my company's products. Another solution
will have to be found while we all marvel at SIP advanced features.

>
>Seems odd to me that you are commenting on an IETF list.

GG: IETF has invade the telephony space via the data-oriented telephony
solutions supported by media gateways interconnected via IP backbone.
Insofar as internet technologies are involved, it falls under the IETF. No
big mystery there.

>
>Lets get real here .... your customers would have NEVER given
>you feedback on ICQ (e.g., AOL IM or Yahoo Messenger) a
>few years ago. Why ... because they didn't know what these
>new features could do for them.

GG: My customers are sophisticated next gen service providers, many of who
monitor this to watch the progress, and who will comment on activity you see
here. For example, I got a call from one thanking me for stirring the SIP
pot regarding the much neglected DTMF issue that have raised such a stir.
This very comment may read by a customer or potential customer, most of whom
realize that services can't get rolled out over a pure data interface till
this SIP interface is worked out.
>
>The Internet provides lots of services that can be used in concert
>with real-time transport (e.g., telephony apps) ... probably the most
>user impacting apps have not yet been written! ... but we desire an
>architecture that enables them.

GG: Excellent, then why would that we ignore base-line functionality that is
already a defacto and de jure standard in the telephony world ? Lets build
on a base of functions rather than spin off into advance features. I'll
grant you that JPEG images through signaling pathways and web integration
with signaling interfaces is exciting futuristic stuff. My only point is
that without basic features, we can't roll-out the services for the existing
market.
>
>If you really feel this way .... that we are brain-dead for not replicating
>EVERY functionality of the PSTN in the IDENTICAL manner the PSTN
>implements them .... I have to wonder what you are doing here?
>
>(He tried to say in as nice a way as possible),

GG: I understand your frustration with party poopers like myself and others
that keep pressing for boring old PSTN-like features. We are really nice
guys...well, actually I don't know them personally, but anyways...I've got a
problem and maybe you can help me:

I have 10+ service providers that say they would just love to drop our
platform in to provide a whole range of rather basic telephony services,
ranging from calling card, to voice mail, to unified messaging. Only thing
is, they are building a VoIP or VoATM infrastructure and insist on a
data-only services interface to keep pace with the data-centric network
architecture. If I go along to get along, I don't have a story for them that
they believe, or for that matter, that I believe.  There are a lot of loose
ends and I've brought them to the attention of this list. My inquiries here
have generated HUNDREDS of messages in the last few weeks, about half of
which elaborate on the subject in a very serious manner. Obviously someone
has felt that basic service issues like DTMF were important enough to
discuss.  After considering the many many thoughtful opinions presented
here, I believe that I finally do have a solution to my problem set, so for
me the excercise was very rewarding. Whether or not the SIP model moves
forward as a result is another matter. I offer no apologies for making the
point that SIP functionality *may* need to address a larger problem set than
anticipated years ago when first incepted.

Greg Girard
>
>Michael Ramalho
>
>
>At 06:23 PM 11/23/99 -0500, Gregory D. Girard wrote:
>>Hey Pete, you hit the nail on the head in your comments below. I've done
the
>>analysis. I've spoken to the customers. We (Iperia) have relationships
with
>>all major gateway manufacturers. The message is crystal clear that SIP (Or
>>its replacement/adjunct) must cover the basics before any fancy stuff even
>>matters a damn to anyone anywhere. If SIP can't duplicate legacy for
>>starters, it Dead on Arrival and will belong in the archives of great
>>intellectual achievements that never made it commerically, right up there
>>with the H.324 videophone stuff where the bottom fell out about a year
ago.
>>
>>Greg Girard
>>
>>-----Original Message-----
>>From: Pete Cordell <pete@tech-know-ware.com>
>>To: Henry Sinnreich <henry.sinnreich@wcom.com>
>>Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
>>Date: Tuesday, November 23, 1999 12:30 PM
>>Subject: Note to Henry (Was: Re: DTMF signaling between media gateways -
>>ouch!)
>>
>>
>>>Sorry for busting ya party Henry.  I didn't realise a personal invitation
>>>was required.
>>>
>>>Trouble is, I don't see any point inventing fan-dabby-doozo new services
if
>>>the basics are not covered off.  I reckon that 80% of calls even in the
>>>brave new world of SIP will never go any where near any fancy services.
>>>Degrading the basic call experience in these cases so that we can add a
few
>>>extra services does not make sense to me.  From a US perspective I can
see
>>>this issue is not a big problem, but globally I think you would be
>>>committing suicide if this is not catered for.  Sure, if we could say
this
>>>can be handled by the gateways that would be great, but my analysis (and
>>I'm
>>>quite happy for others to prove me wrong) shows that it can't be.
>>>Unfortunately, that means that SIP has to tackle it.
>>>
>>>Sorry for not proving to be entertaining, but in reality Jonathan's last
>>>e-mail seems to be pretty much there in terms of crystallising what needs
>>to
>>>be said.  Let's finish it off.  I too will then be pleased to see this
>>>thread end!
>>>
>>>Pete
>>>
>>>=============================================
>>>Pete Cordell
>>>pete@tech-know-ware.com
>>>=============================================
>>>
>>>-----Original Message-----
>>>From: Henry Sinnreich <henry.sinnreich@wcom.com>
>>>To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
>>><schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
>>><sip@lists.research.bell-labs.com>
>>>Date: 23 November 1999 13:28
>>>Subject: RE: DTMF signaling between media gateways - ouch!
>>>
>>>
>>>>Pete Cordell wrote
>>>>> I'm here because
>>>>
>>>>Pete, if this is the reason for stuffing our mail, just say so and let's
>>>get
>>>>back to designing features we need for new services. As mentioned,
>>>telephony
>>>>legacy systems can be accommodated by gateway features and their ways
need
>>>>not be ported to the Internet. I suggest we stop this thread, it's been
a
>>>>drag already.
>>>>
>>>>Henry
>>>>
>>>>Henry Sinnreich
>>>>MCI WorldCom
>>>>400 International Parkway
>>>>Richardson, Texas 75081, USA
>>>>
>>>>
>>>>> -----Original Message-----
>>>>> From: owner-sip@lists.research.bell-labs.com
>>>>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete
Cordell
>>>>> Sent: Tuesday, November 23, 1999 5:24 AM
>>>>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
>>>>> Subject: Re: DTMF signaling between media gateways - ouch!
>>>>>
>>>>>
>>>>> My feeling is that SIP stopped being purely an initiation protocol a
>>long
>>>>> time ago.  In fact, when the BYE method was added, it no longer was
>>>purely
>>>>> an initiation protocol.  It went further down the path when all the
call
>>>>> transfer stuff was added.
>>>>>
>>>>> I'm here because SIP is being touted as a solution for Internet
>>>Telephony,
>>>>> which involves more, much more, than just initiation.  If that's not
>>what
>>>>> it's about a decision needs to be made quickly and the message
>>>>> that is being
>>>>> spread by SIP advocates needs to be changed to avoid confusion in
>>>>> the market
>>>>> place.
>>>>>
>>>>> Pete
>>>>>
>>>>> =============================================
>>>>> Pete Cordell
>>>>> pete@tech-know-ware.com
>>>>> =============================================
>>>>>
>>>>> -----Original Message-----
>>>>> From: Schroeder, Tim <schroeder@tri.sbc.com>
>>>>> To: sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
>>>>> Date: 22 November 1999 23:44
>>>>> Subject: RE: DTMF signaling between media gateways - ouch!
>>>>>
>>>>>
>>>>> >I'm a bit confused by much of this DTMF discussion.  SIP is a Session
>>>>> >Initiation Protocol, so it understands how to initiate sessions.  As
>>for
>>>>> the
>>>>> >mid-call DTMF tones,
>>>>> >
>>>>> >(1) If they are coming from some network where those tones *do* have
>>>>> session
>>>>> >initiation implications, then the gateway ought to be able to map
them
>>>to
>>>>> >the existing set of SIP messages in some rational fashion.  So, in a
>>>>> network
>>>>> >where the DTMF 7 tone (R for record) means to add a recording
>>>>> device to the
>>>>> >call, the SIP gateway would map this to an invite of a recording
>>>>> device to
>>>>> >the call.
>>>>> >
>>>>> >(2) If those tones don't have session initiation implications,
>>>>> then I don't
>>>>> >see why any of the SIP network servers would understand them
>>>>> (any more than
>>>>> >a gateway would understand them); only the end systems would.  Yes,
>>they
>>>>> may
>>>>> >be used for signaling, but it's not session initiation signaling, and
I
>>>>> >don't understand the desire to somehow wrap them up into SIP messages
>>>and
>>>>> >send them between end systems that way.  I see SIP as being used
>>>>> to set up
>>>>> a
>>>>> >session between end systems, possibly consisting of two media
>>>>> channels, one
>>>>> >used for end system signaling, one used for end system data.  I
haven't
>>>>> made
>>>>> >the leap that because the end systems are interpreting some data as
>>>>> >signaling, that the data should be sent using SIP messages.
>>>>> >
>>>>> >My impression from reading all the DTMF messages (and in trying
>>>>> to catch up
>>>>> >-- there were a lot of them!) is that two separate kinds of signaling
>>>>> >(session initiation, and some higher level service signaling) are
being
>>>>> >confused.  Currently SIP handles the first type.  Adding the INFO
>>method
>>>>> >might make it able to handle some of the second type, but I
>>>>> don't think it
>>>>> >can handle all service signaling that easily.
>>>>> >
>>>>> >Tim Schroeder
>>>>> >
>>>>> >
>>>>> >
>>>>> >This e-mail and any files transmitted with it are the property of
SBC,
>>>>> >are confidential, and are intended solely for the use of the
individual
>>>>> >or entity to whom this e-mail is addressed. If you are not one of the
>>>>> >named recipient(s) or otherwise have reason to believe that you have
>>>>> >received this message in error, please notify the sender at
>>>>> >tschroeder@tri.sbc.com and delete this message immediately from your
>>>>> >computer. Any other use, retention, dissemination, forwarding,
>>printing,
>>>>> >or copying of this e-mail is strictly prohibited.
>>>>> >
>>>>> >
>>>>> >
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>
>>>
>>
>>
>>
>
>
>Michael A. Ramalho, Ph.D.
>Cisco Systems
>Wall Township, NJ
>Office email: mramalho@cisco.com
>Personal email: mar42@cornell.edu
>Office: +1.732.449.5762
>Cell: +1.732.809.0188
>




From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 01:04:34 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA09363
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 01:04:34 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0612952B6; Wed, 24 Nov 1999 01:01:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 662C152D6; Wed, 24 Nov 1999 01:01:32 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 1F53752B6
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 01:01:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 24 01:01:00 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Wed Nov 24 00:59:39 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id MAA22320
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 12:07:08 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 65256833.0020254C ; Wed, 24 Nov 1999 11:21:07 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <65256830.00255EA6.00@sampark.hss.hns.com>
Date: Sun, 21 Nov 1999 12:24:03 +0530
Subject: How strictly is the SIP grammar being followed ?
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,
Please refer to definition of a tag-param

tag-param= "tag=" UUID
UUID = 1*(hex|'-')

However, in one of the test messages of 2nd bakeoff (test1.txt) , there was
a
test which had a

tag=12231423424n
and
tag=98ashd<something>

None of the above confirm to the grammar specified, so why should a parser
allow it ?

Just wondering how strictly the tests are following the grammar - if not,
why define a fixed rule set in the first place ?

Regds
Arjun






From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 01:07:12 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA10874
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 01:07:12 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2BF6752BB; Wed, 24 Nov 1999 01:01:32 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 778AE52C4; Wed, 24 Nov 1999 01:01:31 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 122D952BB
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 01:01:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 01:00:47 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Wed Nov 24 00:59:27 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id MAA22353
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 12:07:34 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 65256833.0020249F ; Wed, 24 Nov 1999 11:21:05 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <65256830.0024D2F8.00@sampark.hss.hns.com>
Date: Sun, 21 Nov 1999 12:15:27 +0530
Subject: Line Folding
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,
According to the specification of line folding, a header may be broken into
multiple lines by inseting a LWS in the next line.
so
<hdr>:<token1> <token2>
     <token3>

is allowed.

However, the spec says that Headers itself should not have leading white
spaces.

However, Ive seen certain examples where many headers beging with an LWS.
Is this something that is allowed ? If this is so, it makes differentiating
between a Header continuation and a new Header more difficult.

Regds
Arjun





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 03:03:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA21132
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 03:03:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D75AE52C4; Wed, 24 Nov 1999 03:01:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 564F552D5; Wed, 24 Nov 1999 03:01:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 96BDD52C4
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 03:01:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 03:00:23 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Wed Nov 24 02:59:04 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id KAA03625
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 10:00:54 +0200 (EET)
Received: from lmf.ericsson.se (TOSB0102-udp216653 [131.160.73.153])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id KAA05685
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 10:00:17 +0200 (EET)
Message-ID: <383B9B12.A2A070B2@lmf.ericsson.se>
Date: Wed, 24 Nov 1999 10:00:18 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip <sip@lists.research.bell-labs.com>
Subject: Text based protocols
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

I am looking for information about the real overhead that a text-based
protocol (like SIP) has "on the wire" in relation to binary encoding. Is
there any study about this available.

Thanks,

Gonzalo 
-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 08:29:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA26048
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 08:28:59 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 1133752AB; Wed, 24 Nov 1999 08:25:48 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 113F952BB; Wed, 24 Nov 1999 08:25:46 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E99A252AB
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 08:25:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 24 08:24:57 EST 1999
Received: from prima.time.saic.com ([205.153.241.31]) by dusty; Wed Nov 24 08:23:39 EST 1999
Received: from degas.time.saic.com (degas.time.saic.com [205.153.241.32])
	by prima.time.saic.com (8.9.3/8.8.5) with ESMTP id IAA15494
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 08:25:03 -0500 (EST)
Message-Id: <199911241325.IAA15494@prima.time.saic.com>
X-Mailer: exmh version 2.0.2 2/24/98
To: sip@lists.research.bell-labs.com
Subject: PSTN and SIP (or its replacement/adjunct)
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Wed, 24 Nov 1999 08:24:38 -0500
From: Ken Carlberg <carlberg@time.saic.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


> From: "Gregory D. Girard" <ggirard@mediaone.net>
>
> SIP (Or
> its replacement/adjunct) must cover the basics before any fancy stuff even
> matters a damn to anyone anywhere.

Absolutely agreed.  A number of my customers/clients are U.S. government 
agencies (DoD and non-DoD), of which several are populated with  die-hard 
bellheads.  If its not possible to present an IP-based solution that works 
seamlessly with the existing PSTN baseline set of functions, then these 
folks will ignore SIP (or its adjunct).  I have an added desire to have 
High Probability of Completion (HPC) incorporated in the baseline set, but
first things first.

If a particular vendor doesn't want to support the baseline, fine.  In my
role as a systems integrator, I'll be happy to select another vendor that
does.

cheers,

-ken





From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 09:27:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA26456
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 09:27:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id ABE9752B6; Wed, 24 Nov 1999 09:25:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 11C4652C4; Wed, 24 Nov 1999 09:25:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DA89252B6
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 09:25:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 09:24:04 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 24 09:22:46 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqsn03084;
	Wed, 24 Nov 1999 14:29:04 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id JAA06515;
	Wed, 24 Nov 1999 09:24:00 -0500 (EST)
Message-ID: <383BF5DB.1EF178D6@dynamicsoft.com>
Date: Wed, 24 Nov 1999 09:27:39 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Gregory D. Girard" <ggirard@mediaone.net>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        Henry Sinnreich <henry.sinnreich@wcom.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways - 
 ouch!)
References: <05d601bf3609$bb2bd200$122cda18@goliath.ne.mediaone.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Gregory D. Girard" wrote:
> 
> Hey Pete, you hit the nail on the head in your comments below. I've done the
> analysis. I've spoken to the customers. We (Iperia) have relationships with
> all major gateway manufacturers. The message is crystal clear that SIP (Or
> its replacement/adjunct) must cover the basics before any fancy stuff even
> matters a damn to anyone anywhere. If SIP can't duplicate legacy for
> starters, it Dead on Arrival and will belong in the archives of great
> intellectual achievements that never made it commerically, right up there
> with the H.324 videophone stuff where the bottom fell out about a year ago.

Sigh...I've heard these arguments before. As I recall, the whole ATM vs.
IP debates took a similar tone... "But IP can't do QoS routing, and its
not as reliable, and it won't be fast enough, and.....". However, IP was
a success NOT because it attempted to fully replicate existing
technologies. It provided a whole new set of features and services, and
customers were more than willing to accept packet loss and delays in
exchange.

Same for cell phones. Cell phones aren't on par with landline at all.
The quality stinks, they cut out all the time. 911 doesn't even work
quite right. But, they have become immensely successful because they
brought something NEW to the table - mobility.

Same for IP telephony. We need to strike a balance. We need to be able
to do many of the most imporant PSTN services, and we *do*. Hey, we even
can do overlap dialing, for goodness sake. Your mail seems to imply that
SIP cannot do any phone feature or service, but this is just being
alarmist and is plain false. However, the aim is not to replicate the
entire PSTN feature and function set. I think that if you set down the
requirements for doing PSTN replication, you would find that the
protocols and architectures that best meet those requirements are
already done - those in use in the PSTN already. No big surprise there.
That, however, is NOT our goal. Our goal is to enable all kinds of cool
new features in IP telephony, things that just don't work at all on the
PSTN, while enabling a reasonably good set of traditional features and
services. I have already given some examples of these new services, and
there are many, **many** more. After all, why would a customer want to
purchase IP telephony service if it does nothing more than the PSTN, the
quality is lower, and the cost differential is not significant (with
declining PSTN calling rates, its a fair bet this is the case)? I
already have a phone, thank you. We're trying to build the next thing.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 10:55:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05935
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 10:55:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CEAE352C4; Wed, 24 Nov 1999 10:53:16 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 47FE052D6; Wed, 24 Nov 1999 10:53:16 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 084BB52C4
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 10:53:02 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 24 10:51:49 EST 1999
Received: from sj-mailhub-3.cisco.com ([171.68.224.215]) by dusty; Wed Nov 24 10:50:31 EST 1999
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [171.71.147.106])
	by sj-mailhub-3.cisco.com (8.9.1a/8.9.1) with ESMTP id IAA23206;
	Wed, 24 Nov 1999 08:01:32 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id HAA12557; Wed, 24 Nov 1999 07:51:42 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <14396.2446.222661.178017@thomasm-u1.cisco.com>
Date: Wed, 24 Nov 1999 07:51:42 -0800 (PST)
To: Ken Carlberg <carlberg@time.saic.com>
Cc: sip@lists.research.bell-labs.com
Subject: PSTN and SIP (or its replacement/adjunct)
In-Reply-To: <199911241325.IAA15494@prima.time.saic.com>
References: <199911241325.IAA15494@prima.time.saic.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Ken Carlberg writes:
 > Absolutely agreed.  A number of my customers/clients are U.S. government 
 > agencies (DoD and non-DoD), of which several are populated with  die-hard 
 > bellheads.  If its not possible to present an IP-based solution that works 
 > seamlessly with the existing PSTN baseline set of functions, 

"The set" or "a set"?

I don't think anybody disagrees with the general
proposition that there exists a general set of
features which are useful, produce revenue, etc,
etc, which must be accommodated. The question is
whether every feature is on an equal footing and
no progress can be made until the ocean is boiled.

By way of analogy, with the transition from horses
to cars, it's certainly true that cars needed to
accommodate quite a few of the good features of
horses: the ability to make them go, the ability
to stop them, the ability to steer them, etc. That
did not place a requirement on car designers to
emulate *every* feature of horses: cars don't
need to eat hay, poop roadapples, or install nerve
endings in the bumper so that buggy whips work.
For those who insist on these features, there
will always be horses.

The raison d'etre for cars was to keep the good
features of the old technology, but vastly expand
on the possibilities which were not possible with
the old (like going 160Mph, etc). The same thing is
going on here: there are certainly a lot of very
worthwhile features of the old technology which
need to be preserved. That does not mean that we
should exactly emulate it; like the horse, if you
really want something that eats and poops hay and
feels the sting of a buggy whip, you might as well
get a horse since it is, after all, the real
thing. 

Like the car, however, functionality enabled by
the new technology will become far more important
than a procrustean emulatation of the old. What's
interesting here, as with any techology at a
transition point, is that we're not really certain
what the new world really looks like. All we
really know is that beyond accommodating some
obvious must have features, the future is
uncertain but the way forward is clear.

		    Mike



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 11:36:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA25175
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 11:36:00 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 6A0BD52DB; Wed, 24 Nov 1999 11:33:39 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E1C0A52DC; Wed, 24 Nov 1999 11:33:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C862D52DB
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 11:33:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 11:32:29 EST 1999
Received: from prima.time.saic.com ([205.153.241.31]) by dusty; Wed Nov 24 11:31:11 EST 1999
Received: from degas.time.saic.com (degas.time.saic.com [205.153.241.32])
	by prima.time.saic.com (8.9.3/8.8.5) with ESMTP id LAA15931;
	Wed, 24 Nov 1999 11:32:08 -0500 (EST)
Message-Id: <199911241632.LAA15931@prima.time.saic.com>
X-Mailer: exmh version 2.0.2 2/24/98
To: Michael Thomas <mat@cisco.com>
Cc: sip@lists.research.bell-labs.com
Subject: Re: PSTN and SIP (or its replacement/adjunct) 
In-Reply-To: Your message of "Wed, 24 Nov 1999 07:51:42 PST."
             <14396.2446.222661.178017@thomasm-u1.cisco.com> 
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Date: Wed, 24 Nov 1999 11:31:42 -0500
From: Ken Carlberg <carlberg@time.saic.com>
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


> "The set" or "a set"?

a set (though i would imagine that we're involved with most federal,
agencies one way or another -- i don't really keep count because i'm
only interested in the technical stuff).  check with your business 
manager in charge of the federal market concerning SAIC.

> By way of analogy, with the transition from horses
> to cars, it's certainly true that cars needed to
> accommodate quite a few of the good features of
> horses: the ability to make them go, the ability
> to stop them, the ability to steer them, etc. That
> did not place a requirement on car designers to
> emulate *every* feature of horses:

poor analogy.  my original note did not state the need to support *every*
feature, nor did it imply so.  the item i agreed with is a necessity 
to transparantly support a baseline set (ie, one has to support the
installed base).  if Jonathan feels that is being done with SIP as it 
stands today, fine.  however, in looking at the recent thread, that did 
not seem to be the case.

having said our peace, lets take this offline if you wish to continue.

-ken






From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 12:25:40 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21404
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 12:25:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D9A4452D5; Wed, 24 Nov 1999 12:23:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5FF0A52DD; Wed, 24 Nov 1999 12:23:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 95BEC52D5
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 12:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 12:22:48 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Wed Nov 24 12:21:28 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id XAA03513
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 23:29:56 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 65256833.0020A7F8 ; Wed, 24 Nov 1999 11:26:41 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <65256832.003A7556.00@sampark.hss.hns.com>
Date: Tue, 23 Nov 1999 16:09:30 +0530
Subject: Line Folding + Grammar strictiness {RESEND}
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk



Hi,
According to the specification of line folding, a header may be broken into
multiple lines by inseting a LWS in the next line.
so
<hdr>:<token1> <token2>
     <token3>

is allowed.

However, the spec says that Headers itself should not have leading white
spaces.

However, Ive seen certain examples where many headers beging with an LWS.
Is this something that is allowed ? If this is so, it makes differentiating
between a Header continuation and a new Header more difficult.

Please refer to definition of a tag-param

tag-param= "tag=" UUID
UUID = 1*(hex|'-')

However, in one of the test messages of 2nd bakeoff (test1.txt) , there was
a
test which had a

tag=12231423424n
and
tag=98ashd<something>

None of the above confirm to the grammar specified, so why should a parser
allow it ?

Just wondering how strictly the tests are following the grammar - if not,
why define a fixed rule set in the first place ?

Regds
Arjun










From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 14:16:25 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA12156
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 14:16:24 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id C4CA052E0; Wed, 24 Nov 1999 14:01:12 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 1B2A652DE; Wed, 24 Nov 1999 14:01:11 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id E3AF452AB
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 08:09:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 08:08:53 EST 1999
Received: from mailgate.fore.com ([169.144.68.6]) by dusty; Wed Nov 24 08:07:35 EST 1999
Received: from mailman.fore.com (mailman.fore.com [169.144.2.12])
	by mailgate.fore.com (8.9.3/8.9.3) with ESMTP id IAA23656;
	Wed, 24 Nov 1999 08:08:45 -0500 (EST)
Received: from whq-msgrtr-01.fore.com (whq-msgrtr-01.fore.com [169.144.2.221])
	by mailman.fore.com (8.9.3/8.9.3) with ESMTP id IAA13581;
	Wed, 24 Nov 1999 08:08:47 -0500 (EST)
Received: by whq-msgrtr-01.fore.com with Internet Mail Service (5.5.2650.21)
	id <W4FGA9DD>; Wed, 24 Nov 1999 08:07:26 -0500
Message-ID: <4FBEA8857476D311A03300204840E1CF068487@whq-msgusr-02.fore.com>
From: "Rosen, Brian" <brosen@fore.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip <sip@lists.research.bell-labs.com>
Subject: RE: Text based protocols
Date: Wed, 24 Nov 1999 08:08:40 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="ISO-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Gently phrased I'm sure.

I'm not aware of any, but I'm sure we will have a good 
opportunity to look into this when MEGACO/H.248 implementations
start appearing.  There is both a text and a binary encoding.
It would be possible to make direct comparisons given enough
real world examples to create a sufficiently reliable dataset.

Until then, or the emergence of some realistic data from some
other source, I beg of you not to start a debate on the issue;
it was very unpleasant when it happened on the Megaco list,
and there was no convincing either side.

Brian

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Wednesday, November 24, 1999 3:00 AM
> To: sip
> Subject: Text based protocols
> 
> 
> Hi,
> 
> I am looking for information about the real overhead that a text-based
> protocol (like SIP) has "on the wire" in relation to binary 
> encoding. Is
> there any study about this available.
> 
> Thanks,
> 
> Gonzalo 
> -- 
> Gonzalo Camarillo         Phone :  +358  9 299 33 71
> Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> Telecom R&D               Fax   :  +358  9 299 31 18
> FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> Finland
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 14:59:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28392
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 14:59:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 10D0152DC; Wed, 24 Nov 1999 14:57:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7811D52E1; Wed, 24 Nov 1999 14:57:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8D56752DC
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 14:57:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 24 14:56:35 EST 1999
Received: from notes.relteccorp.com ([208.43.60.82]) by dusty; Wed Nov 24 14:55:17 EST 1999
Received: by notes.relteccorp.com(Lotus SMTP MTA v4.6.3  (733.2 10-16-1998))  id 85256833.006CEBD2 ; Wed, 24 Nov 1999 14:49:42 -0500
X-Lotus-FromDomain: RELTECCORP
From: david.k.brown@na.marconicomms.com
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@lists.research.bell-labs.com
Message-ID: <85256833.006CEB33.00@notes.relteccorp.com>
Date: Wed, 24 Nov 1999 13:53:17 -0600
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways
	 - ouch!)
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk




Rholm's law (providing the same functions in the same way) applies when you are
*replacing* a service.  If IP telephony and SIP are seen as a replacement for
the PSTN, it must do the same functions.  If it addresses a different need or
compliments the PSTN, it doesn't need to supply *all of* the same services.
Figure out your market and the question is answered.

My question is does the "SIP call model" align with the PSTN (or AIN) call model
well enough to support the option of replacing and/or interworking with the PSTN
services?  The catch here is defining "well enough" without limiting your market
application of the standard too severely.





Jonathan Rosenberg <jdrosen@dynamicsoft.com> on 11/24/99 08:27:39 AM

To:   "Gregory D. Girard" <ggirard@mediaone.net>
cc:   Pete Cordell <pete@tech-know-ware.com>, Henry Sinnreich
      <henry.sinnreich@wcom.com>, sip@lists.research.bell-labs.com (bcc: David K
      Brown/RAC/RELTECCORP)

Subject:  Re: Note to Henry (Was: Re: DTMF signaling between media gateways -
      ouch!)






"Gregory D. Girard" wrote:
>
> Hey Pete, you hit the nail on the head in your comments below. I've done the
> analysis. I've spoken to the customers. We (Iperia) have relationships with
> all major gateway manufacturers. The message is crystal clear that SIP (Or
> its replacement/adjunct) must cover the basics before any fancy stuff even
> matters a damn to anyone anywhere. If SIP can't duplicate legacy for
> starters, it Dead on Arrival and will belong in the archives of great
> intellectual achievements that never made it commerically, right up there
> with the H.324 videophone stuff where the bottom fell out about a year ago.

Sigh...I've heard these arguments before. As I recall, the whole ATM vs.
IP debates took a similar tone... "But IP can't do QoS routing, and its
not as reliable, and it won't be fast enough, and.....". However, IP was
a success NOT because it attempted to fully replicate existing
technologies. It provided a whole new set of features and services, and
customers were more than willing to accept packet loss and delays in
exchange.

Same for cell phones. Cell phones aren't on par with landline at all.
The quality stinks, they cut out all the time. 911 doesn't even work
quite right. But, they have become immensely successful because they
brought something NEW to the table - mobility.

Same for IP telephony. We need to strike a balance. We need to be able
to do many of the most imporant PSTN services, and we *do*. Hey, we even
can do overlap dialing, for goodness sake. Your mail seems to imply that
SIP cannot do any phone feature or service, but this is just being
alarmist and is plain false. However, the aim is not to replicate the
entire PSTN feature and function set. I think that if you set down the
requirements for doing PSTN replication, you would find that the
protocols and architectures that best meet those requirements are
already done - those in use in the PSTN already. No big surprise there.
That, however, is NOT our goal. Our goal is to enable all kinds of cool
new features in IP telephony, things that just don't work at all on the
PSTN, while enabling a reasonably good set of traditional features and
services. I have already given some examples of these new services, and
there are many, **many** more. After all, why would a customer want to
purchase IP telephony service if it does nothing more than the PSTN, the
quality is lower, and the cost differential is not significant (with
declining PSTN calling rates, its a fair bet this is the case)? I
already have a phone, thank you. We're trying to build the next thing.

-Jonathan R.

--
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com








From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 15:11:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04190
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 15:11:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 54D4A52E1; Wed, 24 Nov 1999 15:09:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AC9D452E2; Wed, 24 Nov 1999 15:09:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4D9AA52E1
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 15:09:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 15:08:31 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 24 15:07:13 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqtk07000;
	Wed, 24 Nov 1999 20:13:29 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA07989;
	Wed, 24 Nov 1999 15:08:25 -0500 (EST)
Message-ID: <383C4692.66B52A11@dynamicsoft.com>
Date: Wed, 24 Nov 1999 15:12:02 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Ken Carlberg <carlberg@time.saic.com>
Cc: Michael Thomas <mat@cisco.com>, sip@lists.research.bell-labs.com
Subject: Re: PSTN and SIP (or its replacement/adjunct)
References: <199911241632.LAA15931@prima.time.saic.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Ken Carlberg wrote:
> 
> poor analogy.  my original note did not state the need to support *every*
> feature, nor did it imply so.  the item i agreed with is a necessity
> to transparantly support a baseline set (ie, one has to support the
> installed base).  if Jonathan feels that is being done with SIP as it
> stands today, fine.  however, in looking at the recent thread, that did
> not seem to be the case.

This thread has been full of high level handwaving, without a lot of
real technical discussion. Lets look at some services that *can* be done
with SIP that are in the PSTN:

call forwarding
call transfer (call control spec)
caller ID
call hold
multiparty conferencing (call control spec)
*69
follow-me
find-me
call waiting 
IVR systems

there are others, but these are some of the most critical and commonly
used ones. That probably covers a very large percentage of what most
people do.

-Jonathan R.

-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 15:23:43 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA10311
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 15:23:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id ED0EA52E2; Wed, 24 Nov 1999 15:21:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6071752E3; Wed, 24 Nov 1999 15:21:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C4CC952E2
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 15:21:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 15:20:30 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Nov 24 15:19:12 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id PAA25724;
	Wed, 24 Nov 1999 15:20:18 -0500 (EST)
Message-ID: <383C487F.8BB36548@cs.columbia.edu>
Date: Wed, 24 Nov 1999 15:20:15 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Ken Carlberg <carlberg@time.saic.com>, Michael Thomas <mat@cisco.com>,
        sip@lists.research.bell-labs.com
Subject: Re: PSTN and SIP (or its replacement/adjunct)
References: <199911241632.LAA15931@prima.time.saic.com> <383C4692.66B52A11@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 

> 
> call forwarding
> call transfer (call control spec)
> caller ID
> call hold
> multiparty conferencing (call control spec)
> *69
> follow-me
> find-me
> call waiting
> IVR systems
> 
> there are others, but these are some of the most critical and commonly
> used ones. That probably covers a very large percentage of what most
> people do.

Just to add a few (see the new SIP FAQ item...):

call waiting (clearly done differently in VoIP)
call queueing
automatic call distribution
call park (with some details to be worked out)

A more complete list is in the tech report on 5ESS feature
implementation available on the SIP web site.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 15:45:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA20759
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 15:45:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B790452E3; Wed, 24 Nov 1999 15:43:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 38EAA52E4; Wed, 24 Nov 1999 15:43:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id C574B52E3
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 15:43:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 15:42:55 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Wed Nov 24 15:41:37 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhqtn06253;
	Wed, 24 Nov 1999 20:47:53 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id PAA08243;
	Wed, 24 Nov 1999 15:42:49 -0500 (EST)
Message-ID: <383C4EA1.98FF77AF@dynamicsoft.com>
Date: Wed, 24 Nov 1999 15:46:25 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: archow@hss.hns.com
Cc: sip@lists.research.bell-labs.com
Subject: Re: Line Folding + Grammar strictiness {RESEND}
References: <65256832.003A7556.00@sampark.hss.hns.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



archow@hss.hns.com wrote:
> 
> Hi,
> According to the specification of line folding, a header may be broken into
> multiple lines by inseting a LWS in the next line.
> so
> <hdr>:<token1> <token2>
>      <token3>
> 
> is allowed.
> 
> However, the spec says that Headers itself should not have leading white
> spaces.
> 
> However, Ive seen certain examples where many headers beging with an LWS.
> Is this something that is allowed ? If this is so, it makes differentiating
> between a Header continuation and a new Header more difficult.

Its not allowed. You can't have leading white space in front of the
header. I thought the spec said this.

> 
> Please refer to definition of a tag-param
> 
> tag-param= "tag=" UUID
> UUID = 1*(hex|'-')
> 
> However, in one of the test messages of 2nd bakeoff (test1.txt) , there was
> a
> test which had a
> 
> tag=12231423424n
> and
> tag=98ashd<something>
> 
> None of the above confirm to the grammar specified, so why should a parser
> allow it ?

There is a general guideline about being forgiving on reception, but you
are correct. Really, tag should just be a token, same with Call-ID. The
semantics should say that they must be unique, and that a suggestion is
to use a UUID or something of the form id@host, but we should not impose
that at a syntactic level. 

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 17:01:48 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA26052
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 17:01:47 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4176652E4; Wed, 24 Nov 1999 16:59:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B93AC52E5; Wed, 24 Nov 1999 16:59:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 167FC52E4
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 16:59:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 16:58:51 EST 1999
Received: from howler.tri.sbc.com ([205.173.58.4]) by dusty; Wed Nov 24 16:57:33 EST 1999
Received: from sbctri.tri.sbc.com (sbctri [144.60.1.10])
	by howler.tri.sbc.com (8.9.3/8.9.3) with ESMTP id PAA07042
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 15:59:38 -0600 (CST)
Received: from trimail.tri.sbc.com (trimail [144.60.55.189])
	by sbctri.tri.sbc.com (8.9.3/8.9.3) with ESMTP id PAA05929
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 15:58:18 -0600 (CST)
Received: by trimail.tri.sbc.com with Internet Mail Service (5.5.2448.0)
	id <XP840HHF>; Wed, 24 Nov 1999 15:58:18 -0600
Message-ID: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C8@trimail.tri.sbc.com>
From: "Schroeder, Tim" <schroeder@tri.sbc.com>
To: sip@lists.research.bell-labs.com
Subject: RE: User signaling -- was  DTMF signaling between media gateways 
	- ouch!
Date: Wed, 24 Nov 1999 15:58:17 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Dean Willis [mailto:dean.willis@wcom.com] writes:
> I happen to believe that the open-ended nature of the SIP INFO approach I
> have discussed provides for some very powerful and easily implemented
> applications. 

I agree with that.

> SIP provides arbitrary application messaging support with INFO
> and MIME bodies. 

And I guess this, too.

> SIP provides automatic scoping to the nodes contained in
> the signaling path, with an opt-out mechanism for nodes that don't want to
> play, transparency for nodes that don't care, and negotiation mechanisms
> for nodes that think they might want to care. 

What I still don't quite get, though, is why this "arbitrary application
messaging support" is sent via the "signaling path", rather than more
directly to the application on the other end.  

If everything is being sent best-effort, and all the intermediate nodes opt
out, it's no big deal.  

But if there are nodes still in the signaling path because they *might* want
to care about the session (to provide some service based out of a SIP
network server), then they are going to see all the signaling traffic (in
the SIP info messages) an arbitrary end application might send their way --
even though they don't care about that end application at all.  This makes
it harder to engineer those platforms, and the network around them (there
could be reserved paths to those servers, for instance, to provide better
quality for SIP network-based services).  Might it not even be conceivable
that the INFO message could get forked or redirected at a network server
along the way?

My thought is that if the end system applications are signaling to each
other, they'd want to avoid the stuff in the middle as much as possible,
just like the media steams do.  Just as the SIP network servers wouldn't
want to be bothered with just forwarding data between applications (even
signaling data), it would seem the applications would want to subject their
signaling data to whatever might happen in the SIP network (possible
charging, QoS variations, node congestion, whatever).

Tim Schroeder



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 18:09:51 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28760
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 18:09:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3220252DE; Wed, 24 Nov 1999 18:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A1BE152E6; Wed, 24 Nov 1999 18:07:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3D49452DE
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 18:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 18:06:19 EST 1999
Received: from cs.columbia.edu ([128.59.16.20]) by dusty; Wed Nov 24 18:05:02 EST 1999
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.1/8.9.1) with ESMTP id SAA08044;
	Wed, 24 Nov 1999 18:06:17 -0500 (EST)
Message-ID: <383C6F67.D86F2271@cs.columbia.edu>
Date: Wed, 24 Nov 1999 18:06:15 -0500
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Organization: Columbia University, Dept. of Computer Science
X-Mailer: Mozilla 4.7 [en] (X11; U; SunOS 5.7 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: archow@hss.hns.com, sip@lists.research.bell-labs.com
Subject: Re: Line Folding + Grammar strictiness {RESEND}
References: <65256832.003A7556.00@sampark.hss.hns.com> <383C4EA1.98FF77AF@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 


> There is a general guideline about being forgiving on reception, but you
> are correct. Really, tag should just be a token, same with Call-ID. The
> semantics should say that they must be unique, and that a suggestion is
> to use a UUID or something of the form id@host, but we should not impose
> that at a syntactic level.
> 

For the call-id, I disagree. This should be specified, since any other
form is invalid. We want to specify a user@host form to decrease the
likelihood of collisions. (One reason we might want to reconsider the
Call-ID form is to avoid revealing host information, but then we better
come up with a reasonable alternative.)

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs



From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 18:55:35 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA20619
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 18:55:35 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E00D452E5; Wed, 24 Nov 1999 18:53:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 665F452E8; Wed, 24 Nov 1999 18:53:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id D592D52E5
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 18:53:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Wed Nov 24 18:52:10 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Wed Nov 24 18:50:51 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id FAA17465
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 05:59:26 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 65256833.0020667F ; Wed, 24 Nov 1999 11:23:53 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: sip@lists.research.bell-labs.com
Message-ID: <65256831.00463B02.00@sampark.hss.hns.com>
Date: Mon, 22 Nov 1999 18:18:30 +0530
Subject: Line Folding + Grammar strictiness {RESEND}
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi
This is a resend - I think our mail server was down - these 2 mails bounced
back.
Pls ignore if you have already received it.
Regds
Arjun

---------------------- Forwarded by Arjun Roychowdhury/HSSBLR on 11/22/99
06:23 PM ---------------------------


Arjun Roychowdhury
11/21/99 12:15 PM

To:   sip@lists.research.bell-labs.com
cc:
Subject:  Line Folding

Hi,
According to the specification of line folding, a header may be broken into
multiple lines by inseting a LWS in the next line.
so
<hdr>:<token1> <token2>
     <token3>

is allowed.

However, the spec says that Headers itself should not have leading white
spaces.

However, Ive seen certain examples where many headers beging with an LWS.
Is this something that is allowed ? If this is so, it makes differentiating
between a Header continuation and a new Header more difficult.

Regds
Arjun

---------------------- Forwarded by Arjun Roychowdhury/HSSBLR on 11/22/99
06:23 PM ---------------------------


Arjun Roychowdhury
11/21/99 12:24 PM

To:   sip@lists.research.bell-labs.com
cc:
Subject:  How strictly is the SIP grammar being followed ?

Hi,
Please refer to definition of a tag-param

tag-param= "tag=" UUID
UUID = 1*(hex|'-')

However, in one of the test messages of 2nd bakeoff (test1.txt) , there was
a
test which had a

tag=12231423424n
and
tag=98ashd<something>

None of the above confirm to the grammar specified, so why should a parser
allow it ?

Just wondering how strictly the tests are following the grammar - if not,
why define a fixed rule set in the first place ?

Regds
Arjun








From owner-sip-outgoing@lists.research.bell-labs.com  Wed Nov 24 22:39:48 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA07653
	for <sip-archive@odin.ietf.org>; Wed, 24 Nov 1999 22:39:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 182F252B6; Wed, 24 Nov 1999 22:37:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7AC7E52BB; Wed, 24 Nov 1999 22:37:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 97CAE52B6
	for <sip@lists.research.bell-labs.com>; Wed, 24 Nov 1999 22:37:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Wed Nov 24 22:37:01 EST 1999
Received: from tapti.hss.hns.com ([139.85.242.19]) by dusty; Wed Nov 24 22:35:41 EST 1999
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by tapti.hss.hns.com (8.8.8/8.8.8) with SMTP id JAA24480;
	Thu, 25 Nov 1999 09:42:54 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA SMTP v4.6 (462.2 9-3-1997))  id 65256834.00139ED8 ; Thu, 25 Nov 1999 09:04:18 +0530
X-Lotus-FromDomain: HSSBLR
From: archow@hss.hns.com
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, archow@hss.hns.com,
        sip@lists.research.bell-labs.com
Message-ID: <65256834.001307C3.00@sampark.hss.hns.com>
Date: Thu, 25 Nov 1999 09:04:14 +0530
Subject: Re: Line Folding + Grammar strictiness {RESEND}
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,
I we really want userid@host - and currently dont have any other better
alternative,
then probably we should omit the statement in the Notes and Clarifications
doc stating that Call-Id=token should
be allowed.

Also, Im a little confused as to why we should be forgiving for Input - the
problem is that then people do not
take the specified syntax correctly, and we will still have
implementations, being a little more forgiving than others in
various different cases leading to more and more interop problems.

Dont you think that its better, rather, to define the grammar properly
(make the grammar rules more forgiving rather than
allowing variations beyond a defined grammar) ?

For example, the line folding example I mentioned, I saw certain stack
builders provide examples of SIP message with
tabs in front of messages (not folds !) - guess this could be a form of
lenient input, but  I really feel such things should
be discouraged at the spec level and enforced too - that way - every one
has a standard reference at least for the core
message  protocol and at interops we have more complex issues to worry
about !

Regds
Arjun

--
Arjun Roychowdhury @ Hughes Software Systems
Off: Prestige Opal,146 Infantry Road,Blore - 560001  Ph:+91-080-2286390/1/2







Henning Schulzrinne <schulzrinne@cs.columbia.edu> on 11/25/99 04:36:15 AM

To:   Jonathan Rosenberg <jdrosen@dynamicsoft.com>
cc:   archow@hss.hns.com, sip@lists.research.bell-labs.com
Subject:  Re: Line Folding + Grammar strictiness {RESEND}




Jonathan Rosenberg wrote:
>

> There is a general guideline about being forgiving on reception, but you
> are correct. Really, tag should just be a token, same with Call-ID. The
> semantics should say that they must be unique, and that a suggestion is
> to use a UUID or something of the form id@host, but we should not impose
> that at a syntactic level.
>
For the call-id, I disagree. This should be specified, since any other
form is invalid. We want to specify a user@host form to decrease the
likelihood of collisions. (One reason we might want to reconsider the
Call-ID form is to avoid revealing host information, but then we better
come up with a reasonable alternative.)
--
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs








From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 08:35:48 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA08762
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 08:35:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4BEE452BB; Thu, 25 Nov 1999 08:33:16 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B432652C4; Thu, 25 Nov 1999 08:33:15 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id B7EC352BB
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 08:33:02 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 25 08:32:52 EST 1999
Received: from smtp-out2.bellatlantic.net ([199.45.39.157]) by dusty; Thu Nov 25 08:31:34 EST 1999
Received: from cs.columbia.edu (adsl-151-198-20-48.bellatlantic.net [151.198.20.48])
	by smtp-out2.bellatlantic.net (8.9.1/8.9.1) with ESMTP id IAA13261;
	Thu, 25 Nov 1999 08:38:24 -0500 (EST)
Message-ID: <383D3A9F.FB39390@cs.columbia.edu>
Date: Thu, 25 Nov 1999 08:33:19 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.7 [en]C-CCK-MCD BA45DSL  (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lars Berggren <lars@intertex.se>
Cc: sip@lists.research.bell-labs.com,
        "Karl Erik =?iso-8859-1?Q?St=E5hl?=" <kalle@intertex.se>,
        "Henrik =?iso-8859-1?Q?Bergstr=F6m?=" <henrik@intertex.se>
Subject: Re: Line Folding + Grammar strictiness {RESEND}
References: <Pine.LNX.4.02.9911250901090.704-100000@lars.intertex.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Lars Berggren wrote:
> 

> 
> There are also cases when the host part of the user@host form causes
> problems when creating a globally unique id, e.g. for hosts on LANs without
> globally unique hostnames or ip-addresses.
> 
> However if such hosts is to be reached globally I believe they must have
> some globally reachable sip-url (where the host part indicates some kind
> of nat-sip-proxy).
> Thus, I think it might be a good idea that clients without globally unique
> ip-addresses constructs its Call-ID from their globally reachable sip-url
> or some other unique token (given by the sysadmin) that can be configured
> into the client.
> 
> For example:
> Call-ID: 01002031233ad3f3f-john.doe@sip.company.com;tag=12921838
> or
> Call-ID:01002031233ad3f3f-john.doe-tag-12621838@sip.company.com
> (the latter following the current rfc stated syntax of Call-ID)
> 
> What about this? Is it something to add to the firewall-friendly
> implementation requirements in appendix A of the rfc?
> 

I'm not sure that making the Call-ID more complicated is all that
helpful, since it is after all (mostly) an opaque identifier. The local
part is supposed to be globally unique all by itself, with the host part
adding a layer of "insurance" that makes it safe to use mainly
time-based identifiers as the local part.

For those with non-globally-unique addresses, there is a potential
problem only if they use a 10.x.x.x address. (Even in that case, the
likelihood of bad consequences is probably small.) Otherwise, if they
use a host name, that host is not likely to be pingable or resolvable
via DNS, but probably unique.

Thus, I would suggest leaving things as is. It doesn't seem to be broken
and I'm reluctant to add complexity if I can help it.

Henning



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 09:07:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA23827
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 09:07:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9833A52AB; Thu, 25 Nov 1999 09:05:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 095B652D5; Thu, 25 Nov 1999 09:05:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 729F452AB
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 09:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 25 09:03:58 EST 1999
Received: from smtp-out1.bellatlantic.net ([199.45.39.156]) by dusty; Thu Nov 25 09:02:38 EST 1999
Received: from cs.columbia.edu (adsl-151-198-20-48.bellatlantic.net [151.198.20.48])
	by smtp-out1.bellatlantic.net (8.9.1/8.9.1) with ESMTP id JAA09454;
	Thu, 25 Nov 1999 09:02:06 -0500 (EST)
Message-ID: <383D41E6.C7F1EA6D@cs.columbia.edu>
Date: Thu, 25 Nov 1999 09:04:22 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.7 [en]C-CCK-MCD BA45DSL  (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: archow@hss.hns.com
Cc: Henning Schulzrinne <schulzrinne@cs.columbia.edu>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        sip@lists.research.bell-labs.com
Subject: Re: Line Folding + Grammar strictiness {RESEND}
References: <65256834.001307C3.00@sampark.hss.hns.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



archow@hss.hns.com wrote:
> 
> Hi,
> I we really want userid@host - and currently dont have any other better
> alternative,
> then probably we should omit the statement in the Notes and Clarifications
> doc stating that Call-Id=token should
> be allowed.

I tend to agree.

> 
> Also, Im a little confused as to why we should be forgiving for Input - the
> problem is that then people do not
> take the specified syntax correctly, and we will still have
> implementations, being a little more forgiving than others in
> various different cases leading to more and more interop problems.
> 
> Dont you think that its better, rather, to define the grammar properly
> (make the grammar rules more forgiving rather than
> allowing variations beyond a defined grammar) ?
> 
> For example, the line folding example I mentioned, I saw certain stack
> builders provide examples of SIP message with
> tabs in front of messages (not folds !) - guess this could be a form of

That's plain wrong and will not interwork with other implementations.
This stack vendor will figure this out pretty quickly...

> lenient input, but  I really feel such things should
> be discouraged at the spec level and enforced too - that way - every one
> has a standard reference at least for the core
> message  protocol and at interops we have more complex issues to worry
> about !

Clearly, implementations should stick to what's allowed in the spec in
sending requests. However, being overly picky for syntax in processing
requests is not advantageous from a customer perspective. You get the
following:

C: "My aunt is trying to call me but she gets this weird error message."

CS: "Your aunt's phone is broken."

C: "But she can call all her other relatives. Maybe I should buy the
same phone that they have."

Since the customer can't fix the problem, his or her implementation
should make a good-faith effort to be generous. Bake-offs like the one
in Richardson are then used to figure out who is violating the spec and
who isn't. It would also be nice if testers in magazines and such would
pay attention to this, but this is probably asking too much. (Despite
the fairly dismal history of protocol conformance testing, I would even
argue that a minimal set of "safety" tests would not hurt in the
Internet environment. It would prevent a lot of the gratutious HTML
incompatibility between, say, IE and Netscape.)

The current SIP syntax tries to adhere to "standard" Internet text
protocol practice, while 
providing a canonical form that people should use to minimize
interoperability problems with "lazy" implementations.

> 
> Regds
> Arjun



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 10:47:50 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA12347
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 10:47:49 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D744052C4; Thu, 25 Nov 1999 10:45:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4E63F52D6; Thu, 25 Nov 1999 10:45:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2475752C4
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 10:45:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 25 10:44:28 EST 1999
Received: from web1403.mail.yahoo.com ([128.11.23.167]) by dusty; Thu Nov 25 10:43:10 EST 1999
Message-ID: <19991125154426.27657.rocketmail@web1403.mail.yahoo.com>
Received: from [209.239.207.211] by web1403.mail.yahoo.com; Thu, 25 Nov 1999 07:44:26 PST
Date: Thu, 25 Nov 1999 07:44:26 -0800 (PST)
From: Pyda Srisuresh <srisuresh@yahoo.com>
Subject: Re: Line Folding + Grammar strictiness {RESEND}
To: Henning Schulzrinne <hgs@cs.columbia.edu>,
        Lars Berggren <lars@intertex.se>
Cc: sip@lists.research.bell-labs.com, Karl Erik "Sthl" <kalle@intertex.se>,
        Henrik "Bergstrm" <henrik@intertex.se>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

--- Henning Schulzrinne <hgs@cs.columbia.edu> wrote:
> 
> 
> Lars Berggren wrote:
> > 
> 
> > 
> > There are also cases when the host part of the user@host form causes
> > problems when creating a globally unique id, e.g. for hosts on LANs without
> > globally unique hostnames or ip-addresses.
> > 

A host must either have a globally unique name or globally unique IP address
in order for the host to be globally accessible by external hosts.
Hosts in private domain (say, 10.0 address space) do not have globally unique
addresses, but can have globally unique DNS names.

> > However if such hosts is to be reached globally I believe they must have
> > some globally reachable sip-url (where the host part indicates some kind
> > of nat-sip-proxy).
> > Thus, I think it might be a good idea that clients without globally unique
> > ip-addresses constructs its Call-ID from their globally reachable sip-url
> > or some other unique token (given by the sysadmin) that can be configured
> > into the client.

I dont see a problem with the current SIP URL, as this does allow for
idetifying a host by name. 

> > 
> > For example:
> > Call-ID: 01002031233ad3f3f-john.doe@sip.company.com;tag=12921838
> > or
> > Call-ID:01002031233ad3f3f-john.doe-tag-12621838@sip.company.com
> > (the latter following the current rfc stated syntax of Call-ID)
> > 
> > What about this? Is it something to add to the firewall-friendly
> > implementation requirements in appendix A of the rfc?
> > 
> 
Of the two examples you gave,  how does the former offer any advantage 
over the latter for a 10.0 host? How is it more firewall/NAT friendly
than the other? Thanks.

> I'm not sure that making the Call-ID more complicated is all that
> helpful, since it is after all (mostly) an opaque identifier. The local
> part is supposed to be globally unique all by itself, with the host part
> adding a layer of "insurance" that makes it safe to use mainly
> time-based identifiers as the local part.
> 
> For those with non-globally-unique addresses, there is a potential
> problem only if they use a 10.x.x.x address. (Even in that case, the
> likelihood of bad consequences is probably small.) Otherwise, if they
> use a host name, that host is not likely to be pingable or resolvable
> via DNS, but probably unique.
> 
> Thus, I would suggest leaving things as is. It doesn't seem to be broken
> and I'm reluctant to add complexity if I can help it.
> 

I agree.

> Henning
> 
> 

regards,
suresh
__________________________________________________
Do You Yahoo!?
Thousands of Stores.  Millions of Products.  All in one place.
Yahoo! Shopping: http://shopping.yahoo.com



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 11:05:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA20843
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 11:05:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 31E9952D5; Thu, 25 Nov 1999 11:03:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AC55D52DB; Thu, 25 Nov 1999 11:03:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id A3ECC52D5
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 11:03:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 25 11:01:26 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Thu Nov 25 11:00:08 EST 1999
Received: from 8x8.com (192.168.2.20) by odisei.com with ESMTP (Eudora Internet
 Mail Server 2.2.2); Thu, 25 Nov 1999 17:13:41 +0100
Message-ID: <383D5CE4.FEB65E5F@8x8.com>
Date: Thu, 25 Nov 1999 15:59:32 +0000
From: Marc Petit-Huguenin <petithug@8x8.com>
Organization: 8x8 - Network Software Division
X-Mailer: Mozilla 4.7 [en] (X11; U; Linux 2.2.13 i686)
X-Accept-Language: fr-FR, fr, en
MIME-Version: 1.0
To: IETF SIP <sip@lists.research.bell-labs.com>
Subject: Question on Call-Id
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hello,

I have a question about redirection:
When the SIP entity redirected (the entity that receive the 3xx) send
the new INVITE, does the Call-Id of this new INVITE must, should or may
be the same that the Call-Id in the first INVITE?

Call-flows in draft-ietf-mmusic-sip-new-00 or
draft-sparks-sip-service-examples-00 use the same Call-Id, but is this
mandatory?

My problem is that I need a mean to be sure that the redirect completes
and to achieve this I must correlate the two INVITEs. I have the same
problem with the transfer feature, but in this case, the token parameter
in the BYE also and the INVITE requested-by permits this correlation.

Thank you for your help.

Regards,

-- 
Marc Petit-Huguenin
Home: mailto:petithug@cyberservices.com
Work: mailto:petithug@8x8.com
"Everything I love is either immoral, illegal or makes you fat"



From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 11:41:41 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08801
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 11:41:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CF62752DB; Thu, 25 Nov 1999 11:39:26 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 50CB952B6; Thu, 25 Nov 1999 11:39:26 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EB76752DB
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 11:39:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 25 11:37:47 EST 1999
Received: from sheffield.cnchost.com ([207.155.252.12]) by dusty; Thu Nov 25 11:36:29 EST 1999
Received: from tu (ts001d42.ott-cn.concentric.net [206.173.215.54])
	by sheffield.cnchost.com
	id LAA11270; Thu, 25 Nov 1999 11:37:11 -0500 (EST)
	[ConcentricHost SMTP Relay 1.8]
From: "Tu Do" <tu@ss8networks.com>
To: "Schroeder, Tim" <schroeder@tri.sbc.com>,
        <sip@lists.research.bell-labs.com>
Subject: RE: Overlap signaling to INVITE
Date: Thu, 25 Nov 1999 11:36:25 -0500
Message-ID: <NDBBILHHDMGCOHGDBKOCMEBOCAAA.tu@ss8networks.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2314.1300
In-Reply-To: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C6@trimail.tri.sbc.com>
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Schroeder,
> Tim
> Sent: Tuesday, November 23, 1999 5:26 PM
> To: sip@lists.research.bell-labs.com
> Subject: RE: Overlap signaling to INVITE
>
>
>
> > Anyone know how this is handled in the phone network? How does a switch
> > know when it has enough digits to make a routing decision?
>
> In the US, the switches are provisioned with "forms" that describe the
> dialing plan.  The basic plan is pretty straightforward (7 digits, 1 + 10
> digits, etc.).  By looking at the dialed number, the switch can
> tell whether
> to route the call to an (error) announcement server or to another carrier
> (where it may complete or fail).  There are also the CACs (carrier access
> codes, the 101xxx and 1010xxxx strings), x11 calls, etc., that complicate
> the dialing plan -- but still the switch is provisioned with enough
> information to know how many digits to expect.
>
> In the case of a call from the US to somewhere else (011+), we
> know only the
> minimum and maximum length of a generic international number.  If
> the caller
> dials at least the minimum number, the switch will wait (on the order of
> 5-10 seconds, depending on provisioning) to see if more digits might be
> forthcoming, so that much delay is introduced.  After the timeout (or the
> maximum number of digits are received), the number is sent, and any
> subsequently dialed digits are ignored.

I thought that the switch would try to route the call as soon as the minimum
number digits were collected.  The downstream switch could return and say
that more digits were needed to route the call, then more digits would be
collected.  This process is what's called "Overlap Outpulsing", isn't it?
Can someone from Europe confirm this?  Still the question is what does SIP
do to collect more digits?  If this is done in the Body using SDP, then how
would Proxy/Redirect servers do this?

Tu Do
>
> Tim Schroeder
>
>
>
>
>
> This e-mail and any files transmitted with it are the property of SBC,
> are confidential, and are intended solely for the use of the individual
> or entity to whom this e-mail is addressed. If you are not one of the
> named recipient(s) or otherwise have reason to believe that you have
> received this message in error, please notify the sender at
> tschroeder@tri.sbc.com and delete this message immediately from your
> computer. Any other use, retention, dissemination, forwarding, printing,
> or copying of this e-mail is strictly prohibited.
>
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Thu Nov 25 15:09:41 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11712
	for <sip-archive@odin.ietf.org>; Thu, 25 Nov 1999 15:09:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 55CCF52AB; Thu, 25 Nov 1999 15:07:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BE06052D6; Thu, 25 Nov 1999 15:07:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B793052AB
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 15:07:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 25 15:05:47 EST 1999
Received: from web1406.mail.yahoo.com ([128.11.23.170]) by dusty; Thu Nov 25 15:04:29 EST 1999
Message-ID: <19991125200545.26777.rocketmail@web1406.mail.yahoo.com>
Received: from [209.239.197.188] by web1406.mail.yahoo.com; Thu, 25 Nov 1999 12:05:45 PST
Date: Thu, 25 Nov 1999 12:05:45 -0800 (PST)
From: Pyda Srisuresh <srisuresh@yahoo.com>
Subject: Re: Line Folding + Grammar strictiness {RESEND}
To: Lars Berggren <lars@intertex.se>
Cc: Henning Schulzrinne <hgs@cs.columbia.edu>,
        sip@lists.research.bell-labs.com,
        "Karl_Erik_Sthl" <kalle@intertex.se>,
        "Henrik_Bergstrm" <henrik@intertex.se>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk



--- Lars Berggren <lars@intertex.se> wrote:
> On Thu, 25 Nov 1999, Pyda Srisuresh wrote:
> 
> > --- Henning Schulzrinne <hgs@cs.columbia.edu> wrote:
> > > 
> > > 
> > > Lars Berggren wrote:
> > > > 
> > > 
> > > > 
> > > > There are also cases when the host part of the user@host form causes
> > > > problems when creating a globally unique id, e.g. for hosts on LANs
> without
> > > > globally unique hostnames or ip-addresses.
> > > > 
> > 
> > A host must either have a globally unique name or globally unique IP
> address
> > in order for the host to be globally accessible by external hosts.
> > Hosts in private domain (say, 10.0 address space) do not have globally
> unique
> > addresses, but can have globally unique DNS names.
> > 
> > > > However if such hosts is to be reached globally I believe they must
> have
> > > > some globally reachable sip-url (where the host part indicates some
> kind
> > > > of nat-sip-proxy).
> > > > Thus, I think it might be a good idea that clients without globally
> unique
> > > > ip-addresses constructs its Call-ID from their globally reachable
> sip-url
> > > > or some other unique token (given by the sysadmin) that can be
> configured
> > > > into the client.
> > 
> > I dont see a problem with the current SIP URL, as this does allow for
> > idetifying a host by name. 
> > 
> 
> I didn't say that there was a problem with the sip-url, rather I said the
> sip-url was the solution for a 10.x.x.x-host when constructing the
> Call-ID.
> 

OK. Apparantly, I misunderstood.

> > > > 
> > > > For example:
> > > > Call-ID: 01002031233ad3f3f-john.doe@sip.company.com;tag=12921838
> > > > or
> > > > Call-ID:01002031233ad3f3f-john.doe-tag-12621838@sip.company.com
> > > > (the latter following the current rfc stated syntax of Call-ID)
> > > > 
> > > > What about this? Is it something to add to the firewall-friendly
> > > > implementation requirements in appendix A of the rfc?
> > > > 
> > > 
> > Of the two examples you gave,  how does the former offer any advantage 
> > over the latter for a 10.0 host? How is it more firewall/NAT friendly
> > than the other? Thanks.
> 
> Didn't say that one example was more firewall-friendly than the other.
> These two examples were just examples of how a Call-ID might look like if
> they were constructed from a sip-url of a 10.x.x.x-host.
> 
> Note that the 'sip.company.com' is the name of the firewall and is used to
> form a global sip-url to a host without unique address behind the
> firewall.
> 

OK. Sounds like we are in full agreement.

> > 
> > > I'm not sure that making the Call-ID more complicated is all that
> > > helpful, since it is after all (mostly) an opaque identifier. The local
> > > part is supposed to be globally unique all by itself, with the host part
> > > adding a layer of "insurance" that makes it safe to use mainly
> > > time-based identifiers as the local part.
> > > 
> > > For those with non-globally-unique addresses, there is a potential
> > > problem only if they use a 10.x.x.x address. (Even in that case, the
> > > likelihood of bad consequences is probably small.) Otherwise, if they
> > > use a host name, that host is not likely to be pingable or resolvable
> > > via DNS, but probably unique.
> > > 
> > > Thus, I would suggest leaving things as is. It doesn't seem to be broken
> > > and I'm reluctant to add complexity if I can help it.
> > > 
> > 
> > I agree.
> > 
> > > Henning
> > > 
> > > 
> > 
> > regards,
> > suresh
> > __________________________________________________
> > Do You Yahoo!?
> > Thousands of Stores.  Millions of Products.  All in one place.
> > Yahoo! Shopping: http://shopping.yahoo.com
> > 
> > 
> 
> Lars Berggren       <lars.berggren@intertex.se>
> Intertex Data AB    tel: +46-8-6282828
> Sundbyberg, Sweden  fax: +46-8-6286414
> 
> 

regards,
suresh

__________________________________________________
Do You Yahoo!?
Thousands of Stores.  Millions of Products.  All in one place.
Yahoo! Shopping: http://shopping.yahoo.com



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 00:26:53 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA28312
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 00:26:53 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 31F8B52AB; Fri, 26 Nov 1999 00:22:08 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8FE2A52BB; Fri, 26 Nov 1999 00:22:07 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 93DDC52AB
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 00:21:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 26 00:20:19 EST 1999
Received: from pmesmtp01.wcom.com ([199.249.20.1]) by dusty; Fri Nov 26 00:19:01 EST 1999
Received: from ndcrelay2.mcit.com ([166.37.172.6])
 by firewall.mcit.com (PMDF V5.2-32 #41714)
 with ESMTP id <0FLS0029FHHRBQ@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 26 Nov 1999 05:20:15 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by ndcrelay2.mcit.com (8.8.7/) with ESMTP	id FAA22174; Fri,
 26 Nov 1999 05:15:28 +0000 (GMT)
Received: from dwillispc4 ([166.44.156.125])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with SMTP id <19991126052013.DOMH16941@[166.44.156.125]>; Fri,
 26 Nov 1999 05:20:13 +0000
Date: Thu, 25 Nov 1999 23:22:14 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: User signaling -- was  DTMF signaling between media gateways	-ouch!
In-reply-to: <6C5FB3C08FCBD1118EE600805FEA9CC2025A69C8@trimail.tri.sbc.com>
To: "Schroeder, Tim" <schroeder@tri.sbc.com>, sip@lists.research.bell-labs.com
Message-id: <000601bf37ce$33094760$7d9c2ca6@dwillispc4>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Tim writes:
> Dean Writes:
> > SIP provides automatic scoping to the nodes contained in
> > the signaling path, with an opt-out mechanism for nodes that
> don't want to
> > play, transparency for nodes that don't care, and negotiation mechanisms
> > for nodes that think they might want to care.
>
> What I still don't quite get, though, is why this "arbitrary application
> messaging support" is sent via the "signaling path", rather than more
> directly to the application on the other end.
>
> If everything is being sent best-effort, and all the intermediate
> nodes opt
> out, it's no big deal.
>
> But if there are nodes still in the signaling path because they
> *might* want
> to care about the session (to provide some service based out of a SIP
> network server), then they are going to see all the signaling traffic (in
> the SIP info messages) an arbitrary end application might send
> their way --
> even though they don't care about that end application at all.  This makes
> it harder to engineer those platforms, and the network around them (there
> could be reserved paths to those servers, for instance, to provide better
> quality for SIP network-based services).  Might it not even be conceivable
> that the INFO message could get forked or redirected at a network server
> along the way?
>
> My thought is that if the end system applications are signaling to each
> other, they'd want to avoid the stuff in the middle as much as possible,
> just like the media steams do.  Just as the SIP network servers wouldn't
> want to be bothered with just forwarding data between applications (even
> signaling data), it would seem the applications would want to
> subject their
> signaling data to whatever might happen in the SIP network (possible
> charging, QoS variations, node congestion, whatever).

Well, you have an implementation decision about how to build
endpoint-endpoint communications. You could certainly build your own
protoco, use Java RMI, MS DCOM, or any number of other things. I expect
people will build systems that use all of the above. But if doing it at the
SIP level makes sense to the app developer, it is an easy option.

One of the reasons I find this approach to be interesting is the
intersection with that slayer of useful protocols, the "corporate firewall".
Many businesses require application-level proxies for all traffic. Given
that the corporate SIP proxy has to provide this function for SIP messages
like INVITE and BYE, it seems clear that it could be used for the occasional
end-to-end datagram as well.

I see the corporate SIP proxy as controlling the firewall to allow media
passage for the RTP streams. It can do this because it is 1) a trusted node,
2) in the signaling path, and 3) capable of authenticating the internal
endpoint.

Certainly one could design another end-to-end protocol, describe it in SDP,
add awareness of it to the firewall-controlling proxy, find a way to secure
it, and use it for your needs. But that seems like a faily heavy-handed
approach to just schlepping a MIME blob from one node to another.

--
Dean

Have you ever tried to get H.323 through a firewall? Great, now try again
with payload security . . .

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 00:39:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04571
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 00:39:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B912B52BB; Fri, 26 Nov 1999 00:35:45 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C838F52C4; Fri, 26 Nov 1999 00:35:44 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id ADDDC52BB
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 00:35:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 26 00:33:10 EST 1999
Received: from omzrelay02.mcit.com ([199.249.19.244]) by dusty; Fri Nov 26 00:31:52 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-29 #38417)
 with ESMTP id <0FLS00K4VI35KF@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Fri, 26 Nov 1999 05:33:06 +0000 (GMT)
Received: from omzmta02.mcit.com (omzmta02.mcit.com [166.37.194.120])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id FAA17194 for
 <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 05:33:07 +0000 (GMT)
Received: from dwillispc4 ([166.44.156.125])
 by omzmta02.mcit.com (InterMail v03.02.05 118 120)
 with SMTP id <19991126053301.DOSJ16941@[166.44.156.125]> for
 <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 05:33:01 +0000
Date: Thu, 25 Nov 1999 23:34:55 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: Draft minutes of Nov 7 interim meeting
To: IETF SIP <sip@lists.research.bell-labs.com>
Message-id: <000701bf37cf$f863a0e0$7d9c2ca6@dwillispc4>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

The following are draft minutes. Please send corrections to
dean.willis@wcom.com

-----------------

The SIP Working Group held an interim meeting on Nov 7, 1999 in the Empire
Room of the Omni Shoreham Hotel in Washington DC, USA.

The primary purpose of the meeting was to inform the SIP working group on
the PacketCable Distributed Call Services (DCS) work. DCS is based on SIP,
with some extensions and changes to support requirements identified by the
developers. Many participants feel that the requirements identified by DCS
may need to be addressed in the SIP standard in order to increase its
utility and maintain interoperability.

The meeting format included a presentation period followed by a discussion
period. Attendees were asked to restrict questions during the presentation
period to requests for clarification as opposed to exploration of
alternatives.

Tom Taylor provided note-taking support, and his detailed notes are posted
on the unofficial SIP Working Group home at:
http://www.softarmor.com/sipwg/meets/interim-nov-1999/
along with PDF copies of all presentations. The DCS submissions to the IETF
are available from the IETF internet drafts collection at:
http://www.ietf.org/ID.html, search key "dcsgroup".

The presentations included detailed discussion of the assumptions and
service requirements underlying the DCS architecture and reviewed the DCS
utilization of and proposed changes and extensions to SIP.

Topics included:
  DCS and DQS Architecture, presented by K. K. Ramakrishnan
  DCS Call Flows, presented by Bill Beser
  DCS Resource Management, presented by Ed Miller
  DCS Authorization, presented by K. K. Ramakrishnan
  DCS Proxies, as presented by Mike Manette
  DCS Privacy, presented by Flemming Andreasen
  DCS State, presented by Poornima Lalwaney

Several hours of moderated discussion followed the presentations. Key points
follow.

Jonathan Rosenburg opened the discussion by asking whether the requirements
noted by DCS should be applied to SIP work in the IETF. There seemed to be
general consensus that the majority of requirments were generally
applicable, but that some might require further review.

Henning Schulzrinne noted that:
  -- one useful feature of SIP is that one can make progress on agreed
points while questioning others -- this is not all-or-nothing.
  -- a risk of text encoding is that everyone wants to express things their
own way.  We have to be concerned with integrity of the style.
  -- it would be nice if other applications outside cable architecture could
also use the capabilities added here
  -- we must be concerned for interoperability with other SIP applications,
running of multiple SIP-based applications on the same device, and avoid
being too special-purpose.

KK Ramakrishnan expressd general agreement with Henning's points.

Scott Petrack discussed the similarity of the DCS approach and legacy PSTN,
noting that we need to assure this emulation doesn't create large amounts of
work to break away from that model later.

Dave Oran suggested attempting to emulate the PSTN user model and meet user
expectations, rather than recreating the PSTN itself.

Jonathan Rosenburg neted that the user expectation model is a valuable basis
for developing SIP. He expressed hopes to generalize the application of some
of the various DCS concepts e.g. distributed state and to broaden the
applicability of extensions so they can be reused.

Lawrence Conroy suggested that we might be able to simplify the DCS operator
services and break-in approach, asking whether issue is just whether an MTA
is engaged in call. Someone proposd a counter-example: someone with heart
attack, necessitating an operator to actually need to know if voice is
active.  Jonathan Rosenburg responded that this could be problematic if
other media are flowing. This leaves a question: Can we rephrase the
requirment to make it more generally applicable?

Dean Willis noted security issues with operator services. Since the MTA has
to cooperate to allow eavesdropping, how does it tell an operator break-in
from a wiretap?

Dean Willis noted that SDP limitations mean the source port for a session is
not conveyed, making it hard to set firewall rules based on content of SDP
and potentially difficult to define the parameters for an operator break-in
which is not occurring on an MTA (a mid-flow tap).

Dean Willis discussed the controversiality of the DCS two-stage invite. The
current approach uses an "invite, no ring" followed by an "invite with
ring".  Dean ased if it might be feasible to used nested sessions, wehrein
the outer session establishes QoS between the endpoints, and the inner
session actually sets up the call. The idea may not have been expressed
clearly as nobody seemed to get it, and Dean agreed to think about it and
discuss it on the group mailing list someday. Someone later pointed out that
this approach suffers from the same cascade failure in forking scenarios as
does the DCS approach.

Dean Willis pointed out that the behavior of DCS proxies is to blocking of
3xx responses in the proxy. This prevents passing back multiple contact
points to the oroginator, thereby breaking a number of services including
UAC controlled parallel search and menu selection of redirected contact. In
fact, it pretty much breaks the entire redirect model. In discussion, it was
pointed out that this approach arose from a privacy concern for hiding of
forwarding. Jonathan Rosenburg suggested that the privacy requirement is OK,
but that the solution shouldn't prevent other capabilities. Dean Willis
suggested that use of a proxy that actually proxies, raher than redirects
the call, is needed to assure privacy of forwarding, and that end points
with this requirement should simply refrain from using redirects for
forwarding.

Dean Willis suggested that the group consider using the draft-antti tel: URL
syntax to express telephone numbers and LNP status rather than adding LNP as
a DCS-specific parameter.


Discussion then shifted to the on point at which billing begins.

Henning Schulzrinne discussed issues with the DCS aproach:
  -- per-minute billing doesn't encourage net-friendly behaviour like
silence suppression.
  --  Routers will have to capture packet volumes.
  -- It may be desirable to support uses such as use of packet connection
for baby monitor.  Hence a held resource charge plus a packet volume charge
might be the appropriate structure.  This makes the bill-upon-answer issue
disappear.
  -- Two-stage setup shouldn't be driven by a desire to preserve the PSTN
billing structure.
  -- The separation of reservation from commitment is valid.  It applies on
a per-stream rather than per-session basis.
  -- there is a simpler way than two-phase to achieve user requirements if
one gets rid of billing model preconceptions.

Jonathan Rosenburg questioned the DCS requirement to establish QoS prior to
answer response in order tot prevent first-utterrace clipping. He pointed
out that such clipping occurs in the PSTN today.  He suggested that there
may be enough "slack" in the network to support best-effort called party
greeting before QOS kicks in.  Bill Marshall counterpointed that this might
mean that the first few packets are delivered with significantly more delay
than the others, hence
requiring adaptability in the playout buffer, and that this could be
problematic given that DOCSIS delay adds 20 ms to best-effort latency.
Jonathan responded that designing application layer protocols around layer 2
is a questionable approach.

An attendee noted that dropping each proxy out of the signalling path after
the first phase may block the operation of some call features.  How does a
proxy get back "in" when required?  Bill marshall answered that the UA has
to explicitly call upon the proxy for further service.  This leaves open the
qustion: how does the endpoint know when to call in the proxy?  e.g. user
requires a specific proxy to be present at all stages of a call.

Mike Manette clarified the requirements and proposed solutions -- two-phase
invite addresses the call defect issue; direct 200 OK (proxy bypass) and QoS
transmission addresses clipping.  There was general agreement that these are
separate issues.

The group then discussed concerns with the call state model. It may imply
some dependence on UA reliability for the operation of some features such as
malicious call trace. Mike Manette stated that the DCS group assumption was
that endpoint reliability is an engineerable item.  Some parties expressed
concern that this reintroduces the telco-supplied phone model, or that
people might not realize the implications of buying a cheap phone.  KK
proposed that a service provider could offer a state recording service.
someone summarized that the phone should be able to
keep state of active calls, but it may be easier for a network resource to
keep history. Jonathan Rosenburg described this as a different fate sharing
problem. There seemed to be general interest in the room toward expanding
the DCS state model into a generalized cookie model.

Henning Schulzrinne comment on trust and privacy, noting that it might be
more efficient to certify UA-supplied info rather than always overwriting
it, with an underlying assumption that People are usually honest.  KK
responded that this is not a fundamental decision and could change if good
reason given.



Wrap up:

Jonathan Rosenburg suggested that the group first agree on requirements,
then debate solutions. The DCS group has made the first part easy by
breaking the requirements apart. Jonathan again argued that we should avoid
special-case solutions to the extent possible, but that the solutions
proposed by the DCS group should be given first consideration, as much of
the work has aleady been done. The attendees expressed a strong consensus in
favor of this approach. Several implementor groups agreed to offline talks,
and numerous calls for list discussion of vaios topics were voiced.



Open questions:

1) Can the operator services requirements be restated so as to make them
more generally applicable to SIP-inititated sessions? What are the relevant
security requirements?

2) Can the tel: URL syntax be used to meet DCS' needs for expressing phone
numbers and LNP contexts?

3) Can we refine the statement of the requirements sufficiently to determine
the general applicability of each?

4) Can we develop a reasonable compromise solution to the requirements
addressed by two-stage invite without the liabilities presented by the
two-stage invite process?

--
Dean Willis
SIP WG cochair




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 08:02:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA20848
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 08:02:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id CDB3352BB; Fri, 26 Nov 1999 07:59:33 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 29D7552C4; Fri, 26 Nov 1999 07:59:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2635552BB
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 07:59:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 26 07:58:29 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Fri Nov 26 07:57:12 EST 1999
Received: from [212.140.107.1] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11rKxB-0006Wv-00
	for sip@lists.research.bell-labs.com; Fri, 26 Nov 1999 12:58:21 +0000
Message-ID: <00f701bf380d$ef871180$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "sip" <sip@lists.research.bell-labs.com>
Subject: CTI and CSTA Feature Sets
Date: Fri, 26 Nov 1999 12:04:56 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Dear All,

Following on the comments about which services are supported by SIP, I feel
that one area that might need more attention is that of CTI (Computer
Telephony Integration)  which is often used in call centres.  This often
uses centralised call management (so that it is easier to control what the
call logic is rather than trying to distribute it over the end systems).
This means that the call flow is controlled by a device that is not an end
system which places different burdens on the call signalling.

So:

- Is this currently fully addressed and I have just missed it (if so please
let me know where), or

- Has it not been addressed so far, but we can use the existing features of
SIP to implement what's required, or

- Do we need to address this more formally.

Thanks,

Pete

=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 08:04:55 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA21558
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 08:04:54 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0BC0252AB; Fri, 26 Nov 1999 07:59:36 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6633E52D5; Fri, 26 Nov 1999 07:59:35 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 36D6F52AB
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 07:59:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Fri Nov 26 07:58:42 EST 1999
Received: from rhenium.btinternet.com ([194.73.73.93]) by dusty; Fri Nov 26 07:57:24 EST 1999
Received: from [212.140.107.1] (helo=tkw)
	by rhenium.btinternet.com with smtp (Exim 2.05 #1)
	id 11rKxC-0006Wv-00; Fri, 26 Nov 1999 12:58:23 +0000
Message-ID: <00f801bf380d$f08bfe60$0200000a@tkw>
From: "Pete Cordell" <pete@tech-know-ware.com>
To: "Henning Schulzrinne" <schulzrinne@cs.columbia.edu>,
        "Matt Cannon" <mcannon@broadbandoffice.net>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        <sip@lists.research.bell-labs.com>
Subject: 484 Rerouting (Was: Re: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt)
Date: Fri, 26 Nov 1999 12:57:40 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 4.72.3110.1
X-MimeOLE: Produced By Microsoft MimeOLE V4.72.3110.3
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

One embellishment that may make the 484 process more efficient might be to
include an address of where subsequent INVITEs are to be sent.  This will
allow proxies that have already done their forwarding to not be involved in
subsequent lookups.  A call flow might look like:

UAC to proxy A:
    INVITE +4

Proxy A to UAC:
    484

UAC to Proxy A:
    INVITE +49

Proxy A to Proxy B:
    INVITE +49

Proxy B to Proxy A:
    484 next-lookup: Proxy B

Proxy A to UAC:
    484 next-lookup: Proxy B

UAC to Proxy B:
    INVITE +492

etc.

This does make the process more complicated, but would reduce the burden on
lookup proxies.  I think it can be an optional thing to implement as I think
it still works if a dumb proxy copies the whole 484 response to the
originator.  Elements that want to stay in the signalling path would have to
do some tweaking.

If the proxies could also specify the minimum number of digits they require
each proxy only gets about 2 hits per call, which doesn't seem too bad.
e.g.:

UAC to proxy A:
    INVITE +4

Proxy A to UAC:
    484 min-digits: 2

UAC to Proxy A:
    INVITE +49

Proxy A to Proxy B:
    INVITE +49

Proxy B to Proxy A:
    484 min-digits: 5 next-lookup: Proxy B

Proxy A to UAC:
    484 min-digits: 5 next-lookup: Proxy B

UAC to Proxy B:
    INVITE +49255

Proxy B to Proxy C:
    INVITE: +49255

Proxy C to Proxy B:
    484 min-digits: 10 next-lookup: Proxy C

Proxy B to UAC:
    484 min-digits: 10 next-lookup: Proxy C

UAC to Proxy C:
    INVITE +4925532145

You get the idea....

Pete

-----Original Message-----
From: Henning Schulzrinne <schulzrinne@cs.columbia.edu>


>Matt Cannon wrote:
>>
>
>> The thought of a large number of INVITES and 484
>> response messages flying across the network to make
>> overlap work just makes me shake my head.
>
>To get some feeling as to how bad (or not) this might be, I wonder if
>there's any sense as to the per-country variation in number length. It
>is probably reasonable for a gateway to know the minimum digit string
>length for each country, so only digits beyond that would need to be
>signaled digit-by-digit. (It is also very unlikely that the minimum will
>suddenly drop, so updates should not be an issue.) Any observations?
>
>(By the way, the 484 overlap signaling method is already in the SIP
>spec, as this topic has been around a few times...)
>
>I agree that we should avoid this as much as possible.
>--
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>
>



=============================================
Pete Cordell
pete@tech-know-ware.com
=============================================





From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 10:35:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27303
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 10:35:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 13AC652BB; Fri, 26 Nov 1999 10:33:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 88DC752C4; Fri, 26 Nov 1999 10:33:19 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6D2CF52BB
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 10:33:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 26 10:32:16 EST 1999
Received: from odisei.com ([195.78.3.169]) by dusty; Fri Nov 26 10:30:59 EST 1999
Received: from toshjhr.odisei.com (192.168.0.104) by odisei.com with SMTP
 (Eudora Internet Mail Server 2.2.2); Fri, 26 Nov 1999 16:44:40 +0100
Message-Id: <3.0.5.32.19991126163047.013ac630@mail.odisei.com>
X-Sender: Jean-Hugues@mail.odisei.com
X-Mailer: QUALCOMM Windows Eudora Light Version 3.0.5 (32)
Date: Fri, 26 Nov 1999 16:30:47 +0100
To: "Pete Cordell" <pete@tech-know-ware.com>,
        "sip" <sip@lists.research.bell-labs.com>
From: Jean-Hugues ROBERT <jhr@odisei.com>
Subject: Re: CTI and CSTA Feature Sets
In-Reply-To: <00f701bf380d$ef871180$0200000a@tkw>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

Hi,

I agree with Pete. CTI is becoming very important, not a
big call center technology anymore. We are implementing a
CSTA/VERSIT/JTAPI CTI enabled VoIP PBX and we use SIP.

One requirement of CTI is "third party control". It is
the ability to monitor and control calls & devices that
are "remote" (versus "first party control" over a locally
attached hardware resource).

On solution I can imagine with SIP as it is today is to
behave as an application proxy that receive/modify/transmit
all the signaling (and part of the media, for DTMFs...).

This may be OK for call control, not for device control
(common devices are phones, announcement, servers, mixers...).

Any advice is welcome.

Jean-Hugues ROBERT
Engineering Manager

--------------------------------------------------------------------
jhr@8x8.com        - We Serve Providers -          "Think globally.
www.8x8.com      - iPBX Hosting solutions -            Act locally."



From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 12:23:47 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19603
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 12:23:46 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4F4C352B6; Fri, 26 Nov 1999 12:21:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id BA8BB52C4; Fri, 26 Nov 1999 12:21:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CCB0152B6
	for <sip@lists.research.bell-labs.com>; Fri, 26 Nov 1999 12:21:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Fri Nov 26 12:21:02 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Fri Nov 26 12:19:44 EST 1999
Received: from zcard00n.ca.nortel.com (actually zcard00n) 
          by smtprtp1.ntcom.nortel.net; Fri, 26 Nov 1999 12:14:52 -0500
Received: from zbl6c008.corpeast.baynetworks.com ([132.245.205.58]) 
          by zcard00n.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id XHBWGXZF; Fri, 26 Nov 1999 12:14:52 -0500
Received: from msquire (extranet-139-181.corpeast.baynetworks.com [132.245.139.181]) 
          by zbl6c008.corpeast.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id WMJAG37R; Fri, 26 Nov 1999 12:14:49 -0500
Message-Id: <3.0.32.19991126120845.00b372a0@zbl6c008.corpeast.baynetworks.com>
X-Sender: msquire@zbl6c008.corpeast.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Fri, 26 Nov 1999 12:08:48 -0500
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "Schroeder, Tim" <schroeder@tri.sbc.com>
From: "Matt Squire" <msquire@nortelnetworks.com>
Subject: Re: one-way media with 183 Session Progress
Cc: sip@lists.research.bell-labs.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


>
>From a different perspective, its very difficult (actually, impossible)
>to prevent users from sending best effort traffic to each other. If you
>are just providing best effort service, why do you care that users can
>send audio back before the call is complete? If you are providing
>transport level QoS, perhaps with diffserv, there won't be per-call (let
>alone per minute) billing, so again, who cares. In the case of per-call
>resource reservation, one can reserve resources even after the call is
>completed, so again this early media is not an issue. It is an issue if,
>and only if, you charge calls per minute, provided call by call resource
>reservation, and don't want to charge for calls until they are answered.
>This is more or less the DCS assumption. In this case, the right
>approach is not to prevent early media for announcements, but rather not
>provide it the enhanced QoS service that they will pay for once the call
>is answered.
>

I'm another person that doesn't see great benefits in the early media
response.  When and how to charge for calls seems like an accouting issue
that can be handled by the billing process well after call establishment.
The fact that some media is free and some is charged doesn't seem like it
should be a signalling issue.  The signalling can support this just as easy
by carrying appropriate authorization tokens and recording them for later
record processing.  

I would think that messages sourced by providers such as 'this number is no
longer in service' would require QoS.  Will companies really accept that
these messages, which are really part of their customer interface, reach
the customer as garbled junk?  
    "Hi, you've reached XYZ.COM.  We are !#$%^& to *#^% *#(because of #@%*!"
Can't imagine that going too well with corporate bigwigs.  

- Matt




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 17:21:38 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA29639
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 17:21:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id AE0FD52D5; Fri, 26 Nov 1999 17:17:32 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D1C4D52DB; Fri, 26 Nov 1999 17:17:31 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id E32BB52B6
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 03:51:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Thu Nov 25 03:49:35 EST 1999
Received: from felix.intertex.se ([195.22.82.2]) by dusty; Thu Nov 25 03:48:17 EST 1999
Date: Thu, 25 Nov 1999 09:48:55 +0100 (CET)
From: Lars Berggren <lars@intertex.se>
To: Henning Schulzrinne <schulzrinne@cs.columbia.edu>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, archow@hss.hns.com,
        sip@lists.research.bell-labs.com,
        =?iso-8859-1?Q?Karl_Erik_St=E5hl?= <kalle@intertex.se>,
        =?iso-8859-1?Q?Henrik_Bergstr=F6m?= <henrik@intertex.se>
Subject: Re: Line Folding + Grammar strictiness {RESEND}
In-Reply-To: <383C6F67.D86F2271@cs.columbia.edu>
Message-ID: <Pine.LNX.4.02.9911250901090.704-100000@lars.intertex.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

On Wed, 24 Nov 1999, Henning Schulzrinne wrote:

> Jonathan Rosenberg wrote:
> > 
> 
> 
> > There is a general guideline about being forgiving on reception, but you
> > are correct. Really, tag should just be a token, same with Call-ID. The
> > semantics should say that they must be unique, and that a suggestion is
> > to use a UUID or something of the form id@host, but we should not impose
> > that at a syntactic level.
> > 
> 
> For the call-id, I disagree. This should be specified, since any other
> form is invalid. We want to specify a user@host form to decrease the
> likelihood of collisions. (One reason we might want to reconsider the
> Call-ID form is to avoid revealing host information, but then we better
> come up with a reasonable alternative.)
> 

There are also cases when the host part of the user@host form causes
problems when creating a globally unique id, e.g. for hosts on LANs without 
globally unique hostnames or ip-addresses.

However if such hosts is to be reached globally I believe they must have
some globally reachable sip-url (where the host part indicates some kind
of nat-sip-proxy).
Thus, I think it might be a good idea that clients without globally unique
ip-addresses constructs its Call-ID from their globally reachable sip-url
or some other unique token (given by the sysadmin) that can be configured
into the client.

For example:
Call-ID: 01002031233ad3f3f-john.doe@sip.company.com;tag=12921838
or
Call-ID:01002031233ad3f3f-john.doe-tag-12621838@sip.company.com 
(the latter following the current rfc stated syntax of Call-ID)

What about this? Is it something to add to the firewall-friendly
implementation requirements in appendix A of the rfc?

/Lars


> -- 
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> 
> 

Lars Berggren       <lars.berggren@intertex.se>
Intertex Data AB    tel: +46-8-6282828
Sundbyberg, Sweden  fax: +46-8-6286414




From owner-sip-outgoing@lists.research.bell-labs.com  Fri Nov 26 17:26:28 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA01711
	for <sip-archive@odin.ietf.org>; Fri, 26 Nov 1999 17:26:27 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id D98FE52BB; Fri, 26 Nov 1999 17:18:00 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D2F8D52AB; Fri, 26 Nov 1999 17:17:59 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 768E152DB
	for <sip@lists.research.bell-labs.com>; Thu, 25 Nov 1999 11:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Thu Nov 25 11:22:19 EST 1999
Received: from felix.intertex.se ([195.22.82.2]) by dusty; Thu Nov 25 11:21:01 EST 1999
Date: Thu, 25 Nov 1999 17:21:37 +0100 (CET)
From: Lars Berggren <lars@intertex.se>
To: Pyda Srisuresh <srisuresh@yahoo.com>
Cc: Henning Schulzrinne <hgs@cs.columbia.edu>,
        sip@lists.research.bell-labs.com,
        =?iso-8859-1?Q?Karl_Erik_St=C2hl?= <kalle@intertex.se>,
        =?iso-8859-1?Q?Henrik_Bergstr=C2m?= <henrik@intertex.se>
Subject: Re: Line Folding + Grammar strictiness {RESEND}
In-Reply-To: <19991125154426.27657.rocketmail@web1403.mail.yahoo.com>
Message-ID: <Pine.LNX.4.02.9911251711060.2719-100000@lars.intertex.se>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

On Thu, 25 Nov 1999, Pyda Srisuresh wrote:

> --- Henning Schulzrinne <hgs@cs.columbia.edu> wrote:
> > 
> > 
> > Lars Berggren wrote:
> > > 
> > 
> > > 
> > > There are also cases when the host part of the user@host form causes
> > > problems when creating a globally unique id, e.g. for hosts on LANs without
> > > globally unique hostnames or ip-addresses.
> > > 
> 
> A host must either have a globally unique name or globally unique IP address
> in order for the host to be globally accessible by external hosts.
> Hosts in private domain (say, 10.0 address space) do not have globally unique
> addresses, but can have globally unique DNS names.
> 
> > > However if such hosts is to be reached globally I believe they must have
> > > some globally reachable sip-url (where the host part indicates some kind
> > > of nat-sip-proxy).
> > > Thus, I think it might be a good idea that clients without globally unique
> > > ip-addresses constructs its Call-ID from their globally reachable sip-url
> > > or some other unique token (given by the sysadmin) that can be configured
> > > into the client.
> 
> I dont see a problem with the current SIP URL, as this does allow for
> idetifying a host by name. 
> 

I didn't say that there was a problem with the sip-url, rather I said the
sip-url was the solution for a 10.x.x.x-host when constructing the
Call-ID.

> > > 
> > > For example:
> > > Call-ID: 01002031233ad3f3f-john.doe@sip.company.com;tag=12921838
> > > or
> > > Call-ID:01002031233ad3f3f-john.doe-tag-12621838@sip.company.com
> > > (the latter following the current rfc stated syntax of Call-ID)
> > > 
> > > What about this? Is it something to add to the firewall-friendly
> > > implementation requirements in appendix A of the rfc?
> > > 
> > 
> Of the two examples you gave,  how does the former offer any advantage 
> over the latter for a 10.0 host? How is it more firewall/NAT friendly
> than the other? Thanks.

Didn't say that one example was more firewall-friendly than the other.
These two examples were just examples of how a Call-ID might look like if
they were constructed from a sip-url of a 10.x.x.x-host.

Note that the 'sip.company.com' is the name of the firewall and is used to
form a global sip-url to a host without unique address behind the
firewall.

> 
> > I'm not sure that making the Call-ID more complicated is all that
> > helpful, since it is after all (mostly) an opaque identifier. The local
> > part is supposed to be globally unique all by itself, with the host part
> > adding a layer of "insurance" that makes it safe to use mainly
> > time-based identifiers as the local part.
> > 
> > For those with non-globally-unique addresses, there is a potential
> > problem only if they use a 10.x.x.x address. (Even in that case, the
> > likelihood of bad consequences is probably small.) Otherwise, if they
> > use a host name, that host is not likely to be pingable or resolvable
> > via DNS, but probably unique.
> > 
> > Thus, I would suggest leaving things as is. It doesn't seem to be broken
> > and I'm reluctant to add complexity if I can help it.
> > 
> 
> I agree.
> 
> > Henning
> > 
> > 
> 
> regards,
> suresh
> __________________________________________________
> Do You Yahoo!?
> Thousands of Stores.  Millions of Products.  All in one place.
> Yahoo! Shopping: http://shopping.yahoo.com
> 
> 

Lars Berggren       <lars.berggren@intertex.se>
Intertex Data AB    tel: +46-8-6282828
Sundbyberg, Sweden  fax: +46-8-6286414




From owner-sip-outgoing@lists.research.bell-labs.com  Sat Nov 27 22:10:02 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA22501
	for <sip-archive@odin.ietf.org>; Sat, 27 Nov 1999 22:10:02 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0D33052B6; Sat, 27 Nov 1999 22:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7253852C4; Sat, 27 Nov 1999 22:07:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 3409E52B6
	for <sip@lists.research.bell-labs.com>; Sat, 27 Nov 1999 22:07:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Sat Nov 27 22:05:23 EST 1999
Received: from alpha.mcit.com ([199.249.19.243]) by dusty; Sat Nov 27 22:04:02 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-32 #38416)
 with ESMTP id <0FLW000NK0KWY5@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Sun, 28 Nov 1999 03:05:20 +0000 (GMT)
Received: from omta1.mcit.com (omta1.mcit.com [166.37.204.2])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id DAA00187 for
 <sip@lists.research.bell-labs.com>; Sun, 28 Nov 1999 03:03:28 +0000 (GMT)
Received: from dwillispc4 ([166.44.155.248])
 by omta1.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991128030422.JAEB847@dwillispc4> for
 <sip@lists.research.bell-labs.com>; Sat, 27 Nov 1999 21:04:22 -0600
Date: Sat, 27 Nov 1999 21:07:36 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: Draft Minutes of SIP WG at IETF 46
To: IETF SIP <sip@lists.research.bell-labs.com>
Message-id: <000001bf394d$b8c44a00$f89b2ca6@dwillispc4>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

The following are draft minutes of the SIP Working group meetings at IETF
46. Please submit
corrections to dean.willis@wcom.com. I hope to release final minutes by Dec.
2.

An HTML version is available at:
http://www.softarmor.com/sipwg/meets/IETF46/notes/minutes.htm

-------------------------------------------
Draft Minutes, SIP Working Group at IETF 46

The SIP Working Group met in conjunction with the 46th meeting of the IETF
in Washington DC on November 8 and 10, 1999. There were two standard
sessions, both of which were well attended (app. 200 persons), with very
full agendas. In addition to ongoing working group efforts, seventeen
Internet drafts were presented and discussed.

First Session, Monday November 8 0930-1130
------------------------------------------

Topic: Agenda Bashing, Current Work, WG Charter Review, presented by WG
chairs

Dean Willis discussed the agenda, with no objections being raised. Jonathan
discussed current mailing list topics including call termination procedures
(cancel vs. bye) and feature availability headers
(Supported/Unsupported/Desired/Required). The meeting consensus appeared to
be that the apparent consensus reached on the mailing list with respect to
bye and cancel overlaps is adequate for most cases of overlapping cancel/OK.
We expect this to be clarified in the next SIP specification document. There
seemed to be good consensus on the semantic range of feature availability
using the four headers (Supported/Unsupported to describe availability,
Desired/Required to describe rigidity of need). Further discussion of this
topic is required on-list. Jonathan also introduced the concept of
content-disposition for SIP message bodies. It may be that this mechanism
can be adopted from HTTP to address the application semantics of SIP. We
probably need a volunteer to analyze the HTTP usage and suggest
applicability for SIP.


Topic: SIP INFO Method, presented by Steve Donovan
draft-ietf-sip-info-method-00.txt

This is a WG charter item. The draft is fairly mature, and there is a strong
consensus to adopt the INFO method as a SIP component. There wseemed to be a
good consensus to publish as an extension to SIP rather than including INFO
in the base spec at this time. The author agreed to finalize the draft with
this intent (address nits) and resubmit it with the intent of moving rapidly
to a WG last call.


Topic: ISUP bodies for SIP messages, presented by Eric Zimmerrer
draft-zimmerer-sip-isup-mime-00.txt

Yet another MIME encoding for ISUP messages. No clear consensus has been
reached. We propose that the authors of the various approaches get together
and come up with a commom approach. Tom Taylor noted that some sort of
version information in the encoding would be very helpful.


Topic: SIP BCP Draft, presented by Eric Zimmerer
draft-zimmerer-mmusic-sip-bcp-t-00.txt

The draft discusses a SIP-PSTN interworking methodology. Discussion centered
on limitations of the approach (for example, forking is not addressed and
may be precluded). The opinion appeared to be that the work, while
informational, may not yet constitute as "best current practice" as it does
not seem to have been actually implemented anywhere. Jonathan Rosenburg
called for input as to whether the SIP WG is the appropriate place to carry
this work forward, with other alternatives including a specialized working
group or an implementor's forum. Lawrence Conroy noted that there are really
two pieces of work here -- a set of extensions to SIP, and a profile of SIP
usage for telephony interworking, and that it should be possible to
decompose the work along these lines. In the interest of preserving the
agenda, further discussion was deferred to the WG list.

Topic: SIP-ISUP Mapping, presented by Gonzalo Camarillo
draft-camarillo-mmusic-sip-isup-bcp-00.txt

This draft deals with SG-MGC-MG architectures and the interworking between
an MGC and a SIP UA, specifically with message flows for calls in both
directions and parameter mappings. Gonzalo proposes that advanced ISUP
feature mapping can be vendor specific -- and that we need standardization
only on basic aspects. Accordingly, the draft is based on Q.767 rather than
Q.763. Discussion centered on issue of coordination of work on mapping and
references used. There may also be an need to clarify legal requirements on
the GSTN side. There were no substantive disagreements voiced with the
approach taken in the draft.

Topic: QSIG body for SIP messages, presented by Lyndon Ong
draft-ong-sip-qsig-mime-00.txt

QSIG is essentially a suite of eer-to-peer protocols between PBXs used for
feature signalling. The draft proposed a MIME encoding for QSIG and
transport of the MIME encodings as SIP message bodies, with call flows and
examples various examples. There was some discussion of the similarity
between the QSIG and ISUP aproaches, with Henry Sinnreich asking if the
various related drafts could be unified. Jonathan Rosenburg commented that
the interworking difficulties not so obvious with ISUP, because of QSIG vs.
SIP feature interactions, and that there are interesting situations that
might occur when working between telephony and non-telephony endpoints, with
QSIG transport less likely to be general-purpose because of its more direct
conflict with SIP role. David Oran noted that QSIG in H.323 led to trouble,
with customers requiring H.323 awareness of some features. Christian Huitema
stated that awareness of the QSIG features in SIP collides directly with the
purpose and transparency requirement of SIP. The basic consensus is that the
approach for MIME types for ISUP, QSIG, etc. should be unified, and that
QSIG interworking is a separate issue. The WG did not state an opinion on
the need to carry out this interowking effort, with further discussion
deferred to the list.


Topic: SIP Call Flows, presented by Robert Sparks and Alan Johnston
draft-johnston-sip-call-flows-00.txt
draft-sparks-sip-service-examples-00.txt

These two documents contain several hundred pages of detailed call flows
showing a variety of SIP and SIP-PSTN sessions. The consensus of the group
was that this is a critical contribution, and that the WG should adopt a
call flow document as an ongoing effort. During the remainder of the
meeting, several requests were made to add specific scenarios or feature
invocations to the anthology. Jonathan Rosenburg proposed that these
documents be combined with the test cases from the bake-offs into an
informational RFC for issuance in January. This proposal received a loud hum
of consensus.


Topic: Intelligent Network Application Part (INAP) in SIP, presented by
Frans Haerens
draft-haerens-sip-inap-00.txt

This draft discusses approaches for exercising IN applications from SIP
devices. It was noted by Jonathan Rosenburg to have some commonalities with
a Lucent draft presented last year and that it might be possible to combine
the efforts. One speaker noted a strong overlap with SPIRITS work, but it
was noted that there is a need to fill in SIP as such as registration
outside of SPIRITS. Jonathan noted that there had been discussion in the
IPTEL meeting about a perceived lack of IN expertise in the IETF, making the
IETF an inappropriate forum for this sort of work. Jonathan whether the SIP
group feels moe confident in this effort. After some noncommital rsponses,
Dean Willis suggested that this conversation could move to the list, which
seemed to stimulate the conversation. Paul proposed that this task is
equivalent to the ISUP mapping work, only this for INAP, and is therefore as
appropriate in IETF as is ISUP mapping. Lawrence Conroy suggested that ITU
SG-11 might be addressing the topic, and suggested submitting the draft
there as well. Lawrence futher proposed that mapping to INAP should be done
in ITU/ETSI, but that they moght not understand SIP well enough to do it
right. Chip raised the question -- with respect to INAP mapping, what does
the author asking this WG? The respnse is that the SIP WG would address the
SIP enhancements needed to support INAP. Chip inquired as to what forum
would work the protocol between the softSSF and SIP Proxy, and was told that
it is not currently being worked. One speaker noted that third-party call
control is being worked in IPTEL using CPL, raising the question as to
whether multiple approaches are needed. Jonathan Rosenburg responded that
the IN approach has value, but fails in different architectural contexts
than the CPL approach, and that each should be used approporiately.


Second Session, Wednesday November 10, 1300-1500
------------------------------------------------

Topic: Caller Preferences, presented by Jonathan Rosenberg
draft-ietf-sip-callerprefs-00.txt

Jonathan presented the current state of work on caller preferences. The open
issues include:
relationship with CPL: has description now
how to reconcile conflicts between CPL and caller preferencs, options
including 1) let proxies decide, 2) view both CPL and caller preferences as
hints, etc. Scott Petrack suggested that caller preferences take precedence.
syntax for capabilities. Can we use the CONNEG work?
IANA procedure for registering new capabilities. Joerg Ott suggested we may
wish to impose constraints or require documentation
what additional capabilities should go into the baseline spec?
One speaker asked about interaction with the DCS no-ring proposal. Jonathan
sees the situations as different, whereas KK sees possibility of an overlap.
Further discussion appears warranted.


Topic: SIP Session Timer, presented by Steve Donovan
draft-ietf-sip-session-timer-00.txt

The session timer was presented in Oslo, with consensus to proceed. The
current draft is quite mature. Discussion centered on whether to include
this in the base spec or consider it an extension. By using the
requires/supported approach, it could be made a separable extension. The
consensus was to republish with this detail and nits corrected and proceed
to WG last call as soon as possible.


Topic: Early Media in Provisional Responses (183), presented by Steve
Donovan
draft-ietf-sip-183-00.txt 0:15 Steven.R.Donovan@wcom.com

An earlier version of this draft was presented in Oslo, with consensus to
proceed. This draft realy includes two different elements which are needed
for certain telephony interworking cases. One element is the addition of
MIME bodies to provisional (1xx class) messages. This appears to have broad
utility to other applications as well, but has a dependency on reliable
provisional messages. The other element is the addition of a new method to
indicate call progress. It was noted that 183 has been allocated, so a new
number would need to be selected for the proposed feature. No consensus was
reached as to whether each element should be included in base or prublished
as an extension. One suggestion made was to divide the document into two
discrete drafts and develop the elements separately. No conclusion was
reached as to how to proceeed, and discussion was deferred to the list.


Topic: Interdomain SIP, QOS, and OSP presented by Henry Sinnreich
draft-sinnreich-interdomain-sip-qos-osp-00.txt

This document covers an interesting interdisciplinary approach to dealing
with QoS, reporting, and settlement issues for SIP sessions crossing two or
more carriers.
David Oran noted that the media path is not the same as the signaling path,
which raises the question of how a SIP proxy knows which router to go to.
This apparently is unresolved in DCS as well. Jonathan noted that mix of
protocols suggests trotting through a series of WGs, but that this is not
truly a SIP WG item because no SIP changes are proposed. KK suggested that
there is a large community of interest here, which led Jonathan to suggest a
joint WG meeting as an option. Discussion on how to contniue this work was
deferred to the list. One speaker suggested adding these examples to the
call flows draft. Steve Donovan noted the open SIP question of when to
trigger QOS -- a SIP extension may be neeeded for this.


Topic: Using SIP with MPLS for QOS Reservations, presented by Mark Gibson
and Jon Crowcroft
draft-gibson-sip-qos-resv-00.txt

This draft suggests a novel use of modified SIP with a route header to probe
for and establish MPLS paths. As this is interdisciplinary with MPLS, no
consensus was reached to move forward with this as a SIP WG effort.


Topic: Usages of the SIP INFO Method such as DTMF presented by Jiri Kuthan
draft-kuthan-sip-infopayload-00.txt

This draft discussed usage of the INFO method for transporting a variety of
things including mid-call signaling, DTMF, and ohers, and proposed means for
enhancing reliability and in-order delivery. Discussion rapidly devolved to
a moderately heated exchange on DTMF-in-RTP vs DTMF-in-INFO, with no
conclusion reached.


Topic: Authentication through Multiple Proxies, presented by Robert Sparks
draft-sparks-sip-multiproxy-auth-00.txt

This draft discussed approaches for allowing multiple proxies to challenge a
SIP method. It appears that this can be accomplished via a slight
clarification of the response syntax and some discussion of proxy behavior
without impacting the current SIP specification. These can be included in
the next SIP draft. However, implications of hop-by-hop vs. end-to-en
security remain to be considered.


Topic: Host Mobility Management Protocol with SIP presented by Faramak Vakil
draft-itsumo-hmmp-00.txt

This draft proposes extensions to SIP needed to support a host mobility
management protocol potentially usful in 3G wireless and other environments.
Further discussion is needed as to whether this work should be addressed in
the SIP WG.


Topic: SIP Servlet API presneted by Anders Kristensen
draft-kristensen-sip-servlet-00.txt

The SIP Servlet approach is promising for development of SIP srvices using
Java. Discussion centered on finding an appropiate forum for further work,
as there appeared to be a general consensus (reinforced by an area director)
that the IETF is not an appropriate forum to refine software APIs. The
proposal was made an accepted to establish a new mailing list for further
discussion.

--
Dean Willis
SIP WG cochair




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 28 20:31:58 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA19836
	for <sip-archive@odin.ietf.org>; Sun, 28 Nov 1999 20:31:57 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2556552BB; Sun, 28 Nov 1999 20:29:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 7D1CF52C4; Sun, 28 Nov 1999 20:29:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0DE3452BB
	for <sip@lists.research.bell-labs.com>; Sun, 28 Nov 1999 20:29:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 28 20:28:23 EST 1999
Received: from smtp10.atl.mindspring.net ([207.69.200.246]) by dusty; Sun Nov 28 20:27:03 EST 1999
Received: from paris.mds.local (user-2ivf06l.dialup.mindspring.com [165.247.128.213])
	by smtp10.atl.mindspring.net (8.9.3/8.8.5) with ESMTP id UAA26438;
	Sun, 28 Nov 1999 20:28:17 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id UAA06529;
	Sun, 28 Nov 1999 20:28:04 -0500
Message-ID: <01b601bf3a08$f9f18e50$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Tom-PT Taylor" <taylor@nortelnetworks.com>,
        "sip" <sip@lists.research.bell-labs.com>
References: <C51ED84B6F47D211917A0000F8BCBD110237EF0A@zcard00g.ca.nortel.com>
Subject: Re: Please push the pound key ( was RE: Comments on draft-camarillo-mmusic-sip-isup-bcp-00.txt)
Date: Sun, 28 Nov 1999 20:27:53 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01B3_01BF39DF.0C5FD300"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_01B3_01BF39DF.0C5FD300
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

RE: Please push the pound key ( was RE: Comments on =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)Tom,

Your point here is one that I have tried to make several times.  The =
answer I have consistently received is that the IETF is in the business =
of designing protocols, not architectures.

The fact is that without a well-defined VoIP architecture in the IETF, =
it is going to be very hard to meet the needs... because, what are the =
needs?

TIPHON and ITU-T have worked hard on integrating IP/ATM networks with =
the PSTN.  Now, TIPHON is examining pure IP to IP solutions and the =
ITU-T is adding new features to H.323 to make it a better IP service =
platform, including HTTP-based service control.  The two organizations =
are also working cooperatively on user and service mobility within =
H.323.

This type of effort-- both on the protocol side and the architectural =
and requirements side-- are essential to the success of any protocol.  =
As a result, H.323 has been successful.

SIP is missing a lot of what H.323 has.  To be fair, I would say H.323 =
has a lot that SIP does not need, as well.

What was once a protocol to initiate a simple session has been touted as =
the solution for telephony, but questions are being raised about its =
utility in that space.  The missing functionality may be very difficult =
to put back into this protocol (or complementary or replacement =
protocols) if we do not have a good understanding of the requirements =
and VoIP architecture.  The end result may be a solution that is no =
better than H.323.  Why waste time re-inventing if we cannot improve?

The IETF can continue to define protocols without requirements and =
architecture documents, but I question how successful it can be in the =
marketplace without such documents.  What, exactly, are we trying to =
achieve with SIP?

Paul

  ----- Original Message -----=20
  From: Tom-PT Taylor=20
  To: sip=20
  Sent: Tuesday, November 23, 1999 2:21 PM
  Subject: RE: Please push the pound key ( was RE: Comments on =
draft-camari llo-mmusic-sip-isup-bcp-00.txt)


  Fact is, a lot of European phones don't have such a key.=20

  Seriously, what we need is to thrash out an IETF view of the =
architecture for IP Telephony.  This could include views on how to make =
the transition between the legacy GSTN and the SIP network of the =
future, both spatially (between islands) and temporally (making the new =
islands grow).  For the issue at hand, this exercise would delineate the =
situations where overlap outpulsing has to be supported and make =
recommendations on the protocols to be used (not necessarily SIP if =
there's no intent to take advantage of the new possibilities added by =
SIP).

  Sounds like what TIPHON is doing, but they were handicapped by =
starting with an assumed protocol.  Are we going to do that again or =
learn from their two years of thrashing?

    -----Original Message-----=20
    From:   David R. Oran [SMTP:oran@cisco.com]=20
    Sent:   Tuesday, November 23, 1999 9:53 AM=20
    To:     Lawrence Conroy; sip=20
    Subject:        RE: Please push the pound key ( was RE: Comments on  =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)=20

    OK, that's not so bad as what might happen 'way down south on this =
side of=20
    the pond if the message said "press the HASH key".=20

    Or how many people would freeze and say "duh?" if the message said =
"press=20
    the octothorpe key".=20

    Gee, maybe that last is a good idea, because while the poor sod sits =

    wondering what the f... an octothorpe is, the digit timer would have =
expired=20
    and the call completed!=20

    Dave.=20

    > -----Original Message-----=20
    > From: owner-sip@lists.research.bell-labs.com=20
    > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of =
Lawrence=20
    > Conroy=20
    > Sent: Tuesday, November 23, 1999 8:32 AM=20
    > To: sip@lists.research.bell-labs.com=20
    > Subject: Re: Please push the pound key ( was RE: Comments on=20
    > draft-camarillo-mmusic-sip-isup-bcp-00.txt)=20
    >=20
    >=20
    > >Please forgive me for "not getting it", but why can things not be =
kept=20
    > >simple along the reasoning by Matt Cannon and others: If an IP =
telephony=20
    > >gateway terminates calls to a PSTN network with numbering plans =
having=20
    > >different digit string lengths, it can just insert a voice=20
    > message: "Please=20
    > >push the pound key when you have finished dialing". Are there=20
    > any problems=20
    > >with this approach?=20
    > >=20
    > >Thanks, Henry=20
    > >=20
    > Hello all,=20
    >   Amusing as this particular discussion is, I do wonder what most=20
    > of the people=20
    > over here in the U.K. would think if they heard such an =
announcement.=20
    > If they aren't on strike, I'd dearly love to hear BT's call center =
agents=20
    > explaining that the "pound" key is not one with a Sterling symbol =
on it.=20
    >=20
    > All the best, Lawrence=20
    > =
-----------------------------------------------------------------------=20
    > | Lawrence Conroy,    | "These Opinions must be mine, 'cos if they =
   |=20
    > | Roke Manor Research |  were my Company's they'd pay me for them" =
   |=20
    > |- lwc@roke.co.uk  ---+- Tel: +44 1794 833666  Fax: +44 1794 =
833434 --|=20
    >=20
    >=20
    >=20




------=_NextPart_000_01B3_01BF39DF.0C5FD300
Content-Type: text/html;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>RE: Please push the pound key ( was RE: Comments on =
draft-camarillo-mmusic-sip-isup-bcp-00.txt)</TITLE>
<META content=3D"text/html; charset=3Dwindows-1252" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2919.6307" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial>Tom,</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>Your point here is one that I have tried to make =
several=20
times.&nbsp; The answer I have consistently received is that the IETF is =
in the=20
business of designing protocols, not architectures.</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>The fact is that without a well-defined VoIP =
architecture=20
in the IETF,&nbsp;it is&nbsp;going to be very hard to meet the needs... =
because,=20
what are the needs?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>TIPHON and ITU-T have worked hard on integrating =
IP/ATM=20
networks with the PSTN.&nbsp; Now, TIPHON is examining pure IP to IP =
solutions=20
and the ITU-T is adding new features to H.323 to make it a better IP =
service=20
platform, including HTTP-based service control.&nbsp; The two=20
organizations&nbsp;are also working cooperatively on user and service =
mobility=20
within H.323.</FONT></DIV>
<DIV><FONT face=3DArial></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial>This type of effort-- both on the protocol side =
and the=20
architectural and requirements side-- are essential to the success of =
any=20
protocol.&nbsp; As a result, H.323 has been successful.</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>SIP is missing&nbsp;a lot of what H.323 =
has.&nbsp;&nbsp;To=20
be fair, I would say H.323 has a lot that SIP does not need, as=20
well.</FONT></DIV>
<DIV><FONT face=3DArial></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial>
<DIV><FONT face=3DArial>What was once a protocol to initiate a simple =
session has=20
been touted as the solution for telephony, but questions are being =
raised about=20
its utility in that space.&nbsp;&nbsp;The missing functionality may be =
very=20
difficult to put back into this protocol (or complementary or =
replacement=20
protocols) if we do not have a good understanding of the requirements =
and VoIP=20
architecture.&nbsp; The end result may be a solution that is no better =
than=20
H.323.&nbsp; Why waste time re-inventing if we cannot =
improve?</FONT></DIV>
<DIV>&nbsp;</DIV></FONT></DIV>
<DIV><FONT face=3DArial>The IETF can continue to define&nbsp;protocols =
without=20
requirements and architecture documents, but&nbsp;I question how =
successful it=20
can be in the marketplace without such documents.&nbsp; What, exactly, =
are we=20
trying to achieve with SIP?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial>Paul</FONT></DIV>
<DIV>&nbsp;</DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #000000 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px; PADDING-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt arial; font-color: =
black"><B>From:</B>=20
  <A href=3D"mailto:taylor@nortelnetworks.com"=20
  title=3Dtaylor@nortelnetworks.com>Tom-PT Taylor</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>To:</B> <A=20
  href=3D"mailto:sip@lists.research.bell-labs.com"=20
  title=3Dsip@lists.research.bell-labs.com>sip</A> </DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Sent:</B> Tuesday, November 23, =
1999 2:21=20
  PM</DIV>
  <DIV style=3D"FONT: 10pt arial"><B>Subject:</B> RE: Please push the =
pound key (=20
  was RE: Comments on draft-camari llo-mmusic-sip-isup-bcp-00.txt)</DIV>
  <DIV><BR></DIV>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>Fact is, a lot of =
European phones=20
  don't have such a key.</FONT> </P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>Seriously, what we need =
is to thrash=20
  out an IETF view of the architecture for IP Telephony.&nbsp; This =
could=20
  include views on how to make the transition between the legacy GSTN =
and the=20
  SIP network of the future, both spatially (between islands) and =
temporally=20
  (making the new islands grow).&nbsp; For the issue at hand, this =
exercise=20
  would delineate the situations where overlap outpulsing has to be =
supported=20
  and make recommendations on the protocols to be used (not necessarily =
SIP if=20
  there's no intent to take advantage of the new possibilities added by=20
  SIP).</FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2>Sounds like what TIPHON =
is doing, but=20
  they were handicapped by starting with an assumed protocol.&nbsp; Are =
we going=20
  to do that again or learn from their two years of =
thrashing?</FONT></P>
  <UL>
    <P><FONT face=3DArial size=3D1>-----Original Message-----</FONT> =
<BR><B><FONT=20
    face=3DArial size=3D1>From:&nbsp;&nbsp;</FONT></B> <FONT =
face=3DArial size=3D1>David=20
    R. Oran [SMTP:oran@cisco.com]</FONT> <BR><B><FONT face=3DArial=20
    size=3D1>Sent:&nbsp;&nbsp;</FONT></B> <FONT face=3DArial =
size=3D1>Tuesday,=20
    November 23, 1999 9:53 AM</FONT> <BR><B><FONT face=3DArial=20
    size=3D1>To:&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> <FONT face=3DArial=20
    size=3D1>Lawrence Conroy; sip</FONT> <BR><B><FONT face=3DArial=20
    =
size=3D1>Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B> =
<FONT=20
    face=3DArial size=3D1>RE: Please push the pound key ( was RE: =
Comments on&nbsp;=20
    draft-camarillo-mmusic-sip-isup-bcp-00.txt)</FONT> </P>
    <P><FONT face=3DArial size=3D2>OK, that's not so bad as what might =
happen 'way=20
    down south on this side of</FONT> <BR><FONT face=3DArial =
size=3D2>the pond if=20
    the message said "press the HASH key".</FONT> </P>
    <P><FONT face=3DArial size=3D2>Or how many people would freeze and =
say "duh?" if=20
    the message said "press</FONT> <BR><FONT face=3DArial size=3D2>the =
octothorpe=20
    key".</FONT> </P>
    <P><FONT face=3DArial size=3D2>Gee, maybe that last is a good idea, =
because=20
    while the poor sod sits</FONT> <BR><FONT face=3DArial =
size=3D2>wondering what=20
    the f... an octothorpe is, the digit timer would have expired</FONT> =

    <BR><FONT face=3DArial size=3D2>and the call completed!</FONT> </P>
    <P><FONT face=3DArial size=3D2>Dave.</FONT> </P>
    <P><FONT face=3DArial size=3D2>&gt; -----Original =
Message-----</FONT> <BR><FONT=20
    face=3DArial size=3D2>&gt; From: =
owner-sip@lists.research.bell-labs.com</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt; [<U></U></FONT><U><FONT =
color=3D#0000ff=20
    face=3DArial size=3D2><A=20
    =
href=3D"mailto:owner-sip@lists.research.bell-labs.com">mailto:owner-sip@l=
ists.research.bell-labs.com</A>]On</FONT></U><FONT=20
    face=3DArial size=3D2> Behalf Of Lawrence</FONT> <BR><FONT =
face=3DArial=20
    size=3D2>&gt; Conroy</FONT> <BR><FONT face=3DArial size=3D2>&gt; =
Sent: Tuesday,=20
    November 23, 1999 8:32 AM</FONT> <BR><FONT face=3DArial =
size=3D2>&gt; To:=20
    sip@lists.research.bell-labs.com</FONT> <BR><FONT face=3DArial =
size=3D2>&gt;=20
    Subject: Re: Please push the pound key ( was RE: Comments on</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt;=20
    draft-camarillo-mmusic-sip-isup-bcp-00.txt)</FONT> <BR><FONT =
face=3DArial=20
    size=3D2>&gt;</FONT> <BR><FONT face=3DArial size=3D2>&gt;</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt; &gt;Please forgive me for "not getting =
it", but why=20
    can things not be kept</FONT> <BR><FONT face=3DArial size=3D2>&gt; =
&gt;simple=20
    along the reasoning by Matt Cannon and others: If an IP =
telephony</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt; &gt;gateway terminates calls to =
a PSTN=20
    network with numbering plans having</FONT> <BR><FONT face=3DArial =
size=3D2>&gt;=20
    &gt;different digit string lengths, it can just insert a =
voice</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt; message: "Please</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt; &gt;push the pound key when you have =
finished=20
    dialing". Are there</FONT> <BR><FONT face=3DArial size=3D2>&gt; any=20
    problems</FONT> <BR><FONT face=3DArial size=3D2>&gt; &gt;with this=20
    approach?</FONT> <BR><FONT face=3DArial size=3D2>&gt; &gt;</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt; &gt;Thanks, Henry</FONT> <BR><FONT =
face=3DArial=20
    size=3D2>&gt; &gt;</FONT> <BR><FONT face=3DArial size=3D2>&gt; Hello =
all,</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt;&nbsp;&nbsp; Amusing as this =
particular=20
    discussion is, I do wonder what most</FONT> <BR><FONT face=3DArial =
size=3D2>&gt;=20
    of the people</FONT> <BR><FONT face=3DArial size=3D2>&gt; over here =
in the U.K.=20
    would think if they heard such an announcement.</FONT> <BR><FONT =
face=3DArial=20
    size=3D2>&gt; If they aren't on strike, I'd dearly love to hear BT's =
call=20
    center agents</FONT> <BR><FONT face=3DArial size=3D2>&gt; explaining =
that the=20
    "pound" key is not one with a Sterling symbol on it.</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt;</FONT> <BR><FONT face=3DArial =
size=3D2>&gt; All the best,=20
    Lawrence</FONT> <BR><FONT face=3DArial size=3D2>&gt;=20
    =
-----------------------------------------------------------------------</=
FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt; | Lawrence =
Conroy,&nbsp;&nbsp;&nbsp; |=20
    "These Opinions must be mine, 'cos if they&nbsp;&nbsp;&nbsp; =
|</FONT>=20
    <BR><FONT face=3DArial size=3D2>&gt; | Roke Manor Research |&nbsp; =
were my=20
    Company's they'd pay me for them"&nbsp;&nbsp;&nbsp; |</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt; |- lwc@roke.co.uk&nbsp; ---+- Tel: +44 =
1794=20
    833666&nbsp; Fax: +44 1794 833434 --|</FONT> <BR><FONT face=3DArial=20
    size=3D2>&gt;</FONT> <BR><FONT face=3DArial size=3D2>&gt;</FONT> =
<BR><FONT=20
    face=3DArial size=3D2>&gt;</FONT> =
</P><BR></UL></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_01B3_01BF39DF.0C5FD300--




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 28 20:55:42 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA25604
	for <sip-archive@odin.ietf.org>; Sun, 28 Nov 1999 20:55:41 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 4F0E352B6; Sun, 28 Nov 1999 20:53:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9A02C52C4; Sun, 28 Nov 1999 20:53:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 6622F52B6
	for <sip@lists.research.bell-labs.com>; Sun, 28 Nov 1999 20:53:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 28 20:51:53 EST 1999
Received: from smtp6.mindspring.com ([207.69.200.110]) by dusty; Sun Nov 28 20:50:32 EST 1999
Received: from paris.mds.local (user-2ivf06l.dialup.mindspring.com [165.247.128.213])
	by smtp6.mindspring.com (8.9.3/8.8.5) with ESMTP id UAA21711;
	Sun, 28 Nov 1999 20:51:35 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id UAA06609;
	Sun, 28 Nov 1999 20:51:18 -0500
Message-ID: <01cc01bf3a0c$3b2fcc30$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Gregory D. Girard" <ggirard@mediaone.net>,
        "Pete Cordell" <pete@tech-know-ware.com>,
        "Henry Sinnreich" <henry.sinnreich@wcom.com>,
        "Michael A. Ramalho" <mramalho@cisco.com>
Cc: <sip@lists.research.bell-labs.com>
References: <4.1.19991123195222.00adb530@localhost>
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways - ouch!)
Date: Sun, 28 Nov 1999 20:51:03 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Michael,

That's a pretty harsh attack!

The Internet was not Dead on Arrival, because it was something new and
different-- there was no legacy that the general public needed to support.

What he was saying is that his customers that currently have a telephone do
not want to give up any functionality.  If the new "IP telephony" gadgets
don't provide his customers with the same (or better) features as their
current "PSTN telephony" gadgets-- they don't want them.  If his research is
correct and SIP doesn't meet his needs, guess what?

By the same token, I would not necessarily advocate re-inventing the same
features as the PSTN.  I would, however, advocate improving upon them.
Perhaps he feels that SIP does not improve over the features of the PSTN.

Greg, can you elaborate on what functionality you see missing?

Paul

----- Original Message -----
From: "Michael A. Ramalho" <mramalho@cisco.com>
To: "Gregory D. Girard" <ggirard@mediaone.net>; "Pete Cordell"
<pete@tech-know-ware.com>; "Henry Sinnreich" <henry.sinnreich@wcom.com>
Cc: <sip@lists.research.bell-labs.com>
Sent: Tuesday, November 23, 1999 11:02 PM
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways -
ouch!)


> Greg,
>
> I guess that since the Internet has functionality above the PSTN
> that it would have been Dead-on-Arrival too?
>
> Seems odd to me that you are commenting on an IETF list.
>
> Lets get real here .... your customers would have NEVER given
> you feedback on ICQ (e.g., AOL IM or Yahoo Messenger) a
> few years ago. Why ... because they didn't know what these
> new features could do for them.
>
> The Internet provides lots of services that can be used in concert
> with real-time transport (e.g., telephony apps) ... probably the most
> user impacting apps have not yet been written! ... but we desire an
> architecture that enables them.
>
> If you really feel this way .... that we are brain-dead for not
replicating
> EVERY functionality of the PSTN in the IDENTICAL manner the PSTN
> implements them .... I have to wonder what you are doing here?
>
> (He tried to say in as nice a way as possible),
>
> Michael Ramalho
>
>
> At 06:23 PM 11/23/99 -0500, Gregory D. Girard wrote:
> >Hey Pete, you hit the nail on the head in your comments below. I've done
the
> >analysis. I've spoken to the customers. We (Iperia) have relationships
with
> >all major gateway manufacturers. The message is crystal clear that SIP
(Or
> >its replacement/adjunct) must cover the basics before any fancy stuff
even
> >matters a damn to anyone anywhere. If SIP can't duplicate legacy for
> >starters, it Dead on Arrival and will belong in the archives of great
> >intellectual achievements that never made it commerically, right up there
> >with the H.324 videophone stuff where the bottom fell out about a year
ago.
> >
> >Greg Girard
> >
> >-----Original Message-----
> >From: Pete Cordell <pete@tech-know-ware.com>
> >To: Henry Sinnreich <henry.sinnreich@wcom.com>
> >Cc: sip@lists.research.bell-labs.com <sip@lists.research.bell-labs.com>
> >Date: Tuesday, November 23, 1999 12:30 PM
> >Subject: Note to Henry (Was: Re: DTMF signaling between media gateways -
> >ouch!)
> >
> >
> >>Sorry for busting ya party Henry.  I didn't realise a personal
invitation
> >>was required.
> >>
> >>Trouble is, I don't see any point inventing fan-dabby-doozo new services
if
> >>the basics are not covered off.  I reckon that 80% of calls even in the
> >>brave new world of SIP will never go any where near any fancy services.
> >>Degrading the basic call experience in these cases so that we can add a
few
> >>extra services does not make sense to me.  From a US perspective I can
see
> >>this issue is not a big problem, but globally I think you would be
> >>committing suicide if this is not catered for.  Sure, if we could say
this
> >>can be handled by the gateways that would be great, but my analysis (and
> >I'm
> >>quite happy for others to prove me wrong) shows that it can't be.
> >>Unfortunately, that means that SIP has to tackle it.
> >>
> >>Sorry for not proving to be entertaining, but in reality Jonathan's last
> >>e-mail seems to be pretty much there in terms of crystallising what
needs
> >to
> >>be said.  Let's finish it off.  I too will then be pleased to see this
> >>thread end!
> >>
> >>Pete
> >>
> >>=============================================
> >>Pete Cordell
> >>pete@tech-know-ware.com
> >>=============================================
> >>
> >>-----Original Message-----
> >>From: Henry Sinnreich <henry.sinnreich@wcom.com>
> >>To: Pete Cordell <pete@tech-know-ware.com>; Schroeder, Tim
> >><schroeder@tri.sbc.com>; sip@lists.research.bell-labs.com
> >><sip@lists.research.bell-labs.com>
> >>Date: 23 November 1999 13:28
> >>Subject: RE: DTMF signaling between media gateways - ouch!
> >>
> >>
> >>>Pete Cordell wrote
> >>>> I'm here because
> >>>
> >>>Pete, if this is the reason for stuffing our mail, just say so and
let's
> >>get
> >>>back to designing features we need for new services. As mentioned,
> >>telephony
> >>>legacy systems can be accommodated by gateway features and their ways
need
> >>>not be ported to the Internet. I suggest we stop this thread, it's been
a
> >>>drag already.
> >>>
> >>>Henry
> >>>
> >>>Henry Sinnreich
> >>>MCI WorldCom
> >>>400 International Parkway
> >>>Richardson, Texas 75081, USA
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: owner-sip@lists.research.bell-labs.com
> >>>> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Pete
Cordell
> >>>> Sent: Tuesday, November 23, 1999 5:24 AM
> >>>> To: Schroeder, Tim; sip@lists.research.bell-labs.com
> >>>> Subject: Re: DTMF signaling between media gateways - ouch!
> >>>>
> >>>>
> >>>> My feeling is that SIP stopped being purely an initiation protocol a
> >long
> >>>> time ago.  In fact, when the BYE method was added, it no longer was
> >>purely
> >>>> an initiation protocol.  It went further down the path when all the
call
> >>>> transfer stuff was added.
> >>>>
> >>>> I'm here because SIP is being touted as a solution for Internet
> >>Telephony,
> >>>> which involves more, much more, than just initiation.  If that's not
> >what
> >>>> it's about a decision needs to be made quickly and the message
> >>>> that is being
> >>>> spread by SIP advocates needs to be changed to avoid confusion in
> >>>> the market
> >>>> place.
> >>>>
> >>>> Pete
> >>>>
> >>>> =============================================
> >>>> Pete Cordell
> >>>> pete@tech-know-ware.com
> >>>> =============================================
> >>>>
> >>>> -----Original Message-----
> >>>> From: Schroeder, Tim <schroeder@tri.sbc.com>
> >>>> To: sip@lists.research.bell-labs.com
<sip@lists.research.bell-labs.com>
> >>>> Date: 22 November 1999 23:44
> >>>> Subject: RE: DTMF signaling between media gateways - ouch!
> >>>>
> >>>>
> >>>> >I'm a bit confused by much of this DTMF discussion.  SIP is a
Session
> >>>> >Initiation Protocol, so it understands how to initiate sessions.  As
> >for
> >>>> the
> >>>> >mid-call DTMF tones,
> >>>> >
> >>>> >(1) If they are coming from some network where those tones *do* have
> >>>> session
> >>>> >initiation implications, then the gateway ought to be able to map
them
> >>to
> >>>> >the existing set of SIP messages in some rational fashion.  So, in a
> >>>> network
> >>>> >where the DTMF 7 tone (R for record) means to add a recording
> >>>> device to the
> >>>> >call, the SIP gateway would map this to an invite of a recording
> >>>> device to
> >>>> >the call.
> >>>> >
> >>>> >(2) If those tones don't have session initiation implications,
> >>>> then I don't
> >>>> >see why any of the SIP network servers would understand them
> >>>> (any more than
> >>>> >a gateway would understand them); only the end systems would.  Yes,
> >they
> >>>> may
> >>>> >be used for signaling, but it's not session initiation signaling,
and I
> >>>> >don't understand the desire to somehow wrap them up into SIP
messages
> >>and
> >>>> >send them between end systems that way.  I see SIP as being used
> >>>> to set up
> >>>> a
> >>>> >session between end systems, possibly consisting of two media
> >>>> channels, one
> >>>> >used for end system signaling, one used for end system data.  I
haven't
> >>>> made
> >>>> >the leap that because the end systems are interpreting some data as
> >>>> >signaling, that the data should be sent using SIP messages.
> >>>> >
> >>>> >My impression from reading all the DTMF messages (and in trying
> >>>> to catch up
> >>>> >-- there were a lot of them!) is that two separate kinds of
signaling
> >>>> >(session initiation, and some higher level service signaling) are
being
> >>>> >confused.  Currently SIP handles the first type.  Adding the INFO
> >method
> >>>> >might make it able to handle some of the second type, but I
> >>>> don't think it
> >>>> >can handle all service signaling that easily.
> >>>> >
> >>>> >Tim Schroeder
> >>>> >
> >>>> >
> >>>> >
> >>>> >This e-mail and any files transmitted with it are the property of
SBC,
> >>>> >are confidential, and are intended solely for the use of the
individual
> >>>> >or entity to whom this e-mail is addressed. If you are not one of
the
> >>>> >named recipient(s) or otherwise have reason to believe that you have
> >>>> >received this message in error, please notify the sender at
> >>>> >tschroeder@tri.sbc.com and delete this message immediately from your
> >>>> >computer. Any other use, retention, dissemination, forwarding,
> >printing,
> >>>> >or copying of this e-mail is strictly prohibited.
> >>>> >
> >>>> >
> >>>> >
> >>>>
> >>>>
> >>>
> >>>
> >>>
> >>
> >>
> >
> >
> >
>
>
> Michael A. Ramalho, Ph.D.
> Cisco Systems
> Wall Township, NJ
> Office email: mramalho@cisco.com
> Personal email: mar42@cornell.edu
> Office: +1.732.449.5762
> Cell: +1.732.809.0188
>




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 28 21:09:41 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA29041
	for <sip-archive@odin.ietf.org>; Sun, 28 Nov 1999 21:09:40 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B0CF252C4; Sun, 28 Nov 1999 21:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2FA0352D5; Sun, 28 Nov 1999 21:07:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 16E4852C4
	for <sip@lists.research.bell-labs.com>; Sun, 28 Nov 1999 21:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 28 21:05:05 EST 1999
Received: from smtp7.atl.mindspring.net ([207.69.128.51]) by dusty; Sun Nov 28 21:03:45 EST 1999
Received: from paris.mds.local (user-2ivf06l.dialup.mindspring.com [165.247.128.213])
	by smtp7.atl.mindspring.net (8.9.3/8.8.5) with ESMTP id VAA19449;
	Sun, 28 Nov 1999 21:05:02 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id VAA06630;
	Sun, 28 Nov 1999 21:04:49 -0500
Message-ID: <01ef01bf3a0e$1c8f74e0$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Rosen, Brian" <brosen@fore.com>,
        "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        "sip" <sip@lists.research.bell-labs.com>
References: <4FBEA8857476D311A03300204840E1CF068487@whq-msgusr-02.fore.com>
Subject: Re: Text based protocols
Date: Sun, 28 Nov 1999 21:03:11 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Brian,

Not trying to start a debate at all... I, too, am pretty tired of reading
the endless debates on this subject.

However, I would like to see information on the processing requirements of
text versus binary.  My own belief is that bandwidth for signaling is much
less of an issue than processing requirements for large-scale devices.  I
would like to see results that confirms or disputes that.  Will we see those
results, possibly?

Best Regards,
Paul

----- Original Message -----
From: "Rosen, Brian" <brosen@fore.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>; "sip"
<sip@lists.research.bell-labs.com>
Sent: Wednesday, November 24, 1999 8:08 AM
Subject: RE: Text based protocols


> Gently phrased I'm sure.
>
> I'm not aware of any, but I'm sure we will have a good
> opportunity to look into this when MEGACO/H.248 implementations
> start appearing.  There is both a text and a binary encoding.
> It would be possible to make direct comparisons given enough
> real world examples to create a sufficiently reliable dataset.
>
> Until then, or the emergence of some realistic data from some
> other source, I beg of you not to start a debate on the issue;
> it was very unpleasant when it happened on the Megaco list,
> and there was no convincing either side.
>
> Brian
>
> > -----Original Message-----
> > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > Sent: Wednesday, November 24, 1999 3:00 AM
> > To: sip
> > Subject: Text based protocols
> >
> >
> > Hi,
> >
> > I am looking for information about the real overhead that a text-based
> > protocol (like SIP) has "on the wire" in relation to binary
> > encoding. Is
> > there any study about this available.
> >
> > Thanks,
> >
> > Gonzalo
> > --
> > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > Telecom R&D               Fax   :  +358  9 299 31 18
> > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > Finland
> >
>




From owner-sip-outgoing@lists.research.bell-labs.com  Sun Nov 28 22:25:43 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA18086
	for <sip-archive@odin.ietf.org>; Sun, 28 Nov 1999 22:25:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0AA7352BB; Sun, 28 Nov 1999 22:23:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6F4AD52C4; Sun, 28 Nov 1999 22:23:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 4694452BB
	for <sip@lists.research.bell-labs.com>; Sun, 28 Nov 1999 22:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Sun Nov 28 22:23:00 EST 1999
Received: from smtp5.mindspring.com ([207.69.200.82]) by dusty; Sun Nov 28 22:21:39 EST 1999
Received: from paris.mds.local (user-2ivf2jl.dialup.mindspring.com [165.247.138.117])
	by smtp5.mindspring.com (8.8.5/8.8.5) with ESMTP id WAA14117;
	Sun, 28 Nov 1999 22:22:50 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id WAA06937;
	Sun, 28 Nov 1999 22:22:35 -0500
Message-ID: <020f01bf3a18$f813da60$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "Ken Carlberg" <carlberg@time.saic.com>
Cc: "Michael Thomas" <mat@cisco.com>, <sip@lists.research.bell-labs.com>
References: <199911241632.LAA15931@prima.time.saic.com> <383C4692.66B52A11@dynamicsoft.com>
Subject: Re: PSTN and SIP (or its replacement/adjunct)
Date: Sun, 28 Nov 1999 22:22:21 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

I'm not convinced that all of these can be achieved with SIP as it stands.

Consider call hold.  I read a draft that suggested that a SIP device would
send an INVITE with a special "c=" SDP line (and the 200 and ACK are
exchanged) and media stops flowing.  That's all there is to "call hold".

I point out two problems with that approach:
1) It's a "hack" on the current spec.  I have no problem with that approach
if that's the agreed direction, but are we going to make all features
"hacks"?
2) What happens if I turn off my SIP device, unplug it, or otherwise-- how
does the party on hold know that I am gone?

I'm not sure how some of the other features are going to be implemented.
They're not specified in the SIP document proper.

Paul

----- Original Message -----
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
To: "Ken Carlberg" <carlberg@time.saic.com>
Cc: "Michael Thomas" <mat@cisco.com>; <sip@lists.research.bell-labs.com>
Sent: Wednesday, November 24, 1999 3:12 PM
Subject: Re: PSTN and SIP (or its replacement/adjunct)


>
>
> Ken Carlberg wrote:
> >
> > poor analogy.  my original note did not state the need to support
*every*
> > feature, nor did it imply so.  the item i agreed with is a necessity
> > to transparantly support a baseline set (ie, one has to support the
> > installed base).  if Jonathan feels that is being done with SIP as it
> > stands today, fine.  however, in looking at the recent thread, that did
> > not seem to be the case.
>
> This thread has been full of high level handwaving, without a lot of
> real technical discussion. Lets look at some services that *can* be done
> with SIP that are in the PSTN:
>
> call forwarding
> call transfer (call control spec)
> caller ID
> call hold
> multiparty conferencing (call control spec)
> *69
> follow-me
> find-me
> call waiting
> IVR systems
>
> there are others, but these are some of the most critical and commonly
> used ones. That probably covers a very large percentage of what most
> people do.
>
> -Jonathan R.
>
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 02:11:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA28734
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 02:11:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 533E052BB; Mon, 29 Nov 1999 02:09:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id B615252C4; Mon, 29 Nov 1999 02:09:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8A46D52BB
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 02:09:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 02:08:11 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 29 02:06:47 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhrjw25845;
	Mon, 29 Nov 1999 07:13:24 GMT
Received: from dynamicsoft.com (1Cust125.tnt1.freehold.nj.da.uu.net [63.17.113.125])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id CAA09137;
	Mon, 29 Nov 1999 02:08:03 -0500 (EST)
Message-ID: <3842274A.C7275E61@dynamicsoft.com>
Date: Mon, 29 Nov 1999 02:12:10 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Marc Petit-Huguenin <petithug@8x8.com>
Cc: IETF SIP <sip@lists.research.bell-labs.com>
Subject: Re: Question on Call-Id
References: <383D5CE4.FEB65E5F@8x8.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Marc Petit-Huguenin wrote:
> 
> Hello,
> 
> I have a question about redirection:
> When the SIP entity redirected (the entity that receive the 3xx) send
> the new INVITE, does the Call-Id of this new INVITE must, should or may
> be the same that the Call-Id in the first INVITE?

If a proxy recurses, it MUST be the same Call-ID.

If a UAC acts on the redirection, I don't think the spec specifies what
to do. This is, in part, because you can't force the UAC to use the same
Call-ID. It can collect the Contact headers from the response, and
reformulate a brand new invite. In fact, if this data is presented to
the user at the UAC, the user can simply copy-paste the redirected URL
and create a new call to that URL. Thus, defining a service which relies
on having the same Call-ID in the new INVITE may be troubling even if
this is made a MUST strength.

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 03:09:39 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA13467
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 03:09:38 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id E4C5152B6; Mon, 29 Nov 1999 03:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5B17E52DB; Mon, 29 Nov 1999 03:07:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id EDBE852B6
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 03:07:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 03:06:11 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 29 03:04:51 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhrka22758;
	Mon, 29 Nov 1999 08:11:28 GMT
Received: from dynamicsoft.com (1Cust125.tnt1.freehold.nj.da.uu.net [63.17.113.125])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id DAA09209;
	Mon, 29 Nov 1999 03:06:07 -0500 (EST)
Message-ID: <384234E5.2CEB0BD6@dynamicsoft.com>
Date: Mon, 29 Nov 1999 03:10:13 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Paul E. Jones" <paul.jones@ties.itu.int>
Cc: Ken Carlberg <carlberg@time.saic.com>, Michael Thomas <mat@cisco.com>,
        sip@lists.research.bell-labs.com
Subject: Re: PSTN and SIP (or its replacement/adjunct)
References: <199911241632.LAA15931@prima.time.saic.com> <383C4692.66B52A11@dynamicsoft.com> <020f01bf3a18$f813da60$0201a8c0@mds.local>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



"Paul E. Jones" wrote:
> 
> Jonathan,
> 
> I'm not convinced that all of these can be achieved with SIP as it stands.
> 
> Consider call hold.  I read a draft that suggested that a SIP device would
> send an INVITE with a special "c=" SDP line (and the 200 and ACK are
> exchanged) and media stops flowing.  That's all there is to "call hold".
> 
> I point out two problems with that approach:
> 1) It's a "hack" on the current spec.  I have no problem with that approach
> if that's the agreed direction, but are we going to make all features
> "hacks"?

That is the solution. The spec says so:

B.5 Putting Media Streams on Hold

   If a party in a call wants to put the other party "on hold", i.e.,
   request that it temporarily stops sending one or more media streams,
   a party re-invites the other by sending an INVITE request with a
   modified session description. The session description is the same as
   in the original invitation (or response), but the "c" destination
   addresses for the media streams to be put on hold are set to zero
   (0.0.0.0).

The motivation for this "hack" is thats its a freebie... a UAS receiving
a request without an Ip address in the SDP cannot send media anyway. It
also allows us to hold individual streams, which is why its not done in
SIP itself. 



> 2) What happens if I turn off my SIP device, unplug it, or otherwise-- how
> does the party on hold know that I am gone?

There is a draft on session timer:
http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer-00.txt

which addresses this. Its going to be a SIP extension.


-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 05:07:53 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA12348
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 05:07:53 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 5946752C4; Mon, 29 Nov 1999 05:05:24 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C3F9152B6; Mon, 29 Nov 1999 05:05:23 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 60B9852D5
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 05:05:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 05:04:32 EST 1999
Received: from fogerty.ericsson.fi ([194.89.206.21]) by dusty; Mon Nov 29 05:03:11 EST 1999
Received: from umail.lmf.ericsson.se ([131.160.11.2])
	by fogerty.ericsson.fi (8.9.3+Sun/8.9.3) with ESMTP id MAA16625;
	Mon, 29 Nov 1999 12:05:04 +0200 (EET)
Received: from lmf.ericsson.se (E005004CA4DC5 [131.160.75.95])
	by umail.lmf.ericsson.se (8.8.8+Sun/8.8.8) with ESMTP id MAA05558;
	Mon, 29 Nov 1999 12:04:26 +0200 (EET)
Message-ID: <38424FA6.DDB88A11@lmf.ericsson.se>
Date: Mon, 29 Nov 1999 12:04:22 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.51 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: jdrosen@dynamicsoft.com
Cc: carlberg@time.saic.com, mat@cisco.com, sip@lists.research.bell-labs.com
Subject: Re: PSTN and SIP (or its replacement/adjunct)
References: <383C4692.66B52A11@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Hi,

> call forwarding
> call transfer (call control spec)
> caller ID
> call hold
> multiparty conferencing (call control spec)
> *69

Just a small comment. In the States I think that *69 means "re-call"
service, but in Europe does not mean anything.

I can write "112 service" and nobody in the States will understand (it
means emergency call in Europe).

Let's try do use terms understandable on both sides of the pool :o)

Gonzalo

> follow-me
> find-me
> call waiting
> IVR systems
> 
> there are others, but these are some of the most critical and commonly
> used ones. That probably covers a very large percentage of what most
> people do.
> 
> -Jonathan R.
> 
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com

-- 
Gonzalo Camarillo         Phone :  +358  9 299 33 71
Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
Telecom R&D               Fax   :  +358  9 299 31 18
FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
Finland



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 10:04:03 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05137
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 10:04:02 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 0065A52BB; Mon, 29 Nov 1999 10:01:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 6D9D452C4; Mon, 29 Nov 1999 10:01:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 8338252BB
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 10:01:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 10:00:29 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 29 09:59:09 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhrlc26382;
	Mon, 29 Nov 1999 15:05:45 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id KAA02997;
	Mon, 29 Nov 1999 10:00:23 -0500 (EST)
Message-ID: <38429601.BFC18901@dynamicsoft.com>
Date: Mon, 29 Nov 1999 10:04:33 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: david.k.brown@na.marconicomms.com
Cc: sip@lists.research.bell-labs.com
Subject: Re: Note to Henry (Was: Re: DTMF signaling between media gateways- 
 ouch!)
References: <85256833.006CEB33.00@notes.relteccorp.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



david.k.brown@na.marconicomms.com wrote:
> 
> My question is does the "SIP call model" align with the PSTN (or AIN) call model
> well enough to support the option of replacing and/or interworking with the PSTN
> services?  The catch here is defining "well enough" without limiting your market
> application of the standard too severely.

In fact, a mapping of the SIP state machine to one of the IN call models
has been proposed:
http://search.ietf.org/internet-drafts/draft-gurbani-iptel-sip-to-in-00.txt

a similar draft was presented to the sip group:
http://www.softarmor.com/sipwg/meets/IETF46/drafts/draft-haerens-sip-inap-00.txt

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 14:33:13 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04510
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 14:33:13 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 9C68652C4; Mon, 29 Nov 1999 14:03:32 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 13D1252D5; Mon, 29 Nov 1999 14:03:31 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 948CE52C4
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 14:03:09 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 14:01:12 EST 1999
Received: from wodc7mr3.ffx.ops.us.uu.net ([192.48.96.19]) by dusty; Mon Nov 29 13:59:51 EST 1999
Received: from dynamic.dynamicsoft.com by wodc7mr3.ffx.ops.us.uu.net with ESMTP 
	(peer crosschecked as: [63.72.186.2])
	id QQhrls04440;
	Mon, 29 Nov 1999 19:06:27 GMT
Received: from dynamicsoft.com (eagle.dynamicsoft.com [63.72.186.56])
	by dynamic.dynamicsoft.com (8.9.3/8.9.3) with ESMTP id OAA03487;
	Mon, 29 Nov 1999 14:01:06 -0500 (EST)
Message-ID: <3842CE6A.4A109B37@dynamicsoft.com>
Date: Mon, 29 Nov 1999 14:05:14 -0500
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Organization: Dynamicsoft
X-Mailer: Mozilla 4.7 [en] (Win98; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jean-Hugues ROBERT <jhr@odisei.com>
Cc: Pete Cordell <pete@tech-know-ware.com>,
        sip <sip@lists.research.bell-labs.com>
Subject: Re: CTI and CSTA Feature Sets
References: <3.0.5.32.19991126163047.013ac630@mail.odisei.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit



Jean-Hugues ROBERT wrote:
> 
> Hi,
> 
> I agree with Pete. CTI is becoming very important, not a
> big call center technology anymore. We are implementing a
> CSTA/VERSIT/JTAPI CTI enabled VoIP PBX and we use SIP.
> 
> One requirement of CTI is "third party control". It is
> the ability to monitor and control calls & devices that
> are "remote" (versus "first party control" over a locally
> attached hardware resource).
> 
> On solution I can imagine with SIP as it is today is to
> behave as an application proxy that receive/modify/transmit
> all the signaling (and part of the media, for DTMFs...).
> 
> This may be OK for call control, not for device control
> (common devices are phones, announcement, servers, mixers...).

SIP doesn't do device control, it does call control. I agree there
needs to be a means by which the call center can control announcement
servers, mixers, and tone generators. As we have discussed, megaco or
RTSP might be starting points for such a protocol. For communicating
with phones, one can use SIP or megaco, depending on whether the phone
is modeled as a dumb device to be controlled (megaco), or a call state
aware device to be communicated with (sip).

-Jonathan R.
-- 
Jonathan D. Rosenberg                       200 Executive Drive
Chief Scientist                             Suite 120 
dynamicsoft                                 West Orange, NJ 07052
jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
http://www.dynamicsoft.com



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 15:04:50 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA18198
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 15:04:48 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id EEA4C52B6; Mon, 29 Nov 1999 14:01:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 684ED52C4; Mon, 29 Nov 1999 14:01:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5175952B6
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 14:01:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 13:59:45 EST 1999
Received: from mailgate.fore.com ([169.144.68.6]) by dusty; Mon Nov 29 13:58:25 EST 1999
Received: from mailman.fore.com (mailman.fore.com [169.144.2.12])
	by mailgate.fore.com (8.9.3/8.9.3) with ESMTP id NAA18454;
	Mon, 29 Nov 1999 13:59:41 -0500 (EST)
Received: from whq-msgrtr-01.fore.com (whq-msgrtr-01.fore.com [169.144.2.221])
	by mailman.fore.com (8.9.3/8.9.3) with ESMTP id NAA06038;
	Mon, 29 Nov 1999 13:59:42 -0500 (EST)
Received: by whq-msgrtr-01.fore.com with Internet Mail Service (5.5.2650.21)
	id <W4FGB2H7>; Mon, 29 Nov 1999 13:58:13 -0500
Message-ID: <4FBEA8857476D311A03300204840E1CF021B75@whq-msgusr-02.fore.com>
From: "Rosen, Brian" <brosen@fore.com>
To: "Paul E. Jones" <paul.jones@ties.itu.int>,
        "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        sip <sip@lists.research.bell-labs.com>
Subject: RE: Text based protocols
Date: Mon, 29 Nov 1999 13:59:37 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="windows-1252"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

We will see some meaningful data when there are text and binary
implementations
of Megaco/H.248, which I would expect over the next few quarters.

Brian

> -----Original Message-----
> From: Paul E. Jones [mailto:paul.jones@ties.itu.int]
> Sent: Sunday, November 28, 1999 9:03 PM
> To: Rosen, Brian; 'Gonzalo Camarillo'; sip
> Subject: Re: Text based protocols
> 
> 
> Brian,
> 
> Not trying to start a debate at all... I, too, am pretty 
> tired of reading
> the endless debates on this subject.
> 
> However, I would like to see information on the processing 
> requirements of
> text versus binary.  My own belief is that bandwidth for 
> signaling is much
> less of an issue than processing requirements for large-scale 
> devices.  I
> would like to see results that confirms or disputes that.  
> Will we see those
> results, possibly?
> 
> Best Regards,
> Paul
> 
> ----- Original Message -----
> From: "Rosen, Brian" <brosen@fore.com>
> To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>; "sip"
> <sip@lists.research.bell-labs.com>
> Sent: Wednesday, November 24, 1999 8:08 AM
> Subject: RE: Text based protocols
> 
> 
> > Gently phrased I'm sure.
> >
> > I'm not aware of any, but I'm sure we will have a good
> > opportunity to look into this when MEGACO/H.248 implementations
> > start appearing.  There is both a text and a binary encoding.
> > It would be possible to make direct comparisons given enough
> > real world examples to create a sufficiently reliable dataset.
> >
> > Until then, or the emergence of some realistic data from some
> > other source, I beg of you not to start a debate on the issue;
> > it was very unpleasant when it happened on the Megaco list,
> > and there was no convincing either side.
> >
> > Brian
> >
> > > -----Original Message-----
> > > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > > Sent: Wednesday, November 24, 1999 3:00 AM
> > > To: sip
> > > Subject: Text based protocols
> > >
> > >
> > > Hi,
> > >
> > > I am looking for information about the real overhead that 
> a text-based
> > > protocol (like SIP) has "on the wire" in relation to binary
> > > encoding. Is
> > > there any study about this available.
> > >
> > > Thanks,
> > >
> > > Gonzalo
> > > --
> > > Gonzalo Camarillo         Phone :  +358  9 299 33 71
> > > Oy L M Ericsson Ab        Mobile:  +358 40 702 35 35
> > > Telecom R&D               Fax   :  +358  9 299 31 18
> > > FIN-02420 Jorvas          Email :  Gonzalo.Camarillo@ericsson.com
> > > Finland
> > >
> >
> 



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 19:37:45 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA25552
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 19:37:44 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A120952AB; Mon, 29 Nov 1999 19:35:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2006452BB; Mon, 29 Nov 1999 19:35:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2243452AB
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 19:35:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 19:33:57 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Mon Nov 29 19:32:37 EST 1999
Received: from zrtpd004.us.nortel.com (actually nrtpd004) 
          by smtprtp1.ntcom.nortel.net; Mon, 29 Nov 1999 19:33:45 -0500
Received: by zrtpd004.us.nortel.com with Internet Mail Service (5.5.2448.0) 
          id <XA91DDQQ>; Mon, 29 Nov 1999 19:33:45 -0500
Message-ID: <C51ED84B6F47D211917A0000F8BCBD11023CF729@zcard00g.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: sip <sip@lists.research.bell-labs.com>
Subject: SIP Terminals
Date: Mon, 29 Nov 1999 19:33:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2448.0)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01BF3ACA.8EBF3566"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01BF3ACA.8EBF3566
Content-Type: text/plain

This is a question with more than one answer.  I suspect that people
participating in this list have in their minds some model of a SIP terminal,
and this is influencing their views on the capabilities required in the
protocol.  So I will toss this question out as a matter of curiousity and
perhaps a means to clarify debate: if you think of a SIP terminal, what do
you have in mind in physical terms?  What is the human interface?  What are
the capabilities for running applications other than SIP?  What sort of
access bandwidth are you hoping for?  Anything else you can think of?  

Tom Taylor
Advisor -- IPConnect Standards
E-mail: taylor@nortelnetworks.com (internally, Tom-PT Taylor)
Phone and FAX: +1 613 736 0961


------_=_NextPart_001_01BF3ACA.8EBF3566
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2448.0">
<TITLE>SIP Terminals</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">This is a question with more than one =
answer.&nbsp; I suspect that people participating in this list have in =
their minds some model of a SIP terminal, and this is influencing their =
views on the capabilities required in the protocol.&nbsp; So I will =
toss this question out as a matter of curiousity and perhaps a means to =
clarify debate: if you think of a SIP terminal, what do you have in =
mind in physical terms?&nbsp; What is the human interface?&nbsp; What =
are the capabilities for running applications other than SIP?&nbsp; =
What sort of access bandwidth are you hoping for?&nbsp; Anything else =
you can think of?&nbsp; </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Tahoma">Tom Taylor</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Tahoma">Advisor -- IPConnect =
Standards</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Tahoma">E-mail: taylor@nortelnetworks.com =
(internally, Tom-PT Taylor)</FONT>
<BR><FONT SIZE=3D2 FACE=3D"Tahoma">Phone and FAX: +1 613 736 =
0961</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01BF3ACA.8EBF3566--



From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 19:55:49 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03075
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 19:55:47 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id ECEDC52DE; Mon, 29 Nov 1999 19:53:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 58A4E52DF; Mon, 29 Nov 1999 19:53:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id DD90252DE
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 19:53:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 19:52:38 EST 1999
Received: from smtp6.mindspring.com ([207.69.200.110]) by dusty; Mon Nov 29 19:51:18 EST 1999
Received: from paris.mds.local (user-2ivf71a.dialup.mindspring.com [165.247.156.42])
	by smtp6.mindspring.com (8.9.3/8.8.5) with ESMTP id TAA20205;
	Mon, 29 Nov 1999 19:52:31 -0500 (EST)
Received: from comet (comet.mds.local [192.168.1.2])
	by paris.mds.local (8.8.7/8.8.7) with SMTP id TAA10968;
	Mon, 29 Nov 1999 19:52:19 -0500
Message-ID: <005801bf3acd$2680dfb0$0201a8c0@mds.local>
From: "Paul E. Jones" <paul.jones@ties.itu.int>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: "Ken Carlberg" <carlberg@time.saic.com>, "Michael Thomas" <mat@cisco.com>,
        <sip@lists.research.bell-labs.com>
References: <199911241632.LAA15931@prima.time.saic.com> <383C4692.66B52A11@dynamicsoft.com> <020f01bf3a18$f813da60$0201a8c0@mds.local> <384234E5.2CEB0BD6@dynamicsoft.com>
Subject: Re: PSTN and SIP (or its replacement/adjunct)
Date: Mon, 29 Nov 1999 19:52:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Jonathan,

I stand corrected about this "hack"-- thanks for pointing that out to me.
I'm not sure how I missed it!

Best Regards,
Paul

----- Original Message -----
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
To: "Paul E. Jones" <paul.jones@ties.itu.int>
Cc: "Ken Carlberg" <carlberg@time.saic.com>; "Michael Thomas"
<mat@cisco.com>; <sip@lists.research.bell-labs.com>
Sent: Monday, November 29, 1999 3:10 AM
Subject: Re: PSTN and SIP (or its replacement/adjunct)


>
>
> "Paul E. Jones" wrote:
> >
> > Jonathan,
> >
> > I'm not convinced that all of these can be achieved with SIP as it
stands.
> >
> > Consider call hold.  I read a draft that suggested that a SIP device
would
> > send an INVITE with a special "c=" SDP line (and the 200 and ACK are
> > exchanged) and media stops flowing.  That's all there is to "call hold".
> >
> > I point out two problems with that approach:
> > 1) It's a "hack" on the current spec.  I have no problem with that
approach
> > if that's the agreed direction, but are we going to make all features
> > "hacks"?
>
> That is the solution. The spec says so:
>
> B.5 Putting Media Streams on Hold
>
>    If a party in a call wants to put the other party "on hold", i.e.,
>    request that it temporarily stops sending one or more media streams,
>    a party re-invites the other by sending an INVITE request with a
>    modified session description. The session description is the same as
>    in the original invitation (or response), but the "c" destination
>    addresses for the media streams to be put on hold are set to zero
>    (0.0.0.0).
>
> The motivation for this "hack" is thats its a freebie... a UAS receiving
> a request without an Ip address in the SDP cannot send media anyway. It
> also allows us to hold individual streams, which is why its not done in
> SIP itself.
>
>
>
> > 2) What happens if I turn off my SIP device, unplug it, or otherwise--
how
> > does the party on hold know that I am gone?
>
> There is a draft on session timer:
> http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer-00.txt
>
> which addresses this. Its going to be a SIP extension.
>
>
> -Jonathan R.
> --
> Jonathan D. Rosenberg                       200 Executive Drive
> Chief Scientist                             Suite 120
> dynamicsoft                                 West Orange, NJ 07052
> jdrosen@dynamicsoft.com                     FAX:   (732) 741-4778
> http://www.cs.columbia.edu/~jdrosen         PHONE: (732) 741-7244
> http://www.dynamicsoft.com
>




From owner-sip-outgoing@lists.research.bell-labs.com  Mon Nov 29 22:01:56 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA27947
	for <sip-archive@odin.ietf.org>; Mon, 29 Nov 1999 22:01:55 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2877452DF; Mon, 29 Nov 1999 21:59:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 8E1FE52E0; Mon, 29 Nov 1999 21:59:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 7272D52DF
	for <sip@lists.research.bell-labs.com>; Mon, 29 Nov 1999 21:59:06 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Mon Nov 29 21:57:10 EST 1999
Received: from pmesmtp01.wcom.com ([199.249.20.1]) by dusty; Mon Nov 29 21:55:50 EST 1999
Received: from omzrelay.mcit.com ([166.37.204.49])
 by firewall.mcit.com (PMDF V5.2-32 #41714)
 with ESMTP id <0FLZ0008SPJ7UC@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 30 Nov 1999 02:57:07 +0000 (GMT)
Received: from omta3.mcit.com (omta3.mcit.com [166.37.204.5])
 by omzrelay.mcit.com (8.8.7/) with ESMTP	id CAA10051; Tue,
 30 Nov 1999 02:57:10 +0000 (GMT)
Received: from dwillispc4 ([166.44.58.85])
 by omta3.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991130025711.KMAZ13986@dwillispc4>; Tue,
 30 Nov 1999 02:57:11 +0000
Date: Mon, 29 Nov 1999 20:59:44 -0600
From: Dean Willis <dean.willis@wcom.com>
Subject: RE: one-way media with 183 Session Progress
In-reply-to: <3.0.32.19991126120845.00b372a0@zbl6c008.corpeast.baynetworks.com>
To: Matt Squire <msquire@nortelnetworks.com>
Cc: sip@lists.research.bell-labs.com
Message-id: <000201bf3ade$f44e8300$553a2ca6@dwillispc4>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Content-type: text/plain;	charset="iso-8859-1"
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Matt said
> Someone discussed QoS issues:
> >From a different perspective, its very difficult (actually, impossible)
> >to prevent users from sending best effort traffic to each other. If you
. . .
> >provide it the enhanced QoS service that they will pay for once the call
> >is answered.
> >
>
> I'm another person that doesn't see great benefits in the early media
> response.  When and how to charge for calls seems like an accouting issue
> that can be handled by the billing process well after call establishment.
> The fact that some media is free and some is charged doesn't seem like it
> should be a signalling issue.  The signalling can support this
> just as easy
> by carrying appropriate authorization tokens and recording them for later
> record processing.
>
> I would think that messages sourced by providers such as 'this
> number is no
> longer in service' would require QoS.  Will companies really accept that
> these messages, which are really part of their customer interface, reach
> the customer as garbled junk?
>     "Hi, you've reached XYZ.COM.  We are !#$%^& to *#^%
> *#(because of #@%*!"
> Can't imagine that going too well with corporate bigwigs.

The early media response is one of the few workable solutions to getting the
"The number you have reached has been disconnected" messages sourced by a
terminating LEC switch back to a SIP client accessing PSTN through a
gateway. The terminating switch never actually sends an asnwer message back
to the gateway to get mapped into an ACK message, so the originating client
has to know to "listen" without ever receiving an ACK. From a phone company
perspective, this call was never completed. Once upon a time the switches
cut through two ways, but once people learned how to talk in-between the
rings or send phreak tones, we switched to a one-way cut through towards the
caller.

I believe this is a completely separable issue from controlling the billing
aspects of the call, and from establishing QoS around the call.

The issue with early media is that some people see a fraud opportunity
tantamount to tricking the phone company into playing the frauding message
INSTEAD of "the number you have reached" . . .

For example, in the PSTN case one might want any traffic between an IP
client and a gateway to have QoS. That's easy enough to do -- we just use
RSVP to set up the QoS like we would beween any other pair of hosts. The DCS
issues around call clipping pretty much don't occur for IP->PSTN calls,
because as the gateway is known BEFORE the digits are outpulsed to the
switch, QoS can be set up during the PSTN-side post-dial-delay.

Incoming PSTN->IP calls have a diffeent QoS problem, but they generally
don't need to worry about (and perhaps shouldn't even accept at the gateway)
early media signaling.

--
Dean




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 07:13:52 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12732
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 07:13:51 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 70CBA52B6; Tue, 30 Nov 1999 07:11:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id D0A1352C4; Tue, 30 Nov 1999 07:11:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id CDB3B52B6
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 07:11:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 07:09:15 EST 1999
Received: from omzrelay03.mcit.com ([199.249.19.245]) by dusty; Tue Nov 30 07:07:52 EST 1999
Received: from ndcrelay.mcit.com ([166.37.172.49])
 by firewall.mcit.com (PMDF V5.2-29 #38418)
 with ESMTP id <0FM00029EF3D3Z@firewall.mcit.com> for
 sip@lists.research.bell-labs.com; Tue, 30 Nov 1999 12:09:13 +0000 (GMT)
Received: from omta1.mcit.com (omta1.mcit.com [166.37.204.2])
 by ndcrelay.mcit.com (8.8.7/) with ESMTP	id MAA14627; Tue,
 30 Nov 1999 12:07:39 +0000 (GMT)
Received: from C25776A ([166.44.155.96])
 by omta1.mcit.com (InterMail v03.02.05 118 121 101)
 with SMTP id <19991130120836.HULJ824@C25776A>; Tue, 30 Nov 1999 06:08:36 -0600
Date: Tue, 30 Nov 1999 06:09:10 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: SIP Terminals
In-reply-to: <C51ED84B6F47D211917A0000F8BCBD11023CF729@zcard00g.ca.nortel.com>
To: Tom-PT Taylor <taylor@nortelnetworks.com>,
        sip <sip@lists.research.bell-labs.com>
Message-id: <NBBBIIJFOKPMFOOILMBKGENKEOAA.henry.sinnreich@wcom.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Content-type: multipart/alternative;
	boundary="----=_NextPart_000_0015_01BF3AF9.6B233380"
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_0015_01BF3AF9.6B233380
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

SIP TerminalsTom,

We have seen several SIP phones at the VON Fall'99 (including one at the
demo at the plenary) and understand several vendors are developing SIP
phones. PC-phones and various portable (palmtop) devices may be next.
Suggest to look at the proposed TIA standard for SIP phones.

I have a problem with name "terminal" probably taken from the H.323
vocabulary. Since SIP endpoints are Internet hosts - quite intelligent
devices, calling them SIP gateways, phones, palmtops, PC clients may be a
more accurate description.

Henry
  -----Original Message-----
  From: owner-sip@lists.research.bell-labs.com
[mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Tom-PT Taylor
  Sent: Monday, November 29, 1999 6:34 PM
  To: sip
  Subject: SIP Terminals


  This is a question with more than one answer.  I suspect that people
participating in this list have in their minds some model of a SIP terminal,
and this is influencing their views on the capabilities required in the
protocol.  So I will toss this question out as a matter of curiousity and
perhaps a means to clarify debate: if you think of a SIP terminal, what do
you have in mind in physical terms?  What is the human interface?  What are
the capabilities for running applications other than SIP?  What sort of
access bandwidth are you hoping for?  Anything else you can think of?

  Tom Taylor
  Advisor -- IPConnect Standards
  E-mail: taylor@nortelnetworks.com (internally, Tom-PT Taylor)
  Phone and FAX: +1 613 736 0961


------=_NextPart_000_0015_01BF3AF9.6B233380
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>SIP Terminals</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2919.6307" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D040464911-30111999>Tom,</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D040464911-30111999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D040464911-30111999>We=20
have seen several SIP phones at the VON Fall'99 (including one at the =
demo at=20
the plenary) and&nbsp;understand several vendors are developing SIP =
phones.=20
PC-phones and various portable (palmtop) devices may be next. Suggest to =
look at=20
the proposed TIA standard for SIP phones.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D040464911-30111999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D040464911-30111999>I have=20
a problem with name "terminal" probably taken from the H.323 vocabulary. =
Since=20
SIP endpoints are Internet hosts - quite intelligent devices, calling =
them SIP=20
gateways, phones, palmtops, PC clients may be a more accurate=20
description.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D040464911-30111999></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D040464911-30111999>Henry</SPAN></FONT></DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px">
  <DIV align=3Dleft class=3DOutlookMessageHeader dir=3Dltr><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B>=20
  owner-sip@lists.research.bell-labs.com=20
  [mailto:owner-sip@lists.research.bell-labs.com]<B>On Behalf Of =
</B>Tom-PT=20
  Taylor<BR><B>Sent:</B> Monday, November 29, 1999 6:34 PM<BR><B>To:</B> =

  sip<BR><B>Subject:</B> SIP Terminals<BR><BR></DIV></FONT>
  <P><FONT face=3DArial size=3D2>This is a question with more than one =
answer.&nbsp;=20
  I suspect that people participating in this list have in their minds =
some=20
  model of a SIP terminal, and this is influencing their views on the=20
  capabilities required in the protocol.&nbsp; So I will toss this =
question out=20
  as a matter of curiousity and perhaps a means to clarify debate: if =
you think=20
  of a SIP terminal, what do you have in mind in physical terms?&nbsp; =
What is=20
  the human interface?&nbsp; What are the capabilities for running =
applications=20
  other than SIP?&nbsp; What sort of access bandwidth are you hoping =
for?&nbsp;=20
  Anything else you can think of?&nbsp; </FONT></P>
  <P><FONT face=3DTahoma size=3D2>Tom Taylor</FONT> <BR><FONT =
face=3DTahoma=20
  size=3D2>Advisor -- IPConnect Standards</FONT> <BR><FONT face=3DTahoma =

  size=3D2>E-mail: taylor@nortelnetworks.com (internally, Tom-PT =
Taylor)</FONT>=20
  <BR><FONT face=3DTahoma size=3D2>Phone and FAX: +1 613 736 0961</FONT> =

</P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_0015_01BF3AF9.6B233380--




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 10:18:30 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18193
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 10:18:26 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id A03FC52AB; Tue, 30 Nov 1999 10:15:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 16A4052C4; Tue, 30 Nov 1999 10:15:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 9653052AB
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 10:15:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 10:14:52 EST 1999
Received: from paleale.cisco.com ([171.71.154.60]) by dusty; Tue Nov 30 10:13:29 EST 1999
Received: from OranLT ([171.69.210.5]) by paleale.cisco.com (8.8.4-Cisco.1/8.6.5) with SMTP id HAA02728; Tue, 30 Nov 1999 07:09:39 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Tom-PT Taylor" <taylor@nortelnetworks.com>,
        "sip" <sip@lists.research.bell-labs.com>
Subject: RE: SIP Terminals
Date: Tue, 30 Nov 1999 10:09:38 -0500
Keywords: IETF
Message-ID: <NDBBKHCGKKIOOIJEGCOEAEBLCMAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001E_01BF3B1B.02C3B7C0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
In-reply-to: <C51ED84B6F47D211917A0000F8BCBD11023CF729@zcard00g.ca.nortel.com>
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

This is a multi-part message in MIME format.

------=_NextPart_000_001E_01BF3B1B.02C3B7C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

SIP TerminalsThere's no such thing as a "SIP terminal". All SIP defines is a
UAC/UAS. It says nothing about what you embed it in. Could be part of
Quake4.Exe, a Palm21, a refrigerator, or even (perish the thought) a
telephone.
  -----Original Message-----
  From: owner-sip@lists.research.bell-labs.com
[mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Tom-PT Taylor
  Sent: Monday, November 29, 1999 7:34 PM
  To: sip
  Subject: SIP Terminals


  This is a question with more than one answer.  I suspect that people
participating in this list have in their minds some model of a SIP terminal,
and this is influencing their views on the capabilities required in the
protocol.

  Not really. I think what most influences my thoughts about what belongs in
the protocol is to NOT think about terminals, particular devices, certain
UIs, and instread think logically about the functions and services a session
rtenvedvous protocol has to have in order to serve the widest range of
applications possible while still being efficient and able to do simple
applications simply.

  That said, SIP definitely does imply a device with a reasonable amount of
local state and intelligence, which does the bidding of the user rather than
the network (i.e. the network doesn't necessarily trust it and it doesn't
necessarily trust the network).

   So I will toss this question out as a matter of curiousity and perhaps a
means to clarify debate: if you think of a SIP terminal, what do you have in
mind in physical terms?  What is the human interface?  What are the
capabilities for running applications other than SIP?  What sort of access
bandwidth are you hoping for?  Anything else you can think of?

  Start Trek communicators, Dick tracy wrist watches, Room-size wall
displays with ASR, 3D audio, and composed virtual-environment video
composition.

  Oh, yes. Telephones too.

  Tom Taylor
  Advisor -- IPConnect Standards
  E-mail: taylor@nortelnetworks.com (internally, Tom-PT Taylor)
  Phone and FAX: +1 613 736 0961


------=_NextPart_000_001E_01BF3B1B.02C3B7C0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>SIP Terminals</TITLE>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2919.6307" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D120000115-30111999>There's no such thing as a "SIP terminal". =
All SIP=20
defines is a UAC/UAS. It says nothing about what you embed it in. Could =
be part=20
of Quake4.Exe, a Palm21, a refrigerator, or even (perish the thought) a=20
telephone.</SPAN></FONT></DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: =
0px; PADDING-LEFT: 5px">
  <DIV align=3Dleft class=3DOutlookMessageHeader dir=3Dltr><FONT =
face=3DTahoma><FONT=20
  size=3D2>-----Original Message-----<BR><B>From:</B>=20
  owner-sip@lists.research.bell-labs.com=20
  [mailto:owner-sip@lists.research.bell-labs.com]<B>On Behalf Of =
</B>Tom-PT=20
  Taylor<BR><B>Sent:</B> Monday, November 29, 1999 7:34 PM<BR><B>To:</B> =

  sip<BR><B>Subject:</B> SIP Terminals<BR><BR></FONT></DIV></FONT>
  <P><FONT face=3DArial size=3D2>This is a question with more than one =
answer.&nbsp;=20
  I suspect that people participating in this list have in their minds =
some=20
  model of a SIP terminal, and this is influencing their views on the=20
  capabilities required in the protocol.&nbsp;&nbsp;<SPAN=20
  class=3D120000115-30111999><FONT =
color=3D#0000ff>&nbsp;</FONT></SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D120000115-30111999>Not=20
  really. I think what most influences my thoughts about what belongs in =
the=20
  protocol is to NOT think about terminals, particular devices, certain =
UIs, and=20
  instread think logically about the functions and services a session=20
  rtenvedvous protocol has to have in order to serve the widest range of =

  applications possible while still being efficient and able to do =
simple=20
  applications simply.</SPAN></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D120000115-30111999>That=20
  said, SIP definitely does imply a device with a reasonable amount of =
local=20
  state and intelligence, which does the bidding of the user rather than =
the=20
  network (i.e. the network doesn't necessarily trust it and it doesn't=20
  necessarily trust the network).</SPAN></FONT></P>
  <P><FONT size=3D2><FONT face=3DArial><SPAN=20
  class=3D120000115-30111999>&nbsp;</SPAN>So I will toss this question =
out as a=20
  matter of curiousity and perhaps a means to clarify debate: if you =
think of a=20
  SIP terminal, what do you have in mind in physical terms?&nbsp; What =
is the=20
  human interface?&nbsp; What are the capabilities for running =
applications=20
  other than SIP?&nbsp; What sort of access bandwidth are you hoping =
for?&nbsp;=20
  Anything else you can think of?&nbsp;&nbsp;<FONT color=3D#0000ff><SPAN =

  class=3D120000115-30111999>&nbsp;</SPAN></FONT></FONT></FONT></P>
  <P><FONT size=3D2><FONT face=3DArial><FONT color=3D#0000ff><SPAN=20
  class=3D120000115-30111999>Start Trek communicators, Dick tracy wrist =
watches,=20
  Room-size wall displays with ASR, 3D audio, and composed =
virtual-environment=20
  video composition.</SPAN></FONT></FONT></FONT></P>
  <P><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D120000115-30111999>Oh,=20
  yes. Telephones too.</SPAN></FONT></P>
  <P><FONT face=3DTahoma size=3D2>Tom Taylor</FONT> <BR><FONT =
face=3DTahoma=20
  size=3D2>Advisor -- IPConnect Standards</FONT> <BR><FONT face=3DTahoma =

  size=3D2>E-mail: taylor@nortelnetworks.com (internally, Tom-PT =
Taylor)</FONT>=20
  <BR><FONT face=3DTahoma size=3D2>Phone and FAX: +1 613 736 0961</FONT> =

</P></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_001E_01BF3B1B.02C3B7C0--




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 10:35:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27922
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 10:35:44 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 92E6C52C4; Tue, 30 Nov 1999 10:33:23 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id EA51652D5; Tue, 30 Nov 1999 10:33:22 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 01AA452C4
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 10:33:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 10:32:32 EST 1999
Received: from smtprch1.nortel.com ([192.135.215.14]) by dusty; Tue Nov 30 10:31:09 EST 1999
Received: from zcard00n.ca.nortel.com (actually zcard00n) 
          by smtprch1.nortel.com; Tue, 30 Nov 1999 09:32:01 -0600
Received: from zbl6c008.corpeast.baynetworks.com ([132.245.205.58]) 
          by zcard00n.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id XHBWLW8F; Tue, 30 Nov 1999 10:31:47 -0500
Received: from msquire (msquire.corpeast.baynetworks.com [132.245.252.103]) 
          by zbl6c008.corpeast.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id WMJAG4DV; Tue, 30 Nov 1999 10:31:46 -0500
Message-Id: <3.0.32.19991130102611.00b35920@zbl6c008.corpeast.baynetworks.com>
X-Sender: msquire@zbl6c008.corpeast.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Tue, 30 Nov 1999 10:26:12 -0500
To: Dean Willis <dean.willis@wcom.com>
From: "Matt Squire" <msquire@nortelnetworks.com>
Subject: RE: one-way media with 183 Session Progress
Cc: sip@lists.research.bell-labs.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk


I really don't disagree with anything you say except the conclusion:)

As you state, the billing & QoS aspects are orthogonal to the goal of
getting the "number you have reached is out of order" messages back to the
SIP client.  The 183 I-D says

"   The only method in the current SIP specification that allows the
   called UA to playback media is to set up a full SIP session. In PSTN
   interworking situations (and likely in end-to-end SIP sessions) this
   will cause a billing relationship to be established between networks
   for the session.  This causes a problem when the reason for setting
   up the media session is to indicate a failure in the session setup.  "

This seems to indicate that billing is the major impetus for the special
handling of early media, and I don't think that's the case.  

If the QoS and billing are orthogonal, then the justification for this
seems to be that there's a slight reduction in the number of messages.  I
believe the diagrams in the I-D are slightly misleading, as the 183 has to
be sent reliably, so there are implicit acknowledgement going back that are
not shown in the pictures.  The message savings are not as shown in the
draft.  

People have raised issues that arise when INVITEs get forked, and you start
playing some early media like "the number has been disconnected" and then
you actually get an answer (200 OK) from another branch.  Certainly we can
just have each UA handle things as they see fit, but it demonstrates some
inconsistencies with these 'half-sessions.'  

Early media sessions are media sessions.  Changing the SIP behavior to
accomodate billing/QoS doesn't seem necessary.  The message savings seem
minimal.  Forking can lead to inconsistent behavior.  The message seems to
be easily bastardizable (is that a word?) to signal 2-way media or anything
else for that matter.  

I just thought SIP had a 3way handshake to establish a media flow for a
reason.  Getting rid of it in special cases worries me.  But I'm probably
in the minority, so I'll shut up about it now.  

- Matt

>The early media response is one of the few workable solutions to getting the
>"The number you have reached has been disconnected" messages sourced by a
>terminating LEC switch back to a SIP client accessing PSTN through a
>gateway. The terminating switch never actually sends an asnwer message back
>to the gateway to get mapped into an ACK message, so the originating client
>has to know to "listen" without ever receiving an ACK. From a phone company
>perspective, this call was never completed. Once upon a time the switches
>cut through two ways, but once people learned how to talk in-between the
>rings or send phreak tones, we switched to a one-way cut through towards the
>caller.
>
>I believe this is a completely separable issue from controlling the billing
>aspects of the call, and from establishing QoS around the call.
>
>The issue with early media is that some people see a fraud opportunity
>tantamount to tricking the phone company into playing the frauding message
>INSTEAD of "the number you have reached" . . .
>
>For example, in the PSTN case one might want any traffic between an IP
>client and a gateway to have QoS. That's easy enough to do -- we just use
>RSVP to set up the QoS like we would beween any other pair of hosts. The DCS
>issues around call clipping pretty much don't occur for IP->PSTN calls,
>because as the gateway is known BEFORE the digits are outpulsed to the
>switch, QoS can be set up during the PSTN-side post-dial-delay.
>
>Incoming PSTN->IP calls have a diffeent QoS problem, but they generally
>don't need to worry about (and perhaps shouldn't even accept at the gateway)
>early media signaling.
>
>--
>Dean
>
>



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 15:12:00 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA18883
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 15:11:59 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 2191652BB; Tue, 30 Nov 1999 15:09:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 9438152DB; Tue, 30 Nov 1999 15:09:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2CBE352BB
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 15:09:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 15:07:39 EST 1999
Received: from uran.ipl.net ([195.116.152.1]) by dusty; Tue Nov 30 15:06:16 EST 1999
Received: from apq (ttys6.kki.krakow.pl [195.116.9.46])
	by uran.ipl.net (8.9.3/8.9.3/rchk1.22) with SMTP id VAA27642
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 21:06:57 +0100
Message-Id: <199911302006.VAA27642@uran.ipl.net>
From: "Marcin Michalak" <mm@ipl.net>
To: sip@lists.research.bell-labs.com
Date: Tue, 30 Nov 1999 21:09:03 +0200
MIME-Version: 1.0
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Subject: Available UACs?
X-mailer: Pegasus Mail for Win32 (v3.11)
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7BIT

Hi,
 I'm writing a SIP Telephony gateway on Dialogic board and am just 
starting to perform compatibility tests. So far I'm using SIPHONE from 
Bell Labs for my internal tests, but I'd like to try also other clients, if 
there're any.
 My question is whether You know of any other SIP UAC 
implementations with audio support (PCMU or GSM) which I could use 
for my internal tests?
 I'll also try to make my gateway (which is called sip-telip) publicly 
available to let You try it. So far it's not possible, because it's behind 
the 
firewall but I'll try to negotiate with the administrator.
 Any other people doing SIP Telephony gateways? My project is run on 
the University and is educational, but hope it'll be possible to use it 
somewhere.
 Any people with Dialogic D41/ESC board interested in trying it?
  Greetings from Krakow, Poland
   Marcin Michalak, Computer Sciences, AGH

           Marcin Michalak - SQ9APQ
        	 mm@ipl.net



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 15:42:21 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03890
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 15:42:18 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3AFFE52DC; Tue, 30 Nov 1999 15:39:19 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id AD55A52DD; Tue, 30 Nov 1999 15:39:18 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id F0A9D52DC
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 15:39:03 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 30 15:37:11 EST 1999
Received: from palrel1.hp.com ([156.153.255.242]) by dusty; Tue Nov 30 15:35:49 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by palrel1.hp.com (Postfix) with ESMTP
	id 5E1E445B9; Tue, 30 Nov 1999 12:36:08 -0800 (PST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id UAA08192;
	Tue, 30 Nov 1999 20:36:07 GMT
Message-ID: <38443598.4034C0EE@hplb.hpl.hp.com>
Date: Tue, 30 Nov 1999 20:37:44 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Marcin Michalak <mm@ipl.net>
Cc: sip@lists.research.bell-labs.com
Subject: Re: Available UACs?
References: <199911302006.VAA27642@uran.ipl.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


Marcin Michalak wrote:
> 
> Hi,
>  I'm writing a SIP Telephony gateway on Dialogic board and am just
> starting to perform compatibility tests. So far I'm using SIPHONE from
> Bell Labs for my internal tests, but I'd like to try also other clients, if
> there're any.
>  My question is whether You know of any other SIP UAC
> implementations with audio support (PCMU or GSM) which I could use
> for my internal tests?

We're planning to make our user agent available after the upcoming 3rd
bakeoff, assuming there aren't too many bugs in it, that is.

>  My question is whether You know of any other SIP UAC
> implementations with audio support (PCMU or GSM) which I could use
> for my internal tests?
>  I'll also try to make my gateway (which is called sip-telip) publicly
> available to let You try it.

Great. We'll give it a go.

Cheers,
Anders

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 16:10:05 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA17469
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 16:10:03 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 3BC1252DB; Tue, 30 Nov 1999 16:07:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id A361052DE; Tue, 30 Nov 1999 16:07:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 0A78A52DB
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 16:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 16:06:51 EST 1999
Received: from mail.pingtel.com ([216.91.1.131]) by dusty; Tue Nov 30 16:05:28 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id QAA32017;
	Tue, 30 Nov 1999 16:18:17 -0500
Message-ID: <38443C61.26C2FC31@pingtel.com>
Date: Tue, 30 Nov 1999 16:06:41 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Matt Squire <msquire@nortelnetworks.com>
Cc: Dean Willis <dean.willis@wcom.com>, sip@lists.research.bell-labs.com
Subject: Re: one-way media with 183 Session Progress
References: <3.0.32.19991130102611.00b35920@zbl6c008.corpeast.baynetworks.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

The problem that I see with early media is that there is not enough sematics
in the response to allow the user agent to make any decisions on what to do
with the call.  The user agent may not know whether the call is forked and other
responses may come back.  It does not know that whether the message to
be played is "number you have reached is out of order" or "please hold your call
is being transfered" (i.e. pending failure or setup).

I understand that the gateway may not have the sematics either (i.e. because it
is a simple gateway without signaling channels or it is blinded by a PSTN switch
which is not sending signaling).  Passing this all the way through the SIP
network
without a meaning in the early media message is only passing the problem off. The

UA is farthest from the source of the issue, how can you expect it to do
something
intelligent with it.  Enabling intelligence in the end point  is one of the
greatest
strengths of SIP.  I do not want to pass more noise and confusion to the end
user.
I want to filter it out.  Without any meaning to 183, the user agent will be
forced
to either make dumb decisions or overload and confuse the user with more
messages.

I can see two possible solutions:
1) As Matt has suggested only allow a complete session setup.
This does not provide the UA with any more information to make a decision.
It eliminates the decision.

2) Provide more meaningful response:
Minimally expand to 183 Session Pending and 184 Session Failing.  This way
the abiguity is not transmitted in SIP.  The meaning of 183 Session Pending
being that it is likely, but not guaranteed to proceed.  If a gateway is dumb
or blinded, it can default to 183.  Let's not make SIP blind as well.

Regards,
Dan

Matt Squire wrote:

> I really don't disagree with anything you say except the conclusion:)
>
> As you state, the billing & QoS aspects are orthogonal to the goal of
> getting the "number you have reached is out of order" messages back to the
> SIP client.  The 183 I-D says
>
> "   The only method in the current SIP specification that allows the
>    called UA to playback media is to set up a full SIP session. In PSTN
>    interworking situations (and likely in end-to-end SIP sessions) this
>    will cause a billing relationship to be established between networks
>    for the session.  This causes a problem when the reason for setting
>    up the media session is to indicate a failure in the session setup.  "
>
> This seems to indicate that billing is the major impetus for the special
> handling of early media, and I don't think that's the case.
>
> If the QoS and billing are orthogonal, then the justification for this
> seems to be that there's a slight reduction in the number of messages.  I
> believe the diagrams in the I-D are slightly misleading, as the 183 has to
> be sent reliably, so there are implicit acknowledgement going back that are
> not shown in the pictures.  The message savings are not as shown in the
> draft.
>
> People have raised issues that arise when INVITEs get forked, and you start
> playing some early media like "the number has been disconnected" and then
> you actually get an answer (200 OK) from another branch.  Certainly we can
> just have each UA handle things as they see fit, but it demonstrates some
> inconsistencies with these 'half-sessions.'
>
> Early media sessions are media sessions.  Changing the SIP behavior to
> accomodate billing/QoS doesn't seem necessary.  The message savings seem
> minimal.  Forking can lead to inconsistent behavior.  The message seems to
> be easily bastardizable (is that a word?) to signal 2-way media or anything
> else for that matter.
>
> I just thought SIP had a 3way handshake to establish a media flow for a
> reason.  Getting rid of it in special cases worries me.  But I'm probably
> in the minority, so I'll shut up about it now.
>
> - Matt
>
> >The early media response is one of the few workable solutions to getting the
> >"The number you have reached has been disconnected" messages sourced by a
> >terminating LEC switch back to a SIP client accessing PSTN through a
> >gateway. The terminating switch never actually sends an asnwer message back
> >to the gateway to get mapped into an ACK message, so the originating client
> >has to know to "listen" without ever receiving an ACK. From a phone company
> >perspective, this call was never completed. Once upon a time the switches
> >cut through two ways, but once people learned how to talk in-between the
> >rings or send phreak tones, we switched to a one-way cut through towards the
> >caller.
> >
> >I believe this is a completely separable issue from controlling the billing
> >aspects of the call, and from establishing QoS around the call.
> >
> >The issue with early media is that some people see a fraud opportunity
> >tantamount to tricking the phone company into playing the frauding message
> >INSTEAD of "the number you have reached" . . .
> >
> >For example, in the PSTN case one might want any traffic between an IP
> >client and a gateway to have QoS. That's easy enough to do -- we just use
> >RSVP to set up the QoS like we would beween any other pair of hosts. The DCS
> >issues around call clipping pretty much don't occur for IP->PSTN calls,
> >because as the gateway is known BEFORE the digits are outpulsed to the
> >switch, QoS can be set up during the PSTN-side post-dial-delay.
> >
> >Incoming PSTN->IP calls have a diffeent QoS problem, but they generally
> >don't need to worry about (and perhaps shouldn't even accept at the gateway)
> >early media signaling.
> >
> >--
> >Dean
> >
> >




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 16:39:46 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA01948
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 16:39:45 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id DB17252DE; Tue, 30 Nov 1999 16:37:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 4904552DF; Tue, 30 Nov 1999 16:37:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 132D352DE
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 16:37:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 16:35:24 EST 1999
Received: from paleale.cisco.com ([171.71.154.60]) by dusty; Tue Nov 30 16:34:01 EST 1999
Received: from OranLT ([171.69.210.5]) by paleale.cisco.com (8.8.4-Cisco.1/8.6.5) with SMTP id NAA22878; Tue, 30 Nov 1999 13:33:40 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Daniel G. Petrie" <dpetrie@pingtel.com>,
        "Matt Squire" <msquire@nortelnetworks.com>
Cc: "Dean Willis" <dean.willis@wcom.com>, <sip@lists.research.bell-labs.com>
Subject: RE: one-way media with 183 Session Progress
Date: Tue, 30 Nov 1999 16:33:38 -0500
Keywords: IETF
Message-ID: <NDBBKHCGKKIOOIJEGCOEMECJCMAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
In-reply-to: <38443C61.26C2FC31@pingtel.com>
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Gee, I'm not conflicted by this early media stuff at all. Let's say instead
of an SDP in the 183 Session Progress the responder put a JPEG image, or a
HTML page saying "thank you for using AT&T". Only AI level intelligence on
the part of the initiating UA would give it enough information to know for
sure what it ought to do with the content. All I see the early media as
really meaning is "hey, listen to this while I'm trying to complete your
call".

I can even see uses for this outside of the PSTN gateway scenario. For
example, I might want to supply music or audio status along with a 182
QUEUED response - you know - "please stay on the line and an agent will be
with you as soon as possible".

The fact that this is the ONLY feedback sometimes available is an
unfortunate consequence of legacy PSTN technology. The alternative is to
implement full outbound-telemarketer tone/announcement recognition
capability in every PSTN gateway. Not a tradeoff I'd like to force on the
gateway vendors (since I "are" one :-) ).

One point I did make in my comments on the original 183 draft was that we
should keep the notion of early media, along with the QoS and Security
advisories separate from the particular 1xx response type. I think the
authors agreed to separate these things.

I have one question for Dan, interspersed in his note below:

> -----Original Message-----
> From: owner-sip@lists.research.bell-labs.com
> [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Daniel G.
> Petrie
> Sent: Tuesday, November 30, 1999 4:07 PM
> To: Matt Squire
> Cc: Dean Willis; sip@lists.research.bell-labs.com
> Subject: Re: one-way media with 183 Session Progress
>
>
> The problem that I see with early media is that there is not
> enough sematics
> in the response to allow the user agent to make any decisions on
> what to do
> with the call.  The user agent may not know whether the call is
> forked and other
> responses may come back.  It does not know that whether the message to
> be played is "number you have reached is out of order" or "please
> hold your call
> is being transfered" (i.e. pending failure or setup).
>
> I understand that the gateway may not have the sematics either
> (i.e. because it
> is a simple gateway without signaling channels or it is blinded
> by a PSTN switch
> which is not sending signaling).  Passing this all the way through the SIP
> network
> without a meaning in the early media message is only passing the
> problem off. The
>
> UA is farthest from the source of the issue, how can you expect it to do
> something
> intelligent with it.  Enabling intelligence in the end point  is
> one of the
> greatest
> strengths of SIP.  I do not want to pass more noise and confusion
> to the end
> user.
> I want to filter it out.  Without any meaning to 183, the user
> agent will be
> forced
> to either make dumb decisions or overload and confuse the user with more
> messages.
>
> I can see two possible solutions:
> 1) As Matt has suggested only allow a complete session setup.
> This does not provide the UA with any more information to make a decision.
> It eliminates the decision.
>
> 2) Provide more meaningful response:
> Minimally expand to 183 Session Pending and 184 Session Failing.

Gee, if the gateway could tell that a session was failing it could probably
send back a final response directly and dispense with this stuff. As I point
out though, it isn't just failure notices that can come back in the audio.
It's anything that the PSTN stuffs in-band rather than sending back through
out-of-band signaling.

> This way
> the abiguity is not transmitted in SIP.  The meaning of 183
> Session Pending
> being that it is likely, but not guaranteed to proceed.  If a
> gateway is dumb
> or blinded, it can default to 183.  Let's not make SIP blind as well.
>
> Regards,
> Dan
>
> Matt Squire wrote:
>
> > I really don't disagree with anything you say except the conclusion:)
> >
> > As you state, the billing & QoS aspects are orthogonal to the goal of
> > getting the "number you have reached is out of order" messages
> back to the
> > SIP client.  The 183 I-D says
> >
> > "   The only method in the current SIP specification that allows the
> >    called UA to playback media is to set up a full SIP session. In PSTN
> >    interworking situations (and likely in end-to-end SIP sessions) this
> >    will cause a billing relationship to be established between networks
> >    for the session.  This causes a problem when the reason for setting
> >    up the media session is to indicate a failure in the session
> setup.  "
> >
> > This seems to indicate that billing is the major impetus for the special
> > handling of early media, and I don't think that's the case.
> >
> > If the QoS and billing are orthogonal, then the justification for this
> > seems to be that there's a slight reduction in the number of
> messages.  I
> > believe the diagrams in the I-D are slightly misleading, as the
> 183 has to
> > be sent reliably, so there are implicit acknowledgement going
> back that are
> > not shown in the pictures.  The message savings are not as shown in the
> > draft.
> >
> > People have raised issues that arise when INVITEs get forked,
> and you start
> > playing some early media like "the number has been
> disconnected" and then
> > you actually get an answer (200 OK) from another branch.
> Certainly we can
> > just have each UA handle things as they see fit, but it
> demonstrates some
> > inconsistencies with these 'half-sessions.'
> >
> > Early media sessions are media sessions.  Changing the SIP behavior to
> > accomodate billing/QoS doesn't seem necessary.  The message savings seem
> > minimal.  Forking can lead to inconsistent behavior.  The
> message seems to
> > be easily bastardizable (is that a word?) to signal 2-way media
> or anything
> > else for that matter.
> >
> > I just thought SIP had a 3way handshake to establish a media flow for a
> > reason.  Getting rid of it in special cases worries me.  But
> I'm probably
> > in the minority, so I'll shut up about it now.
> >
> > - Matt
> >
> > >The early media response is one of the few workable solutions
> to getting the
> > >"The number you have reached has been disconnected" messages
> sourced by a
> > >terminating LEC switch back to a SIP client accessing PSTN through a
> > >gateway. The terminating switch never actually sends an asnwer
> message back
> > >to the gateway to get mapped into an ACK message, so the
> originating client
> > >has to know to "listen" without ever receiving an ACK. From a
> phone company
> > >perspective, this call was never completed. Once upon a time
> the switches
> > >cut through two ways, but once people learned how to talk
> in-between the
> > >rings or send phreak tones, we switched to a one-way cut
> through towards the
> > >caller.
> > >
> > >I believe this is a completely separable issue from
> controlling the billing
> > >aspects of the call, and from establishing QoS around the call.
> > >
> > >The issue with early media is that some people see a fraud opportunity
> > >tantamount to tricking the phone company into playing the
> frauding message
> > >INSTEAD of "the number you have reached" . . .
> > >
> > >For example, in the PSTN case one might want any traffic between an IP
> > >client and a gateway to have QoS. That's easy enough to do --
> we just use
> > >RSVP to set up the QoS like we would beween any other pair of
> hosts. The DCS
> > >issues around call clipping pretty much don't occur for IP->PSTN calls,
> > >because as the gateway is known BEFORE the digits are outpulsed to the
> > >switch, QoS can be set up during the PSTN-side post-dial-delay.
> > >
> > >Incoming PSTN->IP calls have a diffeent QoS problem, but they generally
> > >don't need to worry about (and perhaps shouldn't even accept
> at the gateway)
> > >early media signaling.
> > >
> > >--
> > >Dean
> > >
> > >
>
>
>
>




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 16:57:43 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA10722
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 16:57:42 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 79F7552DD; Tue, 30 Nov 1999 16:55:21 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id E1C5652E0; Tue, 30 Nov 1999 16:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id A376B52DD
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 16:55:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 30 16:53:46 EST 1999
Received: from palrel1.hp.com ([156.153.255.242]) by dusty; Tue Nov 30 16:52:22 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by palrel1.hp.com (Postfix) with ESMTP
	id F1F3D1184; Tue, 30 Nov 1999 13:53:04 -0800 (PST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id VAA12973;
	Tue, 30 Nov 1999 21:53:03 GMT
Message-ID: <384447A0.FC4080D2@hplb.hpl.hp.com>
Date: Tue, 30 Nov 1999 21:54:40 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "David R. Oran" <oran@cisco.com>
Cc: "Daniel G. Petrie" <dpetrie@pingtel.com>,
        Matt Squire <msquire@nortelnetworks.com>,
        Dean Willis <dean.willis@wcom.com>, sip@lists.research.bell-labs.com
Subject: Re: one-way media with 183 Session Progress
References: <NDBBKHCGKKIOOIJEGCOEMECJCMAA.oran@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


"David R. Oran" wrote:
> 
> Gee, I'm not conflicted by this early media stuff at all. Let's say instead
> of an SDP in the 183 Session Progress the responder put a JPEG image, or a
> HTML page saying "thank you for using AT&T". Only AI level intelligence on
> the part of the initiating UA would give it enough information to know for
> sure what it ought to do with the content. All I see the early media as
> really meaning is "hey, listen to this while I'm trying to complete your
> call".
> 
> I can even see uses for this outside of the PSTN gateway scenario. For
> example, I might want to supply music or audio status along with a 182
> QUEUED response - you know - "please stay on the line and an agent will be
> with you as soon as possible".

Well, Matts objection remains though: whether it would be "better" to
just establish a regular SIP connection right away, play the media, and
then possibly transfer the call later.

Anders

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 17:09:44 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16718
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 17:09:43 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id ED99752D5; Tue, 30 Nov 1999 17:07:22 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 679BB52E1; Tue, 30 Nov 1999 17:07:21 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 5E7B952D5
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 17:07:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 17:06:11 EST 1999
Received: from paleale.cisco.com ([171.71.154.60]) by dusty; Tue Nov 30 17:04:49 EST 1999
Received: from OranLT ([171.69.210.5]) by paleale.cisco.com (8.8.4-Cisco.1/8.6.5) with SMTP id OAA24390; Tue, 30 Nov 1999 14:00:25 -0800 (PST)
From: "David R. Oran" <oran@cisco.com>
To: "Anders Kristensen" <ak@hplb.hpl.hp.com>
Cc: "Daniel G. Petrie" <dpetrie@pingtel.com>,
        "Matt Squire" <msquire@nortelnetworks.com>,
        "Dean Willis" <dean.willis@wcom.com>,
        <sip@lists.research.bell-labs.com>
Subject: RE: one-way media with 183 Session Progress
Date: Tue, 30 Nov 1999 17:00:24 -0500
Message-ID: <NDBBKHCGKKIOOIJEGCOEGECKCMAA.oran@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
In-reply-to: <384447A0.FC4080D2@hplb.hpl.hp.com>
Importance: Normal
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

> Well, Matts objection remains though: whether it would be "better" to
> just establish a regular SIP connection right away, play the media, and
> then possibly transfer the call later.
>
Then would you argue that the 182QUEUED response is unecessary as well?



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 17:26:23 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA25168
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 17:26:23 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id 02F7E52E1; Tue, 30 Nov 1999 17:23:34 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 5F87652E3; Tue, 30 Nov 1999 17:23:33 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2AFAB52E1
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 17:23:05 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 17:21:16 EST 1999
Received: from palrel1.hp.com ([156.153.255.242]) by dusty; Tue Nov 30 17:19:54 EST 1999
Received: from otter.hpl.hp.com (otter.hpl.hp.com [15.144.59.2])
	by palrel1.hp.com (Postfix) with ESMTP
	id 60187170A; Tue, 30 Nov 1999 14:21:05 -0800 (PST)
Received: from hplb.hpl.hp.com (kristensen-a-4.hpl.hp.com [15.144.26.238])
	by otter.hpl.hp.com (8.9.3/HP-Labs Bristol Internal Mail Hub) with ESMTP id WAA14517;
	Tue, 30 Nov 1999 22:21:04 GMT
Message-ID: <38444E31.8EAE4E9C@hplb.hpl.hp.com>
Date: Tue, 30 Nov 1999 22:22:41 +0000
From: Anders Kristensen <ak@hplb.hpl.hp.com>
Organization: HP Labs
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "David R. Oran" <oran@cisco.com>
Cc: "Daniel G. Petrie" <dpetrie@pingtel.com>,
        Matt Squire <msquire@nortelnetworks.com>,
        Dean Willis <dean.willis@wcom.com>, sip@lists.research.bell-labs.com
Subject: Re: one-way media with 183 Session Progress
References: <NDBBKHCGKKIOOIJEGCOEGECKCMAA.oran@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit


"David R. Oran" wrote:
> 
> > Well, Matts objection remains though: whether it would be "better" to
> > just establish a regular SIP connection right away, play the media, and
> > then possibly transfer the call later.
> >
> Then would you argue that the 182QUEUED response is unecessary as well?

I didn't actually argue either for or against the 183, but no I
wouldn't. I don't think that's anywhere near the same issue, though. 

The main raison d'etre for the 183 is to request the establishment of a
session before the real session. In this sense it really modifies teh
flow of a SIP session setup.  The 182 Queued is much more innocent -
just an ordinary informational response with a bit of added semantics.
The caller can ignore it and noone would really know the difference.

Anders

-- 
Anders Kristensen <ak@hplb.hpl.hp.com>,
http://www-uk.hpl.hp.com/people/ak/
Hewlett-Packard Labs, Bristol, UK



From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 17:28:26 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA26245
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 17:28:25 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id B268C52E4; Tue, 30 Nov 1999 17:23:45 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id C714952E2; Tue, 30 Nov 1999 17:23:38 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from scummy.research.bell-labs.com (research.bell-labs.com [135.104.2.10])
	by lists.research.bell-labs.com (Postfix) with SMTP id B1CDF52E2
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 17:23:07 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by scummy; Tue Nov 30 17:21:14 EST 1999
Received: from smtprtp1.ntcom.nortel.net ([137.118.22.14]) by dusty; Tue Nov 30 17:19:52 EST 1999
Received: from zcard00n.ca.nortel.com (actually zcard00n) 
          by smtprtp1.ntcom.nortel.net; Tue, 30 Nov 1999 17:20:35 -0500
Received: from zbl6c008.corpeast.baynetworks.com ([132.245.205.58]) 
          by zcard00n.ca.nortel.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id XHBWM07S; Tue, 30 Nov 1999 17:20:34 -0500
Received: from msquire (extranet-139-104.corpeast.baynetworks.com [132.245.139.104]) 
          by zbl6c008.corpeast.baynetworks.com 
          with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2448.0) 
          id WMJAGW1Q; Tue, 30 Nov 1999 17:20:31 -0500
Message-Id: <3.0.32.19991130171352.00b36800@zbl6c008.corpeast.baynetworks.com>
X-Sender: msquire@zbl6c008.corpeast.baynetworks.com
X-Mailer: Windows Eudora Pro Version 3.0 (32)
Date: Tue, 30 Nov 1999 17:14:54 -0500
To: "David R. Oran" <oran@cisco.com>, Anders Kristensen <ak@hplb.hpl.hp.com>
From: "Matt Squire" <msquire@nortelnetworks.com>
Subject: RE: one-way media with 183 Session Progress
Cc: "Daniel G. Petrie" <dpetrie@pingtel.com>,
        Dean Willis <dean.willis@wcom.com>,
        sip <sip@lists.research.bell-labs.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk

At 05:00 PM 11/30/99 -0500, David R. Oran wrote:
>> Well, Matts objection remains though: whether it would be "better" to
>> just establish a regular SIP connection right away, play the media, and
>> then possibly transfer the call later.
>>
>Then would you argue that the 182QUEUED response is unecessary as well?
>

I certainly do not argue that 182Queued is unnecessary.  Nor have I argued
that 183 is unnecessary.  Using 183 to establish preconditions (QoS,
security) for a media session is great.  I'm all for it.  

I just don't see a media session as a precondition for a media session.  If
the signalling response has semantics that can be interpreted by the
signalling layer, like 182, great.  If media is being sent back to a higher
layer that has to intepret the media and then filter some appropriate
actions back down the stack, then I'd say a media session was established.
A normal media session.  Not a half-session, not an early media session, an
honest-to-goodness media flow was established.  And I question why we need
to signal it in a different way.  

- Matt




From owner-sip-outgoing@lists.research.bell-labs.com  Tue Nov 30 17:58:01 1999
Received: from lists.research.bell-labs.com (paperless.dnrc.bell-labs.com [135.180.161.172])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA11275
	for <sip-archive@odin.ietf.org>; Tue, 30 Nov 1999 17:58:01 -0500 (EST)
Received: by lists.research.bell-labs.com (Postfix)
	id BD05C52DF; Tue, 30 Nov 1999 17:55:20 -0500 (EST)
Delivered-To: sip-outgoing-local@paperless.dnrc.bell-labs.com
Received: by lists.research.bell-labs.com (Postfix, from userid 20006)
	id 2AFEE52E5; Tue, 30 Nov 1999 17:55:20 -0500 (EST)
Delivered-To: sip-local@paperless.dnrc.bell-labs.com
Received: from grubby.research.bell-labs.com (grubby.research.bell-labs.com [135.104.2.9])
	by lists.research.bell-labs.com (Postfix) with SMTP id 2B38752DF
	for <sip@lists.research.bell-labs.com>; Tue, 30 Nov 1999 17:55:04 -0500 (EST)
Received: from dusty.research.bell-labs.com ([135.104.2.7]) by grubby; Tue Nov 30 17:54:18 EST 1999
Received: from mail.pingtel.com ([216.91.1.131]) by dusty; Tue Nov 30 17:52:55 EST 1999
Received: from pingtel.com ([10.1.1.189])
	by mail.pingtel.com (8.9.3/8.9.3) with ESMTP id SAA32588;
	Tue, 30 Nov 1999 18:05:59 -0500
Message-ID: <3844559F.4A9B3DBD@pingtel.com>
Date: Tue, 30 Nov 1999 17:54:23 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.61 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "David R. Oran" <oran@cisco.com>
Cc: Matt Squire <msquire@nortelnetworks.com>,
        Dean Willis <dean.willis@wcom.com>, sip@lists.research.bell-labs.com
Subject: Re: one-way media with 183 Session Progress
References: <NDBBKHCGKKIOOIJEGCOEMECJCMAA.oran@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-sip@lists.research.bell-labs.com
Precedence: bulk
Content-Transfer-Encoding: 7bit

Dave:
I think that we are in agreement.  The problem is that the message may indicate
a failure, queued, ringing or some other status.

Sorry  I should clearify my concern.  I do not object to early
media.  Handling the early media is not the problem.  The problem is that
183 Session Progress as it stands gives no indication of the meaning of the
message.  It contains little more status than a 100.  Will the user hear a
happy message or a sad one?  ;-)

One comment below:
Cheers,
Dan



"David R. Oran" wrote:

> Gee, I'm not conflicted by this early media stuff at all. Let's say instead
> of an SDP in the 183 Session Progress the responder put a JPEG image, or a
> HTML page saying "thank you for using AT&T". Only AI level intelligence on
> the part of the initiating UA would give it enough information to know for
> sure what it ought to do with the content. All I see the early media as
> really meaning is "hey, listen to this while I'm trying to complete your
> call".
>
> I can even see uses for this outside of the PSTN gateway scenario. For
> example, I might want to supply music or audio status along with a 182
> QUEUED response - you know - "please stay on the line and an agent will be
> with you as soon as possible".
>
> The fact that this is the ONLY feedback sometimes available is an
> unfortunate consequence of legacy PSTN technology. The alternative is to
> implement full outbound-telemarketer tone/announcement recognition
> capability in every PSTN gateway. Not a tradeoff I'd like to force on the
> gateway vendors (since I "are" one :-) ).
>

I am not suggesting that every gateway need be full featured.  A simple gateway
could always default to 180 Ringing or 182 Queued.  This signaling problem
exists
with the PSTN and/or Gateway interface.  I am suggesting that we leave it there,

not propogate it through SIP.  Over time I would hope that the PSTN signaling
and/or gateway capabilities will evolve to make it economically feasable to fix
this interface, transparently to the rest of the SIP world.

>
> One point I did make in my comments on the original 183 draft was that we
> should keep the notion of early media, along with the QoS and Security
> advisories separate from the particular 1xx response type. I think the
> authors agreed to separate these things.
>
> I have one question for Dan, interspersed in his note below:
>
> > -----Original Message-----
> > From: owner-sip@lists.research.bell-labs.com
> > [mailto:owner-sip@lists.research.bell-labs.com]On Behalf Of Daniel G.
> > Petrie
> > Sent: Tuesday, November 30, 1999 4:07 PM
> > To: Matt Squire
> > Cc: Dean Willis; sip@lists.research.bell-labs.com
> > Subject: Re: one-way media with 183 Session Progress
> >
> >
> > The problem that I see with early media is that there is not
> > enough sematics
> > in the response to allow the user agent to make any decisions on
> > what to do
> > with the call.  The user agent may not know whether the call is
> > forked and other
> > responses may come back.  It does not know that whether the message to
> > be played is "number you have reached is out of order" or "please
> > hold your call
> > is being transfered" (i.e. pending failure or setup).
> >
> > I understand that the gateway may not have the sematics either
> > (i.e. because it
> > is a simple gateway without signaling channels or it is blinded
> > by a PSTN switch
> > which is not sending signaling).  Passing this all the way through the SIP
> > network
> > without a meaning in the early media message is only passing the
> > problem off. The
> >
> > UA is farthest from the source of the issue, how can you expect it to do
> > something
> > intelligent with it.  Enabling intelligence in the end point  is
> > one of the
> > greatest
> > strengths of SIP.  I do not want to pass more noise and confusion
> > to the end
> > user.
> > I want to filter it out.  Without any meaning to 183, the user
> > agent will be
> > forced
> > to either make dumb decisions or overload and confuse the user with more
> > messages.
> >
> > I can see two possible solutions:
> > 1) As Matt has suggested only allow a complete session setup.
> > This does not provide the UA with any more information to make a decision.
> > It eliminates the decision.
> >
> > 2) Provide more meaningful response:
> > Minimally expand to 183 Session Pending and 184 Session Failing.
>
> Gee, if the gateway could tell that a session was failing it could probably
> send back a final response directly and dispense with this stuff. As I point
> out though, it isn't just failure notices that can come back in the audio.
> It's anything that the PSTN stuffs in-band rather than sending back through
> out-of-band signaling.
>
> > This way
> > the abiguity is not transmitted in SIP.  The meaning of 183
> > Session Pending
> > being that it is likely, but not guaranteed to proceed.  If a
> > gateway is dumb
> > or blinded, it can default to 183.  Let's not make SIP blind as well.
> >
> > Regards,
> > Dan
> >
> > Matt Squire wrote:
> >
> > > I really don't disagree with anything you say except the conclusion:)
> > >
> > > As you state, the billing & QoS aspects are orthogonal to the goal of
> > > getting the "number you have reached is out of order" messages
> > back to the
> > > SIP client.  The 183 I-D says
> > >
> > > "   The only method in the current SIP specification that allows the
> > >    called UA to playback media is to set up a full SIP session. In PSTN
> > >    interworking situations (and likely in end-to-end SIP sessions) this
> > >    will cause a billing relationship to be established between networks
> > >    for the session.  This causes a problem when the reason for setting
> > >    up the media session is to indicate a failure in the session
> > setup.  "
> > >
> > > This seems to indicate that billing is the major impetus for the special
> > > handling of early media, and I don't think that's the case.
> > >
> > > If the QoS and billing are orthogonal, then the justification for this
> > > seems to be that there's a slight reduction in the number of
> > messages.  I
> > > believe the diagrams in the I-D are slightly misleading, as the
> > 183 has to
> > > be sent reliably, so there are implicit acknowledgement going
> > back that are
> > > not shown in the pictures.  The message savings are not as shown in the
> > > draft.
> > >
> > > People have raised issues that arise when INVITEs get forked,
> > and you start
> > > playing some early media like "the number has been
> > disconnected" and then
> > > you actually get an answer (200 OK) from another branch.
> > Certainly we can
> > > just have each UA handle things as they see fit, but it
> > demonstrates some
> > > inconsistencies with these 'half-sessions.'
> > >
> > > Early media sessions are media sessions.  Changing the SIP behavior to
> > > accomodate billing/QoS doesn't seem necessary.  The message savings seem
> > > minimal.  Forking can lead to inconsistent behavior.  The
> > message seems to
> > > be easily bastardizable (is that a word?) to signal 2-way media
> > or anything
> > > else for that matter.
> > >
> > > I just thought SIP had a 3way handshake to establish a media flow for a
> > > reason.  Getting rid of it in special cases worries me.  But
> > I'm probably
> > > in the minority, so I'll shut up about it now.
> > >
> > > - Matt
> > >
> > > >The early media response is one of the few workable solutions
> > to getting the
> > > >"The number you have reached has been disconnected" messages
> > sourced by a
> > > >terminating LEC switch back to a SIP client accessing PSTN through a
> > > >gateway. The terminating switch never actually sends an asnwer
> > message back
> > > >to the gateway to get mapped into an ACK message, so the
> > originating client
> > > >has to know to "listen" without ever receiving an ACK. From a
> > phone company
> > > >perspective, this call was never completed. Once upon a time
> > the switches
> > > >cut through two ways, but once people learned how to talk
> > in-between the
> > > >rings or send phreak tones, we switched to a one-way cut
> > through towards the
> > > >caller.
> > > >
> > > >I believe this is a completely separable issue from
> > controlling the billing
> > > >aspects of the call, and from establishing QoS around the call.
> > > >
> > > >The issue with early media is that some people see a fraud opportunity
> > > >tantamount to tricking the phone company into playing the
> > frauding message
> > > >INSTEAD of "the number you have reached" . . .
> > > >
> > > >For example, in the PSTN case one might want any traffic between an IP
> > > >client and a gateway to have QoS. That's easy enough to do --
> > we just use
> > > >RSVP to set up the QoS like we would beween any other pair of
> > hosts. The DCS
> > > >issues around call clipping pretty much don't occur for IP->PSTN calls,
> > > >because as the gateway is known BEFORE the digits are outpulsed to the
> > > >switch, QoS can be set up during the PSTN-side post-dial-delay.
> > > >
> > > >Incoming PSTN->IP calls have a diffeent QoS problem, but they generally
> > > >don't need to worry about (and perhaps shouldn't even accept
> > at the gateway)
> > > >early media signaling.
> > > >
> > > >--
> > > >Dean
> > > >
> > > >
> >
> >
> >
> >




