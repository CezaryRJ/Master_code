From sip-bounces@ietf.org  Tue Sep  2 11:20:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2F4003A6ACD;
	Tue,  2 Sep 2008 11:20:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 88D3C3A68F9
	for <sip@core3.amsl.com>; Tue,  2 Sep 2008 11:20:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.249
X-Spam-Level: 
X-Spam-Status: No, score=-6.249 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_SE=0.35, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rdJZm4DQNUp4 for <sip@core3.amsl.com>;
	Tue,  2 Sep 2008 11:20:11 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 6CFCE3A680A
	for <sip@ietf.org>; Tue,  2 Sep 2008 11:20:11 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	009D320B68; Tue,  2 Sep 2008 20:20:06 +0200 (CEST)
X-AuditID: c1b4fb3c-ae0cebb0000015b5-8d-48bd83d62871
Received: from esealmw127.eemea.ericsson.se (unknown [153.88.254.122])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	D8E5A20B62; Tue,  2 Sep 2008 20:20:06 +0200 (CEST)
Received: from esealmw127.eemea.ericsson.se ([153.88.254.175]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 2 Sep 2008 20:20:06 +0200
Received: from [131.160.126.4] ([131.160.126.4]) by
	esealmw127.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 2 Sep 2008 20:20:06 +0200
Message-ID: <48BD83D6.4090202@ericsson.com>
Date: Tue, 02 Sep 2008 21:20:06 +0300
From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Paul Kyzivat <pkyzivat@cisco.com>
References: <20080808090001.570B63A6CC6@core3.amsl.com>
	<48A21CC2.5060906@cisco.com>
In-Reply-To: <48A21CC2.5060906@cisco.com>
X-OriginalArrivalTime: 02 Sep 2008 18:20:06.0321 (UTC)
	FILETIME=[8680CA10:01C90D28]
X-Brightmail-Tracker: AAAAAA==
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] I-D Action:draft-ietf-sip-body-handling-03.txt
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi Paul,

Section 9 of the draft contains the following text:

    Authors of SIP extensions making use of 'multipart/related' bodies
    have to explicitly address the handling of the disposition types of
    the body parts within the 'multipart/related' body.  Authors wishing
    to make use of 'multipart/related' bodies should keep in mind that
    UAs that do not understand 'multipart/related' will treat it as
    'multipart/mixed'.

Let me know whether or not you think this text is enough and, if not, 
please propose the additions, removals, or modifications to the current 
text that you think are needed.

Thanks,

Gonzalo


Paul Kyzivat wrote:
> I took a look at this (actually just the diffs), and it looks fine.
> 
> I have one question after reading the additions about multipart/related:
> 
> There is talk about extensions that use multipart/related, and what they 
> must do. This implies an assumption that it cannot be used *without* an 
> exception. Is that the case? If so, is it also the case for other kinds 
> of multipart?
> 
> My assumption is that, at least for multipart/mixed, no extension is 
> required. E.g. I can just put a multipart/mixed body in my INVITE, make 
> one body part be SDP, and others be anything I like, whether the 
> recipient can make use of them or not.
> 
> Similarly for multipart/alternative. I *think* I should be able to take 
> any request that currently expects a body part of some type, and put a 
> multipart/alternative in, with one part being the expected type, and one 
> or more other contained body parts containing what *I* consider to be 
> alternatives. E.g. a MESSAGE with a multipart/alternative containing 
> text/plain and text/html. And it shouldn't require any extension to 
> MESSAGE to support that. Right?
> 
> With multipart/related I am inclined to agree that it makes no sense 
> without some specification of what the collection is for.
> 
> Would it be good to put some words about what is/isn't required into the 
> document?
> 
>     Thanks,
>     Paul

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep  3 09:03:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A04A53A6983;
	Wed,  3 Sep 2008 09:03:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 856613A68D2
	for <sip@core3.amsl.com>; Wed,  3 Sep 2008 09:03:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.598
X-Spam-Level: 
X-Spam-Status: No, score=-2.598 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id dd3T50SGwwH4 for <sip@core3.amsl.com>;
	Wed,  3 Sep 2008 09:03:18 -0700 (PDT)
Received: from ug-out-1314.google.com (ug-out-1314.google.com [66.249.92.168])
	by core3.amsl.com (Postfix) with ESMTP id B7A2B3A6AD5
	for <sip@ietf.org>; Wed,  3 Sep 2008 09:03:17 -0700 (PDT)
Received: by ug-out-1314.google.com with SMTP id u2so1828135uge.15
	for <sip@ietf.org>; Wed, 03 Sep 2008 09:02:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=zZKq03UqOS4Wg1c83eozBxYRhsPnfvPs+HYaDMKmDa8=;
	b=YWI7sAy9gPC3vSdkMuiYD+otvcgdoKVPeW9+9NDHu+KWUDFBGRwsdYZGj4xcvZRw8c
	8mCfAXjcTND7QM4gscGDDKpRCDNRRPqed2Om0eUJGqgPMfv+Sax1CXeNiExdS+/99/st
	Yi4l3ZPiHxKcV8C89Nweqi78R0j5L+ZCvbyno=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
	:content-type:references;
	b=c6tt83aRtVUMQ2NsvmyYial1hy4G3QtyCTZXgc//L0lQpjRKACoIiZ7OVj4kHc74Pj
	8IzoxAxvwkVEMJ0DZkFPByvOhpQrurKSjU08/PHynT55hCexfUEJ6lW9h+PtfrfT3r0S
	XQ7qrW70QIsUOKiOYxHTHy6alGdQxk/C7e/0s=
Received: by 10.103.228.12 with SMTP id f12mr6494641mur.28.1220457757982;
	Wed, 03 Sep 2008 09:02:37 -0700 (PDT)
Received: by 10.103.138.15 with HTTP; Wed, 3 Sep 2008 09:02:37 -0700 (PDT)
Message-ID: <99a18c3a0809030902k6f05a1a4ya53bbc53020dd065@mail.gmail.com>
Date: Wed, 3 Sep 2008 18:02:37 +0200
From: frank <franksked@gmail.com>
To: "Anisha Kumar" <anisha.kumar@nestgroup.net>
In-Reply-To: <9A1299C7A40D7447A108107E951450CA09AC9601@MAIL-TVM.tvm.nestgroup.net>
MIME-Version: 1.0
References: <9A1299C7A40D7447A108107E951450CA09AC9601@MAIL-TVM.tvm.nestgroup.net>
Cc: sip@ietf.org, discussion@sipforum.org
Subject: Re: [Sip] SIP Trunk implementation in a PBX
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0194692208=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0194692208==
Content-Type: multipart/alternative; 
	boundary="----=_Part_22611_5791704.1220457757950"

------=_Part_22611_5791704.1220457757950
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Anisha,
Please realise that the concept of "trunks" doesnt' isn't really taken into
account in the SIP specifications. You will have to read between the lines
to find out how this traditional telephony construct can be mapped to the
SIP domain. The best starting point is probably the SIPConnect spec.

Cheers,

Frank

On Thu, Aug 28, 2008 at 1:49 PM, Anisha Kumar <anisha.kumar@nestgroup.net>wrote:

> Hi all ,
>
>  Is there any specification or RFC detailing the implementations for
> SIP trunking. Can anyone provide details on how to implement SIP
> trunking functionality to an existing IP-PBX ? Any inputs will be highly
> useful.
>
>  Awaiting a positive response.
>
> Regards,
> Anisha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

------=_Part_22611_5791704.1220457757950
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">Anisha,<div><br><div>Please realise that the concept of &quot;trunks&quot; doesnt&#39; isn&#39;t really taken into account in the SIP specifications. You will have to read between the lines to find out how this traditional telephony construct can be mapped to the SIP domain. The best starting point is probably the SIPConnect spec.</div>
<div><br></div><div>Cheers,</div><div><br></div><div>Frank<br><br><div class="gmail_quote">On Thu, Aug 28, 2008 at 1:49 PM, Anisha Kumar <span dir="ltr">&lt;<a href="mailto:anisha.kumar@nestgroup.net">anisha.kumar@nestgroup.net</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">Hi all ,<br>
<br>
 &nbsp;Is there any specification or RFC detailing the implementations for<br>
SIP trunking. Can anyone provide details on how to implement SIP<br>
trunking functionality to an existing IP-PBX ? Any inputs will be highly<br>
useful.<br>
<br>
&nbsp;Awaiting a positive response.<br>
<br>
Regards,<br>
Anisha<br>
_______________________________________________<br>
Sip mailing list &nbsp;<a href="https://www.ietf.org/mailman/listinfo/sip" target="_blank">https://www.ietf.org/mailman/listinfo/sip</a><br>
This list is for NEW development of the core SIP Protocol<br>
Use <a href="mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.columbia.edu</a> for questions on current sip<br>
Use <a href="mailto:sipping@ietf.org">sipping@ietf.org</a> for new developments on the application of sip<br>
</blockquote></div><br></div></div></div>

------=_Part_22611_5791704.1220457757950--

--===============0194692208==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0194692208==--


From sip-bounces@ietf.org  Thu Sep  4 07:36:07 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BBA663A6BF6;
	Thu,  4 Sep 2008 07:36:07 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0AF5D3A6BDD
	for <sip@core3.amsl.com>; Thu,  4 Sep 2008 07:36:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4-12qFUjIc17 for <sip@core3.amsl.com>;
	Thu,  4 Sep 2008 07:36:03 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 882963A6BDB
	for <sip@ietf.org>; Thu,  4 Sep 2008 07:36:02 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m84Ea6KM055539
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO)
	for <sip@ietf.org>; Thu, 4 Sep 2008 09:36:07 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <D0BE61AA-C273-4640-B225-531879EC69E1@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: SIP IETF <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Thu, 4 Sep 2008 09:36:06 -0500
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
Subject: [Sip] Reminder: SIPit registration
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1241471270=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1241471270==
Content-Type: multipart/alternative; boundary=Apple-Mail-87--433885125


--Apple-Mail-87--433885125
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Registration for SIPit 23 closes in 4 weeks. If you are planning to  
attend, please register today.

SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI  
with technical support from France-Telecom Orange Labs.

Registration is 490Euro per participant, and the deadline for  
registration is October 3.

Attendees are strongly encouraged to make reservations and travel  
arrangements as soon as possible.

More information and links to registration are available at
http://www.sipit.net
and
http://www.etsi.org/plugtests/SIPit/SIPit.htm

Thanks,

RjS
--Apple-Mail-87--433885125
Content-Type: text/html;
	charset=US-ASCII
Content-Transfer-Encoding: 7bit

<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>Registration for SIPit 23 closes in 4 weeks. If you are planning to attend, please register today.</div><div><br></div>SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI with technical support from France-Telecom Orange Labs.<br><br>Registration is 490Euro per participant, and the deadline for registration is October 3.<br><br>Attendees are strongly encouraged to make reservations and travel arrangements as soon as possible.<br><br>More information and links to registration are available at<br><a href="http://www.sipit.net/">http://www.sipit.net</a><br>and<br><a href="http://www.etsi.org/plugtests/SIPit/SIPit.htm">http://www.etsi.org/plugtests/SIPit/SIPit.htm</a><br><br>Thanks,<br><br>RjS</body></html>
--Apple-Mail-87--433885125--

--===============1241471270==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1241471270==--


From sip-bounces@ietf.org  Thu Sep  4 10:47:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC03F3A692A;
	Thu,  4 Sep 2008 10:47:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 496683A6834
	for <sip@core3.amsl.com>; Thu,  4 Sep 2008 10:47:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.274
X-Spam-Level: 
X-Spam-Status: No, score=-2.274 tagged_above=-999 required=5 tests=[AWL=0.325, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mN0uGqge3OEV for <sip@core3.amsl.com>;
	Thu,  4 Sep 2008 10:47:05 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 8AEA03A692A
	for <sip@ietf.org>; Thu,  4 Sep 2008 10:47:05 -0700 (PDT)
Received: from [192.168.2.2] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m84Hl7dK018617
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <sip@ietf.org>; Thu, 4 Sep 2008 12:47:08 -0500
Message-ID: <48C01F15.3060601@softarmor.com>
Date: Thu, 04 Sep 2008 12:47:01 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14eol (X11/20080724)
MIME-Version: 1.0
To: sip@ietf.org
X-Enigmail-Version: 0.94.2.0
Subject: [Sip] SIPIt registration Reminder
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


This from our own Robert Sparks, who is coordinating this event:

------
Registration for SIPit 23 closes in 4 weeks. If you are planning to
attend, please register today.

SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI
with technical support from France-Telecom Orange Labs.

Registration is 490Euro per participant, and the deadline for
registration is October 3.

Attendees are strongly encouraged to make reservations and travel
arrangements as soon as possible.

More information and links to registration are available at
http://www.sipit.net
and
http://www.etsi.org/plugtests/SIPit/SIPit.htm

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep  5 13:15:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DC75C28C0E2;
	Fri,  5 Sep 2008 13:15:39 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB26B28C0E2
	for <sip@core3.amsl.com>; Fri,  5 Sep 2008 13:15:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5 tests=[AWL=0.000,
	BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RDC8ehezAtbe for <sip@core3.amsl.com>;
	Fri,  5 Sep 2008 13:15:37 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 6FD3A3A6AD9
	for <sip@ietf.org>; Fri,  5 Sep 2008 13:15:37 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m85KFYEP056019
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Fri, 5 Sep 2008 15:15:34 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
From: Robert Sparks <rjsparks@nostrum.com>
To: Michael Procter <michael@procter.org.uk>
In-Reply-To: <1874.87.194.179.229.1216300818.squirrel@webmail.procter.org.uk>
X-Priority: 3 (Normal)
References: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc>
	<CFE48150-62DD-465B-937F-110C9D56588A@nostrum.com>
	<89B3083B-309D-41D2-99CE-62803C9D8AA1@nostrum.com>
	<906A9DC6-4BA4-4C41-BE74-ABD799B9E33C@nostrum.com>
	<1874.87.194.179.229.1216300818.squirrel@webmail.procter.org.uk>
Message-Id: <74141D39-5823-46E1-B540-06E75AF94219@nostrum.com>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Fri, 5 Sep 2008 15:15:34 -0500
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
Cc: "SIP@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

(sorry for the lag)

All fixes incorporated

On Jul 17, 2008, at 8:20 AM, Michael Procter wrote:

> Hi Robert,
>
> On Thu, July 3, 2008 6:32 pm, Robert Sparks wrote:
>> Please review this carefully. (We really need a _lot_ of people to
>> think about it, not just a few).
>
> I've been through this draft recently, and it broadly matches up to  
> the
> changes we have been using successfully for a while now (modulo some
> implementation details).  I only have a few minor comments:
>
> Figure 2:
> This might be a minor typo, or I may have completely misunderstood the
> draft.  Should the state labelled 'Completed' actually be labelled
> 'Accepted'?
>
> 8.4 para 7:
> The first sentence is a little awkward.  It currently contains
>   'the "Accepted" state, The client'
>
> Obvious fixes are either
>   'the "Accepted" state.  The client'
> or
>   'the "Accepted" state, the client'
> but both end up with the sentence sounding a bit clumsy.
>
> You could replace the entire sentence with something like this:
>   When in either the "Calling" or "Proceeding" states a 2xx response  
> is
>   received, the client transaction MUST transition to the "Accepted"
>   state, and Timer M MUST be started with a value of 64*T1. The 2xx
>   response MUST be passed up to the TU.
>
> Minor typos
> ===========
> 7.1 para 2:
> "transisition" should be "transition"
>
> 7.3 para 1:
> "any response SIP response" should be "any SIP response"
>
> Figure 3:
> "Timer B fired" should be "Timer B fires" (and used to be)
>
> 8.10 Timer M:
> "retranmission" should be "retransmission"
>
> Best regards,
>
> Michael
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep  5 13:17:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC67B3A6B01;
	Fri,  5 Sep 2008 13:17:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 077A228C0F7
	for <sip@core3.amsl.com>; Fri,  5 Sep 2008 13:17:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5 tests=[AWL=0.000,
	BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QhwtRmOBiP1g for <sip@core3.amsl.com>;
	Fri,  5 Sep 2008 13:17:08 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 2E7B028C0E5
	for <sip@ietf.org>; Fri,  5 Sep 2008 13:17:07 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.2/8.14.1) with ESMTP id m85KH4Qk065820
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Fri, 5 Sep 2008 15:17:04 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <F8D9C59B-5C82-40FF-A517-7BDE7AE95E31@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Kolomaznik Jan <Jan.Kolomaznik@sitronicsts.com>
In-Reply-To: <C756BE639CE70040B64A183F46B6AA3F92FEA6@exalfa.stromtelecom.cz>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Fri, 5 Sep 2008 15:17:04 -0500
References: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc><CFE48150-62DD-465B-937F-110C9D56588A@nostrum.com><89B3083B-309D-41D2-99CE-62803C9D8AA1@nostrum.com>
	<906A9DC6-4BA4-4C41-BE74-ABD799B9E33C@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3F92FEA6@exalfa.stromtelecom.cz>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
Cc: "SIP@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Nits fixed.

For your suggestion 4 below:

It would not be the right thing to transition to Terminated - we want  
the transaction state to still be around to receive any  
retransmissions of the INVITE, but it might make sense to tell the TU  
that its 2xx's aren't going anywhere. I'll work that into the figure  
and text unless someone objects here quickly.

RjS

On Jul 23, 2008, at 10:27 AM, Kolomaznik Jan wrote:

> I have just a couple of nits:
>
> 1. State labeled Completed on Figure 2 should be labeled Accepted
>
> 2. section 7.3 paragraph 1 contains "... receiving any response SIP
> response ..."
>
> 3. While whole section 18 in RFC 3261 deals with SIP transport layer
> regardless transaction stateful or stateless behavior, it could be
> explicitly clarified that suggested change of section 18.1.2 (in  
> invfix
> section 8.8) tells just about stateful behavior.
>
> 4. INVITE server state machine doesn't react to transport error in
> Accepted state. It could contain transition from Accepted to  
> Terminated
> state conditioned by transport error - analogy to transitions from
> Proceeding and Completed states.
>
> Jan
>
>
> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Robert Sparks
> Sent: Thursday, July 03, 2008 7:32 PM
> To: Robert Sparks
> Cc: SIP@ietf.org List; Brett Tate
> Subject: [Sip] draft-sparks-sip-invfix-02 (was
> Re:draft-sparks-sip-invfix-01: comments and questions)
>
> Ok, I've just submitted -02 of the INVITE fix draft.
>
> There is one really big change to correct the bug Brett found in the
> thread below.
> There's a new state in the INVITE client transaction and an associated
> new timer.
>
> The attempt to reuse Completed as in the previous draft  didn't work
> out -
> Setting Timer D to 0 for TCP caused the wrong things to happen if we
> were in
> that state waiting for additional 2xxs. So, instead of always setting
> Timer D to 64*T1,
> regardless of transport,  this draft uses a new "Accepted" state
> instead. This way
> transactions that get a 3xx or greater response over TCP can still go
> away quickly.
>
> There's a smaller related change - 3261 had setting Timer D at SHOULD
> strength.
> I can't remember why that wasn't a MUST (and neither can anyone I've
> asked), and
> it _really_ breaks things if it doesn't get set when using UDP, so
> I've changed that
> to a MUST in this draft.
>
> Please review this carefully. (We really need a _lot_ of people to
> think about it, not
> just a few).
>
> http://www.ietf.org/internet-drafts/draft-sparks-sip-invfix-02.txt
>
> RjS
>
> On Jun 19, 2008, at 4:57 PM, Robert Sparks wrote:
>
>> Hrm.
>>
>> While working this over, it occurs to me that this might not be the
>> right thing to do.
>>
>> It would force the client transaction to continue to exist for 32
>> seconds(ish) after acknowledging
>> a >=300 response over TCP. There's no reason to do so in this case
>> since there will never be
>> a retransmission of the response to absorb (failure responses are
>> hop-by-hop and the hop is TCP,
>> so this client would not have retransmitted the request).
>>
>> It probably makes more sense to use another state in the client,
>> matching the new state in the server
>> instead of just trying to reuse this existing state. This new state
>> would be where the client transaction
>> sits waiting for multiple (or retransmitted) 2xx responses. The
>> Completed state would, then, be
>> completely unchanged from what's in 3261.
>>
>> Anyhow, the next rev will have a concrete proposal.
>>
>> RjS
>>
>> On Jun 19, 2008, at 4:42 PM, Robert Sparks wrote:
>>
>>> Hi Brett -
>>>
>>> I got to go through this very carefully today. You found a real bug
>>> here.
>>> Timer D is going to have to be set to 64*T1 without regard to
>>> transport.
>>> It needs to balance what's potentially happening on the server side
>>> with
>>> either Timer H or Timer L.
>>>
>>> I'll also go through the whole text again to see if this was an
>>> isolated bug
>>> or a class-of bug that has other instances, and will issue an
>>> update to the
>>> draft shortly.
>>>
>>> RjS
>>>
>>> On May 27, 2008, at 10:01 AM, Brett Tate wrote:
>>>
>>>> Thanks for the response.  Reply inline.
>>>>
>>>>>> Section 8.4:
>>>>>>
>>>>>> Concerning timer D and "zero seconds for reliable
>>>>>> transports", is "reliable" obtained from INVITE
>>>>>> or ACK.
>>>>>>
>>>>>> Concerning timer D being zero, at first glance
>>>>>> it looks like the state machine text no longer
>>>>>> ensures ACK will be sent for extra 2xx or
>>>>>> 300-699.  The same applies, to ensuring ACK resent
>>>>>> in situations where transport not reliable
>>>>>> end-to-end.  Per 7.2 paragraph 2, this might be
>>>>>> intentional; if so, the motivation and flexibility
>>>>>> in handling from section 7.2 should potentially
>>>>>> also be included within 8.4.  If I'm misinterpreting
>>>>>> the fix, where does it say the ACK MUST, SHOULD, or
>>>>>> MAY still be (re-)sent for the extra responses when
>>>>>> timer D is 0?
>>>>>
>>>>> Well, the main requirement you're looking for is
>>>>> (still) on the TU.  But I see your point in wondering
>>>>> if a retransmitted 200 will still  _get_ to the TU if
>>>>> it came over UDP. Let me look at it for awhile.
>>>>
>>>> Okay.
>>>>
>>>>
>>>>> To carve that away from some of the other questions
>>>>> you ask above:
>>>>>
>>>>> You're talking about receiving a response over a
>>>>> reliable transport  (like TCP).
>>>>>
>>>>> Over such a transport, there won't _be_ any
>>>>> additional 300-699 responses unless the thing on the
>>>>> other end is violating the specification - remember
>>>>> those are hop-by-hop messages, and the thing sending
>>>>> them is required to hand reliability to the reliable
>>>>> transport (it won't retransmit - timer G is not set
>>>>> for reliable transports).  The path through the machines
>>>>> when a 300-699 occurs hasn't changed from 3261.
>>>>
>>>> By extra 300-699, I was mainly referring to 1) race conditions
>>>> with 2xx
>>>> and 2) interoperability with pre-rfc3261 devices.
>>>>
>>>> 1) This should be rare since usually only results from connection
>>>> issues, threading issues, or stateless proxy issues causing the
>>>> reordering.
>>>>
>>>> 2) Unfortunately this is not as rare as everyone would like.
>>>> However it
>>>> is likely not much of an issue if the invfix chooses not to remain
>>>> backwards compatible with rfc2543 concerning resending the ACK.
>>>>
>>>>
>>>>> For a 200 class response, the transaction state machine doesn't
>>>>> send
>>>>> the ACK - that is still the TU's job and this draft doesn't change
>>>>> that. What we need to make sure is that we're leaving the path
>>>>> for a
>>>>> retransmitted (or a 200 from another branch) to _get_ to the TU. I
>>>>> thought we had, but its possible that's messed up. I'll look at it
>>>>> some more.
>>>>
>>>> Okay.
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Sep  7 04:43:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4BFB53A682F;
	Sun,  7 Sep 2008 04:43:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B65583A682F
	for <sip@core3.amsl.com>; Sun,  7 Sep 2008 04:43:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 1.167
X-Spam-Level: *
X-Spam-Status: No, score=1.167 tagged_above=-999 required=5 tests=[AWL=-0.528, 
	BAYES_40=-0.185, HELO_EQ_IT=0.635, HOST_EQ_IT=1.245]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J5QUJpYRX3WD for <sip@core3.amsl.com>;
	Sun,  7 Sep 2008 04:43:33 -0700 (PDT)
Received: from smtp.cnr.it (dhcp31.iit.cnr.it [146.48.99.94])
	by core3.amsl.com (Postfix) with ESMTP id EFD133A680D
	for <sip@ietf.org>; Sun,  7 Sep 2008 04:43:32 -0700 (PDT)
Received: by smtp.cnr.it (Postfix, from userid 1000)
	id 94734ACE6B; Sun,  7 Sep 2008 13:43:33 +0200 (CEST)
From: Francesco la Torre <frankernet@tiscali.it>
To: sip@ietf.org
Date: Sun, 07 Sep 2008 13:43:32 +0200
Message-Id: <1220787812.11157.8.camel@ubuntu-ser>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.3.1 
Subject: [Sip] Dubt on RFC 4484-Trait-Based Authorization Requirements for
	SIP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi all,
I've a doubt regarding a statement at the end of page 5 

"... Some important design decisions are associated with carrying
assertions in a SIP request.  If an assertion is carried by value, or
uses a MIME-based content indirection system, then proxy servers will be
unable to inspect the assertion themselves.  If the assertion were
referenced in a header, however, it might be possible for the proxy
to acquire and inspect the assertion itself.  There ..."

Why a proxy server will be unable to inspect the assertion themself ?

Thanks in advance,
Francesco la Torre

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep  8 01:05:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2C1E43A6C10;
	Mon,  8 Sep 2008 01:05:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1C6F93A69D4
	for <sip@core3.amsl.com>; Mon,  8 Sep 2008 01:05:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.25
X-Spam-Level: 
X-Spam-Status: No, score=-1.25 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_CZ=0.445, HOST_EQ_CZ=0.904]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tSEwilNJZpoa for <sip@core3.amsl.com>;
	Mon,  8 Sep 2008 01:05:39 -0700 (PDT)
Received: from mail.strom.cz (mail.strom.cz [80.95.102.231])
	by core3.amsl.com (Postfix) with ESMTP id 62BFD3A6C10
	for <sip@ietf.org>; Mon,  8 Sep 2008 01:05:38 -0700 (PDT)
Received: from exalfa.stromtelecom.cz ([172.16.16.10]) by mail.strom.cz with
	Microsoft SMTPSVC(6.0.3790.3959); Mon, 8 Sep 2008 10:05:39 +0200
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 8 Sep 2008 10:05:36 +0200
Message-ID: <C756BE639CE70040B64A183F46B6AA3FA47EC5@exalfa.stromtelecom.cz>
In-Reply-To: <F8D9C59B-5C82-40FF-A517-7BDE7AE95E31@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
Thread-Index: AckPlGL/uxy7YjFhRPaSXl1TSumJaAB9FOpQ
References: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc><CFE48150-62DD-465B-937F-110C9D56588A@nostrum.com><89B3083B-309D-41D2-99CE-62803C9D8AA1@nostrum.com>
	<906A9DC6-4BA4-4C41-BE74-ABD799B9E33C@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3F92FEA6@exalfa.stromtelecom.cz>
	<F8D9C59B-5C82-40FF-A517-7BDE7AE95E31@nostrum.com>
From: "Kolomaznik Jan" <Jan.Kolomaznik@sitronicsts.com>
To: "Robert Sparks" <rjsparks@nostrum.com>
X-OriginalArrivalTime: 08 Sep 2008 08:05:39.0032 (UTC)
	FILETIME=[AE5D6D80:01C91189]
Cc: "SIP@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

OK, but if we want to receive and mask all request retransmissions on trans=
action layer, this problem is more general. Than we probably need to inform=
 TU about transport error, create a new state, and stay there enough time t=
o absorb all retransmissions of INVITE request.  And this is needed for tra=
nsport error reaction not only in Accepted state, but also for transport er=
ror in Proceeding and Completed states. There also may be a question whethe=
r to inform TU about transport error in Proceeding and Completed states whi=
le there is probably no state of TU in these states of transaction layer.

Please note that if we accept that the SIP transaction layer has to receive=
 and mask all request retransmissions when it detects a transport error, th=
en also non-INVITE server transaction should be changed - reaction to trans=
port error in Proceeding and Completed states.

Kolomaz


-----Original Message-----
From: Robert Sparks [mailto:rjsparks@nostrum.com] =

Sent: 5. z=E1=F8=ED 2008 22:17
To: Kolomaznik Jan
Cc: SIP@ietf.org List
Subject: Re: [Sip] draft-sparks-sip-invfix-02 (was Re:draft-sparks-sip-invf=
ix-01: comments and questions)

Nits fixed.

For your suggestion 4 below:

It would not be the right thing to transition to Terminated - we want  =

the transaction state to still be around to receive any  =

retransmissions of the INVITE, but it might make sense to tell the TU  =

that its 2xx's aren't going anywhere. I'll work that into the figure  =

and text unless someone objects here quickly.

RjS

On Jul 23, 2008, at 10:27 AM, Kolomaznik Jan wrote:

> I have just a couple of nits:
>
> 1. State labeled Completed on Figure 2 should be labeled Accepted
>
> 2. section 7.3 paragraph 1 contains "... receiving any response SIP
> response ..."
>
> 3. While whole section 18 in RFC 3261 deals with SIP transport layer
> regardless transaction stateful or stateless behavior, it could be
> explicitly clarified that suggested change of section 18.1.2 (in  =

> invfix
> section 8.8) tells just about stateful behavior.
>
> 4. INVITE server state machine doesn't react to transport error in
> Accepted state. It could contain transition from Accepted to  =

> Terminated
> state conditioned by transport error - analogy to transitions from
> Proceeding and Completed states.
>
> Jan
>
>
> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
> Robert Sparks
> Sent: Thursday, July 03, 2008 7:32 PM
> To: Robert Sparks
> Cc: SIP@ietf.org List; Brett Tate
> Subject: [Sip] draft-sparks-sip-invfix-02 (was
> Re:draft-sparks-sip-invfix-01: comments and questions)
>
> Ok, I've just submitted -02 of the INVITE fix draft.
>
> There is one really big change to correct the bug Brett found in the
> thread below.
> There's a new state in the INVITE client transaction and an associated
> new timer.
>
> The attempt to reuse Completed as in the previous draft  didn't work
> out -
> Setting Timer D to 0 for TCP caused the wrong things to happen if we
> were in
> that state waiting for additional 2xxs. So, instead of always setting
> Timer D to 64*T1,
> regardless of transport,  this draft uses a new "Accepted" state
> instead. This way
> transactions that get a 3xx or greater response over TCP can still go
> away quickly.
>
> There's a smaller related change - 3261 had setting Timer D at SHOULD
> strength.
> I can't remember why that wasn't a MUST (and neither can anyone I've
> asked), and
> it _really_ breaks things if it doesn't get set when using UDP, so
> I've changed that
> to a MUST in this draft.
>
> Please review this carefully. (We really need a _lot_ of people to
> think about it, not
> just a few).
>
> http://www.ietf.org/internet-drafts/draft-sparks-sip-invfix-02.txt
>
> RjS
>
> On Jun 19, 2008, at 4:57 PM, Robert Sparks wrote:
>
>> Hrm.
>>
>> While working this over, it occurs to me that this might not be the
>> right thing to do.
>>
>> It would force the client transaction to continue to exist for 32
>> seconds(ish) after acknowledging
>> a >=3D300 response over TCP. There's no reason to do so in this case
>> since there will never be
>> a retransmission of the response to absorb (failure responses are
>> hop-by-hop and the hop is TCP,
>> so this client would not have retransmitted the request).
>>
>> It probably makes more sense to use another state in the client,
>> matching the new state in the server
>> instead of just trying to reuse this existing state. This new state
>> would be where the client transaction
>> sits waiting for multiple (or retransmitted) 2xx responses. The
>> Completed state would, then, be
>> completely unchanged from what's in 3261.
>>
>> Anyhow, the next rev will have a concrete proposal.
>>
>> RjS
>>
>> On Jun 19, 2008, at 4:42 PM, Robert Sparks wrote:
>>
>>> Hi Brett -
>>>
>>> I got to go through this very carefully today. You found a real bug
>>> here.
>>> Timer D is going to have to be set to 64*T1 without regard to
>>> transport.
>>> It needs to balance what's potentially happening on the server side
>>> with
>>> either Timer H or Timer L.
>>>
>>> I'll also go through the whole text again to see if this was an
>>> isolated bug
>>> or a class-of bug that has other instances, and will issue an
>>> update to the
>>> draft shortly.
>>>
>>> RjS
>>>
>>> On May 27, 2008, at 10:01 AM, Brett Tate wrote:
>>>
>>>> Thanks for the response.  Reply inline.
>>>>
>>>>>> Section 8.4:
>>>>>>
>>>>>> Concerning timer D and "zero seconds for reliable
>>>>>> transports", is "reliable" obtained from INVITE
>>>>>> or ACK.
>>>>>>
>>>>>> Concerning timer D being zero, at first glance
>>>>>> it looks like the state machine text no longer
>>>>>> ensures ACK will be sent for extra 2xx or
>>>>>> 300-699.  The same applies, to ensuring ACK resent
>>>>>> in situations where transport not reliable
>>>>>> end-to-end.  Per 7.2 paragraph 2, this might be
>>>>>> intentional; if so, the motivation and flexibility
>>>>>> in handling from section 7.2 should potentially
>>>>>> also be included within 8.4.  If I'm misinterpreting
>>>>>> the fix, where does it say the ACK MUST, SHOULD, or
>>>>>> MAY still be (re-)sent for the extra responses when
>>>>>> timer D is 0?
>>>>>
>>>>> Well, the main requirement you're looking for is
>>>>> (still) on the TU.  But I see your point in wondering
>>>>> if a retransmitted 200 will still  _get_ to the TU if
>>>>> it came over UDP. Let me look at it for awhile.
>>>>
>>>> Okay.
>>>>
>>>>
>>>>> To carve that away from some of the other questions
>>>>> you ask above:
>>>>>
>>>>> You're talking about receiving a response over a
>>>>> reliable transport  (like TCP).
>>>>>
>>>>> Over such a transport, there won't _be_ any
>>>>> additional 300-699 responses unless the thing on the
>>>>> other end is violating the specification - remember
>>>>> those are hop-by-hop messages, and the thing sending
>>>>> them is required to hand reliability to the reliable
>>>>> transport (it won't retransmit - timer G is not set
>>>>> for reliable transports).  The path through the machines
>>>>> when a 300-699 occurs hasn't changed from 3261.
>>>>
>>>> By extra 300-699, I was mainly referring to 1) race conditions
>>>> with 2xx
>>>> and 2) interoperability with pre-rfc3261 devices.
>>>>
>>>> 1) This should be rare since usually only results from connection
>>>> issues, threading issues, or stateless proxy issues causing the
>>>> reordering.
>>>>
>>>> 2) Unfortunately this is not as rare as everyone would like.
>>>> However it
>>>> is likely not much of an issue if the invfix chooses not to remain
>>>> backwards compatible with rfc2543 concerning resending the ACK.
>>>>
>>>>
>>>>> For a 200 class response, the transaction state machine doesn't
>>>>> send
>>>>> the ACK - that is still the TU's job and this draft doesn't change
>>>>> that. What we need to make sure is that we're leaving the path
>>>>> for a
>>>>> retransmitted (or a 200 from another branch) to _get_ to the TU. I
>>>>> thought we had, but its possible that's messed up. I'll look at it
>>>>> some more.
>>>>
>>>> Okay.
>>>
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>>
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep  8 08:00:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 020F43A6A41;
	Mon,  8 Sep 2008 08:00:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 925453A699D
	for <sip@core3.amsl.com>; Mon,  8 Sep 2008 08:00:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iDGBTcnlfiIG for <sip@core3.amsl.com>;
	Mon,  8 Sep 2008 08:00:28 -0700 (PDT)
Received: from mail.gmx.net (mail.gmx.net [213.165.64.20])
	by core3.amsl.com (Postfix) with SMTP id 3C0C53A6A41
	for <sip@ietf.org>; Mon,  8 Sep 2008 08:00:28 -0700 (PDT)
Received: (qmail invoked by alias); 08 Sep 2008 15:00:24 -0000
Received: from 80-186-238-141.elisa-mobile.fi (EHLO [80.186.238.141])
	[80.186.238.141]
	by mail.gmx.net (mp033) with SMTP; 08 Sep 2008 17:00:24 +0200
X-Authenticated: #29516787
X-Provags-ID: V01U2FsdGVkX1/ujSRxh+PuPXa23fvouGZFHBj39UyW7rc6SrdzpW
	1Vq3OijyNzMxVa
Message-ID: <48C53DD8.9090609@gmx.net>
Date: Mon, 08 Sep 2008 17:59:36 +0300
From: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Francesco la Torre <frankernet@tiscali.it>
References: <1220787812.11157.8.camel@ubuntu-ser>
In-Reply-To: <1220787812.11157.8.camel@ubuntu-ser>
X-Y-GMX-Trusted: 0
X-FuHaFi: 0.71
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt on RFC 4484-Trait-Based Authorization Requirements
 for	SIP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This statement is indeed misleading.
SIP proxies are able to inspect the body of a message since otherwise 
the SIP Location Conveyance procedure wouldn't work either.

Ciao
Hannes

Francesco la Torre wrote:
> Hi all,
> I've a doubt regarding a statement at the end of page 5 
>
> "... Some important design decisions are associated with carrying
> assertions in a SIP request.  If an assertion is carried by value, or
> uses a MIME-based content indirection system, then proxy servers will be
> unable to inspect the assertion themselves.  If the assertion were
> referenced in a header, however, it might be possible for the proxy
> to acquire and inspect the assertion itself.  There ..."
>
> Why a proxy server will be unable to inspect the assertion themself ?
>
> Thanks in advance,
> Francesco la Torre
>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>   

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep  8 08:06:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A79B43A6C1A;
	Mon,  8 Sep 2008 08:06:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3625C3A6C1A
	for <sip@core3.amsl.com>; Mon,  8 Sep 2008 08:06:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.136
X-Spam-Level: 
X-Spam-Status: No, score=0.136 tagged_above=-999 required=5 tests=[AWL=0.855, 
	BAYES_00=-2.599, HELO_EQ_IT=0.635, HOST_EQ_IT=1.245]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AXmeqxw5aou6 for <sip@core3.amsl.com>;
	Mon,  8 Sep 2008 08:06:34 -0700 (PDT)
Received: from smtp.cnr.it (dhcp31.iit.cnr.it [146.48.99.94])
	by core3.amsl.com (Postfix) with ESMTP id 4F1433A6B61
	for <sip@ietf.org>; Mon,  8 Sep 2008 08:06:34 -0700 (PDT)
Received: by smtp.cnr.it (Postfix, from userid 1000)
	id 16700ACE6B; Mon,  8 Sep 2008 17:06:35 +0200 (CEST)
From: Francesco la Torre <frankernet@tiscali.it>
To: Hannes Tschofenig <Hannes.Tschofenig@gmx.net>
In-Reply-To: <48C53DD8.9090609@gmx.net>
References: <1220787812.11157.8.camel@ubuntu-ser> <48C53DD8.9090609@gmx.net>
Date: Mon, 08 Sep 2008 17:06:34 +0200
Message-Id: <1220886394.23149.4.camel@ubuntu-ser>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.3.1 
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt on RFC 4484-Trait-Based Authorization
	Requirements	for	SIP
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Thanks for clarification :-)

Regards
Francesco la Torre

Il giorno lun, 08/09/2008 alle 17.59 +0300, Hannes Tschofenig ha
scritto:
> This statement is indeed misleading.
> SIP proxies are able to inspect the body of a message since otherwise 
> the SIP Location Conveyance procedure wouldn't work either.
> 
> Ciao
> Hannes
> 
> Francesco la Torre wrote:
> > Hi all,
> > I've a doubt regarding a statement at the end of page 5 
> >
> > "... Some important design decisions are associated with carrying
> > assertions in a SIP request.  If an assertion is carried by value, or
> > uses a MIME-based content indirection system, then proxy servers will be
> > unable to inspect the assertion themselves.  If the assertion were
> > referenced in a header, however, it might be possible for the proxy
> > to acquire and inspect the assertion itself.  There ..."
> >
> > Why a proxy server will be unable to inspect the assertion themself ?
> >
> > Thanks in advance,
> > Francesco la Torre
> >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >   
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep  8 13:31:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 561CD3A68D5;
	Mon,  8 Sep 2008 13:31:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 774D93A68D5
	for <sip@core3.amsl.com>; Mon,  8 Sep 2008 13:31:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5 tests=[AWL=0.000,
	BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9sz+SFTCe7qq for <sip@core3.amsl.com>;
	Mon,  8 Sep 2008 13:31:03 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 386EB3A687C
	for <sip@ietf.org>; Mon,  8 Sep 2008 13:31:01 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m88KV12k009864
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Mon, 8 Sep 2008 15:31:01 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <38A8E355-2B59-4735-BE73-D9FEC46F718A@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Kolomaznik Jan <Jan.Kolomaznik@sitronicsts.com>
In-Reply-To: <C756BE639CE70040B64A183F46B6AA3FA47EC5@exalfa.stromtelecom.cz>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Mon, 8 Sep 2008 15:31:01 -0500
References: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc><CFE48150-62DD-465B-937F-110C9D56588A@nostrum.com><89B3083B-309D-41D2-99CE-62803C9D8AA1@nostrum.com>
	<906A9DC6-4BA4-4C41-BE74-ABD799B9E33C@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3F92FEA6@exalfa.stromtelecom.cz>
	<F8D9C59B-5C82-40FF-A517-7BDE7AE95E31@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3FA47EC5@exalfa.stromtelecom.cz>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93.3/8193/Mon Sep 8 13:32:30 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: "SIP@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

SW5saW5lLgoKCk9uIFNlcCA4LCAyMDA4LCBhdCAzOjA1IEFNLCBLb2xvbWF6bmlrIEphbiB3cm90
ZToKCj4gT0ssIGJ1dCBpZiB3ZSB3YW50IHRvIHJlY2VpdmUgYW5kIG1hc2sgYWxsIHJlcXVlc3Qg
cmV0cmFuc21pc3Npb25zICAKPiBvbiB0cmFuc2FjdGlvbiBsYXllciwgdGhpcyBwcm9ibGVtIGlz
IG1vcmUgZ2VuZXJhbC4gVGhhbiB3ZSBwcm9iYWJseSAgCj4gbmVlZCB0byBpbmZvcm0gVFUgYWJv
dXQgdHJhbnNwb3J0IGVycm9yCnRoZSBuZXh0IHZlcnNpb24gb2YgdGhlIGRyYWZ0IChob3BlZnVs
bHkgb3V0IGxhdGVyIHRvZGF5KSB3aWxsIGRvIHRoaXMuCj4gLCBjcmVhdGUgYSBuZXcgc3RhdGUs
CkkgZG9uJ3Qgc2VlIHRoZSBuZWVkIGZvIHJ0aGlzCgo+IGFuZCBzdGF5IHRoZXJlIGVub3VnaCB0
aW1lIHRvIGFic29yYiBhbGwgcmV0cmFuc21pc3Npb25zIG9mIElOVklURSAgCj4gcmVxdWVzdC4K
VGhlIGV4aXN0aW5nIEFjY2VwdGVkIHN0YXRlIGRvZXMgdGhpcy4KCj4gIEFuZCB0aGlzIGlzIG5l
ZWRlZCBmb3IgdHJhbnNwb3J0IGVycm9yIHJlYWN0aW9uIG5vdCBvbmx5IGluICAKPiBBY2NlcHRl
ZCBzdGF0ZSwgYnV0IGFsc28gZm9yIHRyYW5zcG9ydCBlcnJvciBpbiBQcm9jZWVkaW5nIGFuZCAg
Cj4gQ29tcGxldGVkIHN0YXRlcy4KVGhvc2Ugc3RhdGVzIGFscmVhZHkgdHJhbnNpdGlvbiB0byBU
ZXJtaW5hdGVkIG9uIHRyYW5zcG9ydCBlcnJvciAtICAKKHRoZXkgZGlkIHNvIGluIDMyNjEpLgoK
SSB0aGluayBJIHNlZSB3aGF0IHlvdSdyZSBnZXR0aW5nIGF0IG9uIGtlZXBpbmcgc3RhdGUgYWZ0
ZXIgdGhpcyAgCnRyYW5zcG9ydCBlcnJvciBpcyBub3RpY2VkIHRob3VnaCAtIEkgZG9uJ3Qga25v
dyBhYm91dCBQcm9jZWVkaW5nLCBidXQgIAppZiB5b3UncmUgaW4gQ29tcGxldGVkLCB0aHJvd2lu
ZyBhd2F5IHRoZSBzdGF0ZSB3aGVuIHlvdSB0cnkgdG8gc2VuZCAgCnlvdXIgZmluYWwgcmVzcG9u
c2UgYW5kIHRoZSB0cmFuc3BvcnQgY29tcGxhaW5zIG1heSBub3QgYmUgdGhlIHJpZ2h0ICAKdGhp
bmcgdG8gZG8uIExldCBtZSBwb2tlIGF0IHRoYXQgZm9yIGEgbGl0dGxlIHdoaWxlLgoKPiBUaGVy
ZSBhbHNvIG1heSBiZSBhIHF1ZXN0aW9uIHdoZXRoZXIgdG8gaW5mb3JtIFRVIGFib3V0IHRyYW5z
cG9ydCAgCj4gZXJyb3IgaW4gUHJvY2VlZGluZyBhbmQgQ29tcGxldGVkIHN0YXRlcyB3aGlsZSB0
aGVyZSBpcyBwcm9iYWJseSBubyAgCj4gc3RhdGUgb2YgVFUgaW4gdGhlc2Ugc3RhdGVzIG9mIHRy
YW5zYWN0aW9uIGxheWVyLgoKVGhhdCBUVSBoYXMgZGVjaWRlZCB0byBzZW5kIGEgcHJvdmlzaW9u
YWwgb3IgZmFpbHVyZS1maW5hbCByZXNwb25zZSBpbiAgCnRob3NlIGNhc2VzLiBUaGVyZSdzIGEg
Y2hhbmNlIHRoZXJlIGlzIGFwcGxpY2F0aW9uIHN0YXRlIGJlaW5nICAKbWFpbnRhaW5lZCBhcyBh
IHJlc3VsdCAob3IgcHJlY29uZGl0aW9uKSB0byB0aG9zZSBkZWNpc2lvbnMsIHNvICAKbGV0dGlu
ZyB0aGUgVFUga25vdyBpcyBpbXBvcnRhbnQuIEFnYWluLCB0aGlzIHdhcyAzMjYxIGJlaGF2aW9y
IGFscmVhZHkuCgo+Cj4KPiBQbGVhc2Ugbm90ZSB0aGF0IGlmIHdlIGFjY2VwdCB0aGF0IHRoZSBT
SVAgdHJhbnNhY3Rpb24gbGF5ZXIgaGFzIHRvICAKPiByZWNlaXZlIGFuZCBtYXNrIGFsbCByZXF1
ZXN0IHJldHJhbnNtaXNzaW9ucyB3aGVuIGl0IGRldGVjdHMgYSAgCj4gdHJhbnNwb3J0IGVycm9y
LCB0aGVuIGFsc28gbm9uLUlOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gc2hvdWxkIGJlICAKPiBj
aGFuZ2VkIC0gcmVhY3Rpb24gdG8gdHJhbnNwb3J0IGVycm9yIGluIFByb2NlZWRpbmcgYW5kIENv
bXBsZXRlZCAgCj4gc3RhdGVzLgpXaWxsIGxvb2suCgpJdHMgcHJvYmFibHkgd29ydGggcHVsbGlu
ZyB1cCBhbmQgYXNraW5nIGlmIHRyeWluZyB0byBhZGRyZXNzIHRoaXMgIApraW5kIG9mIGVkZ2Ut
Y29uZGl0aW9uIGZhaWx1cmUgaXMgd29ydGggdGhlIGVmZm9ydC4KVGhlIGNoYW5nZXMgd2UncmUg
dGFsa2luZyBhYm91dCBoZXJlIHdvbid0IG1ha2Ugc29tZXRoaW5nIHN1Y2NlZWQgIApsYXRlciAt
IGl0cyBub3QgZ29pbmcgdG8gaGVscCB0aGUgbmV0d29yayBvciBhcHBsaWNhdGlvbiByZXBhaXIv
IApyZWNvdmVyIGZyb20gd2hhdGV2ZXIgdHJhbnNwb3J0IGVycm9yIGlzIGJlaW5nIHJlcG9ydGVk
LiBXaGF0IGl0IHdpbGwgIApkbyBpcyBoZWxwIHByZXZlbnQgYW4gYXBwbGljYXRpb24gZnJvbSBy
ZS1wZXJmb3JtaW5nIHNvbWUgd29yayBiYXNlZCAgCm9uIGEgcmV0cmFuc21pc3Npb24gKHBvc3Np
Ymx5IGNhdXNpbmcgZGlmZmVyZW50IHJlc3VsdGluZyBlbmQtc3RhdGVzKS4gIApUaGF0IG1pZ2h0
IGJlIGVub3VnaCBqdXN0aWZpY2F0aW9uIG9uIGl0cyBvd24sIGJ1dCBpdHMgd29ydGggYXNraW5n
IGlmICAKdGhpcyBpcyByZWFsbHkgYSBiaWcgZW5vdWdoIHByb2JsZW0gdG8gdGFrZSBvbiB0aGUg
Zml4PwoKPgo+Cj4gS29sb21hego+Cj4KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+IEZy
b206IFJvYmVydCBTcGFya3MgW21haWx0bzpyanNwYXJrc0Bub3N0cnVtLmNvbV0KPiBTZW50OiA1
LiB6w6HFmcOtIDIwMDggMjI6MTcKPiBUbzogS29sb21hem5payBKYW4KPiBDYzogU0lQQGlldGYu
b3JnIExpc3QKPiBTdWJqZWN0OiBSZTogW1NpcF0gZHJhZnQtc3BhcmtzLXNpcC1pbnZmaXgtMDIg
KHdhcyBSZTpkcmFmdC1zcGFya3MtIAo+IHNpcC1pbnZmaXgtMDE6IGNvbW1lbnRzIGFuZCBxdWVz
dGlvbnMpCj4KPiBOaXRzIGZpeGVkLgo+Cj4gRm9yIHlvdXIgc3VnZ2VzdGlvbiA0IGJlbG93Ogo+
Cj4gSXQgd291bGQgbm90IGJlIHRoZSByaWdodCB0aGluZyB0byB0cmFuc2l0aW9uIHRvIFRlcm1p
bmF0ZWQgLSB3ZSB3YW50Cj4gdGhlIHRyYW5zYWN0aW9uIHN0YXRlIHRvIHN0aWxsIGJlIGFyb3Vu
ZCB0byByZWNlaXZlIGFueQo+IHJldHJhbnNtaXNzaW9ucyBvZiB0aGUgSU5WSVRFLCBidXQgaXQg
bWlnaHQgbWFrZSBzZW5zZSB0byB0ZWxsIHRoZSBUVQo+IHRoYXQgaXRzIDJ4eCdzIGFyZW4ndCBn
b2luZyBhbnl3aGVyZS4gSSdsbCB3b3JrIHRoYXQgaW50byB0aGUgZmlndXJlCj4gYW5kIHRleHQg
dW5sZXNzIHNvbWVvbmUgb2JqZWN0cyBoZXJlIHF1aWNrbHkuCj4KPiBSalMKPgo+IE9uIEp1bCAy
MywgMjAwOCwgYXQgMTA6MjcgQU0sIEtvbG9tYXpuaWsgSmFuIHdyb3RlOgo+Cj4+IEkgaGF2ZSBq
dXN0IGEgY291cGxlIG9mIG5pdHM6Cj4+Cj4+IDEuIFN0YXRlIGxhYmVsZWQgQ29tcGxldGVkIG9u
IEZpZ3VyZSAyIHNob3VsZCBiZSBsYWJlbGVkIEFjY2VwdGVkCj4+Cj4+IDIuIHNlY3Rpb24gNy4z
IHBhcmFncmFwaCAxIGNvbnRhaW5zICIuLi4gcmVjZWl2aW5nIGFueSByZXNwb25zZSBTSVAKPj4g
cmVzcG9uc2UgLi4uIgo+Pgo+PiAzLiBXaGlsZSB3aG9sZSBzZWN0aW9uIDE4IGluIFJGQyAzMjYx
IGRlYWxzIHdpdGggU0lQIHRyYW5zcG9ydCBsYXllcgo+PiByZWdhcmRsZXNzIHRyYW5zYWN0aW9u
IHN0YXRlZnVsIG9yIHN0YXRlbGVzcyBiZWhhdmlvciwgaXQgY291bGQgYmUKPj4gZXhwbGljaXRs
eSBjbGFyaWZpZWQgdGhhdCBzdWdnZXN0ZWQgY2hhbmdlIG9mIHNlY3Rpb24gMTguMS4yIChpbgo+
PiBpbnZmaXgKPj4gc2VjdGlvbiA4LjgpIHRlbGxzIGp1c3QgYWJvdXQgc3RhdGVmdWwgYmVoYXZp
b3IuCj4+Cj4+IDQuIElOVklURSBzZXJ2ZXIgc3RhdGUgbWFjaGluZSBkb2Vzbid0IHJlYWN0IHRv
IHRyYW5zcG9ydCBlcnJvciBpbgo+PiBBY2NlcHRlZCBzdGF0ZS4gSXQgY291bGQgY29udGFpbiB0
cmFuc2l0aW9uIGZyb20gQWNjZXB0ZWQgdG8KPj4gVGVybWluYXRlZAo+PiBzdGF0ZSBjb25kaXRp
b25lZCBieSB0cmFuc3BvcnQgZXJyb3IgLSBhbmFsb2d5IHRvIHRyYW5zaXRpb25zIGZyb20KPj4g
UHJvY2VlZGluZyBhbmQgQ29tcGxldGVkIHN0YXRlcy4KPj4KPj4gSmFuCj4+Cj4+Cj4+IC0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4+IEZyb206IHNpcC1ib3VuY2VzQGlldGYub3JnIFttYWls
dG86c2lwLWJvdW5jZXNAaWV0Zi5vcmddIE9uIEJlaGFsZiBPZgo+PiBSb2JlcnQgU3BhcmtzCj4+
IFNlbnQ6IFRodXJzZGF5LCBKdWx5IDAzLCAyMDA4IDc6MzIgUE0KPj4gVG86IFJvYmVydCBTcGFy
a3MKPj4gQ2M6IFNJUEBpZXRmLm9yZyBMaXN0OyBCcmV0dCBUYXRlCj4+IFN1YmplY3Q6IFtTaXBd
IGRyYWZ0LXNwYXJrcy1zaXAtaW52Zml4LTAyICh3YXMKPj4gUmU6ZHJhZnQtc3BhcmtzLXNpcC1p
bnZmaXgtMDE6IGNvbW1lbnRzIGFuZCBxdWVzdGlvbnMpCj4+Cj4+IE9rLCBJJ3ZlIGp1c3Qgc3Vi
bWl0dGVkIC0wMiBvZiB0aGUgSU5WSVRFIGZpeCBkcmFmdC4KPj4KPj4gVGhlcmUgaXMgb25lIHJl
YWxseSBiaWcgY2hhbmdlIHRvIGNvcnJlY3QgdGhlIGJ1ZyBCcmV0dCBmb3VuZCBpbiB0aGUKPj4g
dGhyZWFkIGJlbG93Lgo+PiBUaGVyZSdzIGEgbmV3IHN0YXRlIGluIHRoZSBJTlZJVEUgY2xpZW50
IHRyYW5zYWN0aW9uIGFuZCBhbiAgCj4+IGFzc29jaWF0ZWQKPj4gbmV3IHRpbWVyLgo+Pgo+PiBU
aGUgYXR0ZW1wdCB0byByZXVzZSBDb21wbGV0ZWQgYXMgaW4gdGhlIHByZXZpb3VzIGRyYWZ0ICBk
aWRuJ3Qgd29yawo+PiBvdXQgLQo+PiBTZXR0aW5nIFRpbWVyIEQgdG8gMCBmb3IgVENQIGNhdXNl
ZCB0aGUgd3JvbmcgdGhpbmdzIHRvIGhhcHBlbiBpZiB3ZQo+PiB3ZXJlIGluCj4+IHRoYXQgc3Rh
dGUgd2FpdGluZyBmb3IgYWRkaXRpb25hbCAyeHhzLiBTbywgaW5zdGVhZCBvZiBhbHdheXMgc2V0
dGluZwo+PiBUaW1lciBEIHRvIDY0KlQxLAo+PiByZWdhcmRsZXNzIG9mIHRyYW5zcG9ydCwgIHRo
aXMgZHJhZnQgdXNlcyBhIG5ldyAiQWNjZXB0ZWQiIHN0YXRlCj4+IGluc3RlYWQuIFRoaXMgd2F5
Cj4+IHRyYW5zYWN0aW9ucyB0aGF0IGdldCBhIDN4eCBvciBncmVhdGVyIHJlc3BvbnNlIG92ZXIg
VENQIGNhbiBzdGlsbCBnbwo+PiBhd2F5IHF1aWNrbHkuCj4+Cj4+IFRoZXJlJ3MgYSBzbWFsbGVy
IHJlbGF0ZWQgY2hhbmdlIC0gMzI2MSBoYWQgc2V0dGluZyBUaW1lciBEIGF0IFNIT1VMRAo+PiBz
dHJlbmd0aC4KPj4gSSBjYW4ndCByZW1lbWJlciB3aHkgdGhhdCB3YXNuJ3QgYSBNVVNUIChhbmQg
bmVpdGhlciBjYW4gYW55b25lIEkndmUKPj4gYXNrZWQpLCBhbmQKPj4gaXQgX3JlYWxseV8gYnJl
YWtzIHRoaW5ncyBpZiBpdCBkb2Vzbid0IGdldCBzZXQgd2hlbiB1c2luZyBVRFAsIHNvCj4+IEkn
dmUgY2hhbmdlZCB0aGF0Cj4+IHRvIGEgTVVTVCBpbiB0aGlzIGRyYWZ0Lgo+Pgo+PiBQbGVhc2Ug
cmV2aWV3IHRoaXMgY2FyZWZ1bGx5LiAoV2UgcmVhbGx5IG5lZWQgYSBfbG90XyBvZiBwZW9wbGUg
dG8KPj4gdGhpbmsgYWJvdXQgaXQsIG5vdAo+PiBqdXN0IGEgZmV3KS4KPj4KPj4gaHR0cDovL3d3
dy5pZXRmLm9yZy9pbnRlcm5ldC1kcmFmdHMvZHJhZnQtc3BhcmtzLXNpcC1pbnZmaXgtMDIudHh0
Cj4+Cj4+IFJqUwo+Pgo+PiBPbiBKdW4gMTksIDIwMDgsIGF0IDQ6NTcgUE0sIFJvYmVydCBTcGFy
a3Mgd3JvdGU6Cj4+Cj4+PiBIcm0uCj4+Pgo+Pj4gV2hpbGUgd29ya2luZyB0aGlzIG92ZXIsIGl0
IG9jY3VycyB0byBtZSB0aGF0IHRoaXMgbWlnaHQgbm90IGJlIHRoZQo+Pj4gcmlnaHQgdGhpbmcg
dG8gZG8uCj4+Pgo+Pj4gSXQgd291bGQgZm9yY2UgdGhlIGNsaWVudCB0cmFuc2FjdGlvbiB0byBj
b250aW51ZSB0byBleGlzdCBmb3IgMzIKPj4+IHNlY29uZHMoaXNoKSBhZnRlciBhY2tub3dsZWRn
aW5nCj4+PiBhID49MzAwIHJlc3BvbnNlIG92ZXIgVENQLiBUaGVyZSdzIG5vIHJlYXNvbiB0byBk
byBzbyBpbiB0aGlzIGNhc2UKPj4+IHNpbmNlIHRoZXJlIHdpbGwgbmV2ZXIgYmUKPj4+IGEgcmV0
cmFuc21pc3Npb24gb2YgdGhlIHJlc3BvbnNlIHRvIGFic29yYiAoZmFpbHVyZSByZXNwb25zZXMg
YXJlCj4+PiBob3AtYnktaG9wIGFuZCB0aGUgaG9wIGlzIFRDUCwKPj4+IHNvIHRoaXMgY2xpZW50
IHdvdWxkIG5vdCBoYXZlIHJldHJhbnNtaXR0ZWQgdGhlIHJlcXVlc3QpLgo+Pj4KPj4+IEl0IHBy
b2JhYmx5IG1ha2VzIG1vcmUgc2Vuc2UgdG8gdXNlIGFub3RoZXIgc3RhdGUgaW4gdGhlIGNsaWVu
dCwKPj4+IG1hdGNoaW5nIHRoZSBuZXcgc3RhdGUgaW4gdGhlIHNlcnZlcgo+Pj4gaW5zdGVhZCBv
ZiBqdXN0IHRyeWluZyB0byByZXVzZSB0aGlzIGV4aXN0aW5nIHN0YXRlLiBUaGlzIG5ldyBzdGF0
ZQo+Pj4gd291bGQgYmUgd2hlcmUgdGhlIGNsaWVudCB0cmFuc2FjdGlvbgo+Pj4gc2l0cyB3YWl0
aW5nIGZvciBtdWx0aXBsZSAob3IgcmV0cmFuc21pdHRlZCkgMnh4IHJlc3BvbnNlcy4gVGhlCj4+
PiBDb21wbGV0ZWQgc3RhdGUgd291bGQsIHRoZW4sIGJlCj4+PiBjb21wbGV0ZWx5IHVuY2hhbmdl
ZCBmcm9tIHdoYXQncyBpbiAzMjYxLgo+Pj4KPj4+IEFueWhvdywgdGhlIG5leHQgcmV2IHdpbGwg
aGF2ZSBhIGNvbmNyZXRlIHByb3Bvc2FsLgo+Pj4KPj4+IFJqUwo+Pj4KPj4+IE9uIEp1biAxOSwg
MjAwOCwgYXQgNDo0MiBQTSwgUm9iZXJ0IFNwYXJrcyB3cm90ZToKPj4+Cj4+Pj4gSGkgQnJldHQg
LQo+Pj4+Cj4+Pj4gSSBnb3QgdG8gZ28gdGhyb3VnaCB0aGlzIHZlcnkgY2FyZWZ1bGx5IHRvZGF5
LiBZb3UgZm91bmQgYSByZWFsIGJ1Zwo+Pj4+IGhlcmUuCj4+Pj4gVGltZXIgRCBpcyBnb2luZyB0
byBoYXZlIHRvIGJlIHNldCB0byA2NCpUMSB3aXRob3V0IHJlZ2FyZCB0bwo+Pj4+IHRyYW5zcG9y
dC4KPj4+PiBJdCBuZWVkcyB0byBiYWxhbmNlIHdoYXQncyBwb3RlbnRpYWxseSBoYXBwZW5pbmcg
b24gdGhlIHNlcnZlciBzaWRlCj4+Pj4gd2l0aAo+Pj4+IGVpdGhlciBUaW1lciBIIG9yIFRpbWVy
IEwuCj4+Pj4KPj4+PiBJJ2xsIGFsc28gZ28gdGhyb3VnaCB0aGUgd2hvbGUgdGV4dCBhZ2FpbiB0
byBzZWUgaWYgdGhpcyB3YXMgYW4KPj4+PiBpc29sYXRlZCBidWcKPj4+PiBvciBhIGNsYXNzLW9m
IGJ1ZyB0aGF0IGhhcyBvdGhlciBpbnN0YW5jZXMsIGFuZCB3aWxsIGlzc3VlIGFuCj4+Pj4gdXBk
YXRlIHRvIHRoZQo+Pj4+IGRyYWZ0IHNob3J0bHkuCj4+Pj4KPj4+PiBSalMKPj4+Pgo+Pj4+IE9u
IE1heSAyNywgMjAwOCwgYXQgMTA6MDEgQU0sIEJyZXR0IFRhdGUgd3JvdGU6Cj4+Pj4KPj4+Pj4g
VGhhbmtzIGZvciB0aGUgcmVzcG9uc2UuICBSZXBseSBpbmxpbmUuCj4+Pj4+Cj4+Pj4+Pj4gU2Vj
dGlvbiA4LjQ6Cj4+Pj4+Pj4KPj4+Pj4+PiBDb25jZXJuaW5nIHRpbWVyIEQgYW5kICJ6ZXJvIHNl
Y29uZHMgZm9yIHJlbGlhYmxlCj4+Pj4+Pj4gdHJhbnNwb3J0cyIsIGlzICJyZWxpYWJsZSIgb2J0
YWluZWQgZnJvbSBJTlZJVEUKPj4+Pj4+PiBvciBBQ0suCj4+Pj4+Pj4KPj4+Pj4+PiBDb25jZXJu
aW5nIHRpbWVyIEQgYmVpbmcgemVybywgYXQgZmlyc3QgZ2xhbmNlCj4+Pj4+Pj4gaXQgbG9va3Mg
bGlrZSB0aGUgc3RhdGUgbWFjaGluZSB0ZXh0IG5vIGxvbmdlcgo+Pj4+Pj4+IGVuc3VyZXMgQUNL
IHdpbGwgYmUgc2VudCBmb3IgZXh0cmEgMnh4IG9yCj4+Pj4+Pj4gMzAwLTY5OS4gIFRoZSBzYW1l
IGFwcGxpZXMsIHRvIGVuc3VyaW5nIEFDSyByZXNlbnQKPj4+Pj4+PiBpbiBzaXR1YXRpb25zIHdo
ZXJlIHRyYW5zcG9ydCBub3QgcmVsaWFibGUKPj4+Pj4+PiBlbmQtdG8tZW5kLiAgUGVyIDcuMiBw
YXJhZ3JhcGggMiwgdGhpcyBtaWdodCBiZQo+Pj4+Pj4+IGludGVudGlvbmFsOyBpZiBzbywgdGhl
IG1vdGl2YXRpb24gYW5kIGZsZXhpYmlsaXR5Cj4+Pj4+Pj4gaW4gaGFuZGxpbmcgZnJvbSBzZWN0
aW9uIDcuMiBzaG91bGQgcG90ZW50aWFsbHkKPj4+Pj4+PiBhbHNvIGJlIGluY2x1ZGVkIHdpdGhp
biA4LjQuICBJZiBJJ20gbWlzaW50ZXJwcmV0aW5nCj4+Pj4+Pj4gdGhlIGZpeCwgd2hlcmUgZG9l
cyBpdCBzYXkgdGhlIEFDSyBNVVNULCBTSE9VTEQsIG9yCj4+Pj4+Pj4gTUFZIHN0aWxsIGJlIChy
ZS0pc2VudCBmb3IgdGhlIGV4dHJhIHJlc3BvbnNlcyB3aGVuCj4+Pj4+Pj4gdGltZXIgRCBpcyAw
Pwo+Pj4+Pj4KPj4+Pj4+IFdlbGwsIHRoZSBtYWluIHJlcXVpcmVtZW50IHlvdSdyZSBsb29raW5n
IGZvciBpcwo+Pj4+Pj4gKHN0aWxsKSBvbiB0aGUgVFUuICBCdXQgSSBzZWUgeW91ciBwb2ludCBp
biB3b25kZXJpbmcKPj4+Pj4+IGlmIGEgcmV0cmFuc21pdHRlZCAyMDAgd2lsbCBzdGlsbCAgX2dl
dF8gdG8gdGhlIFRVIGlmCj4+Pj4+PiBpdCBjYW1lIG92ZXIgVURQLiBMZXQgbWUgbG9vayBhdCBp
dCBmb3IgYXdoaWxlLgo+Pj4+Pgo+Pj4+PiBPa2F5Lgo+Pj4+Pgo+Pj4+Pgo+Pj4+Pj4gVG8gY2Fy
dmUgdGhhdCBhd2F5IGZyb20gc29tZSBvZiB0aGUgb3RoZXIgcXVlc3Rpb25zCj4+Pj4+PiB5b3Ug
YXNrIGFib3ZlOgo+Pj4+Pj4KPj4+Pj4+IFlvdSdyZSB0YWxraW5nIGFib3V0IHJlY2VpdmluZyBh
IHJlc3BvbnNlIG92ZXIgYQo+Pj4+Pj4gcmVsaWFibGUgdHJhbnNwb3J0ICAobGlrZSBUQ1ApLgo+
Pj4+Pj4KPj4+Pj4+IE92ZXIgc3VjaCBhIHRyYW5zcG9ydCwgdGhlcmUgd29uJ3QgX2JlXyBhbnkK
Pj4+Pj4+IGFkZGl0aW9uYWwgMzAwLTY5OSByZXNwb25zZXMgdW5sZXNzIHRoZSB0aGluZyBvbiB0
aGUKPj4+Pj4+IG90aGVyIGVuZCBpcyB2aW9sYXRpbmcgdGhlIHNwZWNpZmljYXRpb24gLSByZW1l
bWJlcgo+Pj4+Pj4gdGhvc2UgYXJlIGhvcC1ieS1ob3AgbWVzc2FnZXMsIGFuZCB0aGUgdGhpbmcg
c2VuZGluZwo+Pj4+Pj4gdGhlbSBpcyByZXF1aXJlZCB0byBoYW5kIHJlbGlhYmlsaXR5IHRvIHRo
ZSByZWxpYWJsZQo+Pj4+Pj4gdHJhbnNwb3J0IChpdCB3b24ndCByZXRyYW5zbWl0IC0gdGltZXIg
RyBpcyBub3Qgc2V0Cj4+Pj4+PiBmb3IgcmVsaWFibGUgdHJhbnNwb3J0cykuICBUaGUgcGF0aCB0
aHJvdWdoIHRoZSBtYWNoaW5lcwo+Pj4+Pj4gd2hlbiBhIDMwMC02OTkgb2NjdXJzIGhhc24ndCBj
aGFuZ2VkIGZyb20gMzI2MS4KPj4+Pj4KPj4+Pj4gQnkgZXh0cmEgMzAwLTY5OSwgSSB3YXMgbWFp
bmx5IHJlZmVycmluZyB0byAxKSByYWNlIGNvbmRpdGlvbnMKPj4+Pj4gd2l0aCAyeHgKPj4+Pj4g
YW5kIDIpIGludGVyb3BlcmFiaWxpdHkgd2l0aCBwcmUtcmZjMzI2MSBkZXZpY2VzLgo+Pj4+Pgo+
Pj4+PiAxKSBUaGlzIHNob3VsZCBiZSByYXJlIHNpbmNlIHVzdWFsbHkgb25seSByZXN1bHRzIGZy
b20gY29ubmVjdGlvbgo+Pj4+PiBpc3N1ZXMsIHRocmVhZGluZyBpc3N1ZXMsIG9yIHN0YXRlbGVz
cyBwcm94eSBpc3N1ZXMgY2F1c2luZyB0aGUKPj4+Pj4gcmVvcmRlcmluZy4KPj4+Pj4KPj4+Pj4g
MikgVW5mb3J0dW5hdGVseSB0aGlzIGlzIG5vdCBhcyByYXJlIGFzIGV2ZXJ5b25lIHdvdWxkIGxp
a2UuCj4+Pj4+IEhvd2V2ZXIgaXQKPj4+Pj4gaXMgbGlrZWx5IG5vdCBtdWNoIG9mIGFuIGlzc3Vl
IGlmIHRoZSBpbnZmaXggY2hvb3NlcyBub3QgdG8gcmVtYWluCj4+Pj4+IGJhY2t3YXJkcyBjb21w
YXRpYmxlIHdpdGggcmZjMjU0MyBjb25jZXJuaW5nIHJlc2VuZGluZyB0aGUgQUNLLgo+Pj4+Pgo+
Pj4+Pgo+Pj4+Pj4gRm9yIGEgMjAwIGNsYXNzIHJlc3BvbnNlLCB0aGUgdHJhbnNhY3Rpb24gc3Rh
dGUgbWFjaGluZSBkb2Vzbid0Cj4+Pj4+PiBzZW5kCj4+Pj4+PiB0aGUgQUNLIC0gdGhhdCBpcyBz
dGlsbCB0aGUgVFUncyBqb2IgYW5kIHRoaXMgZHJhZnQgZG9lc24ndCAgCj4+Pj4+PiBjaGFuZ2UK
Pj4+Pj4+IHRoYXQuIFdoYXQgd2UgbmVlZCB0byBtYWtlIHN1cmUgaXMgdGhhdCB3ZSdyZSBsZWF2
aW5nIHRoZSBwYXRoCj4+Pj4+PiBmb3IgYQo+Pj4+Pj4gcmV0cmFuc21pdHRlZCAob3IgYSAyMDAg
ZnJvbSBhbm90aGVyIGJyYW5jaCkgdG8gX2dldF8gdG8gdGhlICAKPj4+Pj4+IFRVLiBJCj4+Pj4+
PiB0aG91Z2h0IHdlIGhhZCwgYnV0IGl0cyBwb3NzaWJsZSB0aGF0J3MgbWVzc2VkIHVwLiBJJ2xs
IGxvb2sgYXQgIAo+Pj4+Pj4gaXQKPj4+Pj4+IHNvbWUgbW9yZS4KPj4+Pj4KPj4+Pj4gT2theS4K
Pj4+Pgo+Pj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Cj4+Pj4gU2lwIG1haWxpbmcgbGlzdCAgaHR0cHM6Ly93d3cuaWV0Zi5vcmcvbWFpbG1hbi9saXN0
aW5mby9zaXAKPj4+PiBUaGlzIGxpc3QgaXMgZm9yIE5FVyBkZXZlbG9wbWVudCBvZiB0aGUgY29y
ZSBTSVAgUHJvdG9jb2wKPj4+PiBVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUg
Zm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcAo+Pj4+IFVzZSBzaXBwaW5nQGlldGYub3JnIGZv
ciBuZXcgZGV2ZWxvcG1lbnRzIG9uIHRoZSBhcHBsaWNhdGlvbiBvZiBzaXAKPj4+Cj4+Cj4+IF9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4+IFNpcCBtYWls
aW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwCj4+IFRo
aXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbAo+
PiBVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBj
dXJyZW50IHNpcAo+PiBVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50cyBv
biB0aGUgYXBwbGljYXRpb24gb2Ygc2lwCj4KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3Jn
L21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9m
IHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5l
ZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcApVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3Ig
bmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGljYXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Tue Sep  9 08:28:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 282633A6D03;
	Tue,  9 Sep 2008 08:28:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 591313A6CE7
	for <sip@core3.amsl.com>; Tue,  9 Sep 2008 08:28:02 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.002
X-Spam-Level: 
X-Spam-Status: No, score=0.002 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mzU2-eQQEwpI for <sip@core3.amsl.com>;
	Tue,  9 Sep 2008 08:28:01 -0700 (PDT)
Received: from mail-gx0-f16.google.com (mail-gx0-f16.google.com
	[209.85.217.16])
	by core3.amsl.com (Postfix) with ESMTP id 6D6763A6893
	for <sip@ietf.org>; Tue,  9 Sep 2008 08:28:01 -0700 (PDT)
Received: by gxk9 with SMTP id 9so10766966gxk.13
	for <sip@ietf.org>; Tue, 09 Sep 2008 08:27:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:mime-version:content-type;
	bh=X2aJo9Sc3TScD7lgKj0hVj9iVPgTvriuCc6xRs911PU=;
	b=ICHkppvEvqqekwlvdX/SP0Hbr602R3pSPx7Jkul4oTqylq4Y+ELQwpX3HXPZ6Ja48I
	OQWogRFMj4CoeegPL06x3r6F+gh2uD26TcckIs4SJf0YrRxuR02Em549TuooFmtoGmdf
	pXfL/qLTzbgeKH1aFd4mAQBDCSjWRHTtJxYd4=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=bRLmQlmEmrk0Mv3jdCBqs+TonqP7AV3qWhYK6F/36SKvT3hn7yiaGbAwMQ02+ILKW/
	WopgR+0lNSoF15e//v0UhCJD5vR7wfBzDQkoeycK3moPjQq/9ClSFzUWIY9h7VKW6MIF
	bZ4ARp/X0UXbS+lxu1gZVis+hYGdbzo2dA0t8=
Received: by 10.86.98.10 with SMTP id v10mr12460936fgb.39.1220974074127;
	Tue, 09 Sep 2008 08:27:54 -0700 (PDT)
Received: by 10.86.95.7 with HTTP; Tue, 9 Sep 2008 08:27:54 -0700 (PDT)
Message-ID: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
Date: Tue, 9 Sep 2008 20:57:54 +0530
From: "Vineet Gupta" <gupta.vineet@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0873839782=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0873839782==
Content-Type: multipart/alternative; 
	boundary="----=_Part_9975_9319969.1220974074111"

------=_Part_9975_9319969.1220974074111
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,

I have a small doubt related to use of Supported and Require header. While
from RFC 3261 it is clear the Require header is used by the UAC and UAS to
enforce the extension implemention for a particular session, while the
Supported header is mostly used by UAC to express the extensions which can
be enforced by UAS through the Require header.

My doubt is that, is it *mandatary that every extension that is present in
Require header must be present in Supported header *in the request?
According to me, presence/absence of Required extensions in Supported header
does not make any impact on UAS handling.  *Even if it is not mandatory,
what is the preferred approach?*

Regards,
Vineet.

------=_Part_9975_9319969.1220974074111
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr"><div>Hi,</div>
<div>&nbsp;</div>
<div>I have a small doubt related to use of Supported and Require header. While from RFC 3261 it is clear the Require header is used by the UAC and UAS to enforce the extension implemention for a particular session, while the Supported header is mostly used by UAC to express the extensions which can be enforced by UAS through the Require header.</div>

<div>&nbsp;</div>
<div>My doubt is that, is it <strong>mandatary that every extension that is present in Require header must be present in Supported header </strong>in the request? According to me, presence/absence of Required extensions in Supported header does not make any impact on UAS handling.&nbsp; <strong>Even if it is not mandatory, what is the preferred approach?</strong></div>

<div>&nbsp;</div>
<div>Regards,</div>
<div>Vineet.</div></div>

------=_Part_9975_9319969.1220974074111--

--===============0873839782==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0873839782==--


From sip-bounces@ietf.org  Tue Sep  9 09:07:25 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C93853A6B20;
	Tue,  9 Sep 2008 09:07:25 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4E2073A6780
	for <sip@core3.amsl.com>; Tue,  9 Sep 2008 09:07:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.517
X-Spam-Level: 
X-Spam-Status: No, score=-6.517 tagged_above=-999 required=5 tests=[AWL=0.082, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7pRKmMthCodx for <sip@core3.amsl.com>;
	Tue,  9 Sep 2008 09:07:18 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id DD6933A6B20
	for <sip@ietf.org>; Tue,  9 Sep 2008 09:07:18 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,366,1217808000"; d="scan'208";a="44874120"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-5.cisco.com with ESMTP; 09 Sep 2008 16:07:23 +0000
Received: from sj-core-3.cisco.com (sj-core-3.cisco.com [171.68.223.137])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m89G7Mp6017767; 
	Tue, 9 Sep 2008 09:07:22 -0700
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-3.cisco.com (8.13.8/8.13.8) with ESMTP id m89G7MC7017697;
	Tue, 9 Sep 2008 16:07:22 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 9 Sep 2008 12:07:21 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 9 Sep 2008 12:07:21 -0400
Message-ID: <48C69F7B.7040307@cisco.com>
Date: Tue, 09 Sep 2008 12:08:27 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Vineet Gupta <gupta.vineet@gmail.com>
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
In-Reply-To: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
X-OriginalArrivalTime: 09 Sep 2008 16:07:21.0438 (UTC)
	FILETIME=[23F457E0:01C91296]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1597; t=1220976442;
	x=1221840442; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Doubt=20related=20to=20use=20of
	=20Supported=20and=20Require=20header. |Sender:=20;
	bh=+MKyMnMSUm+qfXhd4toU4Gc8E9rDS0273CeAxzhLSRs=;
	b=vEAJVe2xeb4nhtO7RLMXT1agz6EX/G2Lo+5eQTsZOZF/PgUc/G4HNwKag/
	frZqia8JKCXORABVEtrATgSoMDRGvB+AEo00k6/RrFRuUf4R5YLA3nkzdYrH
	QYlOSb2uEP/Rrq9Pg7MqsDC/yWWW0wj51cg8eo8CzJFBJN0BtkJKQ=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Vineet Gupta wrote:
> Hi,
>  
> I have a small doubt related to use of Supported and Require header. 
> While from RFC 3261 it is clear the Require header is used by the UAC 
> and UAS to enforce the extension implemention for a particular session, 
> while the Supported header is mostly used by UAC to express the 
> extensions which can be enforced by UAS through the Require header.
>  
> My doubt is that, is it *mandatary that every extension that is present 
> in Require header must be present in Supported header *in the request? 
> According to me, presence/absence of Required extensions in Supported 
> header does not make any impact on UAS handling.  *Even if it is not 
> mandatory, what is the preferred approach?*

This is pretty loosely defined.

For one thing, Require doesn't necessarily apply to a "particular 
session". The most that can be said with certainty is that is applies to 
a transaction. Often it applies longer, but how long isn't well defined.

Second, there is some asymmetry in Supported/Require, but this varies 
based on the option. Require from a UAC states what it requires of the 
UAS, but doesn't necessarily imply that a Require for the same option, 
coming the other way, would be supported.

Also, Supported and Require are often used together to do a negotiation:
Supported in a request is paired with Require of the same option in the 
response to negotiate its use.

In most cases there is no requirement to include Supported in requests. 
The main place it is essential is in a 420 response.

	Thanks,
	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 00:30:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 309713A6D19;
	Wed, 10 Sep 2008 00:30:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4BCFF3A6991
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 00:30:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id B4AbwlCcYYjw for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 00:30:19 -0700 (PDT)
Received: from submit-tmp.sysedata.no (submit-tmp.sysedata.no [195.159.29.133])
	by core3.amsl.com (Postfix) with ESMTP id 4155D3A6B64
	for <sip@ietf.org>; Wed, 10 Sep 2008 00:30:19 -0700 (PDT)
Received: from [82.196.214.14] (helo=[192.168.1.55])
	by submit-tmp.sysedata.no with esmtpsa (TLSv1:AES256-SHA:256)
	(Exim 4.69) (envelope-from <aeh@db.org>) id 1KdK9e-00004X-DU
	for sip@ietf.org; Wed, 10 Sep 2008 09:30:22 +0200
Message-ID: <48C7774F.9090006@db.org>
Date: Wed, 10 Sep 2008 09:29:19 +0200
From: "Alfred E. Heggestad" <aeh@db.org>
User-Agent: Mozilla-Thunderbird 2.0.0.16 (X11/20080724)
MIME-Version: 1.0
To: sip@ietf.org
Subject: [Sip] Request URI and Parameters to UAS Through Proxy
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi

I have a question about the topic discussed during IETF 72:

   http://tools.ietf.org/wg/sip/minutes?item=minutes72.html

"Request URI and Parameters to UAS Through Proxy", the consensus
was to make a new extension "target" to History-Info right?

do you know when I-D will be published? I am currently doing
some relevant implementation work, and can provide early feedback
on the doc.


/alfred
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 02:56:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 13B203A68B9;
	Wed, 10 Sep 2008 02:56:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 44F243A698C
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 02:56:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.298
X-Spam-Level: 
X-Spam-Status: No, score=-1.298 tagged_above=-999 required=5 tests=[AWL=1.300, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7csSjz6fSEIC for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 02:56:06 -0700 (PDT)
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.182])
	by core3.amsl.com (Postfix) with ESMTP id 09B9F3A677E
	for <sip@ietf.org>; Wed, 10 Sep 2008 02:56:05 -0700 (PDT)
Received: by wa-out-1112.google.com with SMTP id k34so1726715wah.25
	for <sip@ietf.org>; Wed, 10 Sep 2008 02:56:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=IEzFzEFbWI+k5Auvhy7HWAn9RI9rz4QQG3E0P8PXna0=;
	b=IB5oe7IHzhbifT0ioc9SlQ7tw4ZimN2V8redhqdr7QhWj6oasz7tmwQ73vomYA/tk6
	NmEh0qQJBSIfe13D0jFUXaRibZds/1Sl96h5cbQlsDhh3JiFD+XAyW9HTf1rqGu1qv3e
	59YRL9c4V/2ftbMhFS2mnQ2ZTdF+d5hvD2ll8=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
	:content-type:references;
	b=mmEe/AyN7KFT4mWGPYnC39ytNpFir/JuFD5zg2t5mlCJgqPmAW/av52R1TUIzlgedN
	7J7rDHejtkaHEV9nK1+PUohN0zxAREu7f9GfAR1YL88W1S8MhXFS7x2tM0I4UohPGL2U
	a9Dy9kVQxx1TygbKN6WNgteqlhG/DVt1YAvIA=
Received: by 10.114.192.3 with SMTP id p3mr435903waf.112.1221040567796;
	Wed, 10 Sep 2008 02:56:07 -0700 (PDT)
Received: by 10.114.81.17 with HTTP; Wed, 10 Sep 2008 02:56:07 -0700 (PDT)
Message-ID: <98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
Date: Wed, 10 Sep 2008 15:26:07 +0530
From: "Vineet Gupta" <gupta.vineet@gmail.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>
In-Reply-To: <48C69F7B.7040307@cisco.com>
MIME-Version: 1.0
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
	<48C69F7B.7040307@cisco.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0164557468=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0164557468==
Content-Type: multipart/alternative; 
	boundary="----=_Part_2629_4337457.1221040567807"

------=_Part_2629_4337457.1221040567807
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Paul/All,

I totally agree with the points mentioned in your email. However, I still
have doubts whether most implementations follow this approach or not.

*Firstly,* I share the same feeling with you with respect to presence of the
Supported header in the request. The Require and Supported should not have
common options in a request. Also, Supported in request is required if UAC
wants to be generous enough to allow UAS to enforce an option, it itself
does not require.

However, I was slightly confused by the following statement in RFC3261 with
respect to the Supported header (Section 20.37 , [Page 178]):
*"The Supported header field enumerates all the extensions supported by the
UAC or UAS"*.

*So, for inter-operatablity reasons, should all the application have same
options in Require and Supported header or not?*

*Secondly, *I had discussed the scope of options mentioned in
Require/Supported header, in an earlier debate regarding this (whether it
applies to a transaction/dialog) in this mailing list long back. As per my
understanding, from RFC3261 the scope of Require/Supported header seems to
be a transaction only. If we go by this assumption, once session in
established using 100rel and precondition (as per 3gpp call-flow), a
re-INVITE request can be sent without both these options (if for example the
UAC realizes that no QoS establishment would be required).

However, I got a feeling that most of the implementions go by the assumption
that Require/Supported extension apply through out the dialog.

Can you let me know in your opinion, what is the general consensus on this.
*Are most SIP implementations prepared to handle change in Require/Supported
options in re-INVITE request (They ofcourse can still reject such a
re-INVITE by sending 420 Bad Extension/421 Extension Required)?*

Regards,
Vineet.


On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com> wrote:

>
>
> Vineet Gupta wrote:
>
>> Hi,
>>  I have a small doubt related to use of Supported and Require header.
>> While from RFC 3261 it is clear the Require header is used by the UAC and
>> UAS to enforce the extension implemention for a particular session, while
>> the Supported header is mostly used by UAC to express the extensions which
>> can be enforced by UAS through the Require header.
>>  My doubt is that, is it *mandatary that every extension that is present
>> in Require header must be present in Supported header *in the request?
>> According to me, presence/absence of Required extensions in Supported header
>> does not make any impact on UAS handling.  *Even if it is not mandatory,
>> what is the preferred approach?*
>>
>
> This is pretty loosely defined.
>
> For one thing, Require doesn't necessarily apply to a "particular session".
> The most that can be said with certainty is that is applies to a
> transaction. Often it applies longer, but how long isn't well defined.
>
> Second, there is some asymmetry in Supported/Require, but this varies based
> on the option. Require from a UAC states what it requires of the UAS, but
> doesn't necessarily imply that a Require for the same option, coming the
> other way, would be supported.
>
> Also, Supported and Require are often used together to do a negotiation:
> Supported in a request is paired with Require of the same option in the
> response to negotiate its use.
>
> In most cases there is no requirement to include Supported in requests. The
> main place it is essential is in a 420 response.
>
>        Thanks,
>        Paul
>

------=_Part_2629_4337457.1221040567807
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr"><div>Hi Paul/All,</div>
<div>&nbsp;</div>
<div>I&nbsp;totally agree with the points mentioned in your email. However, I still have&nbsp;doubts whether most implementations follow this approach or not.&nbsp;</div>
<div>&nbsp;</div>
<div><strong>Firstly,</strong> I share the same feeling with you with respect to presence of the Supported header in the request. The Require and Supported should not have common options in a request. Also, Supported in request is required if UAC wants to be generous enough to allow UAS to enforce an option, it itself does not require.</div>

<div>&nbsp;</div>
<div>However, I was slightly confused by the following statement in RFC3261 with respect to the Supported header (Section 20.37 , [Page 178]):</div>
<div><em>&quot;The Supported header field enumerates all the extensions supported by the UAC or UAS&quot;</em>.</div>
<div>&nbsp;</div>
<div><strong>So, for inter-operatablity reasons, should all the application have same options in Require and Supported header or not?</strong></div>
<div>&nbsp;</div>
<div><strong>Secondly, </strong>I had discussed the scope of options mentioned in Require/Supported header, in an earlier debate regarding this (whether it applies to a transaction/dialog) in this mailing list long back. As per my understanding, from RFC3261 the scope of Require/Supported header seems to be a transaction only. If we go by this assumption, once session in established using 100rel and precondition (as per 3gpp call-flow), a re-INVITE request can be sent without both these options (if for example the UAC realizes that no QoS establishment would be required). </div>

<div>&nbsp;</div>
<div>However, I got a feeling that most of the implementions go by the assumption that Require/Supported extension apply through out the dialog. </div>
<div>&nbsp;</div>
<div>Can you let me know in your opinion, what is the general consensus on this. <strong>Are most SIP implementations prepared to handle change in Require/Supported options in re-INVITE request (They ofcourse can still reject such&nbsp;a re-INVITE&nbsp;by sending 420 Bad Extension/421 Extension Required)?</strong></div>

<div>&nbsp;</div>
<div>Regards,</div>
<div>Vineet.<br><br><br></div>
<div class="gmail_quote">On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <span dir="ltr">&lt;<a href="mailto:pkyzivat@cisco.com">pkyzivat@cisco.com</a>&gt;</span> wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>Vineet Gupta wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">
<div class="Ih2E3d">Hi,<br>&nbsp;I have a small doubt related to use of Supported and Require header. While from RFC 3261 it is clear the Require header is used by the UAC and UAS to enforce the extension implemention for a particular session, while the Supported header is mostly used by UAC to express the extensions which can be enforced by UAS through the Require header.<br>
</div>&nbsp;My doubt is that, is it *mandatary that every extension that is present in Require header must be present in Supported header *in the request? According to me, presence/absence of Required extensions in Supported header does not make any impact on UAS handling. &nbsp;*Even if it is not mandatory, what is the preferred approach?*<br>
</blockquote><br>This is pretty loosely defined.<br><br>For one thing, Require doesn&#39;t necessarily apply to a &quot;particular session&quot;. The most that can be said with certainty is that is applies to a transaction. Often it applies longer, but how long isn&#39;t well defined.<br>
<br>Second, there is some asymmetry in Supported/Require, but this varies based on the option. Require from a UAC states what it requires of the UAS, but doesn&#39;t necessarily imply that a Require for the same option, coming the other way, would be supported.<br>
<br>Also, Supported and Require are often used together to do a negotiation:<br>Supported in a request is paired with Require of the same option in the response to negotiate its use.<br><br>In most cases there is no requirement to include Supported in requests. The main place it is essential is in a 420 response.<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;Thanks,<br><font color="#888888">&nbsp; &nbsp; &nbsp; &nbsp;Paul<br></font></blockquote></div><br></div>

------=_Part_2629_4337457.1221040567807--

--===============0164557468==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0164557468==--


From sip-bounces@ietf.org  Wed Sep 10 03:10:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D3C393A6AC1;
	Wed, 10 Sep 2008 03:10:13 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F5F23A68B9
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 03:10:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.132
X-Spam-Level: **
X-Spam-Status: No, score=2.132 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_JP=1.244, HOST_EQ_JP=1.265,
	RELAY_IS_221=2.222]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qiBhAdXbgwkd for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 03:10:13 -0700 (PDT)
Received: from softfront.co.jp (rt1.softfront.co.jp [221.186.247.166])
	by core3.amsl.com (Postfix) with SMTP id 9A10B3A677E
	for <sip@ietf.org>; Wed, 10 Sep 2008 03:10:12 -0700 (PDT)
Received: (qmail 32040 invoked by uid 0); 10 Sep 2008 19:03:35 +0900
Received: from unknown (HELO softfront.co.jp) (172.16.0.2)
	by mail.softfront.co.jp with SMTP; 10 Sep 2008 19:03:35 +0900
From: OKUMURA Shinji <shin@softfront.co.jp>
To: sip@ietf.org,
 sipping@ietf.org
Date: Wed, 10 Sep 2008 19:03:35 +0900
MIME-Version: 1.0
X-Mailer: HidemaruMail 5.08 (WinNT,501)
Message-Id: <CC9132C7CDF08shin@softfront.co.jp>
Subject: [Sip] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

I have any questions about sending offer by UPDATE request.

RFC3311/5.1 Sending an UPDATE says,

   The rules for inclusion of offers and answers in SIP messages as
   defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
   to guarantee a consistent view of the session state.  This means
   that, for the caller:

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE contained an offer,
         the UPDATE can contain an offer if the callee generated an
         answer in a reliable provisional response, and the caller has
         received answers to any other offers it sent in either PRACK or
         UPDATE, and has generated answers for any offers it received in
         an UPDATE from the callee.

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE did not contain an
         offer, the UPDATE can contain an offer if the callee generated
         an offer in a reliable provisional response, and the UAC
         generated an answer in the corresponding PRACK.  Of course, it
         can't send an UPDATE if it has not received answers to any
         other offers it sent in either PRACK or UPDATE, or has not
         generated answers for any other offers it received in an UPDATE
         from the callee.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot contain an offer if the caller
         has generated or received offers in a re-INVITE or UPDATE which
         have not been answered.

According to the description above, The following scenarios seem
to be allowed.(before sending PRACK)

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |re-INVITE (offer0)             |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |re-INVITE (no offer)           |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

   and for the callee:

      o  If the UPDATE is being sent before the completion of the INVITE
         transaction, and the initial INVITE contained an offer, the
         UPDATE cannot be sent with an offer unless the callee has
         generated an answer in a reliable provisional response, has
         received a PRACK for that reliable provisional response, has
         not received any requests (PRACK or UPDATE) with offers that it
         has not answered, and has not sent any UPDATE requests
         containing offers that have not been answered.

      o  If the UPDATE is being sent before completion of the INVITE
         transaction, and the initial INVITE did not contain an offer,
         the UPDATE cannot be sent with an offer unless the callee has
         sent an offer in a reliable provisional response, received an
         answer in a PRACK, and has not received any UPDATE requests
         with offers that it has not answered, and has not sent any
         UPDATE requests containing offers that have not been answered.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot be sent with an offer if the
         callee has generated or received offers in a re-INVITE or
         UPDATE which have not been answered.

According to the description above, The following scenarios seem
to be allowed.(before receiving PRACK)

    A                               B
    |                               |
    |             re-INVITE (offer0)|
    |<------------------------------|
    |                               |
    |1xx-rel (answer0)              |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |              re-INV (no offer)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

Is my understanding correct?
Some scenarios seem to be allowed only for re-INVITE.
is this what the author intended?
If not, which is not intended scenario?

Regards,
Shinji
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 03:24:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E04BD3A6A8E;
	Wed, 10 Sep 2008 03:24:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7C8273A6A8E;
	Wed, 10 Sep 2008 03:24:57 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vkxq6lvemWhV; Wed, 10 Sep 2008 03:24:51 -0700 (PDT)
Received: from cluster-f.mailcontrol.com (cluster-f.mailcontrol.com
	[85.119.2.190])
	by core3.amsl.com (Postfix) with ESMTP id 666313A6828;
	Wed, 10 Sep 2008 03:24:51 -0700 (PDT)
Received: from rly31f.srv.mailcontrol.com (localhost.localdomain [127.0.0.1])
	by rly31f.srv.mailcontrol.com (MailControl) with ESMTP id
	m8AAObTX019470; Wed, 10 Sep 2008 11:24:50 +0100
Received: from submission.mailcontrol.com (submission.mailcontrol.com
	[86.111.216.190])
	by rly31f.srv.mailcontrol.com (MailControl) id m8AANmNs016334;
	Wed, 10 Sep 2008 11:23:48 +0100
Received: from exsmtp02.nasstar-t1.net (exsmtp02.nasstar-t1.net
	[89.28.233.152]) by rly31f-eth0.srv.mailcontrol.com (envelope-sender
	attila.sipos@vegastream.com) (MIMEDefang) with ESMTP id
	m8AAMD9X008205; Wed, 10 Sep 2008 11:23:48 +0100 (BST)
Received: from EXVS02.nasstar-t1.net ([10.2.10.104]) by
	exsmtp02.nasstar-t1.net with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 11:21:55 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 10 Sep 2008 11:20:09 +0100
Message-ID: <680808427CF931459462C3D78CB5EC600312CA9A@EXVS02.nasstar-t1.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sipping] UPDATE with offer
Thread-Index: AckTLPirbwX0LYkZQnuT+n00RwC10AAAZcmg
From: "Attila Sipos" <attila.sipos@vegastream.com>
To: "OKUMURA Shinji" <shin@softfront.co.jp>, <sip@ietf.org>, <sipping@ietf.org>
X-OriginalArrivalTime: 10 Sep 2008 10:21:55.0890 (UTC)
	FILETIME=[0CFA7120:01C9132F]
X-Scanned-By: MailControl A-08-50-13 (www.mailcontrol.com) on 10.70.1.141
Subject: Re: [Sip] [Sipping] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I haven't read carefully through your e-mail but
maybe this draft will answer some of your questions
(if not, it will, at least, give you extra guidance)...

http://tools.ietf.org/html/draft-ietf-sipping-sip-offeranswer-08

Regards,

Attila
 

-----Original Message-----
From: sipping-bounces@ietf.org [mailto:sipping-bounces@ietf.org] On
Behalf Of OKUMURA Shinji
Sent: 10 September 2008 11:04
To: sip@ietf.org; sipping@ietf.org
Subject: [Sipping] UPDATE with offer

Hi,

I have any questions about sending offer by UPDATE request.

RFC3311/5.1 Sending an UPDATE says,

   The rules for inclusion of offers and answers in SIP messages as
   defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
   to guarantee a consistent view of the session state.  This means
   that, for the caller:

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE contained an offer,
         the UPDATE can contain an offer if the callee generated an
         answer in a reliable provisional response, and the caller has
         received answers to any other offers it sent in either PRACK or
         UPDATE, and has generated answers for any offers it received in
         an UPDATE from the callee.

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE did not contain an
         offer, the UPDATE can contain an offer if the callee generated
         an offer in a reliable provisional response, and the UAC
         generated an answer in the corresponding PRACK.  Of course, it
         can't send an UPDATE if it has not received answers to any
         other offers it sent in either PRACK or UPDATE, or has not
         generated answers for any other offers it received in an UPDATE
         from the callee.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot contain an offer if the caller
         has generated or received offers in a re-INVITE or UPDATE which
         have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before sending PRACK)

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |re-INVITE (offer0)             |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |re-INVITE (no offer)           |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

   and for the callee:

      o  If the UPDATE is being sent before the completion of the INVITE
         transaction, and the initial INVITE contained an offer, the
         UPDATE cannot be sent with an offer unless the callee has
         generated an answer in a reliable provisional response, has
         received a PRACK for that reliable provisional response, has
         not received any requests (PRACK or UPDATE) with offers that it
         has not answered, and has not sent any UPDATE requests
         containing offers that have not been answered.

      o  If the UPDATE is being sent before completion of the INVITE
         transaction, and the initial INVITE did not contain an offer,
         the UPDATE cannot be sent with an offer unless the callee has
         sent an offer in a reliable provisional response, received an
         answer in a PRACK, and has not received any UPDATE requests
         with offers that it has not answered, and has not sent any
         UPDATE requests containing offers that have not been answered.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot be sent with an offer if the
         callee has generated or received offers in a re-INVITE or
         UPDATE which have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before receiving PRACK)

    A                               B
    |                               |
    |             re-INVITE (offer0)|
    |<------------------------------|
    |                               |
    |1xx-rel (answer0)              |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

    A                               B
    |                               |
    |              re-INV (no offer)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |

Is my understanding correct?
Some scenarios seem to be allowed only for re-INVITE.
is this what the author intended?
If not, which is not intended scenario?

Regards,
Shinji
_______________________________________________
Sipping mailing list  https://www.ietf.org/mailman/listinfo/sipping
This list is for NEW development of the application of SIP Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sip@ietf.org for new developments of core SIP
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 07:08:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C823C28C25F;
	Wed, 10 Sep 2008 07:08:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F3C813A691B;
	Wed, 10 Sep 2008 07:08:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.527
X-Spam-Level: 
X-Spam-Status: No, score=-6.527 tagged_above=-999 required=5 tests=[AWL=0.072, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6RNTvPgRHbRX; Wed, 10 Sep 2008 07:08:10 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 746DE3A682F;
	Wed, 10 Sep 2008 07:08:10 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,372,1217808000"; d="scan'208";a="20335935"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 10 Sep 2008 14:08:11 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8AE8Bi3024940; 
	Wed, 10 Sep 2008 10:08:11 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8AE8B3n010929;
	Wed, 10 Sep 2008 14:08:11 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 10:08:11 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 10:08:11 -0400
Message-ID: <48C7D4CB.5080606@cisco.com>
Date: Wed, 10 Sep 2008 10:08:11 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: OKUMURA Shinji <shin@softfront.co.jp>
References: <CC9132C7CDF08shin@softfront.co.jp>
In-Reply-To: <CC9132C7CDF08shin@softfront.co.jp>
X-OriginalArrivalTime: 10 Sep 2008 14:08:11.0195 (UTC)
	FILETIME=[A87D98B0:01C9134E]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7914; t=1221055691;
	x=1221919691; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sipping]=20UPDATE=20with=20offer
	|Sender:=20 |To:=20OKUMURA=20Shinji=20<shin@softfront.co.jp>;
	bh=NAyKpLcKeibQGDIdizjnYGyozv1tuv/xuxMMGi46dLo=;
	b=rpCFjSL1g8z4gj4wCKr78kpk2ijIRB8OYxvtkR/VvxZpRXJwrzJ0cWFITH
	4SN3PEFSzNc0isAStcgKOswIt45JH21BLustuuj8HW+gO6YIKp7kq5Wguznu
	/7OmPjdSsk;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org, sipping@ietf.org
Subject: Re: [Sip] [Sipping] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Shinji,

I realize I haven't responded to your earlier o/a question.
You have obviously been looking deeply into this subject, and I haven't 
had time to give a studied answer.

The collection of RFCs that touch on offer/answer don't fit together 
perfectly. It takes a lot of "reading tea leaves" to put it all together 
and make sense of it. For the most part it has been concluded that only 
certain usages are valid, because the others lead to inconsistent 
results or violate some aspect of one or more of the RFCs. There was an 
extended discussion of all this on the mailing list some years ago, 
which then faded into folklore. We later realized that such folklore 
needed to be formally recorded, which is what led to the offeranswer draft.

The end result is that if you simply look at one RFC, such as 3311, and 
construct flows that are consistent with it, then you are likely to come 
up with some that aren't workable for some reason not stated in 3311.

OKUMURA Shinji wrote:
> Hi,
> 
> I have any questions about sending offer by UPDATE request.
> 
> RFC3311/5.1 Sending an UPDATE says,
> 
>    The rules for inclusion of offers and answers in SIP messages as
>    defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
>    to guarantee a consistent view of the session state.  This means
>    that, for the caller:
> 
>       o  If the UPDATE is being sent before completion of the initial
>          INVITE transaction, and the initial INVITE contained an offer,
>          the UPDATE can contain an offer if the callee generated an
>          answer in a reliable provisional response, and the caller has
>          received answers to any other offers it sent in either PRACK or
>          UPDATE, and has generated answers for any offers it received in
>          an UPDATE from the callee.
> 
>       o  If the UPDATE is being sent before completion of the initial
>          INVITE transaction, and the initial INVITE did not contain an
>          offer, the UPDATE can contain an offer if the callee generated
>          an offer in a reliable provisional response, and the UAC
>          generated an answer in the corresponding PRACK.  Of course, it
>          can't send an UPDATE if it has not received answers to any
>          other offers it sent in either PRACK or UPDATE, or has not
>          generated answers for any other offers it received in an UPDATE
>          from the callee.
> 
>       o  If the UPDATE is being sent after the completion of the initial
>          INVITE transaction, it cannot contain an offer if the caller
>          has generated or received offers in a re-INVITE or UPDATE which
>          have not been answered.
> 
> According to the description above, The following scenarios seem
> to be allowed.(before sending PRACK)
> 
>     A                               B
>     |                               |
>     |ini-INVITE (offer0)            |
>     |------------------------------>|
>     |                               |
>     |              1xx-rel (answer0)|
>     |<------------------------------|
>     |                               |
>     |UPDATE (offer1)                |
>     |==============================>|
>     |                               |
> 
>     A                               B
>     |                               |
>     |re-INVITE (offer0)             |
>     |------------------------------>|
>     |                               |
>     |              1xx-rel (answer0)|
>     |<------------------------------|
>     |                               |
>     |UPDATE (offer1)                |
>     |==============================>|
>     |                               |

Your point in the above is that the UPDATE is being sent prior to the 
PRACK, right?

Would you then expect to be able to send yet another offer in the PRACK???

 From B's perspective there is the possibility that there was a PRACK 
and it was lost or delayed. This then gets very complex to interpret. 
IMO this is at least a very bad idea.


> 
>     A                               B
>     |                               |
>     |re-INVITE (no offer)           |
>     |------------------------------>|
>     |                               |
>     |UPDATE (offer1)                |
>     |==============================>|
>     |                               |

This clearly can't work. B will be working on generating an offer, so 
this is just inviting a complex glare condition.

So this is certainly a bad practice, if not illegal.

I don't have time right now to dig into all your other cases. But let me 
wrap up for now this way:

The best way we found to resolve all of these alternatives in the o/a 
draft was to reformulate by giving just the patterns that are known to 
be valid. Others, that might seem to be valid according to one of the 
RFCs, are to be avoided.

In retrospect, it would have been better for the RFCs to have been much 
more explicit and constraining.

	Thanks,
	Paul

>    and for the callee:
> 
>       o  If the UPDATE is being sent before the completion of the INVITE
>          transaction, and the initial INVITE contained an offer, the
>          UPDATE cannot be sent with an offer unless the callee has
>          generated an answer in a reliable provisional response, has
>          received a PRACK for that reliable provisional response, has
>          not received any requests (PRACK or UPDATE) with offers that it
>          has not answered, and has not sent any UPDATE requests
>          containing offers that have not been answered.
> 
>       o  If the UPDATE is being sent before completion of the INVITE
>          transaction, and the initial INVITE did not contain an offer,
>          the UPDATE cannot be sent with an offer unless the callee has
>          sent an offer in a reliable provisional response, received an
>          answer in a PRACK, and has not received any UPDATE requests
>          with offers that it has not answered, and has not sent any
>          UPDATE requests containing offers that have not been answered.
> 
>       o  If the UPDATE is being sent after the completion of the initial
>          INVITE transaction, it cannot be sent with an offer if the
>          callee has generated or received offers in a re-INVITE or
>          UPDATE which have not been answered.
> 
> According to the description above, The following scenarios seem
> to be allowed.(before receiving PRACK)
> 
>     A                               B
>     |                               |
>     |             re-INVITE (offer0)|
>     |<------------------------------|
>     |                               |
>     |1xx-rel (answer0)              |
>     |------------------------------>|
>     |                               |
>     |UPDATE (offer1)                |
>     |==============================>|
>     |                               |



> 
>     A                               B
>     |                               |
>     |              re-INV (no offer)|
>     |<------------------------------|
>     |                               |
>     |UPDATE (offer1)                |
>     |==============================>|
>     |                               |
> 
> Is my understanding correct?
> Some scenarios seem to be allowed only for re-INVITE.
> is this what the author intended?
> If not, which is not intended scenario?
> 
> Regards,
> Shinji
> _______________________________________________
> Sipping mailing list  https://www.ietf.org/mailman/listinfo/sipping
> This list is for NEW development of the application of SIP
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sip@ietf.org for new developments of core SIP
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 07:49:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 45C1428C259;
	Wed, 10 Sep 2008 07:49:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F4533A6D76;
	Wed, 10 Sep 2008 07:49:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[AWL=-0.001, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6yJM5wDudfyx; Wed, 10 Sep 2008 07:49:28 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 9146F3A6911;
	Wed, 10 Sep 2008 07:49:21 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,372,1217808000"; d="scan'208,217";a="27945679"
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 10 Sep 2008 14:48:23 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8AEmMNO020562; 
	Wed, 10 Sep 2008 22:48:22 +0800
Received: from xbh-hkg-411.apac.cisco.com (xbh-hkg-411.cisco.com
	[64.104.123.72])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8AEmMmQ022509;
	Wed, 10 Sep 2008 14:48:22 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-411.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 22:48:21 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 10 Sep 2008 22:49:09 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF30382620F@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <CC9132C7CDF08shin@softfront.co.jp>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sipping] UPDATE with offer
Thread-Index: AckTLJYYjc8D9w8iSLah0GAmPVlZ/AAJrDQg
References: <CC9132C7CDF08shin@softfront.co.jp>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "OKUMURA Shinji" <shin@softfront.co.jp>, <sip@ietf.org>, <sipping@ietf.org>
X-OriginalArrivalTime: 10 Sep 2008 14:48:21.0997 (UTC)
	FILETIME=[4570C9D0:01C91354]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=22877; t=1221058102;
	x=1221922102; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com> |Subject:=20RE=3A=20[Sipping]=20UPDATE=20with=20offer
	|Sender:=20; bh=l4RX1f3fTeAnVOuUfHE1gWLVjJnofMJO5Kv7v35d41Y=;
	b=EswifVqAy3xxyHApnX2bLuMPGRgS9eOQfHRK6A1zel93gapHtltgMFoiqn
	854hV/vzUHV/GdETHP516YbmTVZJa49I3Cvo+2ljmzAgiSQn5tYLgA56OAtQ
	niwKIqMOjbwarvj0NR+7Sw+TE14Ifn7HS3A39CCT8v+tqipCW1aog=;
Authentication-Results: hkg-dkim-1; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Subject: Re: [Sip] [Sipping] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1498370444=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1498370444==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C91354.45253293"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C91354.45253293
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Comments in line.

-Rockson

-----Original Message-----
From: sipping-bounces@ietf.org [mailto:sipping-bounces@ietf.org
<mailto:sipping-bounces@ietf.org> ] On Behalf Of OKUMURA Shinji
Sent: Wednesday, September 10, 2008 6:04 PM
To: sip@ietf.org; sipping@ietf.org
Subject: [Sipping] UPDATE with offer

Hi,

I have any questions about sending offer by UPDATE request.

RFC3311/5.1 Sending an UPDATE says,

   The rules for inclusion of offers and answers in SIP messages as
   defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
   to guarantee a consistent view of the session state.  This means
   that, for the caller:

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE contained an offer,
         the UPDATE can contain an offer if the callee generated an
         answer in a reliable provisional response, and the caller has
         received answers to any other offers it sent in either PRACK or
         UPDATE, and has generated answers for any offers it received in
         an UPDATE from the callee.

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE did not contain an
         offer, the UPDATE can contain an offer if the callee generated
         an offer in a reliable provisional response, and the UAC
         generated an answer in the corresponding PRACK.  Of course, it
         can't send an UPDATE if it has not received answers to any
         other offers it sent in either PRACK or UPDATE, or has not
         generated answers for any other offers it received in an UPDATE
         from the callee.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot contain an offer if the caller
         has generated or received offers in a re-INVITE or UPDATE which
         have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before sending PRACK)

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] IMO, this is intended scenario, UPDATE here is used to update
caller's ip address if caller is mobile.

    A                               B
    |                               |
    |re-INVITE (offer0)             |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] this is allowed, however, I seldom see any reliable response used
for re-INVITE.

    A                               B
    |                               |
    |re-INVITE (no offer)           |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] this is subject to race condition. B is probably sending its 200
with its own offer simultaneously,

     so this two offers cross over causing overlapping offer.

   and for the callee:

      o  If the UPDATE is being sent before the completion of the INVITE
         transaction, and the initial INVITE contained an offer, the
         UPDATE cannot be sent with an offer unless the callee has
         generated an answer in a reliable provisional response, has
         received a PRACK for that reliable provisional response, has
         not received any requests (PRACK or UPDATE) with offers that it
         has not answered, and has not sent any UPDATE requests
         containing offers that have not been answered.

      o  If the UPDATE is being sent before completion of the INVITE
         transaction, and the initial INVITE did not contain an offer,
         the UPDATE cannot be sent with an offer unless the callee has
         sent an offer in a reliable provisional response, received an
         answer in a PRACK, and has not received any UPDATE requests
         with offers that it has not answered, and has not sent any
         UPDATE requests containing offers that have not been answered.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot be sent with an offer if the
         callee has generated or received offers in a re-INVITE or
         UPDATE which have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before receiving PRACK)

    A                               B
    |                               |
    |             re-INVITE (offer0)|
    |<------------------------------|
    |                               |
    |1xx-rel (answer0)              |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

    A                               B
    |                               |
    |              re-INV (no offer)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] you can send 200 with offer here instead more naturally, why bother
with UPDATE??

Is my understanding correct?
Some scenarios seem to be allowed only for re-INVITE.
is this what the author intended?
If not, which is not intended scenario?

Regards,
Shinji
_______________________________________________
Sipping mailing list  https://www.ietf.org/mailman/listinfo/sipping
<https://www.ietf.org/mailman/listinfo/sipping>=20
This list is for NEW development of the application of SIP Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sip@ietf.org for new developments of core SIP



------_=_NextPart_001_01C91354.45253293
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE></TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY><!-- Converted from text/plain format -->
<P><FONT size=3D2><FONT face=3D"Courier New">Comments in=20
line.<BR><BR>-Rockson<BR><BR>-----Original Message-----<BR>From:=20
sipping-bounces@ietf.org [</FONT><A =
href=3D"mailto:sipping-bounces@ietf.org"><FONT=20
face=3D"Courier New">mailto:sipping-bounces@ietf.org</FONT></A><FONT=20
face=3D"Courier New">] On Behalf Of OKUMURA Shinji<BR>Sent: Wednesday, =
September=20
10, 2008 6:04 PM<BR>To: sip@ietf.org; sipping@ietf.org<BR>Subject: =
[Sipping]=20
UPDATE with offer<BR><BR>Hi,<BR><BR>I have any questions about sending =
offer by=20
UPDATE request.<BR><BR>RFC3311/5.1 Sending an UPDATE =
says,<BR><BR>&nbsp;&nbsp;=20
The rules for inclusion of offers and answers in SIP messages =
as<BR>&nbsp;&nbsp;=20
defined in Section 13.2.1 of RFC 3261 still apply.&nbsp; These rules=20
exist<BR>&nbsp;&nbsp; to guarantee a consistent view of the session =
state.&nbsp;=20
This means<BR>&nbsp;&nbsp; that, for the=20
caller:<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent before completion of the=20
initial<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE =
transaction,=20
and the initial INVITE contained an=20
offer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the UPDATE =
can=20
contain an offer if the callee generated=20
an<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer in a =
reliable=20
provisional response, and the caller=20
has<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; received answers =
to any=20
other offers it sent in either PRACK=20
or<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE, and has =
generated=20
answers for any offers it received=20
in<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an UPDATE from =
the=20
callee.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent before completion of the=20
initial<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE =
transaction,=20
and the initial INVITE did not contain=20
an<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offer, the UPDATE =
can=20
contain an offer if the callee=20
generated<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an offer =
in a=20
reliable provisional response, and the=20
UAC<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated an =
answer in=20
the corresponding PRACK.&nbsp; Of course,=20
it<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; can't send an =
UPDATE if=20
it has not received answers to=20
any<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other offers it =
sent in=20
either PRACK or UPDATE, or has=20
not<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated =
answers for=20
any other offers it received in an=20
UPDATE<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from the=20
callee.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent after the completion of the=20
initial<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE =
transaction,=20
it cannot contain an offer if the=20
caller<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has generated =
or=20
received offers in a re-INVITE or UPDATE=20
which<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; have not been=20
answered.<BR><BR>According to the description above, The following =
scenarios=20
seem to be allowed.(before sending PRACK)<BR><BR>&nbsp;&nbsp;&nbsp;=20
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
B<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |ini-INVITE=20
(offer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|------------------------------&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;=20
1xx-rel (answer0)|<BR>&nbsp;&nbsp;&nbsp;=20
|&lt;------------------------------|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |UPDATE=20
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|</FONT></FONT></P>
<P><FONT size=3D2><FONT face=3D"Courier New">[RL] IMO,&nbsp;this is =
intended=20
scenario,&nbsp;UPDATE here is used to update caller's ip address if =
caller is=20
mobile.<BR><BR>&nbsp;&nbsp;&nbsp;=20
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
B<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |re-INVITE=20
(offer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|------------------------------&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;=20
1xx-rel (answer0)|<BR>&nbsp;&nbsp;&nbsp;=20
|&lt;------------------------------|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |UPDATE=20
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|</FONT></FONT></P>
<P><FONT size=3D2><FONT face=3D"Courier New">[RL] this is allowed, =
however, I seldom=20
see any reliable response=20
used&nbsp;for&nbsp;re-INVITE.<BR><BR>&nbsp;&nbsp;&nbsp;=20
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
B<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |re-INVITE (no=20
offer)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|------------------------------&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |UPDATE=20
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|</FONT></FONT></P>
<P><FONT size=3D2><FONT face=3D"Courier New">[RL] this is subject to =
race condition.=20
B&nbsp;is probably&nbsp;sending its 200 with its own offer=20
simultaneously,</FONT></FONT></P>
<P><FONT face=3D"Courier New" size=3D2>&nbsp;&nbsp;&nbsp;&nbsp; so this =
two offers=20
cross over causing overlapping offer.</FONT><FONT><FONT=20
face=3D"Courier New"><BR><BR><FONT size=3D2>&nbsp;&nbsp; and for the=20
callee:<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent before the completion of the=20
INVITE<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transaction, =
and the=20
initial INVITE contained an offer,=20
the<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE cannot be =
sent=20
with an offer unless the callee=20
has<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated an =
answer in a=20
reliable provisional response,=20
has<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; received a PRACK =
for=20
that reliable provisional response,=20
has<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not received any =

requests (PRACK or UPDATE) with offers that=20
it<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has not answered, =
and has=20
not sent any UPDATE =
requests<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
containing offers that have not been=20
answered.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent before completion of the=20
INVITE<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transaction, =
and the=20
initial INVITE did not contain an=20
offer,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the UPDATE =
cannot be=20
sent with an offer unless the callee=20
has<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sent an offer in =
a=20
reliable provisional response, received=20
an<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer in a =
PRACK, and=20
has not received any UPDATE=20
requests<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with offers =
that it=20
has not answered, and has not sent=20
any<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE requests=20
containing offers that have not been=20
answered.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is =
being=20
sent after the completion of the=20
initial<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE =
transaction,=20
it cannot be sent with an offer if=20
the<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; callee has =
generated or=20
received offers in a re-INVITE=20
or<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE which have =
not=20
been answered.<BR><BR>According to the description above, The following=20
scenarios seem to be allowed.(before receiving =
PRACK)<BR><BR>&nbsp;&nbsp;&nbsp;=20
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
B<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
=20
re-INVITE (offer0)|<BR>&nbsp;&nbsp;&nbsp;=20
|&lt;------------------------------|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |1xx-rel=20
(answer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|------------------------------&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |UPDATE=20
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR><BR>&nbsp;&nbsp;&nbsp;=20
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
B<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;=20
re-INV (no offer)|<BR>&nbsp;&nbsp;&nbsp;=20
|&lt;------------------------------|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp; |UPDATE=20
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;=20
|<BR>&nbsp;&nbsp;&nbsp;=20
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<BR>&nbsp;&nbsp;&nbsp;=20
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
|</FONT></FONT></FONT></P>
<P><FONT><FONT face=3D"Courier New"><FONT size=3D2>[RL] you can send 200 =
with=20
offer&nbsp;here instead more naturally, why bother with =
UPDATE??<BR><BR>Is my=20
understanding correct?<BR>Some scenarios seem to be allowed only for=20
re-INVITE.<BR>is this what the author intended?<BR>If not, which is not =
intended=20
scenario?<BR><BR>Regards,<BR>Shinji<BR>__________________________________=
_____________<BR>Sipping=20
mailing list&nbsp; </FONT></FONT><A=20
href=3D"https://www.ietf.org/mailman/listinfo/sipping"><FONT =
face=3D"Courier New"=20
size=3D2>https://www.ietf.org/mailman/listinfo/sipping</FONT></A><BR><FON=
T=20
face=3D"Courier New"><FONT size=3D2>This list is for NEW development of =
the=20
application of SIP Use sip-implementors@cs.columbia.edu for questions on =
current=20
sip Use sip@ietf.org for new developments of core=20
SIP<BR></P></FONT></FONT></FONT></BODY></HTML>

------_=_NextPart_001_01C91354.45253293--

--===============1498370444==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1498370444==--


From sip-bounces@ietf.org  Wed Sep 10 08:41:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D6F2D28C288;
	Wed, 10 Sep 2008 08:41:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 72B743A6D98;
	Wed, 10 Sep 2008 08:41:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.248
X-Spam-Level: 
X-Spam-Status: No, score=-6.248 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	HTML_MESSAGE=0.001, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id GL2hZjOZaE7e; Wed, 10 Sep 2008 08:41:11 -0700 (PDT)
Received: from mailgw3.ericsson.se (mailgw3.ericsson.se [193.180.251.60])
	by core3.amsl.com (Postfix) with ESMTP id 83B333A6D87;
	Wed, 10 Sep 2008 08:41:06 -0700 (PDT)
Received: from mailgw3.ericsson.se (unknown [127.0.0.1])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	E6ED42088B; Wed, 10 Sep 2008 17:41:10 +0200 (CEST)
X-AuditID: c1b4fb3c-ad0ccbb0000015b5-64-48c7ea96fba2
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw3.ericsson.se (Symantec Mail Security) with ESMTP id
	AC48320812; Wed, 10 Sep 2008 17:41:10 +0200 (CEST)
Received: from esealmw118.eemea.ericsson.se ([153.88.200.77]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 17:41:10 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 10 Sep 2008 17:42:20 +0200
Message-ID: <C0E80510684FE94DBDE3A4AF6B968D2D040AD2AC@esealmw118.eemea.ericsson.se>
In-Reply-To: <F86B91A10B14744E88408E80B8A30EF30382620F@xmb-hkg-412.apac.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sipping] UPDATE with offer
thread-index: AckTLJYYjc8D9w8iSLah0GAmPVlZ/AAJrDQgAAEcaAA=
References: <CC9132C7CDF08shin@softfront.co.jp>
	<F86B91A10B14744E88408E80B8A30EF30382620F@xmb-hkg-412.apac.cisco.com>
From: "Ian Elz" <ian.elz@ericsson.com>
To: "Rockson Li (zhengyli)" <zhengyli@cisco.com>,
	"OKUMURA Shinji" <shin@softfront.co.jp>, <sip@ietf.org>, <sipping@ietf.org>
X-OriginalArrivalTime: 10 Sep 2008 15:41:10.0289 (UTC)
	FILETIME=[A5E3C810:01C9135B]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] [Sipping] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0139869241=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0139869241==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C9135B.A5A0D1A9"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C9135B.A5A0D1A9
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Shinji,

=20

I have added my comments to those from Rockson - inline.

=20

I am unsure why you are proposing these sequences. If you implement them
you may have interworking issues.

Ian Elz=20

System Manager=20
DUCI LDC UK=20
(Lucid Duck)=20

Office: + 44 24 764 35256=20
gsm: +44 7801723668=20
ian.elz@ericsson.com=20

________________________________

From: sipping-bounces@ietf.org [mailto:sipping-bounces@ietf.org] On
Behalf Of Rockson Li (zhengyli)
Sent: 10 September 2008 15:49
To: OKUMURA Shinji; sip@ietf.org; sipping@ietf.org
Subject: Re: [Sipping] UPDATE with offer

=20

Comments in line.

-Rockson

-----Original Message-----
From: sipping-bounces@ietf.org [mailto:sipping-bounces@ietf.org
<mailto:sipping-bounces@ietf.org> ] On Behalf Of OKUMURA Shinji
Sent: Wednesday, September 10, 2008 6:04 PM
To: sip@ietf.org; sipping@ietf.org
Subject: [Sipping] UPDATE with offer

Hi,

I have any questions about sending offer by UPDATE request.

RFC3311/5.1 Sending an UPDATE says,

   The rules for inclusion of offers and answers in SIP messages as
   defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
   to guarantee a consistent view of the session state.  This means
   that, for the caller:

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE contained an offer,
         the UPDATE can contain an offer if the callee generated an
         answer in a reliable provisional response, and the caller has
         received answers to any other offers it sent in either PRACK or
         UPDATE, and has generated answers for any offers it received in
         an UPDATE from the callee.

      o  If the UPDATE is being sent before completion of the initial
         INVITE transaction, and the initial INVITE did not contain an
         offer, the UPDATE can contain an offer if the callee generated
         an offer in a reliable provisional response, and the UAC
         generated an answer in the corresponding PRACK.  Of course, it
         can't send an UPDATE if it has not received answers to any
         other offers it sent in either PRACK or UPDATE, or has not
         generated answers for any other offers it received in an UPDATE
         from the callee.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot contain an offer if the caller
         has generated or received offers in a re-INVITE or UPDATE which
         have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before sending PRACK)

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] IMO, this is intended scenario, UPDATE here is used to update
caller's ip address if caller is mobile.

[Ian Elz ] In this scenario it would be usual to send the PRACK before
the UPDATE. As you can send a new sdp offer in the PRACK and you have to
send the PRACK why bother with the UPDATE.



    A                               B
    |                               |
    |re-INVITE (offer0)             |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] this is allowed, however, I seldom see any reliable response used
for re-INVITE.

[Ian Elz ] Again this is possible but you could use the PRACK.



    A                               B
    |                               |
    |re-INVITE (no offer)           |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] this is subject to race condition. B is probably sending its 200
with its own offer simultaneously,

     so this two offers cross over causing overlapping offer.

[Ian Elz ] As Rockson says, this would create a race condition for the
sdp. This should not be allowed. The offer answer draft should cover
this. If it doesn't then it should.



   and for the callee:

      o  If the UPDATE is being sent before the completion of the INVITE
         transaction, and the initial INVITE contained an offer, the
         UPDATE cannot be sent with an offer unless the callee has
         generated an answer in a reliable provisional response, has
         received a PRACK for that reliable provisional response, has
         not received any requests (PRACK or UPDATE) with offers that it
         has not answered, and has not sent any UPDATE requests
         containing offers that have not been answered.

      o  If the UPDATE is being sent before completion of the INVITE
         transaction, and the initial INVITE did not contain an offer,
         the UPDATE cannot be sent with an offer unless the callee has
         sent an offer in a reliable provisional response, received an
         answer in a PRACK, and has not received any UPDATE requests
         with offers that it has not answered, and has not sent any
         UPDATE requests containing offers that have not been answered.

      o  If the UPDATE is being sent after the completion of the initial
         INVITE transaction, it cannot be sent with an offer if the
         callee has generated or received offers in a re-INVITE or
         UPDATE which have not been answered.

According to the description above, The following scenarios seem to be
allowed.(before receiving PRACK)

    A                               B
    |                               |
    |             re-INVITE (offer0)|
    |<------------------------------|
    |                               |
    |1xx-rel (answer0)              |
    |------------------------------>|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[Ian Elz ] In this case you would normally wait for the PRACK as you
don't know that B has received the sdp answer until the PRACK has been
returned. It would be normal to send the 200 OK to the PRACK before the
UPDATE.



    A                               B
    |                               |
    |              re-INV (no offer)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D>|
    |                               |

[RL] you can send 200 with offer here instead more naturally, why bother
with UPDATE??

[Ian Elz ] Technically this is valid but it will appear as a cross over
to B. In this scenario B may send a CANCEL to the re-INVITE as he has
now received the offer he required.  =20



Is my understanding correct?
Some scenarios seem to be allowed only for re-INVITE.
is this what the author intended?
If not, which is not intended scenario?

Regards,
Shinji
_______________________________________________
Sipping mailing list  https://www.ietf.org/mailman/listinfo/sipping
<https://www.ietf.org/mailman/listinfo/sipping>=20
This list is for NEW development of the application of SIP Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sip@ietf.org for new developments of core SIP


------_=_NextPart_001_01C9135B.A5A0D1A9
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 11 (filtered medium)">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:127.6pt;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:18.0pt;
	font-size:11.0pt;
	font-family:Arial;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman";}
span.EmailStyle19
	{mso-style-type:personal-reply;
	font-family:Arial;
	color:navy;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.Section1
	{page:Section1;}
-->
</style>

</head>

<body lang=3DEN-US link=3Dblue vlink=3Dblue>

<div class=3DSection1>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>Shinji,<o:p></o:p></span></font></p>=


<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I have added my comments to those =
from
Rockson &#8211; inline.<o:p></o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'><o:p>&nbsp;</o:p></span></font></p>

<p class=3DMsoNormal><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy'>I am unsure why you are proposing =
these
sequences. If you implement them you may have interworking =
issues.<o:p></o:p></span></font></p>

<div>

<p><i><font size=3D2 color=3Dnavy face=3DArial><span lang=3DEN-GB =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy;font-style:italic'>Ian =
Elz</span></font></i><font
color=3Dnavy><span lang=3DEN-GB style=3D'color:navy'> =
</span><o:p></o:p></font></p>

<p><i><font size=3D2 color=3Dnavy face=3DArial><span lang=3DEN-GB =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy;font-style:italic'>System =
Manager</span></font></i><font
color=3Dnavy><span style=3D'color:navy'> <br>
</span></font><i><font size=3D2 color=3Dnavy face=3DArial><span =
lang=3DEN-GB
style=3D'font-size:10.0pt;font-family:Arial;color:navy;font-style:italic'=
>DUCI
LDC UK</span></font></i><font color=3Dnavy><span style=3D'color:navy'> =
<br>
</span></font><i><font size=3D1 color=3Dnavy face=3DArial><span =
lang=3DEN-GB
style=3D'font-size:7.5pt;font-family:Arial;color:navy;font-style:italic'>=
(Lucid
Duck)</span></font></i><font color=3Dnavy><span lang=3DEN-GB =
style=3D'color:navy'> </span><o:p></o:p></font></p>

<p><i><font size=3D2 color=3Dnavy face=3DArial><span lang=3DEN-GB =
style=3D'font-size:
10.0pt;font-family:Arial;color:navy;font-style:italic'>Office: + 44 24 =
764
35256</span></font></i><font color=3Dnavy><span style=3D'color:navy'> =
<br>
</span></font><i><font size=3D2 color=3Dnavy face=3DArial><span =
lang=3DEN-GB
style=3D'font-size:10.0pt;font-family:Arial;color:navy;font-style:italic'=
>gsm:
+44 7801723668</span></font></i><font color=3Dnavy><span =
style=3D'color:navy'> <br>
</span></font><i><font size=3D2 color=3Dnavy face=3DArial><span =
lang=3DEN-GB
style=3D'font-size:10.0pt;font-family:Arial;color:navy;font-style:italic'=
>ian.elz@ericsson.com</span></font></i><font
color=3Dnavy><span lang=3DEN-GB style=3D'color:navy'> =
</span></font><o:p></o:p></p>

</div>

<div>

<div class=3DMsoNormal align=3Dcenter =
style=3D'margin-left:36.0pt;text-align:center'><font
size=3D3 face=3D"Times New Roman"><span style=3D'font-size:12.0pt'>

<hr size=3D2 width=3D"100%" align=3Dcenter tabindex=3D-1>

</span></font></div>

<p class=3DMsoNormal style=3D'margin-left:36.0pt'><b><font size=3D2 =
face=3DTahoma><span
style=3D'font-size:10.0pt;font-family:Tahoma;font-weight:bold'>From:</spa=
n></font></b><font
size=3D2 face=3DTahoma><span =
style=3D'font-size:10.0pt;font-family:Tahoma'>
sipping-bounces@ietf.org [mailto:sipping-bounces@ietf.org] <b><span
style=3D'font-weight:bold'>On Behalf Of </span></b>Rockson Li =
(zhengyli)<br>
<b><span style=3D'font-weight:bold'>Sent:</span></b> 10 September 2008 =
15:49<br>
<b><span style=3D'font-weight:bold'>To:</span></b> OKUMURA Shinji; =
sip@ietf.org;
sipping@ietf.org<br>
<b><span style=3D'font-weight:bold'>Subject:</span></b> Re: [Sipping] =
UPDATE with
offer</span></font><o:p></o:p></p>

</div>

<p class=3DMsoNormal style=3D'margin-left:36.0pt'><font size=3D3
face=3D"Times New Roman"><span =
style=3D'font-size:12.0pt'><o:p>&nbsp;</o:p></span></font></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>Comments in =
line.<br>
<br>
-Rockson<br>
<br>
-----Original Message-----<br>
From: sipping-bounces@ietf.org [</span></font><font size=3D2><span
style=3D'font-size:10.0pt'><a =
href=3D"mailto:sipping-bounces@ietf.org"><font
face=3D"Courier New"><span style=3D'font-family:"Courier =
New"'>mailto:sipping-bounces@ietf.org</span></font></a></span></font><fon=
t
size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>]
On Behalf Of OKUMURA Shinji<br>
Sent: Wednesday, September 10, 2008 6:04 PM<br>
To: sip@ietf.org; sipping@ietf.org<br>
Subject: [Sipping] UPDATE with offer<br>
<br>
Hi,<br>
<br>
I have any questions about sending offer by UPDATE request.<br>
<br>
RFC3311/5.1 Sending an UPDATE says,<br>
<br>
&nbsp;&nbsp; The rules for inclusion of offers and answers in SIP =
messages as<br>
&nbsp;&nbsp; defined in Section 13.2.1 of RFC 3261 still apply.&nbsp; =
These
rules exist<br>
&nbsp;&nbsp; to guarantee a consistent view of the session state.&nbsp; =
This
means<br>
&nbsp;&nbsp; that, for the caller:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent =
before
completion of the initial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE transaction, and =
the
initial INVITE contained an offer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the UPDATE can contain =
an
offer if the callee generated an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer in a reliable
provisional response, and the caller has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; received answers to any =
other
offers it sent in either PRACK or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE, and has =
generated
answers for any offers it received in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an UPDATE from the =
callee.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent =
before
completion of the initial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE transaction, and =
the
initial INVITE did not contain an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offer, the UPDATE can =
contain
an offer if the callee generated<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; an offer in a reliable
provisional response, and the UAC<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated an answer in =
the
corresponding PRACK.&nbsp; Of course, it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; can't send an UPDATE if =
it has
not received answers to any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; other offers it sent in =
either
PRACK or UPDATE, or has not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated answers for =
any
other offers it received in an UPDATE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from the callee.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent after =
the
completion of the initial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE transaction, it =
cannot
contain an offer if the caller<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has generated or =
received
offers in a re-INVITE or UPDATE which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; have not been =
answered.<br>
<br>
According to the description above, The following scenarios seem to be
allowed.(before sending PRACK)<br>
<br>
&nbsp;&nbsp;&nbsp; =
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |ini-INVITE
(offer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; |<br>
&nbsp;&nbsp;&nbsp; |------------------------------&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;
1xx-rel (answer0)|<br>
&nbsp;&nbsp;&nbsp; |&lt;------------------------------|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |UPDATE
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span></font><o:p></o:p></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[RL] IMO,&nbsp;this =
is
intended scenario,&nbsp;UPDATE here is used to update caller's ip =
address if
caller is mobile.<font color=3Dnavy><span =
style=3D'color:navy'><o:p></o:p></span></font></span></font></p>

<p><b><i><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;color:navy;font-weight:bold;font-style:italic'>[Ian =
Elz ] In
this scenario it would be usual to send the PRACK before the UPDATE. As =
you can
send a new sdp offer in the PRACK and you have to send the PRACK why =
bother
with the UPDATE.<o:p></o:p></span></font></i></b></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><br>
<br>
&nbsp;&nbsp;&nbsp;
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |re-INVITE
(offer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |------------------------------&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;
1xx-rel (answer0)|<br>
&nbsp;&nbsp;&nbsp; |&lt;------------------------------|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |UPDATE
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span></font><o:p></o:p></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[RL] this is =
allowed,
however, I seldom see any reliable response =
used&nbsp;for&nbsp;re-INVITE.<font
color=3Dnavy><span =
style=3D'color:navy'><o:p></o:p></span></font></span></font></p>

<p><b><i><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;color:navy;font-weight:bold;font-style:italic'>[Ian =
Elz ] Again
this is possible but you could use the =
PRACK.<o:p></o:p></span></font></i></b></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><br>
<br>
&nbsp;&nbsp;&nbsp;
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |re-INVITE (no
offer)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp; |------------------------------&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |UPDATE
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span></font><o:p></o:p></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[RL] this is =
subject to race
condition. B&nbsp;is probably&nbsp;sending its 200 with its own offer
simultaneously,</span></font><o:p></o:p></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>&nbsp;&nbsp;&nbsp;&nbsp; so
this two offers cross over causing overlapping offer.<font =
color=3Dnavy><span
style=3D'color:navy'><o:p></o:p></span></font></span></font></p>

<p><b><i><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;color:navy;font-weight:bold;font-style:italic'>[Ian =
Elz ] As
Rockson says, this would create a race condition for the sdp. This =
should not
be allowed. The offer answer draft should cover this. If it =
doesn&#8217;t then
it should.<o:p></o:p></span></font></i></b></p>

<p style=3D'margin-left:36.0pt'><font size=3D3 face=3D"Courier =
New"><span
style=3D'font-size:12.0pt;font-family:"Courier New"'><br>
<br>
</span></font><font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;
font-family:"Courier New"'>&nbsp;&nbsp; and for the callee:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent =
before the
completion of the INVITE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transaction, and the =
initial
INVITE contained an offer, the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE cannot be sent =
with an
offer unless the callee has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; generated an answer in =
a
reliable provisional response, has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; received a PRACK for =
that
reliable provisional response, has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; not received any =
requests
(PRACK or UPDATE) with offers that it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has not answered, and =
has not
sent any UPDATE requests<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containing offers that =
have
not been answered.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent =
before
completion of the INVITE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transaction, and the =
initial
INVITE did not contain an offer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the UPDATE cannot be =
sent with
an offer unless the callee has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sent an offer in a =
reliable
provisional response, received an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer in a PRACK, and =
has not
received any UPDATE requests<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with offers that it has =
not
answered, and has not sent any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE requests =
containing
offers that have not been answered.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o&nbsp; If the UPDATE is being sent after =
the
completion of the initial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; INVITE transaction, it =
cannot
be sent with an offer if the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; callee has generated or
received offers in a re-INVITE or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UPDATE which have not =
been
answered.<br>
<br>
According to the description above, The following scenarios seem to be
allowed.(before receiving PRACK)<br>
<br>
&nbsp;&nbsp;&nbsp;
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=

re-INVITE (offer0)|<br>
&nbsp;&nbsp;&nbsp; |&lt;------------------------------|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |1xx-rel
(answer0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |------------------------------&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |UPDATE
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<font color=3Dnavy><span =
style=3D'color:navy'><o:p></o:p></span></font></span></font></p>

<p><b><i><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;color:navy;font-weight:bold;font-style:italic'>[Ian =
Elz ] In
this case you would normally wait for the PRACK as you don&#8217;t know =
that B
has received the sdp answer until the PRACK has been returned. It would =
be
normal to send the 200 OK to the PRACK before the =
UPDATE.<o:p></o:p></span></font></i></b></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><br>
<br>
&nbsp;&nbsp;&nbsp;
A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
B<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;
re-INV (no offer)|<br>
&nbsp;&nbsp;&nbsp; |&lt;------------------------------|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; |UPDATE
(offer1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;
|<br>
&nbsp;&nbsp;&nbsp; =
|=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D&gt;|<br>
&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|</span></font><o:p></o:p></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'>[RL] you can send =
200 with
offer&nbsp;here instead more naturally, why bother with UPDATE??<font
color=3Dnavy><span =
style=3D'color:navy'><o:p></o:p></span></font></span></font></p>

<p><b><i><font size=3D2 color=3Dnavy face=3DArial><span =
style=3D'font-size:10.0pt;
font-family:Arial;color:navy;font-weight:bold;font-style:italic'>[Ian =
Elz ] Technically
this is valid but it will appear as a cross over to B. In this scenario =
B may
send a CANCEL to the re-INVITE as he has now received the offer he =
required. &nbsp;&nbsp;<o:p></o:p></span></font></i></b></p>

<p style=3D'margin-left:36.0pt'><font size=3D2 face=3D"Courier =
New"><span
style=3D'font-size:10.0pt;font-family:"Courier New"'><br>
<br>
Is my understanding correct?<br>
Some scenarios seem to be allowed only for re-INVITE.<br>
is this what the author intended?<br>
If not, which is not intended scenario?<br>
<br>
Regards,<br>
Shinji<br>
_______________________________________________<br>
Sipping mailing list&nbsp; </span></font><a
href=3D"https://www.ietf.org/mailman/listinfo/sipping"><font size=3D2
face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier =
New"'>https://www.ietf.org/mailman/listinfo/sipping</span></font></a><br>=

<font size=3D2 face=3D"Courier New"><span =
style=3D'font-size:10.0pt;font-family:"Courier New"'>This
list is for NEW development of the application of SIP Use
sip-implementors@cs.columbia.edu for questions on current sip Use =
sip@ietf.org
for new developments of core SIP<o:p></o:p></span></font></p>

</div>

</body>

</html>

------_=_NextPart_001_01C9135B.A5A0D1A9--

--===============0139869241==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0139869241==--


From sip-bounces@ietf.org  Wed Sep 10 10:39:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CA0673A6BFE;
	Wed, 10 Sep 2008 10:39:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 415513A68AF
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 10:39:06 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.531
X-Spam-Level: 
X-Spam-Status: No, score=-6.531 tagged_above=-999 required=5 tests=[AWL=0.068, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f4lWA7RcioEL for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 10:39:05 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id F2B0B3A6D80
	for <sip@ietf.org>; Wed, 10 Sep 2008 10:39:03 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,373,1217808000"; d="scan'208";a="20339698"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-2.cisco.com with ESMTP; 10 Sep 2008 17:39:09 +0000
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8AHd92s029512; 
	Wed, 10 Sep 2008 13:39:09 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8AHd9DW013204;
	Wed, 10 Sep 2008 17:39:09 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 13:39:09 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 13:39:08 -0400
Message-ID: <48C8063D.5070901@cisco.com>
Date: Wed, 10 Sep 2008 13:39:09 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Vineet Gupta <gupta.vineet@gmail.com>
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>	
	<48C69F7B.7040307@cisco.com>
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
In-Reply-To: <98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
X-OriginalArrivalTime: 10 Sep 2008 17:39:08.0699 (UTC)
	FILETIME=[20F36EB0:01C9136C]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5087; t=1221068349;
	x=1221932349; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Doubt=20related=20to=20use=20of
	=20Supported=20and=20Require=20header. |Sender:=20
	|To:=20Vineet=20Gupta=20<gupta.vineet@gmail.com>;
	bh=lZ+IidxLQ13ecLuZYpLbonFNX2A0b+R2vNRPBpBLgHw=;
	b=Mw6xP6GsesV1FZjEbCuetSGcxfFfX2JJhxBmP08A1uriTZDAwR+G0EyaOW
	2P3Fxbg1jdxOVA0I7T1cyqJOOHYqmm4rNSN171HWYbhyNWIu9wO/nS43EAcx
	0VtJWn3ikg;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

[Copying Robert in hopes there is some SIPit experience on this]

Comments inline.

	Thanks,
	Paul

Vineet Gupta wrote:
> Hi Paul/All,
>  
> I totally agree with the points mentioned in your email. However, I 
> still have doubts whether most implementations follow this approach or not. 
>  
> *Firstly,* I share the same feeling with you with respect to presence of 
> the Supported header in the request. The Require and Supported should 
> not have common options in a request. Also, Supported in request is 
> required if UAC wants to be generous enough to allow UAS to enforce an 
> option, it itself does not require.
>  
> However, I was slightly confused by the following statement in RFC3261 
> with respect to the Supported header (Section 20.37 , [Page 178]):
> /"The Supported header field enumerates all the extensions supported by 
> the UAC or UAS"/.

Yeah, it says that. Its also hopelessly naive. Sometimes options are 
supported in one context, and not in another. There is no way to express 
that. Some examples:

- An option may be supported for one method but not another.

- A B2BUA may only support an option if the device on the other
   side also supports it. The device on the other side can change
   over time.

> *So, for inter-operatablity reasons, should all the application have 
> same options in Require and Supported header or not?*

I think, *when you can*, you should list all the options you support all 
the time.

> *Secondly, *I had discussed the scope of options mentioned in 
> Require/Supported header, in an earlier debate regarding this (whether 
> it applies to a transaction/dialog) in this mailing list long back. As 
> per my understanding, from RFC3261 the scope of Require/Supported header 
> seems to be a transaction only. If we go by this assumption, once 
> session in established using 100rel and precondition (as per 3gpp 
> call-flow), a re-INVITE request can be sent without both these options 
> (if for example the UAC realizes that no QoS establishment would be 
> required).

> However, I got a feeling that most of the implementions go by the 
> assumption that Require/Supported extension apply through out the dialog.

This is an area that needs some clarification. Some people think the 
scope of Supported/Require is a transaction, some a dialog, some for as 
long as not changed, ... There is no great clarity on this in the specs. 
Its more a matter of observation based on what behavior is called for in 
various specs defining options.

> Can you let me know in your opinion, what is the general consensus on 
> this. *Are most SIP implementations prepared to handle change in 
> Require/Supported options in re-INVITE request (They ofcourse can still 
> reject such a re-INVITE by sending 420 Bad Extension/421 Extension 
> Required)?*

I don't have data on this. Maybe there is some from SIPit.

Note: this isn't really just about Require/Supported. There are other 
headers with similar issues:

Accept, Accept_Encoding, Accept-Language, Allow

	Thanks,
	Paul

> Regards,
> Vineet.
> 
> 
> On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com 
> <mailto:pkyzivat@cisco.com>> wrote:
> 
> 
> 
>     Vineet Gupta wrote:
> 
>         Hi,
>          I have a small doubt related to use of Supported and Require
>         header. While from RFC 3261 it is clear the Require header is
>         used by the UAC and UAS to enforce the extension implemention
>         for a particular session, while the Supported header is mostly
>         used by UAC to express the extensions which can be enforced by
>         UAS through the Require header.
>          My doubt is that, is it *mandatary that every extension that is
>         present in Require header must be present in Supported header
>         *in the request? According to me, presence/absence of Required
>         extensions in Supported header does not make any impact on UAS
>         handling.  *Even if it is not mandatory, what is the preferred
>         approach?*
> 
> 
>     This is pretty loosely defined.
> 
>     For one thing, Require doesn't necessarily apply to a "particular
>     session". The most that can be said with certainty is that is
>     applies to a transaction. Often it applies longer, but how long
>     isn't well defined.
> 
>     Second, there is some asymmetry in Supported/Require, but this
>     varies based on the option. Require from a UAC states what it
>     requires of the UAS, but doesn't necessarily imply that a Require
>     for the same option, coming the other way, would be supported.
> 
>     Also, Supported and Require are often used together to do a negotiation:
>     Supported in a request is paired with Require of the same option in
>     the response to negotiate its use.
> 
>     In most cases there is no requirement to include Supported in
>     requests. The main place it is essential is in a 420 response.
> 
>            Thanks,
>            Paul
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 11:15:49 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C62363A6826;
	Wed, 10 Sep 2008 11:15:49 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2A6733A6826
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 11:15:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.6
X-Spam-Level: 
X-Spam-Status: No, score=-2.6 tagged_above=-999 required=5 tests=[AWL=0.000,
	BAYES_00=-2.599, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kULfvq0mFU9i for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 11:15:47 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 5B8433A6783
	for <sip@ietf.org>; Wed, 10 Sep 2008 11:15:46 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8AIFhIT033632
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Wed, 10 Sep 2008 13:15:43 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <48C8063D.5070901@cisco.com>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Wed, 10 Sep 2008 13:15:42 -0500
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>	
	<48C69F7B.7040307@cisco.com>
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
	<48C8063D.5070901@cisco.com>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93.3/8210/Wed Sep 10 11:26:19 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

lots inline.

On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:

> [Copying Robert in hopes there is some SIPit experience on this]
>
> Comments inline.
>
> 	Thanks,
> 	Paul
>
> Vineet Gupta wrote:
>> Hi Paul/All,
>> I totally agree with the points mentioned in your email. However, I  
>> still have doubts whether most implementations follow this approach  
>> or not.  *Firstly,* I share the same feeling with you with respect  
>> to presence of the Supported header in the request. The Require and  
>> Supported should not have common options in a request. Also,  
>> Supported in request is required if UAC wants to be generous enough  
>> to allow UAS to enforce an option, it itself does not require.
>> However, I was slightly confused by the following statement in  
>> RFC3261 with respect to the Supported header (Section 20.37 , [Page  
>> 178]):
>> /"The Supported header field enumerates all the extensions  
>> supported by the UAC or UAS"/.
>
> Yeah, it says that. Its also hopelessly naive. Sometimes options are  
> supported in one context, and not in another. There is no way to  
> express that. Some examples:
>
> - An option may be supported for one method but not another.
>
> - A B2BUA may only support an option if the device on the other
>  side also supports it. The device on the other side can change
>  over time.
>
>> *So, for inter-operatablity reasons, should all the application  
>> have same options in Require and Supported header or not?*
>
> I think, *when you can*, you should list all the options you support  
> all the time.

I think we can make this clear. I'm not sure I agree that the specs  
are that far away from clear on this - I have not seen any real issues  
with Supported/Require support at SIPits. Here's how I read the text  
and what I see implemented:

* The mechanics of Supported and Require operate at a transaction  
level. The semantics of any given extension can _use_ those mechanics  
differently. It's perfectly reasonable for one extension to have a  
semantic that is scoped entirely to one transaction, and for another  
extension to have a semantic that spans several transactions (maybe  
grouped together in a dialog, maybe not). The requirements of each  
particular extension will constrain the behavior of the endpoints to  
do the right thing with placing the tokens in the right fields in the  
right messages.
*What you place in a Supported header are extensions you are willing  
to use in the context of this transaction. The contract you are  
entering into is that you are willing to start doing the things the  
token you put in this header implies if the other side decides to  
require it. There is nothing that prevents you, in general, from  
deciding to not offer support for something that you've offered  
support for before. (But an extension may constrain you here once you  
or your peer has required it)
* What you place in a Required header are extensions that you are  
actively _using_ in the context of this transaction and that things  
will go wrong if the other side doesn't know it needs to do what the  
extension requires it to do.

>
>
>> *Secondly, *I had discussed the scope of options mentioned in  
>> Require/Supported header, in an earlier debate regarding this  
>> (whether it applies to a transaction/dialog) in this mailing list  
>> long back. As per my understanding, from RFC3261 the scope of  
>> Require/Supported header seems to be a transaction only. If we go  
>> by this assumption, once session in established using 100rel and  
>> precondition (as per 3gpp call-flow), a re-INVITE request can be  
>> sent without both these options (if for example the UAC realizes  
>> that no QoS establishment would be required).
>
>> However, I got a feeling that most of the implementions go by the  
>> assumption that Require/Supported extension apply through out the  
>> dialog.
>>
>
> This is an area that needs some clarification. Some people think the  
> scope of Supported/Require is a transaction, some a dialog, some for  
> as long as not changed, ... There is no great clarity on this in the  
> specs. Its more a matter of observation based on what behavior is  
> called for in various specs defining options.
See above.


>
>
>> Can you let me know in your opinion, what is the general consensus  
>> on this. *Are most SIP implementations prepared to handle change in  
>> Require/Supported options in re-INVITE request (They ofcourse can  
>> still reject such a re-INVITE by sending 420 Bad Extension/421  
>> Extension Required)?*
>
> I don't have data on this. Maybe there is some from SIPit.

I have seen changes like this successfully exercised at SIPits. The  
whole answer is wrapped into the endpoints behaving _per extension_ in  
the way the extension tells them to behave. If there's really a  
problem here, its in the individual extensions if that behavior is not  
clear. Can you point to a particular extension where that's the case?

100rel was brought up in this thread before. Support 100rel extension  
itself can come or go as the requestor sees fit for any given  
transaction. 3262 is pretty clear on that. Now some other extension  
_using_ 100rel might place more restrictions on endpoint behavior, and  
the documentation of those requirements has to live with that other  
extension.

>
>
> Note: this isn't really just about Require/Supported. There are  
> other headers with similar issues:
>
> Accept, Accept_Encoding, Accept-Language, Allow

Agreed, but again, I've not seen anything break at a SIPit yet because  
these things change between transactions in a given dialog (though  
that's not particularly common).

>
>
> 	Thanks,
> 	Paul
>
>> Regards,
>> Vineet.
>> On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com <mailto:pkyzivat@cisco.com 
>> >> wrote:
>>    Vineet Gupta wrote:
>>        Hi,
>>         I have a small doubt related to use of Supported and Require
>>        header. While from RFC 3261 it is clear the Require header is
>>        used by the UAC and UAS to enforce the extension implemention
>>        for a particular session, while the Supported header is mostly
>>        used by UAC to express the extensions which can be enforced by
>>        UAS through the Require header.
>>         My doubt is that, is it *mandatary that every extension  
>> that is
>>        present in Require header must be present in Supported header
>>        *in the request? According to me, presence/absence of Required
>>        extensions in Supported header does not make any impact on UAS
>>        handling.  *Even if it is not mandatory, what is the preferred
>>        approach?*
>>    This is pretty loosely defined.
>>    For one thing, Require doesn't necessarily apply to a "particular
>>    session". The most that can be said with certainty is that is
>>    applies to a transaction. Often it applies longer, but how long
>>    isn't well defined.
>>    Second, there is some asymmetry in Supported/Require, but this
>>    varies based on the option. Require from a UAC states what it
>>    requires of the UAS, but doesn't necessarily imply that a Require
>>    for the same option, coming the other way, would be supported.
>>    Also, Supported and Require are often used together to do a  
>> negotiation:
>>    Supported in a request is paired with Require of the same option  
>> in
>>    the response to negotiate its use.
>>    In most cases there is no requirement to include Supported in
>>    requests. The main place it is essential is in a 420 response.
>>           Thanks,
>>           Paul

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 11:45:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DF4DC3A6800;
	Wed, 10 Sep 2008 11:45:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 290793A67AD
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 11:45:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.934
X-Spam-Level: 
X-Spam-Status: No, score=-5.934 tagged_above=-999 required=5
	tests=[AWL=-0.535, BAYES_00=-2.599, J_CHICKENPOX_71=0.6,
	J_CHICKENPOX_91=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YAIf+-v6lQcv for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 11:45:09 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 82A613A6783
	for <sip@ietf.org>; Wed, 10 Sep 2008 11:45:09 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,373,1217808000"; d="scan'208";a="20371902"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 10 Sep 2008 18:45:14 +0000
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8AIjEej023700; 
	Wed, 10 Sep 2008 14:45:14 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8AIjErc004206;
	Wed, 10 Sep 2008 18:45:14 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 14:45:14 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 10 Sep 2008 14:45:14 -0400
Message-ID: <48C815BB.3050002@cisco.com>
Date: Wed, 10 Sep 2008 14:45:15 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Robert Sparks <rjsparks@nostrum.com>
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>	
	<48C69F7B.7040307@cisco.com>
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
	<48C8063D.5070901@cisco.com>
	<3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>
In-Reply-To: <3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>
X-OriginalArrivalTime: 10 Sep 2008 18:45:14.0318 (UTC)
	FILETIME=[5CA4DEE0:01C91375]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=9765; t=1221072314;
	x=1221936314; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Doubt=20related=20to=20use=20of
	=20Supported=20and=20Require=20header. |Sender:=20
	|To:=20Robert=20Sparks=20<rjsparks@nostrum.com>;
	bh=4+hZxWiBOqf7ufwIe62UOAxsAlhEyDQutZgPNLcpvy4=;
	b=iU7Nhd9wSZLgUCZvMY7hQRivSO5cj8rgk8Rz4WfAXW1vz5ZUKTb9c8ru6o
	IHz+xPkv4rqaVkyuZZpdTpwadvNmY8YwIDtvPVeyQ+FMJHsvLgKlgyeQNUPU
	+lmUG7bL1J;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Robert,

Thank you for this clarification. It is, AFAIK, consistent with observed 
practice. But I have not seen this level of detail written down anywhere 
before.

Paraphrasing you, I guess the primary guarantee is that if you put 
Supported:X in a request, then you must be prepared to have X used in 
the response and/or to have a Require:X in the response. And if a 
Require:X is: in a request and not rejected by the response, or in a 
response following a Supported:X in the request, then that establishes 
an option-specific contract whose scope is defined by the option.

Conversely a Supported:X in a response, or in a request and then not 
sealed with a Require:X in a response, establishes no contract and so no 
guarantees of any sort.

But what about OPTIONS?  3261 says:

    The SIP method OPTIONS allows a UA to query another UA or a proxy
    server as to its capabilities.  This allows a client to discover
    information about the supported methods, content types, extensions,
    codecs, etc. without "ringing" the other party.  For example, before
    a client inserts a Require header field into an INVITE listing an
    option that it is not certain the destination UAS supports, the
    client can query the destination UAS with an OPTIONS to see if this
    option is returned in a Supported header field.  All UAs MUST support
    the OPTIONS method.

    ...

    Allow, Accept, Accept-Encoding, Accept-Language, and Supported header
    fields SHOULD be present in a 200 (OK) response to an OPTIONS
    request.

It would seem that this is just a "best effort" thing, and that there 
are no guarantees. Or perhaps an option should only be listed in 
Supported of an OPTIONS response if it is *always* supported.

	Thanks,
	Paul

Robert Sparks wrote:
> lots inline.
> 
> On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:
> 
>> [Copying Robert in hopes there is some SIPit experience on this]
>>
>> Comments inline.
>>
>>     Thanks,
>>     Paul
>>
>> Vineet Gupta wrote:
>>> Hi Paul/All,
>>> I totally agree with the points mentioned in your email. However, I 
>>> still have doubts whether most implementations follow this approach 
>>> or not.  *Firstly,* I share the same feeling with you with respect to 
>>> presence of the Supported header in the request. The Require and 
>>> Supported should not have common options in a request. Also, 
>>> Supported in request is required if UAC wants to be generous enough 
>>> to allow UAS to enforce an option, it itself does not require.
>>> However, I was slightly confused by the following statement in 
>>> RFC3261 with respect to the Supported header (Section 20.37 , [Page 
>>> 178]):
>>> /"The Supported header field enumerates all the extensions supported 
>>> by the UAC or UAS"/.
>>
>> Yeah, it says that. Its also hopelessly naive. Sometimes options are 
>> supported in one context, and not in another. There is no way to 
>> express that. Some examples:
>>
>> - An option may be supported for one method but not another.
>>
>> - A B2BUA may only support an option if the device on the other
>>  side also supports it. The device on the other side can change
>>  over time.
>>
>>> *So, for inter-operatablity reasons, should all the application have 
>>> same options in Require and Supported header or not?*
>>
>> I think, *when you can*, you should list all the options you support 
>> all the time.
> 
> I think we can make this clear. I'm not sure I agree that the specs are 
> that far away from clear on this - I have not seen any real issues with 
> Supported/Require support at SIPits. Here's how I read the text and what 
> I see implemented:
> 
> * The mechanics of Supported and Require operate at a transaction level. 
> The semantics of any given extension can _use_ those mechanics 
> differently. It's perfectly reasonable for one extension to have a 
> semantic that is scoped entirely to one transaction, and for another 
> extension to have a semantic that spans several transactions (maybe 
> grouped together in a dialog, maybe not). The requirements of each 
> particular extension will constrain the behavior of the endpoints to do 
> the right thing with placing the tokens in the right fields in the right 
> messages.
> *What you place in a Supported header are extensions you are willing to 
> use in the context of this transaction. The contract you are entering 
> into is that you are willing to start doing the things the token you put 
> in this header implies if the other side decides to require it. There is 
> nothing that prevents you, in general, from deciding to not offer 
> support for something that you've offered support for before. (But an 
> extension may constrain you here once you or your peer has required it)
> * What you place in a Required header are extensions that you are 
> actively _using_ in the context of this transaction and that things will 
> go wrong if the other side doesn't know it needs to do what the 
> extension requires it to do.
> 
>>
>>
>>> *Secondly, *I had discussed the scope of options mentioned in 
>>> Require/Supported header, in an earlier debate regarding this 
>>> (whether it applies to a transaction/dialog) in this mailing list 
>>> long back. As per my understanding, from RFC3261 the scope of 
>>> Require/Supported header seems to be a transaction only. If we go by 
>>> this assumption, once session in established using 100rel and 
>>> precondition (as per 3gpp call-flow), a re-INVITE request can be sent 
>>> without both these options (if for example the UAC realizes that no 
>>> QoS establishment would be required).
>>
>>> However, I got a feeling that most of the implementions go by the 
>>> assumption that Require/Supported extension apply through out the 
>>> dialog.
>>>
>>
>> This is an area that needs some clarification. Some people think the 
>> scope of Supported/Require is a transaction, some a dialog, some for 
>> as long as not changed, ... There is no great clarity on this in the 
>> specs. Its more a matter of observation based on what behavior is 
>> called for in various specs defining options.
> See above.
> 
> 
>>
>>
>>> Can you let me know in your opinion, what is the general consensus on 
>>> this. *Are most SIP implementations prepared to handle change in 
>>> Require/Supported options in re-INVITE request (They ofcourse can 
>>> still reject such a re-INVITE by sending 420 Bad Extension/421 
>>> Extension Required)?*
>>
>> I don't have data on this. Maybe there is some from SIPit.
> 
> I have seen changes like this successfully exercised at SIPits. The 
> whole answer is wrapped into the endpoints behaving _per extension_ in 
> the way the extension tells them to behave. If there's really a problem 
> here, its in the individual extensions if that behavior is not clear. 
> Can you point to a particular extension where that's the case?
> 
> 100rel was brought up in this thread before. Support 100rel extension 
> itself can come or go as the requestor sees fit for any given 
> transaction. 3262 is pretty clear on that. Now some other extension 
> _using_ 100rel might place more restrictions on endpoint behavior, and 
> the documentation of those requirements has to live with that other 
> extension.
> 
>>
>>
>> Note: this isn't really just about Require/Supported. There are other 
>> headers with similar issues:
>>
>> Accept, Accept_Encoding, Accept-Language, Allow
> 
> Agreed, but again, I've not seen anything break at a SIPit yet because 
> these things change between transactions in a given dialog (though 
> that's not particularly common).
> 
>>
>>
>>     Thanks,
>>     Paul
>>
>>> Regards,
>>> Vineet.
>>> On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com 
>>> <mailto:pkyzivat@cisco.com>> wrote:
>>>    Vineet Gupta wrote:
>>>        Hi,
>>>         I have a small doubt related to use of Supported and Require
>>>        header. While from RFC 3261 it is clear the Require header is
>>>        used by the UAC and UAS to enforce the extension implemention
>>>        for a particular session, while the Supported header is mostly
>>>        used by UAC to express the extensions which can be enforced by
>>>        UAS through the Require header.
>>>         My doubt is that, is it *mandatary that every extension that is
>>>        present in Require header must be present in Supported header
>>>        *in the request? According to me, presence/absence of Required
>>>        extensions in Supported header does not make any impact on UAS
>>>        handling.  *Even if it is not mandatory, what is the preferred
>>>        approach?*
>>>    This is pretty loosely defined.
>>>    For one thing, Require doesn't necessarily apply to a "particular
>>>    session". The most that can be said with certainty is that is
>>>    applies to a transaction. Often it applies longer, but how long
>>>    isn't well defined.
>>>    Second, there is some asymmetry in Supported/Require, but this
>>>    varies based on the option. Require from a UAC states what it
>>>    requires of the UAS, but doesn't necessarily imply that a Require
>>>    for the same option, coming the other way, would be supported.
>>>    Also, Supported and Require are often used together to do a 
>>> negotiation:
>>>    Supported in a request is paired with Require of the same option in
>>>    the response to negotiate its use.
>>>    In most cases there is no requirement to include Supported in
>>>    requests. The main place it is essential is in a 420 response.
>>>           Thanks,
>>>           Paul
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 12:06:51 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B18B43A6967;
	Wed, 10 Sep 2008 12:06:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D02A63A6800
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 12:06:50 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2
X-Spam-Level: 
X-Spam-Status: No, score=-2 tagged_above=-999 required=5 tests=[AWL=-0.600,
	BAYES_00=-2.599, J_CHICKENPOX_71=0.6, J_CHICKENPOX_91=0.6,
	SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id b9TP5IDRnrrk for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 12:06:49 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id C0B063A67AA
	for <sip@ietf.org>; Wed, 10 Sep 2008 12:06:48 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8AJ6Z3K039773
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Wed, 10 Sep 2008 14:06:37 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <BE5AA2BC-454A-44D8-9E11-D1D4AFC9D9C6@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <48C815BB.3050002@cisco.com>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Wed, 10 Sep 2008 14:06:35 -0500
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>	
	<48C69F7B.7040307@cisco.com>
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
	<48C8063D.5070901@cisco.com>
	<3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>
	<48C815BB.3050002@cisco.com>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93.3/8210/Wed Sep 10 11:26:19 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 10, 2008, at 1:45 PM, Paul Kyzivat wrote:

> Robert,
>
> Thank you for this clarification. It is, AFAIK, consistent with  
> observed practice. But I have not seen this level of detail written  
> down anywhere before.
>
> Paraphrasing you, I guess the primary guarantee is that if you put  
> Supported:X in a request, then you must be prepared to have X used  
> in the response and/or to have a Require:X in the response. And if a  
> Require:X is: in a request and not rejected by the response, or in a  
> response following a Supported:X in the request, then that  
> establishes an option-specific contract whose scope is defined by  
> the option.
>
> Conversely a Supported:X in a response, or in a request and then not  
> sealed with a Require:X in a response, establishes no contract and  
> so no guarantees of any sort.
>
> But what about OPTIONS?  3261 says:
>
>   The SIP method OPTIONS allows a UA to query another UA or a proxy
>   server as to its capabilities.  This allows a client to discover
>   information about the supported methods, content types, extensions,
>   codecs, etc. without "ringing" the other party.  For example, before
>   a client inserts a Require header field into an INVITE listing an
>   option that it is not certain the destination UAS supports, the
>   client can query the destination UAS with an OPTIONS to see if this
>   option is returned in a Supported header field.  All UAs MUST  
> support
>   the OPTIONS method.
>
>   ...
>
>   Allow, Accept, Accept-Encoding, Accept-Language, and Supported  
> header
>   fields SHOULD be present in a 200 (OK) response to an OPTIONS
>   request.
>
> It would seem that this is just a "best effort" thing, and that  
> there are no guarantees. Or perhaps an option should only be listed  
> in Supported of an OPTIONS response if it is *always* supported.

So this use of OPTIONS is something that isn't well implemented (at  
least not completely - there are several implementation that look for  
REFER to decide if they'll offer transfer).

My read of the specs here is that you put stuff in OPTIONS that you  
would be able to use/support if it made sense in the context at the  
time. It's not a promise that you'll agree to use/support it at any  
particular point in time, but an indication that its possible you  
will. The utility is in providing a negative : "Don't bother trying to  
do this-strange-thing with me, because I can never do that"

>
>
> 	Thanks,
> 	Paul
>
> Robert Sparks wrote:
>> lots inline.
>> On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:
>>> [Copying Robert in hopes there is some SIPit experience on this]
>>>
>>> Comments inline.
>>>
>>>    Thanks,
>>>    Paul
>>>
>>> Vineet Gupta wrote:
>>>> Hi Paul/All,
>>>> I totally agree with the points mentioned in your email. However,  
>>>> I still have doubts whether most implementations follow this  
>>>> approach or not.  *Firstly,* I share the same feeling with you  
>>>> with respect to presence of the Supported header in the request.  
>>>> The Require and Supported should not have common options in a  
>>>> request. Also, Supported in request is required if UAC wants to  
>>>> be generous enough to allow UAS to enforce an option, it itself  
>>>> does not require.
>>>> However, I was slightly confused by the following statement in  
>>>> RFC3261 with respect to the Supported header (Section 20.37 ,  
>>>> [Page 178]):
>>>> /"The Supported header field enumerates all the extensions  
>>>> supported by the UAC or UAS"/.
>>>
>>> Yeah, it says that. Its also hopelessly naive. Sometimes options  
>>> are supported in one context, and not in another. There is no way  
>>> to express that. Some examples:
>>>
>>> - An option may be supported for one method but not another.
>>>
>>> - A B2BUA may only support an option if the device on the other
>>> side also supports it. The device on the other side can change
>>> over time.
>>>
>>>> *So, for inter-operatablity reasons, should all the application  
>>>> have same options in Require and Supported header or not?*
>>>
>>> I think, *when you can*, you should list all the options you  
>>> support all the time.
>> I think we can make this clear. I'm not sure I agree that the specs  
>> are that far away from clear on this - I have not seen any real  
>> issues with Supported/Require support at SIPits. Here's how I read  
>> the text and what I see implemented:
>> * The mechanics of Supported and Require operate at a transaction  
>> level. The semantics of any given extension can _use_ those  
>> mechanics differently. It's perfectly reasonable for one extension  
>> to have a semantic that is scoped entirely to one transaction, and  
>> for another extension to have a semantic that spans several  
>> transactions (maybe grouped together in a dialog, maybe not). The  
>> requirements of each particular extension will constrain the  
>> behavior of the endpoints to do the right thing with placing the  
>> tokens in the right fields in the right messages.
>> *What you place in a Supported header are extensions you are  
>> willing to use in the context of this transaction. The contract you  
>> are entering into is that you are willing to start doing the things  
>> the token you put in this header implies if the other side decides  
>> to require it. There is nothing that prevents you, in general, from  
>> deciding to not offer support for something that you've offered  
>> support for before. (But an extension may constrain you here once  
>> you or your peer has required it)
>> * What you place in a Required header are extensions that you are  
>> actively _using_ in the context of this transaction and that things  
>> will go wrong if the other side doesn't know it needs to do what  
>> the extension requires it to do.
>>>
>>>
>>>> *Secondly, *I had discussed the scope of options mentioned in  
>>>> Require/Supported header, in an earlier debate regarding this  
>>>> (whether it applies to a transaction/dialog) in this mailing list  
>>>> long back. As per my understanding, from RFC3261 the scope of  
>>>> Require/Supported header seems to be a transaction only. If we go  
>>>> by this assumption, once session in established using 100rel and  
>>>> precondition (as per 3gpp call-flow), a re-INVITE request can be  
>>>> sent without both these options (if for example the UAC realizes  
>>>> that no QoS establishment would be required).
>>>
>>>> However, I got a feeling that most of the implementions go by the  
>>>> assumption that Require/Supported extension apply through out the  
>>>> dialog.
>>>>
>>>
>>> This is an area that needs some clarification. Some people think  
>>> the scope of Supported/Require is a transaction, some a dialog,  
>>> some for as long as not changed, ... There is no great clarity on  
>>> this in the specs. Its more a matter of observation based on what  
>>> behavior is called for in various specs defining options.
>> See above.
>>>
>>>
>>>> Can you let me know in your opinion, what is the general  
>>>> consensus on this. *Are most SIP implementations prepared to  
>>>> handle change in Require/Supported options in re-INVITE request  
>>>> (They ofcourse can still reject such a re-INVITE by sending 420  
>>>> Bad Extension/421 Extension Required)?*
>>>
>>> I don't have data on this. Maybe there is some from SIPit.
>> I have seen changes like this successfully exercised at SIPits. The  
>> whole answer is wrapped into the endpoints behaving _per extension_  
>> in the way the extension tells them to behave. If there's really a  
>> problem here, its in the individual extensions if that behavior is  
>> not clear. Can you point to a particular extension where that's the  
>> case?
>> 100rel was brought up in this thread before. Support 100rel  
>> extension itself can come or go as the requestor sees fit for any  
>> given transaction. 3262 is pretty clear on that. Now some other  
>> extension _using_ 100rel might place more restrictions on endpoint  
>> behavior, and the documentation of those requirements has to live  
>> with that other extension.
>>>
>>>
>>> Note: this isn't really just about Require/Supported. There are  
>>> other headers with similar issues:
>>>
>>> Accept, Accept_Encoding, Accept-Language, Allow
>> Agreed, but again, I've not seen anything break at a SIPit yet  
>> because these things change between transactions in a given dialog  
>> (though that's not particularly common).
>>>
>>>
>>>    Thanks,
>>>    Paul
>>>
>>>> Regards,
>>>> Vineet.
>>>> On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com <mailto:pkyzivat@cisco.com 
>>>> >> wrote:
>>>>   Vineet Gupta wrote:
>>>>       Hi,
>>>>        I have a small doubt related to use of Supported and Require
>>>>       header. While from RFC 3261 it is clear the Require header is
>>>>       used by the UAC and UAS to enforce the extension implemention
>>>>       for a particular session, while the Supported header is  
>>>> mostly
>>>>       used by UAC to express the extensions which can be enforced  
>>>> by
>>>>       UAS through the Require header.
>>>>        My doubt is that, is it *mandatary that every extension  
>>>> that is
>>>>       present in Require header must be present in Supported header
>>>>       *in the request? According to me, presence/absence of  
>>>> Required
>>>>       extensions in Supported header does not make any impact on  
>>>> UAS
>>>>       handling.  *Even if it is not mandatory, what is the  
>>>> preferred
>>>>       approach?*
>>>>   This is pretty loosely defined.
>>>>   For one thing, Require doesn't necessarily apply to a "particular
>>>>   session". The most that can be said with certainty is that is
>>>>   applies to a transaction. Often it applies longer, but how long
>>>>   isn't well defined.
>>>>   Second, there is some asymmetry in Supported/Require, but this
>>>>   varies based on the option. Require from a UAC states what it
>>>>   requires of the UAS, but doesn't necessarily imply that a Require
>>>>   for the same option, coming the other way, would be supported.
>>>>   Also, Supported and Require are often used together to do a  
>>>> negotiation:
>>>>   Supported in a request is paired with Require of the same  
>>>> option in
>>>>   the response to negotiate its use.
>>>>   In most cases there is no requirement to include Supported in
>>>>   requests. The main place it is essential is in a 420 response.
>>>>          Thanks,
>>>>          Paul

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 10 13:53:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DD34E28C2AB;
	Wed, 10 Sep 2008 13:53:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CD62428C2AB
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 13:53:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.398
X-Spam-Level: 
X-Spam-Status: No, score=-3.398 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, GB_I_INVITATION=-2, HTML_MESSAGE=0.001,
	J_CHICKENPOX_71=0.6, J_CHICKENPOX_91=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tf+KJO7L41fG for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 13:53:17 -0700 (PDT)
Received: from py-out-1112.google.com (py-out-1112.google.com [64.233.166.181])
	by core3.amsl.com (Postfix) with ESMTP id 253FD28C290
	for <sip@ietf.org>; Wed, 10 Sep 2008 13:53:17 -0700 (PDT)
Received: by py-out-1112.google.com with SMTP id x19so24658pyg.24
	for <sip@ietf.org>; Wed, 10 Sep 2008 13:53:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:cc:in-reply-to:mime-version:content-type:references;
	bh=W2nFj0MGsSa6WTDt6ad3sY3vqYDblxvPwWVIylUaBcw=;
	b=P1TShmy6qIGLdY/565LECiEzRJKevf2RIccMPwUWozOcb3dmWb3SYd/Ch/KZAWjVn8
	gDs8H0jbfovxd7sSyGxnhYi/grf7zvyOLoWgDY9c0vGRImUJheruMkItjgGoroXPh711
	UL8q6u4koC2kav1tjC1PXCsHShedGaGHY1kLU=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:cc:in-reply-to:mime-version
	:content-type:references;
	b=U27PTPsHuMON9j3UcxxkRdTV7oMhMZ9b+oEhgrqowpOedM6vv8lLT+j4yb+DzV223l
	SEJ+SdiAH+qXLfTMqGjoV4zLbM+hzk3v+6uUbBUf2TtK7BTMWJdRjxOO/Gta06nMr4+I
	6hNl9YuAUiYIv36RdfuDo+uvRmx9zJNFtINro=
Received: by 10.115.76.1 with SMTP id d1mr1250300wal.196.1221079995548;
	Wed, 10 Sep 2008 13:53:15 -0700 (PDT)
Received: by 10.114.81.17 with HTTP; Wed, 10 Sep 2008 13:53:15 -0700 (PDT)
Message-ID: <98abe9690809101353n41b8fb01j89f8e5c3568b81b3@mail.gmail.com>
Date: Thu, 11 Sep 2008 02:23:15 +0530
From: "Vineet Gupta" <gupta.vineet@gmail.com>
To: "Robert Sparks" <rjsparks@nostrum.com>
In-Reply-To: <BE5AA2BC-454A-44D8-9E11-D1D4AFC9D9C6@nostrum.com>
MIME-Version: 1.0
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
	<48C69F7B.7040307@cisco.com>
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>
	<48C8063D.5070901@cisco.com>
	<3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>
	<48C815BB.3050002@cisco.com>
	<BE5AA2BC-454A-44D8-9E11-D1D4AFC9D9C6@nostrum.com>
Cc: sip@ietf.org, Paul Kyzivat <pkyzivat@cisco.com>
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1459556204=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1459556204==
Content-Type: multipart/alternative; 
	boundary="----=_Part_11001_571825.1221079995549"

------=_Part_11001_571825.1221079995549
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi Robert/Paul,

Thanks for detailed analysis of scope of Require/Supported header as well as
their interpretation. I again agree with all the points mentioned.

I would like to point out another scenario for the Supported header in the
re-INVITE scenario. This case applies to a session which has been
established with both 100rel and precondition as the required extensions.
Now, when one peer wants to start the re-INVITE negotiation, he is not
absolutely sure whether to start the re-INVITE with:

a) Both the 100rel and precondition again in the Require extensions, as the
other peer might need QoS establishment and need a confirmation from the
user before accepting the video invitation.

b) No Required options, as the peer might not be able to support it, or
because the re-INVITE might not neccesarily involve QoS establishment or
user intervention.

One option is that he can do try sending request with with scenario a)  and
then recieving 421 response (bad extension) on which he knows he can only
send re-INVITE request without any extensions.

The other option is to use only Supported extensions in re-INVITE request
depending again the capability of peer, and then leave it upto the UAS of
the re-INVITE request to chose the extensions it wants to use for the
re-INVITE.

I guess this would help out SIP implementations interop with UAs having
different interpretations of scope of Required extensions in use-cases where
the scope is not self evident (because even though the transaction-wise
scope of extensions is agreed to, in many cases its scope is being derived
on the basis of the use-case).

Regards,
Vineet.



On Thu, Sep 11, 2008 at 12:36 AM, Robert Sparks <rjsparks@nostrum.com>wrote:

>
> On Sep 10, 2008, at 1:45 PM, Paul Kyzivat wrote:
>
> Robert,
>>
>> Thank you for this clarification. It is, AFAIK, consistent with observed
>> practice. But I have not seen this level of detail written down anywhere
>> before.
>>
>> Paraphrasing you, I guess the primary guarantee is that if you put
>> Supported:X in a request, then you must be prepared to have X used in the
>> response and/or to have a Require:X in the response. And if a Require:X is:
>> in a request and not rejected by the response, or in a response following a
>> Supported:X in the request, then that establishes an option-specific
>> contract whose scope is defined by the option.
>>
>> Conversely a Supported:X in a response, or in a request and then not
>> sealed with a Require:X in a response, establishes no contract and so no
>> guarantees of any sort.
>>
>> But what about OPTIONS?  3261 says:
>>
>>  The SIP method OPTIONS allows a UA to query another UA or a proxy
>>  server as to its capabilities.  This allows a client to discover
>>  information about the supported methods, content types, extensions,
>>  codecs, etc. without "ringing" the other party.  For example, before
>>  a client inserts a Require header field into an INVITE listing an
>>  option that it is not certain the destination UAS supports, the
>>  client can query the destination UAS with an OPTIONS to see if this
>>  option is returned in a Supported header field.  All UAs MUST support
>>  the OPTIONS method.
>>
>>  ...
>>
>>  Allow, Accept, Accept-Encoding, Accept-Language, and Supported header
>>  fields SHOULD be present in a 200 (OK) response to an OPTIONS
>>  request.
>>
>> It would seem that this is just a "best effort" thing, and that there are
>> no guarantees. Or perhaps an option should only be listed in Supported of an
>> OPTIONS response if it is *always* supported.
>>
>
> So this use of OPTIONS is something that isn't well implemented (at least
> not completely - there are several implementation that look for REFER to
> decide if they'll offer transfer).
>
> My read of the specs here is that you put stuff in OPTIONS that you would
> be able to use/support if it made sense in the context at the time. It's not
> a promise that you'll agree to use/support it at any particular point in
> time, but an indication that its possible you will. The utility is in
> providing a negative : "Don't bother trying to do this-strange-thing with
> me, because I can never do that"
>
>
>
>>
>>        Thanks,
>>        Paul
>>
>> Robert Sparks wrote:
>>
>>> lots inline.
>>> On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:
>>>
>>>> [Copying Robert in hopes there is some SIPit experience on this]
>>>>
>>>> Comments inline.
>>>>
>>>>   Thanks,
>>>>   Paul
>>>>
>>>> Vineet Gupta wrote:
>>>>
>>>>> Hi Paul/All,
>>>>> I totally agree with the points mentioned in your email. However, I
>>>>> still have doubts whether most implementations follow this approach or not.
>>>>>  *Firstly,* I share the same feeling with you with respect to presence of
>>>>> the Supported header in the request. The Require and Supported should not
>>>>> have common options in a request. Also, Supported in request is required if
>>>>> UAC wants to be generous enough to allow UAS to enforce an option, it itself
>>>>> does not require.
>>>>> However, I was slightly confused by the following statement in RFC3261
>>>>> with respect to the Supported header (Section 20.37 , [Page 178]):
>>>>> /"The Supported header field enumerates all the extensions supported by
>>>>> the UAC or UAS"/.
>>>>>
>>>>
>>>> Yeah, it says that. Its also hopelessly naive. Sometimes options are
>>>> supported in one context, and not in another. There is no way to express
>>>> that. Some examples:
>>>>
>>>> - An option may be supported for one method but not another.
>>>>
>>>> - A B2BUA may only support an option if the device on the other
>>>> side also supports it. The device on the other side can change
>>>> over time.
>>>>
>>>> *So, for inter-operatablity reasons, should all the application have
>>>>> same options in Require and Supported header or not?*
>>>>>
>>>>
>>>> I think, *when you can*, you should list all the options you support all
>>>> the time.
>>>>
>>> I think we can make this clear. I'm not sure I agree that the specs are
>>> that far away from clear on this - I have not seen any real issues with
>>> Supported/Require support at SIPits. Here's how I read the text and what I
>>> see implemented:
>>> * The mechanics of Supported and Require operate at a transaction level.
>>> The semantics of any given extension can _use_ those mechanics differently.
>>> It's perfectly reasonable for one extension to have a semantic that is
>>> scoped entirely to one transaction, and for another extension to have a
>>> semantic that spans several transactions (maybe grouped together in a
>>> dialog, maybe not). The requirements of each particular extension will
>>> constrain the behavior of the endpoints to do the right thing with placing
>>> the tokens in the right fields in the right messages.
>>> *What you place in a Supported header are extensions you are willing to
>>> use in the context of this transaction. The contract you are entering into
>>> is that you are willing to start doing the things the token you put in this
>>> header implies if the other side decides to require it. There is nothing
>>> that prevents you, in general, from deciding to not offer support for
>>> something that you've offered support for before. (But an extension may
>>> constrain you here once you or your peer has required it)
>>> * What you place in a Required header are extensions that you are
>>> actively _using_ in the context of this transaction and that things will go
>>> wrong if the other side doesn't know it needs to do what the extension
>>> requires it to do.
>>>
>>>>
>>>>
>>>> *Secondly, *I had discussed the scope of options mentioned in
>>>>> Require/Supported header, in an earlier debate regarding this (whether it
>>>>> applies to a transaction/dialog) in this mailing list long back. As per my
>>>>> understanding, from RFC3261 the scope of Require/Supported header seems to
>>>>> be a transaction only. If we go by this assumption, once session in
>>>>> established using 100rel and precondition (as per 3gpp call-flow), a
>>>>> re-INVITE request can be sent without both these options (if for example the
>>>>> UAC realizes that no QoS establishment would be required).
>>>>>
>>>>
>>>> However, I got a feeling that most of the implementions go by the
>>>>> assumption that Require/Supported extension apply through out the dialog.
>>>>>
>>>>>
>>>> This is an area that needs some clarification. Some people think the
>>>> scope of Supported/Require is a transaction, some a dialog, some for as long
>>>> as not changed, ... There is no great clarity on this in the specs. Its more
>>>> a matter of observation based on what behavior is called for in various
>>>> specs defining options.
>>>>
>>> See above.
>>>
>>>>
>>>>
>>>> Can you let me know in your opinion, what is the general consensus on
>>>>> this. *Are most SIP implementations prepared to handle change in
>>>>> Require/Supported options in re-INVITE request (They ofcourse can still
>>>>> reject such a re-INVITE by sending 420 Bad Extension/421 Extension
>>>>> Required)?*
>>>>>
>>>>
>>>> I don't have data on this. Maybe there is some from SIPit.
>>>>
>>> I have seen changes like this successfully exercised at SIPits. The whole
>>> answer is wrapped into the endpoints behaving _per extension_ in the way the
>>> extension tells them to behave. If there's really a problem here, its in the
>>> individual extensions if that behavior is not clear. Can you point to a
>>> particular extension where that's the case?
>>> 100rel was brought up in this thread before. Support 100rel extension
>>> itself can come or go as the requestor sees fit for any given transaction.
>>> 3262 is pretty clear on that. Now some other extension _using_ 100rel might
>>> place more restrictions on endpoint behavior, and the documentation of those
>>> requirements has to live with that other extension.
>>>
>>>>
>>>>
>>>> Note: this isn't really just about Require/Supported. There are other
>>>> headers with similar issues:
>>>>
>>>> Accept, Accept_Encoding, Accept-Language, Allow
>>>>
>>> Agreed, but again, I've not seen anything break at a SIPit yet because
>>> these things change between transactions in a given dialog (though that's
>>> not particularly common).
>>>
>>>>
>>>>
>>>>   Thanks,
>>>>   Paul
>>>>
>>>> Regards,
>>>>> Vineet.
>>>>> On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat <pkyzivat@cisco.com<mailto:
>>>>> pkyzivat@cisco.com>> wrote:
>>>>>  Vineet Gupta wrote:
>>>>>      Hi,
>>>>>       I have a small doubt related to use of Supported and Require
>>>>>      header. While from RFC 3261 it is clear the Require header is
>>>>>      used by the UAC and UAS to enforce the extension implemention
>>>>>      for a particular session, while the Supported header is mostly
>>>>>      used by UAC to express the extensions which can be enforced by
>>>>>      UAS through the Require header.
>>>>>       My doubt is that, is it *mandatary that every extension that is
>>>>>      present in Require header must be present in Supported header
>>>>>      *in the request? According to me, presence/absence of Required
>>>>>      extensions in Supported header does not make any impact on UAS
>>>>>      handling.  *Even if it is not mandatory, what is the preferred
>>>>>      approach?*
>>>>>  This is pretty loosely defined.
>>>>>  For one thing, Require doesn't necessarily apply to a "particular
>>>>>  session". The most that can be said with certainty is that is
>>>>>  applies to a transaction. Often it applies longer, but how long
>>>>>  isn't well defined.
>>>>>  Second, there is some asymmetry in Supported/Require, but this
>>>>>  varies based on the option. Require from a UAC states what it
>>>>>  requires of the UAS, but doesn't necessarily imply that a Require
>>>>>  for the same option, coming the other way, would be supported.
>>>>>  Also, Supported and Require are often used together to do a
>>>>> negotiation:
>>>>>  Supported in a request is paired with Require of the same option in
>>>>>  the response to negotiate its use.
>>>>>  In most cases there is no requirement to include Supported in
>>>>>  requests. The main place it is essential is in a 420 response.
>>>>>         Thanks,
>>>>>         Paul
>>>>>
>>>>
>

------=_Part_11001_571825.1221079995549
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr"><div>Hi Robert/Paul,</div>
<div>&nbsp;</div>
<div>Thanks for detailed analysis of scope of Require/Supported header as well as their interpretation. I again agree with all the points mentioned.</div>
<div>&nbsp;</div>
<div>I would like to point out another scenario for the Supported header in the re-INVITE scenario. This case applies to a session which has been established with both 100rel and precondition as the required extensions. Now, when one peer wants to start the re-INVITE negotiation, he is not absolutely sure whether to start the re-INVITE with:</div>

<div>&nbsp;</div>
<div>a) Both the 100rel and precondition again in the Require extensions, as the other peer might need QoS establishment and need a confirmation from the user before accepting the video invitation.</div>
<div>&nbsp;</div>
<div>b) No Required options, as the peer might not be able to support it, or because the re-INVITE might not neccesarily involve QoS establishment or user intervention.</div>
<div>&nbsp;</div>
<div>One option is that he can do try sending request with with scenario a)&nbsp; and then recieving 421 response (bad extension)&nbsp;on which he knows he can only send re-INVITE request without any extensions.</div>
<div>&nbsp;</div>
<div>The other option is to use only Supported extensions in re-INVITE request depending again the capability of peer, and then leave it upto the UAS of the re-INVITE request to chose the extensions it wants to use for the re-INVITE.</div>

<div>&nbsp;</div>
<div>I guess this would help out SIP implementations interop with UAs having different interpretations of scope of Required extensions in use-cases where the scope is not self evident (because even though the transaction-wise scope of extensions is agreed to, in many cases its scope is being derived on the basis of the use-case).</div>

<div>&nbsp;</div>
<div>Regards,</div>
<div>Vineet.</div>
<div><br><br>&nbsp;</div>
<div class="gmail_quote">On Thu, Sep 11, 2008 at 12:36 AM, Robert Sparks <span dir="ltr">&lt;<a href="mailto:rjsparks@nostrum.com">rjsparks@nostrum.com</a>&gt;</span> wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">
<div class="Ih2E3d"><br>On Sep 10, 2008, at 1:45 PM, Paul Kyzivat wrote:<br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">Robert,<br><br>Thank you for this clarification. It is, AFAIK, consistent with observed practice. But I have not seen this level of detail written down anywhere before.<br>
<br>Paraphrasing you, I guess the primary guarantee is that if you put Supported:X in a request, then you must be prepared to have X used in the response and/or to have a Require:X in the response. And if a Require:X is: in a request and not rejected by the response, or in a response following a Supported:X in the request, then that establishes an option-specific contract whose scope is defined by the option.<br>
<br>Conversely a Supported:X in a response, or in a request and then not sealed with a Require:X in a response, establishes no contract and so no guarantees of any sort.<br><br>But what about OPTIONS? &nbsp;3261 says:<br><br>&nbsp;The SIP method OPTIONS allows a UA to query another UA or a proxy<br>
&nbsp;server as to its capabilities. &nbsp;This allows a client to discover<br>&nbsp;information about the supported methods, content types, extensions,<br>&nbsp;codecs, etc. without &quot;ringing&quot; the other party. &nbsp;For example, before<br>
&nbsp;a client inserts a Require header field into an INVITE listing an<br>&nbsp;option that it is not certain the destination UAS supports, the<br>&nbsp;client can query the destination UAS with an OPTIONS to see if this<br>&nbsp;option is returned in a Supported header field. &nbsp;All UAs MUST support<br>
&nbsp;the OPTIONS method.<br><br>&nbsp;...<br><br>&nbsp;Allow, Accept, Accept-Encoding, Accept-Language, and Supported header<br>&nbsp;fields SHOULD be present in a 200 (OK) response to an OPTIONS<br>&nbsp;request.<br><br>It would seem that this is just a &quot;best effort&quot; thing, and that there are no guarantees. Or perhaps an option should only be listed in Supported of an OPTIONS response if it is *always* supported.<br>
</blockquote><br></div>So this use of OPTIONS is something that isn&#39;t well implemented (at least not completely - there are several implementation that look for REFER to decide if they&#39;ll offer transfer).<br><br>My read of the specs here is that you put stuff in OPTIONS that you would be able to use/support if it made sense in the context at the time. It&#39;s not a promise that you&#39;ll agree to use/support it at any particular point in time, but an indication that its possible you will. The utility is in providing a negative : &quot;Don&#39;t bother trying to do this-strange-thing with me, because I can never do that&quot; 
<div>
<div></div>
<div class="Wj3C7c"><br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>&nbsp; &nbsp; &nbsp; &nbsp;Thanks,<br>&nbsp; &nbsp; &nbsp; &nbsp;Paul<br><br>Robert Sparks wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">lots inline.<br>On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">[Copying Robert in hopes there is some SIPit experience on this]<br><br>Comments inline.<br><br>&nbsp; Thanks,<br>
&nbsp; Paul<br><br>Vineet Gupta wrote:<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">Hi Paul/All,<br>I totally agree with the points mentioned in your email. However, I still have doubts whether most implementations follow this approach or not. &nbsp;*Firstly,* I share the same feeling with you with respect to presence of the Supported header in the request. The Require and Supported should not have common options in a request. Also, Supported in request is required if UAC wants to be generous enough to allow UAS to enforce an option, it itself does not require.<br>
However, I was slightly confused by the following statement in RFC3261 with respect to the Supported header (Section 20.37 , [Page 178]):<br>/&quot;The Supported header field enumerates all the extensions supported by the UAC or UAS&quot;/.<br>
</blockquote><br>Yeah, it says that. Its also hopelessly naive. Sometimes options are supported in one context, and not in another. There is no way to express that. Some examples:<br><br>- An option may be supported for one method but not another.<br>
<br>- A B2BUA may only support an option if the device on the other<br>side also supports it. The device on the other side can change<br>over time.<br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">*So, for inter-operatablity reasons, should all the application have same options in Require and Supported header or not?*<br>
</blockquote><br>I think, *when you can*, you should list all the options you support all the time.<br></blockquote>I think we can make this clear. I&#39;m not sure I agree that the specs are that far away from clear on this - I have not seen any real issues with Supported/Require support at SIPits. Here&#39;s how I read the text and what I see implemented:<br>
* The mechanics of Supported and Require operate at a transaction level. The semantics of any given extension can _use_ those mechanics differently. It&#39;s perfectly reasonable for one extension to have a semantic that is scoped entirely to one transaction, and for another extension to have a semantic that spans several transactions (maybe grouped together in a dialog, maybe not). The requirements of each particular extension will constrain the behavior of the endpoints to do the right thing with placing the tokens in the right fields in the right messages.<br>
*What you place in a Supported header are extensions you are willing to use in the context of this transaction. The contract you are entering into is that you are willing to start doing the things the token you put in this header implies if the other side decides to require it. There is nothing that prevents you, in general, from deciding to not offer support for something that you&#39;ve offered support for before. (But an extension may constrain you here once you or your peer has required it)<br>
* What you place in a Required header are extensions that you are actively _using_ in the context of this transaction and that things will go wrong if the other side doesn&#39;t know it needs to do what the extension requires it to do.<br>

<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">*Secondly, *I had discussed the scope of options mentioned in Require/Supported header, in an earlier debate regarding this (whether it applies to a transaction/dialog) in this mailing list long back. As per my understanding, from RFC3261 the scope of Require/Supported header seems to be a transaction only. If we go by this assumption, once session in established using 100rel and precondition (as per 3gpp call-flow), a re-INVITE request can be sent without both these options (if for example the UAC realizes that no QoS establishment would be required).<br>
</blockquote><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">However, I got a feeling that most of the implementions go by the assumption that Require/Supported extension apply through out the dialog.<br>
<br></blockquote><br>This is an area that needs some clarification. Some people think the scope of Supported/Require is a transaction, some a dialog, some for as long as not changed, ... There is no great clarity on this in the specs. Its more a matter of observation based on what behavior is called for in various specs defining options.<br>
</blockquote>See above.<br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">Can you let me know in your opinion, what is the general consensus on this. *Are most SIP implementations prepared to handle change in Require/Supported options in re-INVITE request (They ofcourse can still reject such a re-INVITE by sending 420 Bad Extension/421 Extension Required)?*<br>
</blockquote><br>I don&#39;t have data on this. Maybe there is some from SIPit.<br></blockquote>I have seen changes like this successfully exercised at SIPits. The whole answer is wrapped into the endpoints behaving _per extension_ in the way the extension tells them to behave. If there&#39;s really a problem here, its in the individual extensions if that behavior is not clear. Can you point to a particular extension where that&#39;s the case?<br>
100rel was brought up in this thread before. Support 100rel extension itself can come or go as the requestor sees fit for any given transaction. 3262 is pretty clear on that. Now some other extension _using_ 100rel might place more restrictions on endpoint behavior, and the documentation of those requirements has to live with that other extension.<br>

<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>Note: this isn&#39;t really just about Require/Supported. There are other headers with similar issues:<br>
<br>Accept, Accept_Encoding, Accept-Language, Allow<br></blockquote>Agreed, but again, I&#39;ve not seen anything break at a SIPit yet because these things change between transactions in a given dialog (though that&#39;s not particularly common).<br>

<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote"><br><br>&nbsp; Thanks,<br>&nbsp; Paul<br><br>
<blockquote style="BORDER-LEFT: #ccc 1px solid; MARGIN: 0px 0px 0px 0.8ex; PADDING-LEFT: 1ex" class="gmail_quote">Regards,<br>Vineet.<br>On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat &lt;<a target="_blank" href="mailto:pkyzivat@cisco.com">pkyzivat@cisco.com</a> &lt;mailto:<a target="_blank" href="mailto:pkyzivat@cisco.com">pkyzivat@cisco.com</a>&gt;&gt; wrote:<br>
&nbsp;Vineet Gupta wrote:<br>&nbsp; &nbsp; &nbsp;Hi,<br>&nbsp; &nbsp; &nbsp; I have a small doubt related to use of Supported and Require<br>&nbsp; &nbsp; &nbsp;header. While from RFC 3261 it is clear the Require header is<br>&nbsp; &nbsp; &nbsp;used by the UAC and UAS to enforce the extension implemention<br>
&nbsp; &nbsp; &nbsp;for a particular session, while the Supported header is mostly<br>&nbsp; &nbsp; &nbsp;used by UAC to express the extensions which can be enforced by<br>&nbsp; &nbsp; &nbsp;UAS through the Require header.<br>&nbsp; &nbsp; &nbsp; My doubt is that, is it *mandatary that every extension that is<br>
&nbsp; &nbsp; &nbsp;present in Require header must be present in Supported header<br>&nbsp; &nbsp; &nbsp;*in the request? According to me, presence/absence of Required<br>&nbsp; &nbsp; &nbsp;extensions in Supported header does not make any impact on UAS<br>&nbsp; &nbsp; &nbsp;handling. &nbsp;*Even if it is not mandatory, what is the preferred<br>
&nbsp; &nbsp; &nbsp;approach?*<br>&nbsp;This is pretty loosely defined.<br>&nbsp;For one thing, Require doesn&#39;t necessarily apply to a &quot;particular<br>&nbsp;session&quot;. The most that can be said with certainty is that is<br>&nbsp;applies to a transaction. Often it applies longer, but how long<br>
&nbsp;isn&#39;t well defined.<br>&nbsp;Second, there is some asymmetry in Supported/Require, but this<br>&nbsp;varies based on the option. Require from a UAC states what it<br>&nbsp;requires of the UAS, but doesn&#39;t necessarily imply that a Require<br>
&nbsp;for the same option, coming the other way, would be supported.<br>&nbsp;Also, Supported and Require are often used together to do a negotiation:<br>&nbsp;Supported in a request is paired with Require of the same option in<br>&nbsp;the response to negotiate its use.<br>
&nbsp;In most cases there is no requirement to include Supported in<br>&nbsp;requests. The main place it is essential is in a 420 response.<br>&nbsp; &nbsp; &nbsp; &nbsp; Thanks,<br>&nbsp; &nbsp; &nbsp; &nbsp; Paul<br></blockquote></blockquote></blockquote></blockquote><br>
</div></div></blockquote></div><br></div>

------=_Part_11001_571825.1221079995549--

--===============1459556204==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1459556204==--


From sip-bounces@ietf.org  Wed Sep 10 20:25:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BEA0F3A684A;
	Wed, 10 Sep 2008 20:25:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9EEB33A684A
	for <sip@core3.amsl.com>; Wed, 10 Sep 2008 20:25:12 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 2.132
X-Spam-Level: **
X-Spam-Status: No, score=2.132 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HELO_EQ_JP=1.244, HOST_EQ_JP=1.265,
	RELAY_IS_221=2.222]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ELlTjiiPEBdU for <sip@core3.amsl.com>;
	Wed, 10 Sep 2008 20:25:12 -0700 (PDT)
Received: from softfront.co.jp (rt1.softfront.co.jp [221.186.247.166])
	by core3.amsl.com (Postfix) with SMTP id C0A1B3A67C1
	for <sip@ietf.org>; Wed, 10 Sep 2008 20:25:11 -0700 (PDT)
Received: (qmail 1840 invoked by uid 0); 11 Sep 2008 12:18:35 +0900
Received: from unknown (HELO softfront.co.jp) (172.16.0.2)
	by mail.softfront.co.jp with SMTP; 11 Sep 2008 12:18:35 +0900
From: OKUMURA Shinji <shin@softfront.co.jp>
To: Paul Kyzivat <pkyzivat@cisco.com>,
 sip@ietf.org
Date: Thu, 11 Sep 2008 12:18:34 +0900
MIME-Version: 1.0
X-Mailer: HidemaruMail 5.08 (WinNT,501)
In-Reply-To: <48C7D4CB.5080606@cisco.com>
References: <CC9132C7CDF08shin@softfront.co.jp> <48C7D4CB.5080606@cisco.com>
Message-Id: <47C913BD12B688shin@softfront.co.jp>
Cc: sipping@ietf.org
Subject: Re: [Sip] [Sipping] UPDATE with offer
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi,

If I implement UA, I would not send the UPDATE request with an offer
unless PRACK transaction is completed.
but other ua may send these UPDATE request. Then my ua should do something.
I think that offer-answer draft would discribe it.

I want to confirm which scenario is appropriate, and which one is illegal.

my comment inline.

Regards,
Shinji

Paul Kyzivat <pkyzivat@cisco.com>
>Shinji,
>
>I realize I haven't responded to your earlier o/a question.
>You have obviously been looking deeply into this subject, and I haven't 
>had time to give a studied answer.
>
>The collection of RFCs that touch on offer/answer don't fit together 
>perfectly. It takes a lot of "reading tea leaves" to put it all together 
>and make sense of it. For the most part it has been concluded that only 
>certain usages are valid, because the others lead to inconsistent 
>results or violate some aspect of one or more of the RFCs. There was an 
>extended discussion of all this on the mailing list some years ago, 
>which then faded into folklore. We later realized that such folklore 
>needed to be formally recorded, which is what led to the offeranswer draft.
>
>The end result is that if you simply look at one RFC, such as 3311, and 
>construct flows that are consistent with it, then you are likely to come 
>up with some that aren't workable for some reason not stated in 3311.
>
>OKUMURA Shinji wrote:
>> Hi,
>> 
>> I have any questions about sending offer by UPDATE request.
>> 
>> RFC3311/5.1 Sending an UPDATE says,
>> 
>>    The rules for inclusion of offers and answers in SIP messages as
>>    defined in Section 13.2.1 of RFC 3261 still apply.  These rules exist
>>    to guarantee a consistent view of the session state.  This means
>>    that, for the caller:
>> 
>>       o  If the UPDATE is being sent before completion of the initial
>>          INVITE transaction, and the initial INVITE contained an offer,
>>          the UPDATE can contain an offer if the callee generated an
>>          answer in a reliable provisional response, and the caller has
>>          received answers to any other offers it sent in either PRACK or
>>          UPDATE, and has generated answers for any offers it received in
>>          an UPDATE from the callee.
>> 
>>       o  If the UPDATE is being sent before completion of the initial
>>          INVITE transaction, and the initial INVITE did not contain an
>>          offer, the UPDATE can contain an offer if the callee generated
>>          an offer in a reliable provisional response, and the UAC
>>          generated an answer in the corresponding PRACK.  Of course, it
>>          can't send an UPDATE if it has not received answers to any
>>          other offers it sent in either PRACK or UPDATE, or has not
>>          generated answers for any other offers it received in an UPDATE
>>          from the callee.
>> 
>>       o  If the UPDATE is being sent after the completion of the initial
>>          INVITE transaction, it cannot contain an offer if the caller
>>          has generated or received offers in a re-INVITE or UPDATE which
>>          have not been answered.
>> 
>> According to the description above, The following scenarios seem
>> to be allowed.(before sending PRACK)
>> 
>>     A                               B
>>     |                               |
>>     |ini-INVITE (offer0)            |
>>     |------------------------------>|
>>     |                               |
>>     |              1xx-rel (answer0)|
>>     |<------------------------------|
>>     |                               |
>>     |UPDATE (offer1)                |
>>     |==============================>|
>>     |                               |
>> 
>>     A                               B
>>     |                               |
>>     |re-INVITE (offer0)             |
>>     |------------------------------>|
>>     |                               |
>>     |              1xx-rel (answer0)|
>>     |<------------------------------|
>>     |                               |
>>     |UPDATE (offer1)                |
>>     |==============================>|
>>     |                               |
>
>Your point in the above is that the UPDATE is being sent prior to the 
>PRACK, right?

Yes.

>Would you then expect to be able to send yet another offer in the PRACK???

No, I think following PRACK must not include offer.

> From B's perspective there is the possibility that there was a PRACK 
>and it was lost or delayed. This then gets very complex to interpret. 
>IMO this is at least a very bad idea.

I agree. B may send 4xx(maybe 491) for UPDATE. But is following
sequences illegal ? 

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |UPDATE (offer1)                |
    |==============================>|
    |                               |
    |PRACK(no offer)                |
    |------------------------------>|
    |                               |
    |              answer1 (2xx-UPD)|
    |<==============================|
    |                               |

or crossing case

    A                               B
    |                               |
    |ini-INVITE (offer0)            |
    |------------------------------>|
    |                               |
    |              1xx-rel (answer0)|
    |<------------------------------|
    |                               |
    |PRACK(no offer)                |
    |--------------\  /============>|
    |               \/              |
    |offer1(UPD)    /\              |
    |==============/  \------------>|
    |                               |
    |              answer1 (2xx-UPD)|
    |<==============================|
    |                               |
    |                     500(PRACK)|
    |<------------------------------|
    |                               |
    |PRACK(no offer)                |
    |------------------------------>| incremented CSeq
    |                               |
    |                               |

>>     A                               B
>>     |                               |
>>     |re-INVITE (no offer)           |
>>     |------------------------------>|
>>     |                               |
>>     |UPDATE (offer1)                |
>>     |==============================>|
>>     |                               |
>
>This clearly can't work. B will be working on generating an offer, so 
>this is just inviting a complex glare condition.
>
>So this is certainly a bad practice, if not illegal.

Yes, I agree. A should not send this UPDATE, but if B receive it,
B must do something. BCP I think is following,

    A                               B
    |                               |
    |re-INV (no offer)              |
    |------------------------------>| --+
    |                               |   |
    |offer1(UPD)                    |   |
    |==============================>|   | The 1st reliable response
    |                               |   |
    |              answer1 (2xx-UPD)|   |
    |<==============================|   |
    |                               |   |
    |                         offer2|   |
    |                  (1xx-rel/2xx)|   |
    |<------------------------------| <-+ Wait until answer1
    |                               |
    | answer2 (PRACK/ACK)           |
    |------------------------------>|
    |                               |

or crossing case

                A                               B
                |                               |
                |re-INV (no offer)              |
                |------------------------------>| --+
                |                        offer2 |   |
                |offer1(UPD)       (1xx-rel/2xx)|   |
                |============\  /===============| <-+ The 1st reliable response
                |             \/                |
                |             /\                |
                |<===========/  \==============>|
                |                               |
                |                       491(UPD)|
                |<------------------------------|
                |                               |
                | answer2 (PRACK/ACK)           |
 Wait until 491 |------------------------------>|
                |                               |


>I don't have time right now to dig into all your other cases. But let me 
>wrap up for now this way:
>
>The best way we found to resolve all of these alternatives in the o/a 
>draft was to reformulate by giving just the patterns that are known to 
>be valid. Others, that might seem to be valid according to one of the 
>RFCs, are to be avoided.
>
>In retrospect, it would have been better for the RFCs to have been much 
>more explicit and constraining.
>
>	Thanks,
>	Paul
>
>>    and for the callee:
>> 
>>       o  If the UPDATE is being sent before the completion of the INVITE
>>          transaction, and the initial INVITE contained an offer, the
>>          UPDATE cannot be sent with an offer unless the callee has
>>          generated an answer in a reliable provisional response, has
>>          received a PRACK for that reliable provisional response, has
>>          not received any requests (PRACK or UPDATE) with offers that it
>>          has not answered, and has not sent any UPDATE requests
>>          containing offers that have not been answered.
>> 
>>       o  If the UPDATE is being sent before completion of the INVITE
>>          transaction, and the initial INVITE did not contain an offer,
>>          the UPDATE cannot be sent with an offer unless the callee has
>>          sent an offer in a reliable provisional response, received an
>>          answer in a PRACK, and has not received any UPDATE requests
>>          with offers that it has not answered, and has not sent any
>>          UPDATE requests containing offers that have not been answered.
>> 
>>       o  If the UPDATE is being sent after the completion of the initial
>>          INVITE transaction, it cannot be sent with an offer if the
>>          callee has generated or received offers in a re-INVITE or
>>          UPDATE which have not been answered.
>> 
>> According to the description above, The following scenarios seem
>> to be allowed.(before receiving PRACK)
>> 
>>     A                               B
>>     |                               |
>>     |             re-INVITE (offer0)|
>>     |<------------------------------|
>>     |                               |
>>     |1xx-rel (answer0)              |
>>     |------------------------------>|
>>     |                               |
>>     |UPDATE (offer1)                |
>>     |==============================>|
>>     |                               |
>
>
>
>> 
>>     A                               B
>>     |                               |
>>     |              re-INV (no offer)|
>>     |<------------------------------|
>>     |                               |
>>     |UPDATE (offer1)                |
>>     |==============================>|
>>     |                               |
>> 
>> Is my understanding correct?
>> Some scenarios seem to be allowed only for re-INVITE.
>> is this what the author intended?
>> If not, which is not intended scenario?
>> 
>> Regards,
>> Shinji
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 11 04:38:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA7173A68D3;
	Thu, 11 Sep 2008 04:38:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4437B3A68D3
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 04:38:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DghEXAYSguSQ for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 04:38:34 -0700 (PDT)
Received: from ug-out-1314.google.com (ug-out-1314.google.com [66.249.92.174])
	by core3.amsl.com (Postfix) with ESMTP id 752083A689C
	for <sip@ietf.org>; Thu, 11 Sep 2008 04:38:33 -0700 (PDT)
Received: by ug-out-1314.google.com with SMTP id q7so769820uge.15
	for <sip@ietf.org>; Thu, 11 Sep 2008 04:37:47 -0700 (PDT)
Received: by 10.210.68.17 with SMTP id q17mr3188974eba.90.1221133067219;
	Thu, 11 Sep 2008 04:37:47 -0700 (PDT)
Received: from portatil.local ( [85.58.137.3])
	by mx.google.com with ESMTPS id j8sm17099001gvb.1.2008.09.11.04.37.45
	(version=TLSv1/SSLv3 cipher=RC4-MD5);
	Thu, 11 Sep 2008 04:37:46 -0700 (PDT)
From: =?utf-8?q?I=C3=B1aki_Baz_Castillo?= <ibc@aliax.net>
To: sip@ietf.org
Date: Thu, 11 Sep 2008 13:37:43 +0200
User-Agent: KMail/1.9.9
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <200809111337.43530.ibc@aliax.net>
Subject: [Sip] Possible bug in REGISTER 200-OK Contact specification
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

SGksIGFzIGRpc2N1c3NlZCBpbiBzaXAtZXNbMV0gYW5kIHNpcC1pbXBsZW1lbnRvcnNbMl0gbWFp
bGxpc3RzIGl0IHNlZW1zIHRoYXQgCnNwZWNpZmljYXRpb24gZm9yICJDb250YWN0IiBoZWFkZXIg
aW4gYSBSRUdJU1RFUiAyMDAtT0sgaW4gUkZDIDMyNjEgaGFzIGEgCmJ1ZzoKCgpGaXJzdCBvZiBh
bGwsIENvbnRhY3QgaGVhZGVyIGNhbm5vdCBiZSBlbXB0eSBkdWUgdG8gQk5GIHN5bnRheDoKLS0t
LS0tLS0tLS0tLS0tLS0tCkNvbnRhY3QgID0gICAoICJDb250YWN0IiAvICJtIiApIEhDT0xPTgog
ICAgICAgICAgICAgICAgICAgICggU1RBUiAvIChjb250YWN0LXBhcmFtICooQ09NTUEgY29udGFj
dC1wYXJhbSkpKQpjb250YWN0LXBhcmFtICA9ICAobmFtZS1hZGRyIC8gYWRkci1zcGVjKSAqKCBT
RU1JIGNvbnRhY3QtcGFyYW1zKQotLS0tLS0tLS0tLS0tLS0tLQoKCkJ1dCBSRkMgMzI2MSBzYXlz
OgotLS0tLS0tLS0tLS0tLS0tLS0tLS0KMTAuMiBDb25zdHJ1Y3RpbmcgdGhlIFJFR0lTVEVSIFJl
cXVlc3QKCiAgIENvbnRhY3Q6IFJFR0lTVEVSIHJlcXVlc3RzIE1BWSBjb250YWluIGEgQ29udGFj
dCBoZWFkZXIgZmllbGQgd2l0aAogICAgICAgICAgIHplcm8gb3IgbW9yZSB2YWx1ZXMgY29udGFp
bmluZyBhZGRyZXNzIGJpbmRpbmdzLgotLS0tLS0tLS0tLS0tLS0tLS0tLQoKKGJ1dCBhICJDb250
YWN0IiBoZWFkZXIgd2l0aCBubyB2YWx1ZSBpcyBpbGxlZ2FsIGFzIGV4cGxhaW5lZCBhYm92ZSku
CgoKQWxzbyB0aGVyZSBpcyBzb21lIGNvbmZ1c2lvbiBpbiBzZWN0aW9ucyAxMC4yLjMgYW5kIDEw
LjM6Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCjEwLjIuMyBGZXRjaGluZyBCaW5kaW5ncwoKICAg
QSBzdWNjZXNzIHJlc3BvbnNlIHRvIGFueSBSRUdJU1RFUiByZXF1ZXN0IGNvbnRhaW5zIHRoZSBj
b21wbGV0ZSBsaXN0CiAgIG9mIGV4aXN0aW5nIGJpbmRpbmdzLCByZWdhcmRsZXNzIG9mIHdoZXRo
ZXIgdGhlIHJlcXVlc3QgY29udGFpbmVkIGEKICAgQ29udGFjdCBoZWFkZXIgZmllbGQuICBJZiBu
byBDb250YWN0IGhlYWRlciBmaWVsZCBpcyBwcmVzZW50IGluIGEKICAgUkVHSVNURVIgcmVxdWVz
dCwgdGhlIGxpc3Qgb2YgYmluZGluZ3MgaXMgbGVmdCB1bmNoYW5nZWQuCgoxMC4zIFByb2Nlc3Np
bmcgUkVHSVNURVIgUmVxdWVzdHMKCiAgVGhlIHJlZ2lzdHJhciByZXR1cm5zIGEgMjAwIChPSykg
cmVzcG9uc2UuICBUaGUgcmVzcG9uc2UgTVVTVCBjb250YWluCiAgQ29udGFjdCBoZWFkZXIgZmll
bGQgdmFsdWVzIGVudW1lcmF0aW5nIGFsbCBjdXJyZW50IGJpbmRpbmdzLgotLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQoKV2hhdCBhYm91dCBpZiB0aGVyZSBhcmUgbm90IHJlZ2lzdGVyZWQgYmluZGlu
Z3MgZm9yIHRoZSByZXF1ZXN0ZWQgQW9SPyBTaG91bGQgCnRoZSByZWdpc3RyYXIgcmV0dXJuIGEg
MjAwIE9LIHdpdGggbm8gQ29udGFjdCBoZWFkZXI/IG9yIGEgMjAwIE9LIHdpdGggYW4gCmVtcHR5
IENvbnRhY3QgaGVhZGVyPyBUaGUgc2Vjb25kIG9wdGlvbiBpcyBpbGxlZ2FsIGR1ZSB0byBCTkYg
c3ludGF4IGFzIApleHBsYWluZWQgYWJvdmUuCgoKU28gd2Ugc2VlIHR3byBwb3NzaWJsZSBzb2x1
dGlvbnMgZm9yIHRoaXM6CgoKMSkgQ2hhbmdlIENvbnRhY3QgQk5GIHN5bnRheCBhbmQgYWxsb3cg
ZW1wdHkgdmFsdWU6CgotIEN1cnJlbnQgc3ludGF4OgotLS0tLS0tLS0tLS0tLS0tLS0KQ29udGFj
dCAgPSAgICggIkNvbnRhY3QiIC8gIm0iICkgSENPTE9OCiAgICAgICAgICAgICAgICAgICAgKCBT
VEFSIC8gKGNvbnRhY3QtcGFyYW0gKihDT01NQSBjb250YWN0LXBhcmFtKSkpCi0tLS0tLS0tLS0t
LS0tLS0tCgotIFByb3Bvc2VkIHN5bnRheDoKLS0tLS0tLS0tLS0tLS0tLS0tCkNvbnRhY3QgID0g
ICAoICJDb250YWN0IiAvICJtIiApIEhDT0xPTgogICAgICAgICAgICAgICAgICAgIFsgKCBTVEFS
IC8gKGNvbnRhY3QtcGFyYW0gKihDT01NQSBjb250YWN0LXBhcmFtKSkpIF0KLS0tLS0tLS0tLS0t
LS0tLS0KCgoKMikgTW9kaWZ5IHNvbWUgdGV4dCBpbiBSRkMgMzI2MToKCjEwLjIgQ29uc3RydWN0
aW5nIHRoZSBSRUdJU1RFUiBSZXF1ZXN0OgoKLSBDdXJyZW50IHRleHQ6Ci0tLS0tLS0tLS0tLS0t
LS0tLS0tLQogICBDb250YWN0OiBSRUdJU1RFUiByZXF1ZXN0cyBNQVkgY29udGFpbiBhIENvbnRh
Y3QgaGVhZGVyIGZpZWxkIHdpdGgKICAgICAgICAgICB6ZXJvIG9yIG1vcmUgdmFsdWVzIGNvbnRh
aW5pbmcgYWRkcmVzcyBiaW5kaW5ncy4KLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi0gUHJvcG9zZWQg
dGV4dDoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgIENvbnRhY3Q6IFJFR0lTVEVSIHJlcXVlc3Rz
IE1BWSBjb250YWluIGEgQ29udGFjdCBoZWFkZXIgZmllbGQgd2l0aAogICAgICAgICAgIG9uZSBv
ciBtb3JlIHZhbHVlcyBjb250YWluaW5nIGFkZHJlc3MgYmluZGluZ3MuCi0tLS0tLS0tLS0tLS0t
LS0tLS0tCgoKMTAuMi4zIEZldGNoaW5nIEJpbmRpbmdzOgoKLSBDdXJyZW50IHRleHQ6Ci0tLS0t
LS0tLS0tLS0tLS0tLS0tLQogICBBIHN1Y2Nlc3MgcmVzcG9uc2UgdG8gYW55IFJFR0lTVEVSIHJl
cXVlc3QgY29udGFpbnMgdGhlIGNvbXBsZXRlIGxpc3QKICAgb2YgZXhpc3RpbmcgYmluZGluZ3Ms
IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgcmVxdWVzdCBjb250YWluZWQgYQogICBDb250YWN0
IGhlYWRlciBmaWVsZC4gIElmIG5vIENvbnRhY3QgaGVhZGVyIGZpZWxkIGlzIHByZXNlbnQgaW4g
YQogICBSRUdJU1RFUiByZXF1ZXN0LCB0aGUgbGlzdCBvZiBiaW5kaW5ncyBpcyBsZWZ0IHVuY2hh
bmdlZC4KLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgotIFByb3Bvc2VkIHRleHQ6Ci0tLS0tLS0tLS0t
LS0tLS0tLS0tLQogICBBIHN1Y2Nlc3MgcmVzcG9uc2UgdG8gYW55IFJFR0lTVEVSIHJlcXVlc3Qg
Y29udGFpbnMgdGhlIGNvbXBsZXRlIGxpc3QKICAgb2YgZXhpc3RpbmcgYmluZGluZ3MgaW4gYSBD
b250YWN0IGhlYWRlciBpZiB0aGVyZSBpcyBhdCBsZWFzdAogICBvbmUgYmluZGluZywgcmVnYXJk
bGVzcyBvZiB3aGV0aGVyIHRoZSByZXF1ZXN0IGNvbnRhaW5lZCBhCiAgIENvbnRhY3QgaGVhZGVy
IGZpZWxkLiAgSWYgbm8gQ29udGFjdCBoZWFkZXIgZmllbGQgaXMgcHJlc2VudCBpbiBhCiAgIFJF
R0lTVEVSIHJlcXVlc3QsIHRoZSBsaXN0IG9mIGJpbmRpbmdzIGlzIGxlZnQgdW5jaGFuZ2VkLgot
LS0tLS0tLS0tLS0tLS0tLS0tLS0KCgoxMC4zIFByb2Nlc3NpbmcgUkVHSVNURVIgUmVxdWVzdHM6
CgotIEN1cnJlbnQgdGV4dDoKLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgVGhlIHJlZ2lzdHJhciBy
ZXR1cm5zIGEgMjAwIChPSykgcmVzcG9uc2UuICBUaGUgcmVzcG9uc2UgTVVTVCBjb250YWluCiAg
Q29udGFjdCBoZWFkZXIgZmllbGQgdmFsdWVzIGVudW1lcmF0aW5nIGFsbCBjdXJyZW50IGJpbmRp
bmdzLgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLSBQcm9wb3NlZCB0ZXh0OgotLS0tLS0tLS0t
LS0tLS0tLS0tLS0KICBUaGUgcmVnaXN0cmFyIHJldHVybnMgYSAyMDAgKE9LKSByZXNwb25zZS4g
IFRoZSByZXNwb25zZSBNVVNUIGNvbnRhaW4KICBDb250YWN0IGhlYWRlciBmaWVsZCB2YWx1ZXMg
ZW51bWVyYXRpbmcgYWxsIGN1cnJlbnQgYmluZGluZ3MgaW4gY2FzZSB0aGVyZQogIGlzIGF0IGxl
YXN0IG9uZSBiaW5kaW5nLiBJZiB0aGVyZSBpcyBubyBiaW5kaW5nIHRoZSByZXNwb25zZSBNVVNU
IE5PVAogIGNvbnRhaW4gYSBDb250YWN0IGhlYWRlciBmaWVsZC4KLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0KCgpQZXJzb25hbGx5IEkgcHJlZmVyIHNvbHV0aW9uIDIgc2luY2UgY2hhbmdpbmcgdGhl
IEJORiBmb3IgQ29udGFjdCB3aWxsIGxlYXZlIAp0aGF0IGhlYWRlciBhcyB0aGUgb25seSBoZWFk
ZXIgY29udGFpbmluZyBVUkkocykgYWxsb3dpbmcgbm8gdmFsdWUuCgoKCk9waW5pb25zPyBUaGFu
a3MgYSBsb3QuCgoKCkhpc3RvcnktSW5mbzoKWzJdIApodHRwczovL2xpc3RzLmNzLmNvbHVtYmlh
LmVkdS9waXBlcm1haWwvc2lwLWltcGxlbWVudG9ycy8yMDA4LVNlcHRlbWJlci8wMjAzMTEuaHRt
bApbMV0KaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3NpcC1lcy9icm93c2VfdGhyZWFk
L3RocmVhZC83NTEyNTU3OTFlMzZiYzA1CgoKCi0tIApJw7Fha2kgQmF6IENhc3RpbGxvCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5nIGxp
c3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlzdCBp
cyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lwLWlt
cGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcApV
c2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGljYXRp
b24gb2Ygc2lw


From sip-bounces@ietf.org  Thu Sep 11 08:02:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E37928C0DD;
	Thu, 11 Sep 2008 08:02:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D18283A684F
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 08:02:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.95
X-Spam-Level: 
X-Spam-Status: No, score=-0.95 tagged_above=-999 required=5 tests=[AWL=-0.300, 
	BAYES_00=-2.599, HELO_EQ_CZ=0.445, HOST_EQ_CZ=0.904,
	J_CHICKENPOX_24=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 4OSOJt-v3w1q for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 08:02:05 -0700 (PDT)
Received: from mail.strom.cz (mail.strom.cz [80.95.102.231])
	by core3.amsl.com (Postfix) with ESMTP id B13AA3A635F
	for <sip@ietf.org>; Thu, 11 Sep 2008 08:02:04 -0700 (PDT)
Received: from exalfa.stromtelecom.cz ([172.16.16.10]) by mail.strom.cz with
	Microsoft SMTPSVC(6.0.3790.3959); Thu, 11 Sep 2008 17:01:39 +0200
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 11 Sep 2008 17:01:38 +0200
Message-ID: <C756BE639CE70040B64A183F46B6AA3FA489F7@exalfa.stromtelecom.cz>
In-Reply-To: <38A8E355-2B59-4735-BE73-D9FEC46F718A@nostrum.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
Thread-Index: AckR8dVYcg4bneIrT0+AiKzt6LhdBAAlnD0w
References: <BBE61D1553D8A34F812FF87377B2935F038F0F73@ATL1VEXC020.usdom003.tco.tc><CFE48150-62DD-465B-937F-110C9D56588A@nostrum.com><89B3083B-309D-41D2-99CE-62803C9D8AA1@nostrum.com>
	<906A9DC6-4BA4-4C41-BE74-ABD799B9E33C@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3F92FEA6@exalfa.stromtelecom.cz>
	<F8D9C59B-5C82-40FF-A517-7BDE7AE95E31@nostrum.com>
	<C756BE639CE70040B64A183F46B6AA3FA47EC5@exalfa.stromtelecom.cz>
	<38A8E355-2B59-4735-BE73-D9FEC46F718A@nostrum.com>
From: "Kolomaznik Jan" <Jan.Kolomaznik@sitronicsts.com>
To: "Robert Sparks" <rjsparks@nostrum.com>
X-OriginalArrivalTime: 11 Sep 2008 15:01:39.0186 (UTC)
	FILETIME=[4B03ED20:01C9141F]
Cc: "SIP@ietf.org List" <sip@ietf.org>
Subject: Re: [Sip] draft-sparks-sip-invfix-02 (was
	Re:draft-sparks-sip-invfix-01: comments and questions)
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

SSBhZ3JlZSwgYSBjaGFuZ2Ugb2YgcmVhY3Rpb24gdG8gdHJhbnNwb3J0IGVycm9yIGlzIGEgImdh
bWUiIHdpdGggZWRnZS1jb25kaXRpb25zLiBJIGFsc28gYWdyZWUgdGhhdCBpc3N1aW5nIG9mIGEg
bmV3IHNwZWNpYWwgYW5kIG9ubHkgdHJhbnNwb3J0IGVycm9yIGZpeGluZyBSRkMgbWFrZXMgbm8g
c2Vuc2UgLSBidXQgd2hhdCBhYm91dCBpbiBzaXR1YXRpb24gd2hlbiBhIG5ldyBmaXhpbmcgUkZD
IGlzIGluIHByb2dyZXNzIHRvIGFkZHJlc3MgYW5vdGhlciBlcnJvcj8gSSB0aGluayBpdCBtYWtl
cyBzZW5zZSB0byB0aGluayBhYm91dCBpdCBpbiBJTlYgc2VydmVyIHRyYW5zYWN0aW9uIGNhc2Uu
DQoNCkFzIHlvdSByZXNwb25kZWQsIHRoZSBjaGFuZ2Ugb2YgcmVhY3Rpb24gdG8gdHJhbnNwb3J0
IGVycm9yIGluIENvbXBsZXRlZCBhbmQgQWNjZXB0ZWQgc3RhdGVzIChzYXZpbmcgY3VycmVudCBz
dGF0ZXMpIHNvbHZlcyBwb3NzaWJsZSBkaWZmZXJlbnQgZmluYWwgcmVzcG9uc2UocykgYW5kIGR1
ZSB0byB0aGlzIGl0IG1heSBiZSBpbXBvcnRhbnQgYWNjZXB0IHRoaXMgY2hhbmdlLiBJIGhhdmUg
dHJpZWQgdG8gdGhpbmsgYWJvdXQgaXQgYWxzbyBmb3IgUHJvY2VlZGluZyBzdGF0ZSwgYnV0IEkg
ZG9uJ3Qgc2VlIGFueSBpbXBvcnRhbnQgcmVhc29uIGZvciB0aGlzIGNoYW5nZS4gSSBoYXZlIGZv
dW5kIG91dCBvbmx5IHRoZXNlIChqdXN0IGltcHJvdmluZykgbWlub3IgcmVhc29uczoNCg0KMSkg
aWYgdGhlIFRVIHJlY2VpdmVzIHRyYW5zcG9ydCBlcnJvciBub3RpZmljYXRpb24sIGFuZCB0aGUg
VFUgc3VjY2Vzc2Z1bGx5IGluaXRpYXRlIHJlcGFpciBvZiB0cmFuc3BvcnQgbGF5ZXIsIGhvdyB0
aGUgVFUgbWF5IHNlbmQgYSByZXNwb25zZSB3aGVuIHRoZSB0cmFuc2FjdGlvbiBsYXllciBpcyBp
biB0aGUgVGVybWluYXRlZCBzdGF0ZT8gTm90ZSB0aGVyZSBpcyBubyBzdXJlIHRoYXQgcmV0cmFu
c21pc3Npb24ocykgb2YgSU5WIHJlcXVlc3Qgd2lsbCBoYXBwZW4gKGVzcGVjaWFsbHkgaW4gY2Fz
ZSB3aGVuIGEgMXh4IHJlc3BvbnNlIGhhcyBiZWVuIGFscmVhZHkgc3VjY2Vzc2Z1bGx5IHJlY2Vp
dmVkIGJ5IGEgVUFDIGFuZCB0aGVyZSBpcyBubyBOQVQgYmV0d2VlbiBVQUMgYW5kIFVBUykuDQoN
CjIpIEkgYW0gbm90IHN1cmUgKGl0IGlzIG5vdCBjbGVhcmx5IHNwZWNpZmllZCkgd2hvICh0cmFu
c2FjdGlvbiBsYXllciBvciBUVSkgYmVoYXZlcyBhY2NvcmRpbmcgdG8gUkZDIDMyNjMsIHNlY3Rp
b24gNSwgcGFnZSAxMiwgcGFyYWdyYXBoIDEuIElmIHRoaXMgaXMgdGhlIGpvYiBvZiBUVSwgYW5k
IGEgdHJhbnNwb3J0IGVycm9yIGhhcHBlbnMsIGFuZCB0aGUgdHJhbnNhY3Rpb24gbGF5ZXIgaXMg
ZGVzdHJveWVkLCBob3cgdGhlIFRVIGNhbiBzZW5kIGEgcmVzcG9uc2UgdG8gYSBuZXcgSVA6cG9y
dCBwYWlyPw0KDQpLb2xvbWF6DQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBS
b2JlcnQgU3BhcmtzIFttYWlsdG86cmpzcGFya3NAbm9zdHJ1bS5jb21dIA0KU2VudDogOC4gesOh
xZnDrSAyMDA4IDIyOjMxDQpUbzogS29sb21hem5payBKYW4NCkNjOiBTSVBAaWV0Zi5vcmcgTGlz
dA0KU3ViamVjdDogUmU6IFtTaXBdIGRyYWZ0LXNwYXJrcy1zaXAtaW52Zml4LTAyICh3YXMgUmU6
ZHJhZnQtc3BhcmtzLXNpcC1pbnZmaXgtMDE6IGNvbW1lbnRzIGFuZCBxdWVzdGlvbnMpDQoNCklu
bGluZS4NCg0KDQpPbiBTZXAgOCwgMjAwOCwgYXQgMzowNSBBTSwgS29sb21hem5payBKYW4gd3Jv
dGU6DQoNCj4gT0ssIGJ1dCBpZiB3ZSB3YW50IHRvIHJlY2VpdmUgYW5kIG1hc2sgYWxsIHJlcXVl
c3QgcmV0cmFuc21pc3Npb25zICANCj4gb24gdHJhbnNhY3Rpb24gbGF5ZXIsIHRoaXMgcHJvYmxl
bSBpcyBtb3JlIGdlbmVyYWwuIFRoYW4gd2UgcHJvYmFibHkgIA0KPiBuZWVkIHRvIGluZm9ybSBU
VSBhYm91dCB0cmFuc3BvcnQgZXJyb3INCnRoZSBuZXh0IHZlcnNpb24gb2YgdGhlIGRyYWZ0ICho
b3BlZnVsbHkgb3V0IGxhdGVyIHRvZGF5KSB3aWxsIGRvIHRoaXMuDQo+ICwgY3JlYXRlIGEgbmV3
IHN0YXRlLA0KSSBkb24ndCBzZWUgdGhlIG5lZWQgZm8gcnRoaXMNCg0KPiBhbmQgc3RheSB0aGVy
ZSBlbm91Z2ggdGltZSB0byBhYnNvcmIgYWxsIHJldHJhbnNtaXNzaW9ucyBvZiBJTlZJVEUgIA0K
PiByZXF1ZXN0Lg0KVGhlIGV4aXN0aW5nIEFjY2VwdGVkIHN0YXRlIGRvZXMgdGhpcy4NCg0KPiAg
QW5kIHRoaXMgaXMgbmVlZGVkIGZvciB0cmFuc3BvcnQgZXJyb3IgcmVhY3Rpb24gbm90IG9ubHkg
aW4gIA0KPiBBY2NlcHRlZCBzdGF0ZSwgYnV0IGFsc28gZm9yIHRyYW5zcG9ydCBlcnJvciBpbiBQ
cm9jZWVkaW5nIGFuZCAgDQo+IENvbXBsZXRlZCBzdGF0ZXMuDQpUaG9zZSBzdGF0ZXMgYWxyZWFk
eSB0cmFuc2l0aW9uIHRvIFRlcm1pbmF0ZWQgb24gdHJhbnNwb3J0IGVycm9yIC0gIA0KKHRoZXkg
ZGlkIHNvIGluIDMyNjEpLg0KDQpJIHRoaW5rIEkgc2VlIHdoYXQgeW91J3JlIGdldHRpbmcgYXQg
b24ga2VlcGluZyBzdGF0ZSBhZnRlciB0aGlzICANCnRyYW5zcG9ydCBlcnJvciBpcyBub3RpY2Vk
IHRob3VnaCAtIEkgZG9uJ3Qga25vdyBhYm91dCBQcm9jZWVkaW5nLCBidXQgIA0KaWYgeW91J3Jl
IGluIENvbXBsZXRlZCwgdGhyb3dpbmcgYXdheSB0aGUgc3RhdGUgd2hlbiB5b3UgdHJ5IHRvIHNl
bmQgIA0KeW91ciBmaW5hbCByZXNwb25zZSBhbmQgdGhlIHRyYW5zcG9ydCBjb21wbGFpbnMgbWF5
IG5vdCBiZSB0aGUgcmlnaHQgIA0KdGhpbmcgdG8gZG8uIExldCBtZSBwb2tlIGF0IHRoYXQgZm9y
IGEgbGl0dGxlIHdoaWxlLg0KDQo+IFRoZXJlIGFsc28gbWF5IGJlIGEgcXVlc3Rpb24gd2hldGhl
ciB0byBpbmZvcm0gVFUgYWJvdXQgdHJhbnNwb3J0ICANCj4gZXJyb3IgaW4gUHJvY2VlZGluZyBh
bmQgQ29tcGxldGVkIHN0YXRlcyB3aGlsZSB0aGVyZSBpcyBwcm9iYWJseSBubyAgDQo+IHN0YXRl
IG9mIFRVIGluIHRoZXNlIHN0YXRlcyBvZiB0cmFuc2FjdGlvbiBsYXllci4NCg0KVGhhdCBUVSBo
YXMgZGVjaWRlZCB0byBzZW5kIGEgcHJvdmlzaW9uYWwgb3IgZmFpbHVyZS1maW5hbCByZXNwb25z
ZSBpbiAgDQp0aG9zZSBjYXNlcy4gVGhlcmUncyBhIGNoYW5jZSB0aGVyZSBpcyBhcHBsaWNhdGlv
biBzdGF0ZSBiZWluZyAgDQptYWludGFpbmVkIGFzIGEgcmVzdWx0IChvciBwcmVjb25kaXRpb24p
IHRvIHRob3NlIGRlY2lzaW9ucywgc28gIA0KbGV0dGluZyB0aGUgVFUga25vdyBpcyBpbXBvcnRh
bnQuIEFnYWluLCB0aGlzIHdhcyAzMjYxIGJlaGF2aW9yIGFscmVhZHkuDQoNCj4NCj4NCj4gUGxl
YXNlIG5vdGUgdGhhdCBpZiB3ZSBhY2NlcHQgdGhhdCB0aGUgU0lQIHRyYW5zYWN0aW9uIGxheWVy
IGhhcyB0byAgDQo+IHJlY2VpdmUgYW5kIG1hc2sgYWxsIHJlcXVlc3QgcmV0cmFuc21pc3Npb25z
IHdoZW4gaXQgZGV0ZWN0cyBhICANCj4gdHJhbnNwb3J0IGVycm9yLCB0aGVuIGFsc28gbm9uLUlO
VklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gc2hvdWxkIGJlICANCj4gY2hhbmdlZCAtIHJlYWN0aW9u
IHRvIHRyYW5zcG9ydCBlcnJvciBpbiBQcm9jZWVkaW5nIGFuZCBDb21wbGV0ZWQgIA0KPiBzdGF0
ZXMuDQpXaWxsIGxvb2suDQoNCkl0cyBwcm9iYWJseSB3b3J0aCBwdWxsaW5nIHVwIGFuZCBhc2tp
bmcgaWYgdHJ5aW5nIHRvIGFkZHJlc3MgdGhpcyAgDQpraW5kIG9mIGVkZ2UtY29uZGl0aW9uIGZh
aWx1cmUgaXMgd29ydGggdGhlIGVmZm9ydC4NClRoZSBjaGFuZ2VzIHdlJ3JlIHRhbGtpbmcgYWJv
dXQgaGVyZSB3b24ndCBtYWtlIHNvbWV0aGluZyBzdWNjZWVkICANCmxhdGVyIC0gaXRzIG5vdCBn
b2luZyB0byBoZWxwIHRoZSBuZXR3b3JrIG9yIGFwcGxpY2F0aW9uIHJlcGFpci8gDQpyZWNvdmVy
IGZyb20gd2hhdGV2ZXIgdHJhbnNwb3J0IGVycm9yIGlzIGJlaW5nIHJlcG9ydGVkLiBXaGF0IGl0
IHdpbGwgIA0KZG8gaXMgaGVscCBwcmV2ZW50IGFuIGFwcGxpY2F0aW9uIGZyb20gcmUtcGVyZm9y
bWluZyBzb21lIHdvcmsgYmFzZWQgIA0Kb24gYSByZXRyYW5zbWlzc2lvbiAocG9zc2libHkgY2F1
c2luZyBkaWZmZXJlbnQgcmVzdWx0aW5nIGVuZC1zdGF0ZXMpLiAgDQpUaGF0IG1pZ2h0IGJlIGVu
b3VnaCBqdXN0aWZpY2F0aW9uIG9uIGl0cyBvd24sIGJ1dCBpdHMgd29ydGggYXNraW5nIGlmICAN
CnRoaXMgaXMgcmVhbGx5IGEgYmlnIGVub3VnaCBwcm9ibGVtIHRvIHRha2Ugb24gdGhlIGZpeD8N
Cg0KPg0KPg0KPiBLb2xvbWF6DQo+DQo+DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+
IEZyb206IFJvYmVydCBTcGFya3MgW21haWx0bzpyanNwYXJrc0Bub3N0cnVtLmNvbV0NCj4gU2Vu
dDogNS4gesOhxZnDrSAyMDA4IDIyOjE3DQo+IFRvOiBLb2xvbWF6bmlrIEphbg0KPiBDYzogU0lQ
QGlldGYub3JnIExpc3QNCj4gU3ViamVjdDogUmU6IFtTaXBdIGRyYWZ0LXNwYXJrcy1zaXAtaW52
Zml4LTAyICh3YXMgUmU6ZHJhZnQtc3BhcmtzLSANCj4gc2lwLWludmZpeC0wMTogY29tbWVudHMg
YW5kIHF1ZXN0aW9ucykNCj4NCj4gTml0cyBmaXhlZC4NCj4NCj4gRm9yIHlvdXIgc3VnZ2VzdGlv
biA0IGJlbG93Og0KPg0KPiBJdCB3b3VsZCBub3QgYmUgdGhlIHJpZ2h0IHRoaW5nIHRvIHRyYW5z
aXRpb24gdG8gVGVybWluYXRlZCAtIHdlIHdhbnQNCj4gdGhlIHRyYW5zYWN0aW9uIHN0YXRlIHRv
IHN0aWxsIGJlIGFyb3VuZCB0byByZWNlaXZlIGFueQ0KPiByZXRyYW5zbWlzc2lvbnMgb2YgdGhl
IElOVklURSwgYnV0IGl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gdGVsbCB0aGUgVFUNCj4gdGhhdCBp
dHMgMnh4J3MgYXJlbid0IGdvaW5nIGFueXdoZXJlLiBJJ2xsIHdvcmsgdGhhdCBpbnRvIHRoZSBm
aWd1cmUNCj4gYW5kIHRleHQgdW5sZXNzIHNvbWVvbmUgb2JqZWN0cyBoZXJlIHF1aWNrbHkuDQo+
DQo+IFJqUw0KPg0KPiBPbiBKdWwgMjMsIDIwMDgsIGF0IDEwOjI3IEFNLCBLb2xvbWF6bmlrIEph
biB3cm90ZToNCj4NCj4+IEkgaGF2ZSBqdXN0IGEgY291cGxlIG9mIG5pdHM6DQo+Pg0KPj4gMS4g
U3RhdGUgbGFiZWxlZCBDb21wbGV0ZWQgb24gRmlndXJlIDIgc2hvdWxkIGJlIGxhYmVsZWQgQWNj
ZXB0ZWQNCj4+DQo+PiAyLiBzZWN0aW9uIDcuMyBwYXJhZ3JhcGggMSBjb250YWlucyAiLi4uIHJl
Y2VpdmluZyBhbnkgcmVzcG9uc2UgU0lQDQo+PiByZXNwb25zZSAuLi4iDQo+Pg0KPj4gMy4gV2hp
bGUgd2hvbGUgc2VjdGlvbiAxOCBpbiBSRkMgMzI2MSBkZWFscyB3aXRoIFNJUCB0cmFuc3BvcnQg
bGF5ZXINCj4+IHJlZ2FyZGxlc3MgdHJhbnNhY3Rpb24gc3RhdGVmdWwgb3Igc3RhdGVsZXNzIGJl
aGF2aW9yLCBpdCBjb3VsZCBiZQ0KPj4gZXhwbGljaXRseSBjbGFyaWZpZWQgdGhhdCBzdWdnZXN0
ZWQgY2hhbmdlIG9mIHNlY3Rpb24gMTguMS4yIChpbg0KPj4gaW52Zml4DQo+PiBzZWN0aW9uIDgu
OCkgdGVsbHMganVzdCBhYm91dCBzdGF0ZWZ1bCBiZWhhdmlvci4NCj4+DQo+PiA0LiBJTlZJVEUg
c2VydmVyIHN0YXRlIG1hY2hpbmUgZG9lc24ndCByZWFjdCB0byB0cmFuc3BvcnQgZXJyb3IgaW4N
Cj4+IEFjY2VwdGVkIHN0YXRlLiBJdCBjb3VsZCBjb250YWluIHRyYW5zaXRpb24gZnJvbSBBY2Nl
cHRlZCB0bw0KPj4gVGVybWluYXRlZA0KPj4gc3RhdGUgY29uZGl0aW9uZWQgYnkgdHJhbnNwb3J0
IGVycm9yIC0gYW5hbG9neSB0byB0cmFuc2l0aW9ucyBmcm9tDQo+PiBQcm9jZWVkaW5nIGFuZCBD
b21wbGV0ZWQgc3RhdGVzLg0KPj4NCj4+IEphbg0KPj4NCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5nIGxpc3QgIGh0dHBzOi8vd3d3Lmll
dGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlzdCBpcyBmb3IgTkVXIGRldmVsb3Bt
ZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lwLWltcGxlbWVudG9yc0Bjcy5jb2x1
bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNpcApVc2Ugc2lwcGluZ0BpZXRmLm9y
ZyBmb3IgbmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGljYXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Thu Sep 11 08:46:36 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4BF5228C10A;
	Thu, 11 Sep 2008 08:46:36 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6EE7B28C10A
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 08:46:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.908
X-Spam-Level: 
X-Spam-Status: No, score=-6.908 tagged_above=-999 required=5 tests=[AWL=0.491, 
	BAYES_00=-2.599, GB_I_INVITATION=-2, J_CHICKENPOX_71=0.6,
	J_CHICKENPOX_91=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mVvjsjbbjAy6 for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 08:46:31 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 5111C28C0E8
	for <sip@ietf.org>; Thu, 11 Sep 2008 08:46:31 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,381,1217808000"; d="scan'208";a="20531181"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 11 Sep 2008 15:46:18 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8BFkIgJ030782; 
	Thu, 11 Sep 2008 11:46:18 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8BFkIjp021493;
	Thu, 11 Sep 2008 15:46:18 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 11 Sep 2008 11:46:18 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 11 Sep 2008 11:46:18 -0400
Message-ID: <48C93D49.6050704@cisco.com>
Date: Thu, 11 Sep 2008 11:46:17 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Vineet Gupta <gupta.vineet@gmail.com>
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>	
	<48C69F7B.7040307@cisco.com>	
	<98abe9690809100256m79c695e2oa44172ffee47565a@mail.gmail.com>	
	<48C8063D.5070901@cisco.com>	
	<3AB996B0-A3A9-47A4-A881-65AC1160E00B@nostrum.com>	
	<48C815BB.3050002@cisco.com>	
	<BE5AA2BC-454A-44D8-9E11-D1D4AFC9D9C6@nostrum.com>
	<98abe9690809101353n41b8fb01j89f8e5c3568b81b3@mail.gmail.com>
In-Reply-To: <98abe9690809101353n41b8fb01j89f8e5c3568b81b3@mail.gmail.com>
X-OriginalArrivalTime: 11 Sep 2008 15:46:18.0366 (UTC)
	FILETIME=[87EE59E0:01C91425]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=17323; t=1221147978;
	x=1222011978; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Doubt=20related=20to=20use=20of
	=20Supported=20and=20Require=20header. |Sender:=20
	|To:=20Vineet=20Gupta=20<gupta.vineet@gmail.com>;
	bh=cD3nDl0tVmmsxHAa+4rLvre+0RYG3HyNzrKl3YDcy8w=;
	b=DRLz72sjQXoC7sE+mHVMVEof3djD6fzMaY7OM5CaqdkNv1FyC2G9TXE6s0
	L1emR4ZLZ8YKD/O0okq5Hmfgcwtdx+2MMOV63B/iICnezMWvv5FxojUM5k+S
	vofOoDiZD2;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Inline.

	Thanks,
	Paul

Vineet Gupta wrote:
> Hi Robert/Paul,
>  
> Thanks for detailed analysis of scope of Require/Supported header as 
> well as their interpretation. I again agree with all the points mentioned.
>  
> I would like to point out another scenario for the Supported header in 
> the re-INVITE scenario. This case applies to a session which has been 
> established with both 100rel and precondition as the required 
> extensions. Now, when one peer wants to start the re-INVITE negotiation, 
> he is not absolutely sure whether to start the re-INVITE with:
>  
> a) Both the 100rel and precondition again in the Require extensions, as 
> the other peer might need QoS establishment and need a confirmation from 
> the user before accepting the video invitation.
>  
> b) No Required options, as the peer might not be able to support it, or 
> because the re-INVITE might not neccesarily involve QoS establishment or 
> user intervention.
>  
> One option is that he can do try sending request with with scenario a)  
> and then recieving 421 response (bad extension) on which he knows he can 
> only send re-INVITE request without any extensions.
>  
> The other option is to use only Supported extensions in re-INVITE 
> request depending again the capability of peer, and then leave it upto 
> the UAS of the re-INVITE request to chose the extensions it wants to use 
> for the re-INVITE.

Well, it seems that if you require preconditions then you also must 
require 100rel. So lets concentrate on the preconditions option.

3312 says:

    An offerer MUST include this tag in the
    Require header field if the offer contains one or more "mandatory"
    strength-tags.  If all the strength-tags in the description are
    "optional" or "none", the offerer MUST include this tag in either a
    Supported header field or in a Require header field.

So, on the reinvite the first decision is whether to use mandatory 
strength-tags. If there is a need to do so, then just Require the 
options and deal with the consequences if the request is rejected.

If not, I think you just put the options in Supported, include your 
preconditions, and see what happens.

> I guess this would help out SIP implementations interop with UAs having 
> different interpretations of scope of Required extensions in use-cases 
> where the scope is not self evident (because even though the 
> transaction-wise scope of extensions is agreed to, in many cases its 
> scope is being derived on the basis of the use-case).

I just looked to refresh my memory, and I find nothing in 3262 or 3312 
that implies the scope of these options extends beyond the INVITE 
transaction in which they are used.

This does present an obscure problem: suppose you choose to revise your 
session by sending an offer in an UPDATE rather than a reinvite, and you 
also use preconditions, and perhaps even Require support for them in the 
UPDATE. Even though it will take another UPDATE to complete the 
precondition negotiation there is no guarantee that preconditions will 
be supported in a subsequent UPDATE. But this seems to fall into the 
category of "silly" behavior. If you allow an o/a with preconditions to 
begin, there must be an implied contract to continue to allow 
preconditions to be used to reach resolution. I suppose it would be good 
if some future revision to 3312 mentioned this explicitly.

> Regards,
> Vineet.
> 
> 
>  
> On Thu, Sep 11, 2008 at 12:36 AM, Robert Sparks <rjsparks@nostrum.com 
> <mailto:rjsparks@nostrum.com>> wrote:
> 
> 
>     On Sep 10, 2008, at 1:45 PM, Paul Kyzivat wrote:
> 
>         Robert,
> 
>         Thank you for this clarification. It is, AFAIK, consistent with
>         observed practice. But I have not seen this level of detail
>         written down anywhere before.
> 
>         Paraphrasing you, I guess the primary guarantee is that if you
>         put Supported:X in a request, then you must be prepared to have
>         X used in the response and/or to have a Require:X in the
>         response. And if a Require:X is: in a request and not rejected
>         by the response, or in a response following a Supported:X in the
>         request, then that establishes an option-specific contract whose
>         scope is defined by the option.
> 
>         Conversely a Supported:X in a response, or in a request and then
>         not sealed with a Require:X in a response, establishes no
>         contract and so no guarantees of any sort.
> 
>         But what about OPTIONS?  3261 says:
> 
>          The SIP method OPTIONS allows a UA to query another UA or a proxy
>          server as to its capabilities.  This allows a client to discover
>          information about the supported methods, content types, extensions,
>          codecs, etc. without "ringing" the other party.  For example,
>         before
>          a client inserts a Require header field into an INVITE listing an
>          option that it is not certain the destination UAS supports, the
>          client can query the destination UAS with an OPTIONS to see if this
>          option is returned in a Supported header field.  All UAs MUST
>         support
>          the OPTIONS method.
> 
>          ...
> 
>          Allow, Accept, Accept-Encoding, Accept-Language, and Supported
>         header
>          fields SHOULD be present in a 200 (OK) response to an OPTIONS
>          request.
> 
>         It would seem that this is just a "best effort" thing, and that
>         there are no guarantees. Or perhaps an option should only be
>         listed in Supported of an OPTIONS response if it is *always*
>         supported.
> 
> 
>     So this use of OPTIONS is something that isn't well implemented (at
>     least not completely - there are several implementation that look
>     for REFER to decide if they'll offer transfer).
> 
>     My read of the specs here is that you put stuff in OPTIONS that you
>     would be able to use/support if it made sense in the context at the
>     time. It's not a promise that you'll agree to use/support it at any
>     particular point in time, but an indication that its possible you
>     will. The utility is in providing a negative : "Don't bother trying
>     to do this-strange-thing with me, because I can never do that"
> 
> 
> 
> 
>                Thanks,
>                Paul
> 
>         Robert Sparks wrote:
> 
>             lots inline.
>             On Sep 10, 2008, at 12:39 PM, Paul Kyzivat wrote:
> 
>                 [Copying Robert in hopes there is some SIPit experience
>                 on this]
> 
>                 Comments inline.
> 
>                   Thanks,
>                   Paul
> 
>                 Vineet Gupta wrote:
> 
>                     Hi Paul/All,
>                     I totally agree with the points mentioned in your
>                     email. However, I still have doubts whether most
>                     implementations follow this approach or not.
>                      *Firstly,* I share the same feeling with you with
>                     respect to presence of the Supported header in the
>                     request. The Require and Supported should not have
>                     common options in a request. Also, Supported in
>                     request is required if UAC wants to be generous
>                     enough to allow UAS to enforce an option, it itself
>                     does not require.
>                     However, I was slightly confused by the following
>                     statement in RFC3261 with respect to the Supported
>                     header (Section 20.37 , [Page 178]):
>                     /"The Supported header field enumerates all the
>                     extensions supported by the UAC or UAS"/.
> 
> 
>                 Yeah, it says that. Its also hopelessly naive. Sometimes
>                 options are supported in one context, and not in
>                 another. There is no way to express that. Some examples:
> 
>                 - An option may be supported for one method but not another.
> 
>                 - A B2BUA may only support an option if the device on
>                 the other
>                 side also supports it. The device on the other side can
>                 change
>                 over time.
> 
>                     *So, for inter-operatablity reasons, should all the
>                     application have same options in Require and
>                     Supported header or not?*
> 
> 
>                 I think, *when you can*, you should list all the options
>                 you support all the time.
> 
>             I think we can make this clear. I'm not sure I agree that
>             the specs are that far away from clear on this - I have not
>             seen any real issues with Supported/Require support at
>             SIPits. Here's how I read the text and what I see implemented:
>             * The mechanics of Supported and Require operate at a
>             transaction level. The semantics of any given extension can
>             _use_ those mechanics differently. It's perfectly reasonable
>             for one extension to have a semantic that is scoped entirely
>             to one transaction, and for another extension to have a
>             semantic that spans several transactions (maybe grouped
>             together in a dialog, maybe not). The requirements of each
>             particular extension will constrain the behavior of the
>             endpoints to do the right thing with placing the tokens in
>             the right fields in the right messages.
>             *What you place in a Supported header are extensions you are
>             willing to use in the context of this transaction. The
>             contract you are entering into is that you are willing to
>             start doing the things the token you put in this header
>             implies if the other side decides to require it. There is
>             nothing that prevents you, in general, from deciding to not
>             offer support for something that you've offered support for
>             before. (But an extension may constrain you here once you or
>             your peer has required it)
>             * What you place in a Required header are extensions that
>             you are actively _using_ in the context of this transaction
>             and that things will go wrong if the other side doesn't know
>             it needs to do what the extension requires it to do.
> 
> 
> 
>                     *Secondly, *I had discussed the scope of options
>                     mentioned in Require/Supported header, in an earlier
>                     debate regarding this (whether it applies to a
>                     transaction/dialog) in this mailing list long back.
>                     As per my understanding, from RFC3261 the scope of
>                     Require/Supported header seems to be a transaction
>                     only. If we go by this assumption, once session in
>                     established using 100rel and precondition (as per
>                     3gpp call-flow), a re-INVITE request can be sent
>                     without both these options (if for example the UAC
>                     realizes that no QoS establishment would be required).
> 
> 
>                     However, I got a feeling that most of the
>                     implementions go by the assumption that
>                     Require/Supported extension apply through out the
>                     dialog.
> 
> 
>                 This is an area that needs some clarification. Some
>                 people think the scope of Supported/Require is a
>                 transaction, some a dialog, some for as long as not
>                 changed, ... There is no great clarity on this in the
>                 specs. Its more a matter of observation based on what
>                 behavior is called for in various specs defining options.
> 
>             See above.
> 
> 
> 
>                     Can you let me know in your opinion, what is the
>                     general consensus on this. *Are most SIP
>                     implementations prepared to handle change in
>                     Require/Supported options in re-INVITE request (They
>                     ofcourse can still reject such a re-INVITE by
>                     sending 420 Bad Extension/421 Extension Required)?*
> 
> 
>                 I don't have data on this. Maybe there is some from SIPit.
> 
>             I have seen changes like this successfully exercised at
>             SIPits. The whole answer is wrapped into the endpoints
>             behaving _per extension_ in the way the extension tells them
>             to behave. If there's really a problem here, its in the
>             individual extensions if that behavior is not clear. Can you
>             point to a particular extension where that's the case?
>             100rel was brought up in this thread before. Support 100rel
>             extension itself can come or go as the requestor sees fit
>             for any given transaction. 3262 is pretty clear on that. Now
>             some other extension _using_ 100rel might place more
>             restrictions on endpoint behavior, and the documentation of
>             those requirements has to live with that other extension.
> 
> 
> 
>                 Note: this isn't really just about Require/Supported.
>                 There are other headers with similar issues:
> 
>                 Accept, Accept_Encoding, Accept-Language, Allow
> 
>             Agreed, but again, I've not seen anything break at a SIPit
>             yet because these things change between transactions in a
>             given dialog (though that's not particularly common).
> 
> 
> 
>                   Thanks,
>                   Paul
> 
>                     Regards,
>                     Vineet.
>                     On Tue, Sep 9, 2008 at 9:38 PM, Paul Kyzivat
>                     <pkyzivat@cisco.com <mailto:pkyzivat@cisco.com>
>                     <mailto:pkyzivat@cisco.com
>                     <mailto:pkyzivat@cisco.com>>> wrote:
>                      Vineet Gupta wrote:
>                          Hi,
>                           I have a small doubt related to use of
>                     Supported and Require
>                          header. While from RFC 3261 it is clear the
>                     Require header is
>                          used by the UAC and UAS to enforce the
>                     extension implemention
>                          for a particular session, while the Supported
>                     header is mostly
>                          used by UAC to express the extensions which can
>                     be enforced by
>                          UAS through the Require header.
>                           My doubt is that, is it *mandatary that every
>                     extension that is
>                          present in Require header must be present in
>                     Supported header
>                          *in the request? According to me,
>                     presence/absence of Required
>                          extensions in Supported header does not make
>                     any impact on UAS
>                          handling.  *Even if it is not mandatory, what
>                     is the preferred
>                          approach?*
>                      This is pretty loosely defined.
>                      For one thing, Require doesn't necessarily apply to
>                     a "particular
>                      session". The most that can be said with certainty
>                     is that is
>                      applies to a transaction. Often it applies longer,
>                     but how long
>                      isn't well defined.
>                      Second, there is some asymmetry in
>                     Supported/Require, but this
>                      varies based on the option. Require from a UAC
>                     states what it
>                      requires of the UAS, but doesn't necessarily imply
>                     that a Require
>                      for the same option, coming the other way, would be
>                     supported.
>                      Also, Supported and Require are often used together
>                     to do a negotiation:
>                      Supported in a request is paired with Require of
>                     the same option in
>                      the response to negotiate its use.
>                      In most cases there is no requirement to include
>                     Supported in
>                      requests. The main place it is essential is in a
>                     420 response.
>                             Thanks,
>                             Paul
> 
> 
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 11 11:01:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 725BF3A6A2B;
	Thu, 11 Sep 2008 11:01:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AA46F3A6A2B
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 11:01:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.395
X-Spam-Level: 
X-Spam-Status: No, score=-2.395 tagged_above=-999 required=5
	tests=[AWL=-0.095, BAYES_00=-2.599, MIME_8BIT_HEADER=0.3,
	SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3VCzLfcPaei8 for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 11:01:03 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 5FD1728C0D8
	for <sip@ietf.org>; Thu, 11 Sep 2008 11:01:03 -0700 (PDT)
Received: from [172.16.3.232] (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8BI14xu063266
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Thu, 11 Sep 2008 13:01:05 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <8B0E1478-1B37-45CB-ABE7-7AA62CBEDE12@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: =?ISO-8859-1?Q?I=F1aki_Baz_Castillo?= <ibc@aliax.net>
In-Reply-To: <200809111337.43530.ibc@aliax.net>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Thu, 11 Sep 2008 13:01:04 -0500
References: <200809111337.43530.ibc@aliax.net>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.93.3/8219/Thu Sep 11 10:02:39 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: sip@ietf.org
Subject: Re: [Sip] Possible bug in REGISTER 200-OK Contact specification
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

To summarize:

The problem text in how to construct a response to a register request is
"MAY contain a Contact header field with zero or more values"
where the right thing to do if there are no registered bindings is  =

return
no Contact header field at all.

I agree that we can clarify this (but will note that I have not seen  =

any interoperability problems cause by this to date).

A link to the post below is captured in the bug database at
http://bugs.sipit.net/show_bug.cgi?id=3D775

RjS

On Sep 11, 2008, at 6:37 AM, I=F1aki Baz Castillo wrote:

> Hi, as discussed in sip-es[1] and sip-implementors[2] maillists it  =

> seems that
> specification for "Contact" header in a REGISTER 200-OK in RFC 3261  =

> has a
> bug:
>
>
> First of all, Contact header cannot be empty due to BNF syntax:
> ------------------
> Contact  =3D   ( "Contact" / "m" ) HCOLON
>                    ( STAR / (contact-param *(COMMA contact-param)))
> contact-param  =3D  (name-addr / addr-spec) *( SEMI contact-params)
> -----------------
>
>
> But RFC 3261 says:
> ---------------------
> 10.2 Constructing the REGISTER Request
>
>   Contact: REGISTER requests MAY contain a Contact header field with
>           zero or more values containing address bindings.
> --------------------
>
> (but a "Contact" header with no value is illegal as explained above).
>
>
> Also there is some confusion in sections 10.2.3 and 10.3:
> -----------------------
> 10.2.3 Fetching Bindings
>
>   A success response to any REGISTER request contains the complete  =

> list
>   of existing bindings, regardless of whether the request contained a
>   Contact header field.  If no Contact header field is present in a
>   REGISTER request, the list of bindings is left unchanged.
>
> 10.3 Processing REGISTER Requests
>
>  The registrar returns a 200 (OK) response.  The response MUST contain
>  Contact header field values enumerating all current bindings.
> -----------------------
>
> What about if there are not registered bindings for the requested  =

> AoR? Should
> the registrar return a 200 OK with no Contact header? or a 200 OK  =

> with an
> empty Contact header? The second option is illegal due to BNF syntax  =

> as
> explained above.
>
>
> So we see two possible solutions for this:
>
>
> 1) Change Contact BNF syntax and allow empty value:
>
> - Current syntax:
> ------------------
> Contact  =3D   ( "Contact" / "m" ) HCOLON
>                    ( STAR / (contact-param *(COMMA contact-param)))
> -----------------
>
> - Proposed syntax:
> ------------------
> Contact  =3D   ( "Contact" / "m" ) HCOLON
>                    [ ( STAR / (contact-param *(COMMA contact- =

> param))) ]
> -----------------
>
>
>
> 2) Modify some text in RFC 3261:
>
> 10.2 Constructing the REGISTER Request:
>
> - Current text:
> ---------------------
>   Contact: REGISTER requests MAY contain a Contact header field with
>           zero or more values containing address bindings.
> --------------------
>
> - Proposed text:
> ---------------------
>   Contact: REGISTER requests MAY contain a Contact header field with
>           one or more values containing address bindings.
> --------------------
>
>
> 10.2.3 Fetching Bindings:
>
> - Current text:
> ---------------------
>   A success response to any REGISTER request contains the complete  =

> list
>   of existing bindings, regardless of whether the request contained a
>   Contact header field.  If no Contact header field is present in a
>   REGISTER request, the list of bindings is left unchanged.
> ---------------------
>
> - Proposed text:
> ---------------------
>   A success response to any REGISTER request contains the complete  =

> list
>   of existing bindings in a Contact header if there is at least
>   one binding, regardless of whether the request contained a
>   Contact header field.  If no Contact header field is present in a
>   REGISTER request, the list of bindings is left unchanged.
> ---------------------
>
>
> 10.3 Processing REGISTER Requests:
>
> - Current text:
> ---------------------
>  The registrar returns a 200 (OK) response.  The response MUST contain
>  Contact header field values enumerating all current bindings.
> -----------------------
>
> - Proposed text:
> ---------------------
>  The registrar returns a 200 (OK) response.  The response MUST contain
>  Contact header field values enumerating all current bindings in  =

> case there
>  is at least one binding. If there is no binding the response MUST NOT
>  contain a Contact header field.
> -----------------------
>
>
> Personally I prefer solution 2 since changing the BNF for Contact  =

> will leave
> that header as the only header containing URI(s) allowing no value.
>
>
>
> Opinions? Thanks a lot.
>
>
>
> History-Info:
> [2]
> https://lists.cs.columbia.edu/pipermail/sip-implementors/2008-September/0=
20311.html
> [1]
> http://groups.google.com/group/sip-es/browse_thread/thread/751255791e36bc=
05
>
>
>
> -- =

> I=F1aki Baz Castillo
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 11 13:15:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6049A28C290;
	Thu, 11 Sep 2008 13:15:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 51F9928C2AD
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 13:15:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kiczda8UrjN3 for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 13:15:52 -0700 (PDT)
Received: from ik-out-1112.google.com (ik-out-1112.google.com [66.249.90.179])
	by core3.amsl.com (Postfix) with ESMTP id 8CA7628C290
	for <sip@ietf.org>; Thu, 11 Sep 2008 13:15:48 -0700 (PDT)
Received: by ik-out-1112.google.com with SMTP id c30so435717ika.5
	for <sip@ietf.org>; Thu, 11 Sep 2008 13:15:50 -0700 (PDT)
Received: by 10.210.120.17 with SMTP id s17mr3865743ebc.85.1221164150067;
	Thu, 11 Sep 2008 13:15:50 -0700 (PDT)
Received: from portatil.local ( [85.58.137.3])
	by mx.google.com with ESMTPS id q9sm9560496gve.5.2008.09.11.13.15.48
	(version=TLSv1/SSLv3 cipher=RC4-MD5);
	Thu, 11 Sep 2008 13:15:49 -0700 (PDT)
From: =?iso-8859-1?q?I=F1aki_Baz_Castillo?= <ibc@aliax.net>
To: sip@ietf.org
Date: Thu, 11 Sep 2008 22:15:48 +0200
User-Agent: KMail/1.9.9
References: <200809111337.43530.ibc@aliax.net>
	<8B0E1478-1B37-45CB-ABE7-7AA62CBEDE12@nostrum.com>
In-Reply-To: <8B0E1478-1B37-45CB-ABE7-7AA62CBEDE12@nostrum.com>
MIME-Version: 1.0
Content-Disposition: inline
Message-Id: <200809112215.48190.ibc@aliax.net>
Subject: Re: [Sip] Possible bug in REGISTER 200-OK Contact specification
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

El Jueves, 11 de Septiembre de 2008, Robert Sparks escribi=F3:
> To summarize:
>
> The problem text in how to construct a response to a register request is
> "MAY contain a Contact header field with zero or more values"
> where the right thing to do if there are no registered bindings is
> return no Contact header field at all.

For me is also annoying the secion 10.3 as Victor pointed:

=A0 The registrar returns a 200 (OK) response. =A0The response MUST contain
=A0 Contact header field values enumerating all current bindings.

At least for me, that MUST forces the existence of a Contact header. Well, =
I =

understand that it could mean "abscence" of Contact header but, will really =

most of the implementors interpret it?


> A link to the post below is captured in the bug database at
> http://bugs.sipit.net/show_bug.cgi?id=3D775

Thanks a lot.

-- =

I=F1aki Baz Castillo
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 11 17:04:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 586803A6BCB;
	Thu, 11 Sep 2008 17:04:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B4EF23A6BC1
	for <sip@core3.amsl.com>; Thu, 11 Sep 2008 17:04:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.232
X-Spam-Level: 
X-Spam-Status: No, score=-2.232 tagged_above=-999 required=5 tests=[AWL=0.067, 
	BAYES_00=-2.599, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5F8U9wsIpHKr for <sip@core3.amsl.com>;
	Thu, 11 Sep 2008 17:04:22 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 2988D3A6803
	for <sip@ietf.org>; Thu, 11 Sep 2008 17:04:00 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8C03xcD009080
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 11 Sep 2008 19:04:01 -0500
Message-Id: <F3439EC2-221D-4EB7-B375-A69D4B748EB3@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: =?ISO-8859-1?Q?I=F1aki_Baz_Castillo?= <ibc@aliax.net>
In-Reply-To: <200809112215.48190.ibc@aliax.net>
Mime-Version: 1.0 (Apple Message framework v928.1)
Date: Thu, 11 Sep 2008 19:03:53 -0500
References: <200809111337.43530.ibc@aliax.net>
	<8B0E1478-1B37-45CB-ABE7-7AA62CBEDE12@nostrum.com>
	<200809112215.48190.ibc@aliax.net>
X-Mailer: Apple Mail (2.928.1)
Cc: sip@ietf.org
Subject: Re: [Sip] Possible bug in REGISTER 200-OK Contact specification
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 11, 2008, at 3:15 PM, I=F1aki Baz Castillo wrote:

>
>   The response MUST contain
>   Contact header field values enumerating all current bindings.

If there are no current bindings, the "if" test of the above language  =

fails and no Contact header is inserted.

One could rewrite more verbosely as:

If there are current bindings then the Contact header field of the  =

response must contain one value for each binding.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Sep 14 05:27:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 42E843A69D4;
	Sun, 14 Sep 2008 05:27:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1603D3A6804
	for <sip@core3.amsl.com>; Sun, 14 Sep 2008 05:26:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.002
X-Spam-Level: 
X-Spam-Status: No, score=0.002 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eyOYtr3cdlXz for <sip@core3.amsl.com>;
	Sun, 14 Sep 2008 05:26:23 -0700 (PDT)
Received: from ey-out-2122.google.com (ey-out-2122.google.com [74.125.78.26])
	by core3.amsl.com (Postfix) with ESMTP id AE5AE3A67AB
	for <sip@ietf.org>; Sun, 14 Sep 2008 05:26:22 -0700 (PDT)
Received: by ey-out-2122.google.com with SMTP id 9so768493eyd.31
	for <sip@ietf.org>; Sun, 14 Sep 2008 05:26:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:mime-version:content-type;
	bh=X+tjmwWoqKO+nIPQ7exgab0cpXpLOG+QaeYLTV0vv/s=;
	b=noJp49dYGVmsniRyYPr3FEu7lOJKvD0CS6M9PnOJyl/Z6ZBLqlBceRfpL/S5GULx1W
	Srr2+GmB8tCpkOUqKIUHxYQgV2dWMb+mFlVaJkgpjNf0oUcTBpZbrG12JiFmYRtD8SI+
	9TdBUKWNwgct/P6+kYxilL/LasHvmO2ZGeumw=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=MhO2mYZXsLFhugDf+khHwqMvxGZTnnRoi+bLhkauHReao/jnNT0oqSzTDSoqzlGGHe
	w6le9RzGDjmJfHziVBvTwfpUwIqA2VapfrIYO91CimapQ6YVFaMRAS/wMTJ/m6E0odS+
	GqNViiY8614ylnLynS6w1dGXr1E+A6hdAWdFc=
Received: by 10.210.133.2 with SMTP id g2mr8355035ebd.68.1221395190762;
	Sun, 14 Sep 2008 05:26:30 -0700 (PDT)
Received: by 10.210.82.4 with HTTP; Sun, 14 Sep 2008 05:26:30 -0700 (PDT)
Message-ID: <abcc59880809140526x4a3ef0a8v97d8923ecf77f0d4@mail.gmail.com>
Date: Sun, 14 Sep 2008 17:56:30 +0530
From: "aayush bhatnagar" <abhatnagar192006@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] 200 OK for PRACK received after 200 ok for INVITE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1700162969=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============1700162969==
Content-Type: multipart/alternative; 
	boundary="----=_Part_170501_373438.1221395190753"

------=_Part_170501_373438.1221395190753
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hello everyone...
I am new to the mailing list..so let me introduce myself first.

I am Aayush from India..working in the IMS domain. I had a doubt, and i
wanted to share this with the experts on the mailing list.

Appreciate your inputs on this....


Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is received
later at the UAC than the 200 OK of the INVITE provided that the UAS had
sent them in proper order..what should be the behavior of the UAC?

In this scenario, the UAS had sent the 200 ok of the PRACK followed by the
200 ok of the INVITE..as it should normally.

At the application level, there is no control on which path the datagrams
shall follow to reach the next SIP hop. If the 200 OK of the INVITE takes a
shorter path to reach the next hop SIP servers on the way to the client and
eventually reaches the client before the 200 ok of the PRACK..it will be
received out of 'order' at the client.

This may be a possibility in large distributed SIP networks. SIP only
provides a way of determining the next SIP serer hops by Route headers..and
a CSeq header to check the proper sequencing of messages. However, it does
not guruantee what network links should be taken by the packets to reach the
next hop. This is in contrast to SS7, where we have such provisions at MTP3
layer.

How will the sip stack at the UAC behave if such a situation occurs? Will it
silently drop the packet? Or will it establish the dialog ? Or should it
tear down the session by sending a BYE?

I believe its an implementation issue at the UAC.

Best Regards
Aayush

------=_Part_170501_373438.1221395190753
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">Hello everyone...<div><br></div><div>I am new to the mailing list..so let me introduce myself first.&nbsp;</div><div><br></div><div>I am Aayush from India..working in the IMS domain. I had a doubt, and i wanted to share this with the experts on the mailing list.&nbsp;</div>
<div><br></div><div>Appreciate your inputs on this....</div><div><br></div><div><div><br></div><div>Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is received later at the UAC than the 200 OK of the INVITE provided that the UAS had sent them in proper order..what should be the behavior of the UAC?</div>
<div><br></div><div>In this scenario, the UAS had sent the 200 ok of the PRACK followed by the 200 ok of the INVITE..as it should normally.</div><div><br></div><div>At the application level, there is no control on which path the datagrams shall follow to reach the next SIP hop. If the 200 OK of the INVITE takes a shorter path to reach the next hop SIP servers on the way to the client and eventually reaches the client before the 200 ok of the PRACK..it will be received out of &#39;order&#39; at the client.&nbsp;</div>
<div><br></div><div>This may be a possibility in large distributed SIP networks. SIP only provides a way of determining the next SIP serer hops by Route headers..and a CSeq header to check the proper sequencing of messages. However, it does not guruantee what network links should be taken by the packets to reach the next hop. This is in contrast to SS7, where we have such provisions at MTP3 layer.&nbsp;</div>
<div><br></div><div>How will the sip stack at the UAC behave if such a situation occurs? Will it silently drop the packet? Or will it establish the dialog ? Or should it tear down the session by sending a BYE?</div><div><br>
</div><div>I believe its an implementation issue at the UAC.</div><div><br></div><div>Best Regards</div><div>Aayush</div><div><br></div><div><br></div></div></div>

------=_Part_170501_373438.1221395190753--

--===============1700162969==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1700162969==--


From sip-bounces@ietf.org  Sun Sep 14 06:14:59 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D9703A69C1;
	Sun, 14 Sep 2008 06:14:59 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 172603A69D4
	for <sip@core3.amsl.com>; Sun, 14 Sep 2008 06:14:58 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.598
X-Spam-Level: 
X-Spam-Status: No, score=-6.598 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id LPTAsqFUmm1g for <sip@core3.amsl.com>;
	Sun, 14 Sep 2008 06:14:51 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 503163A69C1
	for <sip@ietf.org>; Sun, 14 Sep 2008 06:14:50 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,396,1217808000"; d="scan'208,217";a="28249635"
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 14 Sep 2008 13:14:57 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8EDEuw9015548; 
	Sun, 14 Sep 2008 21:14:56 +0800
Received: from xbh-hkg-411.apac.cisco.com (xbh-hkg-411.cisco.com
	[64.104.123.72])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8EDEuDF016518;
	Sun, 14 Sep 2008 13:14:56 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-411.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 14 Sep 2008 21:12:18 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 14 Sep 2008 21:06:11 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF303826BA8@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <abcc59880809140526x4a3ef0a8v97d8923ecf77f0d4@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] 200 OK for PRACK received after 200 ok for INVITE
Thread-Index: AckWZUdYxAQWXJ1lRcOS2ZHgvRXtJwABJBQg
References: <abcc59880809140526x4a3ef0a8v97d8923ecf77f0d4@mail.gmail.com>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "aayush bhatnagar" <abhatnagar192006@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 14 Sep 2008 13:12:18.0733 (UTC)
	FILETIME=[83EB7DD0:01C9166B]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6895; t=1221398097;
	x=1222262097; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20200=20OK=20for=20PRACK=20receiv
	ed=20after=20200=20ok=20for=20INVITE |Sender:=20;
	bh=g1wEcQTvHQOIuiDFNyABX6tC07os8MSgDVSc3CV5ADY=;
	b=JTbJVgLEvbNmVJ+4eqocamsGzZ/JVVHWbOBsd+IK7K/BncrDfRrtvQ2/nt
	rvDBKSwiDSIyi/+kEBXzEoV0HibozG/kekiFFOH20AUYQ+t/JuA59W20b6fu
	/aVg2PHLJm2a00b+rxY/LYYfO6SmRCqGU76LwxsHf9EPQrzcOCqW4=;
Authentication-Results: hkg-dkim-1; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Subject: Re: [Sip] 200 OK for PRACK received after 200 ok for INVITE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1660307468=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1660307468==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C9166A.8BC9B560"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C9166A.8BC9B560
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

IMO, the UAC should ignore the 200(PRACK) after 200(INVITE).
=20
One thing you might be aware,
=20
as per RFC3262,
=20
   if any of the
   unacknowledged reliable provisional responses contained a session
   description. UAS must not send 200(INVITE) until
   those provisional responses are acknowledged.=20
=20
-Rockson

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
aayush bhatnagar
Sent: Sunday, September 14, 2008 8:27 PM
To: sip@ietf.org
Subject: [Sip] 200 OK for PRACK received after 200 ok for INVITE


Hello everyone...=20

I am new to the mailing list..so let me introduce myself first.=20

I am Aayush from India..working in the IMS domain. I had a doubt, and i
wanted to share this with the experts on the mailing list.=20

Appreciate your inputs on this....


Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is
received later at the UAC than the 200 OK of the INVITE provided that
the UAS had sent them in proper order..what should be the behavior of
the UAC?

In this scenario, the UAS had sent the 200 ok of the PRACK followed by
the 200 ok of the INVITE..as it should normally.

At the application level, there is no control on which path the
datagrams shall follow to reach the next SIP hop. If the 200 OK of the
INVITE takes a shorter path to reach the next hop SIP servers on the way
to the client and eventually reaches the client before the 200 ok of the
PRACK..it will be received out of 'order' at the client.=20

This may be a possibility in large distributed SIP networks. SIP only
provides a way of determining the next SIP serer hops by Route
headers..and a CSeq header to check the proper sequencing of messages.
However, it does not guruantee what network links should be taken by the
packets to reach the next hop. This is in contrast to SS7, where we have
such provisions at MTP3 layer.=20

How will the sip stack at the UAC behave if such a situation occurs?
Will it silently drop the packet? Or will it establish the dialog ? Or
should it tear down the session by sending a BYE?

I believe its an implementation issue at the UAC.

Best Regards
Aayush



------_=_NextPart_001_01C9166A.8BC9B560
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>IMO, the UAC should ignore the 200(PRACK) after =

200(INVITE).</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>One thing you might be =
aware,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>as per RFC3262,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>&nbsp;&nbsp; if any of the<BR>&nbsp;&nbsp; =
unacknowledged=20
reliable provisional responses contained a session<BR>&nbsp;&nbsp;=20
description.&nbsp;UAS must not send 200(INVITE) until<BR>&nbsp;&nbsp; =
those=20
provisional responses are acknowledged. </FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>-Rockson</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>aayush=20
bhatnagar<BR><B>Sent:</B> Sunday, September 14, 2008 8:27 =
PM<BR><B>To:</B>=20
sip@ietf.org<BR><B>Subject:</B> [Sip] 200 OK for PRACK received after =
200 ok for=20
INVITE<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr>Hello everyone...
<DIV><BR></DIV>
<DIV>I am new to the mailing list..so let me introduce myself =
first.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>I am Aayush from India..working in the IMS domain. I had a doubt, =
and i=20
wanted to share this with the experts on the mailing list.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>Appreciate your inputs on this....</DIV>
<DIV><BR></DIV>
<DIV>
<DIV><BR></DIV>
<DIV>Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is =
received=20
later at the UAC than the 200 OK of the INVITE provided that the UAS had =
sent=20
them in proper order..what should be the behavior of the UAC?</DIV>
<DIV><BR></DIV>
<DIV>In this scenario, the UAS had sent the 200 ok of the PRACK followed =
by the=20
200 ok of the INVITE..as it should normally.</DIV>
<DIV><BR></DIV>
<DIV>At the application level, there is no control on which path the =
datagrams=20
shall follow to reach the next SIP hop. If the 200 OK of the INVITE =
takes a=20
shorter path to reach the next hop SIP servers on the way to the client =
and=20
eventually reaches the client before the 200 ok of the PRACK..it will be =

received out of 'order' at the client.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>This may be a possibility in large distributed SIP networks. SIP =
only=20
provides a way of determining the next SIP serer hops by Route =
headers..and a=20
CSeq header to check the proper sequencing of messages. However, it does =
not=20
guruantee what network links should be taken by the packets to reach the =
next=20
hop. This is in contrast to SS7, where we have such provisions at MTP3=20
layer.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>How will the sip stack at the UAC behave if such a situation =
occurs? Will=20
it silently drop the packet? Or will it establish the dialog ? Or should =
it tear=20
down the session by sending a BYE?</DIV>
<DIV><BR></DIV>
<DIV>I believe its an implementation issue at the UAC.</DIV>
<DIV><BR></DIV>
<DIV>Best Regards</DIV>
<DIV>Aayush</DIV>
<DIV><BR></DIV>
<DIV><BR></DIV></DIV></DIV></BODY></HTML>

------_=_NextPart_001_01C9166A.8BC9B560--

--===============1660307468==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1660307468==--


From sip-bounces@ietf.org  Sun Sep 14 06:51:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 75B973A691E;
	Sun, 14 Sep 2008 06:51:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A0E503A691E
	for <sip@core3.amsl.com>; Sun, 14 Sep 2008 06:51:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.598
X-Spam-Level: 
X-Spam-Status: No, score=-6.598 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id W5jS6gDb29ON for <sip@core3.amsl.com>;
	Sun, 14 Sep 2008 06:51:33 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 67E973A68C5
	for <sip@ietf.org>; Sun, 14 Sep 2008 06:51:32 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,396,1217808000"; d="scan'208,217";a="28250554"
Received: from hkg-dkim-2.cisco.com ([10.75.231.163])
	by ind-iport-1.cisco.com with ESMTP; 14 Sep 2008 13:51:39 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8EDpcpj014944
	for <sip@ietf.org>; Sun, 14 Sep 2008 21:51:38 +0800
Received: from xbh-hkg-411.apac.cisco.com (xbh-hkg-411.cisco.com
	[64.104.123.72])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8EDpcnQ018440
	for <sip@ietf.org>; Sun, 14 Sep 2008 13:51:38 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-411.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Sun, 14 Sep 2008 21:51:37 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Sun, 14 Sep 2008 21:43:15 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF303826BAE@xmb-hkg-412.apac.cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Re: [Sip] 200 OK for PRACK received after 200 ok for INVITE
Thread-Index: AckWZUdYxAQWXJ1lRcOS2ZHgvRXtJwABJBQgAAF9WyA=
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: <sip@ietf.org>
X-OriginalArrivalTime: 14 Sep 2008 13:51:37.0860 (UTC)
	FILETIME=[0211B440:01C91671]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7560; t=1221400298;
	x=1222264298; c=relaxed/simple; s=hkgdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20Re=3A=20[Sip]=20200=20OK=20for=20PRACK=20receiv
	ed=20after=20200=20ok=20for=20INVITE |Sender:=20;
	bh=6aBWHKhjmNPOMp5vVE4kEi5UCyx6Gk2IwsUCrNgD8F8=;
	b=lV/CbmEgYvB3E6lTtOkTVGuz5FFYTgX+al6VWJPmMc4g6DtLeTv+qLQDru
	gcC7hIBwY1TXJwHVCaMruqzP2D9X6by6Xhhw0zu7ugQzhOCYnfklOQj6XxLD
	0LcIr9w8flcEMv4FcA2VWVR6jI+FWiJgMuimHrv+InnBnmUSdJAvY=;
Authentication-Results: hkg-dkim-2; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim2001 verified; ); 
Subject: Re: [Sip] 200 OK for PRACK received after 200 ok for INVITE
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1132605378=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1132605378==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C9166F.E7706B8E"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C9166F.E7706B8E
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

=20

________________________________

From: Rockson Li (zhengyli)=20
Sent: Sunday, September 14, 2008 9:06 PM
To: 'aayush bhatnagar'; sip@ietf.org
Subject: RE: [Sip] 200 OK for PRACK received after 200 ok for INVITE


IMO, the UAC should ignore the 200(PRACK) after 200(INVITE).
=20
One thing you might be aware,
=20
as per RFC3262,
=20
   if any of the
   unacknowledged reliable provisional responses contained a session
   description. UAS must not send 200(INVITE) until
   those provisional responses are acknowledged.=20
=20
-Rockson

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
aayush bhatnagar
Sent: Sunday, September 14, 2008 8:27 PM
To: sip@ietf.org
Subject: [Sip] 200 OK for PRACK received after 200 ok for INVITE


Hello everyone...=20

I am new to the mailing list..so let me introduce myself first.=20

I am Aayush from India..working in the IMS domain. I had a doubt, and i
wanted to share this with the experts on the mailing list.=20

Appreciate your inputs on this....


Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is
received later at the UAC than the 200 OK of the INVITE provided that
the UAS had sent them in proper order..what should be the behavior of
the UAC?

In this scenario, the UAS had sent the 200 ok of the PRACK followed by
the 200 ok of the INVITE..as it should normally.

At the application level, there is no control on which path the
datagrams shall follow to reach the next SIP hop. If the 200 OK of the
INVITE takes a shorter path to reach the next hop SIP servers on the way
to the client and eventually reaches the client before the 200 ok of the
PRACK..it will be received out of 'order' at the client.=20

This may be a possibility in large distributed SIP networks. SIP only
provides a way of determining the next SIP serer hops by Route
headers..and a CSeq header to check the proper sequencing of messages.
However, it does not guruantee what network links should be taken by the
packets to reach the next hop. This is in contrast to SS7, where we have
such provisions at MTP3 layer.=20

How will the sip stack at the UAC behave if such a situation occurs?
Will it silently drop the packet? Or will it establish the dialog ? Or
should it tear down the session by sending a BYE?

I believe its an implementation issue at the UAC.

Best Regards
Aayush



------_=_NextPart_001_01C9166F.E7706B8E
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft>&nbsp;</DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Rockson Li (zhengyli) =
<BR><B>Sent:</B>=20
Sunday, September 14, 2008 9:06 PM<BR><B>To:</B> 'aayush bhatnagar';=20
sip@ietf.org<BR><B>Subject:</B> RE: [Sip] 200 OK for PRACK received =
after 200 ok=20
for INVITE<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>IMO, the UAC should ignore the 200(PRACK) after =

200(INVITE).</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>One thing you might be =
aware,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>as per RFC3262,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>&nbsp;&nbsp; if any of the<BR>&nbsp;&nbsp; =
unacknowledged=20
reliable provisional responses contained a session<BR>&nbsp;&nbsp;=20
description.&nbsp;UAS must not send 200(INVITE) until<BR>&nbsp;&nbsp; =
those=20
provisional responses are acknowledged. </FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D281200013-14092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>-Rockson</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>aayush=20
bhatnagar<BR><B>Sent:</B> Sunday, September 14, 2008 8:27 =
PM<BR><B>To:</B>=20
sip@ietf.org<BR><B>Subject:</B> [Sip] 200 OK for PRACK received after =
200 ok for=20
INVITE<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr>Hello everyone...=20
<DIV><BR></DIV>
<DIV>I am new to the mailing list..so let me introduce myself =
first.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>I am Aayush from India..working in the IMS domain. I had a doubt, =
and i=20
wanted to share this with the experts on the mailing list.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>Appreciate your inputs on this....</DIV>
<DIV><BR></DIV>
<DIV>
<DIV><BR></DIV>
<DIV>Suppose in an INVITE initiated dialog, the 200 OK of the PRACK is =
received=20
later at the UAC than the 200 OK of the INVITE provided that the UAS had =
sent=20
them in proper order..what should be the behavior of the UAC?</DIV>
<DIV><BR></DIV>
<DIV>In this scenario, the UAS had sent the 200 ok of the PRACK followed =
by the=20
200 ok of the INVITE..as it should normally.</DIV>
<DIV><BR></DIV>
<DIV>At the application level, there is no control on which path the =
datagrams=20
shall follow to reach the next SIP hop. If the 200 OK of the INVITE =
takes a=20
shorter path to reach the next hop SIP servers on the way to the client =
and=20
eventually reaches the client before the 200 ok of the PRACK..it will be =

received out of 'order' at the client.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>This may be a possibility in large distributed SIP networks. SIP =
only=20
provides a way of determining the next SIP serer hops by Route =
headers..and a=20
CSeq header to check the proper sequencing of messages. However, it does =
not=20
guruantee what network links should be taken by the packets to reach the =
next=20
hop. This is in contrast to SS7, where we have such provisions at MTP3=20
layer.&nbsp;</DIV>
<DIV><BR></DIV>
<DIV>How will the sip stack at the UAC behave if such a situation =
occurs? Will=20
it silently drop the packet? Or will it establish the dialog ? Or should =
it tear=20
down the session by sending a BYE?</DIV>
<DIV><BR></DIV>
<DIV>I believe its an implementation issue at the UAC.</DIV>
<DIV><BR></DIV>
<DIV>Best Regards</DIV>
<DIV>Aayush</DIV>
<DIV><BR></DIV>
<DIV><BR></DIV></DIV></DIV></BODY></HTML>

------_=_NextPart_001_01C9166F.E7706B8E--

--===============1132605378==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1132605378==--


From sip-bounces@ietf.org  Mon Sep 15 00:25:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 50CAD3A6A81;
	Mon, 15 Sep 2008 00:25:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC02F3A6A5E
	for <sip@core3.amsl.com>; Mon, 15 Sep 2008 00:25:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.248
X-Spam-Level: 
X-Spam-Status: No, score=-6.248 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HELO_EQ_SE=0.35,
	HTML_MESSAGE=0.001, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pMp4cHq-xzkf for <sip@core3.amsl.com>;
	Mon, 15 Sep 2008 00:25:02 -0700 (PDT)
Received: from mailgw4.ericsson.se (mailgw4.ericsson.se [193.180.251.62])
	by core3.amsl.com (Postfix) with ESMTP id C137E3A6A1A
	for <sip@ietf.org>; Mon, 15 Sep 2008 00:25:01 -0700 (PDT)
Received: from mailgw4.ericsson.se (unknown [127.0.0.1])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	A58152101F; Mon, 15 Sep 2008 09:25:10 +0200 (CEST)
X-AuditID: c1b4fb3e-a5e7fbb000007a96-cc-48ce0dd64d41
Received: from esealmw126.eemea.ericsson.se (unknown [153.88.254.123])
	by mailgw4.ericsson.se (Symantec Mail Security) with ESMTP id
	6327B2100A; Mon, 15 Sep 2008 09:25:10 +0200 (CEST)
Received: from esealmw107.eemea.ericsson.se ([153.88.200.70]) by
	esealmw126.eemea.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 15 Sep 2008 09:25:09 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 15 Sep 2008 09:25:09 +0200
Message-ID: <EF4121B4EBC4E045BDE1273F9D0A87FF06413322@esealmw107.eemea.ericsson.se>
In-Reply-To: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Doubt related to use of Supported and Require header.
Thread-Index: AckSkK8kfTrLCwodR+ON6q5KgRPQbQEcqrWw
References: <98abe9690809090827k7472c54fm66a557a0ad17d94b@mail.gmail.com>
From: "Krishna Prasad Kalluri" <krishna.prasad.kalluri@ericsson.com>
To: "Vineet Gupta" <gupta.vineet@gmail.com>,
	<sip@ietf.org>
X-OriginalArrivalTime: 15 Sep 2008 07:25:09.0856 (UTC)
	FILETIME=[2F5AD600:01C91704]
X-Brightmail-Tracker: AAAAAA==
Subject: Re: [Sip] Doubt related to use of Supported and Require header.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0043728411=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0043728411==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C91704.2F49F1B6"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C91704.2F49F1B6
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi Vineet,
=20
I think its pretty clear from two paragraphs in section  "8.2.4 Applying
Extensions" of RFC 3261.=20
=20
Regards
Krishna


________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Vineet Gupta
Sent: den 9 september 2008 17:28
To: sip@ietf.org
Subject: [Sip] Doubt related to use of Supported and Require header.


Hi,
=20
I have a small doubt related to use of Supported and Require header.
While from RFC 3261 it is clear the Require header is used by the UAC
and UAS to enforce the extension implemention for a particular session,
while the Supported header is mostly used by UAC to express the
extensions which can be enforced by UAS through the Require header.
=20
My doubt is that, is it mandatary that every extension that is present
in Require header must be present in Supported header in the request?
According to me, presence/absence of Required extensions in Supported
header does not make any impact on UAS handling.  Even if it is not
mandatory, what is the preferred approach?
=20
Regards,
Vineet.

------_=_NextPart_001_01C91704.2F49F1B6
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.6000.16711" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D902111907-15092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Hi Vineet,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D902111907-15092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D902111907-15092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>I think its pretty clear from two paragraphs in =

section&nbsp; "8.2.4 Applying Extensions" of RFC 3261. =
</FONT></SPAN></DIV>
<DIV><SPAN class=3D902111907-15092008><FONT face=3DArial color=3D#0000ff =

size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=3D902111907-15092008><FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2>Regards</FONT></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN =
class=3D902111907-15092008></SPAN><FONT face=3DArial=20
color=3D#0000ff size=3D2>K<SPAN=20
class=3D902111907-15092008>rishna</SPAN><BR></FONT></DIV></FONT></SPAN><B=
R>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Vineet =
Gupta<BR><B>Sent:</B>=20
den 9 september 2008 17:28<BR><B>To:</B> sip@ietf.org<BR><B>Subject:</B> =
[Sip]=20
Doubt related to use of Supported and Require =
header.<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr>
<DIV>Hi,</DIV>
<DIV>&nbsp;</DIV>
<DIV>I have a small doubt related to use of Supported and Require =
header. While=20
from RFC 3261 it is clear the Require header is used by the UAC and UAS =
to=20
enforce the extension implemention for a particular session, while the =
Supported=20
header is mostly used by UAC to express the extensions which can be =
enforced by=20
UAS through the Require header.</DIV>
<DIV>&nbsp;</DIV>
<DIV>My doubt is that, is it <STRONG>mandatary that every extension that =
is=20
present in Require header must be present in Supported header =
</STRONG>in the=20
request? According to me, presence/absence of Required extensions in =
Supported=20
header does not make any impact on UAS handling.&nbsp; <STRONG>Even if =
it is not=20
mandatory, what is the preferred approach?</STRONG></DIV>
<DIV>&nbsp;</DIV>
<DIV>Regards,</DIV>
<DIV>Vineet.</DIV></DIV></BODY></HTML>

------_=_NextPart_001_01C91704.2F49F1B6--

--===============0043728411==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0043728411==--


From sip-bounces@ietf.org  Mon Sep 15 19:16:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 780123A6BB1;
	Mon, 15 Sep 2008 19:16:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 53C443A6BB1
	for <sip@core3.amsl.com>; Mon, 15 Sep 2008 19:16:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.002
X-Spam-Level: 
X-Spam-Status: No, score=0.002 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Mu5kfwv8a31p for <sip@core3.amsl.com>;
	Mon, 15 Sep 2008 19:16:50 -0700 (PDT)
Received: from n5.bullet.mail.ac4.yahoo.com (n5.bullet.mail.ac4.yahoo.com
	[76.13.13.27]) by core3.amsl.com (Postfix) with SMTP id 791E23A676A
	for <sip@ietf.org>; Mon, 15 Sep 2008 19:16:50 -0700 (PDT)
Received: from [76.13.13.25] by n5.bullet.mail.ac4.yahoo.com with NNFMP;
	16 Sep 2008 02:17:02 -0000
Received: from [76.13.10.171] by t4.bullet.mail.ac4.yahoo.com with NNFMP;
	16 Sep 2008 02:17:01 -0000
Received: from [127.0.0.1] by omp112.mail.ac4.yahoo.com with NNFMP;
	16 Sep 2008 02:17:01 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 979864.79405.bm@omp112.mail.ac4.yahoo.com
Received: (qmail 91479 invoked by uid 60001); 16 Sep 2008 02:17:01 -0000
DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com;
	h=X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type:Message-ID;
	b=xJ8qx9XlsU2l0ZwL3jPajGC+XVKeQhDiTi5/qmhk1KESEcwjjCCz65JUCJBFYk9Kj5i3MJRfjlz+zSDxGN7mBqJN/lSEAGdJeA+tsOTmFiru30zzLEEccLKnVv4TDFXHI0nU6+sE/67hPeUvYAbAAfzxBHEnHCcvHCSEsaQk1g4=;
X-YMail-OSG: 0DByUn4VM1lYt5Mzw9sq.ZJRIfe0f63jmOUemUhY74_SpqNoizmE.V2rJq90G78vVThuawKofizc8F_8vHViLUFSQ72gKh_Mrbqal7ydmf2SkcbbyhzVmvrcw2dMD3Q-
Received: from [122.167.183.43] by web59707.mail.ac4.yahoo.com via HTTP;
	Mon, 15 Sep 2008 19:17:01 PDT
X-Mailer: YahooMailRC/1096.28 YahooMailWebService/0.7.218.2
Date: Mon, 15 Sep 2008 19:17:01 -0700 (PDT)
From: Thomas george <thomaspaul321@yahoo.com>
To: sip@ietf.org
MIME-Version: 1.0
Message-ID: <735594.91358.qm@web59707.mail.ac4.yahoo.com>
Subject: [Sip] INVITE 200 OK - TCP retransmission
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2073610211=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============2073610211==
Content-Type: multipart/alternative; boundary="0-1090412970-1221531421=:91358"

--0-1090412970-1221531421=:91358
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi,=0A=C2=A0=0AWhy the 200 OK to INVITE is retransmitted even if we are usi=
ng TCP?=0A=C2=A0=0Argds,=0AThomas=0A=0A=0A      Unlimited freedom, unlimite=
d storage. Get it now, on http://help.yahoo.com/l/in/yahoo/mail/yahoomail/t=
ools/tools-08.html/
--0-1090412970-1221531421=:91358
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

<html><head><style type=3D"text/css"><!-- DIV {margin:0px;} --></style></he=
ad><body><div style=3D"font-family:times new roman, new york, times, serif;=
font-size:12pt"><P>Hi,</P>=0A<P>&nbsp;</P>=0A<P>Why the 200 OK to INVITE is=
 retransmitted even if we are using TCP?</P>=0A<P>&nbsp;</P>=0A<P>rgds,</P>=
=0A<P>Thomas</P></div><br>=0A=0A=0A      <!--6--><hr size=3D1></hr> Add mor=
e friends to your messenger and enjoy! <a href=3D"http://in.rd.yahoo.com/ta=
gline_messenger_6/*http://in.messenger.yahoo.com/invite/"> Invite them now.=
</a></body></html>
--0-1090412970-1221531421=:91358--


--===============2073610211==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2073610211==--



From sip-bounces@ietf.org  Mon Sep 15 19:59:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C22323A6860;
	Mon, 15 Sep 2008 19:59:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C78223A6860
	for <sip@core3.amsl.com>; Mon, 15 Sep 2008 19:59:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.598
X-Spam-Level: 
X-Spam-Status: No, score=-6.598 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RO62jJEWj+Ia for <sip@core3.amsl.com>;
	Mon, 15 Sep 2008 19:59:47 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id 041283A677C
	for <sip@ietf.org>; Mon, 15 Sep 2008 19:59:46 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,405,1217808000"; d="scan'208,217";a="28364403"
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 16 Sep 2008 02:59:55 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8G2xtcC032436; 
	Tue, 16 Sep 2008 10:59:55 +0800
Received: from xbh-hkg-412.apac.cisco.com (xbh-hkg-412.cisco.com
	[64.104.123.69])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8G2xsAC013685;
	Tue, 16 Sep 2008 02:59:55 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-412.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 16 Sep 2008 10:59:45 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 16 Sep 2008 11:00:37 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF30387F87D@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <735594.91358.qm@web59707.mail.ac4.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INVITE 200 OK - TCP retransmission
Thread-Index: AckXolWLDrb2ikB/RcakNQ4WyfIi1AABfPLQ
References: <735594.91358.qm@web59707.mail.ac4.yahoo.com>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "Thomas george" <thomaspaul321@yahoo.com>, <sip@ietf.org>
X-OriginalArrivalTime: 16 Sep 2008 02:59:45.0984 (UTC)
	FILETIME=[46668C00:01C917A8]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3440; t=1221533995;
	x=1222397995; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20INVITE=20200=20OK=20-=20TCP=20r
	etransmission |Sender:=20;
	bh=J/BOCN7PRyHIp+UyHjFcsmhmMoECcVrlE89CrK/Cdw0=;
	b=bXEl2qrw8Xtl6wIYUXzZnU3+Gt0nbMMLk6INA1YpdNrcUR6aocgnubVxyj
	15bY77RGrMW97MIH8j/qacvrWUeWlPiIA/TAW0/Rf1/7OPwZq8Jr2gKYploR
	Mhco8w58WEkgEVdRfwQGJ8NlVrrA/aPVraUZXEXE1NLxFwoNwYCjE=;
Authentication-Results: hkg-dkim-1; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Subject: Re: [Sip] INVITE 200 OK - TCP retransmission
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1512802285=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1512802285==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C917A8.4638364A"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C917A8.4638364A
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

check RFC3261 sec 13.3.1.4
=20
      Since 2xx is retransmitted end-to-end, there may be hops between
      UAS and UAC that are UDP.  To ensure reliable delivery across
      these hops, the response is retransmitted periodically even if the
      transport at the UAS is reliable.
=20
-Rockson

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Thomas george
Sent: Tuesday, September 16, 2008 10:17 AM
To: sip@ietf.org
Subject: [Sip] INVITE 200 OK - TCP retransmission



Hi,

=20

Why the 200 OK to INVITE is retransmitted even if we are using TCP?

=20

rgds,

Thomas


________________________________

Add more friends to your messenger and enjoy! Invite them now.
<http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.yahoo.c
om/invite/>=20

------_=_NextPart_001_01C917A8.4638364A
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<STYLE type=3Dtext/css>DIV {
	MARGIN: 0px
}
</STYLE>

<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>check RFC3261 sec 13.3.1.4</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Since 2xx is =
retransmitted=20
end-to-end, there may be hops between<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
UAS and=20
UAC that are UDP.&nbsp; To ensure reliable delivery=20
across<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; these hops, the response is=20
retransmitted periodically even if the<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =

transport at the UAS is reliable.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>-Rockson</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Thomas =
george<BR><B>Sent:</B>=20
Tuesday, September 16, 2008 10:17 AM<BR><B>To:</B>=20
sip@ietf.org<BR><B>Subject:</B> [Sip] INVITE 200 OK - TCP=20
retransmission<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, =
serif">
<P>Hi,</P>
<P>&nbsp;</P>
<P>Why the 200 OK to INVITE is retransmitted even if we are using =
TCP?</P>
<P>&nbsp;</P>
<P>rgds,</P>
<P>Thomas</P></DIV><BR><!--6-->
<HR SIZE=3D1>
</HR>Add more friends to your messenger and enjoy! <A=20
href=3D"http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.y=
ahoo.com/invite/">Invite=20
them now.</A></BODY></HTML>

------_=_NextPart_001_01C917A8.4638364A--

--===============1512802285==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1512802285==--


From sip-bounces@ietf.org  Mon Sep 15 20:38:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8220C3A68C3;
	Mon, 15 Sep 2008 20:38:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 48A0B3A68C3
	for <sip@core3.amsl.com>; Mon, 15 Sep 2008 20:38:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.598
X-Spam-Level: 
X-Spam-Status: No, score=-6.598 tagged_above=-999 required=5
	tests=[AWL=-0.000, BAYES_00=-2.599, HTML_MESSAGE=0.001,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id A+n9RGTFM2zM for <sip@core3.amsl.com>;
	Mon, 15 Sep 2008 20:38:30 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id CE75D3A687B
	for <sip@ietf.org>; Mon, 15 Sep 2008 20:38:29 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,405,1217808000"; d="scan'208,217";a="28367658"
Received: from hkg-dkim-1.cisco.com ([10.75.231.161])
	by ind-iport-1.cisco.com with ESMTP; 16 Sep 2008 03:38:34 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8G3cXjI006425; 
	Tue, 16 Sep 2008 11:38:33 +0800
Received: from xbh-hkg-412.apac.cisco.com (xbh-hkg-412.cisco.com
	[64.104.123.69])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8G3cX2G019078;
	Tue, 16 Sep 2008 03:38:33 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-412.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 16 Sep 2008 11:38:33 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 16 Sep 2008 11:39:25 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF30387F8C1@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <375261.14947.qm@web94710.mail.in2.yahoo.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] INVITE 200 OK - TCP retransmission
Thread-Index: AckXrJM9OrU5KHqrTDu1apDFXpVgIwAAJVVQ
References: <375261.14947.qm@web94710.mail.in2.yahoo.com>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "Thomas george" <thomaspaul321@yahoo.com>, <sip@ietf.org>
X-OriginalArrivalTime: 16 Sep 2008 03:38:33.0424 (UTC)
	FILETIME=[B1A9B500:01C917AD]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=9025; t=1221536314;
	x=1222400314; c=relaxed/simple; s=hkgdkim1002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20INVITE=20200=20OK=20-=20TCP=20r
	etransmission |Sender:=20;
	bh=ej5R5nW2g3Rp+At5tfpoIJcictaKwCKjxcXEnT7AsPk=;
	b=FwriqF+AeJ8Twzf0V4diktxi6iPuWaEeA9KfRGSjjHAXHgggr8HrcfKpgw
	UGhb0YV/LCTxbN/UhTynUQwJu0wCoNwN3CLb+Z0+xW3iGcorckvFdIAQOSt6
	YWEJyUpHKLS3ou65+AMhI2sEnCGNOIrQz/8RdVb2u6CJPCLV9zwxo=;
Authentication-Results: hkg-dkim-1; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim1002 verified; ); 
Subject: Re: [Sip] INVITE 200 OK - TCP retransmission
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0555148140=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0555148140==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C917AD.B19046DA"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C917AD.B19046DA
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Yes, only UAS retransmits 200(INVITE).
=20
check the same section.
=20
   Once the response has been constructed, it is passed to the INVITE
   server transaction.  Note, however, that the INVITE server
   transaction will be destroyed as soon as it receives this final
   response and passes it to the transport.  Therefore, it is necessary
   to periodically pass the response directly to the transport until the
   ACK arrives.  The 2xx response is passed to the transport with an
   interval that starts at T1 seconds and doubles for each
   retransmission until it reaches T2 seconds (T1 and T2 are defined in
   Section 17).  Response retransmissions cease when an ACK request for
   the response is received.  This is independent of whatever transport
   protocols are used to send the response.
=20
FYI
=20
-Rockson


________________________________

From: Thomas george [mailto:thomaspaul321@yahoo.com]=20
Sent: Tuesday, September 16, 2008 11:30 AM
To: Rockson Li (zhengyli); sip@ietf.org
Subject: Re: [Sip] INVITE 200 OK - TCP retransmission


So you are telling that the 200 OK to INVITE is only retransmitted by
UA, not by a Proxy?
And also in INVITE server transaction flow diagram (Section 7.2.1),
there is no Timer to retransmit 200 OK. Then on what basis a TU will
retransmit 200 OK?
=20
rgds,
Thomas


----- Original Message ----
From: Rockson Li (zhengyli) <zhengyli@cisco.com>
To: Thomas george <thomaspaul321@yahoo.com>; sip@ietf.org
Sent: Tuesday, 16 September, 2008 8:30:37 AM
Subject: RE: [Sip] INVITE 200 OK - TCP retransmission


check RFC3261 sec 13.3.1.4
=20
      Since 2xx is retransmitted end-to-end, there may be hops between
      UAS and UAC that are UDP.  To ensure reliable delivery across
      these hops, the response is retransmitted periodically even if the
      transport at the UAS is reliable.
=20
-Rockson

________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Thomas george
Sent: Tuesday, September 16, 2008 10:17 AM
To: sip@ietf.org
Subject: [Sip] INVITE 200 OK - TCP retransmission



Hi,

=20

Why the 200 OK to INVITE is retransmitted even if we are using TCP?

=20

rgds,

Thomas


________________________________

Add more friends to your messenger and enjoy! Invite them now.
<http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.yahoo.c
om/invite/>=20

________________________________

Add more friends to your messenger and enjoy! Invite them now.
<http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.yahoo.c
om/invite/>=20

------_=_NextPart_001_01C917AD.B19046DA
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<STYLE type=3Dtext/css>DIV {
	MARGIN: 0px
}
</STYLE>

<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Yes, only UAS retransmits =
200(INVITE).</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>check the same section.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT =
size=3D2>&nbsp;&nbsp;=20
Once the response has been constructed, it is passed to the=20
INVITE<BR>&nbsp;&nbsp; server transaction.&nbsp; Note, however, that the =
INVITE=20
server<BR>&nbsp;&nbsp; transaction will be destroyed as soon as it =
receives this=20
final<BR>&nbsp;&nbsp; response and passes it to the transport.&nbsp; =
Therefore,=20
it is necessary<BR>&nbsp;&nbsp; to periodically pass the response =
directly to=20
the transport until the<BR>&nbsp;&nbsp; ACK arrives.&nbsp; The 2xx =
response is=20
passed to the transport with an<BR>&nbsp;&nbsp; interval that starts at =
T1=20
seconds and doubles for each<BR>&nbsp;&nbsp; retransmission until it =
reaches T2=20
seconds (T1 and T2 are defined in<BR>&nbsp;&nbsp; Section 17).&nbsp; =
Response=20
retransmissions cease when an ACK request for<BR>&nbsp;&nbsp; the =
response is=20
received.&nbsp; This is independent of whatever =
transport<BR>&nbsp;&nbsp;=20
protocols are used to send the response.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT=20
size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT=20
size=3D2>FYI</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT=20
size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D437433403-16092008><FONT=20
size=3D2>-Rockson</FONT></DIV>
<DIV dir=3Dltr align=3Dleft><BR></DIV></SPAN><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> Thomas george=20
[mailto:thomaspaul321@yahoo.com] <BR><B>Sent:</B> Tuesday, September 16, =
2008=20
11:30 AM<BR><B>To:</B> Rockson Li (zhengyli); =
sip@ietf.org<BR><B>Subject:</B>=20
Re: [Sip] INVITE 200 OK - TCP retransmission<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, =
serif">
<DIV>So you are telling that the 200 OK to INVITE is only retransmitted =
by UA,=20
not by a Proxy?</DIV>
<DIV>And also in INVITE server transaction flow diagram (Section 7.2.1), =
there=20
is no Timer to retransmit 200 OK. Then on what basis a TU will =
retransmit 200=20
OK?</DIV>
<DIV>&nbsp;</DIV>
<DIV>rgds,</DIV>
<DIV>Thomas<BR></DIV>
<DIV=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, =
serif"><BR>
<DIV=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, =
serif">-----=20
Original Message ----<BR>From: Rockson Li (zhengyli)=20
&lt;zhengyli@cisco.com&gt;<BR>To: Thomas george =
&lt;thomaspaul321@yahoo.com&gt;;=20
sip@ietf.org<BR>Sent: Tuesday, 16 September, 2008 8:30:37 AM<BR>Subject: =
RE:=20
[Sip] INVITE 200 OK - TCP retransmission<BR><BR>
<STYLE type=3Dtext/css>DIV {
	MARGIN: 0px
}
</STYLE>

<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>check RFC3261 sec 13.3.1.4</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Since 2xx is =
retransmitted=20
end-to-end, there may be hops between<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
UAS and=20
UAC that are UDP.&nbsp; To ensure reliable delivery=20
across<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; these hops, the response is=20
retransmitted periodically even if the<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =

transport at the UAS is reliable.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D906505902-16092008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>-Rockson</FONT></SPAN></DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Thomas =
george<BR><B>Sent:</B>=20
Tuesday, September 16, 2008 10:17 AM<BR><B>To:</B>=20
sip@ietf.org<BR><B>Subject:</B> [Sip] INVITE 200 OK - TCP=20
retransmission<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV=20
style=3D"FONT-SIZE: 12pt; FONT-FAMILY: times new roman, new york, times, =
serif">
<P>Hi,</P>
<P>&nbsp;</P>
<P>Why the 200 OK to INVITE is retransmitted even if we are using =
TCP?</P>
<P>&nbsp;</P>
<P>rgds,</P>
<P>Thomas</P></DIV><BR>
<HR SIZE=3D1>
Add more friends to your messenger and enjoy! <A=20
href=3D"http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.y=
ahoo.com/invite/"=20
target=3D_blank rel=3Dnofollow>Invite them =
now.</A></DIV></DIV></DIV><BR><!--6-->
<HR SIZE=3D1>
</HR>Add more friends to your messenger and enjoy! <A=20
href=3D"http://in.rd.yahoo.com/tagline_messenger_6/*http://in.messenger.y=
ahoo.com/invite/">Invite=20
them now.</A></BODY></HTML>

------_=_NextPart_001_01C917AD.B19046DA--

--===============0555148140==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0555148140==--


From sip-bounces@ietf.org  Tue Sep 16 05:26:39 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC77F3A6B5A;
	Tue, 16 Sep 2008 05:26:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D671D3A6B4F
	for <sip@core3.amsl.com>; Tue, 16 Sep 2008 05:26:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.677
X-Spam-Level: 
X-Spam-Status: No, score=-1.677 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, FM_FORGED_GMAIL=0.622, MIME_8BIT_HEADER=0.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Uhy3cUbKI91s for <sip@core3.amsl.com>;
	Tue, 16 Sep 2008 05:26:33 -0700 (PDT)
Received: from wf-out-1314.google.com (wf-out-1314.google.com [209.85.200.173])
	by core3.amsl.com (Postfix) with ESMTP id 11A4E3A67F8
	for <sip@ietf.org>; Tue, 16 Sep 2008 05:26:32 -0700 (PDT)
Received: by wf-out-1314.google.com with SMTP id 27so2560668wfd.31
	for <sip@ietf.org>; Tue, 16 Sep 2008 05:26:35 -0700 (PDT)
Received: by 10.141.76.21 with SMTP id d21mr5588623rvl.270.1221567995681;
	Tue, 16 Sep 2008 05:26:35 -0700 (PDT)
Received: by 10.141.155.15 with HTTP; Tue, 16 Sep 2008 05:26:35 -0700 (PDT)
Message-ID: <cc1f582e0809160526j1fc3747cjf02c1108326ca782@mail.gmail.com>
Date: Tue, 16 Sep 2008 14:26:35 +0200
From: "=?UTF-8?Q?I=C3=B1aki_Baz_Castillo?=" <ibc@aliax.net>
To: sip@ietf.org
MIME-Version: 1.0
Content-Disposition: inline
Subject: [Sip] Bug in FSM (Finite State Machine) in RFC 4235 "An
	INVITE-Initiated Dialog Event Package for SIP"
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

SGksIHRoZXJlIGlzIGEgYnVnIGluIFJGQyA0MjM1ICJBbiBJTlZJVEUtSW5pdGlhdGVkIERpYWxv
ZyBFdmVudApQYWNrYWdlIGZvciBTSVAiLgoKU2VjdGlvbiAzLjcuMSAoVGhlIERpYWxvZyBTdGF0
ZSBNYWNoaW5lKSBhbmQgdGhlIEZpZ3VyZSAzIGZvcmdldCB0aGUKY2FzZSBpbiB3aGljaCBhIFVB
QyBzZW5kcyBhIEJZRSBkdXJpbmcgYW4gZWFybHktZGlhbG9nIGFzIFJGQzMyNjEKYWxsb3dzOgoK
ICBSRkMgMzI2MToKICAtLS0tLS0tLS0tLS0tLS0tCiAgMTUgVGVybWluYXRpbmcgYSBTZXNzaW9u
CiAgV2hlbiBhIEJZRSBpcyByZWNlaXZlZCBvbiBhIGRpYWxvZywgYW55IHNlc3Npb24KICBhc3Nv
Y2lhdGVkIHdpdGggdGhhdCBkaWFsb2cgU0hPVUxEIHRlcm1pbmF0ZS4gQSBVQSBNVVNUIE5PVCBz
ZW5kIGEKICBCWUUgb3V0c2lkZSBvZiBhIGRpYWxvZy4gVGhlIGNhbGxlcidzIFVBIE1BWSBzZW5k
IGEgQllFIGZvciBlaXRoZXIKICBjb25maXJtZWQgb3IgZWFybHkgZGlhbG9ncywgYW5kIHRoZSBj
YWxsZWUncyBVQSBNQVkgc2VuZCBhIEJZRSBvbgogIGNvbmZpcm1lZCBkaWFsb2dzLCBidXQgTVVT
VCBOT1Qgc2VuZCBhIEJZRSBvbiBlYXJseSBkaWFsb2dzLgogIC0tLS0tLS0tLS0tLS0tLS0KClNv
IGl0IHNob3VsZCBiZSBhIG5ldyByb3cgaW4gRmlndXJlIDMgZnJvbSAiRWFybHkiIHRvICJUZXJt
aW5hdGUiCmxhYmVsZWQgImxvY2FsLWJ5ZS9yZW1vdGUtYnllIi4gSXQgd291bGQgYmUgImxvY2Fs
LWJ5ZSIgaW4gY2FzZSBvZiBVQUMKYW5kICJyZW1vdGUtYnllIiBpbiBjYXNlIG9mIFVBUy4KCgoK
U2VjdGlvbiAzLjcuMSBzYXlzOgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tClsuLi5dCm5v
bi0yeHggcmVzcG9uc2UgZm9yIGFueSBvdGhlciByZWFzb24sIGFsbCBGU01zIHNwYXduZWQgZnJv
bSB0aGF0CklOVklURSB0cmFuc2l0aW9uIHRvIHRoZSBUZXJtaW5hdGVkIHN0YXRlIHdpdGggdGhl
IGV2ZW50ICJyZWplY3RlZCIuClsuLi5dCklmIHRoZSBVQVMgcmVjZWl2ZXMgYSBDQU5DRUwKcmVx
dWVzdCBhbmQgdGhlbiBnZW5lcmF0ZXMgYSA0ODcgcmVzcG9uc2UgdG8gdGhlIElOVklURSAod2hp
Y2ggY2FuCm9jY3VyIGluIHRoZSBQcm9jZWVkaW5nIGFuZCBFYXJseSBzdGF0ZXMpLCB0aGUgRlNN
IHRyYW5zaXRpb25zIHRvIHRoZQpUZXJtaW5hdGVkIHN0YXRlIHdpdGggdGhlIGV2ZW50ICJjYW5j
ZWxsZWQiLgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKSXQgc2hvdWxkIHNheToKLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpbLi4uXQpub24tMnh4IHJlc3BvbnNlIGZvciBhbnkg
b3RoZXIgcmVhc29uLCBhbGwgRlNNcyBzcGF3bmVkIGZyb20gdGhhdApJTlZJVEUgdHJhbnNpdGlv
biB0byB0aGUgVGVybWluYXRlZCBzdGF0ZSB3aXRoIHRoZSBldmVudCAicmVqZWN0ZWQiLgpEdXJp
bmcgRWFybHkgc3RhdGUgdGhlIEZTTSB0cmFuc2l0aW9ucyB0byB0aGUgVGVybWluYXRlIHN0YXRl
IGlmIHRoZQpVQUMgc2VuZHMgYSBCWUUgKGNvcnJlc3BvbmRpbmcgdG8gImxvY2FsLWJ5ZSIgZXZl
bnQpLgpbLi4uXQpJZiB0aGUgVUFTIHJlY2VpdmVzIGEgQ0FOQ0VMCnJlcXVlc3QgYW5kIHRoZW4g
Z2VuZXJhdGVzIGEgNDg3IHJlc3BvbnNlIHRvIHRoZSBJTlZJVEUgKHdoaWNoIGNhbgpvY2N1ciBp
biB0aGUgUHJvY2VlZGluZyBhbmQgRWFybHkgc3RhdGVzKSwgdGhlIEZTTSB0cmFuc2l0aW9ucyB0
byB0aGUKVGVybWluYXRlZCBzdGF0ZSB3aXRoIHRoZSBldmVudCAiY2FuY2VsbGVkIi4KSWYgdGhl
IFVBUyByZWNlaXZlcyBhIEJZRSByZXF1ZXN0IGR1cmluZyB0aGUgRWFybHkgc3RhdGUgdGhlIEZT
TQp0cmFuc2l0aW9ucyB0byB0aGUgVGVybWluYXRlZCBzdGF0ZSB3aXRoIHRoZSBldmVudCAicmVt
b3RlLWJ5ZSIuCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCgpUaGUgcG90ZW50aWFsIHBy
b2JsZW0gY291bGQgb2NjdXIsIGZvciBleGFtcGxlLCBpZiBhIFVBIHJlY2VpdmVzIGEgQllFCmR1
cmluZyBFYXJseSBTdGF0ZSwgYW5kIGdlbmVyYXRlcyBhbiBpbnRlcm5hbCBldmVudCAicmVtb3Rl
LWJ5ZSIuIFRoZQpGU00sIGFjY29yZGluZyB0byBjdXJyZW50IHNlY3Rpb24gMy43Ni4xLCB3b3Vs
ZG4ndCB0cmFuc2l0IHRvClRlcm1pbmF0ZSBzdGF0ZSBhbmQgY291bGQgbGVhdmUgaW4gYW4gdW5r
bm93biBzdGF0ZS4KCgoKLS0gCknDsWFraSBCYXogQ2FzdGlsbG8KPGliY0BhbGlheC5uZXQ+Cl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNpcCBtYWlsaW5n
IGxpc3QgIGh0dHBzOi8vd3d3LmlldGYub3JnL21haWxtYW4vbGlzdGluZm8vc2lwClRoaXMgbGlz
dCBpcyBmb3IgTkVXIGRldmVsb3BtZW50IG9mIHRoZSBjb3JlIFNJUCBQcm90b2NvbApVc2Ugc2lw
LWltcGxlbWVudG9yc0Bjcy5jb2x1bWJpYS5lZHUgZm9yIHF1ZXN0aW9ucyBvbiBjdXJyZW50IHNp
cApVc2Ugc2lwcGluZ0BpZXRmLm9yZyBmb3IgbmV3IGRldmVsb3BtZW50cyBvbiB0aGUgYXBwbGlj
YXRpb24gb2Ygc2lw


From sip-bounces@ietf.org  Wed Sep 17 03:37:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E36923A6959;
	Wed, 17 Sep 2008 03:37:27 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8EB3A3A6959
	for <sip@core3.amsl.com>; Wed, 17 Sep 2008 03:37:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nkVxTsbCvs3K for <sip@core3.amsl.com>;
	Wed, 17 Sep 2008 03:37:20 -0700 (PDT)
Received: from ihemail3.lucent.com (ihemail3.lucent.com [135.245.0.37])
	by core3.amsl.com (Postfix) with ESMTP id 7DBE43A659B
	for <sip@ietf.org>; Wed, 17 Sep 2008 03:37:20 -0700 (PDT)
Received: from ilexp02.ndc.lucent.com (h135-3-39-2.lucent.com [135.3.39.2])
	by ihemail3.lucent.com (8.13.8/IER-o) with ESMTP id m8HAbNqO019626
	for <sip@ietf.org>; Wed, 17 Sep 2008 05:37:31 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp02.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 17 Sep 2008 05:37:25 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 17 Sep 2008 12:37:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 17 Sep 2008 12:37:17 +0200
Message-ID: <5D1A7985295922448D5550C94DE29180022DA63C@DEEXC1U01.de.lucent.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Nomcom call for candidates 
Thread-Index: AckU+UkVDIfdDpjgRt62Mcas5c6pCwDUbASg
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "SIP IETF" <sip@ietf.org>
X-OriginalArrivalTime: 17 Sep 2008 10:37:17.0744 (UTC)
	FILETIME=[5B567300:01C918B1]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.37
Subject: [Sip] FW: Nomcom call for candidates
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

As an aid to ensuring we get the leadership we deserve - this is the call for you to nominate your candidates for the open AD positions etc.

If you have been impressed by anyone's performance in IETF, this is your opportunity to say so.

Please follow the instructions in the mail below.

Regards

Keith 

-----Original Message-----
From: wgchairs-bounces@ietf.org [mailto:wgchairs-bounces@ietf.org] On Behalf Of NomCom Chair
Sent: Friday, September 12, 2008 5:48 PM
To: Working Group Chairs
Subject: Nomcom call for candidates 

The message below was just sent to the IETF-Annoucne list.
However, it order to get to as many people as possible, I am asking WG chairs a favor.  Please forward the message to your working groups.

Thank you,
Joel M. Halpern

The 2008-9 IETF Nominating Committee needs your help.
We have started getting candidates.
If we are going to do our job in time, we have only 3 more weeks to get enough candidates to have a reasonable pool for all the jobs.
At the moment, we do not have a reasonable pool for any jobs.

If you are willing to serve, please nominate yourself.
If there is someone you think would do a good job, please nominate them.

The web site at:
    http://wiki.tools.ietf.org/group/nomcom/08
Has the list of positions we are seeking people for, as well as tools for providing both nominations and feedback.

Alternatively, you can submit nominations by sending email to me.

Please help us.

Thank you,
Joel M. Halpern
jmh@joelhalpern.com
nomcom-chair@ietf.org
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 17 11:20:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2316428C29A;
	Wed, 17 Sep 2008 11:20:12 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id EA72B3A6838; Wed, 17 Sep 2008 11:20:10 -0700 (PDT)
X-idtracker: yes
From: The IESG <iesg-secretary@ietf.org>
To: IETF-Announce <ietf-announce@ietf.org>
Message-Id: <20080917182010.EA72B3A6838@core3.amsl.com>
Date: Wed, 17 Sep 2008 11:20:10 -0700 (PDT)
Cc: sip mailing list <sip@ietf.org>, sip chair <sip-chairs@tools.ietf.org>,
	Internet Architecture Board <iab@iab.org>,
	RFC Editor <rfc-editor@rfc-editor.org>
Subject: [Sip] Protocol Action: 'Requesting Answering Modes for the Session
 Initiation Protocol (SIP)' to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has approved the following document:

- 'Requesting Answering Modes for the Session Initiation Protocol (SIP) '
   <draft-ietf-sip-answermode-07.txt> as a Proposed Standard

This document is the product of the Session Initiation Protocol Working 
Group. 

The IESG contact persons are Cullen Jennings and Jon Peterson.

A URL of this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-answermode-07.txt

Technical Summary 

This document defines extends SIP with two header fields and associated 
option tags that can be used in INVITE requests to convey the requester's
preference for user-interface handling related to answering of that
request. 
The first header, "Answer-Mode", expresses a preference as to whether the
target node's user interface waits for user input before accepting the 
request or instead accepts the request without waiting on user input. The
second header, "Priv-Answer-Mode" is similar to the first, except that it
requests administrative-level access and has consequent additional 
authentication and authorization requirements. These behaviors have 
applicability to applications such as Push-to-Talk and to diagnostics 
like loop-back. Usage of each header field in a response to indicate 
how the request was handled is also defined. 


Working Group Summary 

There is consensus in the working group to publish this document. The 
proposal was originally submitted as a P-header, but it was decided that 
this aspect should be brought out and made generally applicable to all 
SIP implementations. Early concerns about the possibility to use the 
header as a means of eavesdropping have been addressed in the 
security considerations.


Document Quality 

There has been no indication of implementation. The document has been 
required in support of the OMA PoC feature, and it can be assumed that
there  have been implementations of the OMA work that have therefore
used this feature. 


Personnel 

The document shepherd for this document was Keith Drage. The responsible
Area Director was Cullen Jennings.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 17 11:24:50 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E0D673A6CA5;
	Wed, 17 Sep 2008 11:24:50 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 62FA03A6827;
	Wed, 17 Sep 2008 11:24:48 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bPSxASLSD3LF; Wed, 17 Sep 2008 11:24:47 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 85D303A6838;
	Wed, 17 Sep 2008 11:24:46 -0700 (PDT)
Received: from [192.168.2.6] (pool-68-238-148-61.dllstx.fios.verizon.net
	[68.238.148.61]) (authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8HIOvWh064152
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Wed, 17 Sep 2008 13:24:57 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <3A760625-C47C-4BEB-84B2-EB90C134F88D@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: "SIP@ietf.org List" <sip@ietf.org>,
	"sip-implementors@lists.cs.columbia.edu Implementors"
	<sip-implementors@lists.cs.columbia.edu>, 
	sipping LIST <sipping@ietf.org>, simple mailing list <simple@ietf.org>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Wed, 17 Sep 2008 13:24:57 -0500
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 68.238.148.61 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.94/8270/Wed Sep 17 08:15:56 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Subject: [Sip] SIPit registration closes in 2 weeks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0521978094=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0521978094==
Content-Type: multipart/alternative; boundary=Apple-Mail-95-703045060


--Apple-Mail-95-703045060
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Registration for SIPit 23 closes 4 weeks from Friday. If you are  
planning to attend and have not yet registered, please do so today.

SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI  
with technical support from France-Telecom Orange Labs.

Registration is 490Euro per participant, and the deadline for  
registration is October 3.

Attendees are strongly encouraged to make reservations and travel  
arrangements as soon as possible.

More information and links to registration are available at
http://www.sipit.net
and
http://www.etsi.org/plugtests/SIPit/SIPit.htm

Thanks,

RjS
--Apple-Mail-95-703045060
Content-Type: text/html;
	charset=US-ASCII
Content-Transfer-Encoding: 7bit

<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>Registration for SIPit 23 closes 4 weeks from Friday. If you are planning to attend and have not yet registered, please do so today.</div><div><br></div>SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI with technical support from France-Telecom Orange Labs.<br><br>Registration is 490Euro per participant, and the deadline for registration is October 3.<br><br>Attendees are strongly encouraged to make reservations and travel arrangements as soon as possible.<br><br>More information and links to registration are available at<br><a href="http://www.sipit.net/">http://www.sipit.net</a><br>and<br><a href="http://www.etsi.org/plugtests/SIPit/SIPit.htm">http://www.etsi.org/plugtests/SIPit/SIPit.htm</a><br><br>Thanks,<br><br>RjS</body></html>
--Apple-Mail-95-703045060--

--===============0521978094==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0521978094==--


From sip-bounces@ietf.org  Wed Sep 17 11:27:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 961B828C0FC;
	Wed, 17 Sep 2008 11:27:26 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E42C128C0FC;
	Wed, 17 Sep 2008 11:27:24 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id U-RUcKe5+B6p; Wed, 17 Sep 2008 11:27:24 -0700 (PDT)
Received: from nostrum.com (unknown [IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id A14C83A6CB4;
	Wed, 17 Sep 2008 11:27:23 -0700 (PDT)
Received: from [192.168.2.6] (pool-68-238-148-61.dllstx.fios.verizon.net
	[68.238.148.61]) (authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8HIRYxa064370
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Wed, 17 Sep 2008 13:27:34 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <9C54997C-DC57-4E7E-A5A2-8369A9027353@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Robert Sparks <rjsparks@nostrum.com>
In-Reply-To: <3A760625-C47C-4BEB-84B2-EB90C134F88D@nostrum.com>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Wed, 17 Sep 2008 13:27:34 -0500
References: <3A760625-C47C-4BEB-84B2-EB90C134F88D@nostrum.com>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 68.238.148.61 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.94/8270/Wed Sep 17 08:15:56 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: "SIP@ietf.org List" <sip@ietf.org>, sipping LIST <sipping@ietf.org>,
	simple mailing list <simple@ietf.org>,
	"sip-implementors@lists.cs.columbia.edu Implementors"
	<sip-implementors@lists.cs.columbia.edu>
Subject: Re: [Sip] SIPit registration closes in 2 weeks
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2117058869=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============2117058869==
Content-Type: multipart/alternative; boundary=Apple-Mail-96-703202317


--Apple-Mail-96-703202317
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Of course, that should have said _2_ weeks from friday. Apologies for  
having to repeat the crosspost.

On Sep 17, 2008, at 1:24 PM, Robert Sparks wrote:

> Registration for SIPit 23 closes 4 weeks from Friday. If you are  
> planning to attend and have not yet registered, please do so today.
>
> SIPit 23 will be held in Lannion, France October 13-17, hosted by  
> ETSI with technical support from France-Telecom Orange Labs.
>
> Registration is 490Euro per participant, and the deadline for  
> registration is October 3.
>
> Attendees are strongly encouraged to make reservations and travel  
> arrangements as soon as possible.
>
> More information and links to registration are available at
> http://www.sipit.net
> and
> http://www.etsi.org/plugtests/SIPit/SIPit.htm
>
> Thanks,
>
> RjS


--Apple-Mail-96-703202317
Content-Type: text/html;
	charset=US-ASCII
Content-Transfer-Encoding: quoted-printable

<html><body style=3D"word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space; ">Of course, that should have =
said _2_ weeks from friday. Apologies for having to repeat the =
crosspost.<div><br><div><div><div>On Sep 17, 2008, at 1:24 PM, Robert =
Sparks wrote:</div><br class=3D"Apple-interchange-newline"><blockquote =
type=3D"cite"><div style=3D"word-wrap: break-word; -webkit-nbsp-mode: =
space; -webkit-line-break: after-white-space; "><div>Registration for =
SIPit 23 closes 4 weeks from Friday. If you are planning to attend and =
have not yet registered, please do so today.</div><div><br></div>SIPit =
23 will be held in Lannion, France October 13-17, hosted by ETSI with =
technical support from France-Telecom Orange Labs.<br><br>Registration =
is 490Euro per participant, and the deadline for registration is October =
3.<br><br>Attendees are strongly encouraged to make reservations and =
travel arrangements as soon as possible.<br><br>More information and =
links to registration are available at<br><a =
href=3D"http://www.sipit.net/">http://www.sipit.net</a><br>and<br><a =
href=3D"http://www.etsi.org/plugtests/SIPit/SIPit.htm">http://www.etsi.org=
/plugtests/SIPit/SIPit.htm</a><br><br>Thanks,<br><br>RjS</div></blockquote=
></div><br></div></div></body></html>=

--Apple-Mail-96-703202317--

--===============2117058869==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2117058869==--


From sip-bounces@ietf.org  Thu Sep 18 07:02:13 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id ECD033A6C34;
	Thu, 18 Sep 2008 07:02:12 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id 7CC603A6980; Thu, 18 Sep 2008 07:02:11 -0700 (PDT)
X-idtracker: yes
To: IETF-Announce <ietf-announce@ietf.org> 
From: The IESG <iesg-secretary@ietf.org>
Message-Id: <20080918140211.7CC603A6980@core3.amsl.com>
Date: Thu, 18 Sep 2008 07:02:11 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] Last Call: draft-ietf-sip-xcapevent (An Extensible Markup
 Language (XML) Configuration Access Protocol (XCAP) Diff Event Package) to
 Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: ietf@ietf.org
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has received a request from the Session Initiation Protocol WG 
(sip) to consider the following document:

- 'An Extensible Markup Language (XML) Configuration Access Protocol 
   (XCAP) Diff Event Package '
   <draft-ietf-sip-xcapevent-03.txt> as a Proposed Standard

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send substantive comments to the
ietf@ietf.org mailing lists by 2008-10-02. Exceptionally, 
comments may be sent to iesg@ietf.org instead. In either case, please 
retain the beginning of the Subject line to allow automated sorting.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-xcapevent-03.txt


IESG discussion can be tracked via
https://datatracker.ietf.org/public/pidtracker.cgi?command=view_id&dTag=16805&rfc_flag=0

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 10:25:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 452113A6AD5;
	Thu, 18 Sep 2008 10:25:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC4E93A6A1F
	for <sip@core3.amsl.com>; Thu, 18 Sep 2008 10:24:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.392
X-Spam-Level: 
X-Spam-Status: No, score=-2.392 tagged_above=-999 required=5 tests=[AWL=0.207, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2CVazP99waj9 for <sip@core3.amsl.com>;
	Thu, 18 Sep 2008 10:24:59 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 031F73A6994
	for <sip@ietf.org>; Thu, 18 Sep 2008 10:24:58 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8IHP8nv024378
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 18 Sep 2008 12:25:10 -0500
Message-Id: <E6136452-EA6E-463B-9C10-5E054DE447AC@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Rockson Li (zhengyli) <zhengyli@cisco.com>
In-Reply-To: <F86B91A10B14744E88408E80B8A30EF30387F87D@xmb-hkg-412.apac.cisco.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 18 Sep 2008 12:25:03 -0500
References: <735594.91358.qm@web59707.mail.ac4.yahoo.com>
	<F86B91A10B14744E88408E80B8A30EF30387F87D@xmb-hkg-412.apac.cisco.com>
X-Mailer: Apple Mail (2.929.2)
Cc: sip@ietf.org
Subject: Re: [Sip] INVITE 200 OK - TCP retransmission
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org




On Sep 15, 2008, at 10:00 PM, Rockson Li (zhengyli) wrote:

> check RFC3261 sec 13.3.1.4
>
>       Since 2xx is retransmitted end-to-end, there may be hops between
>       UAS and UAC that are UDP.  To ensure reliable delivery across
>       these hops, the response is retransmitted periodically even if  
> the
>       transport at the UAS is reliable.
>
>

Even more critically, there may be insane or overloaded proxies in the  
path that drop or defer the message. So even if TCP is used end-to- 
end, SIP requires retransmission-until-acknowledgement at the protocol  
level.

I have long maintained that if we'd thought this through that instead  
of the three-message INVITE transaction that we'd have been better off  
using opposing pairs of two-message transactions. Carrying payloads in  
what are essentially acknowledgement messages (200) was a bad idea.  
But it's what we do, hence the retransmission.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 12:24:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EE0D928C13D;
	Thu, 18 Sep 2008 12:24:42 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id 59E053A6ABA; Thu, 18 Sep 2008 12:24:40 -0700 (PDT)
X-idtracker: yes
To: IETF-Announce <ietf-announce@ietf.org> 
From: The IESG <iesg-secretary@ietf.org>
Message-Id: <20080918192440.59E053A6ABA@core3.amsl.com>
Date: Thu, 18 Sep 2008 12:24:40 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] Last Call: draft-ietf-sip-rph-new-namespaces (IANA
 Registration of New Session Initiation Protocol (SIP) Resource-Priority
 Namespaces) to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: ietf@ietf.org
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has received a request from the Session Initiation Protocol WG 
(sip) to consider the following document:

- 'IANA Registration of New Session Initiation Protocol (SIP) 
   Resource-Priority Namespaces '
   <draft-ietf-sip-rph-new-namespaces-03.txt> as a Proposed Standard

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send substantive comments to the
ietf@ietf.org mailing lists by 2008-10-02. Exceptionally, 
comments may be sent to iesg@ietf.org instead. In either case, please 
retain the beginning of the Subject line to allow automated sorting.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-rph-new-namespaces-03.txt


IESG discussion can be tracked via
https://datatracker.ietf.org/public/pidtracker.cgi?command=view_id&dTag=16487&rfc_flag=0

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 12:25:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 98E7128C31A;
	Thu, 18 Sep 2008 12:25:33 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id 174133A6BCD; Thu, 18 Sep 2008 12:25:30 -0700 (PDT)
X-idtracker: yes
To: IETF-Announce <ietf-announce@ietf.org> 
From: The IESG <iesg-secretary@ietf.org>
Message-Id: <20080918192531.174133A6BCD@core3.amsl.com>
Date: Thu, 18 Sep 2008 12:25:31 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] Last Call: draft-ietf-sip-sips (The use of the SIPS URI
 Scheme in the Session Initiation Protocol (SIP)) to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: ietf@ietf.org
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has received a request from the Session Initiation Protocol WG 
(sip) to consider the following document:

- 'The use of the SIPS URI Scheme in the Session Initiation Protocol 
   (SIP) '
   <draft-ietf-sip-sips-08.txt> as a Proposed Standard

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send substantive comments to the
ietf@ietf.org mailing lists by 2008-10-02. Exceptionally, 
comments may be sent to iesg@ietf.org instead. In either case, please 
retain the beginning of the Subject line to allow automated sorting.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-sips-08.txt


IESG discussion can be tracked via
https://datatracker.ietf.org/public/pidtracker.cgi?command=view_id&dTag=15507&rfc_flag=0

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 14:22:14 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B0B373A6B6A;
	Thu, 18 Sep 2008 14:22:14 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 56DF03A6B65
	for <sip@core3.amsl.com>; Thu, 18 Sep 2008 14:22:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.418
X-Spam-Level: 
X-Spam-Status: No, score=-2.418 tagged_above=-999 required=5 tests=[AWL=0.181, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id okrefcni1zPZ for <sip@core3.amsl.com>;
	Thu, 18 Sep 2008 14:22:12 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 05FF23A6B53
	for <sip@ietf.org>; Thu, 18 Sep 2008 14:22:11 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8ILMFo3025699
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 18 Sep 2008 16:22:17 -0500
Message-Id: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: SIP IETF <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 18 Sep 2008 16:22:10 -0500
X-Mailer: Apple Mail (2.929.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Keith Drage <drage@alcatel-lucent.com>,
	Dan Wing <dwing@cisco.com>
Subject: [Sip] Draft Shepherd writeup for
	draft-ietf-sip-media-security-requirements-07
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


We're ready to request publication of the Media Security Requirements.

Here's the draft writeup. Please review, and publish any issues back  
to myself and the list. If there are no issues, I plan to submit the  
pub request by the end of the week.


(1.a)  Who is the Document Shepherd for this document?  Has the
           Document Shepherd personally reviewed this version of the
           document and, in particular, does he or she believe this
           version is ready for forwarding to the IESG for publication?


The Document Shepherd is SIP WG chair Dean Willis, who has reviewed
the document and believes it is ready for publication.

    (1.b)  Has the document had adequate review both from key WG members
           and from key non-WG members?  Does the Document Shepherd have
           any concerns about the depth or breadth of the reviews that
           have been performed?

The document has been adequate reviewed inside the WG, and
additionally reviewed by OMA. The shepherd has no concerns about the
reviews.


    (1.c)  Does the Document Shepherd have concerns that the document
           needs more review from a particular or broader perspective,
           e.g., security, operational complexity, someone familiar with
           AAA, internationalization, or XML?

No.


    (1.d)  Does the Document Shepherd have any specific concerns or
           issues with this document that the Responsible Area Director
           and/or the IESG should be aware of?  For example, perhaps he
           or she is uncomfortable with certain parts of the document,  
or
           has concerns whether there really is a need for it.  In any
           event, if the WG has discussed those issues and has indicated
           that it still wishes to advance the document, detail those
           concerns here.  Has an IPR disclosure related to this  
document
           been filed?  If so, please include a reference to the
           disclosure and summarize the WG discussion and conclusion on
           this issue.

The shepherd is aware of no relevant issues.


    (1.e)  How solid is the WG consensus behind this document?  Does it
           represent the strong concurrence of a few individuals, with
           others being silent, or does the WG as a whole understand and
           agree with it?

Working group consensus on this document is very strong.


    (1.f)  Has anyone threatened an appeal or otherwise indicated  
extreme
           discontent?  If so, please summarize the areas of conflict in
           separate email messages to the Responsible Area Director.   
(It
           should be in a separate email because this questionnaire is
           entered into the ID Tracker.)

The shepherd is unaware of any reservoir of extreme discontent related
to this draft.


    (1.g)  Has the Document Shepherd personally verified that the
           document satisfies all ID nits?  (See
           http://www.ietf.org/ID-Checklist.html and
           http://tools.ietf.org/tools/idnits/.)  Boilerplate checks are
           not enough; this check needs to be thorough.  Has the  
document
           met all formal review criteria it needs to, such as the MIB
           Doctor, media type, and URI type reviews?  If the document
           does not already indicate its intended status at the top of
           the first page, please indicate the intended status here.

The document reasonably passes all nit checks, with the exception of
several out-of-date references that do not impact the specification.


    (1.h)  Has the document split its references into normative and
           informative?  Are there normative references to documents  
that
           are not ready for advancement or are otherwise in an unclear
           state?  If such normative references exist, what is the
           strategy for their completion?  Are there normative  
references
           that are downward references, as described in [RFC3967]?  If
           so, list these downward references to support the Area
           Director in the Last Call procedure for them [RFC3967].

References are appropriately divided. All normative references are to
stable documents.


    (1.i)  Has the Document Shepherd verified that the document's IANA
           Considerations section exists and is consistent with the body
           of the document?  If the document specifies protocol
           extensions, are reservations requested in appropriate IANA
           registries?  Are the IANA registries clearly identified?  If
           the document creates a new registry, does it define the
           proposed initial contents of the registry and an allocation
           procedure for future registrations?  Does it suggest a
           reasonable name for the new registry?  See [RFC2434].  If the
           document describes an Expert Review process, has the Document
           Shepherd conferred with the Responsible Area Director so that
           the IESG can appoint the needed Expert during IESG
           Evaluation?

The document contains no IANA actions and specified no revew process.


    (1.j)  Has the Document Shepherd verified that sections of the
           document that are written in a formal language, such as XML
           code, BNF rules, MIB definitions, etc., validate correctly in
           an automated checker?

The document contains no formal language.

    (1.k)  The IESG approval announcement includes a Document
           Announcement Write-Up.  Please provide such a Document
           Announcement Write-Up.  Recent examples can be found in the
           "Action" announcements for approved documents.  The approval
           announcement contains the following sections:


Technical Summary

This document describes requirements for a protocol to negotiate a
security context for SIP-signaled SRTP media.  In addition to the
natural security requirements, this negotiation protocol must
interoperate well with SIP in certain ways.  A number of proposals
have been published and a summary of these proposals is in the
appendix of this document.


Working Group Summary
              Was there anything in the WG process that is worth noting?
              For example, was there controversy about particular points
              or were there decisions where the consensus was
              particularly rough?

There was considerable controvery about the inclusion of requirements
related to key disclosure. The 3GPP community wished to include a
requirement that arguably enabled MITM attacks -- essentially
requiring that the media key always be disclosed to signaling path
elements, such that lawful intercept can be exceuted without the
awareness of the endpoints. This requirement was excluded from the
final version of the document.


           Document Quality
              Are there existing implementations of the protocol?   
Have a
              significant number of vendors indicated their plan to
              implement the specification?  Are there any reviewers that
              merit special mention as having done a thorough review,
              e.g., one that resulted in important changes or a
              conclusion that the document had no substantive issues?   
If
              there was a MIB Doctor, Media Type, or other Expert  
Review,
              what was its course (briefly)?  In the case of a Media  
Type
              Review, on what date was the request posted?

Security adviser Eric Rescorla was actively involved in reviewing the
requirements, as they apply to the SRTP/DTLS framework for which he is
the editor.


           Personnel
              Who is the Document Shepherd for this document?  Who is  
the
              Responsible Area Director?  If the document requires IANA
              experts(s), insert 'The IANA Expert(s) for the registries
              in this document are <TO BE ADDED BY THE AD>.'

The Document Shepherd is Dean Willis. The Responsible Area Director is
Cullen Jennings. No IANA experts are required.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 14:27:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EA1103A698F;
	Thu, 18 Sep 2008 14:27:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C9BD3A698F
	for <sip@core3.amsl.com>; Thu, 18 Sep 2008 14:27:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.438
X-Spam-Level: 
X-Spam-Status: No, score=-2.438 tagged_above=-999 required=5 tests=[AWL=0.161, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YJ0eafDqbl2I for <sip@core3.amsl.com>;
	Thu, 18 Sep 2008 14:27:07 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id DA8A63A6935
	for <sip@ietf.org>; Thu, 18 Sep 2008 14:27:06 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8ILR9wS025747
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 18 Sep 2008 16:27:10 -0500
Message-Id: <175DF185-66E9-4D89-B0EA-6E052D54A306@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: SIP IETF <sip@ietf.org>
In-Reply-To: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 18 Sep 2008 16:27:03 -0500
References: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
X-Mailer: Apple Mail (2.929.2)
Cc: Cullen Jennings <fluffy@cisco.com>, Keith Drage <drage@alcatel-lucent.com>,
	Dan Wing <dwing@cisco.com>
Subject: [Sip] Resend: Draft Shepherd writeup for
	draft-ietf-sip-media-security-requirements-07
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Whoops, I just pasted and sent the wrong version of the writeup.  
Here's the correct one. Note that I originally sent this out in June,  
but we'll be submitting the SRTP framework too, so you get another  
chance here.

--


    (1.a)  Who is the Document Shepherd for this document?  Has the
           Document Shepherd personally reviewed this version of the
           document and, in particular, does he or she believe this
           version is ready for forwarding to the IESG for publication?

SIP chair Dean Willis is serving as the Document Shepherd for this
document.  He has personally reviewed this document and believes it is
as ready for forwarding to the IESG for publication as it is ever
going to get.


    (1.b)  Has the document had adequate review both from key WG members
           and from key non-WG members?  Does the Document Shepherd have
           any concerns about the depth or breadth of the reviews that
           have been performed?

The document has been intensively reviewed within the working
group. It was formally reviewed by John Elwell:

http://www.ietf.org/mail-archive/web/sip/current/msg22870.html.

which resulted in several small changes.


    (1.c)  Does the Document Shepherd have concerns that the document
           needs more review from a particular or broader perspective,
           e.g., security, operational complexity, someone familiar with
           AAA, internationalization or XML?

The shepherd has no such concerns.

    (1.d)  Does the Document Shepherd have any specific concerns or
           issues with this document that the Responsible Area Director
           and/or the IESG should be aware of?  For example, perhaps he
           or she is uncomfortable with certain parts of the document,  
or
           has concerns whether there really is a need for it.  In any
           event, if the WG has discussed those issues and has indicated
           that it still wishes to advance the document, detail those
           concerns here.  Has an IPR disclosure related to this  
document
           been filed?  If so, please include a reference to the
           disclosure and summarize the WG discussion and conclusion on
           this issue.

The shepherd has no specific concerns with this document.

    (1.e)  How solid is the WG consensus behind this document?  Does it
           represent the strong concurrence of a few individuals, with
           others being silent, or does the WG as a whole understand and
           agree with it?

Working group consensus is quite strong for this document. It was
considered "high profile" during the entire cycle, and has been very
thoroughly discussed. Numerous design changes were made in the process
in order to accomodate various points of view.


    (1.f)  Has anyone threatened an appeal or otherwise indicated  
extreme
           discontent?  If so, please summarise the areas of conflict in
           separate email messages to the Responsible Area Director.   
(It
           should be in a separate email because this questionnaire is
           entered into the ID Tracker.)

The shepherd is unaware of any extreme discontent with this version of
the draft. A previous version that did not require two "outbound
proxy" entries was disparaged on-list, but the document was revised to
accomodate this issue.



    (1.g)  Has the Document Shepherd personally verified that the
           document satisfies all ID nits?  (See
           http://www.ietf.org/ID-Checklist.html and
           http://tools.ietf.org/tools/idnits/).  Boilerplate checks are
           not enough; this check needs to be thorough.  Has the  
document
           met all formal review criteria it needs to, such as the MIB
           Doctor, media type and URI type reviews?

The document appears to satisfy the various checklist nits.

    (1.h)  Has the document split its references into normative and
           informative?  Are there normative references to documents  
that
           are not ready for advancement or are otherwise in an unclear
           state?  If such normative references exist, what is the
           strategy for their completion?  Are there normative  
references
           that are downward references, as described in [RFC3967]?  If
           so, list these downward references to support the Area
           Director in the Last Call procedure for them [RFC3967].

References are appropriately divided. There is one reference to a
draft that has been revised, but this does not impact the document.

    (1.i)  Has the Document Shepherd verified that the document IANA
           consideration section exists and is consistent with the body
           of the document?  If the document specifies protocol
           extensions, are reservations requested in appropriate IANA
           registries?  Are the IANA registries clearly identified?  If
           the document creates a new registry, does it define the
           proposed initial contents of the registry and an allocation
           procedure for future registrations?  Does it suggest a
           reasonable name for the new registry?  See [RFC2434].  If the
           document describes an Expert Review process has Shepherd
           conferred with the Responsible Area Director so that the IESG
           can appoint the needed Expert during the IESG Evaluation?

This document specifies seven IANA actions that appear to be valid and
complete. It defines no new registry or expert review process.

    (1.j)  Has the Document Shepherd verified that sections of the
           document that are written in a formal language, such as XML
           code, BNF rules, MIB definitions, etc., validate correctly in
           an automated checker?

The document shepherd verified the ABNF using Bill Fenner's checker.



    (1.k)  The IESG approval announcement includes a Document
           Announcement Write-Up.  Please provide such a Document
           Announcement Write-Up?  Recent examples can be found in the
           "Action" announcements for approved documents.  The approval
           announcement contains the following sections:




Technical Summary

This document defines a n extension to the Session Initiation Protocol
(SIP) that provides for persistent and reusable connections between
SIP User Agents and SIP Proxy Servers. In particular, this allows
proxy servers to initiate TCP connections or to send asynchronous UDP
datagrams to User Agents in order to deliver requests.  However, in a
large number of real deployments, many practical considerations, such
as the existence of firewalls and Network Address Translators (NATs)
or the use of TLS with server-provided certificates, prevent servers
from connecting to User Agents in this way.  This specification
defines behaviors for User Agents, registrars and proxy servers that
allow requests to be delivered on existing connections established by
the User Agent.  It also defines keep alive behaviors needed to keep
NAT bindings open and specifies the usage of multiple connections from
the User Agent to its Registrar.




Working Group Summary

The working group process on this document was exceptionally long. The
first WG version of the draft appeared in the summer of 2005. Working
group last call initiated in the summer of 2006 and extended until the
summer of 2008, requring several iterations of the draft and the
assignment of Francois Audet as a "process champion" for the draft
within the working group. Most delays seem to have been related to
slow cycle time on the part of the authors, but the process was also
delayed by a number of changes occurring during the review cycle.

Particular sticking points included the keepalive mechanism and a
requirement for binding to multiple outbound proxies if so
configured. The latter was eventually resolved by a widely-accepted
compromise, but the keepalive topic is still being debated.  Although
there is a strong consensus for the keepalive technique specified in
this document, there is some reason to believe that there may be a
need for the keeplaive mechanism independently of the outbound
relationship. There is currently a draft proposing such a mechanism.

This suggests that it might have been more effective to document the
outbound binding and keepalive mechanisms independently.


Document Quality

There are numerous implementations of the protocol, and it has been
tested at SIPit events since 2005.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 18 18:53:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 217413A6E47;
	Thu, 18 Sep 2008 18:53:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0210C3A6E47
	for <sip@core3.amsl.com>; Thu, 18 Sep 2008 18:53:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.74
X-Spam-Level: 
X-Spam-Status: No, score=-1.74 tagged_above=-999 required=5
	tests=[BAYES_20=-0.74, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2FrDt8lcOwfF for <sip@core3.amsl.com>;
	Thu, 18 Sep 2008 18:53:10 -0700 (PDT)
Received: from brinza.cc.columbia.edu (brinza.cc.columbia.edu [128.59.29.8])
	by core3.amsl.com (Postfix) with ESMTP id CD3453A6E41
	for <sip@ietf.org>; Thu, 18 Sep 2008 18:53:07 -0700 (PDT)
Received: from [192.168.0.61] (pool-71-250-72-76.nwrknj.east.verizon.net
	[71.250.72.76]) (user=hgs10 mech=PLAIN bits=0)
	by brinza.cc.columbia.edu (8.14.1/8.14.1) with ESMTP id m8J1rJ6e022739
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <sip@ietf.org>; Thu, 18 Sep 2008 21:53:21 -0400 (EDT)
Message-Id: <D55242EC-5269-45E9-9615-07BEEE02AF4C@cs.columbia.edu>
From: Henning Schulzrinne <hgs@cs.columbia.edu>
To: IETF SIP List <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 18 Sep 2008 21:53:19 -0400
X-Mailer: Apple Mail (2.929.2)
X-No-Spam-Score: Local
X-Scanned-By: MIMEDefang 2.63 on 128.59.29.8
Subject: [Sip] Project suggestions for class
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I'm teaching a seminar class on VoIP this semester at Columbia and  
students are asked to complete a semester programming project. If you  
have suggestions for nice projects that can be done by 2-3 MS students  
in a semester, please let me know. (By Columbia IPR rules, it's up to  
the students whether they release the source code as open source.)

Henning
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 04:53:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 01EC528C102;
	Fri, 19 Sep 2008 04:53:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A38093A677C
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 04:53:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.944
X-Spam-Level: 
X-Spam-Status: No, score=-4.944 tagged_above=-999 required=5 tests=[AWL=1.055, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_25=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tGaz82JjQ7Mm for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 04:53:30 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id 6C17628C102
	for <sip@ietf.org>; Fri, 19 Sep 2008 04:53:30 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8JBrRud001306
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Fri, 19 Sep 2008 13:53:27 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8JBrQS0013184 for <sip@ietf.org>; Fri, 19 Sep 2008 13:53:26 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: <sip@ietf.org>
Date: Fri, 19 Sep 2008 13:53:25 +0200
Message-ID: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
thread-index: AckaTZ+GSrsjaD1eSny5uz3t0YkurQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080919135327-4E162BB0-99A7E41A/0-0/0-15
X-purgate-size: 5004/0
Subject: [Sip] [sip] extensions of "handling" parameter of
	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0055060097=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0055060097==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00EE_01C91A5F.16B3B0A0"

This is a multi-part message in MIME format.

------=_NextPart_000_00EE_01C91A5F.16B3B0A0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hello,
 
can anyone please give me an expert opinion on possible extensions of
"handling" parameter defined in RFC3204/RFC3459?
 
Is it appropriate to extend and use the "handling" parameter of
Content-Disposition header of a MIME body inserted in a SIP request to
signal a particular action which the sender requests from the recipient? 
 
For example - if the "handling" parameter contained value "XYZ", the SIP
request recipient would do a special action ActionXYZ using the MIME body.
If the MIME body was included in the SIP request without the "handling"
parameter, the recipient would NOT do the special action XYZ and instead
would just store or render the MIME body.
 
AFAIK, RFC3204 defines parameter "handling" of Content-Disposition header of
a MIME body with two defined parameter values "required" and "optional" and
allows for possible future extensions. RFC3204 also states "The handling
parameter, handling-parm, describes how the UAS should react if it receives
a message body whose content type or disposition type it does not
understand". RFC3459 says "The protocol described here is identical in
functionality to RFC 3204 with respect to SIP.".
 
Kind regards
 
Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532 <tel:+420543106532> 
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL 

 

------=_NextPart_000_00EE_01C91A5F.16B3B0A0
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3395" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008>Hello,</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D982234810-19092008>can =
anyone please=20
give me an expert opinion on possible extensions of "handling" parameter =
defined=20
in RFC3204/RFC3459?</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Is it appropriate to&nbsp;<SPAN=20
class=3D982234810-19092008>extend and </SPAN><SPAN =
class=3D982234810-19092008>use=20
</SPAN>the "handling" parameter of Content-Disposition header of a MIME=20
body&nbsp;<SPAN class=3D982234810-19092008>inserted in a SIP request =
</SPAN>to=20
signal&nbsp;<SPAN class=3D982234810-19092008>a particular </SPAN>action =
which the=20
sender requests from the recipient?&nbsp;<BR>&nbsp;<BR><SPAN=20
class=3D982234810-19092008>For example - </SPAN>if&nbsp;<SPAN=20
class=3D982234810-19092008>the </SPAN>"handling" parameter contained =
value "XYZ",=20
the SIP request recipient would do a special action&nbsp;<SPAN=20
class=3D982234810-19092008>Action</SPAN>XYZ using the MIME body. If =
<SPAN=20
class=3D982234810-19092008>the MIME body was included in the SIP request =
without=20
the "handling" parameter</SPAN>, the recipient would NOT do the special =
action=20
XYZ<SPAN class=3D982234810-19092008> and instead would just&nbsp;store =
or render=20
the MIME body</SPAN>.</FONT></DIV>
<DIV><FONT face=3DArial><FONT size=3D2></FONT></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial><FONT size=3D2><SPAN =
class=3D982234810-19092008>AFAIK,=20
</SPAN>RFC3204 defines parameter "handling" of Content-Disposition =
header of a=20
MIME body with two defined parameter values "<SPAN=20
class=3D982234810-19092008>required</SPAN>" and "optional" =
and&nbsp;<SPAN=20
class=3D982234810-19092008>allows for </SPAN>possible future extensions. =
RFC3204=20
also states "The handling parameter, handling-parm, describes how the =
UAS should=20
react if it receives a message body whose content type or disposition =
type it=20
does not understand".<SPAN class=3D982234810-19092008>&nbsp;RFC3459 says =
"The=20
protocol described here is identical in functionality to RFC 3204 with =
respect=20
to SIP.".</SPAN><BR>&nbsp;<BR><SPAN class=3D982234810-19092008>Kind=20
regards</SPAN></FONT></FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV><SPAN=20
style=3D"FONT-SIZE: 9pt; FONT-FAMILY: Verdana"><B><SPAN=20
style=3D"FONT-SIZE: 10pt">Ivo Sedlacek</SPAN></B><BR>Siemens<BR>PSE CZ =
TMM=20
MMA8<BR>phone: <A href=3D"tel:+420543106532">+420 5 3877 =
6532</A><BR>email: <A=20
href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</A>, =
<A=20
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</A><BR>=
<BR>Mailcode:=20
tL3PbjBL <BR></SPAN>
<DIV>&nbsp;</DIV></BODY></HTML>

------=_NextPart_000_00EE_01C91A5F.16B3B0A0--


--===============0055060097==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0055060097==--



From sip-bounces@ietf.org  Fri Sep 19 05:08:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7837628C122;
	Fri, 19 Sep 2008 05:08:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 470A828C120
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 05:08:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.072
X-Spam-Level: 
X-Spam-Status: No, score=-5.072 tagged_above=-999 required=5 tests=[AWL=0.927, 
	BAYES_00=-2.599, J_CHICKENPOX_25=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DIF+bT6mXlH5 for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 05:08:22 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 7398A3A6A69
	for <sip@ietf.org>; Fri, 19 Sep 2008 05:08:22 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,429,1217808000"; d="scan'208";a="21366375"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-2.cisco.com with ESMTP; 19 Sep 2008 12:08:28 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8JC8RvV008779; 
	Fri, 19 Sep 2008 08:08:28 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8JC8RTq023488;
	Fri, 19 Sep 2008 12:08:27 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 19 Sep 2008 08:08:14 -0400
Received: from [10.82.248.240] ([10.82.248.240]) by xfe-rtp-201.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 19 Sep 2008 08:08:14 -0400
Message-ID: <48D3962D.6030007@cisco.com>
Date: Fri, 19 Sep 2008 08:08:13 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
In-Reply-To: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
X-OriginalArrivalTime: 19 Sep 2008 12:08:14.0697 (UTC)
	FILETIME=[64C2E590:01C91A50]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2158; t=1221826108;
	x=1222690108; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[sip]=20extensions=20of=20=22ha
	ndling=22=20parameter=20of=09Content-Disposition=0A=20header
	|Sender:=20 |To:=20Sedlacek=20Ivo=20<ivo.sedlacek.ext@nsn.com>;
	bh=Nb4M8OK9dtr7k/sdS9VuS5iLuf/0lFwIBVAMr26VFtU=;
	b=jRzX2Bdeer48rajIauTd+LFC1U0JtAiqdknb+jX0FN7CyfQLvtmfXusxdn
	F0SzVAHYbnyKEd7WN2D+MiztepUKnKoBn/8Ia25LekOl6Dag0pvNMSZW3vJE
	D09hYZD2GI;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] [sip] extensions of "handling" parameter
 of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I can't think why you would want to have added values for the handling 
parameter. IMO what you want to do would be better served by values of 
the Content-Disposition itself.

	Thanks,
	Paul

Sedlacek Ivo wrote:
> Hello,
>  
> can anyone please give me an expert opinion on possible extensions of 
> "handling" parameter defined in RFC3204/RFC3459?
>  
> Is it appropriate to extend and use the "handling" parameter of 
> Content-Disposition header of a MIME body inserted in a SIP request to 
> signal a particular action which the sender requests from the recipient? 
>  
> For example - if the "handling" parameter contained value "XYZ", the SIP 
> request recipient would do a special action ActionXYZ using the MIME 
> body. If the MIME body was included in the SIP request without the 
> "handling" parameter, the recipient would NOT do the special action XYZ 
> and instead would just store or render the MIME body.
>  
> AFAIK, RFC3204 defines parameter "handling" of Content-Disposition 
> header of a MIME body with two defined parameter values "required" and 
> "optional" and allows for possible future extensions. RFC3204 also 
> states "The handling parameter, handling-parm, describes how the UAS 
> should react if it receives a message body whose content type or 
> disposition type it does not understand". RFC3459 says "The protocol 
> described here is identical in functionality to RFC 3204 with respect to 
> SIP.".
>  
> Kind regards
>  
> *Ivo Sedlacek*
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532 <tel:+420543106532>
> email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>, 
> ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> 
> Mailcode: tL3PbjBL
>  
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 05:16:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC0653A6B31;
	Fri, 19 Sep 2008 05:16:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2B0D33A6B31
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 05:16:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.295
X-Spam-Level: 
X-Spam-Status: No, score=-5.295 tagged_above=-999 required=5 tests=[AWL=0.703, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_25=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Axn+w2atS3a1 for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 05:16:05 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id B8D573A6AC8
	for <sip@ietf.org>; Fri, 19 Sep 2008 05:16:04 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8JCGGbk022261
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Fri, 19 Sep 2008 14:16:16 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8JCGFqA022121; Fri, 19 Sep 2008 14:16:15 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: "'ext Paul Kyzivat'" <pkyzivat@cisco.com>, <sip@ietf.org>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
Date: Fri, 19 Sep 2008 14:16:14 +0200
Message-ID: <011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
thread-index: AckaUG1JJJm5DOdoTOKzAHdemjrX9AAAFBYQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
In-Reply-To: <48D3962D.6030007@cisco.com>
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080919141616-4E163BB0-48FB6D28/0-0/0-15
X-purgate-size: 7674/0
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============2119889309=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============2119889309==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0115_01C91A62.46877750"

This is a multi-part message in MIME format.

------=_NextPart_000_0115_01C91A62.46877750
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

Just to be absolutely sure - do you mean that it is more appropriate to
create a new disposition-type of the Content-Disposition header (rather =
than
creating new "handling" parameter values)? Thanks.

Kind regards

Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL

-----Original Message-----
From: ext Paul Kyzivat [ <mailto:pkyzivat@cisco.com>
mailto:pkyzivat@cisco.com]
Sent: 19. z=E1=F8=ED 2008 14:08
To: Sedlacek Ivo
Cc: sip@ietf.org
Subject: Re: [Sip] [sip] extensions of "handling" parameter of
Content-Disposition header

I can't think why you would want to have added values for the handling
parameter. IMO what you want to do would be better served by values of
the Content-Disposition itself.

        Thanks,
        Paul

Sedlacek Ivo wrote:
> Hello,
>=20
> can anyone please give me an expert opinion on possible extensions of
> "handling" parameter defined in RFC3204/RFC3459?
>=20
> Is it appropriate to extend and use the "handling" parameter of
> Content-Disposition header of a MIME body inserted in a SIP request to
> signal a particular action which the sender requests from the =
recipient?
>=20
> For example - if the "handling" parameter contained value "XYZ", the =
SIP
> request recipient would do a special action ActionXYZ using the MIME
> body. If the MIME body was included in the SIP request without the
> "handling" parameter, the recipient would NOT do the special action =
XYZ
> and instead would just store or render the MIME body.
>=20
> AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
> header of a MIME body with two defined parameter values "required" and
> "optional" and allows for possible future extensions. RFC3204 also
> states "The handling parameter, handling-parm, describes how the UAS
> should react if it receives a message body whose content type or
> disposition type it does not understand". RFC3459 says "The protocol
> described here is identical in functionality to RFC 3204 with respect =
to
> SIP.".
>=20
> Kind regards
>=20
> *Ivo Sedlacek*
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532 <tel:+420543106532>
> email: ivo.sedlacek.ext@nsn.com < <mailto:ivo.sedlacek.ext@nsn.com>
mailto:ivo.sedlacek.ext@nsn.com>,
> ivo.sedlacek@siemens.com < <mailto:ivo.sedlacek@siemens.com>
mailto:ivo.sedlacek@siemens.com>
>
> Mailcode: tL3PbjBL
>=20
>
>
> =
------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list   <https://www.ietf.org/mailman/listinfo/sip>
https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


------=_NextPart_000_0115_01C91A62.46877750
Content-Type: text/html;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE></TITLE>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-2">
<META content=3D"MSHTML 6.00.2900.3395" name=3DGENERATOR></HEAD>
<BODY><!-- Converted from text/plain format -->
<DIV><FONT face=3DArial size=3D2>Just to be absolutely sure - do you =
mean that it is=20
more appropriate to create a new disposition-type of the =
Content-Disposition=20
header (rather than creating new "handling" parameter values)?=20
Thanks.<BR><BR>Kind regards<BR><BR>Ivo Sedlacek<BR>Siemens<BR>PSE CZ TMM =

MMA8<BR>phone: +420 5 3877 6532<BR>email: ivo.sedlacek.ext@nsn.com,=20
ivo.sedlacek@siemens.com<BR><BR>Mailcode: tL3PbjBL<BR><BR>-----Original=20
Message-----<BR>From: ext Paul Kyzivat [</FONT><A=20
href=3D"mailto:pkyzivat@cisco.com"><FONT face=3DArial color=3D#000000=20
size=3D2>mailto:pkyzivat@cisco.com</FONT></A><FONT face=3DArial =
size=3D2>]<BR>Sent:=20
19. z=E1=F8=ED 2008 14:08<BR>To: Sedlacek Ivo<BR>Cc: =
sip@ietf.org<BR>Subject: Re:=20
[Sip] [sip] extensions of "handling" parameter of Content-Disposition=20
header<BR><BR>I can't think why you would want to have added values for =
the=20
handling<BR>parameter. IMO what you want to do would be better served by =
values=20
of<BR>the Content-Disposition=20
itself.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
Thanks,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Paul<BR><BR>Sedlacek Ivo=20
wrote:<BR>&gt; Hello,<BR>&gt;&nbsp;<BR>&gt; can anyone please give me an =
expert=20
opinion on possible extensions of<BR>&gt; "handling" parameter defined =
in=20
RFC3204/RFC3459?<BR>&gt;&nbsp;<BR>&gt; Is it appropriate to extend and =
use the=20
"handling" parameter of<BR>&gt; Content-Disposition header of a MIME =
body=20
inserted in a SIP request to<BR>&gt; signal a particular action which =
the sender=20
requests from the recipient?<BR>&gt;&nbsp;<BR>&gt; For example - if the=20
"handling" parameter contained value "XYZ", the SIP<BR>&gt; request =
recipient=20
would do a special action ActionXYZ using the MIME<BR>&gt; body. If the =
MIME=20
body was included in the SIP request without the<BR>&gt; "handling" =
parameter,=20
the recipient would NOT do the special action XYZ<BR>&gt; and instead =
would just=20
store or render the MIME body.<BR>&gt;&nbsp;<BR>&gt; AFAIK, RFC3204 =
defines=20
parameter "handling" of Content-Disposition<BR>&gt; header of a MIME =
body with=20
two defined parameter values "required" and<BR>&gt; "optional" and =
allows for=20
possible future extensions. RFC3204 also<BR>&gt; states "The handling =
parameter,=20
handling-parm, describes how the UAS<BR>&gt; should react if it receives =
a=20
message body whose content type or<BR>&gt; disposition type it does not=20
understand". RFC3459 says "The protocol<BR>&gt; described here is =
identical in=20
functionality to RFC 3204 with respect to<BR>&gt; =
SIP.".<BR>&gt;&nbsp;<BR>&gt;=20
Kind regards<BR>&gt;&nbsp;<BR>&gt; *Ivo Sedlacek*<BR>&gt; =
Siemens<BR>&gt; PSE CZ=20
TMM MMA8<BR>&gt; phone: +420 5 3877 6532 =
&lt;tel:+420543106532&gt;<BR>&gt;=20
email: ivo.sedlacek.ext@nsn.com &lt;</FONT><A=20
href=3D"mailto:ivo.sedlacek.ext@nsn.com"><FONT face=3DArial =
color=3D#000000=20
size=3D2>mailto:ivo.sedlacek.ext@nsn.com</FONT></A><FONT face=3DArial=20
size=3D2>&gt;,<BR>&gt; ivo.sedlacek@siemens.com &lt;</FONT><A=20
href=3D"mailto:ivo.sedlacek@siemens.com"><FONT face=3DArial =
color=3D#000000=20
size=3D2>mailto:ivo.sedlacek@siemens.com</FONT></A><FONT face=3DArial=20
size=3D2>&gt;<BR>&gt;<BR>&gt; Mailcode:=20
tL3PbjBL<BR>&gt;&nbsp;<BR>&gt;<BR>&gt;<BR>&gt;=20
------------------------------------------------------------------------<=
BR>&gt;<BR>&gt;=20
_______________________________________________<BR>&gt; Sip mailing =
list&nbsp;=20
</FONT><A href=3D"https://www.ietf.org/mailman/listinfo/sip"><FONT =
face=3DArial=20
color=3D#000000=20
size=3D2>https://www.ietf.org/mailman/listinfo/sip</FONT></A><BR><FONT =
face=3DArial=20
size=3D2>&gt; This list is for NEW development of the core SIP =
Protocol<BR>&gt;=20
Use sip-implementors@cs.columbia.edu for questions on current =
sip<BR>&gt; Use=20
sipping@ietf.org for new developments on the application of=20
sip<BR></FONT></DIV></BODY></HTML>

------=_NextPart_000_0115_01C91A62.46877750--


--===============2119889309==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============2119889309==--



From sip-bounces@ietf.org  Fri Sep 19 06:17:43 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 233853A6918;
	Fri, 19 Sep 2008 06:17:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 43A223A6918
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 06:17:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.231
X-Spam-Level: 
X-Spam-Status: No, score=-6.231 tagged_above=-999 required=5
	tests=[AWL=-0.232, BAYES_00=-2.599, J_CHICKENPOX_25=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JxHrydfuxhGQ for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 06:17:41 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id D27AF3A67F8
	for <sip@ietf.org>; Fri, 19 Sep 2008 06:17:40 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,429,1217808000"; d="scan'208";a="21408461"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 19 Sep 2008 13:16:40 +0000
Received: from rtp-core-1.cisco.com (rtp-core-1.cisco.com [64.102.124.12])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8JDGebF007175; 
	Fri, 19 Sep 2008 09:16:40 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8JDGdJc006311;
	Fri, 19 Sep 2008 13:16:40 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 19 Sep 2008 09:15:32 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Fri, 19 Sep 2008 09:15:32 -0400
Message-ID: <48D3A5F4.1040901@cisco.com>
Date: Fri, 19 Sep 2008 09:15:32 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
In-Reply-To: <011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
X-OriginalArrivalTime: 19 Sep 2008 13:15:32.0509 (UTC)
	FILETIME=[CB7C1CD0:01C91A59]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3273; t=1221830200;
	x=1222694200; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[sip]=20extensions=20of=20=22ha
	ndling=22=20parameter=20of=09Content-Disposition=0A=20header
	|Sender:=20 |To:=20Sedlacek=20Ivo=20<ivo.sedlacek.ext@nsn.com>;
	bh=MvEpMnLdztnXH1Bcxwqk5EpGO0ZkeMIhzHyDB1nCQ8w=;
	b=AX/VxYkm+zWMMNK8er2HXVkuFeVqqzEvLQmr8heQfXTI21W6cCo4gPlfpK
	V5BL1RdZflcEfI1IEdgezpute48gOiM4uZejKhNwCrYR2DZs700t20MB1tfy
	a5f1n7jprb;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] [sip] extensions of "handling" parameter
 of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Sedlacek Ivo wrote:
> Just to be absolutely sure - do you mean that it is more appropriate to =

> create a new disposition-type of the Content-Disposition header (rather =

> than creating new "handling" parameter values)? Thanks.

Yes. We have already created several for use with SIP. While I don't =

think this is something we want a *lot* of, with enough justification it =

is reasonable to create another.

You should take a look at:

http://www.ietf.org/internet-drafts/draft-ietf-sip-body-handling-03.txt

	Thanks,
	Paul

> Kind regards
> =

> Ivo Sedlacek
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532
> email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com
> =

> Mailcode: tL3PbjBL
> =

> -----Original Message-----
> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: 19. z=E1=F8=ED 2008 14:08
> To: Sedlacek Ivo
> Cc: sip@ietf.org
> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =

> Content-Disposition header
> =

> I can't think why you would want to have added values for the handling
> parameter. IMO what you want to do would be better served by values of
> the Content-Disposition itself.
> =

>         Thanks,
>         Paul
> =

> Sedlacek Ivo wrote:
>  > Hello,
>  > =

>  > can anyone please give me an expert opinion on possible extensions of
>  > "handling" parameter defined in RFC3204/RFC3459?
>  > =

>  > Is it appropriate to extend and use the "handling" parameter of
>  > Content-Disposition header of a MIME body inserted in a SIP request to
>  > signal a particular action which the sender requests from the recipien=
t?
>  > =

>  > For example - if the "handling" parameter contained value "XYZ", the S=
IP
>  > request recipient would do a special action ActionXYZ using the MIME
>  > body. If the MIME body was included in the SIP request without the
>  > "handling" parameter, the recipient would NOT do the special action XYZ
>  > and instead would just store or render the MIME body.
>  > =

>  > AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
>  > header of a MIME body with two defined parameter values "required" and
>  > "optional" and allows for possible future extensions. RFC3204 also
>  > states "The handling parameter, handling-parm, describes how the UAS
>  > should react if it receives a message body whose content type or
>  > disposition type it does not understand". RFC3459 says "The protocol
>  > described here is identical in functionality to RFC 3204 with respect =
to
>  > SIP.".
>  > =

>  > Kind regards
>  > =

>  > *Ivo Sedlacek*
>  > Siemens
>  > PSE CZ TMM MMA8
>  > phone: +420 5 3877 6532 <tel:+420543106532>
>  > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
>  > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
>  >
>  > Mailcode: tL3PbjBL
>  > =

>  >
>  >
>  > ----------------------------------------------------------------------=
--
>  >
>  > _______________________________________________
>  > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>  > This list is for NEW development of the core SIP Protocol
>  > Use sip-implementors@cs.columbia.edu for questions on current sip
>  > Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 07:17:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B318F3A6ADE;
	Fri, 19 Sep 2008 07:17:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8A6CE3A6802
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 07:17:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.672
X-Spam-Level: 
X-Spam-Status: No, score=-1.672 tagged_above=-999 required=5 tests=[AWL=0.926, 
	BAYES_00=-2.599, STOX_REPLY_TYPE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id J+XC+KOu+m+a for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 07:17:34 -0700 (PDT)
Received: from mout.perfora.net (mout.perfora.net [74.208.4.196])
	by core3.amsl.com (Postfix) with ESMTP id 8A49B3A696C
	for <sip@ietf.org>; Fri, 19 Sep 2008 07:17:34 -0700 (PDT)
Received: from S73602b (w173.z064002096.dfw-tx.dsl.cnc.net [64.2.96.173])
	by mrelay.perfora.net (node=mrus0) with ESMTP (Nemesis)
	id 0MKp8S-1Kggnn0GQz-0005iG; Fri, 19 Sep 2008 10:17:49 -0400
Message-ID: <04f201c91a62$79d1ce80$6701a8c0@china.huawei.com>
From: "Spencer Dawkins" <spencer@wonderhamster.org>
To: "Dean Willis" <dean.willis@softarmor.com>,
	"SIP IETF" <sip@ietf.org>
References: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
	<175DF185-66E9-4D89-B0EA-6E052D54A306@softarmor.com>
Date: Fri, 19 Sep 2008 09:17:32 -0500
MIME-Version: 1.0
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-Mimeole: Produced By Microsoft MimeOLE V6.00.2900.3350
X-Provags-ID: V01U2FsdGVkX1+rBkn0BfLa8eREWWy0M5YM+FDDnIbUQOUalNf
	l8IBSa26U+YXrNA5alWliCOF0+0nV2Uo/FP421QSddUw/+yPbq
	oxuOffdnZllnRzuvrfBn+ANXUEBhCMXQqvCdD7H124=
Cc: Cullen Jennings <fluffy@cisco.com>, Keith Drage <drage@alcatel-lucent.com>,
	Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] Resend: Draft Shepherd writeup
	fordraft-ietf-sip-media-security-requirements-07
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hi, Dean,

This is actually for outbound/please ignore the subject line, right?

Spencer

p.s. :-)

> 
> Whoops, I just pasted and sent the wrong version of the writeup.  
> Here's the correct one. Note that I originally sent this out in June,  
> but we'll be submitting the SRTP framework too, so you get another  
> chance here.
> 
> --
> 
> 
>    (1.a)  Who is the Document Shepherd for this document?  Has the
>           Document Shepherd personally reviewed this version of the
>           document and, in particular, does he or she believe this
>           version is ready for forwarding to the IESG for publication?
> 
> SIP chair Dean Willis is serving as the Document Shepherd for this
> document.  He has personally reviewed this document and believes it is
> as ready for forwarding to the IESG for publication as it is ever
> going to get.
> 
> 
>    (1.b)  Has the document had adequate review both from key WG members
>           and from key non-WG members?  Does the Document Shepherd have
>           any concerns about the depth or breadth of the reviews that
>           have been performed?
> 
> The document has been intensively reviewed within the working
> group. It was formally reviewed by John Elwell:
> 
> http://www.ietf.org/mail-archive/web/sip/current/msg22870.html.
> 
> which resulted in several small changes.
> 
> 
>    (1.c)  Does the Document Shepherd have concerns that the document
>           needs more review from a particular or broader perspective,
>           e.g., security, operational complexity, someone familiar with
>           AAA, internationalization or XML?
> 
> The shepherd has no such concerns.
> 
>    (1.d)  Does the Document Shepherd have any specific concerns or
>           issues with this document that the Responsible Area Director
>           and/or the IESG should be aware of?  For example, perhaps he
>           or she is uncomfortable with certain parts of the document,  
> or
>           has concerns whether there really is a need for it.  In any
>           event, if the WG has discussed those issues and has indicated
>           that it still wishes to advance the document, detail those
>           concerns here.  Has an IPR disclosure related to this  
> document
>           been filed?  If so, please include a reference to the
>           disclosure and summarize the WG discussion and conclusion on
>           this issue.
> 
> The shepherd has no specific concerns with this document.
> 
>    (1.e)  How solid is the WG consensus behind this document?  Does it
>           represent the strong concurrence of a few individuals, with
>           others being silent, or does the WG as a whole understand and
>           agree with it?
> 
> Working group consensus is quite strong for this document. It was
> considered "high profile" during the entire cycle, and has been very
> thoroughly discussed. Numerous design changes were made in the process
> in order to accomodate various points of view.
> 
> 
>    (1.f)  Has anyone threatened an appeal or otherwise indicated  
> extreme
>           discontent?  If so, please summarise the areas of conflict in
>           separate email messages to the Responsible Area Director.   
> (It
>           should be in a separate email because this questionnaire is
>           entered into the ID Tracker.)
> 
> The shepherd is unaware of any extreme discontent with this version of
> the draft. A previous version that did not require two "outbound
> proxy" entries was disparaged on-list, but the document was revised to
> accomodate this issue.
> 
> 
> 
>    (1.g)  Has the Document Shepherd personally verified that the
>           document satisfies all ID nits?  (See
>           http://www.ietf.org/ID-Checklist.html and
>           http://tools.ietf.org/tools/idnits/).  Boilerplate checks are
>           not enough; this check needs to be thorough.  Has the  
> document
>           met all formal review criteria it needs to, such as the MIB
>           Doctor, media type and URI type reviews?
> 
> The document appears to satisfy the various checklist nits.
> 
>    (1.h)  Has the document split its references into normative and
>           informative?  Are there normative references to documents  
> that
>           are not ready for advancement or are otherwise in an unclear
>           state?  If such normative references exist, what is the
>           strategy for their completion?  Are there normative  
> references
>           that are downward references, as described in [RFC3967]?  If
>           so, list these downward references to support the Area
>           Director in the Last Call procedure for them [RFC3967].
> 
> References are appropriately divided. There is one reference to a
> draft that has been revised, but this does not impact the document.
> 
>    (1.i)  Has the Document Shepherd verified that the document IANA
>           consideration section exists and is consistent with the body
>           of the document?  If the document specifies protocol
>           extensions, are reservations requested in appropriate IANA
>           registries?  Are the IANA registries clearly identified?  If
>           the document creates a new registry, does it define the
>           proposed initial contents of the registry and an allocation
>           procedure for future registrations?  Does it suggest a
>           reasonable name for the new registry?  See [RFC2434].  If the
>           document describes an Expert Review process has Shepherd
>           conferred with the Responsible Area Director so that the IESG
>           can appoint the needed Expert during the IESG Evaluation?
> 
> This document specifies seven IANA actions that appear to be valid and
> complete. It defines no new registry or expert review process.
> 
>    (1.j)  Has the Document Shepherd verified that sections of the
>           document that are written in a formal language, such as XML
>           code, BNF rules, MIB definitions, etc., validate correctly in
>           an automated checker?
> 
> The document shepherd verified the ABNF using Bill Fenner's checker.
> 
> 
> 
>    (1.k)  The IESG approval announcement includes a Document
>           Announcement Write-Up.  Please provide such a Document
>           Announcement Write-Up?  Recent examples can be found in the
>           "Action" announcements for approved documents.  The approval
>           announcement contains the following sections:
> 
> 
> 
> 
> Technical Summary
> 
> This document defines a n extension to the Session Initiation Protocol
> (SIP) that provides for persistent and reusable connections between
> SIP User Agents and SIP Proxy Servers. In particular, this allows
> proxy servers to initiate TCP connections or to send asynchronous UDP
> datagrams to User Agents in order to deliver requests.  However, in a
> large number of real deployments, many practical considerations, such
> as the existence of firewalls and Network Address Translators (NATs)
> or the use of TLS with server-provided certificates, prevent servers
> from connecting to User Agents in this way.  This specification
> defines behaviors for User Agents, registrars and proxy servers that
> allow requests to be delivered on existing connections established by
> the User Agent.  It also defines keep alive behaviors needed to keep
> NAT bindings open and specifies the usage of multiple connections from
> the User Agent to its Registrar.
> 
> 
> 
> 
> Working Group Summary
> 
> The working group process on this document was exceptionally long. The
> first WG version of the draft appeared in the summer of 2005. Working
> group last call initiated in the summer of 2006 and extended until the
> summer of 2008, requring several iterations of the draft and the
> assignment of Francois Audet as a "process champion" for the draft
> within the working group. Most delays seem to have been related to
> slow cycle time on the part of the authors, but the process was also
> delayed by a number of changes occurring during the review cycle.
> 
> Particular sticking points included the keepalive mechanism and a
> requirement for binding to multiple outbound proxies if so
> configured. The latter was eventually resolved by a widely-accepted
> compromise, but the keepalive topic is still being debated.  Although
> there is a strong consensus for the keepalive technique specified in
> this document, there is some reason to believe that there may be a
> need for the keeplaive mechanism independently of the outbound
> relationship. There is currently a draft proposing such a mechanism.
> 
> This suggests that it might have been more effective to document the
> outbound binding and keepalive mechanisms independently.
> 
> 
> Document Quality
> 
> There are numerous implementations of the protocol, and it has been
> tested at SIPit events since 2005.
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 13:40:02 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 92EB43A688B;
	Fri, 19 Sep 2008 13:40:02 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EB2E33A688B
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 13:40:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -106.599
X-Spam-Level: 
X-Spam-Status: No, score=-106.599 tagged_above=-999 required=5
	tests=[AWL=0.000, BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eh6idNx6u0G2 for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 13:39:55 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id E3C633A67D8
	for <sip@ietf.org>; Fri, 19 Sep 2008 13:39:54 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,432,1217808000"; d="scan'208";a="80148616"
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-1.cisco.com with ESMTP; 19 Sep 2008 20:40:10 +0000
Received: from sj-core-1.cisco.com (sj-core-1.cisco.com [171.71.177.237])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m8JKeAOs022741; 
	Fri, 19 Sep 2008 13:40:10 -0700
Received: from [192.168.4.177] (rcdn-fluffy-8711.cisco.com [10.99.9.18])
	by sj-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m8JKe7Pb028662;
	Fri, 19 Sep 2008 20:40:08 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: "Spencer Dawkins" <spencer@wonderhamster.org>
In-Reply-To: <04f201c91a62$79d1ce80$6701a8c0@china.huawei.com>
Impp: xmpp:cullenfluffyjennings@jabber.org
X-Priority: 3
References: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
	<175DF185-66E9-4D89-B0EA-6E052D54A306@softarmor.com>
	<04f201c91a62$79d1ce80$6701a8c0@china.huawei.com>
Message-Id: <F344D15D-6957-4CCE-A67E-6D67D566CC02@cisco.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Fri, 19 Sep 2008 14:40:02 -0600
X-Mailer: Apple Mail (2.929.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=9606; t=1221856810;
	x=1222720810; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Resend=3A=20Draft=20Shepherd=20
	writeup=20fordraft-ietf-sip-media-security-requirements-07
	|Sender:=20; bh=ZtztdBD0NF1fARfulwOPi6FGV9kWsg6CW50AzRW2h3M=;
	b=qDlOq4U8IYcTya+tF4UgFF288ujkrW1HfddPyv+gyZFnghtiJu/CVbuTmV
	SC7+FUullda2e0XgqESEO8u2YLP5FKpIQCBsGDrz0Ctwt0SIQ4r98NGc1eE1
	Pywwi3zDBL;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: SIP IETF <sip@ietf.org>, Keith Drage <drage@alcatel-lucent.com>,
	Dan Wing <dwing@cisco.com>, Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Resend: Draft Shepherd writeup
	fordraft-ietf-sip-media-security-requirements-07
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Outbound is already pub requested and write up is done so I think Dean  
just had a cut and paste slip up here.

On Sep 19, 2008, at 8:17 AM, Spencer Dawkins wrote:

> Hi, Dean,
>
> This is actually for outbound/please ignore the subject line, right?
>
> Spencer
>
> p.s. :-)
>
>> Whoops, I just pasted and sent the wrong version of the writeup.   
>> Here's the correct one. Note that I originally sent this out in  
>> June,  but we'll be submitting the SRTP framework too, so you get  
>> another  chance here.
>> --
>>   (1.a)  Who is the Document Shepherd for this document?  Has the
>>          Document Shepherd personally reviewed this version of the
>>          document and, in particular, does he or she believe this
>>          version is ready for forwarding to the IESG for publication?
>> SIP chair Dean Willis is serving as the Document Shepherd for this
>> document.  He has personally reviewed this document and believes it  
>> is
>> as ready for forwarding to the IESG for publication as it is ever
>> going to get.
>>   (1.b)  Has the document had adequate review both from key WG  
>> members
>>          and from key non-WG members?  Does the Document Shepherd  
>> have
>>          any concerns about the depth or breadth of the reviews that
>>          have been performed?
>> The document has been intensively reviewed within the working
>> group. It was formally reviewed by John Elwell:
>> http://www.ietf.org/mail-archive/web/sip/current/msg22870.html.
>> which resulted in several small changes.
>>   (1.c)  Does the Document Shepherd have concerns that the document
>>          needs more review from a particular or broader perspective,
>>          e.g., security, operational complexity, someone familiar  
>> with
>>          AAA, internationalization or XML?
>> The shepherd has no such concerns.
>>   (1.d)  Does the Document Shepherd have any specific concerns or
>>          issues with this document that the Responsible Area Director
>>          and/or the IESG should be aware of?  For example, perhaps he
>>          or she is uncomfortable with certain parts of the  
>> document,  or
>>          has concerns whether there really is a need for it.  In any
>>          event, if the WG has discussed those issues and has  
>> indicated
>>          that it still wishes to advance the document, detail those
>>          concerns here.  Has an IPR disclosure related to this   
>> document
>>          been filed?  If so, please include a reference to the
>>          disclosure and summarize the WG discussion and conclusion on
>>          this issue.
>> The shepherd has no specific concerns with this document.
>>   (1.e)  How solid is the WG consensus behind this document?  Does it
>>          represent the strong concurrence of a few individuals, with
>>          others being silent, or does the WG as a whole understand  
>> and
>>          agree with it?
>> Working group consensus is quite strong for this document. It was
>> considered "high profile" during the entire cycle, and has been very
>> thoroughly discussed. Numerous design changes were made in the  
>> process
>> in order to accomodate various points of view.
>>   (1.f)  Has anyone threatened an appeal or otherwise indicated   
>> extreme
>>          discontent?  If so, please summarise the areas of conflict  
>> in
>>          separate email messages to the Responsible Area  
>> Director.   (It
>>          should be in a separate email because this questionnaire is
>>          entered into the ID Tracker.)
>> The shepherd is unaware of any extreme discontent with this version  
>> of
>> the draft. A previous version that did not require two "outbound
>> proxy" entries was disparaged on-list, but the document was revised  
>> to
>> accomodate this issue.
>>   (1.g)  Has the Document Shepherd personally verified that the
>>          document satisfies all ID nits?  (See
>>          http://www.ietf.org/ID-Checklist.html and
>>          http://tools.ietf.org/tools/idnits/).  Boilerplate checks  
>> are
>>          not enough; this check needs to be thorough.  Has the   
>> document
>>          met all formal review criteria it needs to, such as the MIB
>>          Doctor, media type and URI type reviews?
>> The document appears to satisfy the various checklist nits.
>>   (1.h)  Has the document split its references into normative and
>>          informative?  Are there normative references to documents   
>> that
>>          are not ready for advancement or are otherwise in an unclear
>>          state?  If such normative references exist, what is the
>>          strategy for their completion?  Are there normative   
>> references
>>          that are downward references, as described in [RFC3967]?  If
>>          so, list these downward references to support the Area
>>          Director in the Last Call procedure for them [RFC3967].
>> References are appropriately divided. There is one reference to a
>> draft that has been revised, but this does not impact the document.
>>   (1.i)  Has the Document Shepherd verified that the document IANA
>>          consideration section exists and is consistent with the body
>>          of the document?  If the document specifies protocol
>>          extensions, are reservations requested in appropriate IANA
>>          registries?  Are the IANA registries clearly identified?  If
>>          the document creates a new registry, does it define the
>>          proposed initial contents of the registry and an allocation
>>          procedure for future registrations?  Does it suggest a
>>          reasonable name for the new registry?  See [RFC2434].  If  
>> the
>>          document describes an Expert Review process has Shepherd
>>          conferred with the Responsible Area Director so that the  
>> IESG
>>          can appoint the needed Expert during the IESG Evaluation?
>> This document specifies seven IANA actions that appear to be valid  
>> and
>> complete. It defines no new registry or expert review process.
>>   (1.j)  Has the Document Shepherd verified that sections of the
>>          document that are written in a formal language, such as XML
>>          code, BNF rules, MIB definitions, etc., validate correctly  
>> in
>>          an automated checker?
>> The document shepherd verified the ABNF using Bill Fenner's checker.
>>   (1.k)  The IESG approval announcement includes a Document
>>          Announcement Write-Up.  Please provide such a Document
>>          Announcement Write-Up?  Recent examples can be found in the
>>          "Action" announcements for approved documents.  The approval
>>          announcement contains the following sections:
>> Technical Summary
>> This document defines a n extension to the Session Initiation  
>> Protocol
>> (SIP) that provides for persistent and reusable connections between
>> SIP User Agents and SIP Proxy Servers. In particular, this allows
>> proxy servers to initiate TCP connections or to send asynchronous UDP
>> datagrams to User Agents in order to deliver requests.  However, in a
>> large number of real deployments, many practical considerations, such
>> as the existence of firewalls and Network Address Translators (NATs)
>> or the use of TLS with server-provided certificates, prevent servers
>> from connecting to User Agents in this way.  This specification
>> defines behaviors for User Agents, registrars and proxy servers that
>> allow requests to be delivered on existing connections established by
>> the User Agent.  It also defines keep alive behaviors needed to keep
>> NAT bindings open and specifies the usage of multiple connections  
>> from
>> the User Agent to its Registrar.
>> Working Group Summary
>> The working group process on this document was exceptionally long.  
>> The
>> first WG version of the draft appeared in the summer of 2005. Working
>> group last call initiated in the summer of 2006 and extended until  
>> the
>> summer of 2008, requring several iterations of the draft and the
>> assignment of Francois Audet as a "process champion" for the draft
>> within the working group. Most delays seem to have been related to
>> slow cycle time on the part of the authors, but the process was also
>> delayed by a number of changes occurring during the review cycle.
>> Particular sticking points included the keepalive mechanism and a
>> requirement for binding to multiple outbound proxies if so
>> configured. The latter was eventually resolved by a widely-accepted
>> compromise, but the keepalive topic is still being debated.  Although
>> there is a strong consensus for the keepalive technique specified in
>> this document, there is some reason to believe that there may be a
>> need for the keeplaive mechanism independently of the outbound
>> relationship. There is currently a draft proposing such a mechanism.
>> This suggests that it might have been more effective to document the
>> outbound binding and keepalive mechanisms independently.
>> Document Quality
>> There are numerous implementations of the protocol, and it has been
>> tested at SIPit events since 2005.
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>>
>

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 15:01:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4A8AC3A6911;
	Fri, 19 Sep 2008 15:01:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8BFAD3A6908
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 15:01:05 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.454
X-Spam-Level: 
X-Spam-Status: No, score=-2.454 tagged_above=-999 required=5 tests=[AWL=0.145, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EONlRXvac2h9 for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 15:01:04 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id C40633A6885
	for <sip@ietf.org>; Fri, 19 Sep 2008 15:01:04 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8JM12Q3002184
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 19 Sep 2008 17:01:04 -0500
From: Dean Willis <dean.willis@softarmor.com>
To: Spencer Dawkins <spencer@wonderhamster.org>
In-Reply-To: <04f201c91a62$79d1ce80$6701a8c0@china.huawei.com>
X-Priority: 3
References: <FA3F0DCC-B557-4BB7-AA3A-535E9B89CE42@softarmor.com>
	<175DF185-66E9-4D89-B0EA-6E052D54A306@softarmor.com>
	<04f201c91a62$79d1ce80$6701a8c0@china.huawei.com>
Message-Id: <39DC6C07-F294-421E-BA4D-EA8326A41F51@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Fri, 19 Sep 2008 17:00:57 -0500
X-Mailer: Apple Mail (2.929.2)
Cc: SIP IETF <sip@ietf.org>, Cullen Jennings <fluffy@cisco.com>,
	Keith Drage <drage@alcatel-lucent.com>, Dan Wing <dwing@cisco.com>
Subject: Re: [Sip] Resend: Draft Shepherd writeup
	fordraft-ietf-sip-media-security-requirements-07
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 19, 2008, at 9:17 AM, Spencer Dawkins wrote:

> Hi, Dean,
>
> This is actually for outbound/please ignore the subject line, right?

Yes, I'm terminally stupid this week. I've got to either stop opening  
too many edit windows at one time, or at least READ what I cut and  
paste.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 19 15:21:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 09D763A67E5;
	Fri, 19 Sep 2008 15:21:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 554D03A68B1
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 15:21:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.06
X-Spam-Level: 
X-Spam-Status: No, score=-2.06 tagged_above=-999 required=5 tests=[AWL=-0.062, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_25=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id q9ZCt1S8GBPH for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 15:21:14 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 294353A63CB
	for <sip@ietf.org>; Fri, 19 Sep 2008 15:21:14 -0700 (PDT)
Received: from c-75-68-119-237.hsd1.nh.comcast.net ([75.68.119.237]:61903
	helo=[192.168.15.100])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1KgoLq-000636-7Q; Fri, 19 Sep 2008 15:21:22 -0700
Message-Id: <FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
In-Reply-To: <011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Fri, 19 Sep 2008 15:03:33 -0500
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1252015667=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1252015667==
Content-Type: multipart/signed; boundary=Apple-Mail-4-881761324; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-4-881761324
Content-Type: multipart/alternative;
	boundary=Apple-Mail-3-881761265


--Apple-Mail-3-881761265
Content-Type: text/plain;
	charset=ISO-8859-2;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: quoted-printable

Absolutely.  Here is the deal:

;handling is a parameter that tells the UAS that is MUST (or MAY) =20
understand the body part in its processing of the SIP message. =20
"Understand" usually means "can process" the body part, but that is an =20=

implementation issue.

Content-Disposition is a parameter that tells the UAS what to do with =20=

the body part.

Now, looking at your question, Content-Disposition is probably not =20
what you want, either. You say, "to signal a particular action which =20
the sender requests from the recipient". That implies signaling. =20
Content-Disposition is not signaling. Content-Disposition is a hint to =20=

the UAS as to what it should do with the body. If you want to signal =20
an action at the UAS, then you more likely want one of (new) INFO =20
packages, PUBLISH/SUBSCRIBE, or a new SIP header.

What precisely is the use case behind your request?


On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:

> Just to be absolutely sure - do you mean that it is more appropriate =20=

> to create a new disposition-type of the Content-Disposition header =20
> (rather than creating new "handling" parameter values)? Thanks.
>
> Kind regards
>
> Ivo Sedlacek
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532
> email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com
>
> Mailcode: tL3PbjBL
>
> -----Original Message-----
> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: 19. z=E1=F8=ED 2008 14:08
> To: Sedlacek Ivo
> Cc: sip@ietf.org
> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =20
> Content-Disposition header
>
> I can't think why you would want to have added values for the handling
> parameter. IMO what you want to do would be better served by values of
> the Content-Disposition itself.
>
>         Thanks,
>         Paul
>
> Sedlacek Ivo wrote:
> > Hello,
> >
> > can anyone please give me an expert opinion on possible extensions =20=

> of
> > "handling" parameter defined in RFC3204/RFC3459?
> >
> > Is it appropriate to extend and use the "handling" parameter of
> > Content-Disposition header of a MIME body inserted in a SIP =20
> request to
> > signal a particular action which the sender requests from the =20
> recipient?
> >
> > For example - if the "handling" parameter contained value "XYZ", =20
> the SIP
> > request recipient would do a special action ActionXYZ using the MIME
> > body. If the MIME body was included in the SIP request without the
> > "handling" parameter, the recipient would NOT do the special =20
> action XYZ
> > and instead would just store or render the MIME body.
> >
> > AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
> > header of a MIME body with two defined parameter values "required" =20=

> and
> > "optional" and allows for possible future extensions. RFC3204 also
> > states "The handling parameter, handling-parm, describes how the UAS
> > should react if it receives a message body whose content type or
> > disposition type it does not understand". RFC3459 says "The protocol
> > described here is identical in functionality to RFC 3204 with =20
> respect to
> > SIP.".
> >
> > Kind regards
> >
> > *Ivo Sedlacek*
> > Siemens
> > PSE CZ TMM MMA8
> > phone: +420 5 3877 6532 <tel:+420543106532>
> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >
> > Mailcode: tL3PbjBL
> >
> >
> >
> > =20
> =
------------------------------------------------------------------------
> >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-3-881761265
Content-Type: text/html;
	charset=ISO-8859-2
Content-Transfer-Encoding: quoted-printable

<html><body style=3D"word-wrap: break-word; -webkit-nbsp-mode: space; =
-webkit-line-break: after-white-space; ">Absolutely. &nbsp;Here is the =
deal:<div><br></div><div>;handling is a parameter that tells the UAS =
that is MUST (or MAY) <span class=3D"Apple-style-span" =
style=3D"text-decoration: underline;">understand</span> the body part in =
its processing of the SIP message. "Understand" usually means "can =
process" the body part, but that is an implementation =
issue.</div><div><br></div><div>Content-Disposition is a parameter that =
tells the UAS&nbsp;<span class=3D"Apple-style-span" =
style=3D"text-decoration: underline;">what to do</span> with the body =
part.</div><div><br></div><div>Now, looking at your question, =
Content-Disposition is probably not what you want, either. You say, =
"<span class=3D"Apple-style-span" style=3D"font-family: Arial; =
font-size: 10px; ">to signal a particular action which the sender =
requests from the recipient<span class=3D"Apple-style-span" =
style=3D"font-family: Helvetica; font-size: 12px; ">". That implies =
signaling. Content-Disposition is not signaling. Content-Disposition is =
a hint to the UAS as to what it should do with the body. If you want to =
signal an action at the UAS, then you more likely want one of (new) INFO =
packages, PUBLISH/SUBSCRIBE, or a new SIP =
header.</span></span></div><div><br></div><div>What precisely is the use =
case behind your request?</div><div><br></div><div><br><div><div>On Sep =
19, 2008, at 7:16 AM, Sedlacek Ivo wrote:</div><br =
class=3D"Apple-interchange-newline"><blockquote type=3D"cite"> <div><!-- =
Converted from text/plain format --> <div><font face=3D"Arial" =
size=3D"2">Just to be absolutely sure - do you mean that it is more =
appropriate to create a new disposition-type of the Content-Disposition =
header (rather than creating new "handling" parameter values)? =
Thanks.<br><br>Kind regards<br><br>Ivo Sedlacek<br>Siemens<br>PSE CZ TMM =
MMA8<br>phone: +420 5 3877 6532<br>email: <a =
href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</a>, =
<a =
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</a><br><=
br>Mailcode: tL3PbjBL<br><br>-----Original Message-----<br>From: ext =
Paul Kyzivat [</font><a href=3D"mailto:pkyzivat@cisco.com"><font =
face=3D"Arial" color=3D"#000000" =
size=3D"2">mailto:pkyzivat@cisco.com</font></a><font face=3D"Arial" =
size=3D"2">]<br>Sent: 19. z=E1=F8=ED 2008 14:08<br>To: Sedlacek =
Ivo<br>Cc: <a href=3D"mailto:sip@ietf.org">sip@ietf.org</a><br>Subject: =
Re: [Sip] [sip] extensions of "handling" parameter of =
Content-Disposition header<br><br>I can't think why you would want to =
have added values for the handling<br>parameter. IMO what you want to do =
would be better served by values of<br>the Content-Disposition =
itself.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Thanks,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Paul<br><br>Sedlacek Ivo wrote:<br>> Hello,<br>>&nbsp;<br>> can anyone =
please give me an expert opinion on possible extensions of<br>> =
"handling" parameter defined in RFC3204/RFC3459?<br>>&nbsp;<br>> Is it =
appropriate to extend and use the "handling" parameter of<br>> =
Content-Disposition header of a MIME body inserted in a SIP request =
to<br>> signal a particular action which the sender requests from the =
recipient?<br>>&nbsp;<br>> For example - if the "handling" parameter =
contained value "XYZ", the SIP<br>> request recipient would do a special =
action ActionXYZ using the MIME<br>> body. If the MIME body was included =
in the SIP request without the<br>> "handling" parameter, the recipient =
would NOT do the special action XYZ<br>> and instead would just store or =
render the MIME body.<br>>&nbsp;<br>> AFAIK, RFC3204 defines parameter =
"handling" of Content-Disposition<br>> header of a MIME body with two =
defined parameter values "required" and<br>> "optional" and allows for =
possible future extensions. RFC3204 also<br>> states "The handling =
parameter, handling-parm, describes how the UAS<br>> should react if it =
receives a message body whose content type or<br>> disposition type it =
does not understand". RFC3459 says "The protocol<br>> described here is =
identical in functionality to RFC 3204 with respect to<br>> =
SIP.".<br>>&nbsp;<br>> Kind regards<br>>&nbsp;<br>> *Ivo Sedlacek*<br>> =
Siemens<br>> PSE CZ TMM MMA8<br>> phone: +420 5 3877 6532 =
&lt;tel:+420543106532><br>> email: <a =
href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</a> =
&lt;</font><a href=3D"mailto:ivo.sedlacek.ext@nsn.com"><font =
face=3D"Arial" color=3D"#000000" =
size=3D"2">mailto:ivo.sedlacek.ext@nsn.com</font></a><font face=3D"Arial" =
size=3D"2">>,<br>> <a =
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</a> =
&lt;</font><a href=3D"mailto:ivo.sedlacek@siemens.com"><font =
face=3D"Arial" color=3D"#000000" =
size=3D"2">mailto:ivo.sedlacek@siemens.com</font></a><font face=3D"Arial" =
size=3D"2">><br>><br>> Mailcode: tL3PbjBL<br>>&nbsp;<br>><br>><br>> =
------------------------------------------------------------------------<b=
r>><br>> _______________________________________________<br>> Sip =
mailing list&nbsp; </font><a =
href=3D"https://www.ietf.org/mailman/listinfo/sip"><font face=3D"Arial" =
color=3D"#000000" =
size=3D"2">https://www.ietf.org/mailman/listinfo/sip</font></a><br><font =
face=3D"Arial" size=3D"2">> This list is for NEW development of the core =
SIP Protocol<br>> Use <a =
href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.colum=
bia.edu</a> for questions on current sip<br>> Use <a =
href=3D"mailto:sipping@ietf.org">sipping@ietf.org</a> for new =
developments on the application of sip<br></font></div></div> =
_______________________________________________<br>Sip mailing list =
&nbsp;<a =
href=3D"https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/ma=
ilman/listinfo/sip</a><br>This list is for NEW development of the core =
SIP Protocol<br>Use <a =
href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.colum=
bia.edu</a> for questions on current sip<br>Use <a =
href=3D"mailto:sipping@ietf.org">sipping@ietf.org</a> for new =
developments on the application of =
sip</blockquote></div><br></div></body></html>=

--Apple-Mail-3-881761265--

--Apple-Mail-4-881761324
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MTkyMDAzMzNaMCMGCSqGSIb3
DQEJBDEWBBTBZJ5o8FN5fF+3bJxgvXzujFCPLzCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQAgpw5MhZPlH+CfmtJ+JyT4OjsXJeS8+HaGIrQOGFUTSvAp
ZGjOBq8fqNG8UzX9vMnoBbuQWeBK5hO0BBbWtbuTW7DmWiiB033nX8KqYanh0Dzg8iSrfnvIP8nh
OPCcC/zj7w4nQDrIBu3i6OGT8uzZvmE1ZZy1fR3aepcT35tKd5gxxGuXOuihKas3phv5koE4qr/p
Rf1tWS4Lh1rRBTjJFMT/jy70dQh51X/L6W7P3zCg/Ng+FC1MfRJnmvDRkAHNBwKSME7vnMQDUR1S
uMH97foMY1D5Y5vjtI3qtg9qQ2uFpP2apM0Ex8jgizacN4Nvb20ImJnraWT/Cgu5WSP8AAAAAAAA

--Apple-Mail-4-881761324--

--===============1252015667==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1252015667==--


From yanjun@fujitsu.com  Fri Sep 19 19:37:34 2008
Return-Path: <yanjun@fujitsu.com>
X-Original-To: ietfarch-sip-archive@core3.amsl.com
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AA1593A67FC
	for <ietfarch-sip-archive@core3.amsl.com>; Fri, 19 Sep 2008 19:37:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -11.781
X-Spam-Level: 
X-Spam-Status: No, score=-11.781 tagged_above=-999 required=5
	tests=[BAYES_99=3.5, DRUGS_ERECTILE=1, DRUGS_ERECTILE_OBFU=1.5,
	FH_HELO_EQ_D_D_D_D=1.597, FH_HOST_EQ_D_D_D_D=0.765,
	FM_DDDD_TIMES_2=1.999, HELO_DYNAMIC_IPADDR=2.426, HTML_MESSAGE=0.001,
	J_CHICKENPOX_13=0.6, J_CHICKENPOX_32=0.6, MANGLED_CIALIS=2.5,
	MANGLED_ONLINE=2.3, MANGLED_PILL=2.3, RAZOR2_CF_RANGE_51_100=0.5,
	RAZOR2_CF_RANGE_E8_51_100=1.5, RAZOR2_CHECK=0.5, RCVD_IN_PBL=0.905,
	RCVD_IN_SORBS_DUL=0.877, RDNS_DYNAMIC=0.1, SARE_OBFU_ONLINE=1.666,
	URIBL_BLACK=20, URIBL_JP_SURBL=10, URIBL_OB_SURBL=10,
	URIBL_RHS_DOB=1.083, URIBL_SC_SURBL=10, URIBL_WS_SURBL=10,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id x9cZU45uqJUy for <ietfarch-sip-archive@core3.amsl.com>;
	Fri, 19 Sep 2008 19:37:34 -0700 (PDT)
Received: from ppp-124-120-115-115.revip2.asianet.co.th (ppp-124-120-115-115.revip2.asianet.co.th [124.120.115.115])
	by core3.amsl.com (Postfix) with ESMTP id 730A33A66B4
	for <sip-archive@lists.ietf.org>; Fri, 19 Sep 2008 19:37:32 -0700 (PDT)
Date: Sat, 20 Sep 2008 00:50:26 +0000
Message-ID: <53634.yanjun@huxley>
From: "joe mundeep" <yanjun@fujitsu.com>
To: <sip-archive@lists.ietf.org>
Subject: guaranteed to work
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=_gwnxH6gQnURySu"

This is a multi-part message in MIME format.

--=_gwnxH6gQnURySu
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Grapefruit and grapefruit juice may interact with tadalafil. The =
interaction could lead to potentially adverse effects. You should =
discuss the use of grapefruit and grapefruit juice with your doctor. Do =
not increase or decrease the amount of grapefruit products in your diet =
without first talking to your doctor.
Ci al_is 20mg x 20 p|lls =3D $129.95 best onl1ne dr.ugstore
--=_gwnxH6gQnURySu
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
</HEAD>
<BODY bgColor=3D#f6FFb9>
<P>Grapefruit and grapefruit juice may interact with tadalafil. The =
interaction could lead to potentially adverse effects. You should =
discuss the use of grapefruit and grapefruit juice with your doctor. Do =
not increase or decrease the amount of grapefruit products in your diet =
without first talking to your doctor.</P>
<P><A HREF=3D"http://singlenoun.com"><FONT SIZE=3D"3">Ci al_is 20mg x 20 =
p|lls =3D $129.95 best onl1ne dr.ugstore</FONT></A></P>

</BODY>
</HTML>
--=_gwnxH6gQnURySu--




From sip-bounces@ietf.org  Fri Sep 19 21:10:17 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A4C3D3A68BD;
	Fri, 19 Sep 2008 21:10:17 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D94C03A68AB
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 21:10:15 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.478
X-Spam-Level: 
X-Spam-Status: No, score=-2.478 tagged_above=-999 required=5 tests=[AWL=0.121, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DvlGgF28sF7j for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 21:10:14 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id D66F23A685B
	for <sip@ietf.org>; Fri, 19 Sep 2008 21:10:12 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8K4ANaU003997
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 19 Sep 2008 23:10:25 -0500
Message-Id: <468F0B43-A8C9-4167-A30B-DE2960941C51@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: SIP IETF <sip@ietf.org>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Fri, 19 Sep 2008 23:10:18 -0500
X-Mailer: Apple Mail (2.929.2)
Cc: Cullen Jennings <fluffy@cisco.com>
Subject: [Sip] Draft writeup for DTLS Framework
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


We seem to be Done with the DTLS-SRTP Framework!


Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.  
Please report any problems (like, maybe I cut-and-pasted the wrong  
buffer again) to me and to the list. Thanks!




(1.a) Who is the Document Shepherd for this document?

SIP co-chair Dean Willis will act as the protocol shepherd for this
document.


Has the Document Shepherd personally reviewed this version of the
document and, in particular, does he or she believe this version is
ready for forwarding to the IESG for publication?

Yes.



(1.b) Has the document had adequate review both from key WG members
and from key non-WG members?

Yes. The document has been closely followed in several working groups,
and by several security-focused persons.


Does the Document Shepherd have any concerns about the depth or
breadth of the reviews that have been performed?

The reviews appear to be adequate.



(1.c) Does the Document Shepherd have concerns that the document
needs more review from a particular or broader perspective, e.g.,
security, operational complexity, someone familiar with AAA,
internationalization or XML?

The reviews appear to be adequate.


(1.d) Does the Document Shepherd have any specific concerns or issues
with this document that the Responsible Area Director and/or the IESG
should be aware of? For example, perhaps he or she is uncomfortable
with certain parts of the document, or has concerns whether there
really is a need for it. In any event, if the WG has discussed those
issues and has indicated that it still wishes to advance the document,
detail those concerns here.

There were some concerns about the level of authentication
provided by this document in the face of E.164 numbers and
damage to RFC 4474 Identity done by SBCs. This was extensively
discussed in the WG and the compromise that was reached was
that this document would include a carefully crafted description
of the security properties it provided and that the WG would
independently move forward with work on improving RFC 4474
as necessary.
	

Has an IPR disclosure related to this document been filed? If
so, please include a reference to the disclosure and summarize the WG
discussion and conclusion on this issue.

No.


(1.e) How solid is the WG consensus behind this document? Does it
represent the strong concurrence of a few individuals, with others
being silent, or does the WG as a whole understand and agree with it?

The WG as a whole understands this document and the consensus
that it should move forward was reasonably strong.



(1.f) Has anyone threatened an appeal or otherwise indicated extreme
discontent? If so, please summarise the areas of conflict in separate
email messages to the Responsible Area Director. (It should be in a
separate email because this questionnaire is entered into the ID
Tracker.)

No.


(1.g) Has the Document Shepherd personally verified that the document
satisfies all ID nits? (See http://www.ietf.org/ID-Checklist.html and
http://tools.ietf.org/tools/idnits/). Boilerplate checks are not
enough; this check needs to be thorough. Has the document met all
formal review criteria it needs to, such as the MIB Doctor, media type
and URI type reviews?



There are several outdated references that can be corrected in the RFC
Editor process, but that do not otherwise impact this
specification. There are also some example IP addresses that are
inconsistent with current guidelines. An RFC Editor note will be
provided to correct these errors.

(1.h) Has the document split its references into normative and
informative?

Yes.


Are there normative references to documents that are not ready for
advancement or are otherwise in an unclear state? If such normative
references exist, what is the strategy for their completion?  Are
there normative references that are downward references, as described
in [RFC3967]? If so, list these downward references to support the
Area Director in the Last Call procedure for them [RFC3967].

There is a normative reference to the informational-track RFC 3325. AS
this document provides the most widely-implemented mechanism for
identity expression in SIP and the security provided by this
specification is greatly dependent on the identity mechanism, a full
understanding of the limitations of RFC 3325 is required in order to
understand the impact to this specification if used with RFC 3325.


1.i) Has the Document Shepherd verified that the document IANA
consideration section exists and is consistent with the body of the
document?

This document has no IANA considerations.

If the document specifies protocol extensions, are reservations
requested in appropriate IANA registries? Are the IANA registries
clearly identified?  If the document creates a new registry, does it
define the proposed initial contents of the registry and an allocation
procedure for future registrations? Does it suggest a reasonable name
for the new registry?  See [RFC2434]. If the document describes an
Expert Review process has Shepherd conferred with the Responsible Area
Director so that the IESG can appoint the needed Expert during the
IESG Evaluation?

  N/A.


(1.j) Has the Document Shepherd verified that sections of the document
that are written in a formal language, such as XML code, BNF rules,
MIB definitions, etc., validate correctly in an automated checker?

N/A.


(1.k) The
IESG approval announcement includes a Document Announcement Write-Up.
Please provide such a Document Announcement Write-Up? Recent examples
can be found in the "Action" announcements for approved documents.
The approval announcement contains the following sections:


Technical Summary

  This document is part of a suite of documents that specify a
  mechanism for keying the Secure Real-time Transport Protocol (SRTP)
  using Datagram Transport Layer Security (DTLS). Together, these
  protocols provide for in-band establishment of secure multimedia
  sessions without dependencies on external authentication
  infrastructures.  This document specifies the SIP framework for
  DTLS-SRTP. A companion document, draft-ietf-avt-dtls-srtp,
  specifies the SRTP portion.


Working Group Summary

  This document is a product of the Session Initiation Protocol
  (SIP) Working Group. It was developed in response to coordinated
  meetings held with several working groups, and in consideration of
  several competing specifications.


Document Quality

  There are at least two known implementations of earlier versions of
  this draft, one Open Source and one commercial. Several
  implementors have expressed interest in implementation and
  deployment of the final version.

Personnel

  The Document Shepherd for this document is Dean Willis, and the
  responsible Area Director is Cullen Jennings.



RFC Editor Note to Accompany Pub Request:


RFC Editor:

Please replace all occurrences of the string "192.168.1" with "192.0.2".

Please replace references to RFC 3280 with references to RFC 5280.

Please replace references to RFC 3546 with references to RFC 4366.

Please update any -draft references as appropriate.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 22 02:27:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 900C33A692A;
	Mon, 22 Sep 2008 02:27:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D5F773A692A
	for <sip@core3.amsl.com>; Mon, 22 Sep 2008 02:27:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.602
X-Spam-Level: 
X-Spam-Status: No, score=0.602 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001, J_CHICKENPOX_25=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id y3d34yXCoZQv for <sip@core3.amsl.com>;
	Mon, 22 Sep 2008 02:27:18 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id C32C43A684B
	for <sip@ietf.org>; Mon, 22 Sep 2008 02:27:17 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8M9BQmR019124
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Mon, 22 Sep 2008 11:11:26 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8M9BPNY007957; Mon, 22 Sep 2008 11:11:25 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: "'ext Eric Burger'" <eburger@standardstrack.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
Date: Mon, 22 Sep 2008 11:11:20 +0200
Message-ID: <009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
thread-index: AckaphJChcpf+wkPQhyOwO5mPOjD0QB59Xew
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
In-Reply-To: <FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080922111126-0D8F4BB0-8E39A7AA/0-0/0-15
X-purgate-size: 19440/0
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0783848802=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0783848802==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00A0_01C91CA3.F1047D20"

This is a multi-part message in MIME format.

------=_NextPart_000_00A0_01C91CA3.F1047D20
Content-Type: text/plain;
	charset="ISO-8859-2"
Content-Transfer-Encoding: quoted-printable

Hello Eric,
=20
thanks for your mail.
=20
> What precisely is the use case behind your request?
=20
The use case is to initiate sharing of a resource (stored at an external
server) to participants of a tightly coupled conference (RFC4353).
=20
After the tightly coupled conference is established, a participating =
client
sends a SIP request containing a MIME body of MIME type
message/external-body (RFC2017) towards the focus. The "URL" parameter =
of
the Content-Type header of the MIME body contains URL of the resource to =
be
shared. The "handling" parameter with value "xyz" of the =
Content-Disposition
header of the MIME body indicates to the focus that this is not a =
regular
message/external-body but it is a request to initiate sharing of the
resource to participants.
=20
When the focus receives a SIP request with the MIME body of MIME type
message/external-body with the "handling" parameter of Content-Dispotion
header set to "xyz", the focus will start sharing the resource indicated =
by
the URL of the MIME body of MIME type message/external-body.
=20
If the focus received the SIP request with the MIME body of MIME type
message/external-body WITHOUT the "handling" parameter of =
Content-Dispotion
header set to "xyz", the focus would behave differently - e.g. initiate =
the
SIP requests towards the other participants and include there the MIME =
body.
=20
Other considered method is to initiate sharing of the resource using =
5.2.
Adding Participants of RFC4353 - the participating client indicates to =
the
focus to add the resource as added participant. The focus applies a =
special
policy when the focus detects the referred URI is not a user.
=20
Kind regards
=20
Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532 <tel:+420543106532>=20
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL=20

=20

  _____ =20

From: ext Eric Burger [mailto:eburger@standardstrack.com]=20
Sent: 19. z=E1=F8=ED 2008 22:04
To: Sedlacek Ivo
Cc: SIP IETF
Subject: Re: [Sip] [sip] extensions of "handling" parameter of
Content-Disposition header


Absolutely.  Here is the deal:=20

;handling is a parameter that tells the UAS that is MUST (or MAY) =
understand
the body part in its processing of the SIP message. "Understand" usually
means "can process" the body part, but that is an implementation issue.

Content-Disposition is a parameter that tells the UAS what to do with =
the
body part.

Now, looking at your question, Content-Disposition is probably not what =
you
want, either. You say, "to signal a particular action which the sender
requests from the recipient". That implies signaling. =
Content-Disposition is
not signaling. Content-Disposition is a hint to the UAS as to what it =
should
do with the body. If you want to signal an action at the UAS, then you =
more
likely want one of (new) INFO packages, PUBLISH/SUBSCRIBE, or a new SIP
header.

What precisely is the use case behind your request?


On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:


Just to be absolutely sure - do you mean that it is more appropriate to
create a new disposition-type of the Content-Disposition header (rather =
than
creating new "handling" parameter values)? Thanks.

Kind regards

Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL

-----Original Message-----
From: ext Paul Kyzivat [ <mailto:pkyzivat@cisco.com>
mailto:pkyzivat@cisco.com]
Sent: 19. z=E1=F8=ED 2008 14:08
To: Sedlacek Ivo
Cc: sip@ietf.org
Subject: Re: [Sip] [sip] extensions of "handling" parameter of
Content-Disposition header

I can't think why you would want to have added values for the handling
parameter. IMO what you want to do would be better served by values of
the Content-Disposition itself.

        Thanks,
        Paul

Sedlacek Ivo wrote:
> Hello,
>=20
> can anyone please give me an expert opinion on possible extensions of
> "handling" parameter defined in RFC3204/RFC3459?
>=20
> Is it appropriate to extend and use the "handling" parameter of
> Content-Disposition header of a MIME body inserted in a SIP request to
> signal a particular action which the sender requests from the =
recipient?
>=20
> For example - if the "handling" parameter contained value "XYZ", the =
SIP
> request recipient would do a special action ActionXYZ using the MIME
> body. If the MIME body was included in the SIP request without the
> "handling" parameter, the recipient would NOT do the special action =
XYZ
> and instead would just store or render the MIME body.
>=20
> AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
> header of a MIME body with two defined parameter values "required" and
> "optional" and allows for possible future extensions. RFC3204 also
> states "The handling parameter, handling-parm, describes how the UAS
> should react if it receives a message body whose content type or
> disposition type it does not understand". RFC3459 says "The protocol
> described here is identical in functionality to RFC 3204 with respect =
to
> SIP.".
>=20
> Kind regards
>=20
> *Ivo Sedlacek*
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532 <tel:+420543106532>
> email: ivo.sedlacek.ext@nsn.com < <mailto:ivo.sedlacek.ext@nsn.com>
mailto:ivo.sedlacek.ext@nsn.com>,
> ivo.sedlacek@siemens.com < <mailto:ivo.sedlacek@siemens.com>
mailto:ivo.sedlacek@siemens.com>
>
> Mailcode: tL3PbjBL
>=20
>
>
> =
------------------------------------------------------------------------
>
> _______________________________________________
> Sip mailing list   <https://www.ietf.org/mailman/listinfo/sip>
https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



------=_NextPart_000_00A0_01C91CA3.F1047D20
Content-Type: text/html;
	charset="ISO-8859-2"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-2">
<META content=3D"MSHTML 6.00.2900.3395" name=3DGENERATOR></HEAD>
<BODY=20
style=3D"WORD-WRAP: break-word; webkit-nbsp-mode: space; =
webkit-line-break: after-white-space">
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>Hello Eric,</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>thanks for your mail.</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>&gt; What precisely is the use case behind =
your=20
request?</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>The use case is to initiate sharing of a =
resource=20
(stored at an external server) to participants of a tightly coupled =
conference=20
(RFC4353).</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>After the </SPAN></FONT><FONT face=3DArial =
color=3D#0000ff=20
size=3D2><SPAN class=3D737363308-22092008>tightly coupled conference is=20
established,&nbsp;</SPAN></FONT><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>a participating client sends a SIP request =
containing a=20
MIME body of MIME type message/external-body (RFC2017) towards the =
focus.=20
</SPAN></FONT><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D737363308-22092008>The "URL" parameter&nbsp;of the Content-Type =
header of=20
the MIME body contains URL of the resource to be shared. =
</SPAN></FONT><FONT=20
face=3DArial color=3D#0000ff size=3D2><SPAN =
class=3D737363308-22092008>The "handling"=20
parameter with value "xyz" of the Content-Disposition header of the MIME =
body=20
indicates to the focus that this is not a regular message/external-body =
but it=20
is a </SPAN></FONT><FONT face=3DArial color=3D#0000ff size=3D2><SPAN=20
class=3D737363308-22092008>request to initiate sharing of the resource =
to=20
participants.</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>When the focus receives a SIP request with =
the MIME=20
body of MIME type message/external-body with the "handling" parameter of =

Content-Dispotion header set to "xyz", the focus will start sharing the =
resource=20
indicated by the URL of the MIME body of MIME type=20
message/external-body.</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008><SPAN class=3D737363308-22092008>If the focus =
received=20
the SIP request with the MIME body of MIME type=20
message/external-body&nbsp;WITHOUT the "handling" parameter of =
Content-Dispotion=20
header set to "xyz", the focus would behave differently - e.g. initiate=20
the&nbsp;SIP requests towards the other participants and include there=20
the&nbsp;MIME body.</SPAN></SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>Other considered method is to initiate =
sharing of the=20
resource using&nbsp;5.2. Adding Participants&nbsp;of RFC4353 - the =
participating=20
client indicates to the focus to add the resource as added =
participant.&nbsp;The=20
focus applies a special policy when&nbsp;the focus&nbsp;detects the =
referred URI=20
is not a user.</SPAN></FONT></DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008></SPAN></FONT>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><FONT face=3DArial color=3D#0000ff =
size=3D2><SPAN=20
class=3D737363308-22092008>Kind regards</SPAN></FONT></DIV>
<DIV><FONT face=3DArial color=3D#0000ff =
size=3D2></FONT>&nbsp;</DIV><SPAN=20
style=3D"FONT-SIZE: 9pt; FONT-FAMILY: Verdana"><B><SPAN=20
style=3D"FONT-SIZE: 10pt">Ivo Sedlacek</SPAN></B><BR>Siemens<BR>PSE CZ =
TMM=20
MMA8<BR>phone: <A href=3D"tel:+420543106532">+420 5 3877 =
6532</A><BR>email: <A=20
href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</A>, =
<A=20
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</A><BR>=
<BR>Mailcode:=20
tL3PbjBL <BR></SPAN>
<DIV>&nbsp;</DIV><BR>
<DIV class=3DOutlookMessageHeader lang=3Den-us dir=3Dltr align=3Dleft>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> ext Eric Burger=20
[mailto:eburger@standardstrack.com] <BR><B>Sent:</B> 19. z=E1=F8=ED 2008 =

22:04<BR><B>To:</B> Sedlacek Ivo<BR><B>Cc:</B> SIP =
IETF<BR><B>Subject:</B> Re:=20
[Sip] [sip] extensions of "handling" parameter of Content-Disposition=20
header<BR></FONT><BR></DIV>
<DIV></DIV>Absolutely. &nbsp;Here is the deal:
<DIV><BR></DIV>
<DIV>;handling is a parameter that tells the UAS that is MUST (or MAY) =
<SPAN=20
class=3DApple-style-span style=3D"TEXT-DECORATION: =
underline">understand</SPAN> the=20
body part in its processing of the SIP message. "Understand" usually =
means "can=20
process" the body part, but that is an implementation issue.</DIV>
<DIV><BR></DIV>
<DIV>Content-Disposition is a parameter that tells the UAS&nbsp;<SPAN=20
class=3DApple-style-span style=3D"TEXT-DECORATION: underline">what to =
do</SPAN> with=20
the body part.</DIV>
<DIV><BR></DIV>
<DIV>Now, looking at your question, Content-Disposition is probably not =
what you=20
want, either. You say, "<SPAN class=3DApple-style-span=20
style=3D"FONT-SIZE: 10px; FONT-FAMILY: Arial">to signal a particular =
action which=20
the sender requests from the recipient<SPAN class=3DApple-style-span=20
style=3D"FONT-SIZE: 12px; FONT-FAMILY: Helvetica">". That implies =
signaling.=20
Content-Disposition is not signaling. Content-Disposition is a hint to =
the UAS=20
as to what it should do with the body. If you want to signal an action =
at the=20
UAS, then you more likely want one of (new) INFO packages, =
PUBLISH/SUBSCRIBE, or=20
a new SIP header.</SPAN></SPAN></DIV>
<DIV><BR></DIV>
<DIV>What precisely is the use case behind your request?</DIV>
<DIV><BR></DIV>
<DIV><BR>
<DIV>
<DIV>On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:</DIV><BR=20
class=3DApple-interchange-newline>
<BLOCKQUOTE type=3D"cite">
  <DIV><!-- Converted from text/plain format -->
  <DIV><FONT face=3DArial size=3D2>Just to be absolutely sure - do you =
mean that it=20
  is more appropriate to create a new disposition-type of the=20
  Content-Disposition header (rather than creating new "handling" =
parameter=20
  values)? Thanks.<BR><BR>Kind regards<BR><BR>Ivo =
Sedlacek<BR>Siemens<BR>PSE CZ=20
  TMM MMA8<BR>phone: +420 5 3877 6532<BR>email: <A=20
  href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</A>, =
<A=20
  =
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</A><BR>=
<BR>Mailcode:=20
  tL3PbjBL<BR><BR>-----Original Message-----<BR>From: ext Paul Kyzivat=20
  [</FONT><A href=3D"mailto:pkyzivat@cisco.com"><FONT face=3DArial =
color=3D#000000=20
  size=3D2>mailto:pkyzivat@cisco.com</FONT></A><FONT face=3DArial =
size=3D2>]<BR>Sent:=20
  19. z=E1=F8=ED 2008 14:08<BR>To: Sedlacek Ivo<BR>Cc: <A=20
  href=3D"mailto:sip@ietf.org">sip@ietf.org</A><BR>Subject: Re: [Sip] =
[sip]=20
  extensions of "handling" parameter of Content-Disposition =
header<BR><BR>I=20
  can't think why you would want to have added values for the=20
  handling<BR>parameter. IMO what you want to do would be better served =
by=20
  values of<BR>the Content-Disposition=20
  itself.<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=20
  Thanks,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Paul<BR><BR>Sedlacek Ivo=20
  wrote:<BR>&gt; Hello,<BR>&gt;&nbsp;<BR>&gt; can anyone please give me =
an=20
  expert opinion on possible extensions of<BR>&gt; "handling" parameter =
defined=20
  in RFC3204/RFC3459?<BR>&gt;&nbsp;<BR>&gt; Is it appropriate to extend =
and use=20
  the "handling" parameter of<BR>&gt; Content-Disposition header of a =
MIME body=20
  inserted in a SIP request to<BR>&gt; signal a particular action which =
the=20
  sender requests from the recipient?<BR>&gt;&nbsp;<BR>&gt; For example =
- if the=20
  "handling" parameter contained value "XYZ", the SIP<BR>&gt; request =
recipient=20
  would do a special action ActionXYZ using the MIME<BR>&gt; body. If =
the MIME=20
  body was included in the SIP request without the<BR>&gt; "handling" =
parameter,=20
  the recipient would NOT do the special action XYZ<BR>&gt; and instead =
would=20
  just store or render the MIME body.<BR>&gt;&nbsp;<BR>&gt; AFAIK, =
RFC3204=20
  defines parameter "handling" of Content-Disposition<BR>&gt; header of =
a MIME=20
  body with two defined parameter values "required" and<BR>&gt; =
"optional" and=20
  allows for possible future extensions. RFC3204 also<BR>&gt; states =
"The=20
  handling parameter, handling-parm, describes how the UAS<BR>&gt; =
should react=20
  if it receives a message body whose content type or<BR>&gt; =
disposition type=20
  it does not understand". RFC3459 says "The protocol<BR>&gt; described =
here is=20
  identical in functionality to RFC 3204 with respect to<BR>&gt;=20
  SIP.".<BR>&gt;&nbsp;<BR>&gt; Kind regards<BR>&gt;&nbsp;<BR>&gt; *Ivo=20
  Sedlacek*<BR>&gt; Siemens<BR>&gt; PSE CZ TMM MMA8<BR>&gt; phone: +420 =
5 3877=20
  6532 &lt;tel:+420543106532&gt;<BR>&gt; email: <A=20
  href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</A>=20
  &lt;</FONT><A href=3D"mailto:ivo.sedlacek.ext@nsn.com"><FONT =
face=3DArial=20
  color=3D#000000 =
size=3D2>mailto:ivo.sedlacek.ext@nsn.com</FONT></A><FONT=20
  face=3DArial size=3D2>&gt;,<BR>&gt; <A=20
  href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</A>=20
  &lt;</FONT><A href=3D"mailto:ivo.sedlacek@siemens.com"><FONT =
face=3DArial=20
  color=3D#000000 =
size=3D2>mailto:ivo.sedlacek@siemens.com</FONT></A><FONT=20
  face=3DArial size=3D2>&gt;<BR>&gt;<BR>&gt; Mailcode:=20
  tL3PbjBL<BR>&gt;&nbsp;<BR>&gt;<BR>&gt;<BR>&gt;=20
  =
------------------------------------------------------------------------<=
BR>&gt;<BR>&gt;=20
  _______________________________________________<BR>&gt; Sip mailing =
list&nbsp;=20
  </FONT><A href=3D"https://www.ietf.org/mailman/listinfo/sip"><FONT =
face=3DArial=20
  color=3D#000000=20
  size=3D2>https://www.ietf.org/mailman/listinfo/sip</FONT></A><BR><FONT =

  face=3DArial size=3D2>&gt; This list is for NEW development of the =
core SIP=20
  Protocol<BR>&gt; Use <A=20
  =
href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.colu=
mbia.edu</A>=20
  for questions on current sip<BR>&gt; Use <A=20
  href=3D"mailto:sipping@ietf.org">sipping@ietf.org</A> for new =
developments on=20
  the application of=20
  =
sip<BR></FONT></DIV></DIV>_______________________________________________=
<BR>Sip=20
  mailing list &nbsp;<A=20
  =
href=3D"https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/m=
ailman/listinfo/sip</A><BR>This=20
  list is for NEW development of the core SIP Protocol<BR>Use <A=20
  =
href=3D"mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.colu=
mbia.edu</A>=20
  for questions on current sip<BR>Use <A=20
  href=3D"mailto:sipping@ietf.org">sipping@ietf.org</A> for new =
developments on=20
  the application of sip</BLOCKQUOTE></DIV><BR></DIV></BODY></HTML>

------=_NextPart_000_00A0_01C91CA3.F1047D20--


--===============0783848802==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0783848802==--



From sip-bounces@ietf.org  Mon Sep 22 09:24:18 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1D9663A69A7;
	Mon, 22 Sep 2008 09:24:18 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 079273A6958
	for <sip@core3.amsl.com>; Mon, 22 Sep 2008 09:24:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_25=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zqak2Z4GBNYp for <sip@core3.amsl.com>;
	Mon, 22 Sep 2008 09:24:16 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id E629B3A686A
	for <sip@ietf.org>; Mon, 22 Sep 2008 09:24:15 -0700 (PDT)
Received: from [209.113.188.13] (port=49563 helo=[192.168.1.9])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1KhoBQ-0001ux-UN; Mon, 22 Sep 2008 09:22:46 -0700
Message-Id: <8E08D834-F04C-4F9E-9851-D88B24750B7B@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
In-Reply-To: <009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Mon, 22 Sep 2008 12:22:42 -0400
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1755265994=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1755265994==
Content-Type: multipart/signed; boundary=Apple-Mail-55--1019772910; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-55--1019772910
Content-Type: text/plain;
	charset=ISO-8859-2;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: quoted-printable

Since it looks like there is absolutely no security mechanism in the =20
proposal, I would offer it will not go far in the IETF.

Why not use XCON to manage the conference part?

--
- Eric


On Sep 22, 2008, at 5:11 AM, Sedlacek Ivo wrote:

> Hello Eric,
>
> thanks for your mail.
>
> > What precisely is the use case behind your request?
>
> The use case is to initiate sharing of a resource (stored at an =20
> external server) to participants of a tightly coupled conference =20
> (RFC4353).
>
> After the tightly coupled conference is established, a participating =20=

> client sends a SIP request containing a MIME body of MIME type =20
> message/external-body (RFC2017) towards the focus. The "URL" =20
> parameter of the Content-Type header of the MIME body contains URL =20
> of the resource to be shared. The "handling" parameter with value =20
> "xyz" of the Content-Disposition header of the MIME body indicates =20
> to the focus that this is not a regular message/external-body but it =20=

> is a request to initiate sharing of the resource to participants.
>
> When the focus receives a SIP request with the MIME body of MIME =20
> type message/external-body with the "handling" parameter of Content-=20=

> Dispotion header set to "xyz", the focus will start sharing the =20
> resource indicated by the URL of the MIME body of MIME type message/=20=

> external-body.
>
> If the focus received the SIP request with the MIME body of MIME =20
> type message/external-body WITHOUT the "handling" parameter of =20
> Content-Dispotion header set to "xyz", the focus would behave =20
> differently - e.g. initiate the SIP requests towards the other =20
> participants and include there the MIME body.
>
> Other considered method is to initiate sharing of the resource using =20=

> 5.2. Adding Participants of RFC4353 - the participating client =20
> indicates to the focus to add the resource as added participant. The =20=

> focus applies a special policy when the focus detects the referred =20
> URI is not a user.
>
> Kind regards
>
> Ivo Sedlacek
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532
> email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com
>
> Mailcode: tL3PbjBL
>
>
> From: ext Eric Burger [mailto:eburger@standardstrack.com]
> Sent: 19. z=E1=F8=ED 2008 22:04
> To: Sedlacek Ivo
> Cc: SIP IETF
> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =20
> Content-Disposition header
>
> Absolutely.  Here is the deal:
>
> ;handling is a parameter that tells the UAS that is MUST (or MAY) =20
> understand the body part in its processing of the SIP message. =20
> "Understand" usually means "can process" the body part, but that is =20=

> an implementation issue.
>
> Content-Disposition is a parameter that tells the UAS what to do =20
> with the body part.
>
> Now, looking at your question, Content-Disposition is probably not =20
> what you want, either. You say, "to signal a particular action which =20=

> the sender requests from the recipient". That implies signaling. =20
> Content-Disposition is not signaling. Content-Disposition is a hint =20=

> to the UAS as to what it should do with the body. If you want to =20
> signal an action at the UAS, then you more likely want one of (new) =20=

> INFO packages, PUBLISH/SUBSCRIBE, or a new SIP header.
>
> What precisely is the use case behind your request?
>
>
> On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:
>
>> Just to be absolutely sure - do you mean that it is more =20
>> appropriate to create a new disposition-type of the Content-=20
>> Disposition header (rather than creating new "handling" parameter =20
>> values)? Thanks.
>>
>> Kind regards
>>
>> Ivo Sedlacek
>> Siemens
>> PSE CZ TMM MMA8
>> phone: +420 5 3877 6532
>> email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com
>>
>> Mailcode: tL3PbjBL
>>
>> -----Original Message-----
>> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
>> Sent: 19. z=E1=F8=ED 2008 14:08
>> To: Sedlacek Ivo
>> Cc: sip@ietf.org
>> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =20
>> Content-Disposition header
>>
>> I can't think why you would want to have added values for the =20
>> handling
>> parameter. IMO what you want to do would be better served by values =20=

>> of
>> the Content-Disposition itself.
>>
>>         Thanks,
>>         Paul
>>
>> Sedlacek Ivo wrote:
>> > Hello,
>> >
>> > can anyone please give me an expert opinion on possible =20
>> extensions of
>> > "handling" parameter defined in RFC3204/RFC3459?
>> >
>> > Is it appropriate to extend and use the "handling" parameter of
>> > Content-Disposition header of a MIME body inserted in a SIP =20
>> request to
>> > signal a particular action which the sender requests from the =20
>> recipient?
>> >
>> > For example - if the "handling" parameter contained value "XYZ", =20=

>> the SIP
>> > request recipient would do a special action ActionXYZ using the =20
>> MIME
>> > body. If the MIME body was included in the SIP request without the
>> > "handling" parameter, the recipient would NOT do the special =20
>> action XYZ
>> > and instead would just store or render the MIME body.
>> >
>> > AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
>> > header of a MIME body with two defined parameter values =20
>> "required" and
>> > "optional" and allows for possible future extensions. RFC3204 also
>> > states "The handling parameter, handling-parm, describes how the =20=

>> UAS
>> > should react if it receives a message body whose content type or
>> > disposition type it does not understand". RFC3459 says "The =20
>> protocol
>> > described here is identical in functionality to RFC 3204 with =20
>> respect to
>> > SIP.".
>> >
>> > Kind regards
>> >
>> > *Ivo Sedlacek*
>> > Siemens
>> > PSE CZ TMM MMA8
>> > phone: +420 5 3877 6532 <tel:+420543106532>
>> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
>> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
>> >
>> > Mailcode: tL3PbjBL
>> >
>> >
>> >
>> > =20
>> =
------------------------------------------------------------------------
>> >
>> > _______________________________________________
>> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> > This list is for NEW development of the core SIP Protocol
>> > Use sip-implementors@cs.columbia.edu for questions on current sip
>> > Use sipping@ietf.org for new developments on the application of sip
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>


--Apple-Mail-55--1019772910
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjIxNjIyNDNaMCMGCSqGSIb3
DQEJBDEWBBR6RgLjRQ3LPaf9HPf9vV8Bsx6BLDCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQBvWMTx2pCHi1t7CqsDWPYBhfmoUzRPazNhrogmzdW2nFFH
8fiMVy0JvrlcNdUtDKOEH2fHOkvCAJzA2gEgDI5W/gAuEcrj60JSK++iPLTYeqnf3cEd6ZJ5CIKF
P6DUH2elWj+hPycZIewEde+IiH6aL9KkpvhAIU1zVncvNp96XskzJiX0pqI7L+RHYqF5b3KOdo4p
lFn9DfvWrk0UrBTskrO67Pw3MwUuJ9mP7R7+0t7Iiyh4Rm6kB15Slt0Oe1pN9whw+AY4GV8VCGML
OH8Y5vtRdKW0IeU1A/sW/xYb/vLu4jgMVlSfibuNVXKs1wYgftpeXmn0+HaGuYU9SAGAAAAAAAAA

--Apple-Mail-55--1019772910--

--===============1755265994==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1755265994==--


From sip-bounces@ietf.org  Mon Sep 22 12:51:40 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 938E53A6850;
	Mon, 22 Sep 2008 12:51:40 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E5E4B3A6B2C
	for <sip@core3.amsl.com>; Fri, 19 Sep 2008 04:48:13 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.398
X-Spam-Level: 
X-Spam-Status: No, score=-3.398 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001, J_CHICKENPOX_25=0.6,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BMgflvKhQ69T for <sip@core3.amsl.com>;
	Fri, 19 Sep 2008 04:48:13 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id A98B33A6963
	for <sip@ietf.org>; Fri, 19 Sep 2008 04:48:12 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8JBmQUW029438
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <sip@ietf.org>; Fri, 19 Sep 2008 13:48:26 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8JBmPsd004700 for <sip@ietf.org>; Fri, 19 Sep 2008 13:48:25 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: <sip@ietf.org>
Date: Fri, 19 Sep 2008 13:48:24 +0200
Message-ID: <00e701c91a4d$9fb93990$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
thread-index: AckaTZ+GSrsjaD1eSny5uz3t0YkurQ==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080919134826-4E160BB0-97D56BA3/0-0/0-15
X-purgate-size: 5004/0
X-Mailman-Approved-At: Mon, 22 Sep 2008 12:51:40 -0700
Subject: [Sip] [sip] extensions of "handling" parameter of
	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0656149456=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0656149456==
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00E8_01C91A5E.63420990"

This is a multi-part message in MIME format.

------=_NextPart_000_00E8_01C91A5E.63420990
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Hello,
 
can anyone please give me an expert opinion on possible extensions of
"handling" parameter defined in RFC3204/RFC3459?
 
Is it appropriate to extend and use the "handling" parameter of
Content-Disposition header of a MIME body inserted in a SIP request to
signal a particular action which the sender requests from the recipient? 
 
For example - if the "handling" parameter contained value "XYZ", the SIP
request recipient would do a special action ActionXYZ using the MIME body.
If the MIME body was included in the SIP request without the "handling"
parameter, the recipient would NOT do the special action XYZ and instead
would just store or render the MIME body.
 
AFAIK, RFC3204 defines parameter "handling" of Content-Disposition header of
a MIME body with two defined parameter values "required" and "optional" and
allows for possible future extensions. RFC3204 also states "The handling
parameter, handling-parm, describes how the UAS should react if it receives
a message body whose content type or disposition type it does not
understand". RFC3459 says "The protocol described here is identical in
functionality to RFC 3204 with respect to SIP.".
 
Kind regards
 
Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532 <tel:+420543106532> 
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL 

 

------=_NextPart_000_00E8_01C91A5E.63420990
Content-Type: text/html;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2900.3395" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008>Hello,</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><SPAN class=3D982234810-19092008>can =
anyone please=20
give me an expert opinion on possible extensions of "handling" parameter =
defined=20
in RFC3204/RFC3459?</SPAN></FONT></DIV>
<DIV><FONT face=3DArial size=3D2><SPAN=20
class=3D982234810-19092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Is it appropriate to&nbsp;<SPAN=20
class=3D982234810-19092008>extend and </SPAN><SPAN =
class=3D982234810-19092008>use=20
</SPAN>the "handling" parameter of Content-Disposition header of a MIME=20
body&nbsp;<SPAN class=3D982234810-19092008>inserted in a SIP request =
</SPAN>to=20
signal&nbsp;<SPAN class=3D982234810-19092008>a particular </SPAN>action =
which the=20
sender requests from the recipient?&nbsp;<BR>&nbsp;<BR><SPAN=20
class=3D982234810-19092008>For example - </SPAN>if&nbsp;<SPAN=20
class=3D982234810-19092008>the </SPAN>"handling" parameter contained =
value "XYZ",=20
the SIP request recipient would do a special action&nbsp;<SPAN=20
class=3D982234810-19092008>Action</SPAN>XYZ using the MIME body. If =
<SPAN=20
class=3D982234810-19092008>the MIME body was included in the SIP request =
without=20
the "handling" parameter</SPAN>, the recipient would NOT do the special =
action=20
XYZ<SPAN class=3D982234810-19092008> and instead would just&nbsp;store =
or render=20
the MIME body</SPAN>.</FONT></DIV>
<DIV><FONT face=3DArial><FONT size=3D2></FONT></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial><FONT size=3D2><SPAN =
class=3D982234810-19092008>AFAIK,=20
</SPAN>RFC3204 defines parameter "handling" of Content-Disposition =
header of a=20
MIME body with two defined parameter values "<SPAN=20
class=3D982234810-19092008>required</SPAN>" and "optional" =
and&nbsp;<SPAN=20
class=3D982234810-19092008>allows for </SPAN>possible future extensions. =
RFC3204=20
also states "The handling parameter, handling-parm, describes how the =
UAS should=20
react if it receives a message body whose content type or disposition =
type it=20
does not understand".<SPAN class=3D982234810-19092008>&nbsp;RFC3459 says =
"The=20
protocol described here is identical in functionality to RFC 3204 with =
respect=20
to SIP.".</SPAN><BR>&nbsp;<BR><SPAN class=3D982234810-19092008>Kind=20
regards</SPAN></FONT></FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV><SPAN=20
style=3D"FONT-SIZE: 9pt; FONT-FAMILY: Verdana"><B><SPAN=20
style=3D"FONT-SIZE: 10pt">Ivo Sedlacek</SPAN></B><BR>Siemens<BR>PSE CZ =
TMM=20
MMA8<BR>phone: <A href=3D"tel:+420543106532">+420 5 3877 =
6532</A><BR>email: <A=20
href=3D"mailto:ivo.sedlacek.ext@nsn.com">ivo.sedlacek.ext@nsn.com</A>, =
<A=20
href=3D"mailto:ivo.sedlacek@siemens.com">ivo.sedlacek@siemens.com</A><BR>=
<BR>Mailcode:=20
tL3PbjBL <BR></SPAN>
<DIV>&nbsp;</DIV></BODY></HTML>

------=_NextPart_000_00E8_01C91A5E.63420990--


--===============0656149456==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0656149456==--



From sip-bounces@ietf.org  Mon Sep 22 20:26:58 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 135DD3A68BB;
	Mon, 22 Sep 2008 20:26:58 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 88E923A6881
	for <sip@core3.amsl.com>; Mon, 22 Sep 2008 20:26:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_31=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id K-V9y08Xl9RT for <sip@core3.amsl.com>;
	Mon, 22 Sep 2008 20:26:55 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 2A4213A6452
	for <sip@ietf.org>; Mon, 22 Sep 2008 20:26:55 -0700 (PDT)
Received: from [10.0.1.189] (adsl-68-94-39-110.dsl.rcsntx.swbell.net
	[68.94.39.110]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8N3QsLb024373
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Mon, 22 Sep 2008 22:26:56 -0500
Message-Id: <DBE2C97D-6F3F-4F13-9E49-A8A8CA9A3F96@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
In-Reply-To: <009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Mon, 22 Sep 2008 22:26:54 -0500
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
X-Mailer: Apple Mail (2.929.2)
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 22, 2008, at 4:11 AM, Sedlacek Ivo wrote:

> Hello Eric,
>
> thanks for your mail.
>
> > What precisely is the use case behind your request?
>
> The use case is to initiate sharing of a resource (stored at an  
> external server) to participants of a tightly coupled conference  
> (RFC4353).

I've been pondering this. Let me see if I can restate your use case.

A number of users are participating in a bridged conference. There is  
a persistent SIP-initiated session between each UA and the conference  
bridge.

One user wishes to command the conference bridge to retrieve a media  
sample and play it into the conference.

This "paying" operation does not change the session description for  
any of the existing sessions; rather it results in the delivery of  
specific media on the existing sessions to the end users.

One might envision any sort of control interface to the bridge. It  
might, for example, have a web-service interface. It might have an  
RTSP interface. One of the tricky bits of such an interface is  
correlating the SIP session that is to "hear" the media with the  
command protocol. For example, how in RTSP does one say "Play this  
media file onto the conference with  Alice, Bob, and Charlie, but not  
any other conferences".

But if the command interface is coaxial with a SIP dialog that  
supports a session, then we don;t have this correlation problem.

Something like an INFO package that has the semantic "Play the media  
reference by this INFO onto the session containing the INFO" might be  
appropriate. This is something like "render-to-this-session", as  
opposed to "render-to-the-user".

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 22 21:45:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A405E3A6AC8;
	Mon, 22 Sep 2008 21:45:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D34E13A6B88
	for <sip@core3.amsl.com>; Mon, 22 Sep 2008 21:45:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.999
X-Spam-Level: 
X-Spam-Status: No, score=-5.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_25=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id T+eo5dMiHnY4 for <sip@core3.amsl.com>;
	Mon, 22 Sep 2008 21:45:31 -0700 (PDT)
Received: from sj-iport-2.cisco.com (sj-iport-2.cisco.com [171.71.176.71])
	by core3.amsl.com (Postfix) with ESMTP id 81CBF3A6AC8
	for <sip@ietf.org>; Mon, 22 Sep 2008 21:45:31 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,450,1217808000"; d="scan'208";a="88386313"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-2.cisco.com with ESMTP; 23 Sep 2008 04:45:34 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8N4jY4T002331; 
	Mon, 22 Sep 2008 21:45:34 -0700
Received: from xbh-sjc-221.amer.cisco.com (xbh-sjc-221.cisco.com
	[128.107.191.63])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8N4jYnO016758;
	Tue, 23 Sep 2008 04:45:34 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-221.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 22 Sep 2008 21:45:34 -0700
Received: from [10.21.125.65] ([10.21.125.65]) by xfe-sjc-211.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 22 Sep 2008 21:45:33 -0700
Message-ID: <48D8746D.8090202@cisco.com>
Date: Tue, 23 Sep 2008 00:45:33 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>	<48D3962D.6030007@cisco.com>	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
In-Reply-To: <009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
X-OriginalArrivalTime: 23 Sep 2008 04:45:33.0835 (UTC)
	FILETIME=[36E7FDB0:01C91D37]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=7686; t=1222145134;
	x=1223009134; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[sip]=20extensions=20of=20=22ha
	ndling=22=20parameter=09of=09Content-Disposition=0A=20header
	|Sender:=20; bh=WebouKI5Bifytp1R4S6yHt1kpcj+r2Nb2s9CmFzgd/I=;
	b=TGQ8LY6rPVQOIm49+i/BsiwEjwk9c1hP+Wr2s7nSnjWpPyjEJ16EXwfsXi
	82nUUar7YJ8tC0AUknGNJSSC1eNjTtRDdSabQuQeQgmBaG7olz8RCIKtn570
	1kfdMWBJY3;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling"
 parameter	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-2"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Sedlacek Ivo wrote:
> Hello Eric,
>  =

> thanks for your mail.
>  =

>>  What precisely is the use case behind your request?
>  =

> The use case is to initiate sharing of a resource (stored at an external =

> server) to participants of a tightly coupled conference (RFC4353).

Can you give a concrete example of what this means?
I'm still totally in the dark about what you are trying to do.

> After the tightly coupled conference is established, a participating =

> client sends a SIP request containing a MIME body of MIME type =

> message/external-body (RFC2017) towards the focus. The "URL" =

> parameter of the Content-Type header of the MIME body contains URL of =

> the resource to be shared. The "handling" parameter with value "xyz" of =

> the Content-Disposition header of the MIME body indicates to the focus =

> that this is not a regular message/external-body but it is a request to =

> initiate sharing of the resource to participants.
>  =

> When the focus receives a SIP request with the MIME body of MIME type =

> message/external-body with the "handling" parameter of Content-Dispotion =

> header set to "xyz", the focus will start sharing the resource indicated =

> by the URL of the MIME body of MIME type message/external-body.

I have no clue what it means for the focus to share the resource.

I'm going to reserve judgment about this topic until I have an idea what =

you are trying to do.

	Thanks,
	Paul

> If the focus received the SIP request with the MIME body of MIME type =

> message/external-body WITHOUT the "handling" parameter of =

> Content-Dispotion header set to "xyz", the focus would behave =

> differently - e.g. initiate the SIP requests towards the other =

> participants and include there the MIME body.
>  =

> Other considered method is to initiate sharing of the resource =

> using 5.2. Adding Participants of RFC4353 - the participating client =

> indicates to the focus to add the resource as added participant. The =

> focus applies a special policy when the focus detects the referred URI =

> is not a user.
>  =

> Kind regards
>  =

> *Ivo Sedlacek*
> Siemens
> PSE CZ TMM MMA8
> phone: +420 5 3877 6532 <tel:+420543106532>
> email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>, =

> ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> =

> Mailcode: tL3PbjBL
>  =

> =

> ------------------------------------------------------------------------
> *From:* ext Eric Burger [mailto:eburger@standardstrack.com]
> *Sent:* 19. z=E1=F8=ED 2008 22:04
> *To:* Sedlacek Ivo
> *Cc:* SIP IETF
> *Subject:* Re: [Sip] [sip] extensions of "handling" parameter of =

> Content-Disposition header
> =

> Absolutely.  Here is the deal:
> =

> ;handling is a parameter that tells the UAS that is MUST (or MAY) =

> understand the body part in its processing of the SIP message. =

> "Understand" usually means "can process" the body part, but that is an =

> implementation issue.
> =

> Content-Disposition is a parameter that tells the UAS what to do with =

> the body part.
> =

> Now, looking at your question, Content-Disposition is probably not what =

> you want, either. You say, "to signal a particular action which the =

> sender requests from the recipient". That implies signaling. =

> Content-Disposition is not signaling. Content-Disposition is a hint to =

> the UAS as to what it should do with the body. If you want to signal an =

> action at the UAS, then you more likely want one of (new) INFO packages, =

> PUBLISH/SUBSCRIBE, or a new SIP header.
> =

> What precisely is the use case behind your request?
> =

> =

> On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:
> =

>> Just to be absolutely sure - do you mean that it is more appropriate =

>> to create a new disposition-type of the Content-Disposition header =

>> (rather than creating new "handling" parameter values)? Thanks.
>>
>> Kind regards
>>
>> Ivo Sedlacek
>> Siemens
>> PSE CZ TMM MMA8
>> phone: +420 5 3877 6532
>> email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>, =

>> ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
>>
>> Mailcode: tL3PbjBL
>>
>> -----Original Message-----
>> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
>> Sent: 19. z=E1=F8=ED 2008 14:08
>> To: Sedlacek Ivo
>> Cc: sip@ietf.org <mailto:sip@ietf.org>
>> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =

>> Content-Disposition header
>>
>> I can't think why you would want to have added values for the handling
>> parameter. IMO what you want to do would be better served by values of
>> the Content-Disposition itself.
>>
>>         Thanks,
>>         Paul
>>
>> Sedlacek Ivo wrote:
>> > Hello,
>> > =

>> > can anyone please give me an expert opinion on possible extensions of
>> > "handling" parameter defined in RFC3204/RFC3459?
>> > =

>> > Is it appropriate to extend and use the "handling" parameter of
>> > Content-Disposition header of a MIME body inserted in a SIP request to
>> > signal a particular action which the sender requests from the recipien=
t?
>> > =

>> > For example - if the "handling" parameter contained value "XYZ", the S=
IP
>> > request recipient would do a special action ActionXYZ using the MIME
>> > body. If the MIME body was included in the SIP request without the
>> > "handling" parameter, the recipient would NOT do the special action XYZ
>> > and instead would just store or render the MIME body.
>> > =

>> > AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
>> > header of a MIME body with two defined parameter values "required" and
>> > "optional" and allows for possible future extensions. RFC3204 also
>> > states "The handling parameter, handling-parm, describes how the UAS
>> > should react if it receives a message body whose content type or
>> > disposition type it does not understand". RFC3459 says "The protocol
>> > described here is identical in functionality to RFC 3204 with respect =
to
>> > SIP.".
>> > =

>> > Kind regards
>> > =

>> > *Ivo Sedlacek*
>> > Siemens
>> > PSE CZ TMM MMA8
>> > phone: +420 5 3877 6532 <tel:+420543106532>
>> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com> =

>> <mailto:ivo.sedlacek.ext@nsn.com>,
>> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com> =

>> <mailto:ivo.sedlacek@siemens.com>
>> >
>> > Mailcode: tL3PbjBL
>> > =

>> >
>> >
>> > ----------------------------------------------------------------------=
--
>> >
>> > _______________________________________________
>> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> > This list is for NEW development of the core SIP Protocol
>> > Use sip-implementors@cs.columbia.edu =

>> <mailto:sip-implementors@cs.columbia.edu> for questions on current sip
>> > Use sipping@ietf.org <mailto:sipping@ietf.org> for new developments =

>> on the application of sip
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu =

>> <mailto:sip-implementors@cs.columbia.edu> for questions on current sip
>> Use sipping@ietf.org <mailto:sipping@ietf.org> for new developments on =

>> the application of sip
> =

> =

> ------------------------------------------------------------------------
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 22 23:40:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 49E6F3A6BAB;
	Mon, 22 Sep 2008 23:40:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 984B83A6BAB
	for <sip@core3.amsl.com>; Mon, 22 Sep 2008 23:40:44 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.699
X-Spam-Level: 
X-Spam-Status: No, score=-2.699 tagged_above=-999 required=5 tests=[AWL=3.300, 
	BAYES_00=-2.599, J_CHICKENPOX_25=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eP0ZoDd2NMfM for <sip@core3.amsl.com>;
	Mon, 22 Sep 2008 23:40:43 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id CE8C53A6869
	for <sip@ietf.org>; Mon, 22 Sep 2008 23:40:42 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8N6eejL017940
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 23 Sep 2008 08:40:40 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8N6eeiP002626; Tue, 23 Sep 2008 08:40:40 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: "'ext Paul Kyzivat'" <pkyzivat@cisco.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>	<48D3962D.6030007@cisco.com>	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
Date: Tue, 23 Sep 2008 08:40:39 +0200
Message-ID: <008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
Thread-Index: AckdNzsttxi5yktASqWDjXEj/s7t8wADm45A
In-Reply-To: <48D8746D.8090202@cisco.com>
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080923084040-4E160BB0-B9655371/0-0/0-15
X-purgate-size: 9367/0
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling"
	parameter	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Hello,

see further explanation below.

for some reason the initial mail was sent again, sorry about that.

Kind regards

Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL

-----Original Message-----
From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com] =

Sent: 23. z=E1=F8=ED 2008 6:46
To: Sedlacek Ivo
Cc: 'ext Eric Burger'; 'SIP IETF'
Subject: Re: [Sip] [sip] extensions of "handling" parameter of
Content-Disposition header

Sedlacek Ivo wrote:
> > Hello Eric,
> >
> > thanks for your mail.
> >
> >>  What precisely is the use case behind your request?
> >
> > The use case is to initiate sharing of a resource (stored at an external
> > server) to participants of a tightly coupled conference (RFC4353).
> =

> Can you give a concrete example of what this means?
> I'm still totally in the dark about what you are trying to do.

There is a SIP based multiparty conference with a focus - every participant
is connected using a SIP dialog to a central focus, which mixes/switches
Media sent by the participants.
One of the participants wants the focus to fetch e.g. a picture / an audio
clip from an HTTP server / an RTSP server and play it to the conference
participants using their media streams negotiated in SIP dialogs.
Hope this makes this use case clearer.

> > After the tightly coupled conference is established, a participating
> > client sends a SIP request containing a MIME body of MIME type
> > message/external-body (RFC2017) towards the focus. The "URL"
> > parameter of the Content-Type header of the MIME body contains URL of
> > the resource to be shared. The "handling" parameter with value "xyz" of
> > the Content-Disposition header of the MIME body indicates to the focus
> > that this is not a regular message/external-body but it is a request to
> > initiate sharing of the resource to participants.
> >
> > When the focus receives a SIP request with the MIME body of MIME type
> > message/external-body with the "handling" parameter of Content-Dispotion
> > header set to "xyz", the focus will start sharing the resource indicated
> > by the URL of the MIME body of MIME type message/external-body.
> =

> I have no clue what it means for the focus to share the resource.

As mentioned above - by "sharing the resource"  I meant the focus is
fetching the picture / audio clip from the HTTP server / the RTSP server and
distribute it using the MSRP / MSRP media streams agreed in the SIP sessions
to the participants.

> =

> I'm going to reserve judgment about this topic until I have an idea what
> you are trying to do.
> =

> 	Thanks,
> 	Paul
> =

> > If the focus received the SIP request with the MIME body of MIME type
> > message/external-body WITHOUT the "handling" parameter of
> > Content-Dispotion header set to "xyz", the focus would behave
> > differently - e.g. initiate the SIP requests towards the other
> > participants and include there the MIME body.
> >
> > Other considered method is to initiate sharing of the resource
> > using 5.2. Adding Participants of RFC4353 - the participating client
> > indicates to the focus to add the resource as added participant. The
> > focus applies a special policy when the focus detects the referred URI
> > is not a user.
> >
> > Kind regards
> >
> > *Ivo Sedlacek*
> > Siemens
> > PSE CZ TMM MMA8
> > phone: +420 5 3877 6532 <tel:+420543106532>
> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >
> > Mailcode: tL3PbjBL
> >
> >
> > ------------------------------------------------------------------------
> > *From:* ext Eric Burger [mailto:eburger@standardstrack.com]
> > *Sent:* 19. z=E1=F8=ED 2008 22:04
> > *To:* Sedlacek Ivo
> > *Cc:* SIP IETF
> > *Subject:* Re: [Sip] [sip] extensions of "handling" parameter of
> > Content-Disposition header
> >
> > Absolutely.  Here is the deal:
> >
> > ;handling is a parameter that tells the UAS that is MUST (or MAY)
> > understand the body part in its processing of the SIP message.
> > "Understand" usually means "can process" the body part, but that is an
> > implementation issue.
> >
> > Content-Disposition is a parameter that tells the UAS what to do with
> > the body part.
> >
> > Now, looking at your question, Content-Disposition is probably not what
> > you want, either. You say, "to signal a particular action which the
> > sender requests from the recipient". That implies signaling.
> > Content-Disposition is not signaling. Content-Disposition is a hint to
> > the UAS as to what it should do with the body. If you want to signal an
> > action at the UAS, then you more likely want one of (new) INFO packages,
> > PUBLISH/SUBSCRIBE, or a new SIP header.
> >
> > What precisely is the use case behind your request?
> >
> >
> > On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:
> >
> >> Just to be absolutely sure - do you mean that it is more appropriate
> >> to create a new disposition-type of the Content-Disposition header
> >> (rather than creating new "handling" parameter values)? Thanks.
> >>
> >> Kind regards
> >>
> >> Ivo Sedlacek
> >> Siemens
> >> PSE CZ TMM MMA8
> >> phone: +420 5 3877 6532
> >> email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
> >> ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >>
> >> Mailcode: tL3PbjBL
> >>
> >> -----Original Message-----
> >> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
> >> Sent: 19. z=E1=F8=ED 2008 14:08
> >> To: Sedlacek Ivo
> >> Cc: sip@ietf.org <mailto:sip@ietf.org>
> >> Subject: Re: [Sip] [sip] extensions of "handling" parameter of
> >> Content-Disposition header
> >>
> >> I can't think why you would want to have added values for the handling
> >> parameter. IMO what you want to do would be better served by values of
> >> the Content-Disposition itself.
> >>
> >>         Thanks,
> >>         Paul
> >>
> >> Sedlacek Ivo wrote:
> >> > Hello,
> >> >
> >> > can anyone please give me an expert opinion on possible extensions of
> >> > "handling" parameter defined in RFC3204/RFC3459?
> >> >
> >> > Is it appropriate to extend and use the "handling" parameter of
> >> > Content-Disposition header of a MIME body inserted in a SIP request
to
> >> > signal a particular action which the sender requests from the
recipient?
> >> >
> >> > For example - if the "handling" parameter contained value "XYZ", the
SIP
> >> > request recipient would do a special action ActionXYZ using the MIME
> >> > body. If the MIME body was included in the SIP request without the
> >> > "handling" parameter, the recipient would NOT do the special action
XYZ
> >> > and instead would just store or render the MIME body.
> >> >
> >> > AFAIK, RFC3204 defines parameter "handling" of Content-Disposition
> >> > header of a MIME body with two defined parameter values "required"
and
> >> > "optional" and allows for possible future extensions. RFC3204 also
> >> > states "The handling parameter, handling-parm, describes how the UAS
> >> > should react if it receives a message body whose content type or
> >> > disposition type it does not understand". RFC3459 says "The protocol
> >> > described here is identical in functionality to RFC 3204 with respect
to
> >> > SIP.".
> >> >
> >> > Kind regards
> >> >
> >> > *Ivo Sedlacek*
> >> > Siemens
> >> > PSE CZ TMM MMA8
> >> > phone: +420 5 3877 6532 <tel:+420543106532>
> >> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>
> >> <mailto:ivo.sedlacek.ext@nsn.com>,
> >> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >> <mailto:ivo.sedlacek@siemens.com>
> >> >
> >> > Mailcode: tL3PbjBL
> >> >
> >> >
> >> >
> >> >
------------------------------------------------------------------------
> >> >
> >> > _______________________________________________
> >> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> > This list is for NEW development of the core SIP Protocol
> >> > Use sip-implementors@cs.columbia.edu
> >> <mailto:sip-implementors@cs.columbia.edu> for questions on current sip
> >> > Use sipping@ietf.org <mailto:sipping@ietf.org> for new developments
> >> on the application of sip
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol
> >> Use sip-implementors@cs.columbia.edu
> >> <mailto:sip-implementors@cs.columbia.edu> for questions on current sip
> >> Use sipping@ietf.org <mailto:sipping@ietf.org> for new developments on
> >> the application of sip
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> =


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 00:22:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 75C203A6CA2;
	Tue, 23 Sep 2008 00:22:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DBD383A6CA2
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 00:22:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2hhmJX1643xA for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 00:22:14 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 0FBAF3A6C8B
	for <sip@ietf.org>; Tue, 23 Sep 2008 00:22:14 -0700 (PDT)
Received: from [192.168.2.101] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8N7MAwh025803
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Tue, 23 Sep 2008 02:22:11 -0500
Message-ID: <48D8991D.2090404@softarmor.com>
Date: Tue, 23 Sep 2008 02:22:05 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>	<48D3962D.6030007@cisco.com>	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
In-Reply-To: <008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
Cc: 'SIP IETF' <sip@ietf.org>, 'ext Paul Kyzivat' <pkyzivat@cisco.com>
Subject: Re: [Sip] [sip] extensions of
 "handling"	parameter	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> There is a SIP based multiparty conference with a focus - every participant
> is connected using a SIP dialog to a central focus, which mixes/switches
> Media sent by the participants.
> One of the participants wants the focus to fetch e.g. a picture / an audio
> clip from an HTTP server / an RTSP server and play it to the conference
> participants using their media streams negotiated in SIP dialogs.
> Hope this makes this use case clearer.

So, absolutely no variation on INVITE or UPDATE is reasonable here.

Maybe some sort of new INFO package would work.

Or, a variation of the MEDICATRL approach (focus subscribes to media 
control events at UA, receives media control commands as NOTIFY).

Or, a completely non-SIP mechanism.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 00:28:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 222443A6C72;
	Tue, 23 Sep 2008 00:28:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 46D033A6C72;
	Tue, 23 Sep 2008 00:28:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id uuc80WiUZd8r; Tue, 23 Sep 2008 00:28:27 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id EEC933A6C66;
	Tue, 23 Sep 2008 00:28:26 -0700 (PDT)
Received: from [192.168.2.101] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8N7S5cm025852
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Tue, 23 Sep 2008 02:28:06 -0500
Message-ID: <48D89A80.2090204@softarmor.com>
Date: Tue, 23 Sep 2008 02:28:00 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla Thunderbird 1.0.5 (Windows/20050711)
X-Accept-Language: en-us, en
MIME-Version: 1.0
To: iesg-secretary@ietf.org
Cc: CULLEN JENNINGS <fluffy@cisco.com>, "sip@ietf.org" <sip@ietf.org>
Subject: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

We seem to be Done with the DTLS-SRTP Framework!


Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
Please report any problems (like, maybe I cut-and-pasted the wrong
buffer again) to me and to the list. Thanks!




(1.a) Who is the Document Shepherd for this document?

SIP co-chair Dean Willis will act as the protocol shepherd for this
document.


Has the Document Shepherd personally reviewed this version of the
document and, in particular, does he or she believe this version is
ready for forwarding to the IESG for publication?

Yes.



The SIP working group would like to request publication of the 
standards-track document draft-ietf-sip-dtls-srtp-framework-03. Here's 
the shepherd's writeup.

(1.b) Has the document had adequate review both from key WG members
and from key non-WG members?

Yes. The document has been closely followed in several working groups,
and by several security-focused persons.


Does the Document Shepherd have any concerns about the depth or
breadth of the reviews that have been performed?

The reviews appear to be adequate.



(1.c) Does the Document Shepherd have concerns that the document
needs more review from a particular or broader perspective, e.g.,
security, operational complexity, someone familiar with AAA,
internationalization or XML?

The reviews appear to be adequate.


(1.d) Does the Document Shepherd have any specific concerns or issues
with this document that the Responsible Area Director and/or the IESG
should be aware of? For example, perhaps he or she is uncomfortable
with certain parts of the document, or has concerns whether there
really is a need for it. In any event, if the WG has discussed those
issues and has indicated that it still wishes to advance the document,
detail those concerns here.

There were some concerns about the level of authentication
provided by this document in the face of E.164 numbers and
damage to RFC 4474 Identity done by SBCs. This was extensively
discussed in the WG and the compromise that was reached was
that this document would include a carefully crafted description
of the security properties it provided.
	

Has an IPR disclosure related to this document been filed? If
so, please include a reference to the disclosure and summarize the WG
discussion and conclusion on this issue.

No.


(1.e) How solid is the WG consensus behind this document? Does it
represent the strong concurrence of a few individuals, with others
being silent, or does the WG as a whole understand and agree with it?

The WG as a whole understands this document and the consensus
that it should move forward was reasonably strong.



(1.f) Has anyone threatened an appeal or otherwise indicated extreme
discontent? If so, please summarise the areas of conflict in separate
email messages to the Responsible Area Director. (It should be in a
separate email because this questionnaire is entered into the ID
Tracker.)

No.


(1.g) Has the Document Shepherd personally verified that the document
satisfies all ID nits? (See http://www.ietf.org/ID-Checklist.html and
http://tools.ietf.org/tools/idnits/). Boilerplate checks are not
enough; this check needs to be thorough. Has the document met all
formal review criteria it needs to, such as the MIB Doctor, media type
and URI type reviews?



There are several outdated references that can be corrected in the RFC
Editor process, but that do not otherwise impact this
specification. There are also some example IP addresses that are
inconsistent with current guidelines. An RFC Editor note will be
provided to correct these errors.

(1.h) Has the document split its references into normative and
informative?

Yes.


Are there normative references to documents that are not ready for
advancement or are otherwise in an unclear state? If such normative
references exist, what is the strategy for their completion?  Are
there normative references that are downward references, as described
in [RFC3967]? If so, list these downward references to support the
Area Director in the Last Call procedure for them [RFC3967].

There is a normative reference to the informational-track RFC 3325. AS
this document provides the most widely-implemented mechanism for
identity expression in SIP and the security provided by this
specification is greatly dependent on the identity mechanism, a full
understanding of the limitations of RFC 3325 is required in order to
understand the impact to this specification if used with RFC 3325.


1.i) Has the Document Shepherd verified that the document IANA
consideration section exists and is consistent with the body of the
document?

This document has no IANA considerations.

If the document specifies protocol extensions, are reservations
requested in appropriate IANA registries? Are the IANA registries
clearly identified?  If the document creates a new registry, does it
define the proposed initial contents of the registry and an allocation
procedure for future registrations? Does it suggest a reasonable name
for the new registry?  See [RFC2434]. If the document describes an
Expert Review process has Shepherd conferred with the Responsible Area
Director so that the IESG can appoint the needed Expert during the
IESG Evaluation?

   N/A.


(1.j) Has the Document Shepherd verified that sections of the document
that are written in a formal language, such as XML code, BNF rules,
MIB definitions, etc., validate correctly in an automated checker?

N/A.


(1.k) The
IESG approval announcement includes a Document Announcement Write-Up.
Please provide such a Document Announcement Write-Up? Recent examples
can be found in the "Action" announcements for approved documents.
The approval announcement contains the following sections:


Technical Summary

   This document is part of a suite of documents that specify a
   mechanism for keying the Secure Real-time Transport Protocol (SRTP)
   using Datagram Transport Layer Security (DTLS). Together, these
   protocols provide for in-band establishment of secure multimedia
   sessions without dependencies on external authentication
   infrastructures.  This document specifies the SIP framework for
   DTLS-SRTP. A companion document, draft-ietf-avt-dtls-srtp,
   specifies the SRTP portion.


Working Group Summary

   This document is a product of the Session Initiation Protocol
   (SIP) Working Group. It was developed in response to coordinated
   meetings held with several working groups, and in consideration of
   several competing specifications.


Document Quality

   There are at least two known implementations of earlier versions of
   this draft, one Open Source and one commercial. Several
   implementors have expressed interest in implementation and
   deployment of the final version.

Personnel

   The Document Shepherd for this document is Dean Willis, and the
   responsible Area Director is Cullen Jennings.



RFC Editor Note to Accompany Pub Request:


RFC Editor:

Please replace all occurrences of the string "192.168.1" with "192.0.2".

Please replace references to RFC 3280 with references to RFC 5280.

Please replace references to RFC 3546 with references to RFC 4366.

Please update any -draft references as appropriate.


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 03:09:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2327C3A67F6;
	Tue, 23 Sep 2008 03:09:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8332F3A67F6
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 03:09:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.002
X-Spam-Level: 
X-Spam-Status: No, score=0.002 tagged_above=-999 required=5
	tests=[BAYES_50=0.001, HTML_MESSAGE=0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d6G1bvuOnoju for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 03:09:32 -0700 (PDT)
Received: from szxga04-in.huawei.com (szxga04-in.huawei.com [119.145.14.67])
	by core3.amsl.com (Postfix) with ESMTP id 084B83A67CC
	for <sip@ietf.org>; Tue, 23 Sep 2008 03:09:32 -0700 (PDT)
Received: from huawei.com (szxga04-in [172.24.2.12])
	by szxga04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7N00ATM87VHS@szxga04-in.huawei.com> for
	sip@ietf.org; Tue, 23 Sep 2008 18:09:31 +0800 (CST)
Received: from huawei.com ([172.24.1.18])
	by szxga04-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7N00KEM87VI3@szxga04-in.huawei.com> for
	sip@ietf.org; Tue, 23 Sep 2008 18:09:31 +0800 (CST)
Received: from z57842 ([10.85.29.113])
	by szxml03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0K7N002Q887Q83@szxml03-in.huawei.com> for
	sip@ietf.org; Tue, 23 Sep 2008 18:09:31 +0800 (CST)
Date: Tue, 23 Sep 2008 18:09:26 +0800
From: Yuxia Zhang <isal_yxz@huawei.com>
To: volkerh@bell-labs.com, gonzalo.camarillo@ericsson.com, jdrosen@cisco.com, 
	sip@ietf.org
Message-id: <00b001c91d64$78805060$711d550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Mailer: Microsoft Office Outlook 11
Thread-index: AckdZHV7oooMDnmrThWf83SYHsSoIA==
Subject: [Sip] issues on two different session policies in the draft
 "draft-ietf-sip-session-policy-framework-04"
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0853300427=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0853300427==
Content-type: multipart/alternative;
 boundary="Boundary_(ID_LL4y6S+8r98OGrWjejPCsg)"

This is a multi-part message in MIME format.

--Boundary_(ID_LL4y6S+8r98OGrWjejPCsg)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7BIT

hi, all
 
some issues on two diffrent session policies of draft-ietf-sip-sip session
policy-framework need to be queried. could you help me? thanks. as follow,
 
Producedures in the draft only describe the usage of the session-specific
policy, is right? so as for the session-independent policy, how does UAC
retrieve it?
it is only through SUBSCRIBE request and only simple interactive, is it ?
Then UA will retrieve the session-indepdent immediately  when UA registering
himself into the network as the said in the draft that the
session-independent  policy always is applied before the session-specific
policy, is right ?  
 
if my understanding is right, is it indicated that there is no collide for
retrieve of two different policies, then it is no necessary for UAC to
differentiate the two different policies, so does the policy server ? 
 
thanks again. 
B.R.
 
Isal
 
 

--Boundary_(ID_LL4y6S+8r98OGrWjejPCsg)
Content-type: text/html; charset=us-ascii
Content-transfer-encoding: 7BIT

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=us-ascii">
<META content="MSHTML 6.00.2900.3354" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN class=398332609-23092008>hi, 
all</SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN class=398332609-23092008>some 
issues on two&nbsp;diffrent session policies of draft-ietf-sip-sip session 
policy-framework need to be queried. could you help me? thanks. as 
follow,</SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008>Producedures in the draft only describe the usage of 
the session-specific policy, is right? so as for the session-independent policy, 
how does UAC retrieve it?</SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN class=398332609-23092008>it 
is&nbsp;only&nbsp;through SUBSCRIBE request and only simple interactive, is it 
?&nbsp;Then&nbsp;UA&nbsp;will retrieve&nbsp;the 
session-indepdent&nbsp;immediately &nbsp;when UA registering himself into the 
network as the said in the draft that the session-independent&nbsp; policy 
always is&nbsp;applied before the session-specific 
policy,&nbsp;is&nbsp;right&nbsp;?&nbsp; </SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN class=398332609-23092008>if my 
understanding is right, is it indicated that there is no collide for retrieve of 
two different policies,&nbsp;then it is no necessary for UAC to differentiate 
the two different policies, so does the policy server ? </SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN class=398332609-23092008>thanks 
again. </SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008>B.R.</SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008>Isal</SPAN></FONT></DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face="Arial Unicode MS" size=4><SPAN 
class=398332609-23092008></SPAN></FONT>&nbsp;</DIV></BODY></HTML>

--Boundary_(ID_LL4y6S+8r98OGrWjejPCsg)--

--===============0853300427==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0853300427==--


From sip-bounces@ietf.org  Tue Sep 23 03:47:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E80823A6923;
	Tue, 23 Sep 2008 03:47:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 25D913A6923
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 03:47:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_31=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id fOTLXY-MPqc4 for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 03:47:08 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 4E6CD3A690A
	for <sip@ietf.org>; Tue, 23 Sep 2008 03:47:08 -0700 (PDT)
Received: from [75.68.119.237] (port=62860 helo=[192.168.15.104])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1Ki5QC-0003iT-BV; Tue, 23 Sep 2008 03:47:09 -0700
Message-Id: <0E35C0D1-EB0D-4DEA-9E42-05E14D25A4AE@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
In-Reply-To: <DBE2C97D-6F3F-4F13-9E49-A8A8CA9A3F96@softarmor.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Tue, 23 Sep 2008 06:47:05 -0400
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<DBE2C97D-6F3F-4F13-9E49-A8A8CA9A3F96@softarmor.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0653701879=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0653701879==
Content-Type: multipart/signed; boundary=Apple-Mail-43--953510263; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-43--953510263
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Smells like INFO to me.  Definitely needs authentication (which you  
don't have in MIME) and probably needs authorization (which you don't  
have in MIME).

The only thing that looks pretty firm: MIME isn't the way to go.

On Sep 22, 2008, at 11:26 PM, Dean Willis wrote:

>
> On Sep 22, 2008, at 4:11 AM, Sedlacek Ivo wrote:
>
>> Hello Eric,
>>
>> thanks for your mail.
>>
>> > What precisely is the use case behind your request?
>>
>> The use case is to initiate sharing of a resource (stored at an  
>> external server) to participants of a tightly coupled conference  
>> (RFC4353).
>
> I've been pondering this. Let me see if I can restate your use case.
>
> A number of users are participating in a bridged conference. There  
> is a persistent SIP-initiated session between each UA and the  
> conference bridge.
>
> One user wishes to command the conference bridge to retrieve a media  
> sample and play it into the conference.
>
> This "paying" operation does not change the session description for  
> any of the existing sessions; rather it results in the delivery of  
> specific media on the existing sessions to the end users.
>
> One might envision any sort of control interface to the bridge. It  
> might, for example, have a web-service interface. It might have an  
> RTSP interface. One of the tricky bits of such an interface is  
> correlating the SIP session that is to "hear" the media with the  
> command protocol. For example, how in RTSP does one say "Play this  
> media file onto the conference with  Alice, Bob, and Charlie, but  
> not any other conferences".
>
> But if the command interface is coaxial with a SIP dialog that  
> supports a session, then we don;t have this correlation problem.
>
> Something like an INFO package that has the semantic "Play the media  
> reference by this INFO onto the session containing the INFO" might  
> be appropriate. This is something like "render-to-this-session", as  
> opposed to "render-to-the-user".
>
> --
> Dean


--Apple-Mail-43--953510263
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjMxMDQ3MDVaMCMGCSqGSIb3
DQEJBDEWBBReA4UocbG4KeCcdFLAHA5VLwRGMjCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQCWQXLLzLFfS4z823pKbaUYkDOH9Fyk3S+gOwHSBUmQDojM
R8sjkvNexDDibK3NLPT9BHg9U5BFdb4OuxmwLyAdiIryWe2wHzOYqiIGrQslkFDV70YxUkj4vuan
fkHpT7bG7k9MtXATYXbHy2u4pninZQIAsWoyr6lYl94/P3+FlpfZw9/MX20i9PIGi/ngXfopC+x6
/wqzI4OWp5KukCXPm4lFnZ7/NEBp0DGer0+rR3hIic1kcPR17ysfALDvuQGSTq5IQjBumpAFgTq2
FLPfc6y4jGJrXFIBypHdOOeo9sTjq9r+++zpWkbv+sVoBT2Z41HDZnxkRLJ9aTHS3iO6AAAAAAAA

--Apple-Mail-43--953510263--

--===============0653701879==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0653701879==--


From sip-bounces@ietf.org  Tue Sep 23 07:28:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 967EE28C214;
	Tue, 23 Sep 2008 07:28:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E40E83A6A05
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 07:28:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sBL4QPMQZGqb for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 07:28:24 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id 5C6F53A69C4
	for <sip@ietf.org>; Tue, 23 Sep 2008 07:28:24 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8NESIv4022827
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Tue, 23 Sep 2008 16:28:21 +0200
Received: from demuexc022.nsn-intra.net (webmail.nsn-intra.net [10.150.128.35])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8NESHJo020270; Tue, 23 Sep 2008 16:28:17 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc022.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 23 Sep 2008 16:28:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 23 Sep 2008 16:28:17 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
In-Reply-To: <48D89A80.2090204@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckdTgnYoAlFa5S2SWSKYxnUx9goqAABLz1A
References: <48D89A80.2090204@softarmor.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Dean Willis" <dean.willis@softarmor.com>,
	"Tschofenig, Hannes (NSN - FI/Espoo)" <hannes.tschofenig@nsn.com>,
	<jason@counterpath.com>, <ekr@rtfm.com>
X-OriginalArrivalTime: 23 Sep 2008 14:28:17.0870 (UTC)
	FILETIME=[9F1856E0:01C91D88]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080923162818-322E7BB0-6AC347DD/0-0/0-15
X-purgate-size: 5166/0
Cc: CULLEN JENNINGS <fluffy@cisco.com>, sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

There is maybe one concern with the document in its current form: Is DTLS-S=
RTP as described now suitable as a media plane security solution for the 3G=
PP IMS?

A main problem here is the interworking with middleboxes, as described in d=
raft-ietf-mmusic-media-path-middleboxes. This draft is mentionened in draft=
-ietf-sip-dtls-srtp-framework-03 in a way that makes me assume that followi=
ng the recommendations of draft-ietf-mmusic-media-path-middleboxes is compl=
iant with draft-ietf-sip-dtls-srtp-framework-03. However, ignoring draft-ie=
tf-mmusic-media-path-middleboxes is also possible, which would lead to a po=
or interaction with middleboxes. It would be favorable to have the recommen=
dations inside draft-ietf-sip-dtls-srtp-framework itself, and to emphasize =
that following theses recommendations will help making DTLS-SRTP work in sc=
enarios with middleboxes.

A specific concern is: If ICE is not used, the passive side (the server in =
the DTLS handshake) must use a STUN connectivity check to open a pinhole (i=
n a middlebox). In 3GPP/TISPAN scenarios it is likely that ICE and STUN do =
not work at the managed middleboxes (the SBCs) - such traffic may just be d=
iscarded. In particular, a STUN connectivity check may NOT trigger latching=
 at an SBC. Sending of no-op RTP packets (see [I-D.ietf-avt-rtp-no-op]) how=
ever will trigger the latching. (Both methods are mentioned in draft-ietf-m=
music-media-path-middleboxes at equal ranks, but from the 3GPP/TISPAN and S=
BC interaction perspective, the "wrong" one was selected as mandatory in dr=
aft-ietf-sip-dtls-srtp-framework-03.)

Consider this scenario, showing a managed middlebox plus an unmanaged (e.g.=
 residential) NAT/FW at the passive side:


     SIP     +-----------------+     SIP
  Signaling  |     SIP ALG     |  Signaling =

<----------->+-----------------+<---------------+
             |   MIDCOM Agent  |                |
             +-----------------+                |
                      ^                         |
       Policy rule(s) | and NAT bindings  +---------+      +----------+
                      v                   |     +---|----->| Endpoint |
    Media      +-------------+   Media    | NAT/FW  |      |    P     |
<------------->|  Middlebox  |<-----------|---------|----->|          |
               +-------------+            +---------+      +----------+


The MIDCOM agent will instruct the middlebox to relay the traffic of the se=
ssion. But even after SDP offer and answer have been exchanged, the middleb=
ox and MIDCOM agent will not know which IP address the residential NAT/FW i=
s going to use for the media session. A STUN connectivity check sent by end=
point P would open a pinhole in the residential NAT/FW, but would be discar=
ded by the middlebox. An RTP packet however, e.g. a no-op RTP packet, would=
 typically cause latching at the middlebox, e.g. make the middlebox take th=
e source IP address of the RTP packet as the media address of endpoint P.

Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP packets should =
be used rather than STUN connectivity checks, and it would be favorable if =
the draft mentioned that, e.g. in the section "Latching Control Without ICE=
".
Maybe the best solution is to recommend  the no-op RTP packets for all scen=
arios without ICE.

Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
   - to retry signaling (for key exchange) on the media path in a suitable =
way, if it has failed (REC #3)
   - to send an SDP answer as soon as possible, for example within a provis=
ional SIP response (REC #4)
Wording reflecting these recommendations should be placed in section 6.7 of=
 draft-ietf-sip-dtls-srtp-framework.

In section 5 of draft-ietf-sip-dtls-srtp-framework, where it is recommended=
 for the answerer to take the active role, a hint should be added that in m=
iddlebox scenarios, where middleboxes block the media path before SDP offer=
 and answer have been exchanged (and media before SDP answer will not work =
anyway), the answerer should take the passive role rather then starting a D=
TLS-SRTP handshake that will stall due to a blocking middlebox.

Peter =


> -----Urspr=FCngliche Nachricht-----
> Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im =

> Auftrag von ext Dean Willis
> Gesendet: Dienstag, 23. September 2008 09:28
> An: iesg-secretary@ietf.org
> Cc: CULLEN JENNINGS; sip@ietf.org
> Betreff: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
> =

> We seem to be Done with the DTLS-SRTP Framework!
> =

> =

> Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
> Please report any problems (like, maybe I cut-and-pasted the wrong
> buffer again) to me and to the list. Thanks!
> =

... =

> =

> =

> (1.c) Does the Document Shepherd have concerns that the document
> needs more review from a particular or broader perspective, e.g.,
> security, operational complexity, someone familiar with AAA,
> internationalization or XML?
> =

> The reviews appear to be adequate.
> =

...
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 07:38:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B3B433A6959;
	Tue, 23 Sep 2008 07:38:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1B6123A696C
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 07:38:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.999
X-Spam-Level: 
X-Spam-Status: No, score=-5.999 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, J_CHICKENPOX_25=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g4Hg6Ft8jdu6 for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 07:38:06 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 4BA853A6959
	for <sip@ietf.org>; Tue, 23 Sep 2008 07:38:06 -0700 (PDT)
Received: from zrc2hxm1.corp.nortel.com (zrc2hxm1.corp.nortel.com
	[47.103.123.72])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m8NEc1603846; Tue, 23 Sep 2008 14:38:01 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 23 Sep 2008 09:34:23 -0500
Message-ID: <F66D7286825402429571678A16C2F5EE0573CC5D@zrc2hxm1.corp.nortel.com>
In-Reply-To: <008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] [sip] extensions of "handling"	parameter	of
	Content-Disposition header
Thread-Index: AckdNzsttxi5yktASqWDjXEj/s7t8wADm45AABDKNFA=
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
From: "Mary Barnes" <mary.barnes@nortel.com>
To: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>,
	"ext Paul Kyzivat" <pkyzivat@cisco.com>
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling"	parameter	of
	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

As Eric already been questioned (I apologize if I missed the response), hav=
e you considered XCON/MEDIACTRL to provide this functionality? =


You might be able to piece together some things to get this to work, but it=
's not likely to inter-op with other implementations in terms of client man=
ipulation of a conference - that's the idea behind XCON/MEDIACTRL -  to all=
ow an authorized participant to have control the conference/focus. While th=
e XCON FW might seem to be overkill, the protocol itself is fairly straight=
forward (in the works), thus you could implement the basics and get the fun=
ctionality you're looking for. =


Regards,
Mary.

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Sedla=
cek Ivo
Sent: Tuesday, September 23, 2008 1:41 AM
To: 'ext Paul Kyzivat'
Cc: 'SIP IETF'
Subject: Re: [Sip] [sip] extensions of "handling" parameter of Content-Disp=
osition header

Hello,

see further explanation below.

for some reason the initial mail was sent again, sorry about that.

Kind regards

Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL

-----Original Message-----
From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
Sent: 23. z=E1=F8=ED 2008 6:46
To: Sedlacek Ivo
Cc: 'ext Eric Burger'; 'SIP IETF'
Subject: Re: [Sip] [sip] extensions of "handling" parameter of Content-Disp=
osition header

Sedlacek Ivo wrote:
> > Hello Eric,
> >
> > thanks for your mail.
> >
> >>  What precisely is the use case behind your request?
> >
> > The use case is to initiate sharing of a resource (stored at an =

> > external
> > server) to participants of a tightly coupled conference (RFC4353).
> =

> Can you give a concrete example of what this means?
> I'm still totally in the dark about what you are trying to do.

There is a SIP based multiparty conference with a focus - every participant=
 is connected using a SIP dialog to a central focus, which mixes/switches M=
edia sent by the participants.
One of the participants wants the focus to fetch e.g. a picture / an audio =
clip from an HTTP server / an RTSP server and play it to the conference par=
ticipants using their media streams negotiated in SIP dialogs.
Hope this makes this use case clearer.

> > After the tightly coupled conference is established, a participating =

> > client sends a SIP request containing a MIME body of MIME type =

> > message/external-body (RFC2017) towards the focus. The "URL"
> > parameter of the Content-Type header of the MIME body contains URL =

> > of the resource to be shared. The "handling" parameter with value =

> > "xyz" of the Content-Disposition header of the MIME body indicates =

> > to the focus that this is not a regular message/external-body but it =

> > is a request to initiate sharing of the resource to participants.
> >
> > When the focus receives a SIP request with the MIME body of MIME =

> > type message/external-body with the "handling" parameter of =

> > Content-Dispotion header set to "xyz", the focus will start sharing =

> > the resource indicated by the URL of the MIME body of MIME type message=
/external-body.
> =

> I have no clue what it means for the focus to share the resource.

As mentioned above - by "sharing the resource"  I meant the focus is fetchi=
ng the picture / audio clip from the HTTP server / the RTSP server and dist=
ribute it using the MSRP / MSRP media streams agreed in the SIP sessions to=
 the participants.

> =

> I'm going to reserve judgment about this topic until I have an idea =

> what you are trying to do.
> =

> 	Thanks,
> 	Paul
> =

> > If the focus received the SIP request with the MIME body of MIME =

> > type message/external-body WITHOUT the "handling" parameter of =

> > Content-Dispotion header set to "xyz", the focus would behave =

> > differently - e.g. initiate the SIP requests towards the other =

> > participants and include there the MIME body.
> >
> > Other considered method is to initiate sharing of the resource using =

> > 5.2. Adding Participants of RFC4353 - the participating client =

> > indicates to the focus to add the resource as added participant. The =

> > focus applies a special policy when the focus detects the referred =

> > URI is not a user.
> >
> > Kind regards
> >
> > *Ivo Sedlacek*
> > Siemens
> > PSE CZ TMM MMA8
> > phone: +420 5 3877 6532 <tel:+420543106532>
> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >
> > Mailcode: tL3PbjBL
> >
> >
> > --------------------------------------------------------------------
> > ----
> > *From:* ext Eric Burger [mailto:eburger@standardstrack.com]
> > *Sent:* 19. z=E1=F8=ED 2008 22:04
> > *To:* Sedlacek Ivo
> > *Cc:* SIP IETF
> > *Subject:* Re: [Sip] [sip] extensions of "handling" parameter of =

> > Content-Disposition header
> >
> > Absolutely.  Here is the deal:
> >
> > ;handling is a parameter that tells the UAS that is MUST (or MAY) =

> > understand the body part in its processing of the SIP message.
> > "Understand" usually means "can process" the body part, but that is =

> > an implementation issue.
> >
> > Content-Disposition is a parameter that tells the UAS what to do =

> > with the body part.
> >
> > Now, looking at your question, Content-Disposition is probably not =

> > what you want, either. You say, "to signal a particular action which =

> > the sender requests from the recipient". That implies signaling.
> > Content-Disposition is not signaling. Content-Disposition is a hint =

> > to the UAS as to what it should do with the body. If you want to =

> > signal an action at the UAS, then you more likely want one of (new) =

> > INFO packages, PUBLISH/SUBSCRIBE, or a new SIP header.
> >
> > What precisely is the use case behind your request?
> >
> >
> > On Sep 19, 2008, at 7:16 AM, Sedlacek Ivo wrote:
> >
> >> Just to be absolutely sure - do you mean that it is more =

> >> appropriate to create a new disposition-type of the =

> >> Content-Disposition header (rather than creating new "handling" parame=
ter values)? Thanks.
> >>
> >> Kind regards
> >>
> >> Ivo Sedlacek
> >> Siemens
> >> PSE CZ TMM MMA8
> >> phone: +420 5 3877 6532
> >> email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>,
> >> ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >>
> >> Mailcode: tL3PbjBL
> >>
> >> -----Original Message-----
> >> From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com]
> >> Sent: 19. z=E1=F8=ED 2008 14:08
> >> To: Sedlacek Ivo
> >> Cc: sip@ietf.org <mailto:sip@ietf.org>
> >> Subject: Re: [Sip] [sip] extensions of "handling" parameter of =

> >> Content-Disposition header
> >>
> >> I can't think why you would want to have added values for the =

> >> handling parameter. IMO what you want to do would be better served =

> >> by values of the Content-Disposition itself.
> >>
> >>         Thanks,
> >>         Paul
> >>
> >> Sedlacek Ivo wrote:
> >> > Hello,
> >> >
> >> > can anyone please give me an expert opinion on possible =

> >> > extensions of "handling" parameter defined in RFC3204/RFC3459?
> >> >
> >> > Is it appropriate to extend and use the "handling" parameter of =

> >> > Content-Disposition header of a MIME body inserted in a SIP =

> >> > request
to
> >> > signal a particular action which the sender requests from the
recipient?
> >> >
> >> > For example - if the "handling" parameter contained value "XYZ", =

> >> > the
SIP
> >> > request recipient would do a special action ActionXYZ using the =

> >> > MIME body. If the MIME body was included in the SIP request =

> >> > without the "handling" parameter, the recipient would NOT do the =

> >> > special action
XYZ
> >> > and instead would just store or render the MIME body.
> >> >
> >> > AFAIK, RFC3204 defines parameter "handling" of =

> >> > Content-Disposition header of a MIME body with two defined parameter=
 values "required"
and
> >> > "optional" and allows for possible future extensions. RFC3204 =

> >> > also states "The handling parameter, handling-parm, describes how =

> >> > the UAS should react if it receives a message body whose content =

> >> > type or disposition type it does not understand". RFC3459 says =

> >> > "The protocol described here is identical in functionality to RFC =

> >> > 3204 with respect
to
> >> > SIP.".
> >> >
> >> > Kind regards
> >> >
> >> > *Ivo Sedlacek*
> >> > Siemens
> >> > PSE CZ TMM MMA8
> >> > phone: +420 5 3877 6532 <tel:+420543106532>
> >> > email: ivo.sedlacek.ext@nsn.com <mailto:ivo.sedlacek.ext@nsn.com>
> >> <mailto:ivo.sedlacek.ext@nsn.com>,
> >> > ivo.sedlacek@siemens.com <mailto:ivo.sedlacek@siemens.com>
> >> <mailto:ivo.sedlacek@siemens.com>
> >> >
> >> > Mailcode: tL3PbjBL
> >> >
> >> >
> >> >
> >> >
------------------------------------------------------------------------
> >> >
> >> > _______________________________________________
> >> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> > This list is for NEW development of the core SIP Protocol Use =

> >> > sip-implementors@cs.columbia.edu
> >> <mailto:sip-implementors@cs.columbia.edu> for questions on current =

> >> sip
> >> > Use sipping@ietf.org <mailto:sipping@ietf.org> for new =

> >> > developments
> >> on the application of sip
> >> _______________________________________________
> >> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> >> This list is for NEW development of the core SIP Protocol Use =

> >> sip-implementors@cs.columbia.edu =

> >> <mailto:sip-implementors@cs.columbia.edu> for questions on current =

> >> sip Use sipping@ietf.org <mailto:sipping@ietf.org> for new =

> >> developments on the application of sip
> >
> >
> > --------------------------------------------------------------------
> > ----
> >
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use =

> > sip-implementors@cs.columbia.edu for questions on current sip Use =

> > sipping@ietf.org for new developments on the application of sip
> =


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use sip-implement=
ors@cs.columbia.edu for questions on current sip Use sipping@ietf.org for n=
ew developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 08:42:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1FC4428C11F;
	Tue, 23 Sep 2008 08:42:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 835833A6CE9
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 08:42:32 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id H50mvamJnaKI for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 08:42:31 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id B46C53A6CDF
	for <sip@ietf.org>; Tue, 23 Sep 2008 08:42:31 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.32,453,1217808000"; d="scan'208";a="81449537"
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-1.cisco.com with ESMTP; 23 Sep 2008 15:42:35 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m8NFgZeu018017; 
	Tue, 23 Sep 2008 08:42:35 -0700
Received: from xbh-sjc-231.amer.cisco.com (xbh-sjc-231.cisco.com
	[128.107.191.100])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8NFgYgq004511;
	Tue, 23 Sep 2008 15:42:35 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-231.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 08:42:21 -0700
Received: from [128.107.106.182] ([128.107.106.182]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 08:42:20 -0700
Message-ID: <48D90E5C.8060006@cisco.com>
Date: Tue, 23 Sep 2008 11:42:20 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>	<48D3962D.6030007@cisco.com>	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
In-Reply-To: <008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
X-OriginalArrivalTime: 23 Sep 2008 15:42:20.0939 (UTC)
	FILETIME=[F75EDDB0:01C91D92]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=1151; t=1222184555;
	x=1223048555; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20[sip]=20extensions=20of=20=22ha
	ndling=22=20parameter=09of=09Content-Disposition=0A=20header
	|Sender:=20; bh=Vyb2JH5kMTXJfvSyZEZ79uSXiHug0aMhOglmFNZJu/U=;
	b=Xo4MrDjuS/3Y7RKiKY/goJnFxRs1trFTezCmXsHbs6XwHChnhE+SrbIxvq
	iOKyRBVXPkTKPiGjYWk3gn/gsKGhVncyHmi8F7AOva1NipPNFn4husnu2AeB
	cSY6htYPH7;
Authentication-Results: sj-dkim-4; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling"
 parameter	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Sedlacek Ivo wrote:
> Hello,
> 
> see further explanation below.

> There is a SIP based multiparty conference with a focus - every participant
> is connected using a SIP dialog to a central focus, which mixes/switches
> Media sent by the participants.
> One of the participants wants the focus to fetch e.g. a picture / an audio
> clip from an HTTP server / an RTSP server and play it to the conference
> participants using their media streams negotiated in SIP dialogs.
> Hope this makes this use case clearer.

> As mentioned above - by "sharing the resource"  I meant the focus is
> fetching the picture / audio clip from the HTTP server / the RTSP server and
> distribute it using the MSRP / MSRP media streams agreed in the SIP sessions
> to the participants.

This sounds like a desire to have the conference mixer do something 
special. As such, something around mediactl might be appropriate.

Or, it might be viewed as introducing another sort of participant into 
the conference. Perhaps this could be done by sending a REFER to the 
focus, with a URL for the resource in the Refer-To header.

	Thanks,
	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 09:02:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 19E523A6B0D;
	Tue, 23 Sep 2008 09:02:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D68143A6B0D
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 09:02:17 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id DEbxz+7s5-5y for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 09:02:17 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id 0662F3A694A
	for <sip@ietf.org>; Tue, 23 Sep 2008 09:02:16 -0700 (PDT)
Received: from umail.lucent.com (h135-3-40-61.lucent.com [135.3.40.61])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m8NG1uqK007813
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Tue, 23 Sep 2008 11:01:56 -0500 (CDT)
Received: from [127.0.0.1] (nachmans.lra.lucent.com [135.244.32.67])
	by umail.lucent.com (8.13.8/TPES) with ESMTP id m8NG1qUG016388;
	Tue, 23 Sep 2008 11:01:55 -0500 (CDT)
Message-ID: <48D912EF.9060700@bell-labs.com>
Date: Tue, 23 Sep 2008 12:01:51 -0400
From: Volker Hilt <volkerh@bell-labs.com>
User-Agent: Thunderbird 1.5.0.14 (Windows/20071210)
MIME-Version: 1.0
To: Yuxia Zhang <isal_yxz@huawei.com>
References: <00b001c91d64$78805060$711d550a@china.huawei.com>
In-Reply-To: <00b001c91d64$78805060$711d550a@china.huawei.com>
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: sip@ietf.org, gonzalo.camarillo@ericsson.com
Subject: Re: [Sip] issues on two different session policies in the draft
	"draft-ietf-sip-session-policy-framework-04"
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Yuxia Zhang wrote:
> hi, all
>  
> some issues on two diffrent session policies of draft-ietf-sip-sip 
> session policy-framework need to be queried. could you help me? thanks. 
> as follow,
>  
> Producedures in the draft only describe the usage of the 
> session-specific policy, is right? so as for the session-independent 
> policy, how does UAC retrieve it?

Session-independent policies make use of the config framework 
(http://tools.ietf.org/html/draft-ietf-sipping-config-framework-15) as 
described in the draft.

> it is only through SUBSCRIBE request and only simple interactive, is it 
> ? Then UA will retrieve the session-indepdent immediately  when UA 
> registering himself into the network as the said in the draft that the 
> session-independent  policy always is applied before the 
> session-specific policy, is right ? 
>  
The UA will get session-independent policies when setting up the 
subscription using the config framework as described in section 3.2. 
Yes, session-independent policies are applied before session-specific 
policies are applied.

> if my understanding is right, is it indicated that there is no collide 
> for retrieve of two different policies, then it is no necessary for UAC 
> to differentiate the two different policies, so does the policy server ?
>  
There should be no need for the UA or the policy server to differentiate 
between the two policies. They are applied in the order described above.

Thanks,

Volker



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 10:43:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BDC893A6A09;
	Tue, 23 Sep 2008 10:43:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C89B63A69EF
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 10:43:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -106.599
X-Spam-Level: 
X-Spam-Status: No, score=-106.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qkyHDPLXZlzV for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 10:43:53 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id C6E6E3A6A09
	for <sip@ietf.org>; Tue, 23 Sep 2008 10:43:53 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,294,1220227200"; d="scan'208";a="81521189"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-1.cisco.com with ESMTP; 23 Sep 2008 17:43:57 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8NHhvZC028119; 
	Tue, 23 Sep 2008 10:43:57 -0700
Received: from dhcp-128-107-102-174.cisco.com (dhcp-128-107-102-174.cisco.com
	[128.107.102.174])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8NHhuWu000505;
	Tue, 23 Sep 2008 17:43:57 GMT
Message-Id: <347EBD93-CE3B-4E76-A4D8-1FEF60D8FBFB@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Tue, 23 Sep 2008 10:44:05 -0700
References: <48D89A80.2090204@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
X-Mailer: Apple Mail (2.929.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5760; t=1222191837;
	x=1223055837; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20AW=3A=20[Sip]=20Pub=20request=20for=20d
	raft-ietf-sip-dtls-srtp-framework-03 |Sender:=20;
	bh=Nq1IKX0zGHsg+RtIq958dWcurFUQqBoeFCcdj3zm6Rs=;
	b=dW3tGITBwTrpZOC90ZaYXS2oH/1qEniEzB9zDuu3k6yr9F1tiO+B2zQ6bW
	rCCCrohKSgmPRweHnlT7Xa2oXue2jXIWRU6t6+Ib1OXP0CB6FGY9s0RS7cDL
	gef7QjXseW;
Authentication-Results: sj-dkim-3; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org, ekr@rtfm.com, ext Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Peter, just wanted to ACK that I got this message and I will treat it  =

as a IETF LC comment - we can work with folks to resolve the issue.

Cullen <in my AD role>

On Sep 23, 2008, at 7:28 , Schneider, Peter (NSN - DE/Munich) wrote:

> There is maybe one concern with the document in its current form: Is  =

> DTLS-SRTP as described now suitable as a media plane security  =

> solution for the 3GPP IMS?
>
> A main problem here is the interworking with middleboxes, as  =

> described in draft-ietf-mmusic-media-path-middleboxes. This draft is  =

> mentionened in draft-ietf-sip-dtls-srtp-framework-03 in a way that  =

> makes me assume that following the recommendations of draft-ietf- =

> mmusic-media-path-middleboxes is compliant with draft-ietf-sip-dtls- =

> srtp-framework-03. However, ignoring draft-ietf-mmusic-media-path- =

> middleboxes is also possible, which would lead to a poor interaction  =

> with middleboxes. It would be favorable to have the recommendations  =

> inside draft-ietf-sip-dtls-srtp-framework itself, and to emphasize  =

> that following theses recommendations will help making DTLS-SRTP  =

> work in scenarios with middleboxes.
>
> A specific concern is: If ICE is not used, the passive side (the  =

> server in the DTLS handshake) must use a STUN connectivity check to  =

> open a pinhole (in a middlebox). In 3GPP/TISPAN scenarios it is  =

> likely that ICE and STUN do not work at the managed middleboxes (the  =

> SBCs) - such traffic may just be discarded. In particular, a STUN  =

> connectivity check may NOT trigger latching at an SBC. Sending of no- =

> op RTP packets (see [I-D.ietf-avt-rtp-no-op]) however will trigger  =

> the latching. (Both methods are mentioned in draft-ietf-mmusic-media- =

> path-middleboxes at equal ranks, but from the 3GPP/TISPAN and SBC  =

> interaction perspective, the "wrong" one was selected as mandatory  =

> in draft-ietf-sip-dtls-srtp-framework-03.)
>
> Consider this scenario, showing a managed middlebox plus an  =

> unmanaged (e.g. residential) NAT/FW at the passive side:
>
>
>      SIP     +-----------------+     SIP
>   Signaling  |     SIP ALG     |  Signaling
> <----------->+-----------------+<---------------+
>              |   MIDCOM Agent  |                |
>              +-----------------+                |
>                       ^                         |
>        Policy rule(s) | and NAT bindings  +---------+       =

> +----------+
>                       v                   |     +---|----->|  =

> Endpoint |
>     Media      +-------------+   Media    | NAT/FW  |      |     =

> P     |
> <------------->|  Middlebox  |<-----------|---------|----- =

> >|          |
>                +-------------+            +---------+       =

> +----------+
>
>
> The MIDCOM agent will instruct the middlebox to relay the traffic of  =

> the session. But even after SDP offer and answer have been  =

> exchanged, the middlebox and MIDCOM agent will not know which IP  =

> address the residential NAT/FW is going to use for the media  =

> session. A STUN connectivity check sent by endpoint P would open a  =

> pinhole in the residential NAT/FW, but would be discarded by the  =

> middlebox. An RTP packet however, e.g. a no-op RTP packet, would  =

> typically cause latching at the middlebox, e.g. make the middlebox  =

> take the source IP address of the RTP packet as the media address of  =

> endpoint P.
>
> Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP packets  =

> should be used rather than STUN connectivity checks, and it would be  =

> favorable if the draft mentioned that, e.g. in the section "Latching  =

> Control Without ICE".
> Maybe the best solution is to recommend  the no-op RTP packets for  =

> all scenarios without ICE.
>
> Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
>    - to retry signaling (for key exchange) on the media path in a  =

> suitable way, if it has failed (REC #3)
>    - to send an SDP answer as soon as possible, for example within a  =

> provisional SIP response (REC #4)
> Wording reflecting these recommendations should be placed in section  =

> 6.7 of draft-ietf-sip-dtls-srtp-framework.
>
> In section 5 of draft-ietf-sip-dtls-srtp-framework, where it is  =

> recommended for the answerer to take the active role, a hint should  =

> be added that in middlebox scenarios, where middleboxes block the  =

> media path before SDP offer and answer have been exchanged (and  =

> media before SDP answer will not work anyway), the answerer should  =

> take the passive role rather then starting a DTLS-SRTP handshake  =

> that will stall due to a blocking middlebox.
>
> Peter
>
> > -----Urspr=FCngliche Nachricht-----
> > Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im
> > Auftrag von ext Dean Willis
> > Gesendet: Dienstag, 23. September 2008 09:28
> > An: iesg-secretary@ietf.org
> > Cc: CULLEN JENNINGS; sip@ietf.org
> > Betreff: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
> >
> > We seem to be Done with the DTLS-SRTP Framework!
> >
> >
> > Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
> > Please report any problems (like, maybe I cut-and-pasted the wrong
> > buffer again) to me and to the list. Thanks!
> >
> ...
> >
> >
> > (1.c) Does the Document Shepherd have concerns that the document
> > needs more review from a particular or broader perspective, e.g.,
> > security, operational complexity, someone familiar with AAA,
> > internationalization or XML?
> >
> > The reviews appear to be adequate.
> >
> ...

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 12:22:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2E99628C14D;
	Tue, 23 Sep 2008 12:22:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A9F4728C14D
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 12:22:35 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ntf1eksg0EEl for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 12:22:34 -0700 (PDT)
Received: from TheWorld.com (pcls6.std.com [192.74.137.146])
	by core3.amsl.com (Postfix) with ESMTP id 2075528C145
	for <sip@ietf.org>; Tue, 23 Sep 2008 12:22:33 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8NJLweB022552;
	Tue, 23 Sep 2008 15:22:01 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8NJLvNU33080046;
	Tue, 23 Sep 2008 15:21:58 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8NJLtb633028321;
	Tue, 23 Sep 2008 15:21:55 -0400 (EDT)
Date: Tue, 23 Sep 2008 15:21:55 -0400 (EDT)
Message-Id: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I've finally had the time to reduce the contents of
draft-ietf-sip-body-handling-03 into a semi-algorithm for how SIP
bodies are processed.  As far as I can tell, everything I've written
is either stated or unambiguously implied by the draft.  The advantage
of this formulation is its relative brevity and that it makes it
easier to examine the conequences of the various rules.

I will air my comments in a later message.  At this point, I'd like
people to check over what I've written to see if they agree that I am
representing the draft correctly.
----------------------------------------------------------------------
1. The questions

Specifying SIP body processing requires answering three questions:

- For any body part, is is processable?
- For any body part that is processable, what actions are to be taken
  to process it?
- For any body part, what is the processing context which determines
  what external entities are affected by processing the body part?

It appears that, in general, determining how a body is to be processed
cannot be done in one pass over the body.

2. Body parts and terminology

Body parts are either "simple" or "multipart".  Body parts that are
"multipart" are of three types:  multipart/mixed,
multipart/alternative, and multipart/related.

When describing the handling of a multipart body part, we call the
multipart body part the "part", and we call the sub-parts of it the
"components".

3. Processing context

The processing context of parts is generally inherited from parts to
their components.  The processing context of the SIP message body as a
whole (the root part) is provided by the method of the SIP message and
context provided by the SIP protocol.

4. Simple parts

A simple part can be processed if the processor understands its MIME
type and disposition.

If a simple part is to be processed, it is processed directly by the
processor within the processing context that the part has inherited.

5. multipart/mixed

A multipart/mixed part can be processed if all of the components with
handling 'required' can be processed, and if the processor can see a
reference to each component with Content Disposition 'by-reference'
and handling 'required'.

A multipart/mixed part is processed by processing each of its
components which can be processed, excepting any component with
Content Disposition 'by-reference' for which the processor cannot see
a reference (and perforce, which has handling 'optional').  The
processing context of a component is that of the part, unless the
processor can see a reference to it, in which case the context is
provided by the reference.

(The 'required' status of a multipart/mixed part is the AND of the
'required' statuses of its componets.)

6. multipart/alternative

A multipart/alternative part can be processed if any component can be
processed.

A multipart/alternative part is processed by processing the textually
last of its components that can be processed.  The processing context
of the component is that of the part.

(The handling of each component should be 'optional', but it is
ignored. [problem:] This rule makes it impossible to express that a
component of a multipart/mixed component of a multipart/alternative is
required.)

7. multipart/related

A processor is not rquired to implement multipart/related.  If
multipart/related is not implemented, such a part is treated as
multipart/mixed.  [problem:] It is not clear that this will give
useful results.

In order that a multipart/related part can be processed, the root
component must be processable.  From the root, all references to other
components are followed, and references in those components are
recursively followed, etc.  (These components may be outside the
multipart/related part.)  A reference to another component that exists
in a component may not be visible to the processor because it is
embedded in an extension that the processor does not understand; such
references are perforce ignored.  A component that is referenced may
not be processable by the processor, in which case if its handling is
'optional' the referenced component and the reference are both
ignored, and if its handling is 'required' the multipart part is
deemed not processable.  (How such a reference is to be ignored is
determined by the semantics of the component.)  If there is a
component (of the part) whose handling is 'required and the processor
cannot see a reference to it, the part is deemed not processable.

A multipart/related part is processed by processing the root component
and all the processable components that are reached by recursively
following references from it.

The processing context of the root component that of the part.  The
processing contexts of the other components are provided by the
references to them.

[addition:] Components other than the root component should have
Content-Disposition 'by-reference'.
----------------------------------------------------------------------

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 13:06:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BC9A228C155;
	Tue, 23 Sep 2008 13:06:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 86FC13A6CFA
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 13:06:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xzIZszrnuXFK for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 13:06:28 -0700 (PDT)
Received: from TheWorld.com (pcls6.std.com [192.74.137.146])
	by core3.amsl.com (Postfix) with ESMTP id 8007C3A6CF7
	for <sip@ietf.org>; Tue, 23 Sep 2008 13:06:28 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8NK63wS000893;
	Tue, 23 Sep 2008 16:06:06 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8NK61Vv33185669;
	Tue, 23 Sep 2008 16:06:02 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8NK619P33191730;
	Tue, 23 Sep 2008 16:06:01 -0400 (EDT)
Date: Tue, 23 Sep 2008 16:06:01 -0400 (EDT)
Message-Id: <200809232006.m8NK619P33191730@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

1.

First, a complete nit:  The title of section 6.2 is "UA Behavior to
Process 'multipart/alternative'", whereas it should be "UA Behavior to
Process 'multipart/related'".

2.

The handling of a multipart/mixed is 'required' if there is any
component whose handling is 'required'.  (My previous message stated
this incorrectly.)  This has the sense that handling is a "global"
property, in that any part is marked 'required' if any simple part
within it is marked 'required'.

This rule causes various problems.  One problem is that the parts of a
multipart/alternative are supposed to have handling 'optional'
(although the handling value is ignored), which requires that all
components of a part that is a component of a multipart/alternative
must be 'optional'.  This makes it impossible to convey the logic of
the following example and similar situations (which are likely to
happen in practice):

	X: multipart/alternative
	|
        |   A: multipart/mixed: A1 is required, A2 and A3 are optional
	|   |
	|   |   A1: simple
	|   |
	|   |   A2: simple
	|   |
	|   |   A3: simple
	|
        |   B: multipart/mixed: B1 is required, B2 and B3 are optional
	|   |
	|   |   B1: simple
	|   |
	|   |   B2: simple
	|   |
	|   |   B3: simple

That is, in order to process A correctly, A1 must be understood, and
similarly for processing B correctly.  But the recipient only needs to
understand A *or* B.

According to the current draft, A1 and B1 must be marked 'required',
which implies that A and B must be marked 'optional'.  That
contradicts the rule for multipart/alternative, but worse, it doesn't
express the logic of the situation.

A better rule (IMHO) would be that the 'handling' value is 'local',
that is, it tells whether understanding the component is necessary for
understanding the part that contains it.  Leaving the specification of
whether the containing part needs to be understood to the containing
part's handling value, and those of the parts that contain it.

This fix requires amending the draft by removing the prescription of
how the handling of a multipart/mixed part is determined by the
handling of its components.  I believe that (within the specifications
and implications of the draft) the draft's processing logic is not
modified.

3.

A processor that does not implement multipart/related is allowed to
process the part as if it was multipart/mixed.  It's not clear that
there are *any* circumstances under which this will result in useful
results.  The current draft hints at this, but the hint should
probably be strengthened into a warning that multipart/related should
not be used in any circumstance where the recipient is not constrained
by some mechanism to implement multipart/related.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 14:06:15 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DFEEA28C22E;
	Tue, 23 Sep 2008 14:06:15 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4EF5128C205
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 14:06:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6zUFWLCHqCcz for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 14:06:10 -0700 (PDT)
Received: from psmtp.com (exprod6ob109.obsmtp.com [64.18.1.22])
	by core3.amsl.com (Postfix) with ESMTP id BBADE28C240
	for <sip@ietf.org>; Tue, 23 Sep 2008 14:06:02 -0700 (PDT)
Received: from source ([192.150.8.22]) by exprod6ob109.postini.com
	([64.18.5.12]) with SMTP; Tue, 23 Sep 2008 14:05:37 PDT
Received: from inner-relay-3.eur.adobe.com (inner-relay-3b [10.128.4.236])
	by outbound-smtp-2.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8NL5WE0028186; Tue, 23 Sep 2008 14:05:32 -0700 (PDT)
Received: from fe2.corp.adobe.com (fe2.corp.adobe.com [10.8.192.72])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	m8NL5PqJ029645; Tue, 23 Sep 2008 14:05:26 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe2.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 14:05:25 -0700
Received: from 10.7.242.99 ([10.7.242.99]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Tue, 23 Sep 2008 21:05:24 +0000
User-Agent: Microsoft-Entourage/12.12.0.080729
Date: Tue, 23 Sep 2008 16:12:32 -0500
From: Henry Sinnreich <hsinnrei@adobe.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>,
	ext Dean Willis <dean.willis@softarmor.com>,
	"Tschofenig, Hannes (NSN - FI/Espoo)" <hannes.tschofenig@nsn.com>,
	Jason Fischl <jason@counterpath.com>, <ekr@rtfm.com>
Message-ID: <C4FEC5F0.886C%hsinnrei@adobe.com>
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckdTgnYoAlFa5S2SWSKYxnUx9goqAABLz1AABuUOC4=
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
Mime-version: 1.0
X-OriginalArrivalTime: 23 Sep 2008 21:05:25.0398 (UTC)
	FILETIME=[19689360:01C91DC0]
Cc: Cullen Jennings <fluffy@cisco.com>, sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

> as described now suitable as a media plane security solution for the 3GPP=
 IMS?

What is the media plane, its X and Y dimensions?

Thanks, Henry


On 9/23/08 9:28 AM, "Schneider, Peter (NSN - DE/Munich)"
<peter.schneider@nsn.com> wrote:

> There is maybe one concern with the document in its current form: Is DTLS=
-SRTP
> as described now suitable as a media plane security solution for the 3GPP=
 IMS?
> =

> A main problem here is the interworking with middleboxes, as described in
> draft-ietf-mmusic-media-path-middleboxes. This draft is mentionened in
> draft-ietf-sip-dtls-srtp-framework-03 in a way that makes me assume that
> following the recommendations of draft-ietf-mmusic-media-path-middleboxes=
 is
> compliant with draft-ietf-sip-dtls-srtp-framework-03. However, ignoring
> draft-ietf-mmusic-media-path-middleboxes is also possible, which would le=
ad to
> a poor interaction with middleboxes. It would be favorable to have the
> recommendations inside draft-ietf-sip-dtls-srtp-framework itself, and to
> emphasize that following theses recommendations will help making DTLS-SRTP
> work in scenarios with middleboxes.
> =

> A specific concern is: If ICE is not used, the passive side (the server i=
n the
> DTLS handshake) must use a STUN connectivity check to open a pinhole (in a
> middlebox). In 3GPP/TISPAN scenarios it is likely that ICE and STUN do not
> work at the managed middleboxes (the SBCs) - such traffic may just be
> discarded. In particular, a STUN connectivity check may NOT trigger latch=
ing
> at an SBC. Sending of no-op RTP packets (see [I-D.ietf-avt-rtp-no-op]) ho=
wever
> will trigger the latching. (Both methods are mentioned in
> draft-ietf-mmusic-media-path-middleboxes at equal ranks, but from the
> 3GPP/TISPAN and SBC interaction perspective, the "wrong" one was selected=
 as
> mandatory in draft-ietf-sip-dtls-srtp-framework-03.)
> =

> Consider this scenario, showing a managed middlebox plus an unmanaged (e.=
g.
> residential) NAT/FW at the passive side:
> =

> =

>      SIP     +-----------------+     SIP
>   Signaling  |     SIP ALG     |  Signaling
> <----------->+-----------------+<---------------+
>              |   MIDCOM Agent  |                |
>              +-----------------+                |
>                       ^                         |
>        Policy rule(s) | and NAT bindings  +---------+      +----------+
>                       v                   |     +---|----->| Endpoint |
>     Media      +-------------+   Media    | NAT/FW  |      |    P     |
> <------------->|  Middlebox  |<-----------|---------|----->|          |
>                +-------------+            +---------+      +----------+
> =

> =

> The MIDCOM agent will instruct the middlebox to relay the traffic of the
> session. But even after SDP offer and answer have been exchanged, the
> middlebox and MIDCOM agent will not know which IP address the residential
> NAT/FW is going to use for the media session. A STUN connectivity check s=
ent
> by endpoint P would open a pinhole in the residential NAT/FW, but would be
> discarded by the middlebox. An RTP packet however, e.g. a no-op RTP packe=
t,
> would typically cause latching at the middlebox, e.g. make the middlebox =
take
> the source IP address of the RTP packet as the media address of endpoint =
P.
> =

> Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP packets shoul=
d be
> used rather than STUN connectivity checks, and it would be favorable if t=
he
> draft mentioned that, e.g. in the section "Latching Control Without ICE".
> Maybe the best solution is to recommend  the no-op RTP packets for all
> scenarios without ICE.
> =

> Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
>    - to retry signaling (for key exchange) on the media path in a suitable
> way, if it has failed (REC #3)
>    - to send an SDP answer as soon as possible, for example within a
> provisional SIP response (REC #4)
> Wording reflecting these recommendations should be placed in section 6.7 =
of
> draft-ietf-sip-dtls-srtp-framework.
> =

> In section 5 of draft-ietf-sip-dtls-srtp-framework, where it is recommend=
ed
> for the answerer to take the active role, a hint should be added that in
> middlebox scenarios, where middleboxes block the media path before SDP of=
fer
> and answer have been exchanged (and media before SDP answer will not work
> anyway), the answerer should take the passive role rather then starting a
> DTLS-SRTP handshake that will stall due to a blocking middlebox.
> =

> Peter =

> =

>> -----Urspr=FCngliche Nachricht-----
>> Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im
>> Auftrag von ext Dean Willis
>> Gesendet: Dienstag, 23. September 2008 09:28
>> An: iesg-secretary@ietf.org
>> Cc: CULLEN JENNINGS; sip@ietf.org
>> Betreff: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
>> =

>> We seem to be Done with the DTLS-SRTP Framework!
>> =

>> =

>> Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
>> Please report any problems (like, maybe I cut-and-pasted the wrong
>> buffer again) to me and to the list. Thanks!
>> =

> ... =

>> =

>> =

>> (1.c) Does the Document Shepherd have concerns that the document
>> needs more review from a particular or broader perspective, e.g.,
>> security, operational complexity, someone familiar with AAA,
>> internationalization or XML?
>> =

>> The reviews appear to be adequate.
>> =

> ...
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 15:52:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 601483A6CFA;
	Tue, 23 Sep 2008 15:52:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9C8333A6CF5
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 15:52:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id qx7jaeGu4H74 for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 15:52:02 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id A8F243A6CFA
	for <sip@ietf.org>; Tue, 23 Sep 2008 15:52:02 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,295,1220227200"; d="scan'208";a="46654631"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-5.cisco.com with ESMTP; 23 Sep 2008 22:52:07 +0000
Received: from sj-core-3.cisco.com (sj-core-3.cisco.com [171.68.223.137])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8NMq72s010887; 
	Tue, 23 Sep 2008 15:52:07 -0700
Received: from xbh-sjc-231.amer.cisco.com (xbh-sjc-231.cisco.com
	[128.107.191.100])
	by sj-core-3.cisco.com (8.13.8/8.13.8) with ESMTP id m8NMq7n2028448;
	Tue, 23 Sep 2008 22:52:07 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-231.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 15:52:07 -0700
Received: from [128.107.106.182] ([128.107.106.182]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 15:52:06 -0700
Message-ID: <48D97316.7070004@cisco.com>
Date: Tue, 23 Sep 2008 18:52:06 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>
In-Reply-To: <200809232006.m8NK619P33191730@shell01.TheWorld.com>
X-OriginalArrivalTime: 23 Sep 2008 22:52:06.0898 (UTC)
	FILETIME=[00FFF520:01C91DCF]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=4043; t=1222210327;
	x=1223074327; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20; bh=9N0qn8HKsNdiQPUecgrfBy3MJ5u9TgyDaYvmrg2yIys=;
	b=dOS4QcO24vmF36zPbf+yoKhZRrAyGfPqla8mqHunwCYP53Ok0F1lCbCE6V
	IzztZrXGZbn2012V8rzcv7BGirXtCLNXZ6jhrz8YfVtXiwnKbD2zancLcwdo
	JnO7Ne6RTp;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:
> 1.
> 
> First, a complete nit:  The title of section 6.2 is "UA Behavior to
> Process 'multipart/alternative'", whereas it should be "UA Behavior to
> Process 'multipart/related'".
> 
> 2.
> 
> The handling of a multipart/mixed is 'required' if there is any
> component whose handling is 'required'.  (My previous message stated
> this incorrectly.) 

> This has the sense that handling is a "global"
> property, in that any part is marked 'required' if any simple part
> within it is marked 'required'.

What are you looking at to draw the above conclusion?
I didn't have that impression. I figured it was "local" as you describe 
below.

> This rule causes various problems.  One problem is that the parts of a
> multipart/alternative are supposed to have handling 'optional'
> (although the handling value is ignored), which requires that all
> components of a part that is a component of a multipart/alternative
> must be 'optional'.  This makes it impossible to convey the logic of
> the following example and similar situations (which are likely to
> happen in practice):

This is an area that also bothers me. Perhaps the handling of parts of a 
multipart/alternative are irrelevant, as they are for multipart/related, 
unless the recipient doesn't understand and treats it as 
multipart/mixed. Of course, if a multipart/alternative is processed as a 
multipart/mixed the result isn't likely to be good.

> 	X: multipart/alternative
> 	|
>         |   A: multipart/mixed: A1 is required, A2 and A3 are optional
> 	|   |
> 	|   |   A1: simple
> 	|   |
> 	|   |   A2: simple
> 	|   |
> 	|   |   A3: simple
> 	|
>         |   B: multipart/mixed: B1 is required, B2 and B3 are optional
> 	|   |
> 	|   |   B1: simple
> 	|   |
> 	|   |   B2: simple
> 	|   |
> 	|   |   B3: simple
> 
> That is, in order to process A correctly, A1 must be understood, and
> similarly for processing B correctly.  But the recipient only needs to
> understand A *or* B.

Its my understanding that there is an assumption that the alternatives 
are increasingly rich, and it is assumed that you do the last one you 
understand, but that then you also understand all the prior ones. (So in 
effect you the last one before the first one you don't understand, 
rather than doing the last one you do understand.)

> According to the current draft, A1 and B1 must be marked 'required',
> which implies that A and B must be marked 'optional'.  That
> contradicts the rule for multipart/alternative, but worse, it doesn't
> express the logic of the situation.
> 
> A better rule (IMHO) would be that the 'handling' value is 'local',
> that is, it tells whether understanding the component is necessary for
> understanding the part that contains it.  Leaving the specification of
> whether the containing part needs to be understood to the containing
> part's handling value, and those of the parts that contain it.
> 
> This fix requires amending the draft by removing the prescription of
> how the handling of a multipart/mixed part is determined by the
> handling of its components.  I believe that (within the specifications
> and implications of the draft) the draft's processing logic is not
> modified.
> 
> 3.
> 
> A processor that does not implement multipart/related is allowed to
> process the part as if it was multipart/mixed.  It's not clear that
> there are *any* circumstances under which this will result in useful
> results.  The current draft hints at this, but the hint should
> probably be strengthened into a warning that multipart/related should
> not be used in any circumstance where the recipient is not constrained
> by some mechanism to implement multipart/related.

This seems reasonable to me.

I would think that someone building a multipart/related should construct 
it such that something reasonable happens if it is processed as a 
multipart/mixed. But certainly it may be impossible to do that.

	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 23 19:08:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AA3F73A69E9;
	Tue, 23 Sep 2008 19:08:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5179B3A69E9
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 19:08:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: 0.39
X-Spam-Level: 
X-Spam-Status: No, score=0.39 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553, 
	HTML_FONT_FACE_BAD=0.884, HTML_MESSAGE=0.001, RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UN3u+3r+58yW for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 19:08:09 -0700 (PDT)
Received: from szxga01-in.huawei.com (unknown [119.145.14.64])
	by core3.amsl.com (Postfix) with ESMTP id EA1B23A67C1
	for <sip@ietf.org>; Tue, 23 Sep 2008 19:08:08 -0700 (PDT)
Received: from huawei.com (szxga01-in [172.24.2.3])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7O0083BGLDAC@szxga01-in.huawei.com> for
	sip@ietf.org; Wed, 24 Sep 2008 10:08:01 +0800 (CST)
Received: from c00111037 ([10.111.16.145])
	by szxga01-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0K7O004UBGLBZL@szxga01-in.huawei.com> for
	sip@ietf.org; Wed, 24 Sep 2008 10:08:00 +0800 (CST)
Date: Wed, 24 Sep 2008 10:07:59 +0800
From: Xiangsong Cui <Xiangsong.Cui@huawei.com>
To: Paul Kyzivat <pkyzivat@cisco.com>,
	Eric Burger <eburger@standardstrack.com>,
	Sedlacek Ivo <ivo.sedlacek.ext@nsn.com>
Message-id: <007401c91dea$5e86b8d0$91106f0a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
X-Mailer: Microsoft Outlook Express 6.00.2900.3138
X-Priority: 3
X-MSMail-priority: Normal
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
	<48D90E5C.8060006@cisco.com>
Cc: 'SIP IETF' <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling"
	parameter	ofContent-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1986796846=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============1986796846==
Content-type: multipart/alternative;
 boundary="Boundary_(ID_0Kaap2yxOH8OGg+cZ44WWg)"

This is a multi-part message in MIME format.

--Boundary_(ID_0Kaap2yxOH8OGg+cZ44WWg)
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7BIT

Hello all,

I want to make a supplement because I think the new-introduced participant in the use case is a SEND-ONLY participant (fetching ... to the participants),  how about the solution in this situation? 

To Eric:  the statement on the authentication in RFC4483 is as follow, is it enough?

   "For confidentiality, integrity, and authentication, this content
   indirection mechanism relies on the security mechanisms outlined in
   RFC 3261.  In particular, the usage of S/MIME as defined in section
   23 of RFC 3261 provides the necessary mechanism to ensure integrity,
   protection, and confidentiality of the indirect content URI and
   associated parameters.

   Securing the transfer of the indirect content is the responsibility
   of the underlying protocol used for this transfer.  If HTTP is used,
   applications implementing this content indirection method SHOULD
   support the HTTPS URI scheme for secure transfer of content and MUST
   support the upgrading of connections to TLS, by using starttls.  Note
   that a failure to complete HTTPS or starttls (for example, due to
   certificate or encryption mismatch) after having accepted the
   indirect content in the SIP request is not the same as rejecting the
   SIP request, and it may require additional user-user communication
   for correction.

   Note that this document does not advocate the use of transitive
   trust.  That is, just because the UAS receives a URI from a UAC that
   the UAS trusts, the UAS SHOULD NOT implicitly trust the object
   referred to by the URI without establishing its own trust
   relationship with the URI provider.

   Access control to the content referenced by the URI is not defined by
   this specification.  Access control mechanisms may be defined by the
   protocol for the scheme of the indirect content URI."

Thanks and Regards


Xiangsong

  ----- Original Message ----- 
  From: Paul Kyzivat 
  To: Sedlacek Ivo 
  Cc: 'SIP IETF' 
  Sent: Tuesday, September 23, 2008 11:42 PM
  Subject: Re: [Sip] [sip] extensions of "handling" parameter ofContent-Disposition header




  Sedlacek Ivo wrote:
  > Hello,
  > 
  > see further explanation below.

  > There is a SIP based multiparty conference with a focus - every participant
  > is connected using a SIP dialog to a central focus, which mixes/switches
  > Media sent by the participants.
  > One of the participants wants the focus to fetch e.g. a picture / an audio
  > clip from an HTTP server / an RTSP server and play it to the conference
  > participants using their media streams negotiated in SIP dialogs.
  > Hope this makes this use case clearer.

  > As mentioned above - by "sharing the resource"  I meant the focus is
  > fetching the picture / audio clip from the HTTP server / the RTSP server and
  > distribute it using the MSRP / MSRP media streams agreed in the SIP sessions
  > to the participants.

  This sounds like a desire to have the conference mixer do something 
  special. As such, something around mediactl might be appropriate.

  Or, it might be viewed as introducing another sort of participant into 
  the conference. Perhaps this could be done by sending a REFER to the 
  focus, with a URL for the resource in the Refer-To header.

  Thanks,
  Paul
  _______________________________________________
  Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
  This list is for NEW development of the core SIP Protocol
  Use sip-implementors@cs.columbia.edu for questions on current sip
  Use sipping@ietf.org for new developments on the application of sip

--Boundary_(ID_0Kaap2yxOH8OGg+cZ44WWg)
Content-type: text/html; charset=iso-8859-1
Content-transfer-encoding: 7BIT

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 6.00.2900.3395" name=GENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=#ffffff>
<DIV><FONT face=Arial color=gray>Hello all,</FONT></DIV>
<DIV><FONT face=Arial color=#808080></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080>I want to&nbsp;make a supplement because I 
think the new-introduced participant in the use case is a SEND-ONLY participant 
(fetching ... to the participants), &nbsp;how about the solution in this 
situation? </FONT></DIV>
<DIV><FONT face=Arial color=#808080></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080>To&nbsp;Eric:&nbsp;&nbsp;the statement on 
the&nbsp;authentication in RFC4483 is as follow, is it enough?</FONT></DIV>
<DIV><FONT face=Arial color=#808080></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080>&nbsp;&nbsp; "For confidentiality, 
integrity, and authentication, this content<BR>&nbsp;&nbsp; indirection 
mechanism relies on the security mechanisms outlined in</FONT></DIV>
<DIV><FONT face=Arial color=#808080>&nbsp;&nbsp; RFC 3261.&nbsp; In particular, 
the usage of S/MIME as defined in section<BR>&nbsp;&nbsp; 23 of RFC 3261 
provides the necessary mechanism to ensure integrity,<BR>&nbsp;&nbsp; 
protection, and confidentiality of the indirect content URI and<BR>&nbsp;&nbsp; 
associated parameters.</DIV>
<DIV><FONT face=&#23435;&#20307; color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV>&nbsp;&nbsp; Securing the transfer of the indirect content is the 
responsibility<BR>&nbsp;&nbsp; of the underlying protocol used for this 
transfer.&nbsp; If HTTP is used,<BR>&nbsp;&nbsp; applications implementing this 
content indirection method SHOULD<BR>&nbsp;&nbsp; support the HTTPS URI scheme 
for secure transfer of content and MUST<BR>&nbsp;&nbsp; support the upgrading of 
connections to TLS, by using starttls.&nbsp; Note<BR>&nbsp;&nbsp; that a failure 
to complete HTTPS or starttls (for example, due to<BR>&nbsp;&nbsp; certificate 
or encryption mismatch) after having accepted the<BR>&nbsp;&nbsp; indirect 
content in the SIP request is not the same as rejecting the<BR>&nbsp;&nbsp; SIP 
request, and it may require additional user-user communication<BR>&nbsp;&nbsp; 
for correction.</DIV>
<DIV><FONT face=&#23435;&#20307; color=#000000 size=2></FONT>&nbsp;</DIV>
<DIV>&nbsp;&nbsp; Note that this document does not advocate the use of 
transitive<BR>&nbsp;&nbsp; trust.&nbsp; That is, just because the UAS receives a 
URI from a UAC that<BR>&nbsp;&nbsp; the UAS trusts, the UAS SHOULD NOT 
implicitly trust the object<BR>&nbsp;&nbsp; referred to by the URI without 
establishing its own trust<BR>&nbsp;&nbsp; relationship with the URI 
provider.</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;&nbsp; Access control to the content referenced by the URI is not 
defined by<BR>&nbsp;&nbsp; this specification.&nbsp; Access control mechanisms 
may be defined by the<BR>&nbsp;&nbsp; protocol for the scheme of the indirect 
content URI."</FONT></DIV>
<DIV><FONT face=Arial color=#808080></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080>Thanks and Regards</FONT></DIV>
<DIV><FONT face=Arial color=#808080 size=1></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080 size=3></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial color=#808080>Xiangsong</FONT></DIV>
<DIV><FONT face=Arial color=#808080 size=1></FONT>&nbsp;</DIV>
<BLOCKQUOTE 
style="PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style="FONT: 9pt &#23435;&#20307;">----- Original Message ----- </DIV>
  <DIV style="BACKGROUND: #e4e4e4; FONT: 9pt &#23435;&#20307;; font-color: black"><B>From:</B> 
  <A title=pkyzivat@cisco.com href="mailto:pkyzivat@cisco.com">Paul Kyzivat</A> 
  </DIV>
  <DIV style="FONT: 9pt &#23435;&#20307;"><B>To:</B> <A title=ivo.sedlacek.ext@nsn.com 
  href="mailto:ivo.sedlacek.ext@nsn.com">Sedlacek Ivo</A> </DIV>
  <DIV style="FONT: 9pt &#23435;&#20307;"><B>Cc:</B> <A title=sip@ietf.org 
  href="mailto:sip@ietf.org">'SIP IETF'</A> </DIV>
  <DIV style="FONT: 9pt &#23435;&#20307;"><B>Sent:</B> Tuesday, September 23, 2008 11:42 
  PM</DIV>
  <DIV style="FONT: 9pt &#23435;&#20307;"><B>Subject:</B> Re: [Sip] [sip] extensions of 
  "handling" parameter ofContent-Disposition header</DIV>
  <DIV><BR></DIV><BR><BR>Sedlacek Ivo wrote:<BR>&gt; Hello,<BR>&gt; <BR>&gt; see 
  further explanation below.<BR><BR>&gt; There is a SIP based multiparty 
  conference with a focus - every participant<BR>&gt; is connected using a SIP 
  dialog to a central focus, which mixes/switches<BR>&gt; Media sent by the 
  participants.<BR>&gt; One of the participants wants the focus to fetch e.g. a 
  picture / an audio<BR>&gt; clip from an HTTP server / an RTSP server and play 
  it to the conference<BR>&gt; participants using their media streams negotiated 
  in SIP dialogs.<BR>&gt; Hope this makes this use case clearer.<BR><BR>&gt; As 
  mentioned above - by "sharing the resource"&nbsp; I meant the focus is<BR>&gt; 
  fetching the picture / audio clip from the HTTP server / the RTSP server 
  and<BR>&gt; distribute it using the MSRP / MSRP media streams agreed in the 
  SIP sessions<BR>&gt; to the participants.<BR><BR>This sounds like a desire to 
  have the conference mixer do something <BR>special. As such, something around 
  mediactl might be appropriate.<BR><BR>Or, it might be viewed as introducing 
  another sort of participant into <BR>the conference. Perhaps this could be 
  done by sending a REFER to the <BR>focus, with a URL for the resource in the 
  Refer-To 
  header.<BR><BR>Thanks,<BR>Paul<BR>_______________________________________________<BR>Sip 
  mailing list&nbsp; <A 
  href="https://www.ietf.org/mailman/listinfo/sip">https://www.ietf.org/mailman/listinfo/sip</A><BR>This 
  list is for NEW development of the core SIP Protocol<BR>Use <A 
  href="mailto:sip-implementors@cs.columbia.edu">sip-implementors@cs.columbia.edu</A> 
  for questions on current sip<BR>Use <A 
  href="mailto:sipping@ietf.org">sipping@ietf.org</A> for new developments on 
  the application of sip<BR></BLOCKQUOTE></BODY></HTML>

--Boundary_(ID_0Kaap2yxOH8OGg+cZ44WWg)--

--===============1986796846==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1986796846==--


From sip-bounces@ietf.org  Tue Sep 23 21:54:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7C01A3A6D27;
	Tue, 23 Sep 2008 21:54:55 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B38CD3A6B3B
	for <sip@core3.amsl.com>; Tue, 23 Sep 2008 21:54:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.299
X-Spam-Level: 
X-Spam-Status: No, score=-6.299 tagged_above=-999 required=5 tests=[AWL=0.300, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wob6EoT-1Phy for <sip@core3.amsl.com>;
	Tue, 23 Sep 2008 21:54:53 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id DCCE73A6B79
	for <sip@ietf.org>; Tue, 23 Sep 2008 21:54:52 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,297,1220227200"; d="scan'208";a="161499611"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 24 Sep 2008 04:54:58 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8O4swqp004043; 
	Tue, 23 Sep 2008 21:54:58 -0700
Received: from xbh-sjc-211.amer.cisco.com (xbh-sjc-211.cisco.com
	[171.70.151.144])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8O4swj6009151;
	Wed, 24 Sep 2008 04:54:58 GMT
Received: from xfe-sjc-212.amer.cisco.com ([171.70.151.187]) by
	xbh-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 21:54:57 -0700
Received: from [10.21.93.12] ([10.21.93.12]) by xfe-sjc-212.amer.cisco.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 23 Sep 2008 21:54:57 -0700
Message-ID: <48D9C822.4060905@cisco.com>
Date: Wed, 24 Sep 2008 00:54:58 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>
In-Reply-To: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>
X-OriginalArrivalTime: 24 Sep 2008 04:54:57.0680 (UTC)
	FILETIME=[B165A900:01C91E01]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6993; t=1222232098;
	x=1223096098; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20; bh=KLmJ7XibscqoAoKYP7FsX8PuwI1Y2EH8KTCNLzYdsXw=;
	b=SaorckEZYI4OBQq9K0wQCUnMDR3BpHSeLaY6tG2C/X8gEHeX+4LhPahfVG
	qSFCunjnXq89GvDmtetcRqLHwmxRFtZNnNHv1RnTWtBGPEhefZgIuwuE3fZ6
	WMnU9AHCI3nS1p8sReepaUAtSVyuP09Xj6Mj+u3aU5fZdjSg/gI4w=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale,

I'm kind of busy right now and can't spend a lot of time formulating a 
detailed response right now. But I think you are on a good track. Its 
just going to take me a bunch of time to check all the relations between 
the draft and your formulation.

One thing where I immediately think there is some deviation:

IMO there is nothing really special about by-reference, except that it 
is a disposition-type whose intrinsic processing is "ignore". Hence the 
only processing that it might receive is determined by a reference, if 
any. If no reference is found then there is no processing.

Also, in principle it would be possible for a single body to be 
processed multiple times, using differing contexts. This could be a body 
with c-d of by-reference and two or more distinct references. It could 
also be a body with a c-d of some other type that has some intrinsic 
meaning, as well as one or more references to the same part. I don't 
think this is likely to be important in many cases, but it seems to be a 
possibility. One example that comes to mind would be a body part 
containing a location, that is referenced from a geoloc header (to 
assist routing) and perhaps has c-d of 'render' causing it to be 
rendered to the recipient. (Yes, this is a stretch.)

	Thanks,
	Paul

Dale.Worley@comcast.net wrote:
> I've finally had the time to reduce the contents of
> draft-ietf-sip-body-handling-03 into a semi-algorithm for how SIP
> bodies are processed.  As far as I can tell, everything I've written
> is either stated or unambiguously implied by the draft.  The advantage
> of this formulation is its relative brevity and that it makes it
> easier to examine the conequences of the various rules.
> 
> I will air my comments in a later message.  At this point, I'd like
> people to check over what I've written to see if they agree that I am
> representing the draft correctly.
> ----------------------------------------------------------------------
> 1. The questions
> 
> Specifying SIP body processing requires answering three questions:
> 
> - For any body part, is is processable?
> - For any body part that is processable, what actions are to be taken
>   to process it?
> - For any body part, what is the processing context which determines
>   what external entities are affected by processing the body part?
> 
> It appears that, in general, determining how a body is to be processed
> cannot be done in one pass over the body.
> 
> 2. Body parts and terminology
> 
> Body parts are either "simple" or "multipart".  Body parts that are
> "multipart" are of three types:  multipart/mixed,
> multipart/alternative, and multipart/related.
> 
> When describing the handling of a multipart body part, we call the
> multipart body part the "part", and we call the sub-parts of it the
> "components".
> 
> 3. Processing context
> 
> The processing context of parts is generally inherited from parts to
> their components.  The processing context of the SIP message body as a
> whole (the root part) is provided by the method of the SIP message and
> context provided by the SIP protocol.
> 
> 4. Simple parts
> 
> A simple part can be processed if the processor understands its MIME
> type and disposition.
> 
> If a simple part is to be processed, it is processed directly by the
> processor within the processing context that the part has inherited.
> 
> 5. multipart/mixed
> 
> A multipart/mixed part can be processed if all of the components with
> handling 'required' can be processed, and if the processor can see a
> reference to each component with Content Disposition 'by-reference'
> and handling 'required'.
> 
> A multipart/mixed part is processed by processing each of its
> components which can be processed, excepting any component with
> Content Disposition 'by-reference' for which the processor cannot see
> a reference (and perforce, which has handling 'optional').  The
> processing context of a component is that of the part, unless the
> processor can see a reference to it, in which case the context is
> provided by the reference.
> 
> (The 'required' status of a multipart/mixed part is the AND of the
> 'required' statuses of its componets.)
> 
> 6. multipart/alternative
> 
> A multipart/alternative part can be processed if any component can be
> processed.
> 
> A multipart/alternative part is processed by processing the textually
> last of its components that can be processed.  The processing context
> of the component is that of the part.
> 
> (The handling of each component should be 'optional', but it is
> ignored. [problem:] This rule makes it impossible to express that a
> component of a multipart/mixed component of a multipart/alternative is
> required.)
> 
> 7. multipart/related
> 
> A processor is not rquired to implement multipart/related.  If
> multipart/related is not implemented, such a part is treated as
> multipart/mixed.  [problem:] It is not clear that this will give
> useful results.
> 
> In order that a multipart/related part can be processed, the root
> component must be processable.  From the root, all references to other
> components are followed, and references in those components are
> recursively followed, etc.  (These components may be outside the
> multipart/related part.)  A reference to another component that exists
> in a component may not be visible to the processor because it is
> embedded in an extension that the processor does not understand; such
> references are perforce ignored.  A component that is referenced may
> not be processable by the processor, in which case if its handling is
> 'optional' the referenced component and the reference are both
> ignored, and if its handling is 'required' the multipart part is
> deemed not processable.  (How such a reference is to be ignored is
> determined by the semantics of the component.)  If there is a
> component (of the part) whose handling is 'required and the processor
> cannot see a reference to it, the part is deemed not processable.
> 
> A multipart/related part is processed by processing the root component
> and all the processable components that are reached by recursively
> following references from it.
> 
> The processing context of the root component that of the part.  The
> processing contexts of the other components are provided by the
> references to them.
> 
> [addition:] Components other than the root component should have
> Content-Disposition 'by-reference'.
> ----------------------------------------------------------------------
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 01:41:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0F5613A6D4C;
	Wed, 24 Sep 2008 01:41:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 39DE13A6D66
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 01:41:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.372
X-Spam-Level: 
X-Spam-Status: No, score=-3.372 tagged_above=-999 required=5 tests=[AWL=0.772, 
	BAYES_00=-2.599, FRT_ADOBE2=2.455, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BwiEOL+tlFpX for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 01:41:02 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id 6EFD93A6D67
	for <sip@ietf.org>; Wed, 24 Sep 2008 01:41:01 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8O8f0Vr025213
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Wed, 24 Sep 2008 10:41:00 +0200
Received: from demuexc022.nsn-intra.net (webmail.nsn-intra.net [10.150.128.35])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8O8ex1N019582; Wed, 24 Sep 2008 10:41:00 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc022.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Wed, 24 Sep 2008 10:40:59 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 24 Sep 2008 10:41:01 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
In-Reply-To: <C4FEC5F0.886C%hsinnrei@adobe.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckdTgnYoAlFa5S2SWSKYxnUx9goqAABLz1AABuUOC4AFx8VAA==
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
	<C4FEC5F0.886C%hsinnrei@adobe.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Henry Sinnreich" <hsinnrei@adobe.com>
X-OriginalArrivalTime: 24 Sep 2008 08:40:59.0924 (UTC)
	FILETIME=[451FDD40:01C91E21]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080924104100-728D1BB0-D582DF52/0-0/0-15
X-purgate-size: 7447/0
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

No smiley in the question, so: The media plane is just the set of all media=
 paths. Shown as the line at the bottom of the SIP trapezoid, e.g. in Figur=
e 1 in draft-ietf-sip-dtls-srtp-framework-03.txt .

The media plane security solution to be specified by 3GPP will comprise cry=
ptographic procotocols for securing the media (like SRTP) as well as a key =
management protocol (or more than one). Because of the middlebox considerat=
ions 3GPP currently focusses on key management protocols that do not use th=
e media path.

A 3GPP technical report on this (work in progress) can be found at
http://www.3gpp.org/ftp/Specs/archive/33_series/33.828/33828-081.zip

Peter

> -----Urspr=FCngliche Nachricht-----
> Von: ext Henry Sinnreich [mailto:hsinnrei@adobe.com] =

> Gesendet: Dienstag, 23. September 2008 23:13
> An: Schneider, Peter (NSN - DE/Munich); ext Dean Willis; =

> Tschofenig, Hannes (NSN - FI/Espoo); Jason Fischl; ekr@rtfm.com
> Cc: Cullen Jennings; sip@ietf.org
> Betreff: Re: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> > as described now suitable as a media plane security =

> solution for the 3GPP IMS?
> =

> What is the media plane, its X and Y dimensions?
> =

> Thanks, Henry
> =

> =

> On 9/23/08 9:28 AM, "Schneider, Peter (NSN - DE/Munich)"
> <peter.schneider@nsn.com> wrote:
> =

> > There is maybe one concern with the document in its current =

> form: Is DTLS-SRTP
> > as described now suitable as a media plane security =

> solution for the 3GPP IMS?
> > =

> > A main problem here is the interworking with middleboxes, =

> as described in
> > draft-ietf-mmusic-media-path-middleboxes. This draft is =

> mentionened in
> > draft-ietf-sip-dtls-srtp-framework-03 in a way that makes =

> me assume that
> > following the recommendations of =

> draft-ietf-mmusic-media-path-middleboxes is
> > compliant with draft-ietf-sip-dtls-srtp-framework-03. =

> However, ignoring
> > draft-ietf-mmusic-media-path-middleboxes is also possible, =

> which would lead to
> > a poor interaction with middleboxes. It would be favorable =

> to have the
> > recommendations inside draft-ietf-sip-dtls-srtp-framework =

> itself, and to
> > emphasize that following theses recommendations will help =

> making DTLS-SRTP
> > work in scenarios with middleboxes.
> > =

> > A specific concern is: If ICE is not used, the passive side =

> (the server in the
> > DTLS handshake) must use a STUN connectivity check to open =

> a pinhole (in a
> > middlebox). In 3GPP/TISPAN scenarios it is likely that ICE =

> and STUN do not
> > work at the managed middleboxes (the SBCs) - such traffic =

> may just be
> > discarded. In particular, a STUN connectivity check may NOT =

> trigger latching
> > at an SBC. Sending of no-op RTP packets (see =

> [I-D.ietf-avt-rtp-no-op]) however
> > will trigger the latching. (Both methods are mentioned in
> > draft-ietf-mmusic-media-path-middleboxes at equal ranks, =

> but from the
> > 3GPP/TISPAN and SBC interaction perspective, the "wrong" =

> one was selected as
> > mandatory in draft-ietf-sip-dtls-srtp-framework-03.)
> > =

> > Consider this scenario, showing a managed middlebox plus an =

> unmanaged (e.g.
> > residential) NAT/FW at the passive side:
> > =

> > =

> >      SIP     +-----------------+     SIP
> >   Signaling  |     SIP ALG     |  Signaling
> > <----------->+-----------------+<---------------+
> >              |   MIDCOM Agent  |                |
> >              +-----------------+                |
> >                       ^                         |
> >        Policy rule(s) | and NAT bindings  +---------+      =

> +----------+
> >                       v                   |     =

> +---|----->| Endpoint |
> >     Media      +-------------+   Media    | NAT/FW  |      =

> |    P     |
> > <------------->|  Middlebox  =

> |<-----------|---------|----->|          |
> >                +-------------+            +---------+      =

> +----------+
> > =

> > =

> > The MIDCOM agent will instruct the middlebox to relay the =

> traffic of the
> > session. But even after SDP offer and answer have been =

> exchanged, the
> > middlebox and MIDCOM agent will not know which IP address =

> the residential
> > NAT/FW is going to use for the media session. A STUN =

> connectivity check sent
> > by endpoint P would open a pinhole in the residential =

> NAT/FW, but would be
> > discarded by the middlebox. An RTP packet however, e.g. a =

> no-op RTP packet,
> > would typically cause latching at the middlebox, e.g. make =

> the middlebox take
> > the source IP address of the RTP packet as the media =

> address of endpoint P.
> > =

> > Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP =

> packets should be
> > used rather than STUN connectivity checks, and it would be =

> favorable if the
> > draft mentioned that, e.g. in the section "Latching Control =

> Without ICE".
> > Maybe the best solution is to recommend  the no-op RTP =

> packets for all
> > scenarios without ICE.
> > =

> > Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
> >    - to retry signaling (for key exchange) on the media =

> path in a suitable
> > way, if it has failed (REC #3)
> >    - to send an SDP answer as soon as possible, for example within a
> > provisional SIP response (REC #4)
> > Wording reflecting these recommendations should be placed =

> in section 6.7 of
> > draft-ietf-sip-dtls-srtp-framework.
> > =

> > In section 5 of draft-ietf-sip-dtls-srtp-framework, where =

> it is recommended
> > for the answerer to take the active role, a hint should be =

> added that in
> > middlebox scenarios, where middleboxes block the media path =

> before SDP offer
> > and answer have been exchanged (and media before SDP answer =

> will not work
> > anyway), the answerer should take the passive role rather =

> then starting a
> > DTLS-SRTP handshake that will stall due to a blocking middlebox.
> > =

> > Peter =

> > =

> >> -----Urspr=FCngliche Nachricht-----
> >> Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im
> >> Auftrag von ext Dean Willis
> >> Gesendet: Dienstag, 23. September 2008 09:28
> >> An: iesg-secretary@ietf.org
> >> Cc: CULLEN JENNINGS; sip@ietf.org
> >> Betreff: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> >> =

> >> We seem to be Done with the DTLS-SRTP Framework!
> >> =

> >> =

> >> Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
> >> Please report any problems (like, maybe I cut-and-pasted the wrong
> >> buffer again) to me and to the list. Thanks!
> >> =

> > ... =

> >> =

> >> =

> >> (1.c) Does the Document Shepherd have concerns that the document
> >> needs more review from a particular or broader perspective, e.g.,
> >> security, operational complexity, someone familiar with AAA,
> >> internationalization or XML?
> >> =

> >> The reviews appear to be adequate.
> >> =

> > ...
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> =

> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 07:19:21 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9719628C2D1;
	Wed, 24 Sep 2008 07:19:21 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E9263A6DD3
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 07:19:20 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.398
X-Spam-Level: 
X-Spam-Status: No, score=-1.398 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_47=0.6,
	J_CHICKENPOX_93=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bGtvxNzWB1sO for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 07:19:19 -0700 (PDT)
Received: from wf-out-1314.google.com (wf-out-1314.google.com [209.85.200.173])
	by core3.amsl.com (Postfix) with ESMTP id 649D428C33E
	for <sip@ietf.org>; Wed, 24 Sep 2008 07:19:11 -0700 (PDT)
Received: by wf-out-1314.google.com with SMTP id 27so2886681wfd.31
	for <sip@ietf.org>; Wed, 24 Sep 2008 07:18:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:mime-version:content-type;
	bh=mekljQmWu3BbvqTvD+WHiQgqP5JqUolw3DxXtkTkJvA=;
	b=A37L5Qb11RB8S53wQR3nwYXfQkmeK7vyjVNwNPzF3E/LZ7MPUcRiwys8+WTYrMaSDJ
	62eG6wACzr5vcA4Ry86zm0cdTjMLH+gG0ugSeIW39SyZIiVxqQz0J6318AVzTf+0cc33
	Q1tGgysmO8F27oEJgitYJIEywl1KJT/EQMQlU=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=j6f0bJLY0em83/jkK0DOXtscBoE/Qz9JfVisazgJ6UHOk7EGswEWnLZH6yvIwAUVY7
	mKDX1Ztl3DpGZBdybZ00OQqaV+L58kHWopstBx8bUkca2jFVgFm0UiVQHPDtQyDGK7WL
	GWTe6IBsJvi2F9K3cWJ3mUCeGbUCnHfX1v+Co=
Received: by 10.115.33.1 with SMTP id l1mr8096510waj.228.1222265938223;
	Wed, 24 Sep 2008 07:18:58 -0700 (PDT)
Received: by 10.114.81.17 with HTTP; Wed, 24 Sep 2008 07:18:58 -0700 (PDT)
Message-ID: <98abe9690809240718n7b735adekbe5da16374f4d95@mail.gmail.com>
Date: Wed, 24 Sep 2008 19:48:58 +0530
From: "Vineet Gupta" <gupta.vineet@gmail.com>
To: sip@ietf.org
MIME-Version: 1.0
Subject: [Sip] Doubt related to URI parameters in remote-URI.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0897925482=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0897925482==
Content-Type: multipart/alternative; 
	boundary="----=_Part_97396_27352700.1222265938229"

------=_Part_97396_27352700.1222265938229
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
I have very basic doubt related to URI parameters present in remote-contact
URI (i.e. top-most Route URI or Remote Contact URI).

Case 1: The remote-URI contains URI parameters like transport=TCP and
comp=sigcomp once INVITE dialog is established.
a) Is it mandatory for all the requests within the dialog to have
transport=TCP and comp=sigcomp in the via header, and there-by compress each
and every request and send it over TCP.
b) Can I send some request within the same dialog by retaining these
parameter in the request-URI, but not them copying them onto the via header,
thereby sending the request uncompressed and on UDP.

Case 2:  The remote-URI does not contain any URI parameters.
a) Can any request within the dialog be sent with any parameters like
transport=tcp;comp=sigcomp by putting them in via header irrespective of the
way first request within the dialog (Ofcourse, keeping the capabilities of
remote in mind) ?

In general, if the parameters in the remote URI don't have any binding on
the requests within the dialog, what is there significance??


Regards,
Vineet.

------=_Part_97396_27352700.1222265938229
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">Hi,<div><br></div><div>I have very basic doubt related to URI parameters present in remote-contact URI (i.e. top-most Route URI or Remote Contact URI).</div><div><br></div><div><span class="Apple-style-span" style="font-weight: bold;"><span class="Apple-style-span" style=""><span class="Apple-style-span" style="text-decoration: underline;">Case 1: </span><span class="Apple-style-span" style="font-weight: normal; ">The remote-URI contains URI parameters like transport=TCP and comp=sigcomp once INVITE dialog is established.</span></span></span></div>
<div>a) Is it <span class="Apple-style-span" style="font-weight: bold;">mandatory</span> for all the requests within the dialog to have transport=TCP and comp=sigcomp in the via header, and there-by compress each and every request and send it over TCP.</div>
<div>b) Can I send some request within the same dialog by retaining these parameter in the request-URI, but not them copying them onto the via header, thereby sending the request uncompressed and on UDP.</div><div><br></div>
<div><span class="Apple-style-span" style="font-weight: bold;"><span class="Apple-style-span" style="text-decoration: underline;">Case 2:</span>&nbsp;&nbsp;</span>The remote-URI does not contain any URI parameters.</div><div>a) Can any request within the dialog be sent with any parameters like transport=tcp;comp=sigcomp by putting them in via header irrespective of the way first request within the dialog (Ofcourse, keeping the capabilities of remote in mind) ?</div>
<div><br></div><div><span class="Apple-style-span" style="font-weight: bold;">In general, if the parameters in the remote URI don&#39;t have any binding on the requests within the dialog, what is there significance??</span></div>
<div><br></div><div><br></div><div>Regards,</div><div>Vineet.</div></div>

------=_Part_97396_27352700.1222265938229--

--===============0897925482==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0897925482==--


From sip-bounces@ietf.org  Wed Sep 24 15:24:16 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0AB9A3A6B1E;
	Wed, 24 Sep 2008 15:24:16 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 66A4D3A6BCB
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 15:24:14 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id N1eBTY9oRZ+0 for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 15:24:13 -0700 (PDT)
Received: from TheWorld.com (pcls6.std.com [192.74.137.146])
	by core3.amsl.com (Postfix) with ESMTP id 5A07B3A68B6
	for <sip@ietf.org>; Wed, 24 Sep 2008 15:24:12 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8OMMvA4013518
	for <sip@ietf.org>; Wed, 24 Sep 2008 18:22:59 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8OMMvEA33880154
	for <sip@ietf.org>; Wed, 24 Sep 2008 18:22:57 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8OMMsla33849134;
	Wed, 24 Sep 2008 18:22:54 -0400 (EDT)
Date: Wed, 24 Sep 2008 18:22:54 -0400 (EDT)
Message-Id: <200809242222.m8OMMsla33849134@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48D97316.7070004@cisco.com> (pkyzivat@cisco.com)
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>
	<48D97316.7070004@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   Dale.Worley@comcast.net wrote:
   > 2.
   > 
   > The handling of a multipart/mixed is 'required' if there is any
   > component whose handling is 'required'.  (My previous message stated
   > this incorrectly.) 

   > This has the sense that handling is a "global"
   > property, in that any part is marked 'required' if any simple part
   > within it is marked 'required'.

   What are you looking at to draw the above conclusion?
   I didn't have that impression. I figured it was "local" as you describe 
   below.

>From this:

   7.2.  UA Behavior to Set the 'handling' Parameter

   [...]

   If at least one of the body parts within a 'multipart/mixed' body has
   a 'handling' value of 'required', the UA MUST set the 'handling'
   parameter of the 'multipart/mixed' body to 'required'.  If all the
   body parts within a 'multipart/mixed' body have a 'handling' value of
   'optional', the UA MUST set the 'handling' parameter of the
   'multipart/mixed' body to 'optional'.


   > This rule causes various problems.  One problem is that the parts of a
   > multipart/alternative are supposed to have handling 'optional'
   > (although the handling value is ignored), which requires that all
   > components of a part that is a component of a multipart/alternative
   > must be 'optional'.  This makes it impossible to convey the logic of
   > the following example and similar situations (which are likely to
   > happen in practice):

   This is an area that also bothers me. Perhaps the handling of parts of a 
   multipart/alternative are irrelevant, as they are for multipart/related, 
   unless the recipient doesn't understand and treats it as 
   multipart/mixed. Of course, if a multipart/alternative is processed as a 
   multipart/mixed the result isn't likely to be good.

The current draft states that the handling of components of a
multipart/alternative are to be ignored:

   7.3.  UA Behavior to Process 'multipart/alternative'

   The receiver of 'multipart/alternative' body MUST process the body
   based on its handling parameter.  The receiver SHOULD ignore the
   handling parameters of the body parts within the 'multipart/
   alternative'.

And that seems to be completely correct; which component should be
processed is completely determined by other factors.

   Its my understanding that there is an assumption that the alternatives 
   are increasingly rich, and it is assumed that you do the last one you 
   understand, but that then you also understand all the prior ones.

I don't see that that is required at all.  It would be devilishly
difficult to implement.

   > 3.
   > 
   > A processor that does not implement multipart/related is allowed to
   > process the part as if it was multipart/mixed.  It's not clear that
   > there are *any* circumstances under which this will result in useful
   > results.  The current draft hints at this, but the hint should
   > probably be strengthened into a warning that multipart/related should
   > not be used in any circumstance where the recipient is not constrained
   > by some mechanism to implement multipart/related.

   This seems reasonable to me.

   I would think that someone building a multipart/related should construct 
   it such that something reasonable happens if it is processed as a 
   multipart/mixed. But certainly it may be impossible to do that.

I expect that in practice, every situation where multipart/related is
used is protected by some extension mechanism to ensure that the
recipient understands it.  That's the case now with "resource list
events", with "Require: eventlist".

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 15:24:20 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DBB9B28C0F8;
	Wed, 24 Sep 2008 15:24:20 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B9DD28C0E7
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 15:24:19 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TFgOua7i7Y55 for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 15:24:18 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id 1093928C10B
	for <sip@ietf.org>; Wed, 24 Sep 2008 15:24:17 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8OMN8cb008761
	for <sip@ietf.org>; Wed, 24 Sep 2008 18:23:11 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8OMN8mQ33888274
	for <sip@ietf.org>; Wed, 24 Sep 2008 18:23:08 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8OMN8tw33800637;
	Wed, 24 Sep 2008 18:23:08 -0400 (EDT)
Date: Wed, 24 Sep 2008 18:23:08 -0400 (EDT)
Message-Id: <200809242223.m8OMN8tw33800637@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48D9C822.4060905@cisco.com> (pkyzivat@cisco.com)
References: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>
	<48D9C822.4060905@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   IMO there is nothing really special about by-reference, except that it 
   is a disposition-type whose intrinsic processing is "ignore". Hence the 
   only processing that it might receive is determined by a reference, if 
   any. If no reference is found then there is no processing.

That's the case if handling is 'optional'.  But if handling is
'required', then the containing part is un-processable:

   8.4.  The 'by-reference' Disposition Type

   [...]

   [...]  A recipient of a body part whose disposition
   type is 'by-reference' that cannot find any reference to the body
   part (e.g., the reference was in a header field the recipient does
   not support and, thus, did not process) MUST NOT process the body
   part.  Consequently, if the handling of the body part was required,
   the UA needs to report an error.

That convention gives the sender a way to enforce that the processor
can see the reference to the part in question.

   Also, in principle it would be possible for a single body to be 
   processed multiple times, using differing contexts.

Yes, I was sloppy about that.  But I believe that what I wrote handles
that situation implicitly, because in such a case, the stated rules
give two different instances where processing of the part is
specified, and the rules regarding processing context give the proper
context for each instance of processing.

I've also been sloppy about noting that the Content-Disposition
parameters of parts become part of the processing context of all their
subordinate components.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 17:04:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 355993A698D;
	Wed, 24 Sep 2008 17:04:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B33E63A698D
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 17:04:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QgstBFPql68y for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 17:04:07 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id 7D6513A6888
	for <sip@ietf.org>; Wed, 24 Sep 2008 17:04:07 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,303,1220227200"; d="scan'208";a="82284063"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-1.cisco.com with ESMTP; 25 Sep 2008 00:03:59 +0000
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8P03xSI027588; 
	Wed, 24 Sep 2008 17:03:59 -0700
Received: from xbh-sjc-231.amer.cisco.com (xbh-sjc-231.cisco.com
	[128.107.191.100])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m8P03xgI026054;
	Thu, 25 Sep 2008 00:03:59 GMT
Received: from xfe-sjc-212.amer.cisco.com ([171.70.151.187]) by
	xbh-sjc-231.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 24 Sep 2008 17:03:59 -0700
Received: from [128.107.106.182] ([128.107.106.182]) by
	xfe-sjc-212.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 24 Sep 2008 17:03:58 -0700
Message-ID: <48DAD56E.90204@cisco.com>
Date: Wed, 24 Sep 2008 20:03:58 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>
	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>
In-Reply-To: <200809242222.m8OMMsla33849134@shell01.TheWorld.com>
X-OriginalArrivalTime: 25 Sep 2008 00:03:58.0875 (UTC)
	FILETIME=[358D2EB0:01C91EA2]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=5162; t=1222301039;
	x=1223165039; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20; bh=cQwFVErHixO4TynzM02jpqcS+o1QF/LnQICb6Dq+vII=;
	b=Uz+ByqJg/LdBhGJtmkY1f92cGlxDwEasr/KDKO6wuYfnOVBupImpVXM2To
	isXiGiLByFl87H9zVR3/gQnk3B/X/eFmD2+jk8+oWFLuDipObLrEZvzKHqnN
	a4yh74XUs2;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    Dale.Worley@comcast.net wrote:
>    > 2.
>    > 
>    > The handling of a multipart/mixed is 'required' if there is any
>    > component whose handling is 'required'.  (My previous message stated
>    > this incorrectly.) 
> 
>    > This has the sense that handling is a "global"
>    > property, in that any part is marked 'required' if any simple part
>    > within it is marked 'required'.
> 
>    What are you looking at to draw the above conclusion?
>    I didn't have that impression. I figured it was "local" as you describe 
>    below.
> 
>>From this:
> 
>    7.2.  UA Behavior to Set the 'handling' Parameter
> 
>    [...]
> 
>    If at least one of the body parts within a 'multipart/mixed' body has
>    a 'handling' value of 'required', the UA MUST set the 'handling'
>    parameter of the 'multipart/mixed' body to 'required'.  If all the
>    body parts within a 'multipart/mixed' body have a 'handling' value of
>    'optional', the UA MUST set the 'handling' parameter of the
>    'multipart/mixed' body to 'optional'.

Oh, duh. Yeah, I agree this is a problem.

I agree the *useful* thing to do here is to have the handling be "local" 
- only relevant if the container is being processed. That's if we have 
the liberty to do that. There has been a desire not to diverge from the 
mime/email interpretations of these things. I don't know what is the 
case here.

>    > This rule causes various problems.  One problem is that the parts of a
>    > multipart/alternative are supposed to have handling 'optional'
>    > (although the handling value is ignored), which requires that all
>    > components of a part that is a component of a multipart/alternative
>    > must be 'optional'.  This makes it impossible to convey the logic of
>    > the following example and similar situations (which are likely to
>    > happen in practice):
> 
>    This is an area that also bothers me. Perhaps the handling of parts of a 
>    multipart/alternative are irrelevant, as they are for multipart/related, 
>    unless the recipient doesn't understand and treats it as 
>    multipart/mixed. Of course, if a multipart/alternative is processed as a 
>    multipart/mixed the result isn't likely to be good.
> 
> The current draft states that the handling of components of a
> multipart/alternative are to be ignored:
> 
>    7.3.  UA Behavior to Process 'multipart/alternative'
> 
>    The receiver of 'multipart/alternative' body MUST process the body
>    based on its handling parameter.  The receiver SHOULD ignore the
>    handling parameters of the body parts within the 'multipart/
>    alternative'.
> 
> And that seems to be completely correct; which component should be
> processed is completely determined by other factors.
> 
>    Its my understanding that there is an assumption that the alternatives 
>    are increasingly rich, and it is assumed that you do the last one you 
>    understand, but that then you also understand all the prior ones.
> 
> I don't see that that is required at all.  It would be devilishly
> difficult to implement.

I just reviewed the def of multipart/alternative in RFC 2045, and I 
agree your interpretation is right. In fact, choosing the last supported 
one isn't required, but its more of a suggestion.

>    > 3.
>    > 
>    > A processor that does not implement multipart/related is allowed to
>    > process the part as if it was multipart/mixed.  It's not clear that
>    > there are *any* circumstances under which this will result in useful
>    > results.  The current draft hints at this, but the hint should
>    > probably be strengthened into a warning that multipart/related should
>    > not be used in any circumstance where the recipient is not constrained
>    > by some mechanism to implement multipart/related.
> 
>    This seems reasonable to me.
> 
>    I would think that someone building a multipart/related should construct 
>    it such that something reasonable happens if it is processed as a 
>    multipart/mixed. But certainly it may be impossible to do that.
> 
> I expect that in practice, every situation where multipart/related is
> used is protected by some extension mechanism to ensure that the
> recipient understands it.  That's the case now with "resource list
> events", with "Require: eventlist".

That would certainly be wise. I guess you could dispense with that *if* 
you can structure it so that processing it as a mixed is tolerable. Hard 
to predict if anybody would ever do that, but we needn't forbid it.

The key here for anyone sending *any* multipart/XYZ is that anyone 
capable of processing a multipart/mixed will consider themselves capable 
of supporting multipart/XYZ, as a multipart/mixed.

So, creating a multipart/alternative, where the contained parts are:
- text/plain
- multipart/mixed
- multipart/related

isn't going to be very helpful. Anybody who supports multipart/mixed 
will process the last part, not the second.

	Thanks,
	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 17:13:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AE76B3A6A8F;
	Wed, 24 Sep 2008 17:13:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1F5D73A681A
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 17:13:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jHOUowPEKa9D for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 17:13:39 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 617103A6956
	for <sip@ietf.org>; Wed, 24 Sep 2008 17:13:30 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,304,1220227200"; d="scan'208";a="162168109"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-6.cisco.com with ESMTP; 25 Sep 2008 00:12:52 +0000
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8P0CqBg022637; 
	Wed, 24 Sep 2008 17:12:52 -0700
Received: from xbh-sjc-221.amer.cisco.com (xbh-sjc-221.cisco.com
	[128.107.191.63])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m8P0Cquc007129;
	Thu, 25 Sep 2008 00:12:52 GMT
Received: from xfe-sjc-211.amer.cisco.com ([171.70.151.174]) by
	xbh-sjc-221.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 24 Sep 2008 17:12:52 -0700
Received: from [128.107.106.182] ([128.107.106.182]) by
	xfe-sjc-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 24 Sep 2008 17:12:52 -0700
Message-ID: <48DAD784.1030104@cisco.com>
Date: Wed, 24 Sep 2008 20:12:52 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>	<48D9C822.4060905@cisco.com>
	<200809242223.m8OMN8tw33800637@shell01.TheWorld.com>
In-Reply-To: <200809242223.m8OMN8tw33800637@shell01.TheWorld.com>
X-OriginalArrivalTime: 25 Sep 2008 00:12:52.0293 (UTC)
	FILETIME=[737E4F50:01C91EA3]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2365; t=1222301572;
	x=1223165572; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20; bh=YCH4ccTqoL2NhB/znFZYYCtpdV1UqXwQVLldpPWL7C8=;
	b=Q3KFeluWbWTf8CYdRLUEO9p1nl21bjZntoji/uYe4Qs5TQ8KxXaIuHlCE+
	5RLOq25+4YHGGF7HoSLt22rfSVtuTFAV+1+38xy4Tfmed61fc+e3vKDpgSEB
	ZEUTLb0XXyZBqcH5alETzHu0wzFzuL1+Qq+mzQN9k+uE8n6UL+RpY=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    IMO there is nothing really special about by-reference, except that it 
>    is a disposition-type whose intrinsic processing is "ignore". Hence the 
>    only processing that it might receive is determined by a reference, if 
>    any. If no reference is found then there is no processing.
> 
> That's the case if handling is 'optional'.  But if handling is
> 'required', then the containing part is un-processable:

OK, I agree. Its really a bad idea to make a body part required if it is 
to be referenced from a header that might not be supported.

What it doesn't seem possible to say is: "if you support the header (or 
whatever) that contains a reference to this part, then you are also 
required to support the type and disposition of the referenced part."

Theoretically that could be a problem, though in practice it might not 
be. Hopefully, if you process the header, and can't process the 
referenced body part, then there is some appropriate error message to 
return.

>    8.4.  The 'by-reference' Disposition Type
> 
>    [...]
> 
>    [...]  A recipient of a body part whose disposition
>    type is 'by-reference' that cannot find any reference to the body
>    part (e.g., the reference was in a header field the recipient does
>    not support and, thus, did not process) MUST NOT process the body
>    part.  Consequently, if the handling of the body part was required,
>    the UA needs to report an error.
> 
> That convention gives the sender a way to enforce that the processor
> can see the reference to the part in question.
> 
>    Also, in principle it would be possible for a single body to be 
>    processed multiple times, using differing contexts.
> 
> Yes, I was sloppy about that.  But I believe that what I wrote handles
> that situation implicitly, because in such a case, the stated rules
> give two different instances where processing of the part is
> specified, and the rules regarding processing context give the proper
> context for each instance of processing.
> 
> I've also been sloppy about noting that the Content-Disposition
> parameters of parts become part of the processing context of all their
> subordinate components.

Gee - you're rarely sloppy. :-)

	Thanks,
	Paul
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Sep 24 21:54:37 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 98CC13A6949;
	Wed, 24 Sep 2008 21:54:37 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3E5433A6949
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 21:54:36 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.555
X-Spam-Level: 
X-Spam-Status: No, score=-2.555 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, DATE_IN_PAST_03_06=0.044]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bLq7D9xZVye8 for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 21:54:35 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 035ED3A692F
	for <sip@ietf.org>; Wed, 24 Sep 2008 21:54:34 -0700 (PDT)
Received: from [12.190.128.2] (port=61913 helo=[198.18.100.176])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1KiirO-00062q-KL; Wed, 24 Sep 2008 21:53:50 -0700
Message-Id: <766329AB-1FB7-4601-9EDD-11165EE61FA3@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Xiangsong Cui <Xiangsong.Cui@huawei.com>
In-Reply-To: <007401c91dea$5e86b8d0$91106f0a@china.huawei.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
X-Priority: 3
Date: Wed, 24 Sep 2008 20:09:48 -0400
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>
	<48D3962D.6030007@cisco.com>
	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>
	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
	<48D90E5C.8060006@cisco.com>
	<007401c91dea$5e86b8d0$91106f0a@china.huawei.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] [sip] extensions of "handling" parameter
	ofContent-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0769314920=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0769314920==
Content-Type: multipart/signed; boundary=Apple-Mail-141--818947193; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-141--818947193
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Nope. S/MIME ensures the content was not adulterated in flight.  
However, it does not mean the requester is authorized to make the  
request.

Here is an example:

UAC alice issues an INVITE to UAS bob.
bob likes alice, so he accepts the INVITE
What bob doesn't like is having alice do weird stuff in a conference
bob doesn't know that alice is into weird stuff until he gets to this  
bizarre MIME disposition (note I use "disposition" here, because  
"handling" is clearly wrong for this purpose)

If bob rejects the INVITE because he doesn't like the MIME  
disposition, bob has no way to say why he rejects the INVITE. He can  
reject the MIME type, but that is draconian and does not let alice  
know her deficiency is wanting to do something weird. bob may very  
well accept the MIME type with a different MIME disposition.   
Likewise, he may be very happy to accept a normal INVITE.


On Sep 23, 2008, at 10:07 PM, Xiangsong Cui wrote:

> Hello all,
>
> I want to make a supplement because I think the new-introduced  
> participant in the use case is a SEND-ONLY participant (fetching ...  
> to the participants),  how about the solution in this situation?
>
> To Eric:  the statement on the authentication in RFC4483 is as  
> follow, is it enough?
>
>    "For confidentiality, integrity, and authentication, this content
>    indirection mechanism relies on the security mechanisms outlined in
>    RFC 3261.  In particular, the usage of S/MIME as defined in section
>    23 of RFC 3261 provides the necessary mechanism to ensure  
> integrity,
>    protection, and confidentiality of the indirect content URI and
>    associated parameters.
>
>    Securing the transfer of the indirect content is the responsibility
>    of the underlying protocol used for this transfer.  If HTTP is  
> used,
>    applications implementing this content indirection method SHOULD
>    support the HTTPS URI scheme for secure transfer of content and  
> MUST
>    support the upgrading of connections to TLS, by using starttls.   
> Note
>    that a failure to complete HTTPS or starttls (for example, due to
>    certificate or encryption mismatch) after having accepted the
>    indirect content in the SIP request is not the same as rejecting  
> the
>    SIP request, and it may require additional user-user communication
>    for correction.
>
>    Note that this document does not advocate the use of transitive
>    trust.  That is, just because the UAS receives a URI from a UAC  
> that
>    the UAS trusts, the UAS SHOULD NOT implicitly trust the object
>    referred to by the URI without establishing its own trust
>    relationship with the URI provider.
>
>    Access control to the content referenced by the URI is not  
> defined by
>    this specification.  Access control mechanisms may be defined by  
> the
>    protocol for the scheme of the indirect content URI."
>
> Thanks and Regards
>
>
> Xiangsong
>
> ----- Original Message -----
> From: Paul Kyzivat
> To: Sedlacek Ivo
> Cc: 'SIP IETF'
> Sent: Tuesday, September 23, 2008 11:42 PM
> Subject: Re: [Sip] [sip] extensions of "handling" parameter  
> ofContent-Disposition header
>
>
>
> Sedlacek Ivo wrote:
> > Hello,
> >
> > see further explanation below.
>
> > There is a SIP based multiparty conference with a focus - every  
> participant
> > is connected using a SIP dialog to a central focus, which mixes/ 
> switches
> > Media sent by the participants.
> > One of the participants wants the focus to fetch e.g. a picture /  
> an audio
> > clip from an HTTP server / an RTSP server and play it to the  
> conference
> > participants using their media streams negotiated in SIP dialogs.
> > Hope this makes this use case clearer.
>
> > As mentioned above - by "sharing the resource"  I meant the focus is
> > fetching the picture / audio clip from the HTTP server / the RTSP  
> server and
> > distribute it using the MSRP / MSRP media streams agreed in the  
> SIP sessions
> > to the participants.
>
> This sounds like a desire to have the conference mixer do something
> special. As such, something around mediactl might be appropriate.
>
> Or, it might be viewed as introducing another sort of participant into
> the conference. Perhaps this could be done by sending a REFER to the
> focus, with a URL for the resource in the Refer-To header.
>
> Thanks,
> Paul
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-141--818947193
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjUwMDA5NDlaMCMGCSqGSIb3
DQEJBDEWBBSr6R+jC4p2Eq0HqPASQguEG40mXjCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQAHVFyl9NBV00KfbYm94+gl8dsTakli7njFUmijEr6A6R13
AESvP1NHMRE2z/eAGRWZkaUqP/X10KfvLCvTpXPrFbU1AwezgZN5ccG6gylwz/12y6mTGmuvf36l
VRvBD0fQW5bHKglNRf80ps4TnniKCD6OJPVbC1hqrGRCihUW6SNWIWbLYaTkQoONXQ/eocEdVQGw
OzZZKFNMrLO7Cyi5WjMcx/yqQpVIzdmlsJgAuyCRwme++vXv2ZeXuIXfNc0XfEjmdoUs3JmCiPDO
Zxg6RogQ2Li/1aV+xkUfF8tmjJM6GGhR8gH2m4GUZa7f0VobmgSxKR2ksIenXFlebQ3YAAAAAAAA

--Apple-Mail-141--818947193--

--===============0769314920==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0769314920==--


From sip-bounces@ietf.org  Wed Sep 24 22:55:35 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A9E003A67F4;
	Wed, 24 Sep 2008 22:55:35 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 786A13A67F4
	for <sip@core3.amsl.com>; Wed, 24 Sep 2008 22:55:34 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5
	tests=[AWL=-0.300, BAYES_00=-2.599, J_CHICKENPOX_54=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kF2WW1Lf6JoP for <sip@core3.amsl.com>;
	Wed, 24 Sep 2008 22:55:33 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id AA9C33A67A6
	for <sip@ietf.org>; Wed, 24 Sep 2008 22:55:33 -0700 (PDT)
Received: from [192.168.2.2] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8P5qnqm004776
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT);
	Thu, 25 Sep 2008 00:52:50 -0500
Message-ID: <48DB272C.2010802@softarmor.com>
Date: Thu, 25 Sep 2008 00:52:44 -0500
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Icedove 1.5.0.14eol (X11/20080724)
MIME-Version: 1.0
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
X-Enigmail-Version: 0.94.2.0
Cc: sip@ietf.org, ext Henry Sinnreich <hsinnrei@adobe.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Schneider, Peter (NSN - DE/Munich) wrote:
> Because of
> the middlebox considerations 3GPP currently focusses on key
> management protocols that do not use the media path.

Translation: In order to prevent deployment of a secure system and
enable lawful, unlawful, and extralawful intercept, 3GPP is focusing on
key management protocols that expose the media key via the signaling
plane, and on implementations that expose the signaling plane to all
intermediaries.

Now, if THAT doesn't set Henry off, I don't know what will.  He's
probably been spied on by the Stasi, Ceaus,escu's Securitate, the KGB,
the CIA, AT&T, and for all I know, the NRA and KFC ;-). I forgive him
for being a little touchy about communications security.

And for you folks who trust your carriers to do the right thing:
Remember, you trusted Wall Street firms, UBS, Societe General traders,
etc. to do the right thing too. And they're the ones getting
trillion-dollar bailouts to pay the interest on last year's bonuses to
their executive teams.

Maybe Henry's right.

--
Dean

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 00:51:24 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B12F3A67FA;
	Thu, 25 Sep 2008 00:51:24 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3DE0F3A67F4
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 00:51:23 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -4.985
X-Spam-Level: 
X-Spam-Status: No, score=-4.985 tagged_above=-999 required=5 tests=[AWL=1.614, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id M4MY7igyOzV8 for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 00:51:22 -0700 (PDT)
Received: from demumfd001.nsn-inter.net (demumfd001.nsn-inter.net
	[217.115.75.233])
	by core3.amsl.com (Postfix) with ESMTP id 059BD3A67FA
	for <sip@ietf.org>; Thu, 25 Sep 2008 00:51:21 -0700 (PDT)
Received: from demuprx017.emea.nsn-intra.net ([10.150.129.56])
	by demumfd001.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8P7odPV000403
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Thu, 25 Sep 2008 09:50:39 +0200
Received: from demuexc023.nsn-intra.net (webmail.nsn-intra.net [10.150.128.36])
	by demuprx017.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8P7ociF016560; Thu, 25 Sep 2008 09:50:38 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc023.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Thu, 25 Sep 2008 09:50:39 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 25 Sep 2008 09:50:36 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
In-Reply-To: <48DB272C.2010802@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: Acke02EnoSJ82UuHSSWnsbCC3YAtXwADG6UA
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 25 Sep 2008 07:50:39.0249 (UTC)
	FILETIME=[67133010:01C91EE3]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080925095039-728D4BB0-D8A73BD4/0-0/0-15
X-purgate-size: 1491/0
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

 =


> -----Urspr=FCngliche Nachricht-----
> Von: ext Dean Willis [mailto:dean.willis@softarmor.com] =

> Gesendet: Donnerstag, 25. September 2008 07:53
> An: Schneider, Peter (NSN - DE/Munich)
> Cc: ext Henry Sinnreich; sip@ietf.org
> Betreff: Re: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> Schneider, Peter (NSN - DE/Munich) wrote:
> > Because of
> > the middlebox considerations 3GPP currently focusses on key
> > management protocols that do not use the media path.
> =

> Translation: In order to prevent deployment of a secure system and
> enable lawful, unlawful, and extralawful intercept, 3GPP is =

> focusing on
> key management protocols that expose the media key via the signaling
> plane, and on implementations that expose the signaling plane to all
> intermediaries.
> =


Dean, I assume that you refer to the proposal to use SDES that is discussed=
 in 3GPP. However, 3GPP does not focus on that approach. Other signaling pa=
th solutions are discussed in 3GPP that exclude all intermediaries from acc=
ess to the key. Clearly, allowing lawful interception is a requirement for =
3GPP, as is preventing "unlawful interception".

The middlebox issue is NOT a pretense for allowing only weak solutions for =
3GPP. My proposals concerning the framework draft wouldn't make DTLS-SRTP a=
ny weaker, right? And making DTLS-SRTP more adequate for 3GPP/TISPAN scenar=
ios would be a good thing, wouldn't it?

Peter
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 04:18:38 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CB7673A6801;
	Thu, 25 Sep 2008 04:18:38 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5959D3A67FA
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 04:18:38 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.577
X-Spam-Level: 
X-Spam-Status: No, score=-2.577 tagged_above=-999 required=5 tests=[AWL=0.022, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6LjUCrvA3K1M for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 04:18:34 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 1940F3A6801
	for <sip@ietf.org>; Thu, 25 Sep 2008 04:18:34 -0700 (PDT)
Received: from [12.190.128.2] (port=63078 helo=[198.18.100.176])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1Kioqp-00088j-TS; Thu, 25 Sep 2008 04:17:42 -0700
Message-Id: <2A855E27-7EF3-48EE-B66C-EDDCFFEC27A5@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Paul Kyzivat <pkyzivat@cisco.com>,
 Dale.Worley@comcast.net
In-Reply-To: <48DAD56E.90204@cisco.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 25 Sep 2008 05:17:37 -0600
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>
	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>
	<48DAD56E.90204@cisco.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1123340168=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1123340168==
Content-Type: multipart/signed; boundary=Apple-Mail-166--778878270; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-166--778878270
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Let's go back to where handling was really defined.  RFC 3459 section  
12.3 really does give guidence here:

    Criticality only affects the outermost level of the message or, in
    the case of multipart/alternative, the outermost level of the
    selected alternative.  Specifically, the receiving system ignores
    criticality indicators in embedded body parts.  This avoids the
    situation of a forwarded message triggering or suppressing undesired
    reporting.  This simply implements the procedures described in  
[RFC 2183].

Section 12.1 makes it clear that for multipart/alternative, only the  
handling property for the selected alternative matters.

BTW, the handling property of multipart/related parts DOES matter.   
This is precisely where handling is most useful.  The example in RFC  
3459 is the data and resource fork of a Macintosh file; it is highly  
likely for the data fork to be REQUIRED whereas the resource fork may  
be OPTIONAL.  In the SIP world, although I would not suggest it, I  
could envision a multipart/related caller description, where the  
REQUIRED part has some identity information and the OPTIONAL part is a  
PNG of the caller.  [In the real world, the PNG would more likely be  
an optional part of the caller description, but bear with me for the  
analysis.]  Following the rules of Section 12.1 of RFC 3459, the UAS  
has to understand the identity part of the caller information, but can  
safely ignore the picture part of the caller information.

Does this help, or did I miss the question?


On Sep 24, 2008, at 6:03 PM, Paul Kyzivat wrote:

>
>
> Dale.Worley@comcast.net wrote:
>>   From: Paul Kyzivat <pkyzivat@cisco.com>
>>   Dale.Worley@comcast.net wrote:
>>   > 2.
>>   >    > The handling of a multipart/mixed is 'required' if there  
>> is any
>>   > component whose handling is 'required'.  (My previous message  
>> stated
>>   > this incorrectly.)    > This has the sense that handling is a  
>> "global"
>>   > property, in that any part is marked 'required' if any simple  
>> part
>>   > within it is marked 'required'.
>>   What are you looking at to draw the above conclusion?
>>   I didn't have that impression. I figured it was "local" as you  
>> describe    below.
>>> From this:
>>   7.2.  UA Behavior to Set the 'handling' Parameter
>>   [...]
>>   If at least one of the body parts within a 'multipart/mixed' body  
>> has
>>   a 'handling' value of 'required', the UA MUST set the 'handling'
>>   parameter of the 'multipart/mixed' body to 'required'.  If all the
>>   body parts within a 'multipart/mixed' body have a 'handling'  
>> value of
>>   'optional', the UA MUST set the 'handling' parameter of the
>>   'multipart/mixed' body to 'optional'.
>
> Oh, duh. Yeah, I agree this is a problem.
>
> I agree the *useful* thing to do here is to have the handling be  
> "local" - only relevant if the container is being processed. That's  
> if we have the liberty to do that. There has been a desire not to  
> diverge from the mime/email interpretations of these things. I don't  
> know what is the case here.
>
>>   > This rule causes various problems.  One problem is that the  
>> parts of a
>>   > multipart/alternative are supposed to have handling 'optional'
>>   > (although the handling value is ignored), which requires that all
>>   > components of a part that is a component of a multipart/ 
>> alternative
>>   > must be 'optional'.  This makes it impossible to convey the  
>> logic of
>>   > the following example and similar situations (which are likely to
>>   > happen in practice):
>>   This is an area that also bothers me. Perhaps the handling of  
>> parts of a    multipart/alternative are irrelevant, as they are for  
>> multipart/related,    unless the recipient doesn't understand and  
>> treats it as    multipart/mixed. Of course, if a multipart/ 
>> alternative is processed as a    multipart/mixed the result isn't  
>> likely to be good.
>> The current draft states that the handling of components of a
>> multipart/alternative are to be ignored:
>>   7.3.  UA Behavior to Process 'multipart/alternative'
>>   The receiver of 'multipart/alternative' body MUST process the body
>>   based on its handling parameter.  The receiver SHOULD ignore the
>>   handling parameters of the body parts within the 'multipart/
>>   alternative'.
>> And that seems to be completely correct; which component should be
>> processed is completely determined by other factors.
>>   Its my understanding that there is an assumption that the  
>> alternatives    are increasingly rich, and it is assumed that you  
>> do the last one you    understand, but that then you also  
>> understand all the prior ones.
>> I don't see that that is required at all.  It would be devilishly
>> difficult to implement.
>
> I just reviewed the def of multipart/alternative in RFC 2045, and I  
> agree your interpretation is right. In fact, choosing the last  
> supported one isn't required, but its more of a suggestion.
>
>>   > 3.
>>   >    > A processor that does not implement multipart/related is  
>> allowed to
>>   > process the part as if it was multipart/mixed.  It's not clear  
>> that
>>   > there are *any* circumstances under which this will result in  
>> useful
>>   > results.  The current draft hints at this, but the hint should
>>   > probably be strengthened into a warning that multipart/related  
>> should
>>   > not be used in any circumstance where the recipient is not  
>> constrained
>>   > by some mechanism to implement multipart/related.
>>   This seems reasonable to me.
>>   I would think that someone building a multipart/related should  
>> construct    it such that something reasonable happens if it is  
>> processed as a    multipart/mixed. But certainly it may be  
>> impossible to do that.
>> I expect that in practice, every situation where multipart/related is
>> used is protected by some extension mechanism to ensure that the
>> recipient understands it.  That's the case now with "resource list
>> events", with "Require: eventlist".
>
> That would certainly be wise. I guess you could dispense with that  
> *if* you can structure it so that processing it as a mixed is  
> tolerable. Hard to predict if anybody would ever do that, but we  
> needn't forbid it.
>
> The key here for anyone sending *any* multipart/XYZ is that anyone  
> capable of processing a multipart/mixed will consider themselves  
> capable of supporting multipart/XYZ, as a multipart/mixed.
>
> So, creating a multipart/alternative, where the contained parts are:
> - text/plain
> - multipart/mixed
> - multipart/related
>
> isn't going to be very helpful. Anybody who supports multipart/mixed  
> will process the last part, not the second.
>
> 	Thanks,
> 	Paul
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-166--778878270
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjUxMTE3MzdaMCMGCSqGSIb3
DQEJBDEWBBSgu1X+h1WdN32MHRu39TE/C8nO1TCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQApqhNzuIVXaeALwbh5oWIz5LymMp0YHY9Axh7c1pK3RduS
e+b2aG+c7GE82gHvO37nlN6sYIU+O7hA0B3uNDoXV0uH1asmd9M9Vzu6ktZGP4zcffpww/IJNui+
q9G/fkSxAC3Rm6cG9fs2upNrBrb3PjKhbFLRhLDPfKJCyKAMKHINRtL5Kcce5RM1oHFYzLmS+dTH
BheQ2sxRJp1+58QV3dQJZxLaezjQc861Rgh3oua/ebDOwXUO/rvDt6F16II/hoggZZoBBAcMJjXr
dpAedCscXjcHV7dmaEC0Q7swjZhQokRfiGWl52F7bjgIaOOb/eX9bZUdQJkW800mnIBrAAAAAAAA

--Apple-Mail-166--778878270--

--===============1123340168==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1123340168==--


From sip-bounces@ietf.org  Thu Sep 25 12:28:28 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 125423A690F;
	Thu, 25 Sep 2008 12:28:28 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A26313A68D0
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 12:28:26 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rDmZIJj61Eht for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 12:28:25 -0700 (PDT)
Received: from exprod6og102.obsmtp.com (exprod6og102.obsmtp.com [64.18.1.183])
	by core3.amsl.com (Postfix) with ESMTP id F1D333A690F
	for <sip@ietf.org>; Thu, 25 Sep 2008 12:28:18 -0700 (PDT)
Received: from source ([192.150.8.22]) by exprod6ob102.postini.com
	([64.18.5.12]) with SMTP; Thu, 25 Sep 2008 12:27:46 PDT
Received: from inner-relay-1.corp.adobe.com ([153.32.1.51])
	by outbound-smtp-2.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8PJRhE0007714; Thu, 25 Sep 2008 12:27:43 -0700 (PDT)
Received: from fe1.corp.adobe.com (fe1.corp.adobe.com [10.8.192.70])
	by inner-relay-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8PJRfiq023071; Thu, 25 Sep 2008 12:27:42 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe1.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 25 Sep 2008 12:27:42 -0700
Received: from 10.7.241.180 ([10.7.241.180]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Thu, 25 Sep 2008 19:27:41 +0000
User-Agent: Microsoft-Entourage/12.12.0.080729
Date: Thu, 25 Sep 2008 14:35:00 -0500
From: Henry Sinnreich <hsinnrei@adobe.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>,
	ext Dean Willis <dean.willis@softarmor.com>
Message-ID: <C5015214.892D%hsinnrei@adobe.com>
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: Acke02EnoSJ82UuHSSWnsbCC3YAtXwADG6UAABl/LWo=
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
Mime-version: 1.0
X-OriginalArrivalTime: 25 Sep 2008 19:27:42.0059 (UTC)
	FILETIME=[C7698BB0:01C91F44]
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


> Clearly, allowing lawful interception is a requirement for 3GPP, as
> is preventing "unlawful interception".

Is there a protocol mechanism for distinguishing lawful intercept from
unlawful intercept?

If yes, it would be the greatest invention since the Internet!

Henry

On 9/25/08 2:50 AM, "Schneider, Peter (NSN - DE/Munich)"
<peter.schneider@nsn.com> wrote:

>  =

> =

>> -----Urspr=FCngliche Nachricht-----
>> Von: ext Dean Willis [mailto:dean.willis@softarmor.com]
>> Gesendet: Donnerstag, 25. September 2008 07:53
>> An: Schneider, Peter (NSN - DE/Munich)
>> Cc: ext Henry Sinnreich; sip@ietf.org
>> Betreff: Re: [Sip] Pub request for
>> draft-ietf-sip-dtls-srtp-framework-03
>> =

>> Schneider, Peter (NSN - DE/Munich) wrote:
>>> Because of
>>> the middlebox considerations 3GPP currently focusses on key
>>> management protocols that do not use the media path.
>> =

>> Translation: In order to prevent deployment of a secure system and
>> enable lawful, unlawful, and extralawful intercept, 3GPP is
>> focusing on
>> key management protocols that expose the media key via the signaling
>> plane, and on implementations that expose the signaling plane to all
>> intermediaries.
>> =

> =

> Dean, I assume that you refer to the proposal to use SDES that is discuss=
ed in
> 3GPP. However, 3GPP does not focus on that approach. Other signaling path
> solutions are discussed in 3GPP that exclude all intermediaries from acce=
ss to
> the key. Clearly, allowing lawful interception is a requirement for 3GPP,=
 as
> is preventing "unlawful interception".
> =

> The middlebox issue is NOT a pretense for allowing only weak solutions for
> 3GPP. My proposals concerning the framework draft wouldn't make DTLS-SRTP=
 any
> weaker, right? And making DTLS-SRTP more adequate for 3GPP/TISPAN scenari=
os
> would be a good thing, wouldn't it?
> =

> Peter
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 12:32:44 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F13883A695F;
	Thu, 25 Sep 2008 12:32:43 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CF5533A695F
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 12:32:42 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.349
X-Spam-Level: 
X-Spam-Status: No, score=-1.349 tagged_above=-999 required=5
	tests=[AWL=-1.050, BAYES_00=-2.599, MANGLED_EMAIL=2.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6Uae+Fbh2DBN for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 12:32:41 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 3FED43A689D
	for <sip@ietf.org>; Thu, 25 Sep 2008 12:32:41 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8PJW8Pw009867
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Thu, 25 Sep 2008 14:32:10 -0500
Message-Id: <3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 25 Sep 2008 14:32:03 -0500
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
X-Mailer: Apple Mail (2.929.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 25, 2008, at 2:50 AM, Schneider, Peter (NSN - DE/Munich) wrote:
>
> Dean, I assume that you refer to the proposal to use SDES that is  
> discussed in 3GPP. However, 3GPP does not focus on that approach.  
> Other signaling path solutions are discussed in 3GPP that exclude  
> all intermediaries from access to the key. Clearly, allowing lawful  
> interception is a requirement for 3GPP, as is preventing "unlawful  
> interception".

The two forms of interception cannot be technically differentiated.  
Anything that allows one allows the other.

The USA has recently shown that it is possible to convert unlawful  
intercept into lawful intercept retroactively, despite a  
constitutional bar on ex post facto laws. If you're going to break one  
law, you might as well break 'em all, right?

> The middlebox issue is NOT a pretense for allowing only weak  
> solutions for 3GPP.

I believe you.

> My proposals concerning the framework draft wouldn't make DTLS-SRTP  
> any weaker, right?

I'm not sure. Security is such a frail thing, and it is easy for  
unintended consequences to occur. You may well be right, but I'm a  
little slow to commit.  Further study is required.

> And making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios would  
> be a good thing, wouldn't it?

It might, it might not. It depends on what your definition of  
"adequate" entails and which scenarios you are talking about. The  
requirements rejected by the IETF during the Media Security  
Requirements drafting arguably provide a proof case against this  
assertion.

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 12:33:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB6053A6969;
	Thu, 25 Sep 2008 12:33:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 233B93A6969
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 12:33:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2i60STU0SIn7 for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 12:33:28 -0700 (PDT)
Received: from zrtps0kp.nortel.com (zrtps0kp.nortel.com [47.140.192.56])
	by core3.amsl.com (Postfix) with ESMTP id EF9BE3A689D
	for <sip@ietf.org>; Thu, 25 Sep 2008 12:33:27 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kp.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m8PJWPO08266; Thu, 25 Sep 2008 19:32:25 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 25 Sep 2008 14:32:09 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF1962ACF2@zrc2hxm0.corp.nortel.com>
In-Reply-To: <C5015214.892D%hsinnrei@adobe.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: Acke02EnoSJ82UuHSSWnsbCC3YAtXwADG6UAABl/LWoAAB3cUA==
References: <085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
	<C5015214.892D%hsinnrei@adobe.com>
From: "Francois Audet" <audet@nortel.com>
To: "Henry Sinnreich" <hsinnrei@adobe.com>,
	"Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>,
	"ext Dean Willis" <dean.willis@softarmor.com>
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Evil Bit anyone! =


> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On =

> Behalf Of Henry Sinnreich
> Sent: Thursday, September 25, 2008 12:35
> To: Schneider, Peter (NSN - DE/Munich); ext Dean Willis
> Cc: sip@ietf.org
> Subject: Re: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> =

> > Clearly, allowing lawful interception is a requirement for =

> 3GPP, as is =

> > preventing "unlawful interception".
> =

> Is there a protocol mechanism for distinguishing lawful =

> intercept from unlawful intercept?
> =

> If yes, it would be the greatest invention since the Internet!
> =

> Henry
> =

> On 9/25/08 2:50 AM, "Schneider, Peter (NSN - DE/Munich)"
> <peter.schneider@nsn.com> wrote:
> =

> >  =

> > =

> >> -----Urspr=FCngliche Nachricht-----
> >> Von: ext Dean Willis [mailto:dean.willis@softarmor.com]
> >> Gesendet: Donnerstag, 25. September 2008 07:53
> >> An: Schneider, Peter (NSN - DE/Munich)
> >> Cc: ext Henry Sinnreich; sip@ietf.org
> >> Betreff: Re: [Sip] Pub request for
> >> draft-ietf-sip-dtls-srtp-framework-03
> >> =

> >> Schneider, Peter (NSN - DE/Munich) wrote:
> >>> Because of
> >>> the middlebox considerations 3GPP currently focusses on key =

> >>> management protocols that do not use the media path.
> >> =

> >> Translation: In order to prevent deployment of a secure system and =

> >> enable lawful, unlawful, and extralawful intercept, 3GPP =

> is focusing =

> >> on key management protocols that expose the media key via the =

> >> signaling plane, and on implementations that expose the signaling =

> >> plane to all intermediaries.
> >> =

> > =

> > Dean, I assume that you refer to the proposal to use SDES that is =

> > discussed in 3GPP. However, 3GPP does not focus on that approach. =

> > Other signaling path solutions are discussed in 3GPP that =

> exclude all =

> > intermediaries from access to the key. Clearly, allowing lawful =

> > interception is a requirement for 3GPP, as is preventing =

> "unlawful interception".
> > =

> > The middlebox issue is NOT a pretense for allowing only =

> weak solutions =

> > for 3GPP. My proposals concerning the framework draft wouldn't make =

> > DTLS-SRTP any weaker, right? And making DTLS-SRTP more adequate for =

> > 3GPP/TISPAN scenarios would be a good thing, wouldn't it?
> > =

> > Peter
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use =

> > sip-implementors@cs.columbia.edu for questions on current sip Use =

> > sipping@ietf.org for new developments on the application of sip
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use =

> sip-implementors@cs.columbia.edu for questions on current sip =

> Use sipping@ietf.org for new developments on the application of sip
> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 12:53:19 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BEE693A689D;
	Thu, 25 Sep 2008 12:53:19 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A4FB43A689D
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 12:53:18 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.373
X-Spam-Level: 
X-Spam-Status: No, score=-2.373 tagged_above=-999 required=5
	tests=[AWL=-2.074, BAYES_00=-2.599, MANGLED_EMAIL=2.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id nhedpb2X0u+G for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 12:53:16 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id 00B8C3A6884
	for <sip@ietf.org>; Thu, 25 Sep 2008 12:53:15 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8PJq97T024730
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Thu, 25 Sep 2008 21:52:09 +0200
Received: from demuexc023.nsn-intra.net (webmail.nsn-intra.net [10.150.128.36])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8PJq8Ne027903; Thu, 25 Sep 2008 21:52:09 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc023.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Thu, 25 Sep 2008 21:52:09 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Thu, 25 Sep 2008 21:51:18 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
In-Reply-To: <3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckfRYOgLKz9kFFMQgy6B0B8KyF9agAALrCg
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
	<3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Dean Willis" <dean.willis@softarmor.com>
X-OriginalArrivalTime: 25 Sep 2008 19:52:09.0179 (UTC)
	FILETIME=[31E24AB0:01C91F48]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080925215209-21EF0BB0-49DD4D76/0-0/0-15
X-purgate-size: 2665/0
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

See inline

Peter

> -----Urspr=FCngliche Nachricht-----
> Von: ext Dean Willis [mailto:dean.willis@softarmor.com] =

> Gesendet: Donnerstag, 25. September 2008 21:32
> An: Schneider, Peter (NSN - DE/Munich)
> Cc: sip@ietf.org
> Betreff: Re: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> =

> On Sep 25, 2008, at 2:50 AM, Schneider, Peter (NSN - DE/Munich) wrote:
> >
> > Dean, I assume that you refer to the proposal to use SDES that is  =

> > discussed in 3GPP. However, 3GPP does not focus on that approach.  =

> > Other signaling path solutions are discussed in 3GPP that exclude  =

> > all intermediaries from access to the key. Clearly, =

> allowing lawful  =

> > interception is a requirement for 3GPP, as is preventing "unlawful  =

> > interception".
> =

> The two forms of interception cannot be technically differentiated.  =

> Anything that allows one allows the other.
> =

Allowing lawful interception does not imply allowing anyone to intercept th=
e communication. You must have access control for the facilities that allow=
 lawful interception. Compare this with the authentication service describe=
d in RFC4474 (SIP identity). Who controls that service, can mount a man in =
the middle attack that cannot be detected by the means provided by DTLS-SRT=
P.

> The USA has recently shown that it is possible to convert unlawful  =

> intercept into lawful intercept retroactively, despite a  =

> constitutional bar on ex post facto laws. If you're going to =

> break one  =

> law, you might as well break 'em all, right?
> =

> > The middlebox issue is NOT a pretense for allowing only weak  =

> > solutions for 3GPP.
> =

> I believe you.
> =

> > My proposals concerning the framework draft wouldn't make =

> DTLS-SRTP  =

> > any weaker, right?
> =

> I'm not sure. Security is such a frail thing, and it is easy for  =

> unintended consequences to occur. You may well be right, but I'm a  =

> little slow to commit.  Further study is required.
> =

> > And making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios would  =

> > be a good thing, wouldn't it?
> =

> It might, it might not. It depends on what your definition of  =

> "adequate" entails and which scenarios you are talking about. The  =

> requirements rejected by the IETF during the Media Security  =

> Requirements drafting arguably provide a proof case against this  =

> assertion.
> =

Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios (excluding l=
awful interception) without making it weaker would be a good thing - better=
 now?

> --
> Dean
> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 14:29:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 34F233A6858;
	Thu, 25 Sep 2008 14:29:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C0C953A682E
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 14:29:40 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.449
X-Spam-Level: 
X-Spam-Status: No, score=-1.449 tagged_above=-999 required=5
	tests=[AWL=-1.150, BAYES_00=-2.599, MANGLED_EMAIL=2.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 49-5a3hl-5IR for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 14:29:39 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id E440D3A6858
	for <sip@ietf.org>; Thu, 25 Sep 2008 14:29:39 -0700 (PDT)
Received: from [192.160.73.100] (port=53993
	helo=visitors-wireless-184.cablelabs.com)
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1KiyOH-0006UM-0l; Thu, 25 Sep 2008 14:28:51 -0700
Message-Id: <48A72CEE-65D4-4B2B-AA84-B4E5062A304B@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 25 Sep 2008 15:28:55 -0600
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
	<3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: sip@ietf.org, ext Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============1162662963=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============1162662963==
Content-Type: multipart/signed; boundary=Apple-Mail-231--742200657; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-231--742200657
Content-Type: text/plain;
	charset=ISO-8859-1;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: quoted-printable

Let us try it another way:

In the U.S., we have a strong regime of lawful intercept, that =20
includes the courts for wiretap orders and multiple, independent keys =20=

required to do the wiretap.

With all of this protocol and legal protections...

Most of the carriers executed unlawful intercept. Our answer was to =20
give them blanket immunity.

Do not be surprised if soon it will be illegal to use cryptographic =20
means to secure communications.

Thus...
Unless you have a written directive to ensure insecure communications, =20=

this model is hopelessly broken.

(signed with my cryptographic signature, if only so you can detect =20
integrity degradation)

On Sep 25, 2008, at 1:51 PM, Schneider, Peter (NSN - DE/Munich) wrote:

> See inline
>
> Peter
>
>> -----Urspr=FCngliche Nachricht-----
>> Von: ext Dean Willis [mailto:dean.willis@softarmor.com]
>> Gesendet: Donnerstag, 25. September 2008 21:32
>> An: Schneider, Peter (NSN - DE/Munich)
>> Cc: sip@ietf.org
>> Betreff: Re: [Sip] Pub request for
>> draft-ietf-sip-dtls-srtp-framework-03
>>
>>
>> On Sep 25, 2008, at 2:50 AM, Schneider, Peter (NSN - DE/Munich) =20
>> wrote:
>>>
>>> Dean, I assume that you refer to the proposal to use SDES that is
>>> discussed in 3GPP. However, 3GPP does not focus on that approach.
>>> Other signaling path solutions are discussed in 3GPP that exclude
>>> all intermediaries from access to the key. Clearly,
>> allowing lawful
>>> interception is a requirement for 3GPP, as is preventing "unlawful
>>> interception".
>>
>> The two forms of interception cannot be technically differentiated.
>> Anything that allows one allows the other.
>>
> Allowing lawful interception does not imply allowing anyone to =20
> intercept the communication. You must have access control for the =20
> facilities that allow lawful interception. Compare this with the =20
> authentication service described in RFC4474 (SIP identity). Who =20
> controls that service, can mount a man in the middle attack that =20
> cannot be detected by the means provided by DTLS-SRTP.
>
>> The USA has recently shown that it is possible to convert unlawful
>> intercept into lawful intercept retroactively, despite a
>> constitutional bar on ex post facto laws. If you're going to
>> break one
>> law, you might as well break 'em all, right?
>>
>>> The middlebox issue is NOT a pretense for allowing only weak
>>> solutions for 3GPP.
>>
>> I believe you.
>>
>>> My proposals concerning the framework draft wouldn't make
>> DTLS-SRTP
>>> any weaker, right?
>>
>> I'm not sure. Security is such a frail thing, and it is easy for
>> unintended consequences to occur. You may well be right, but I'm a
>> little slow to commit.  Further study is required.
>>
>>> And making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios would
>>> be a good thing, wouldn't it?
>>
>> It might, it might not. It depends on what your definition of
>> "adequate" entails and which scenarios you are talking about. The
>> requirements rejected by the IETF during the Media Security
>> Requirements drafting arguably provide a proof case against this
>> assertion.
>>
> Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios =20
> (excluding lawful interception) without making it weaker would be a =20=

> good thing - better now?
>
>> --
>> Dean
>>
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-231--742200657
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjUyMTI4NTVaMCMGCSqGSIb3
DQEJBDEWBBTbrymdVfUqQFTHMkdYjtruz98GkzCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQBDrVYiwvq8wFExd+TgTL46KtSonm1EjloJzIbi+scbTSlN
2O1W1DaKdN6bemQQJoPdV1apxdqlshYCQ9ZBzJNyMbeUHM9KmJ+0bPdpnZI9zU6brJQkbKwIvazd
jmBPHrIriBUc5hn3Fraf4Z6UYLV1CRx3D8IJG62RY4+HYMraviJW6jgqAxmd7OaHEB2NFQCI1ei3
buysd2ons/YVNUs5oe8z0vv0eSsohNMGC6nCr9g1UVovTWF54zh+XV7kWxnnlsSb0ISXvdJLIQdt
bFgbeDIcR3LRz7Z+5Aw1auimQY11C0xBOsVF0AN7KArMWmbk0THc6rdRbI2xmPHwPm5mAAAAAAAA

--Apple-Mail-231--742200657--

--===============1162662963==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============1162662963==--


From sip-bounces@ietf.org  Thu Sep 25 15:02:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7C1533A6843;
	Thu, 25 Sep 2008 15:02:52 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 78D513A6843
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 15:02:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.449
X-Spam-Level: 
X-Spam-Status: No, score=-5.449 tagged_above=-999 required=5
	tests=[AWL=-1.150, BAYES_00=-2.599, MANGLED_EMAIL=2.3,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aPjcrork64+I for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 15:02:50 -0700 (PDT)
Received: from exprod6og102.obsmtp.com (exprod6og102.obsmtp.com [64.18.1.183])
	by core3.amsl.com (Postfix) with ESMTP id C16813A67AE
	for <sip@ietf.org>; Thu, 25 Sep 2008 15:02:45 -0700 (PDT)
Received: from source ([192.150.11.134]) by exprod6ob102.postini.com
	([64.18.5.12]) with SMTP; Thu, 25 Sep 2008 15:01:53 PDT
Received: from inner-relay-1.corp.adobe.com ([153.32.1.51])
	by outbound-smtp-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8PLvmG3023283; Thu, 25 Sep 2008 14:57:48 -0700 (PDT)
Received: from fe2.corp.adobe.com (fe2.corp.adobe.com [10.8.192.72])
	by inner-relay-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8PM1liq021062; Thu, 25 Sep 2008 15:01:47 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe2.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 25 Sep 2008 15:01:47 -0700
Received: from 10.7.242.119 ([10.7.242.119]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Thu, 25 Sep 2008 22:01:46 +0000
User-Agent: Microsoft-Entourage/12.12.0.080729
Date: Thu, 25 Sep 2008 17:09:05 -0500
From: Henry Sinnreich <hsinnrei@adobe.com>
To: Eric Burger <eburger@standardstrack.com>,
	"Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
Message-ID: <C5017631.8944%hsinnrei@adobe.com>
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckfW1LlU5UmGVPzQUWzodHlbnSTUw==
In-Reply-To: <48A72CEE-65D4-4B2B-AA84-B4E5062A304B@standardstrack.com>
Mime-version: 1.0
X-OriginalArrivalTime: 25 Sep 2008 22:01:47.0490 (UTC)
	FILETIME=[4E1E5C20:01C91F5A]
Cc: sip@ietf.org, ext Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Peter,

Eric makes here some valid points and I would like to repeat some well known
issues (forgive the repetition) of what intercept means to your network,
even if the facilities are presumably(!) well protected (how about bad
insiders?):

* Shopping is not safe if there is intercept
* Banking is not safe if there is intercept
* B-B financial transactions are not safe if there is intercept
* Private communications are not safe if there is intercept
* Private habits are not safe if there is intercept

But:

* Stalkers, extortionists, kidnappers and other criminals can get you
* Injured consumers and businesses can sue your pants off
* You break the privacy laws in the EU, US and elsewhere
* Someone may or will go to jail for the above and/or
Your network goes out of business for economic and legal reasons.

User will just avoid networks known or even only suspected of having
intercept.

Feel free to discuss these costs with your business development and legal
folks and make a return on investment analysis.

Much success!

Henry


On 9/25/08 4:28 PM, "Eric Burger" <eburger@standardstrack.com> wrote:

> Let us try it another way:
> =

> In the U.S., we have a strong regime of lawful intercept, that
> includes the courts for wiretap orders and multiple, independent keys
> required to do the wiretap.
> =

> With all of this protocol and legal protections...
> =

> Most of the carriers executed unlawful intercept. Our answer was to
> give them blanket immunity.
> =

> Do not be surprised if soon it will be illegal to use cryptographic
> means to secure communications.
> =

> Thus...
> Unless you have a written directive to ensure insecure communications,
> this model is hopelessly broken.
> =

> (signed with my cryptographic signature, if only so you can detect
> integrity degradation)
> =

> On Sep 25, 2008, at 1:51 PM, Schneider, Peter (NSN - DE/Munich) wrote:
> =

>> See inline
>> =

>> Peter
>> =

>>> -----Urspr=FCngliche Nachricht-----
>>> Von: ext Dean Willis [mailto:dean.willis@softarmor.com]
>>> Gesendet: Donnerstag, 25. September 2008 21:32
>>> An: Schneider, Peter (NSN - DE/Munich)
>>> Cc: sip@ietf.org
>>> Betreff: Re: [Sip] Pub request for
>>> draft-ietf-sip-dtls-srtp-framework-03
>>> =

>>> =

>>> On Sep 25, 2008, at 2:50 AM, Schneider, Peter (NSN - DE/Munich)
>>> wrote:
>>>> =

>>>> Dean, I assume that you refer to the proposal to use SDES that is
>>>> discussed in 3GPP. However, 3GPP does not focus on that approach.
>>>> Other signaling path solutions are discussed in 3GPP that exclude
>>>> all intermediaries from access to the key. Clearly,
>>> allowing lawful
>>>> interception is a requirement for 3GPP, as is preventing "unlawful
>>>> interception".
>>> =

>>> The two forms of interception cannot be technically differentiated.
>>> Anything that allows one allows the other.
>>> =

>> Allowing lawful interception does not imply allowing anyone to
>> intercept the communication. You must have access control for the
>> facilities that allow lawful interception. Compare this with the
>> authentication service described in RFC4474 (SIP identity). Who
>> controls that service, can mount a man in the middle attack that
>> cannot be detected by the means provided by DTLS-SRTP.
>> =

>>> The USA has recently shown that it is possible to convert unlawful
>>> intercept into lawful intercept retroactively, despite a
>>> constitutional bar on ex post facto laws. If you're going to
>>> break one
>>> law, you might as well break 'em all, right?
>>> =

>>>> The middlebox issue is NOT a pretense for allowing only weak
>>>> solutions for 3GPP.
>>> =

>>> I believe you.
>>> =

>>>> My proposals concerning the framework draft wouldn't make
>>> DTLS-SRTP
>>>> any weaker, right?
>>> =

>>> I'm not sure. Security is such a frail thing, and it is easy for
>>> unintended consequences to occur. You may well be right, but I'm a
>>> little slow to commit.  Further study is required.
>>> =

>>>> And making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios would
>>>> be a good thing, wouldn't it?
>>> =

>>> It might, it might not. It depends on what your definition of
>>> "adequate" entails and which scenarios you are talking about. The
>>> requirements rejected by the IETF during the Media Security
>>> Requirements drafting arguably provide a proof case against this
>>> assertion.
>>> =

>> Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios
>> (excluding lawful interception) without making it weaker would be a
>> good thing - better now?
>> =

>>> --
>>> Dean
>>> =

>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 17:37:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DE7783A686A;
	Thu, 25 Sep 2008 17:37:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5BF603A686A
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 17:37:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gH4gpjfkaTRg for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 17:37:21 -0700 (PDT)
Received: from sj-iport-1.cisco.com (sj-iport-1.cisco.com [171.71.176.70])
	by core3.amsl.com (Postfix) with ESMTP id 1F1713A681B
	for <sip@ietf.org>; Thu, 25 Sep 2008 17:37:19 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,309,1220227200"; d="scan'208";a="82990613"
Received: from sj-dkim-1.cisco.com ([171.71.179.21])
	by sj-iport-1.cisco.com with ESMTP; 26 Sep 2008 00:36:43 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8Q0ahDt008241; 
	Thu, 25 Sep 2008 17:36:43 -0700
Received: from xbh-sjc-221.amer.cisco.com (xbh-sjc-221.cisco.com
	[128.107.191.63])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8Q0ahAe023105;
	Fri, 26 Sep 2008 00:36:43 GMT
Received: from xfe-sjc-212.amer.cisco.com ([171.70.151.187]) by
	xbh-sjc-221.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 25 Sep 2008 17:36:43 -0700
Received: from [128.107.102.130] ([128.107.102.130]) by
	xfe-sjc-212.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 25 Sep 2008 17:36:42 -0700
Message-ID: <48DC2E9B.4090607@cisco.com>
Date: Thu, 25 Sep 2008 20:36:43 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.16 (Windows/20080708)
MIME-Version: 1.0
To: Eric Burger <eburger@standardstrack.com>
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>
	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>
	<48DAD56E.90204@cisco.com>
	<2A855E27-7EF3-48EE-B66C-EDDCFFEC27A5@standardstrack.com>
In-Reply-To: <2A855E27-7EF3-48EE-B66C-EDDCFFEC27A5@standardstrack.com>
X-OriginalArrivalTime: 26 Sep 2008 00:36:42.0764 (UTC)
	FILETIME=[F2889CC0:01C91F6F]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=8300; t=1222389403;
	x=1223253403; c=relaxed/simple; s=sjdkim1004;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20; bh=kfSciW9dBOdURKuT0r4QDhIAeUgVvsmkq0GRboDJfnY=;
	b=ZuMhVf0jQJ4A8fLrWvZdExZkoTbdcefO0O1EGH3NRhYsiBemIOtWaUie2w
	yUJ+Xwy7quscwTevVnuT6c9UCQDEzzqlZwfI/ht7et3hQkiazab6tDFUmuSX
	IA/fNaTxIvbRm55fzvsHgS9ww9kC1QL7APjncZAPLGXLji93bk+Vw=;
Authentication-Results: sj-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim1004 verified; ); 
Cc: SIP IETF <sip@ietf.org>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Eric Burger wrote:
> Let's go back to where handling was really defined.  RFC 3459 section 
> 12.3 really does give guidence here:
> 
>    Criticality only affects the outermost level of the message or, in
>    the case of multipart/alternative, the outermost level of the
>    selected alternative.  Specifically, the receiving system ignores
>    criticality indicators in embedded body parts.  This avoids the
>    situation of a forwarded message triggering or suppressing undesired
>    reporting.  This simply implements the procedures described in [RFC 
> 2183].

This doesn't exactly say what happens if you decide to start processing 
the innards of a multipart/mixed. But it seems to suggest the "local" 
interpretation that Dale is suggesting. Do you agree?

> Section 12.1 makes it clear that for multipart/alternative, only the 
> handling property for the selected alternative matters.

So you are saying that a multipart/alternative may have several parts 
with handling=required, and that I only have to be capable of handling 
the part I choose?

Suppose I have a multipart/alternative with handling=requires, with 
several parts that have handling=required, and one that is optional; and 
I don't support the types of any of the parts. Can I select the one that 
is optional and then do nothing with it, because it is optional? Will 
that satisfy the requirement on the multipart/alternative?

> BTW, the handling property of multipart/related parts DOES matter.  This 
> is precisely where handling is most useful.  The example in RFC 3459 is 
> the data and resource fork of a Macintosh file; it is highly likely for 
> the data fork to be REQUIRED whereas the resource fork may be OPTIONAL.  
> In the SIP world, although I would not suggest it, I could envision a 
> multipart/related caller description, where the REQUIRED part has some 
> identity information and the OPTIONAL part is a PNG of the caller.  [In 
> the real world, the PNG would more likely be an optional part of the 
> caller description, but bear with me for the analysis.]  Following the 
> rules of Section 12.1 of RFC 3459, the UAS has to understand the 
> identity part of the caller information, but can safely ignore the 
> picture part of the caller information.
> 
> Does this help, or did I miss the question?

I think the earlier comments do help, subject to my clarifying 
questions. For this last point about mp/related, I wasn't asking about 
it but your comments do suggest that changes in this document are called 
for.

	Thanks,
	Paul

> On Sep 24, 2008, at 6:03 PM, Paul Kyzivat wrote:
> 
>>
>>
>> Dale.Worley@comcast.net wrote:
>>>   From: Paul Kyzivat <pkyzivat@cisco.com>
>>>   Dale.Worley@comcast.net wrote:
>>>   > 2.
>>>   >    > The handling of a multipart/mixed is 'required' if there is any
>>>   > component whose handling is 'required'.  (My previous message stated
>>>   > this incorrectly.)    > This has the sense that handling is a 
>>> "global"
>>>   > property, in that any part is marked 'required' if any simple part
>>>   > within it is marked 'required'.
>>>   What are you looking at to draw the above conclusion?
>>>   I didn't have that impression. I figured it was "local" as you 
>>> describe    below.
>>>> From this:
>>>   7.2.  UA Behavior to Set the 'handling' Parameter
>>>   [...]
>>>   If at least one of the body parts within a 'multipart/mixed' body has
>>>   a 'handling' value of 'required', the UA MUST set the 'handling'
>>>   parameter of the 'multipart/mixed' body to 'required'.  If all the
>>>   body parts within a 'multipart/mixed' body have a 'handling' value of
>>>   'optional', the UA MUST set the 'handling' parameter of the
>>>   'multipart/mixed' body to 'optional'.
>>
>> Oh, duh. Yeah, I agree this is a problem.
>>
>> I agree the *useful* thing to do here is to have the handling be 
>> "local" - only relevant if the container is being processed. That's if 
>> we have the liberty to do that. There has been a desire not to diverge 
>> from the mime/email interpretations of these things. I don't know what 
>> is the case here.
>>
>>>   > This rule causes various problems.  One problem is that the parts 
>>> of a
>>>   > multipart/alternative are supposed to have handling 'optional'
>>>   > (although the handling value is ignored), which requires that all
>>>   > components of a part that is a component of a multipart/alternative
>>>   > must be 'optional'.  This makes it impossible to convey the logic of
>>>   > the following example and similar situations (which are likely to
>>>   > happen in practice):
>>>   This is an area that also bothers me. Perhaps the handling of parts 
>>> of a    multipart/alternative are irrelevant, as they are for 
>>> multipart/related,    unless the recipient doesn't understand and 
>>> treats it as    multipart/mixed. Of course, if a 
>>> multipart/alternative is processed as a    multipart/mixed the result 
>>> isn't likely to be good.
>>> The current draft states that the handling of components of a
>>> multipart/alternative are to be ignored:
>>>   7.3.  UA Behavior to Process 'multipart/alternative'
>>>   The receiver of 'multipart/alternative' body MUST process the body
>>>   based on its handling parameter.  The receiver SHOULD ignore the
>>>   handling parameters of the body parts within the 'multipart/
>>>   alternative'.
>>> And that seems to be completely correct; which component should be
>>> processed is completely determined by other factors.
>>>   Its my understanding that there is an assumption that the 
>>> alternatives    are increasingly rich, and it is assumed that you do 
>>> the last one you    understand, but that then you also understand all 
>>> the prior ones.
>>> I don't see that that is required at all.  It would be devilishly
>>> difficult to implement.
>>
>> I just reviewed the def of multipart/alternative in RFC 2045, and I 
>> agree your interpretation is right. In fact, choosing the last 
>> supported one isn't required, but its more of a suggestion.
>>
>>>   > 3.
>>>   >    > A processor that does not implement multipart/related is 
>>> allowed to
>>>   > process the part as if it was multipart/mixed.  It's not clear that
>>>   > there are *any* circumstances under which this will result in useful
>>>   > results.  The current draft hints at this, but the hint should
>>>   > probably be strengthened into a warning that multipart/related 
>>> should
>>>   > not be used in any circumstance where the recipient is not 
>>> constrained
>>>   > by some mechanism to implement multipart/related.
>>>   This seems reasonable to me.
>>>   I would think that someone building a multipart/related should 
>>> construct    it such that something reasonable happens if it is 
>>> processed as a    multipart/mixed. But certainly it may be impossible 
>>> to do that.
>>> I expect that in practice, every situation where multipart/related is
>>> used is protected by some extension mechanism to ensure that the
>>> recipient understands it.  That's the case now with "resource list
>>> events", with "Require: eventlist".
>>
>> That would certainly be wise. I guess you could dispense with that 
>> *if* you can structure it so that processing it as a mixed is 
>> tolerable. Hard to predict if anybody would ever do that, but we 
>> needn't forbid it.
>>
>> The key here for anyone sending *any* multipart/XYZ is that anyone 
>> capable of processing a multipart/mixed will consider themselves 
>> capable of supporting multipart/XYZ, as a multipart/mixed.
>>
>> So, creating a multipart/alternative, where the contained parts are:
>> - text/plain
>> - multipart/mixed
>> - multipart/related
>>
>> isn't going to be very helpful. Anybody who supports multipart/mixed 
>> will process the last part, not the second.
>>
>>     Thanks,
>>     Paul
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 18:13:52 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id F33AD3A69F6;
	Thu, 25 Sep 2008 18:13:51 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6D2953A69E0
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 18:13:51 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.449
X-Spam-Level: 
X-Spam-Status: No, score=-5.449 tagged_above=-999 required=5
	tests=[AWL=-1.150, BAYES_00=-2.599, MANGLED_EMAIL=2.3,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 8yIePK+jiWF5 for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 18:13:50 -0700 (PDT)
Received: from exprod6og102.obsmtp.com (exprod6og102.obsmtp.com [64.18.1.183])
	by core3.amsl.com (Postfix) with ESMTP id 913F23A69DC
	for <sip@ietf.org>; Thu, 25 Sep 2008 18:13:45 -0700 (PDT)
Received: from source ([192.150.11.134]) by exprod6ob102.postini.com
	([64.18.5.12]) with SMTP; Thu, 25 Sep 2008 18:13:53 PDT
Received: from inner-relay-3.eur.adobe.com ([192.150.8.236])
	by outbound-smtp-1.corp.adobe.com (8.12.10/8.12.10) with ESMTP id
	m8Q19nG3012511; Thu, 25 Sep 2008 18:09:49 -0700 (PDT)
Received: from fe2.corp.adobe.com (fe2.corp.adobe.com [10.8.192.72])
	by inner-relay-3.eur.adobe.com (8.12.10/8.12.9) with ESMTP id
	m8Q1DjqJ024319; Thu, 25 Sep 2008 18:13:50 -0700 (PDT)
Received: from namail5.corp.adobe.com ([10.8.192.88]) by fe2.corp.adobe.com
	with Microsoft SMTPSVC(6.0.3790.1830); 
	Thu, 25 Sep 2008 18:13:44 -0700
Received: from 10.7.242.119 ([10.7.242.119]) by namail5.corp.adobe.com
	([10.8.192.88]) with Microsoft Exchange Server HTTP-DAV ; 
	Fri, 26 Sep 2008 01:13:44 +0000
User-Agent: Microsoft-Entourage/12.12.0.080729
Date: Thu, 25 Sep 2008 20:21:03 -0500
From: Henry Sinnreich <hsinnrei@adobe.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>,
	ext Dean Willis <dean.willis@softarmor.com>
Message-ID: <C501A32F.8963%hsinnrei@adobe.com>
Thread-Topic: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckfRYOgLKz9kFFMQgy6B0B8KyF9agAALrCgAAv5cr8=
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
Mime-version: 1.0
X-OriginalArrivalTime: 26 Sep 2008 01:13:44.0809 (UTC)
	FILETIME=[1EF9C590:01C91F75]
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Peter,

Thanks for reminding me of this critical point:

>Allowing lawful interception does not imply allowing anyone to intercept
>the communication. You must have access control for the facilities
>that allow lawful interception.

This argument is simply not true given that all service providers lease
national and international facilities as part of "the network". Data center
capacity and services are also outsourced for countless reasons, so how do
you know for sure where your data is and who exactly is in charge of it?
Many vendors must also have access to critical network infrastructure, to
make it work at all, all the time.

I can only hope your trust in everybody in this very big ecosystem will not
lead to disappointment and worse :-)
(The missing smiley)

Now if you work for a law enforcement agency or the government and your life
really depends on communications security, I doubt you will trust your life
or fortune to services that have intercept built in.

Henry


On 9/25/08 2:51 PM, "Schneider, Peter (NSN - DE/Munich)"
<peter.schneider@nsn.com> wrote:

> See inline
> =

> Peter
> =

>> -----Urspr=FCngliche Nachricht-----
>> Von: ext Dean Willis [mailto:dean.willis@softarmor.com]
>> Gesendet: Donnerstag, 25. September 2008 21:32
>> An: Schneider, Peter (NSN - DE/Munich)
>> Cc: sip@ietf.org
>> Betreff: Re: [Sip] Pub request for
>> draft-ietf-sip-dtls-srtp-framework-03
>> =

>> =

>> On Sep 25, 2008, at 2:50 AM, Schneider, Peter (NSN - DE/Munich) wrote:
>>> =

>>> Dean, I assume that you refer to the proposal to use SDES that is
>>> discussed in 3GPP. However, 3GPP does not focus on that approach.
>>> Other signaling path solutions are discussed in 3GPP that exclude
>>> all intermediaries from access to the key. Clearly,
>> allowing lawful =

>>> interception is a requirement for 3GPP, as is preventing "unlawful
>>> interception".
>> =

>> The two forms of interception cannot be technically differentiated.
>> Anything that allows one allows the other.
>> =

> Allowing lawful interception does not imply allowing anyone to intercept =
the
> communication. You must have access control for the facilities that allow
> lawful interception. Compare this with the authentication service describ=
ed in
> RFC4474 (SIP identity). Who controls that service, can mount a man in the
> middle attack that cannot be detected by the means provided by DTLS-SRTP.
> =

>> The USA has recently shown that it is possible to convert unlawful
>> intercept into lawful intercept retroactively, despite a
>> constitutional bar on ex post facto laws. If you're going to
>> break one  =

>> law, you might as well break 'em all, right?
>> =

>>> The middlebox issue is NOT a pretense for allowing only weak
>>> solutions for 3GPP.
>> =

>> I believe you.
>> =

>>> My proposals concerning the framework draft wouldn't make
>> DTLS-SRTP  =

>>> any weaker, right?
>> =

>> I'm not sure. Security is such a frail thing, and it is easy for
>> unintended consequences to occur. You may well be right, but I'm a
>> little slow to commit.  Further study is required.
>> =

>>> And making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios would
>>> be a good thing, wouldn't it?
>> =

>> It might, it might not. It depends on what your definition of
>> "adequate" entails and which scenarios you are talking about. The
>> requirements rejected by the IETF during the Media Security
>> Requirements drafting arguably provide a proof case against this
>> assertion.
>> =

> Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios (excluding
> lawful interception) without making it weaker would be a good thing - bet=
ter
> now?
> =

>> --
>> Dean
>> =

> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 20:54:46 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BAF6D3A68BB;
	Thu, 25 Sep 2008 20:54:46 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A77713A68BB
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 20:54:45 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -106.599
X-Spam-Level: 
X-Spam-Status: No, score=-106.599 tagged_above=-999 required=5
	tests=[AWL=0.000, BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4,
	USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Dt9wab1qKwww for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 20:54:44 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id 692BF3A677E
	for <sip@ietf.org>; Thu, 25 Sep 2008 20:54:44 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,310,1220227200"; d="scan'208";a="163130501"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-6.cisco.com with ESMTP; 26 Sep 2008 03:54:04 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8Q3s4Ve026674; 
	Thu, 25 Sep 2008 20:54:04 -0700
Received: from [192.168.4.177] (rcdn-fluffy-8711.cisco.com [10.99.9.18])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8Q3s2O3019329;
	Fri, 26 Sep 2008 03:54:03 GMT
From: Cullen Jennings <fluffy@cisco.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
Impp: xmpp:cullenfluffyjennings@jabber.org
References: <48D89A80.2090204@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
Message-Id: <E9DF97E4-0111-42D0-B681-B557E72385EF@cisco.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Thu, 25 Sep 2008 21:53:57 -0600
X-Mailer: Apple Mail (2.929.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6116; t=1222401244;
	x=1223265244; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Re=3A=20AW=3A=20[Sip]=20Pub=20request=20for=20d
	raft-ietf-sip-dtls-srtp-framework-03 |Sender:=20;
	bh=ANEKyWjMYODfmr+pOb9RSWOEhkPjWIp4cP9eJYpoRSk=;
	b=iLD3iiAc2lf2lDAYgGoHh+j6bkn8GUOjCBw1BuYbChTOoxE9kwbjmFIKDP
	E9oQL9KWccuDKcf4Lx9wrrFk1sMj58SnXWUSqtpP4ySuAKsbNokZH24ZSYPA
	WPML1Egyg0;
Authentication-Results: sj-dkim-3; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: SIP List <sip@ietf.org>, Eric Rescorla <ekr@rtfm.com>,
	ext Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


Peter,

This SBC latching is an interesting topic and has come up on some of  =

the 3GPP/IETF joint conference calls. I view it as an issue to do with  =

middle-box traversal for SIP media and somewhat tangential to DTLS- =

SRTP but that does not change the importance of discussing it.

The part I don't really understand is: Why can the SBC latch for RTP  =

No-Op packets but not STUN? If you could provide any more information  =

about this question in the context of 3GPP usages, I think that would  =

be be helpful in deciding what to do.

Thanks, Cullen


On Sep 23, 2008, at 8:28 AM, Schneider, Peter (NSN - DE/Munich) wrote:

> There is maybe one concern with the document in its current form: Is  =

> DTLS-SRTP as described now suitable as a media plane security  =

> solution for the 3GPP IMS?
>
> A main problem here is the interworking with middleboxes, as  =

> described in draft-ietf-mmusic-media-path-middleboxes. This draft is  =

> mentionened in draft-ietf-sip-dtls-srtp-framework-03 in a way that  =

> makes me assume that following the recommendations of draft-ietf- =

> mmusic-media-path-middleboxes is compliant with draft-ietf-sip-dtls- =

> srtp-framework-03. However, ignoring draft-ietf-mmusic-media-path- =

> middleboxes is also possible, which would lead to a poor interaction  =

> with middleboxes. It would be favorable to have the recommendations  =

> inside draft-ietf-sip-dtls-srtp-framework itself, and to emphasize  =

> that following theses recommendations will help making DTLS-SRTP  =

> work in scenarios with middleboxes.
>
> A specific concern is: If ICE is not used, the passive side (the  =

> server in the DTLS handshake) must use a STUN connectivity check to  =

> open a pinhole (in a middlebox). In 3GPP/TISPAN scenarios it is  =

> likely that ICE and STUN do not work at the managed middleboxes (the  =

> SBCs) - such traffic may just be discarded. In particular, a STUN  =

> connectivity check may NOT trigger latching at an SBC. Sending of no- =

> op RTP packets (see [I-D.ietf-avt-rtp-no-op]) however will trigger  =

> the latching. (Both methods are mentioned in draft-ietf-mmusic-media- =

> path-middleboxes at equal ranks, but from the 3GPP/TISPAN and SBC  =

> interaction perspective, the "wrong" one was selected as mandatory  =

> in draft-ietf-sip-dtls-srtp-framework-03.)
>
> Consider this scenario, showing a managed middlebox plus an  =

> unmanaged (e.g. residential) NAT/FW at the passive side:
>
>
>     SIP     +-----------------+     SIP
>  Signaling  |     SIP ALG     |  Signaling
> <----------->+-----------------+<---------------+
>             |   MIDCOM Agent  |                |
>             +-----------------+                |
>                      ^                         |
>       Policy rule(s) | and NAT bindings  +---------+      +----------+
>                      v                   |     +---|----->| Endpoint |
>    Media      +-------------+   Media    | NAT/FW  |      |    P     |
> <------------->|  Middlebox  |<-----------|---------|----- =

> >|          |
>               +-------------+            +---------+      +----------+
>
>
> The MIDCOM agent will instruct the middlebox to relay the traffic of  =

> the session. But even after SDP offer and answer have been  =

> exchanged, the middlebox and MIDCOM agent will not know which IP  =

> address the residential NAT/FW is going to use for the media  =

> session. A STUN connectivity check sent by endpoint P would open a  =

> pinhole in the residential NAT/FW, but would be discarded by the  =

> middlebox. An RTP packet however, e.g. a no-op RTP packet, would  =

> typically cause latching at the middlebox, e.g. make the middlebox  =

> take the source IP address of the RTP packet as the media address of  =

> endpoint P.
>
> Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP packets  =

> should be used rather than STUN connectivity checks, and it would be  =

> favorable if the draft mentioned that, e.g. in the section "Latching  =

> Control Without ICE".
> Maybe the best solution is to recommend  the no-op RTP packets for  =

> all scenarios without ICE.
>
> Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
>   - to retry signaling (for key exchange) on the media path in a  =

> suitable way, if it has failed (REC #3)
>   - to send an SDP answer as soon as possible, for example within a  =

> provisional SIP response (REC #4)
> Wording reflecting these recommendations should be placed in section  =

> 6.7 of draft-ietf-sip-dtls-srtp-framework.
>
> In section 5 of draft-ietf-sip-dtls-srtp-framework, where it is  =

> recommended for the answerer to take the active role, a hint should  =

> be added that in middlebox scenarios, where middleboxes block the  =

> media path before SDP offer and answer have been exchanged (and  =

> media before SDP answer will not work anyway), the answerer should  =

> take the passive role rather then starting a DTLS-SRTP handshake  =

> that will stall due to a blocking middlebox.
>
> Peter
>
>> -----Urspr=FCngliche Nachricht-----
>> Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im
>> Auftrag von ext Dean Willis
>> Gesendet: Dienstag, 23. September 2008 09:28
>> An: iesg-secretary@ietf.org
>> Cc: CULLEN JENNINGS; sip@ietf.org
>> Betreff: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
>>
>> We seem to be Done with the DTLS-SRTP Framework!
>>
>>
>> Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
>> Please report any problems (like, maybe I cut-and-pasted the wrong
>> buffer again) to me and to the list. Thanks!
>>
> ...
>>
>>
>> (1.c) Does the Document Shepherd have concerns that the document
>> needs more review from a particular or broader perspective, e.g.,
>> security, operational complexity, someone familiar with AAA,
>> internationalization or XML?
>>
>> The reviews appear to be adequate.
>>
> ...

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Thu Sep 25 22:32:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20F0F3A69BF;
	Thu, 25 Sep 2008 22:32:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 43FAF3A69BF
	for <sip@core3.amsl.com>; Thu, 25 Sep 2008 22:32:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.237
X-Spam-Level: 
X-Spam-Status: No, score=-2.237 tagged_above=-999 required=5 tests=[AWL=0.363, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zdXesQAxZx+6 for <sip@core3.amsl.com>;
	Thu, 25 Sep 2008 22:32:51 -0700 (PDT)
Received: from nylon.softarmor.com (nylon.softarmor.com [66.135.38.164])
	by core3.amsl.com (Postfix) with ESMTP id 7F6A43A691A
	for <sip@ietf.org>; Thu, 25 Sep 2008 22:32:51 -0700 (PDT)
Received: from [192.168.2.103] (cpe-76-185-142-113.tx.res.rr.com
	[76.185.142.113]) (authenticated bits=0)
	by nylon.softarmor.com (8.13.8/8.13.8/Debian-3) with ESMTP id
	m8Q5WgeD012890
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT);
	Fri, 26 Sep 2008 00:32:46 -0500
Message-Id: <39BAD92E-681C-47D9-8B4C-09604B4920F7@softarmor.com>
From: Dean Willis <dean.willis@softarmor.com>
To: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
In-Reply-To: <085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Fri, 26 Sep 2008 00:32:37 -0500
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
	<3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
X-Mailer: Apple Mail (2.929.2)
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


On Sep 25, 2008, at 2:51 PM, Schneider, Peter (NSN - DE/Munich) wrote:
>>
> Allowing lawful interception does not imply allowing anyone to  
> intercept the communication. You must have access control for the  
> facilities that allow lawful interception. Compare this with the  
> authentication service described in RFC4474 (SIP identity). Who  
> controls that service, can mount a man in the middle attack that  
> cannot be detected by the means provided by DTLS-SRTP.

Which is why DTLS-SRTP allows one to run the AS on the phone, and to  
verify the media-channel key fingerprint in voice or out-of-band. If  
you do this, you can (assuming your OS hasn't been hacked), detect  
MITM attacks to the extend currently provided for by our mathematics.  
That's a lot stronger than what you get by trusting the bored hourly  
worker down at the switching center.

>>
>>
> Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios  
> (excluding lawful interception) without making it weaker would be a  
> good thing - better now?

That sounds pretty reasonable :-).

--
Dean
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 00:26:03 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 809BF3A6AC5;
	Fri, 26 Sep 2008 00:26:03 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 93AA93A6AA2
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 00:26:01 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id r2Sfha-JkUKG for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 00:25:54 -0700 (PDT)
Received: from mgw-mx03.nokia.com (smtp.nokia.com [192.100.122.230])
	by core3.amsl.com (Postfix) with ESMTP id 76EE23A6ABD
	for <sip@ietf.org>; Fri, 26 Sep 2008 00:25:54 -0700 (PDT)
Received: from esebh105.NOE.Nokia.com (esebh105.ntc.nokia.com [172.21.138.211])
	by mgw-mx03.nokia.com (Switch-3.2.6/Switch-3.2.6) with ESMTP id
	m8Q7OYpr013183 for <sip@ietf.org>; Fri, 26 Sep 2008 10:24:42 +0300
Received: from vaebh102.NOE.Nokia.com ([10.160.244.23]) by
	esebh105.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Fri, 26 Sep 2008 10:24:17 +0300
Received: from vaebh104.NOE.Nokia.com ([10.160.244.30]) by
	vaebh102.NOE.Nokia.com with Microsoft SMTPSVC(6.0.3790.3959); 
	Fri, 26 Sep 2008 10:24:11 +0300
Received: from mgw-int02.ntc.nokia.com ([172.21.143.97]) by
	vaebh104.NOE.Nokia.com over TLS secured channel with Microsoft
	SMTPSVC(6.0.3790.3959); Fri, 26 Sep 2008 10:24:09 +0300
Received: from [172.21.40.154] (esdhcp040154.research.nokia.com
	[172.21.40.154])
	by mgw-int02.ntc.nokia.com (Switch-3.2.5/Switch-3.2.5) with ESMTP id
	m8Q7O7Wv028230 for <sip@ietf.org>; Fri, 26 Sep 2008 10:24:07 +0300
From: Aki Niemi <aki.niemi@nokia.com>
To: SIP IETF <sip@ietf.org>
Organization: Nokia Devices R&D
Date: Fri, 26 Sep 2008 10:24:10 +0300
Message-Id: <1222413851.8449.15.camel@little.research.nokia.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.3.1 
X-OriginalArrivalTime: 26 Sep 2008 07:24:09.0117 (UTC)
	FILETIME=[DDB20CD0:01C91FA8]
X-Nokia-AV: Clean
Subject: [Sip] Subnot etags ready?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

All,

It's been a couple of months since the last update to
draft-ietf-sip-subnot-etags:

http://tools.ietf.org/wg/sip/draft-ietf-sip-subnot-etags/

And I haven't seen any discussion on it, which makes me believe it's
pretty much done and ready to ship. 

Chairs, I reckon you want another WGLC on the document?

Cheers,
Aki

-- 
Aki Niemi
Maemo Software, Nokia Devices R&D

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 01:17:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8695C28C0E8;
	Fri, 26 Sep 2008 01:17:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5E9EB3A6AED
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 01:17:11 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.246
X-Spam-Level: 
X-Spam-Status: No, score=-0.246 tagged_above=-999 required=5 tests=[AWL=0.248, 
	BAYES_00=-2.599, FH_RELAY_NODNS=1.451, HELO_MISMATCH_COM=0.553, 
	RDNS_NONE=0.1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aoL0-SCPvTJR for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 01:17:02 -0700 (PDT)
Received: from szxga02-in.huawei.com (unknown [119.145.14.65])
	by core3.amsl.com (Postfix) with ESMTP id 667D13A6B0E
	for <sip@ietf.org>; Fri, 26 Sep 2008 01:17:02 -0700 (PDT)
Received: from huawei.com (szxga02-in [172.24.2.6])
	by szxga02-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7S0004YN0EBG@szxga02-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 16:17:02 +0800 (CST)
Received: from huawei.com ([172.24.1.18])
	by szxga02-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7S00F7TN0EUM@szxga02-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 16:17:02 +0800 (CST)
Received: from z57842 ([10.85.29.113])
	by szxml03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0K7S006SPN0E0L@szxml03-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 16:17:02 +0800 (CST)
Date: Fri, 26 Sep 2008 16:17:01 +0800
From: Yuxia Zhang <isal_yxz@huawei.com>
In-reply-to: <48D912EF.9060700@bell-labs.com>
To: 'Volker Hilt' <volkerh@bell-labs.com>
Message-id: <007201c91fb0$4103c100$711d550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Mailer: Microsoft Office Outlook 11
Thread-index: Ackdlc8tprLuEylnQXa21KMWZvdV5gCFkTbg
Cc: sip@ietf.org, gonzalo.camarillo@ericsson.com
Subject: Re: [Sip] issues on two different session policies in the
 draft"draft-ietf-sip-session-policy-framework-04"
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

volker, 
thanks a lot !

Additionally,  there are still another places  for the figure 3 and figure 4
in the draft needs to be clarified, can you ?   

As follows,

>From the context,  whether should they be "policy channel
+infoOffer+InfoAnswer" for the step (9) and (10) in the figure 3 and for the
step (12) and (13) in the figure 4 in the draft?

I wonder whether it is my fault or other question, such as typo error, other
explanation:)

cheers


isal 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Volker
Hilt
Sent: Wednesday, September 24, 2008 12:02 AM
To: Yuxia Zhang
Cc: sip@ietf.org; gonzalo.camarillo@ericsson.com
Subject: Re: [Sip] issues on two different session policies in the
draft"draft-ietf-sip-session-policy-framework-04"

Yuxia Zhang wrote:
> hi, all
>  
> some issues on two diffrent session policies of draft-ietf-sip-sip 
> session policy-framework need to be queried. could you help me? thanks.
> as follow,
>  
> Producedures in the draft only describe the usage of the 
> session-specific policy, is right? so as for the session-independent 
> policy, how does UAC retrieve it?

Session-independent policies make use of the config framework
(http://tools.ietf.org/html/draft-ietf-sipping-config-framework-15) as
described in the draft.

> it is only through SUBSCRIBE request and only simple interactive, is 
> it ? Then UA will retrieve the session-indepdent immediately  when UA 
> registering himself into the network as the said in the draft that the 
> session-independent  policy always is applied before the 
> session-specific policy, is right ?
>  
The UA will get session-independent policies when setting up the
subscription using the config framework as described in section 3.2. 
Yes, session-independent policies are applied before session-specific
policies are applied.

> if my understanding is right, is it indicated that there is no collide 
> for retrieve of two different policies, then it is no necessary for 
> UAC to differentiate the two different policies, so does the policy server
?
>  
There should be no need for the UA or the policy server to differentiate
between the two policies. They are applied in the order described above.

Thanks,

Volker



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 02:42:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 252E73A6979;
	Fri, 26 Sep 2008 02:42:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 58CDA3A6979
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 02:42:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.005
X-Spam-Level: 
X-Spam-Status: No, score=-3.005 tagged_above=-999 required=5
	tests=[AWL=-0.406, BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R7XpMovQWvYL for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 02:42:26 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id 381383A67F5
	for <sip@ietf.org>; Fri, 26 Sep 2008 02:42:25 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8Q7h8EJ029355
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Fri, 26 Sep 2008 09:43:08 +0200
Received: from demuexc022.nsn-intra.net (webmail.nsn-intra.net [10.150.128.35])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8Q7h0Qg014116; Fri, 26 Sep 2008 09:43:08 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc022.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Fri, 26 Sep 2008 09:43:07 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Fri, 26 Sep 2008 09:42:58 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA359010061E6@DEMUEXC006.nsn-intra.net>
In-Reply-To: <39BAD92E-681C-47D9-8B4C-09604B4920F7@softarmor.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: AckfmV5U+rNDap2/SaOjqfwdhE/sTwADiCsg
References: <085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>	<C4FEC5F0.886C%hsinnrei@adobe.com>
	<085BE88FD18EE94085EB8960172CA35901005B9C@DEMUEXC006.nsn-intra.net>
	<48DB272C.2010802@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005EA6@DEMUEXC006.nsn-intra.net>
	<3250A22A-B2B3-4504-8A2D-DED9382E5D53@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901006162@DEMUEXC006.nsn-intra.net>
	<39BAD92E-681C-47D9-8B4C-09604B4920F7@softarmor.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Dean Willis" <dean.willis@softarmor.com>,
	"ext Eric Burger" <eburger@standardstrack.com>,
	"ext Henry Sinnreich" <hsinnrei@adobe.com>
X-OriginalArrivalTime: 26 Sep 2008 07:43:07.0357 (UTC)
	FILETIME=[8423B0D0:01C91FAB]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080926094308-21EF3BB0-EED2393D/0-0/0-15
X-purgate-size: 1824/0
Cc: sip@ietf.org
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Ok, you guys finally succeeded to convince me: Interception is bad for peop=
le!

See also one inline remark below.

Peter

> -----Urspr=FCngliche Nachricht-----
> Von: ext Dean Willis [mailto:dean.willis@softarmor.com] =

> Gesendet: Freitag, 26. September 2008 07:33
> An: Schneider, Peter (NSN - DE/Munich)
> Cc: sip@ietf.org
> Betreff: Re: AW: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> =

> On Sep 25, 2008, at 2:51 PM, Schneider, Peter (NSN - DE/Munich) wrote:
> >>
> > Allowing lawful interception does not imply allowing anyone to  =

> > intercept the communication. You must have access control for the  =

> > facilities that allow lawful interception. Compare this with the  =

> > authentication service described in RFC4474 (SIP identity). Who  =

> > controls that service, can mount a man in the middle attack that  =

> > cannot be detected by the means provided by DTLS-SRTP.
> =

> Which is why DTLS-SRTP allows one to run the AS on the phone, and to  =

> verify the media-channel key fingerprint in voice or out-of-band. If  =

> you do this, you can (assuming your OS hasn't been hacked), detect  =

> MITM attacks to the extend currently provided for by our =

> mathematics.  =

> That's a lot stronger than what you get by trusting the bored hourly  =

> worker down at the switching center.
> =


Yes, I'm aware of that. If you do have a secure out-of-band channel, you ar=
e fine. And voice verification will also be a way for users (not for all, I=
'd assume).

> >>
> >>
> > Well, making DTLS-SRTP more adequate for 3GPP/TISPAN scenarios  =

> > (excluding lawful interception) without making it weaker =

> would be a  =

> > good thing - better now?
> =

> That sounds pretty reasonable :-).
> =

> --
> Dean
> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 03:33:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1A5013A67B5;
	Fri, 26 Sep 2008 03:33:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D91D33A67B5
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 03:33:55 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.423
X-Spam-Level: 
X-Spam-Status: No, score=-1.423 tagged_above=-999 required=5 tests=[AWL=1.176, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JcfO7mvTZb5e for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 03:33:55 -0700 (PDT)
Received: from szxga03-in.huawei.com (szxga03-in.huawei.com [119.145.14.66])
	by core3.amsl.com (Postfix) with ESMTP id C612E3A659B
	for <sip@ietf.org>; Fri, 26 Sep 2008 03:33:54 -0700 (PDT)
Received: from huawei.com (szxga03-in [172.24.2.9])
	by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7S009M0TBYIO@szxga03-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 18:33:34 +0800 (CST)
Received: from huawei.com ([172.24.1.12])
	by szxga03-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTP id <0K7S006ZKTBYUX@szxga03-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 18:33:34 +0800 (CST)
Received: from z57842 ([10.85.29.113])
	by szxml05-in.huawei.com (iPlanet Messaging Server 5.2 HotFix 2.14
	(built Aug
	8 2006)) with ESMTPA id <0K7S00ID2TBYER@szxml05-in.huawei.com> for
	sip@ietf.org; Fri, 26 Sep 2008 18:33:34 +0800 (CST)
Date: Fri, 26 Sep 2008 18:33:35 +0800
From: Yuxia Zhang <isal_yxz@huawei.com>
To: 'Volker Hilt' <volkerh@bell-labs.com>
Message-id: <008501c91fc3$546a0d90$711d550a@china.huawei.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2900.3198
X-Mailer: Microsoft Office Outlook 11
Thread-index: Ackdlc8tprLuEylnQXa21KMWZvdV5gCFkTbgAAUhn1A=
Cc: sip@ietf.org, gonzalo.camarillo@ericsson.com
Subject: [Sip] again: issues on two different session policies in the
 draft"draft-ietf-sip-session-policy-framework-04"
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

hi, volker

Sorry :), besides the below point to be clarified by you, could you explain
another place which forgets to be added in the below email from the the
figure "B.3" ? 

when UA B finishes applying the policies from PSA and PSB in the order, why
does UA B  apply policies from PSA and PSB again like the indication from
the step 12 to the step 19?  if being session description updated,  how does
UA B know to stop applying PSA and PSB? moreover, why should not the step 16
be "SUBSCRIBE<o''', a'''>" ?  

thanks a lot 

cheers

isal 


-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Yuxia
Zhang
Sent: Friday, September 26, 2008 4:17 PM
To: 'Volker Hilt'
Cc: sip@ietf.org; gonzalo.camarillo@ericsson.com
Subject: Re: [Sip] issues on two different session policies in the
draft"draft-ietf-sip-session-policy-framework-04"

volker,
thanks a lot !

Additionally,  there are still another places  for the figure 3 and figure 4
in the draft needs to be clarified, can you ?   

As follows,

>From the context,  whether should they be "policy channel
+infoOffer+InfoAnswer" for the step (9) and (10) in the figure 3 and for 
+infoOffer+the
step (12) and (13) in the figure 4 in the draft?

I wonder whether it is my fault or other question, such as typo error, other
explanation:)

cheers


isal 

-----Original Message-----
From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of Volker
Hilt
Sent: Wednesday, September 24, 2008 12:02 AM
To: Yuxia Zhang
Cc: sip@ietf.org; gonzalo.camarillo@ericsson.com
Subject: Re: [Sip] issues on two different session policies in the
draft"draft-ietf-sip-session-policy-framework-04"

Yuxia Zhang wrote:
> hi, all
>  
> some issues on two diffrent session policies of draft-ietf-sip-sip 
> session policy-framework need to be queried. could you help me? thanks.
> as follow,
>  
> Producedures in the draft only describe the usage of the 
> session-specific policy, is right? so as for the session-independent 
> policy, how does UAC retrieve it?

Session-independent policies make use of the config framework
(http://tools.ietf.org/html/draft-ietf-sipping-config-framework-15) as
described in the draft.

> it is only through SUBSCRIBE request and only simple interactive, is 
> it ? Then UA will retrieve the session-indepdent immediately  when UA 
> registering himself into the network as the said in the draft that the 
> session-independent  policy always is applied before the 
> session-specific policy, is right ?
>  
The UA will get session-independent policies when setting up the
subscription using the config framework as described in section 3.2. 
Yes, session-independent policies are applied before session-specific
policies are applied.

> if my understanding is right, is it indicated that there is no collide 
> for retrieve of two different policies, then it is no necessary for 
> UAC to differentiate the two different policies, so does the policy 
> server
?
>  
There should be no need for the UA or the policy server to differentiate
between the two policies. They are applied in the order described above.

Thanks,

Volker



_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol Use
sip-implementors@cs.columbia.edu for questions on current sip Use
sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 09:02:55 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E596928C188;
	Fri, 26 Sep 2008 09:02:55 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id 6FB0F28C0F4; Fri, 26 Sep 2008 09:02:53 -0700 (PDT)
X-idtracker: yes
To: IETF-Announce <ietf-announce@ietf.org> 
From: The IESG <iesg-secretary@ietf.org>
Message-Id: <20080926160253.6FB0F28C0F4@core3.amsl.com>
Date: Fri, 26 Sep 2008 09:02:53 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] Last Call: draft-ietf-sip-hitchhikers-guide (A Hitchhiker's
 Guide to the Session Initiation Protocol (SIP)) to Informational RFC
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: ietf@ietf.org
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has received a request from the Session Initiation Protocol WG 
(sip) to consider the following document:

- 'A Hitchhiker's Guide to the Session Initiation Protocol (SIP) '
   <draft-ietf-sip-hitchhikers-guide-05.txt> as an Informational RFC

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send substantive comments to the
ietf@ietf.org mailing lists by 2008-10-10. Exceptionally, 
comments may be sent to iesg@ietf.org instead. In either case, please 
retain the beginning of the Subject line to allow automated sorting.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-hitchhikers-guide-05.txt


IESG discussion can be tracked via
https://datatracker.ietf.org/public/pidtracker.cgi?command=view_id&dTag=14916&rfc_flag=0

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 10:11:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A09E23A686D;
	Fri, 26 Sep 2008 10:11:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id E07493A686D
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 10:11:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SvmDTWMxSBeZ for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 10:11:04 -0700 (PDT)
Received: from TheWorld.com (pcls4.std.com [192.74.137.84])
	by core3.amsl.com (Postfix) with ESMTP id 0192A3A6800
	for <sip@ietf.org>; Fri, 26 Sep 2008 10:11:03 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.TheWorld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QH9Vv5026547
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:33 -0400
Received: from shell01.TheWorld.com (localhost [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QH9VTB34568416
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:31 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QH9QIu34937772;
	Fri, 26 Sep 2008 13:09:26 -0400 (EDT)
Date: Fri, 26 Sep 2008 13:09:26 -0400 (EDT)
Message-Id: <200809261709.m8QH9QIu34937772@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48DAD56E.90204@cisco.com> (pkyzivat@cisco.com)
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>
	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>
	<48DAD56E.90204@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   >    7.2.  UA Behavior to Set the 'handling' Parameter
   > 
   >    [...]
   > 
   >    If at least one of the body parts within a 'multipart/mixed' body has
   >    a 'handling' value of 'required', the UA MUST set the 'handling'
   >    parameter of the 'multipart/mixed' body to 'required'.  If all the
   >    body parts within a 'multipart/mixed' body have a 'handling' value of
   >    'optional', the UA MUST set the 'handling' parameter of the
   >    'multipart/mixed' body to 'optional'.

   Oh, duh. Yeah, I agree this is a problem.

   I agree the *useful* thing to do here is to have the handling be "local" 
   - only relevant if the container is being processed. That's if we have 
   the liberty to do that. There has been a desire not to diverge from the 
   mime/email interpretations of these things. I don't know what is the 
   case here.

The behavior of 'handling' is defined in RFC 3459, as Eric points out.
But interestingly, 3459 gives no guidance in regard to
multipart/mixed.  So I'd say that the I-D has freedom regarding
multipart/mixed.

   The key here for anyone sending *any* multipart/XYZ is that anyone 
   capable of processing a multipart/mixed will consider themselves capable 
   of supporting multipart/XYZ, as a multipart/mixed.

   So, creating a multipart/alternative, where the contained parts are:
   - text/plain
   - multipart/mixed
   - multipart/related

   isn't going to be very helpful. Anybody who supports multipart/mixed 
   will process the last part, not the second.

If the processor doesn't know it doesn't support multipart/related, it
will assess the last component to see if it can process it.  But the
processor may discover that it can't process the last component
(according to the rules for multipart/mixed), e.g., if the component
contains a component of a type that the processor doesn't understand
but the component has handling=required.

The key to my summary is that, in general, the processor must parse
the body and walk the body-part tree to obtain enough information to
determine which body-parts it will process.  It is not a one-pass
process.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 10:11:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5A86C3A6AED;
	Fri, 26 Sep 2008 10:11:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB1A828C159
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 10:11:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YZ8ODVWdYotr for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 10:11:08 -0700 (PDT)
Received: from TheWorld.com (pcls6.std.com [192.74.137.146])
	by core3.amsl.com (Postfix) with ESMTP id 4E8B03A6ADD
	for <sip@ietf.org>; Fri, 26 Sep 2008 10:11:08 -0700 (PDT)
Received: from shell.TheWorld.com (franl@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QH9a5v021422
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:38 -0400
Received: from shell01.TheWorld.com (localhost [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QH9a9w35016563
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:36 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QH9aqP35049493;
	Fri, 26 Sep 2008 13:09:36 -0400 (EDT)
Date: Fri, 26 Sep 2008 13:09:36 -0400 (EDT)
Message-Id: <200809261709.m8QH9aqP35049493@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48DAD784.1030104@cisco.com> (pkyzivat@cisco.com)
References: <200809231921.m8NJLtb633028321@shell01.TheWorld.com>	<48D9C822.4060905@cisco.com>
	<200809242223.m8OMN8tw33800637@shell01.TheWorld.com>
	<48DAD784.1030104@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   OK, I agree. Its really a bad idea to make a body part required if it is 
   to be referenced from a header that might not be supported.

If the header is not supported by the processor, then the body part is
effectively un-referenced.  The algorithm I wrote says what to do in
the various cases of that situation.

   What it doesn't seem possible to say is: "if you support the header (or 
   whatever) that contains a reference to this part, then you are also 
   required to support the type and disposition of the referenced part."

My assessment is that that requirement is created by marking the
referenced part handling=required.  E.g.:

	A multipart/mixed part can be processed if all of the components with
	handling 'required' can be processed, and if the processor can see a
	reference to each component with Content Disposition 'by-reference'
	and handling 'required'.

	A component that is referenced may not be processable by the
	processor, in which case if its handling is 'optional' the referenced
	component and the reference are both ignored, and if its handling is
	'required' the multipart part is deemed not processable.  (How such a
	reference is to be ignored is determined by the semantics of the
	component.)

   Theoretically that could be a problem, though in practice it might not 
   be. Hopefully, if you process the header, and can't process the 
   referenced body part, then there is some appropriate error message to 
   return.

I'm assuming that the processor can somehow "ignore" the reference.
But for completeness, we should allow that the processing context can
turn the broken reference into an error (which could force the choice
of a different body-part to process).

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 10:11:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E3B03A686D;
	Fri, 26 Sep 2008 10:11:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 901203A686D
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 10:11:56 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wdN0pxVB8c+E for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 10:11:55 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id 353CC3A6800
	for <sip@ietf.org>; Fri, 26 Sep 2008 10:11:55 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QH9koP023494
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:48 -0400
Received: from shell01.TheWorld.com (localhost [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QH9k4f35079267
	for <sip@ietf.org>; Fri, 26 Sep 2008 13:09:46 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QH9kUi35046697;
	Fri, 26 Sep 2008 13:09:46 -0400 (EDT)
Date: Fri, 26 Sep 2008 13:09:46 -0400 (EDT)
Message-Id: <200809261709.m8QH9kUi35046697@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48DC2E9B.4090607@cisco.com> (pkyzivat@cisco.com)
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>
	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>
	<48DAD56E.90204@cisco.com>
	<2A855E27-7EF3-48EE-B66C-EDDCFFEC27A5@standardstrack.com>
	<48DC2E9B.4090607@cisco.com>
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   > Section 12.1 makes it clear that for multipart/alternative, only the 
   > handling property for the selected alternative matters.

   So you are saying that a multipart/alternative may have several parts 
   with handling=required, and that I only have to be capable of handling 
   the part I choose?

RFC 3459 uses multiparts in a somewhat different way that SIP does.
In SIP, the I-D suggests that components of a multipart/alternative
should have handling=optional and that the processor should ignore the
handling parameter:

	The UA SHOULD also set the 'handling' parameter of all the
	body part within the 'multipart/alternative' to 'optional'
	(the receiver will process the body parts based on the
	handling parameter of the 'multipart/alternative' body; the
	receiver will ignore the handling parameters of the body
	parts).

	The receiver SHOULD ignore the handling parameters of the body
	parts within the 'multipart/ alternative'.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 11:16:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3C9593A6AED;
	Fri, 26 Sep 2008 11:16:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id EC9E63A6810;
	Fri, 26 Sep 2008 11:15:59 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5 tests=[AWL=0.300, 
	BAYES_00=-2.599, HTML_MESSAGE=0.001, SPF_PASS=-0.001]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wmDp9Mwqq7PE; Fri, 26 Sep 2008 11:15:58 -0700 (PDT)
Received: from nostrum.com (nostrum-pt.tunnel.tserv2.fmt.ipv6.he.net
	[IPv6:2001:470:1f03:267::2])
	by core3.amsl.com (Postfix) with ESMTP id 5A47B3A68D2;
	Fri, 26 Sep 2008 11:15:58 -0700 (PDT)
Received: from dn3-232.estacado.net (vicuna-alt.estacado.net [75.53.54.121])
	(authenticated bits=0)
	by nostrum.com (8.14.3/8.14.1) with ESMTP id m8QIG57b081642
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NO);
	Fri, 26 Sep 2008 13:16:06 -0500 (CDT)
	(envelope-from rjsparks@nostrum.com)
Message-Id: <E30A81B1-CB3F-4C19-9427-1AA4FE2194A3@nostrum.com>
From: Robert Sparks <rjsparks@nostrum.com>
To: Robert Sparks <rjsparks@nostrum.com>
In-Reply-To: <3A760625-C47C-4BEB-84B2-EB90C134F88D@nostrum.com>
Mime-Version: 1.0 (Apple Message framework v926)
Date: Fri, 26 Sep 2008 13:16:05 -0500
References: <3A760625-C47C-4BEB-84B2-EB90C134F88D@nostrum.com>
X-Mailer: Apple Mail (2.926)
Received-SPF: pass (nostrum.com: 75.53.54.121 is authenticated by a trusted
	mechanism)
X-Virus-Scanned: ClamAV 0.94/8344/Fri Sep 26 10:34:14 2008 on
	shaman.nostrum.com
X-Virus-Status: Clean
Cc: "SIP@ietf.org List" <sip@ietf.org>, sipping LIST <sipping@ietf.org>,
	simple mailing list <simple@ietf.org>,
	"sip-implementors@lists.cs.columbia.edu Implementors"
	<sip-implementors@lists.cs.columbia.edu>
Subject: [Sip] SIPit registration closes next friday
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0029830033=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0029830033==
Content-Type: multipart/alternative; boundary=Apple-Mail-13--667369950


--Apple-Mail-13--667369950
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Registration for SIPit 23 closes this Friday October 3.

If you are planning to attend and have not yet registered, please do  
so as soon as possible.

SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI  
with technical support from France-Telecom Orange Labs.

Registration is 490Euro per participant. More information and links to  
registration are available at
http://www.sipit.net
and
http://www.etsi.org/plugtests/SIPit/SIPit.htm

Thanks,

RjS


--Apple-Mail-13--667369950
Content-Type: text/html;
	charset=US-ASCII
Content-Transfer-Encoding: 7bit

<html><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div>Registration for SIPit 23 closes this Friday October 3.&nbsp;</div><div><br></div><div>If you are planning to attend and have not yet registered, please do so as soon as possible.</div><div><br></div>SIPit 23 will be held in Lannion, France October 13-17, hosted by ETSI with technical support from France-Telecom Orange Labs.<br><br>Registration is 490Euro per participant.&nbsp;More information and links to registration are available at<br><a href="http://www.sipit.net/">http://www.sipit.net</a><br>and<br><a href="http://www.etsi.org/plugtests/SIPit/SIPit.htm">http://www.etsi.org/plugtests/SIPit/SIPit.htm</a><br><br>Thanks,<br><br>RjS</div></div><br></body></html>
--Apple-Mail-13--667369950--

--===============0029830033==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0029830033==--


From sip-bounces@ietf.org  Fri Sep 26 14:08:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A95D53A6A00;
	Fri, 26 Sep 2008 14:08:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 844503A6A00
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 14:08:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id QN-AElIPpMze for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 14:08:07 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id ACDD63A689A
	for <sip@ietf.org>; Fri, 26 Sep 2008 14:08:07 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QL8AMZ015637
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:12 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QL895f35231232
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:10 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QL87wI35234185;
	Fri, 26 Sep 2008 17:08:07 -0400 (EDT)
Date: Fri, 26 Sep 2008 17:08:07 -0400 (EDT)
Message-Id: <200809262108.m8QL87wI35234185@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <487B0EEC.806@ericsson.com> (Gonzalo.Camarillo@ericsson.com)
References: <D990FC93-11C1-409E-8CBE-CACE851A5138@softarmor.com>	<486BE613.7090909@nostrum.com>
	<486DD09D.2030608@ericsson.com> <486E3B03.9000003@nostrum.com>
	<486E6BEB.3070304@cisco.com> <48723DE8.5060004@nostrum.com>
	<48724C51.10303@cisco.com> <48725EE9.60503@nostrum.com>
	<487269DD.3060909@cisco.com> <48766C64.5060900@ericsson.com>
	<48769885.1020208@nostrum.com> <48769EBD.2070507@cisco.com>
	<487B0EEC.806@ericsson.com>
Subject: Re: [Sip] WGLC for draft-ietf-sip-body-handling
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Gonzalo Camarillo <Gonzalo.Camarillo@ericsson.com>

   In any case, if we decided to use the disposition types of the body 
   parts in a multipart/related instead of ignoring them, we would need to 
   understand what would be the difference between:

   - a multipart/mixed where body parts are treated according to their 
   disposition types, and

   - a multipart/related where body parts would also be treated according 
   to their disposition types.

   If we do not explicitly explain what the difference in processing is, 
   implementers are going to be confused.

My understanding is that with multipart/mixed, all components are
processed if they can be, whereas with multipart/related, only the
specified root component is processed automatically, and the remainder
are processed if they are referenced (directly or indirectly) via the
root component.  Similarly, the processing context of a component of a
multipart/mixed part is inherited from the part, whereas the
processing context of a non-root component of a multipart/related is
provided by the reference that causes it to be processed.

And the disposition types of the components and their containing parts
are part of the processing context, but the meaning of those is
defined outside the scope of this document.

I would expect the disposition types of the components of a
multipart/mixed to all be the same, but maybe there are uses for
having them differ.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 14:09:53 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0710C3A68AA;
	Fri, 26 Sep 2008 14:09:53 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1DA483A692F
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 14:09:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 78QtCgU+p7c4 for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 14:09:51 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id 379053A689A
	for <sip@ietf.org>; Fri, 26 Sep 2008 14:09:51 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QL8Vmt016173
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:33 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QL8VpY34952844
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:31 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QL8VIB30716080;
	Fri, 26 Sep 2008 17:08:31 -0400 (EDT)
Date: Fri, 26 Sep 2008 17:08:31 -0400 (EDT)
Message-Id: <200809262108.m8QL8VIB30716080@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>
	(drage@alcatel-lucent.com)
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>
	<48898492.7010601@ericsson.com>
	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
   > > 3)	Section 4.3: 
   > > 
   > >    UAs SHOULD avoid unnecessarily nesting body parts because
   > >    doing so would, unnecessarily, make processing the body more
   > >    laborious for the receiver.
   > > 
   > > I had some problem with this because it seems an impossible
   > > statement to determine conformance to. Is the RFC 2119 language
   > > therefore appropriate.
   > 
   > Well, you are right that the "unnecessarily" makes it sound 
   > like a motherhood-and-apple-pie statement. But you could 
   > actually check conformance to it. If an implementation nests 
   > a body part without having a specific reason to do it, then 
   > it is not conformant. Any implementer should know why he or 
   > she is doing something. So, I would like to keep the 
   > capitalized SHOULD. In any case, if you have a strong opinion 
   > on this, it would not be a big deal for me to make the 
   > statement non-normative instead.

   The key thing we need to do is write a statement where we clearly
   understand whether the implementor has chosen not to apply the
   constraint.

   Is it possible to write "SHOULD NOT nest" in this case, and then
   give some examples of where we might expect that to be broken. That
   then gives a clear test of conformance to the requirement, and the
   assessor of conformance can then decide whether breaking the SHOULD
   was acceptable or not.

Why don't we say "UAs SHOULD minimize nesting of body parts."?

    minimize --verb
	1. to reduce to the smallest possible amount or degree.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Fri Sep 26 14:09:54 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9187B3A6A65;
	Fri, 26 Sep 2008 14:09:54 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 9380E3A689A
	for <sip@core3.amsl.com>; Fri, 26 Sep 2008 14:09:52 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SxKjIIzgve1M for <sip@core3.amsl.com>;
	Fri, 26 Sep 2008 14:09:51 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id A9FE23A68AA
	for <sip@ietf.org>; Fri, 26 Sep 2008 14:09:51 -0700 (PDT)
Received: from shell.TheWorld.com (franl@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8QL8fuV016383
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:43 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8QL8fZ033432903
	for <sip@ietf.org>; Fri, 26 Sep 2008 17:08:41 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8QL8fpj34800452;
	Fri, 26 Sep 2008 17:08:41 -0400 (EDT)
Date: Fri, 26 Sep 2008 17:08:41 -0400 (EDT)
Message-Id: <200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <4889F09B.8050407@cisco.com> (pkyzivat@cisco.com)
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>	<48898492.7010601@ericsson.com>
	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>
	<4889F09B.8050407@cisco.com>
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   > But thinking about this, I suspect we define no semantics
   > anywhere (please correct me if I am wrong) about what nesting
   > means. Does a nested body require different interpretation to a
   > multipart body, and if so, how do I discover what that difference
   > is. All the nesting would seem to tell me is that there might be
   > a different relationship, but it does not tell me what that
   > relationship is.

   I agree that the current loose wording leaves something to be desired.
   I just don't know how to fix it.

ISTM that the solution to the problem of nesting is to enunciate a set
of recursive rules for processing an arbitary tree of nested body
parts.

The advantage of recursive rules is that stating rules recursively
acutally reduces the number of interpretations that seem reasonably at
first glance -- it helps one identify plausible solutions faster.  If
one looks at specific situations, it's very easy to state rules that
can't be properly generalized -- and such rules usually lead to
trouble (or at least, non-extensibility) later.

   Let me give a concrete example:

   Is an INVITE valid if it contains a body of:

	   multipart/mixed {
	      multipart/mixed {
		 multipart/mixed {
		    application/sdp
	   }}}

   Must the UAS keep unwrapping multiparts, looking for its SDP?

It seems that a multipart/mixed means "unwrap and process these body
parts".  Hence, the UAS must continue until it gets to the "leaf" body
parts.

If you think about it, there does not appear to be any other
processing rule that makes sense.

   And while we are discussing weird cases, what about:

	   multipart/mixed {
	      multipart/mixed {
		 multipart/mixed {
		    application/sdp-1
		 }
		 application/sdp-2
	   }}

   If the latter is legal at all, which sdp is the offer? And what should 
   happen to the other one?

This is, pretty much, equivalent to:

	   multipart/mixed {
	      application/sdp-1
              application/sdp-2
	   }

So the question is "If the sender provides us with two SDP bodies,
what should we do?"

Given that we envision a multipart/mixed might contain two
descriptions of the session in two different languages (with different
MIME types), it seems that a UA could either:

- pick one SDP and ignore the other, or
- reject the body as invalid (because two descriptions have the same type)

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Sun Sep 28 18:32:01 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D394F3A6894;
	Sun, 28 Sep 2008 18:32:01 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5182C3A6894
	for <sip@core3.amsl.com>; Sun, 28 Sep 2008 18:32:00 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.299
X-Spam-Level: 
X-Spam-Status: No, score=-2.299 tagged_above=-999 required=5 tests=[AWL=0.300, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KWjLLuAYNj85 for <sip@core3.amsl.com>;
	Sun, 28 Sep 2008 18:31:59 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 72EF03A67AA
	for <sip@ietf.org>; Sun, 28 Sep 2008 18:31:59 -0700 (PDT)
Received: from [75.68.119.237] (port=60306 helo=[192.168.15.103])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1Kk7cM-0000F2-GW; Sun, 28 Sep 2008 18:32:07 -0700
Message-Id: <5FA4450F-1739-41ED-936A-78DA5EC32749@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Dale.Worley@comcast.net
In-Reply-To: <200809262108.m8QL8VIB30716080@shell01.TheWorld.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Sun, 28 Sep 2008 21:32:11 -0400
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>
	<48898492.7010601@ericsson.com>
	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>
	<200809262108.m8QL8VIB30716080@shell01.TheWorld.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0521472169=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0521472169==
Content-Type: multipart/signed; boundary=Apple-Mail-282--468403769; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-282--468403769
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Because it is still missing the "SHOULD minimize nesting, unless X".  
What is the sensible X guidance to give?

On Sep 26, 2008, at 5:08 PM, Dale.Worley@comcast.net wrote:

>   From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
>>> 3)	Section 4.3:
>>>
>>>   UAs SHOULD avoid unnecessarily nesting body parts because
>>>   doing so would, unnecessarily, make processing the body more
>>>   laborious for the receiver.
>>>
>>> I had some problem with this because it seems an impossible
>>> statement to determine conformance to. Is the RFC 2119 language
>>> therefore appropriate.
>>
>> Well, you are right that the "unnecessarily" makes it sound
>> like a motherhood-and-apple-pie statement. But you could
>> actually check conformance to it. If an implementation nests
>> a body part without having a specific reason to do it, then
>> it is not conformant. Any implementer should know why he or
>> she is doing something. So, I would like to keep the
>> capitalized SHOULD. In any case, if you have a strong opinion
>> on this, it would not be a big deal for me to make the
>> statement non-normative instead.
>
>   The key thing we need to do is write a statement where we clearly
>   understand whether the implementor has chosen not to apply the
>   constraint.
>
>   Is it possible to write "SHOULD NOT nest" in this case, and then
>   give some examples of where we might expect that to be broken. That
>   then gives a clear test of conformance to the requirement, and the
>   assessor of conformance can then decide whether breaking the SHOULD
>   was acceptable or not.
>
> Why don't we say "UAs SHOULD minimize nesting of body parts."?
>
>    minimize --verb
> 	1. to reduce to the smallest possible amount or degree.
>
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-282--468403769
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjkwMTMyMTJaMCMGCSqGSIb3
DQEJBDEWBBS9DG95HF+jZ3q9U9ofou2ZFjZ2ITCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQAVIJimbmP/XQ8aHJ25Ac9VzD9lxJYdAuym6Y5eKJfVZFkT
Sqdfn7rgkEb12ptliVkZZKKs5jjvXob/z3HJgceBpM7SuUZs+rwZC7YyzvKJPmmwmPJKz+IDVSbC
p68fV8TnFbrzi5sN3WZVO16Mei6qj9k9X6MRA8tdMsgsGBPQapBWIZhlsbVup0ktGnXaYhHtYEQ/
BEPR/wCxohg+s+0pXsq7TMeYU62LqTZz20g+edR/Dk8ZGxBGofrET9HKgIzNShKOnuhpzXYJE3tA
+74aMPktiiTrju0qIENE2CbsPM8X5jPyKEx7BmtrUIudSrs+lEJU8OxiPU5d+B7hp6xZAAAAAAAA

--Apple-Mail-282--468403769--

--===============0521472169==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0521472169==--


From sip-bounces@ietf.org  Sun Sep 28 18:38:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4DE603A681B;
	Sun, 28 Sep 2008 18:38:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 1E2F628C0D7
	for <sip@core3.amsl.com>; Sun, 28 Sep 2008 18:38:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.449
X-Spam-Level: 
X-Spam-Status: No, score=-2.449 tagged_above=-999 required=5 tests=[AWL=0.150, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9FLy00pC4iJg for <sip@core3.amsl.com>;
	Sun, 28 Sep 2008 18:38:08 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id 38AD43A680C
	for <sip@ietf.org>; Sun, 28 Sep 2008 18:38:08 -0700 (PDT)
Received: from c-75-68-119-237.hsd1.nh.comcast.net ([75.68.119.237]:60606
	helo=[192.168.15.100])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1Kk7iJ-0000qA-0E; Sun, 28 Sep 2008 18:38:15 -0700
Message-Id: <0968EFC0-C9BF-4BB3-BDFB-77D9069A1F8A@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Dale.Worley@comcast.net
In-Reply-To: <200809262108.m8QL8VIB30716080@shell01.TheWorld.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Sun, 28 Sep 2008 21:36:41 -0400
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>
	<48898492.7010601@ericsson.com>
	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>
	<200809262108.m8QL8VIB30716080@shell01.TheWorld.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0107185631=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0107185631==
Content-Type: multipart/signed; boundary=Apple-Mail-285--468134210; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-285--468134210
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Because it is still missing the "SHOULD minimize nesting, unless X".  
What is the sensible X guidance to give?

On Sep 26, 2008, at 5:08 PM, Dale.Worley@comcast.net wrote:

>   From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
>>> 3)	Section 4.3:
>>>
>>>   UAs SHOULD avoid unnecessarily nesting body parts because
>>>   doing so would, unnecessarily, make processing the body more
>>>   laborious for the receiver.
>>>
>>> I had some problem with this because it seems an impossible
>>> statement to determine conformance to. Is the RFC 2119 language
>>> therefore appropriate.
>>
>> Well, you are right that the "unnecessarily" makes it sound
>> like a motherhood-and-apple-pie statement. But you could
>> actually check conformance to it. If an implementation nests
>> a body part without having a specific reason to do it, then
>> it is not conformant. Any implementer should know why he or
>> she is doing something. So, I would like to keep the
>> capitalized SHOULD. In any case, if you have a strong opinion
>> on this, it would not be a big deal for me to make the
>> statement non-normative instead.
>
>   The key thing we need to do is write a statement where we clearly
>   understand whether the implementor has chosen not to apply the
>   constraint.
>
>   Is it possible to write "SHOULD NOT nest" in this case, and then
>   give some examples of where we might expect that to be broken. That
>   then gives a clear test of conformance to the requirement, and the
>   assessor of conformance can then decide whether breaking the SHOULD
>   was acceptable or not.
>
> Why don't we say "UAs SHOULD minimize nesting of body parts."?
>
>    minimize --verb
> 	1. to reduce to the smallest possible amount or degree.
>
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-285--468134210
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjkwMTM2NDJaMCMGCSqGSIb3
DQEJBDEWBBS9DG95HF+jZ3q9U9ofou2ZFjZ2ITCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQBD+yGoYdcOOmDpJw7e/QtMdMoeR27KcrWkXjaVYY1PMC6j
kXfy8vMObLsYu2lrZXkXDq9jf3ZsHZcZGJDTmjrSjXCiTaFACbm0oDIFjPQ8Y37ZB16pI5rhXq6q
Y79/1RGuMH9VhnpZG4r3L3dmIiakNleZBigihPymbPgJ3L+/nXL5MZONEYFnF9Gjn7EPuufq+eqt
//KjS52l176r6Q83CaQnjU1VwZxsDCClr1sWFA81UmPkE4uTIJ0n/U9xqO60nuultsIwl3xntNDa
xjf2i8+REjkNIu/uI4hP41pRWX75FbJ+oxJ0gyU+3Dn+SqZXI0ml7IkEdJgYvfPvmvtYAAAAAAAA

--Apple-Mail-285--468134210--

--===============0107185631==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0107185631==--


From sip-bounces@ietf.org  Sun Sep 28 23:26:06 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 25ADA3A6AC0;
	Sun, 28 Sep 2008 23:26:06 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5BDF13A6A9A
	for <sip@core3.amsl.com>; Sun, 28 Sep 2008 23:26:04 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.349
X-Spam-Level: 
X-Spam-Status: No, score=-2.349 tagged_above=-999 required=5
	tests=[AWL=-0.350, BAYES_00=-2.599, J_CHICKENPOX_25=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Fc32WEpoSVwz for <sip@core3.amsl.com>;
	Sun, 28 Sep 2008 23:26:03 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id 566013A69C0
	for <sip@ietf.org>; Sun, 28 Sep 2008 23:26:02 -0700 (PDT)
Received: from demuprx016.emea.nsn-intra.net ([10.150.129.55])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8T6PnZc020061
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Mon, 29 Sep 2008 08:25:49 +0200
Received: from cz2cbh5c ([10.122.55.166])
	by demuprx016.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8T6Pmc0015381; Mon, 29 Sep 2008 08:25:49 +0200
From: "Sedlacek Ivo" <ivo.sedlacek.ext@nsn.com>
To: "'ext Paul Kyzivat'" <pkyzivat@cisco.com>, "'SIP IETF'" <sip@ietf.org>
References: <00ed01c91a4e$532ae0a0$a674f2a3@ww300.siemens.net>	<48D3962D.6030007@cisco.com>	<011401c91a51$82fea750$a674f2a3@ww300.siemens.net>	<FC1A1203-CBE0-40B6-A47F-FAC1BE5BD893@standardstrack.com>
	<009f01c91c93$2d7bad20$a674f2a3@ww300.siemens.net>
	<48D8746D.8090202@cisco.com>
	<008001c91d47$4b40c7f0$a674f2a3@ww300.siemens.net>
	<48D90E5C.8060006@cisco.com>
Date: Mon, 29 Sep 2008 08:25:53 +0200
Message-ID: <006301c921fc$39a54f20$a674f2a3@ww300.siemens.net>
MIME-Version: 1.0
X-Mailer: Microsoft Office Outlook 11
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.3350
In-Reply-To: <48D90E5C.8060006@cisco.com>
Thread-Index: AckdkwPsoZCq5420T4mlymnrXZwPrwAdFx1A
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080929082549-21EF0BB0-700A4DC3/0-0/0-15
X-purgate-size: 1703/0
Subject: Re: [Sip] [sip] extensions of "handling"
	parameter	of	Content-Disposition header
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I would like to thank everyone for the opinions. I will consider all of that
in future work.

Kind regards

Ivo Sedlacek
Siemens
PSE CZ TMM MMA8
phone: +420 5 3877 6532
email: ivo.sedlacek.ext@nsn.com, ivo.sedlacek@siemens.com

Mailcode: tL3PbjBL

-----Original Message-----
From: ext Paul Kyzivat [mailto:pkyzivat@cisco.com] =

Sent: 23. z=E1=F8=ED 2008 17:42
To: Sedlacek Ivo
Cc: 'ext Eric Burger'; 'SIP IETF'
Subject: Re: [Sip] [sip] extensions of "handling" parameter of
Content-Disposition header



Sedlacek Ivo wrote:
> Hello,
> =

> see further explanation below.

> There is a SIP based multiparty conference with a focus - every
participant
> is connected using a SIP dialog to a central focus, which mixes/switches
> Media sent by the participants.
> One of the participants wants the focus to fetch e.g. a picture / an audio
> clip from an HTTP server / an RTSP server and play it to the conference
> participants using their media streams negotiated in SIP dialogs.
> Hope this makes this use case clearer.

> As mentioned above - by "sharing the resource"  I meant the focus is
> fetching the picture / audio clip from the HTTP server / the RTSP server
and
> distribute it using the MSRP / MSRP media streams agreed in the SIP
sessions
> to the participants.

This sounds like a desire to have the conference mixer do something =

special. As such, something around mediactl might be appropriate.

Or, it might be viewed as introducing another sort of participant into =

the conference. Perhaps this could be done by sending a REFER to the =

focus, with a URL for the resource in the Refer-To header.

	Thanks,
	Paul

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 07:47:23 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 427953A69BF;
	Mon, 29 Sep 2008 07:47:23 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 4877E3A698A
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 07:47:22 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 21su+Pv8t+UQ for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 07:47:21 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 45C453A67B5
	for <sip@ietf.org>; Mon, 29 Sep 2008 07:47:21 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id 54A2133AA63; Mon, 29 Sep 2008 17:47:40 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18656.60044.302965.535846@harjus.tutpro.com>
Date: Mon, 29 Sep 2008 17:47:40 +0300
To: sip@ietf.org
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Subject: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

how can Bob's UA in example 9.1 of outbound i-d receive the NOTIFY
request sent by EP1 if Bob's UA is behind firewall that does not allow
EP1 to setup a new TCP connection to Bob's UA?

is it described somewhere that in this kind of situation EP1 has to
re-use the SUBSCRIBE TCP connection and that Bob's UA should not tear it
down so that it can be re-used?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 08:43:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 92D0628C0DE;
	Mon, 29 Sep 2008 08:43:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D92E228C0DE
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 08:43:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hKQfqC5C8pzg for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 08:43:28 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 9E34C3A6B12
	for <sip@ietf.org>; Mon, 29 Sep 2008 08:43:28 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,332,1220227200"; d="scan'208";a="22600745"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 29 Sep 2008 15:43:22 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8TFhM8j024541; 
	Mon, 29 Sep 2008 11:43:22 -0400
Received: from xbh-rtp-211.amer.cisco.com (xbh-rtp-211.cisco.com
	[64.102.31.102])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8TFhMwu005416;
	Mon, 29 Sep 2008 15:43:22 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-211.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 11:43:22 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 11:43:21 -0400
Message-ID: <48E0F79B.8090402@cisco.com>
Date: Mon, 29 Sep 2008 11:43:23 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>	<48898492.7010601@ericsson.com>	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>	<4889F09B.8050407@cisco.com>
	<200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
In-Reply-To: <200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
X-OriginalArrivalTime: 29 Sep 2008 15:43:21.0733 (UTC)
	FILETIME=[1A15CB50:01C9224A]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3691; t=1222703002;
	x=1223567002; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comments=20on=20draft-ietf-sip-
	body-handling-02 |Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=lImPlgyAYEEceuU5qQB0DQSsh12miZYLlHiznU74xfY=;
	b=bdadj56tQefuL4MfMVDxpQcTNxrqWYfmuDj6AqAyAjtwPFxd2DjTMQZU7w
	q0i+8IE89nvrhEodTQaqfydhbkDCQlVLEGDNqd1VCThdO8nYNCMk9Y3gdPo3
	h8/Imk7XpJ;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I agree it would be straightforward to define a rule that says one must 
recursively unwrap all multipart/mixed bodies in order to find other 
parts to process. But we ought to think if we really want to do that.

Potentially this could introduce a lot of extra processing. Its 
especially a problem if there are middle boxes that want to process SDP. 
They don't know if a given message contains SDP at all. And they perhaps 
don't want to process anything *except* SDP. But they will be forced to 
recursively open all the mixed parts to determine if there is an sdp for 
them.

(Or maybe this is a good thing because it will discourage middle boxes 
from looking at sdp.)

	Thanks,
	Paul

Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    > But thinking about this, I suspect we define no semantics
>    > anywhere (please correct me if I am wrong) about what nesting
>    > means. Does a nested body require different interpretation to a
>    > multipart body, and if so, how do I discover what that difference
>    > is. All the nesting would seem to tell me is that there might be
>    > a different relationship, but it does not tell me what that
>    > relationship is.
> 
>    I agree that the current loose wording leaves something to be desired.
>    I just don't know how to fix it.
> 
> ISTM that the solution to the problem of nesting is to enunciate a set
> of recursive rules for processing an arbitary tree of nested body
> parts.
> 
> The advantage of recursive rules is that stating rules recursively
> acutally reduces the number of interpretations that seem reasonably at
> first glance -- it helps one identify plausible solutions faster.  If
> one looks at specific situations, it's very easy to state rules that
> can't be properly generalized -- and such rules usually lead to
> trouble (or at least, non-extensibility) later.
> 
>    Let me give a concrete example:
> 
>    Is an INVITE valid if it contains a body of:
> 
> 	   multipart/mixed {
> 	      multipart/mixed {
> 		 multipart/mixed {
> 		    application/sdp
> 	   }}}
> 
>    Must the UAS keep unwrapping multiparts, looking for its SDP?
> 
> It seems that a multipart/mixed means "unwrap and process these body
> parts".  Hence, the UAS must continue until it gets to the "leaf" body
> parts.
> 
> If you think about it, there does not appear to be any other
> processing rule that makes sense.
> 
>    And while we are discussing weird cases, what about:
> 
> 	   multipart/mixed {
> 	      multipart/mixed {
> 		 multipart/mixed {
> 		    application/sdp-1
> 		 }
> 		 application/sdp-2
> 	   }}
> 
>    If the latter is legal at all, which sdp is the offer? And what should 
>    happen to the other one?
> 
> This is, pretty much, equivalent to:
> 
> 	   multipart/mixed {
> 	      application/sdp-1
>               application/sdp-2
> 	   }
> 
> So the question is "If the sender provides us with two SDP bodies,
> what should we do?"
> 
> Given that we envision a multipart/mixed might contain two
> descriptions of the session in two different languages (with different
> MIME types), it seems that a UA could either:
> 
> - pick one SDP and ignore the other, or
> - reject the body as invalid (because two descriptions have the same type)
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 09:12:27 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 905F43A6B55;
	Mon, 29 Sep 2008 09:12:27 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id 476413A69B0; Mon, 29 Sep 2008 09:12:26 -0700 (PDT)
X-idtracker: yes
To: IETF-Announce <ietf-announce@ietf.org> 
From: The IESG <iesg-secretary@ietf.org>
Message-Id: <20080929161226.476413A69B0@core3.amsl.com>
Date: Mon, 29 Sep 2008 09:12:26 -0700 (PDT)
Cc: sip@ietf.org
Subject: [Sip] Last Call: draft-ietf-sip-media-security-requirements
 (Requirements and Analysis of Media Security Management Protocols) to
 Informational RFC
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
Reply-To: ietf@ietf.org
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has received a request from the Session Initiation Protocol WG 
(sip) to consider the following document:

- 'Requirements and Analysis of Media Security Management Protocols '
   <draft-ietf-sip-media-security-requirements-07.txt> as an Informational RFC

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send substantive comments to the
ietf@ietf.org mailing lists by 2008-10-13. Exceptionally, 
comments may be sent to iesg@ietf.org instead. In either case, please 
retain the beginning of the Subject line to allow automated sorting.

The file can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-media-security-requirements-07.txt


IESG discussion can be tracked via
https://datatracker.ietf.org/public/pidtracker.cgi?command=view_id&dTag=16466&rfc_flag=0

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 09:32:41 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3F6153A693C;
	Mon, 29 Sep 2008 09:32:41 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A59D83A68F6
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 09:32:39 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2ipHeAcfoJUD for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 09:32:35 -0700 (PDT)
Received: from zrtps0kn.nortel.com (zrtps0kn.nortel.com [47.140.192.55])
	by core3.amsl.com (Postfix) with ESMTP id 947A43A693C
	for <sip@ietf.org>; Mon, 29 Sep 2008 09:32:35 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zrtps0kn.nortel.com (Switch-2.2.6/Switch-2.2.0) with ESMTP id
	m8TGWjV13319; Mon, 29 Sep 2008 16:32:45 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 29 Sep 2008 11:32:26 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18656.60044.302965.535846@harjus.tutpro.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
Thread-Index: AckiQra3QWo1qnfBTUG/bgsqPYyGjQADYbQQ
References: <18656.60044.302965.535846@harjus.tutpro.com>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>, <sip@ietf.org>
Subject: Re: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Yes, it's there.

SUBSCRIBE creates a dialog which is used for the NOTIFY. So it's no
different than INVITE-created mid-dialog requests.

The specific text covering this is located here:

Section 4.3 states (UA procedures):
   If the UAC is sending a dialog-forming request, and wants all
   subsequent requests in the dialog to arrive over the same flow, the
   UAC adds an 'ob' parameter to its Contact header.  Typically this is
   desirable, but it is not necessary for example if the Contact is a
   GRUU [I-D.ietf-sip-gruu].  The flow used for the request is typically
   the same flow the UA registered over, but it could be a new flow, for
   example the initial subcription dialog for the configuration
   framework [I-D.ietf-sipping-config-framework] needs to exist before
   registration.

Then, section 5.3.2 (proxy procedures):
   For mid-dialog requests to work with outbound UAs, the requests need
   to be forwarded over some valid flow to the appropriate UA instance.
   If the Edge Proxy receives an outgoing dialog-forming request, the
   Edge Proxy can use the presence of the ob URI parameter in the UAC's
   Contact URI (or topmost Route header field) to determine if the Edge
   Proxy needs to assist in mid-dialog request routing.

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Juha Heinanen
> Sent: Monday, September 29, 2008 07:48
> To: sip@ietf.org
> Subject: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
> 
> how can Bob's UA in example 9.1 of outbound i-d receive the 
> NOTIFY request sent by EP1 if Bob's UA is behind firewall 
> that does not allow
> EP1 to setup a new TCP connection to Bob's UA?
> 
> is it described somewhere that in this kind of situation EP1 
> has to re-use the SUBSCRIBE TCP connection and that Bob's UA 
> should not tear it down so that it can be re-used?
> 
> -- juha
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 10:01:11 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 44FE728C0EB;
	Mon, 29 Sep 2008 10:01:11 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3D5CB3A6A08
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 10:01:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id iusTDITj0w38 for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 10:01:06 -0700 (PDT)
Received: from taimen.tutpro.com (harjus.tutpro.com [192.98.100.3])
	by core3.amsl.com (Postfix) with ESMTP id 3725B3A68E1
	for <sip@ietf.org>; Mon, 29 Sep 2008 10:01:05 -0700 (PDT)
Received: by taimen.tutpro.com (Postfix, from userid 1000)
	id AA04433A666; Mon, 29 Sep 2008 20:01:10 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18657.2518.651908.902884@harjus.tutpro.com>
Date: Mon, 29 Sep 2008 20:01:10 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>
References: <18656.60044.302965.535846@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: sip@ietf.org
Subject: Re: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > Section 4.3 states (UA procedures):
 >    If the UAC is sending a dialog-forming request, and wants all
 >    subsequent requests in the dialog to arrive over the same flow, the
 >    UAC adds an 'ob' parameter to its Contact header.  Typically this is
 >    desirable, but it is not necessary for example if the Contact is a
 >    GRUU [I-D.ietf-sip-gruu].  

if contact is gruu, does it mean that 'ob' param is implicitly included?

 > Then, section 5.3.2 (proxy procedures):
 >    For mid-dialog requests to work with outbound UAs, the requests need
 >    to be forwarded over some valid flow to the appropriate UA instance.
 >    If the Edge Proxy receives an outgoing dialog-forming request, the
 >    Edge Proxy can use the presence of the ob URI parameter in the UAC's
 >    Contact URI (or topmost Route header field) to determine if the Edge
 >    Proxy needs to assist in mid-dialog request routing.

if there is no edge proxy, i.e., UA sends subscribe directly to a
presence server, then does this draft not apply and there is no
mechanism for the UA to indicate that it wants subscribe tcp connection
to be reused by presence server for notifies?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 10:55:09 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id A258B3A6AF4;
	Mon, 29 Sep 2008 10:55:09 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 0E1013A6AF4
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 10:55:08 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ehGLWketKyjr for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 10:55:07 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id E52B23A6981
	for <sip@ietf.org>; Mon, 29 Sep 2008 10:55:06 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,333,1220227200"; d="scan'208";a="22619873"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-1.cisco.com with ESMTP; 29 Sep 2008 17:54:56 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8THsuPS012389; 
	Mon, 29 Sep 2008 13:54:56 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8THsu6V026182;
	Mon, 29 Sep 2008 17:54:56 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 13:54:56 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 13:54:55 -0400
Message-ID: <48E11673.2020108@cisco.com>
Date: Mon, 29 Sep 2008 13:54:59 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809232006.m8NK619P33191730@shell01.TheWorld.com>	<48D97316.7070004@cisco.com>	<200809242222.m8OMMsla33849134@shell01.TheWorld.com>	<48DAD56E.90204@cisco.com>	<2A855E27-7EF3-48EE-B66C-EDDCFFEC27A5@standardstrack.com>	<48DC2E9B.4090607@cisco.com>
	<200809261709.m8QH9kUi35046697@shell01.TheWorld.com>
In-Reply-To: <200809261709.m8QH9kUi35046697@shell01.TheWorld.com>
X-OriginalArrivalTime: 29 Sep 2008 17:54:55.0995 (UTC)
	FILETIME=[7B6E94B0:01C9225C]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2241; t=1222710896;
	x=1223574896; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20draft-ietf-sip-body-handling-03
	|Sender:=20 |To:=20Dale.Worley@comcast.net;
	bh=sPoWHeVVt0H7IEl2bK43WKB1qixgLROp2obeBxNJ5zE=;
	b=Zch7Vxb4C/YsKJl7y488QL+gpTaDDtpaxSqrOrqhGoCyRGX7NpviP69iqI
	zoqHxyh6MJhfn24u+6Q/IE4/qZcQ3XFNUpi/60FdlAGwz1+ZnIT5YkIOmu0d
	lM/4Bf4K5n;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] draft-ietf-sip-body-handling-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Dale.Worley@comcast.net wrote:
>    From: Paul Kyzivat <pkyzivat@cisco.com>
> 
>    > Section 12.1 makes it clear that for multipart/alternative, only the 
>    > handling property for the selected alternative matters.
> 
>    So you are saying that a multipart/alternative may have several parts 
>    with handling=required, and that I only have to be capable of handling 
>    the part I choose?
> 
> RFC 3459 uses multiparts in a somewhat different way that SIP does.
> In SIP, the I-D suggests that components of a multipart/alternative
> should have handling=optional and that the processor should ignore the
> handling parameter:
> 
> 	The UA SHOULD also set the 'handling' parameter of all the
> 	body part within the 'multipart/alternative' to 'optional'
> 	(the receiver will process the body parts based on the
> 	handling parameter of the 'multipart/alternative' body; the
> 	receiver will ignore the handling parameters of the body
> 	parts).
> 
> 	The receiver SHOULD ignore the handling parameters of the body
> 	parts within the 'multipart/ alternative'.

Right. But the SHOULD without qualification suggests that somebody might 
do otherwise, and we don't know under what circumstances that might 
happen. So if somebody sets all the parts to handling=required, it seems 
that the handling of the unselected parts will still be ignored.

Suppose I want to send a MESSAGE, and I require that some form of the 
body be processed. I will offer it in two forms: text/enhanced and 
text/html. How do I encode that?

	C-T: multipart/alternative
	C-D: render;handling=required
		C-T: text/enhanced
		C-D: render;handling=optional
		===
		C-T: text/html
		C-D: render;handling=optional
or
	C-T: multipart/alternative
	C-D: render;handling=required
		C-T: text/enhanced
		C-D: render;handling=required
		===
		C-T: text/html
		C-D: render;handling=required

And if I don't support either of those text types, what error do I 
return? 415? In the first case it seems a little odd to return an error 
if I selected a part that is optional.

And if I didn't require either part to be understood, would I just 
change to handling=optional for the multipart/alternative itself?


_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 11:04:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 2B2073A6AD8;
	Mon, 29 Sep 2008 11:04:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AB7953A6AD8
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 11:04:27 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jgxph+k9Dmmy for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 11:04:23 -0700 (PDT)
Received: from zcars04e.nortel.com (zcars04e.nortel.com [47.129.242.56])
	by core3.amsl.com (Postfix) with ESMTP id A3DEC3A69ED
	for <sip@ietf.org>; Mon, 29 Sep 2008 11:04:23 -0700 (PDT)
Received: from zrc2hxm0.corp.nortel.com (zrc2hxm0.corp.nortel.com
	[47.103.123.71])
	by zcars04e.nortel.com (Switch-2.2.0/Switch-2.2.0) with ESMTP id
	m8TI1uN09007; Mon, 29 Sep 2008 18:01:56 GMT
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Mon, 29 Sep 2008 13:04:31 -0500
Message-ID: <1ECE0EB50388174790F9694F77522CCF197354D8@zrc2hxm0.corp.nortel.com>
In-Reply-To: <18657.2518.651908.902884@harjus.tutpro.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
Thread-Index: AckiVPsmiFarznwBTIK/03craMUXcwAAkmXQ
References: <18656.60044.302965.535846@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>
	<18657.2518.651908.902884@harjus.tutpro.com>
From: "Francois Audet" <audet@nortel.com>
To: "Juha Heinanen" <jh@tutpro.com>, "Cullen Jennings" <fluffy@cisco.com>,
	"Rohan Mahy" <rohan@ekabal.com>, "Jonathan Rosenberg" <jdrosen@cisco.com>
Cc: sip@ietf.org
Subject: Re: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

>  > Section 4.3 states (UA procedures):
>  >    If the UAC is sending a dialog-forming request, and wants all
>  >    subsequent requests in the dialog to arrive over the 
> same flow, the
>  >    UAC adds an 'ob' parameter to its Contact header.  
> Typically this is
>  >    desirable, but it is not necessary for example if the 
> Contact is a
>  >    GRUU [I-D.ietf-sip-gruu].  
> 
> if contact is gruu, does it mean that 'ob' param is 
> implicitly included?

I am not sure why this is worded like this. I was thinking that using 
a GRUU as a contact in a dialog-forming request would mandate that
requests sent to that Contact would be sent using the same flow, but
I see no such rule in draft-ietf-sip-gruu.

Cullen/Rohan/Jonathan?

>  > Then, section 5.3.2 (proxy procedures):
>  >    For mid-dialog requests to work with outbound UAs, the 
> requests need
>  >    to be forwarded over some valid flow to the appropriate 
> UA instance.
>  >    If the Edge Proxy receives an outgoing dialog-forming 
> request, the
>  >    Edge Proxy can use the presence of the ob URI parameter 
> in the UAC's
>  >    Contact URI (or topmost Route header field) to 
> determine if the Edge
>  >    Proxy needs to assist in mid-dialog request routing.
> 
> if there is no edge proxy, i.e., UA sends subscribe directly 
> to a presence server, then does this draft not apply and 
> there is no mechanism for the UA to indicate that it wants 
> subscribe tcp connection to be reused by presence server for notifies?

Maybe I'm misunderstanding the question, but this draft relies on an
outbound proxy. So, in this specific example, the configuration server
needs to have outbound proxy behavior otherwise you are correct, this
NOTIFY won't be delivered. It's kind of like the co-located registrar
and proxy described explicitly in the document, but for co-located
Config server and proxy.
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 12:00:42 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D03133A6B68;
	Mon, 29 Sep 2008 12:00:42 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id BB8D13A6B68
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 12:00:41 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.499
X-Spam-Level: 
X-Spam-Status: No, score=-2.499 tagged_above=-999 required=5 tests=[AWL=0.100, 
	BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OI+s5s0cK8da for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 12:00:39 -0700 (PDT)
Received: from gs19.inmotionhosting.com (gs19b.inmotionhosting.com
	[66.117.3.189]) by core3.amsl.com (Postfix) with ESMTP id C64F83A6B41
	for <sip@ietf.org>; Mon, 29 Sep 2008 12:00:26 -0700 (PDT)
Received: from [75.68.119.237] (port=61399 helo=[192.168.15.100])
	by gs19.inmotionhosting.com with esmtpsa (TLSv1:AES128-SHA:128)
	(Exim 4.68) (envelope-from <eburger@standardstrack.com>)
	id 1KkNyl-0000Bl-LQ; Mon, 29 Sep 2008 12:00:20 -0700
Message-Id: <1B19D41C-45C9-4784-A2AD-FA43A1623A80@standardstrack.com>
From: Eric Burger <eburger@standardstrack.com>
To: Paul Kyzivat <pkyzivat@cisco.com>
In-Reply-To: <48E0F79B.8090402@cisco.com>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Mon, 29 Sep 2008 15:00:21 -0400
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>	<48898492.7010601@ericsson.com>	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>	<4889F09B.8050407@cisco.com>
	<200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
	<48E0F79B.8090402@cisco.com>
X-Mailer: Apple Mail (2.929.2)
X-AntiAbuse: This header was added to track abuse,
	please include it with any abuse report
X-AntiAbuse: Primary Hostname - gs19.inmotionhosting.com
X-AntiAbuse: Original Domain - ietf.org
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - standardstrack.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0144006264=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


--===============0144006264==
Content-Type: multipart/signed; boundary=Apple-Mail-7--405514493; micalg=sha1; protocol="application/pkcs7-signature"


--Apple-Mail-7--405514493
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Either it's MIME or it's not.

By the time we work this out, SDP-NG might be real :-)

On Sep 29, 2008, at 11:43 AM, Paul Kyzivat wrote:

> I agree it would be straightforward to define a rule that says one  
> must recursively unwrap all multipart/mixed bodies in order to find  
> other parts to process. But we ought to think if we really want to  
> do that.
>
> Potentially this could introduce a lot of extra processing. Its  
> especially a problem if there are middle boxes that want to process  
> SDP. They don't know if a given message contains SDP at all. And  
> they perhaps don't want to process anything *except* SDP. But they  
> will be forced to recursively open all the mixed parts to determine  
> if there is an sdp for them.
>
> (Or maybe this is a good thing because it will discourage middle  
> boxes from looking at sdp.)
>
> 	Thanks,
> 	Paul
>
> Dale.Worley@comcast.net wrote:
>>   From: Paul Kyzivat <pkyzivat@cisco.com>
>>   > But thinking about this, I suspect we define no semantics
>>   > anywhere (please correct me if I am wrong) about what nesting
>>   > means. Does a nested body require different interpretation to a
>>   > multipart body, and if so, how do I discover what that difference
>>   > is. All the nesting would seem to tell me is that there might be
>>   > a different relationship, but it does not tell me what that
>>   > relationship is.
>>   I agree that the current loose wording leaves something to be  
>> desired.
>>   I just don't know how to fix it.
>> ISTM that the solution to the problem of nesting is to enunciate a  
>> set
>> of recursive rules for processing an arbitary tree of nested body
>> parts.
>> The advantage of recursive rules is that stating rules recursively
>> acutally reduces the number of interpretations that seem reasonably  
>> at
>> first glance -- it helps one identify plausible solutions faster.  If
>> one looks at specific situations, it's very easy to state rules that
>> can't be properly generalized -- and such rules usually lead to
>> trouble (or at least, non-extensibility) later.
>>   Let me give a concrete example:
>>   Is an INVITE valid if it contains a body of:
>> 	   multipart/mixed {
>> 	      multipart/mixed {
>> 		 multipart/mixed {
>> 		    application/sdp
>> 	   }}}
>>   Must the UAS keep unwrapping multiparts, looking for its SDP?
>> It seems that a multipart/mixed means "unwrap and process these body
>> parts".  Hence, the UAS must continue until it gets to the "leaf"  
>> body
>> parts.
>> If you think about it, there does not appear to be any other
>> processing rule that makes sense.
>>   And while we are discussing weird cases, what about:
>> 	   multipart/mixed {
>> 	      multipart/mixed {
>> 		 multipart/mixed {
>> 		    application/sdp-1
>> 		 }
>> 		 application/sdp-2
>> 	   }}
>>   If the latter is legal at all, which sdp is the offer? And what  
>> should    happen to the other one?
>> This is, pretty much, equivalent to:
>> 	   multipart/mixed {
>> 	      application/sdp-1
>>              application/sdp-2
>> 	   }
>> So the question is "If the sender provides us with two SDP bodies,
>> what should we do?"
>> Given that we envision a multipart/mixed might contain two
>> descriptions of the session in two different languages (with  
>> different
>> MIME types), it seems that a UA could either:
>> - pick one SDP and ignore the other, or
>> - reject the body as invalid (because two descriptions have the  
>> same type)
>> Dale
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


--Apple-Mail-7--405514493
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIGPTCCBjkw
ggUhoAMCAQICEC+VK1RLWxrF8KJZDR9k8p8wDQYJKoZIhvcNAQEFBQAwga4xCzAJBgNVBAYTAlVT
MQswCQYDVQQIEwJVVDEXMBUGA1UEBxMOU2FsdCBMYWtlIENpdHkxHjAcBgNVBAoTFVRoZSBVU0VS
VFJVU1QgTmV0d29yazEhMB8GA1UECxMYaHR0cDovL3d3dy51c2VydHJ1c3QuY29tMTYwNAYDVQQD
Ey1VVE4tVVNFUkZpcnN0LUNsaWVudCBBdXRoZW50aWNhdGlvbiBhbmQgRW1haWwwHhcNMDgwODEz
MDAwMDAwWhcNMDkwODEzMjM1OTU5WjCB4TE1MDMGA1UECxMsQ29tb2RvIFRydXN0IE5ldHdvcmsg
LSBQRVJTT05BIE5PVCBWQUxJREFURUQxRjBEBgNVBAsTPVRlcm1zIGFuZCBDb25kaXRpb25zIG9m
IHVzZTogaHR0cDovL3d3dy5jb21vZG8ubmV0L3JlcG9zaXRvcnkxHzAdBgNVBAsTFihjKTIwMDMg
Q29tb2RvIExpbWl0ZWQxFDASBgNVBAMTC0VyaWMgQnVyZ2VyMSkwJwYJKoZIhvcNAQkBFhplYnVy
Z2VyQHN0YW5kYXJkc3RyYWNrLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTF
RRoA4LgOACMFph0aomRC/UpqoA5C/d6DUTOvTMrYSEqkjwnU4zxDtBcHlcB4AxKAov00MYsUvEU4
loz7BHjfDjv76AIkcwu33VYQbzGmarVnyaXsVb6f/cyRL3fPT0VOVO2tQAEEgwg//CX0jN8Kn2jH
uXD/HEvko7cmpL3Pwevf3+DwB61v7ca79PpEZfn/WhaqRKA4uVNPj/JbieeaLo2v/0RJzrEElZK0
pHCqxiD3mQ8ossPkA9fUCSxLlbdMcPU3be5x8vt8Q8mYTXF5Z3d9RZmYrmNkvTQtdzVpfYWr/hgV
Xqm9tByOOAR+hoN3FKbubR/OrAHL9yDAd4sCAwEAAaOCAhwwggIYMB8GA1UdIwQYMBaAFImCZ33E
nSZwAEu0UEh83j2uBG59MB0GA1UdDgQWBBRDWgutb7b8R/L7G3Y3D+molAA3VzAOBgNVHQ8BAf8E
BAMCBaAwDAYDVR0TAQH/BAIwADAgBgNVHSUEGTAXBggrBgEFBQcDBAYLKwYBBAGyMQEDBQIwEQYJ
YIZIAYb4QgEBBAQDAgUgMEYGA1UdIAQ/MD0wOwYMKwYBBAGyMQECAQEBMCswKQYIKwYBBQUHAgEW
HWh0dHBzOi8vc2VjdXJlLmNvbW9kby5uZXQvQ1BTMIGlBgNVHR8EgZ0wgZowTKBKoEiGRmh0dHA6
Ly9jcmwuY29tb2RvY2EuY29tL1VUTi1VU0VSRmlyc3QtQ2xpZW50QXV0aGVudGljYXRpb25hbmRF
bWFpbC5jcmwwSqBIoEaGRGh0dHA6Ly9jcmwuY29tb2RvLm5ldC9VVE4tVVNFUkZpcnN0LUNsaWVu
dEF1dGhlbnRpY2F0aW9uYW5kRW1haWwuY3JsMGwGCCsGAQUFBwEBBGAwXjA2BggrBgEFBQcwAoYq
aHR0cDovL2NydC5jb21vZG9jYS5jb20vVVROQUFBQ2xpZW50Q0EuY3J0MCQGCCsGAQUFBzABhhho
dHRwOi8vb2NzcC5jb21vZG9jYS5jb20wJQYDVR0RBB4wHIEaZWJ1cmdlckBzdGFuZGFyZHN0cmFj
ay5jb20wDQYJKoZIhvcNAQEFBQADggEBAGeBR7NPCvrY3GQoIi49JOuciatY2r4st905Jw1etp6J
umFFWlaCBl11tFSclk/3S45B+lUv3SEvG4CEjUByPScprVmCqHR+y8BAQaB/CV+N1y14x3MbhJ+Z
8XDGKeUXuuyGd9w0l3/t/QPid6TRXQjQFrLPFs1IALuNpNiFMHEF/xFbMG1Z2vznR/gSPlePekoZ
TqcExIDBNZTBebpZqwAXzPpedNNOclbMLFLWDMOAozVRpkfjI0eiFsk8SF1Ho1Gb9Bx8DeG4peE2
KRVOR9FFnZZgBpFjXYRcglsMOSKCY8HgE+NGvbbqbrMoBV/BlYyxRXwfti71RL9Zs2Cq1eQxggP8
MIID+AIBATCBwzCBrjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExh
a2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVTVCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8v
d3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVUTi1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRp
Y2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkNH2TynzAJBgUrDgMCGgUAoIICDTAYBgkqhkiG
9w0BCQMxCwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0wODA5MjkxOTAwMjFaMCMGCSqGSIb3
DQEJBDEWBBRIa7lIYzRrubFhLPTOEWBVeZUwJjCB1AYJKwYBBAGCNxAEMYHGMIHDMIGuMQswCQYD
VQQGEwJVUzELMAkGA1UECBMCVVQxFzAVBgNVBAcTDlNhbHQgTGFrZSBDaXR5MR4wHAYDVQQKExVU
aGUgVVNFUlRSVVNUIE5ldHdvcmsxITAfBgNVBAsTGGh0dHA6Ly93d3cudXNlcnRydXN0LmNvbTE2
MDQGA1UEAxMtVVROLVVTRVJGaXJzdC1DbGllbnQgQXV0aGVudGljYXRpb24gYW5kIEVtYWlsAhAv
lStUS1saxfCiWQ0fZPKfMIHWBgsqhkiG9w0BCRACCzGBxqCBwzCBrjELMAkGA1UEBhMCVVMxCzAJ
BgNVBAgTAlVUMRcwFQYDVQQHEw5TYWx0IExha2UgQ2l0eTEeMBwGA1UEChMVVGhlIFVTRVJUUlVT
VCBOZXR3b3JrMSEwHwYDVQQLExhodHRwOi8vd3d3LnVzZXJ0cnVzdC5jb20xNjA0BgNVBAMTLVVU
Ti1VU0VSRmlyc3QtQ2xpZW50IEF1dGhlbnRpY2F0aW9uIGFuZCBFbWFpbAIQL5UrVEtbGsXwolkN
H2TynzANBgkqhkiG9w0BAQEFAASCAQBr2q9Ifrhrgx8oZK8VoAVufCzO/ekjDX3UrH3c0T0RTGv/
SSfJ9ahm4XqObgOrB9m2WmZBKtK28fynOv9T1h2+Wd3oAYqodzJQf/LW6KjWL5+FLXKHvzsrWNzb
5eS5KdGpr4hDY8P5a9942l+8XVQyRqLUQC7Bn8W2cV5QjMxaylSq5C+PScBkVYUHd/aLUHufWmXc
UQsnWdFVqSesi44osXis3cmmkW2VE6l8+iR/nFm4cd7EUyim/mb7/VqdPIN/m+gpeKbJJ+tw+dqm
HkYfw/YQJbKLi1Zk6l5WU59buP79LmpA6wqOTdOOmDd+RyiZLCIlt78DXhIvQrZ7s3fUAAAAAAAA

--Apple-Mail-7--405514493--

--===============0144006264==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0144006264==--


From sip-bounces@ietf.org  Mon Sep 29 13:26:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 47EB628C114;
	Mon, 29 Sep 2008 13:26:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 602D728C10E
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 13:26:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jxoFSx3LY-Z7 for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 13:26:02 -0700 (PDT)
Received: from rtp-iport-1.cisco.com (rtp-iport-1.cisco.com [64.102.122.148])
	by core3.amsl.com (Postfix) with ESMTP id 5972328C114
	for <sip@ietf.org>; Mon, 29 Sep 2008 13:26:02 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,333,1220227200"; d="scan'208";a="22637612"
Received: from rtp-dkim-1.cisco.com ([64.102.121.158])
	by rtp-iport-1.cisco.com with ESMTP; 29 Sep 2008 20:26:17 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-1.cisco.com (8.12.11/8.12.11) with ESMTP id m8TKQH7J028815; 
	Mon, 29 Sep 2008 16:26:17 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8TKQHPb014064;
	Mon, 29 Sep 2008 20:26:17 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 16:26:17 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 16:26:17 -0400
Message-ID: <48E139E9.4050008@cisco.com>
Date: Mon, 29 Sep 2008 16:26:17 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Francois Audet <audet@nortel.com>
References: <18656.60044.302965.535846@harjus.tutpro.com>	<1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>	<18657.2518.651908.902884@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF197354D8@zrc2hxm0.corp.nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF197354D8@zrc2hxm0.corp.nortel.com>
X-OriginalArrivalTime: 29 Sep 2008 20:26:17.0056 (UTC)
	FILETIME=[A02A8600:01C92271]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2381; t=1222719977;
	x=1223583977; c=relaxed/simple; s=rtpdkim1001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20configuration=20NOTIFY=20in=20e
	xample=209.1=20of=20outbound=20i-d |Sender:=20
	|To:=20Francois=20Audet=20<audet@nortel.com>;
	bh=0eBkZhkBLKVX4Cr5Qo9j5+ww5gimZVI4Q+Nqjuq8r8I=;
	b=UU5m3msoGsbfbpYhkFWhN6bbbmuGQi5K0h/uRJvFh8F7qnRV77XAoKXiWN
	npCAWN/RUTxAQaK67QxBDzvCwnveFwe8FqA6pdIy0Ry9NoOOZorwNo8XrM1F
	mSJ6KnfvdY;
Authentication-Results: rtp-dkim-1; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim1001 verified; ); 
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	sip@ietf.org
Subject: Re: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Francois Audet wrote:
>>  > Section 4.3 states (UA procedures):
>>  >    If the UAC is sending a dialog-forming request, and wants all
>>  >    subsequent requests in the dialog to arrive over the 
>> same flow, the
>>  >    UAC adds an 'ob' parameter to its Contact header.  
>> Typically this is
>>  >    desirable, but it is not necessary for example if the 
>> Contact is a
>>  >    GRUU [I-D.ietf-sip-gruu].  
>>
>> if contact is gruu, does it mean that 'ob' param is 
>> implicitly included?
> 
> I am not sure why this is worded like this. I was thinking that using 
> a GRUU as a contact in a dialog-forming request would mandate that
> requests sent to that Contact would be sent using the same flow, but
> I see no such rule in draft-ietf-sip-gruu.

Gruu isn't dependent on outbound.

	Thanks,
	Paul

> Cullen/Rohan/Jonathan?
> 
>>  > Then, section 5.3.2 (proxy procedures):
>>  >    For mid-dialog requests to work with outbound UAs, the 
>> requests need
>>  >    to be forwarded over some valid flow to the appropriate 
>> UA instance.
>>  >    If the Edge Proxy receives an outgoing dialog-forming 
>> request, the
>>  >    Edge Proxy can use the presence of the ob URI parameter 
>> in the UAC's
>>  >    Contact URI (or topmost Route header field) to 
>> determine if the Edge
>>  >    Proxy needs to assist in mid-dialog request routing.
>>
>> if there is no edge proxy, i.e., UA sends subscribe directly 
>> to a presence server, then does this draft not apply and 
>> there is no mechanism for the UA to indicate that it wants 
>> subscribe tcp connection to be reused by presence server for notifies?
> 
> Maybe I'm misunderstanding the question, but this draft relies on an
> outbound proxy. So, in this specific example, the configuration server
> needs to have outbound proxy behavior otherwise you are correct, this
> NOTIFY won't be delivered. It's kind of like the co-located registrar
> and proxy described explicitly in the document, but for co-located
> Config server and proxy.
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 13:30:04 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 450DA3A6B5E;
	Mon, 29 Sep 2008 13:30:04 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id AAA8D3A69ED
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 13:30:03 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -6.599
X-Spam-Level: 
X-Spam-Status: No, score=-6.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hNxQcDfE53e1 for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 13:30:02 -0700 (PDT)
Received: from rtp-iport-2.cisco.com (rtp-iport-2.cisco.com [64.102.122.149])
	by core3.amsl.com (Postfix) with ESMTP id 47D5A3A698D
	for <sip@ietf.org>; Mon, 29 Sep 2008 13:30:02 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,333,1220227200"; d="scan'208";a="22602505"
Received: from rtp-dkim-2.cisco.com ([64.102.121.159])
	by rtp-iport-2.cisco.com with ESMTP; 29 Sep 2008 20:29:58 +0000
Received: from rtp-core-2.cisco.com (rtp-core-2.cisco.com [64.102.124.13])
	by rtp-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m8TKTwcP031955; 
	Mon, 29 Sep 2008 16:29:58 -0400
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by rtp-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8TKTwAY015842;
	Mon, 29 Sep 2008 20:29:58 GMT
Received: from xfe-rtp-202.amer.cisco.com ([64.102.31.21]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 16:29:58 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-202.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Mon, 29 Sep 2008 16:29:57 -0400
Message-ID: <48E13AC6.2050808@cisco.com>
Date: Mon, 29 Sep 2008 16:29:58 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Eric Burger <eburger@standardstrack.com>
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>	<48898492.7010601@ericsson.com>	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>	<4889F09B.8050407@cisco.com>
	<200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
	<48E0F79B.8090402@cisco.com>
	<1B19D41C-45C9-4784-A2AD-FA43A1623A80@standardstrack.com>
In-Reply-To: <1B19D41C-45C9-4784-A2AD-FA43A1623A80@standardstrack.com>
X-OriginalArrivalTime: 29 Sep 2008 20:29:57.0607 (UTC)
	FILETIME=[239FEF70:01C92272]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=4709; t=1222720198;
	x=1223584198; c=relaxed/simple; s=rtpdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Comments=20on=20draft-ietf-sip-
	body-handling-02 |Sender:=20
	|To:=20Eric=20Burger=20<eburger@standardstrack.com>;
	bh=j9Kr/KtNac6Uh5h9lO6xT4vWA/6kSJVZh1pLcB/MVc8=;
	b=i17yt5KrFDK0ksOhRzuO7RVM3bm5Bj9XSUKBijU7tMfWbBfn6+lWOwqfh4
	5zyL/E6QrcvbbkO/BjDGfBgEGjT1y0oq/ly+E1IZKaiabD/6sHMc4XsElpn2
	h7cQ4I97Po;
Authentication-Results: rtp-dkim-2; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/rtpdkim2001 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org



Eric Burger wrote:
> Either it's MIME or it's not.
> 
> By the time we work this out, SDP-NG might be real :-)

OK. I'm willing to accept that as an answer if that is the way it is.

Those people making proxies that gate media flows had better get to work!

Or, more likely, we will just find out that some usages don't work in 
some network configurations. So we will end up with more restrictive 
rules if you want to work in all environments.

	Thanks,
	Paul

> On Sep 29, 2008, at 11:43 AM, Paul Kyzivat wrote:
> 
>> I agree it would be straightforward to define a rule that says one 
>> must recursively unwrap all multipart/mixed bodies in order to find 
>> other parts to process. But we ought to think if we really want to do 
>> that.
>>
>> Potentially this could introduce a lot of extra processing. Its 
>> especially a problem if there are middle boxes that want to process 
>> SDP. They don't know if a given message contains SDP at all. And they 
>> perhaps don't want to process anything *except* SDP. But they will be 
>> forced to recursively open all the mixed parts to determine if there 
>> is an sdp for them.
>>
>> (Or maybe this is a good thing because it will discourage middle boxes 
>> from looking at sdp.)
>>
>>     Thanks,
>>     Paul
>>
>> Dale.Worley@comcast.net wrote:
>>>   From: Paul Kyzivat <pkyzivat@cisco.com>
>>>   > But thinking about this, I suspect we define no semantics
>>>   > anywhere (please correct me if I am wrong) about what nesting
>>>   > means. Does a nested body require different interpretation to a
>>>   > multipart body, and if so, how do I discover what that difference
>>>   > is. All the nesting would seem to tell me is that there might be
>>>   > a different relationship, but it does not tell me what that
>>>   > relationship is.
>>>   I agree that the current loose wording leaves something to be desired.
>>>   I just don't know how to fix it.
>>> ISTM that the solution to the problem of nesting is to enunciate a set
>>> of recursive rules for processing an arbitary tree of nested body
>>> parts.
>>> The advantage of recursive rules is that stating rules recursively
>>> acutally reduces the number of interpretations that seem reasonably at
>>> first glance -- it helps one identify plausible solutions faster.  If
>>> one looks at specific situations, it's very easy to state rules that
>>> can't be properly generalized -- and such rules usually lead to
>>> trouble (or at least, non-extensibility) later.
>>>   Let me give a concrete example:
>>>   Is an INVITE valid if it contains a body of:
>>>        multipart/mixed {
>>>           multipart/mixed {
>>>          multipart/mixed {
>>>             application/sdp
>>>        }}}
>>>   Must the UAS keep unwrapping multiparts, looking for its SDP?
>>> It seems that a multipart/mixed means "unwrap and process these body
>>> parts".  Hence, the UAS must continue until it gets to the "leaf" body
>>> parts.
>>> If you think about it, there does not appear to be any other
>>> processing rule that makes sense.
>>>   And while we are discussing weird cases, what about:
>>>        multipart/mixed {
>>>           multipart/mixed {
>>>          multipart/mixed {
>>>             application/sdp-1
>>>          }
>>>          application/sdp-2
>>>        }}
>>>   If the latter is legal at all, which sdp is the offer? And what 
>>> should    happen to the other one?
>>> This is, pretty much, equivalent to:
>>>        multipart/mixed {
>>>           application/sdp-1
>>>              application/sdp-2
>>>        }
>>> So the question is "If the sender provides us with two SDP bodies,
>>> what should we do?"
>>> Given that we envision a multipart/mixed might contain two
>>> descriptions of the session in two different languages (with different
>>> MIME types), it seems that a UA could either:
>>> - pick one SDP and ignore the other, or
>>> - reject the body as invalid (because two descriptions have the same 
>>> type)
>>> Dale
>>> _______________________________________________
>>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>>> This list is for NEW development of the core SIP Protocol
>>> Use sip-implementors@cs.columbia.edu for questions on current sip
>>> Use sipping@ietf.org for new developments on the application of sip
>> _______________________________________________
>> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 13:49:26 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id B70543A6A31;
	Mon, 29 Sep 2008 13:49:26 -0700 (PDT)
X-Original-To: sip@ietf.org
Delivered-To: sip@core3.amsl.com
Received: by core3.amsl.com (Postfix, from userid 30)
	id C1FE63A69ED; Mon, 29 Sep 2008 13:49:25 -0700 (PDT)
X-idtracker: yes
From: The IESG <iesg-secretary@ietf.org>
To: IETF-Announce <ietf-announce@ietf.org>
Message-Id: <20080929204925.C1FE63A69ED@core3.amsl.com>
Date: Mon, 29 Sep 2008 13:49:25 -0700 (PDT)
Cc: sip mailing list <sip@ietf.org>, sip chair <sip-chairs@tools.ietf.org>,
	Internet Architecture Board <iab@iab.org>,
	RFC Editor <rfc-editor@rfc-editor.org>
Subject: [Sip] Protocol Action: 'Indicating Support for Interactive
 Connectivity Establishment (ICE) in the Session Initiation Protocol (SIP)'
 to Proposed Standard
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

The IESG has approved the following document:

- 'Indicating Support for Interactive Connectivity Establishment (ICE) in
 
   the Session Initiation Protocol (SIP) '
   <draft-ietf-sip-ice-option-tag-02.txt> as a Proposed Standard

This document is the product of the Session Initiation Protocol Working 
Group. 

The IESG contact persons are Cullen Jennings and Jon Peterson.

A URL of this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-ice-option-tag-02.txt

Technical summary. 

This specification defines a media feature tag and an option tag for use
with the 
Session Initiation Protocol (SIP). The media feature tag allows a UA to
communicate to 
its registrar that it supports ICE. The option tag allows a User Agent
(UA) to require 
support for ICE in order for a call to proceed. 

Working group summary. 

There is consensus in the working group to publish this document. The
document came 
about as a result of discussions in the IETF MMUSIC working group to
progress draft- 
ietf-mmusic-ice. 

Document Quality 

There has been no indication of implementation of this specific draft.
There are known 
implementations of earlier versions of draft-ietf-mmusic-ice. 

Personnel 

The document shepherd for this document was Keith Drage. The responsible
Area Director 
was Cullen Jennings.

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 20:09:56 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CC4E93A689D;
	Mon, 29 Sep 2008 20:09:56 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C57F13A6955
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 20:09:53 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.999
X-Spam-Level: 
X-Spam-Status: No, score=-2.999 tagged_above=-999 required=5
	tests=[AWL=-0.600, BAYES_00=-2.599, J_CHICKENPOX_14=0.6,
	J_CHICKENPOX_15=0.6, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id rfHMfP0Z7JaO for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 20:09:51 -0700 (PDT)
Received: from TheWorld.com (pcls1.std.com [192.74.137.141])
	by core3.amsl.com (Postfix) with ESMTP id E3EEC3A6924
	for <sip@ietf.org>; Mon, 29 Sep 2008 20:09:50 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8U39w9U003332
	for <sip@ietf.org>; Mon, 29 Sep 2008 23:10:00 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8U39whX37110736
	for <sip@ietf.org>; Mon, 29 Sep 2008 23:09:58 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8U39wbI37097791;
	Mon, 29 Sep 2008 23:09:58 -0400 (EDT)
Date: Mon, 29 Sep 2008 23:09:58 -0400 (EDT)
Message-Id: <200809300309.m8U39wbI37097791@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
Subject: [Sip] Is body handling NP-complete?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Referring back to last March, in
http://www.ietf.org/mail-archive/web/sip/current/msg22426.html, I was
contemplating whether the rules for testing a message body required
searching through combinations of choices regarding which alternatives
of multipart/alternatives are chosen.  As I then conceptualized the
problem, the question was "Is there a choice of alternatives such that
all the constraints for 'successful processing' can be met?"  It turns
out that if you phrase the question that way, the problem is
NP-complete, which means in practice that any algorithm to solve it
must do backtracking.

The new formulation of the problem attempts to avoid this by dividing
the problem into three phases:  (1) assemble a tree which represents
the dependencies of super-parts' being processable upon that of
sub-parts, (2) walk the tree, tagging parts from the bottom up as to
whether they are processable, (3) if the overall tree is processable,
selecting for processing the correct subset of parts as directed by
the tags in the tree.  As long as the size of the tree is commensurate
with the number of body parts, the algorithm is inherently linear, and
clearly it doesn't involve backtracking.

In regard to step (1), the tree is assembled:

- the root node represents the message body
- a node for a multipart/alternative part has one child for each
  component
- a node for a multipart/mixed part has one child for each
  component
- a note for a multipart/related part is not automatically given
  children for its components
- a header in a part that refers to another component generates a
  child of that part that represents the referred-to component
- similarly, a reference within a part that refers to another
  component generates a child of that part that represents the
  referred-to component (This is how multipart/related nodes get
  children.)

Of course, if a component is referred to multiple times, the component
is represented by multiple nodes in the tree, one node for each of its
roles.

However, there are subtleties I might be overlooking, so I am going to
revisit the embedding of the NP-complete problem "3-satisfiability"
into MIME to see what it reveals about my sketch of an algorithm.

Referring to the previous message:

    The reduction is as follows:

    http://en.wikipedia.org/wiki/NP-complete
    http://en.wikipedia.org/wiki/Reduction_%28complexity%29
    http://en.wikipedia.org/wiki/3-satisfiability#3-satisfiability

    Choose an instance of the 3-satisfiability problem, that is: a set of
    boolean variables A, B, C, etc. and a formula composed of:
	    a series of "clauses" joined by AND, consisting of
		    a series of variables and their negations joined by OR.
    The problem is to determine if there is any assignment of truth values
    to the variables which makes the formula true, that is, which makes
    true one of the variables or negations in each of the clauses.

    For example, choose 4 variables A, B, C, and D, and the formula

    (A OR B OR C) AND (B OR NOT-C OR D) AND (NOT-A OR NOT-B OR NOT-D)

    This can be satisfied by setting A=TRUE, B=FALSE, C=TRUE, and D=FALSE.

    Construct a multipart/mixed with each component labeled
    handling=required.  Within that, for each variable, have a part which
    is multipart/alternate with 2 parts.  If processing chooses the first
    part of the part corresponding to a variable, that will model the
    variable being TRUE.  If processing chooses the second part of the
    part corresponding to a variable, that will model the variable being
    FALSE.

    For example, our body starts:

	    multipart/mixed
		    multipart/alternative;handling=required
			    first part corresponding to A (not yet specified)
			    second part corresponding to NOT-A
		    multipart/alternative;handling=required
			    first part corresponding to B
			    second part corresponding to NOT-B
		    multipart/alternative;handling=required
			    first part corresponding to C
			    second part corresponding to NOT-C
		    multipart/alternative;handling=required
			    first part corresponding to D
			    second part corresponding to NOT-D

    For each clause of the formula, add an additional body part, marked
    "Content-Disposition: by-reference; handling=required".  Give the part
    a 'cid' URL.  The ability of the recipient to successfully process
    this part will model making the corresponding clause TRUE.

    For example, our body is now:

	    multipart/mixed
		    multipart/alternative;handling=required
			    first part corresponding to A (not yet specified)
			    second part corresponding to NOT-A
		    multipart/alternative;handling=required
			    first part corresponding to B
			    second part corresponding to NOT-B
		    multipart/alternative;handling=required
			    first part corresponding to C
			    second part corresponding to NOT-C
		    multipart/alternative;handling=required
			    first part corresponding to D
			    second part corresponding to NOT-D
		    part (not otherwise specified);by-reference;handling=required;cid=clause1
		    part (not otherwise specified);by-reference;handling=required;cid=clause2
		    part (not otherwise specified);by-reference;handling=required;cid=clause3

    We now want to arrange things so that one of the last 3 parts can be
    successfully processed only if we choose for processing one of the
    earlier parts that corresponds to a variable value that will make the
    corresponding clause true.  This is done by embedding forward
    references in the variable-corresponding parts that refer to the
    clause-corresponding parts.

    For example:

 1	    multipart/mixed
 2		    multipart/alternative;handling=required
 3			    first part corresponding to A
				    references cid:clause1
 4			    second part corresponding to NOT-A
				    references cid:clause3
 5		    multipart/alternative;handling=required
 6			    first part corresponding to B
				    references cid:clause1
				    references cid:clause2
 7			    second part corresponding to NOT-B
				    references cid:clause3
 8		    multipart/alternative;handling=required
 9			    first part corresponding to C
				    references cid:clause1
10			    second part corresponding to NOT-C
				    references cid:clause2
11		    multipart/alternative;handling=required
12			    first part corresponding to D
				    references cid:clause2
13			    second part corresponding to NOT-D
				    references cid:clause3
14		    part;by-reference;handling=required;cid=clause1
15		    part;by-reference;handling=required;cid=clause2
16		    part;by-reference;handling=required;cid=clause3

    In order to process this body, the recipient must choose exactly one
    of each pair of bodies in the multipart/alternative body parts.  This
    choice is equivalent to choosing a set of values for the variables.
    The references embedded in the chosen parts refer to the body parts
    that correspond to the clauses which are made true by the
    corresponding variable's value.  In order to successfully process the
    final body parts, the recipient must have chosen a set of variable
    values that makes all of the clauses true.

The resulting tree is:

	1 -+- 2 --+- 3 ---- 14
	   |      |
	   |      +- 4 ---- 16
	   |
	   +- 5 --+- 6 --+- 14
	   |      |      |
	   |      |      +- 15
	   |      |
	   |      +- 7 ---- 16
	   |
	   +- 8 --+- 9 ---- 14
	   |      |
	   |      +- 10 --- 15
	   |
	   +- 11 -+- 12 --- 15
	   |      |
	   |      +- 13 --- 16
	   |
	   +- 14
	   |
	   +- 15
	   |
	   +- 16

Though the number of nodes is greater than the number of body parts,
it's limited approximately by the number of appearances of variables
in the original boolean formula, so it's linear in the number of body
parts.  So in building the tree, we don't have exponential effort.

In the new approach, we walk the tree, tagging each node as to whether
it is processable.  In the above model, we assume that all the simple
parts are processable, so all nodes labeled 2 through 16 are marked
processable.  And as we tag the nodes for processability, we choose
for each multipart/alternative node which child will be processed
(namely, the last child that is processable).  In this tree, the
choices are 2 -> 4, 5 -> 7, 8 -> 10, and 11 -> 13.

Where things get interesting is deciding if node 1 is processable.
All of its children are processable, of course.  But the crux of the
construction is how the "by-reference;handling=required" constraints
on nodes 14, 15, and 16 are handled.  In this algorithm, we check
whether each part is referenced by a part that will be processed.
Fortunately, all references to these nodes must have been tree-walked
before node 1 is examined, so can determine unambiguously whether used
references point to those nodes.  In this case, we have chosen to
process 2, 4, 5, 7, 8, 10, 11, and 13, which means that there are used
references to 16, 16, 15, and 16.  This leaves 17 unreferenced, and so
node 1 is determined to be unprocessable.

Note that the new algorithm avoids being NP-complete essentially by
making choices as soon as they are seen.  In this model, values NOT-A,
NOT-B, NOT-C, and NOT-D are chosen outright.  Since the example
formula is not satisfied, the body that encodes it is not processable.

This example also points out that the requirement that references
appear before the parts they reference is needed to make the problem
tractable.  Otherwise, there could be circular dependencies between
the choices for different multipart/alternatives, which might be
impossible to analyze by an algorithm as simple as a tree-walk.

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Mon Sep 29 20:09:57 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 88FC828C115;
	Mon, 29 Sep 2008 20:09:57 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 20AA83A6A04
	for <sip@core3.amsl.com>; Mon, 29 Sep 2008 20:09:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -3.599
X-Spam-Level: 
X-Spam-Status: No, score=-3.599 tagged_above=-999 required=5 tests=[AWL=0.000, 
	BAYES_00=-2.599, RCVD_IN_DNSWL_LOW=-1]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZFsN84jVgqQQ for <sip@core3.amsl.com>;
	Mon, 29 Sep 2008 20:09:51 -0700 (PDT)
Received: from TheWorld.com (pcls5.std.com [192.74.137.145])
	by core3.amsl.com (Postfix) with ESMTP id AEDF03A689D
	for <sip@ietf.org>; Mon, 29 Sep 2008 20:09:50 -0700 (PDT)
Received: from shell.TheWorld.com (root@shell01.theworld.com [192.74.137.71])
	by TheWorld.com (8.13.6/8.13.6) with ESMTP id m8U39m5l008759
	for <sip@ietf.org>; Mon, 29 Sep 2008 23:09:50 -0400
Received: from shell01.TheWorld.com (localhost.theworld.com [127.0.0.1])
	by shell.TheWorld.com (8.13.6/8.12.8) with ESMTP id m8U39lir37141196
	for <sip@ietf.org>; Mon, 29 Sep 2008 23:09:48 -0400 (EDT)
Received: (from worley@localhost)
	by shell01.TheWorld.com (8.13.6/8.13.6/Submit) id m8U39jFX37113365;
	Mon, 29 Sep 2008 23:09:45 -0400 (EDT)
Date: Mon, 29 Sep 2008 23:09:45 -0400 (EDT)
Message-Id: <200809300309.m8U39jFX37113365@shell01.TheWorld.com>
To: sip@ietf.org
From: Dale.Worley@comcast.net
In-reply-to: <48E0F79B.8090402@cisco.com> (pkyzivat@cisco.com)
References: <5D1A7985295922448D5550C94DE2918002196DCC@DEEXC1U01.de.lucent.com>	<48898492.7010601@ericsson.com>	<5D1A7985295922448D5550C94DE2918002196FF7@DEEXC1U01.de.lucent.com>	<4889F09B.8050407@cisco.com>
	<200809262108.m8QL8fpj34800452@shell01.TheWorld.com>
	<48E0F79B.8090402@cisco.com>
Subject: Re: [Sip] Comments on draft-ietf-sip-body-handling-02
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

   From: Paul Kyzivat <pkyzivat@cisco.com>

   I agree it would be straightforward to define a rule that says one must 
   recursively unwrap all multipart/mixed bodies in order to find other 
   parts to process. But we ought to think if we really want to do that.

What alternative rule do you propose as the meaning of
multipart/mixed?

   Potentially this could introduce a lot of extra processing.

That's sort of like saying that "x = 0 + 0 + 0 + 0 + 0 + 0 + 0 + 0"
involves a lot of extra processing.  Yes, it does.  But it meaning is
clear, once we define what "+" means.  We could try to outlaw that
expression and "expressions like it", but there's no sensible boundary
to enforce -- Do we ban expressions with more than five addends?  How
about more than one addend which is "0"?  Any possible solution to
this problem is worse than the problem itself.

What I am advocating is that we explicitly abandon the attempt to
define only the situations that intuitively make sense, and instead
define a set of simple, well-defined rules that make clear what is
valid and what is not, and what the valid cases mean.  Just like we've
done with arithmetic expressions.  Otherwise we'll never escape the
swamp of trying to discern which ones make intuitive sense.

   From: Paul Kyzivat <pkyzivat@cisco.com>

   > RFC 3459 uses multiparts in a somewhat different way that SIP does.
   > In SIP, the I-D suggests that components of a multipart/alternative
   > should have handling=optional and that the processor should ignore the
   > handling parameter:
   > 
   > 	The UA SHOULD also set the 'handling' parameter of all the
   > 	body part within the 'multipart/alternative' to 'optional'
   > 	(the receiver will process the body parts based on the
   > 	handling parameter of the 'multipart/alternative' body; the
   > 	receiver will ignore the handling parameters of the body
   > 	parts).
   > 
   > 	The receiver SHOULD ignore the handling parameters of the body
   > 	parts within the 'multipart/ alternative'.

   Right. But the SHOULD without qualification suggests that somebody might 
   do otherwise, and we don't know under what circumstances that might 
   happen. So if somebody sets all the parts to handling=required, it seems 
   that the handling of the unselected parts will still be ignored.

Yes, I see the problem there.  I'd replace that last SHOULD with MUST.
Actually, I argue that MUST is implied, as the RFCs define how
multipart/alternative is to be processed, and that algorithm does not
look at the handling parameters of components of
multipart/alternatives.

   Suppose I want to send a MESSAGE, and I require that some form of the 
   body be processed. I will offer it in two forms: text/enhanced and 
   text/html. How do I encode that?

	   C-T: multipart/alternative
	   C-D: render;handling=required
		   C-T: text/enhanced
		   C-D: render;handling=optional
		   ===
		   C-T: text/html
		   C-D: render;handling=optional
   or
	   C-T: multipart/alternative
	   C-D: render;handling=required
		   C-T: text/enhanced
		   C-D: render;handling=required
		   ===
		   C-T: text/html
		   C-D: render;handling=required

C-T: multipart/alternative
C-D: render;handling=required
	C-T: text/enhanced
	===
	C-T: text/html

'render' is inherited from the parent, and the handling of the
components is ignored.  We could also take it that MESSAGE implies
that the body is 'required', so the handling specification of the
parent is also optional.

   And if I don't support either of those text types, what error do I 
   return? 415? In the first case it seems a little odd to return an error 
   if I selected a part that is optional.

415.  The I-D is clear that 415 is how you respond to messages which
are not processable due to a failure of these MIME tests.

   And if I didn't require either part to be understood, would I just 
   change to handling=optional for the multipart/alternative itself?

Intuitively, I'd say that MESSAGE demands that the entire body be
processable, so handling=required is implicit for the entire body.
But assuming that we did not make such a deduction from the SIP
context of the message, if the body had handling=optional, it would
have the effect that the request could succeed even if the requester
did not understand the body.  (Hmmm...  That's another clause of the
algorithm I overlooked.)

(Note that there are cases where understanding the body is optional.
E.g., a sipfrag of the request in a failure response.)

Dale
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 01:35:29 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D65513A6839;
	Tue, 30 Sep 2008 01:35:29 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 543983A6839
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 01:35:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.599
X-Spam-Level: 
X-Spam-Status: No, score=-2.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yjX486-byluS for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 01:35:27 -0700 (PDT)
Received: from tutpro.com (sip.tutpro.com [192.98.100.10])
	by core3.amsl.com (Postfix) with ESMTP id BBC9E3A67F4
	for <sip@ietf.org>; Tue, 30 Sep 2008 01:35:26 -0700 (PDT)
Received: from localhost (localhost [127.0.0.1])
	by tutpro.com (Postfix) with ESMTP id C11D21EC306;
	Tue, 30 Sep 2008 11:35:00 +0300 (EEST)
Received: from tutpro.com ([127.0.0.1])
	by localhost (tutpro.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lMBwS6K3N6tv; Tue, 30 Sep 2008 11:34:58 +0300 (EEST)
Received: from taimen (gprs-prointernet-ff5b6a00-251.dhcp.inet.fi
	[93.106.91.251])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tutpro.com (Postfix) with ESMTPSA;
	Tue, 30 Sep 2008 11:34:58 +0300 (EEST)
Received: by taimen (Postfix, from userid 1000)
	id 982EAAC194; Tue, 30 Sep 2008 11:34:54 +0300 (EEST)
MIME-Version: 1.0
Message-ID: <18657.58542.594175.943037@taimen.test.fi>
Date: Tue, 30 Sep 2008 11:34:54 +0300
To: "Francois Audet" <audet@nortel.com>
In-Reply-To: <1ECE0EB50388174790F9694F77522CCF197354D8@zrc2hxm0.corp.nortel.com>
References: <18656.60044.302965.535846@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF197351A7@zrc2hxm0.corp.nortel.com>
	<18657.2518.651908.902884@harjus.tutpro.com>
	<1ECE0EB50388174790F9694F77522CCF197354D8@zrc2hxm0.corp.nortel.com>
X-Mailer: VM 7.19 under Emacs 22.1.1
From: jh@tutpro.com (Juha Heinanen)
Cc: Cullen Jennings <fluffy@cisco.com>, Rohan Mahy <rohan@ekabal.com>,
	sip@ietf.org
Subject: Re: [Sip] configuration NOTIFY in example 9.1 of outbound i-d
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Francois Audet writes:

 > I am not sure why this is worded like this. I was thinking that using 
 > a GRUU as a contact in a dialog-forming request would mandate that
 > requests sent to that Contact would be sent using the same flow, but
 > I see no such rule in draft-ietf-sip-gruu.

based on cullen's reply, text

   If the UAC is sending a dialog-forming request, and wants all
   subsequent requests in the dialog to arrive over the same flow, the
   UAC adds an 'ob' parameter to its Contact header.  Typically this is
   desirable, but it is not necessary for example if the Contact is a
   GRUU [I-D.ietf-sip-gruu].

needs to be changed, because no matter gruu or not, ob needs to be
included if UA wants the same flow to be used for requests of the dialog
from the proxy.

 > Maybe I'm misunderstanding the question, but this draft relies on an
 > outbound proxy. So, in this specific example, the configuration server
 > needs to have outbound proxy behavior otherwise you are correct, this
 > NOTIFY won't be delivered. It's kind of like the co-located registrar
 > and proxy described explicitly in the document, but for co-located
 > Config server and proxy.

outbound behavior is also needed in case of regular presence server.
that is why i don't quite understand is why is this "usage of the same
flow for in-dialog requests" feature tied to outbound proxy.  why is it
not useful to have a generic capability for UAC to tell to the next hop
(a proxy or UAS) in its dialog initiating request that "please use this
flow for subsequent requests of this dialog"?

-- juha
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 06:53:22 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C9B5D3A6B26;
	Tue, 30 Sep 2008 06:53:22 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8153A3A6AE3
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 06:53:21 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.999
X-Spam-Level: 
X-Spam-Status: No, score=-5.999 tagged_above=-999 required=5
	tests=[AWL=-0.600, BAYES_00=-2.599, J_CHICKENPOX_14=0.6,
	J_CHICKENPOX_15=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0F4av-5HL-yw for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 06:53:16 -0700 (PDT)
Received: from sj-iport-5.cisco.com (sj-iport-5.cisco.com [171.68.10.87])
	by core3.amsl.com (Postfix) with ESMTP id 5C8FD3A6B28
	for <sip@ietf.org>; Tue, 30 Sep 2008 06:53:16 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,338,1220227200"; d="scan'208";a="47267617"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-5.cisco.com with ESMTP; 30 Sep 2008 13:53:23 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8UDrNae003305; 
	Tue, 30 Sep 2008 06:53:23 -0700
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8UDrFFu005473;
	Tue, 30 Sep 2008 13:53:23 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 09:52:50 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 09:52:50 -0400
Message-ID: <48E22F32.8050202@cisco.com>
Date: Tue, 30 Sep 2008 09:52:50 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Dale.Worley@comcast.net
References: <200809300309.m8U39wbI37097791@shell01.TheWorld.com>
In-Reply-To: <200809300309.m8U39wbI37097791@shell01.TheWorld.com>
X-OriginalArrivalTime: 30 Sep 2008 13:52:50.0596 (UTC)
	FILETIME=[D4085640:01C92303]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=12511; t=1222782803;
	x=1223646803; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20Is=20body=20handling=20NP-compl
	ete? |Sender:=20;
	bh=8IvN0kvVdACNzHWSApJrCeOJ9SFTfI/4U6hzW1IYlAQ=;
	b=Bz39/lP0yJpi2LKWmZPiVHX7Kl3l0PvhjdBtqb00rXvoBlHjFcQ5AbUi0m
	ULCwJf7X1CUwdNnnm096pFpg3Wki8D4s15MCI/0oOt8EeFHHZsWCWRY8FY8+
	5S6fsmx9vE;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org
Subject: Re: [Sip] Is body handling NP-complete?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Dale,

I like the thorough treatment. It seems plausible to me.

One implication of this is that body parts need to be processed twice in 
a content-type+content-disposition+context dependent way: once to 
extract references, and again for final effect. (Hmm - is extracting of 
references dependent on the disposition and context?)

If you imagine that various content types are handled by plugins, then 
the plugins will each require two entry points - one for each of these 
processing modes. While that is certainly possible, it might mean that 
plugins that already exist for non-sip applications (e.g. email or html) 
may not be reusable for sip. (I am not familiar with the content-type 
plugins for other protocols such as email. But I presume that email 
plugins may be useful in some cases, at least for MESSAGE.)

Do plugins for email have this complexity?

An alternative is to do all the processing in one pass, and then at the 
end check if all body parts have been processed. BUT that means all the 
side effects of processing will have been realized before discovering 
that the message is in error. That is certainly not ideal.

> This example also points out that the requirement that references
> appear before the parts they reference is needed to make the problem
> tractable.  Otherwise, there could be circular dependencies between
> the choices for different multipart/alternatives, which might be
> impossible to analyze by an algorithm as simple as a tree-walk.

This requirement is satisfied by lots of simple cases. But it means that 
it is impossible to describe any kind of circular structure. I'm not 
familiar enough with the use of multipart/related to know if it is a 
restriction that is tolerable there. Perhaps someone can comment on that.

	Thanks,
	Paul

Dale.Worley@comcast.net wrote:
> Referring back to last March, in
> http://www.ietf.org/mail-archive/web/sip/current/msg22426.html, I was
> contemplating whether the rules for testing a message body required
> searching through combinations of choices regarding which alternatives
> of multipart/alternatives are chosen.  As I then conceptualized the
> problem, the question was "Is there a choice of alternatives such that
> all the constraints for 'successful processing' can be met?"  It turns
> out that if you phrase the question that way, the problem is
> NP-complete, which means in practice that any algorithm to solve it
> must do backtracking.
> 
> The new formulation of the problem attempts to avoid this by dividing
> the problem into three phases:  (1) assemble a tree which represents
> the dependencies of super-parts' being processable upon that of
> sub-parts, (2) walk the tree, tagging parts from the bottom up as to
> whether they are processable, (3) if the overall tree is processable,
> selecting for processing the correct subset of parts as directed by
> the tags in the tree.  As long as the size of the tree is commensurate
> with the number of body parts, the algorithm is inherently linear, and
> clearly it doesn't involve backtracking.
> 
> In regard to step (1), the tree is assembled:
> 
> - the root node represents the message body
> - a node for a multipart/alternative part has one child for each
>   component
> - a node for a multipart/mixed part has one child for each
>   component
> - a note for a multipart/related part is not automatically given
>   children for its components
> - a header in a part that refers to another component generates a
>   child of that part that represents the referred-to component
> - similarly, a reference within a part that refers to another
>   component generates a child of that part that represents the
>   referred-to component (This is how multipart/related nodes get
>   children.)
> 
> Of course, if a component is referred to multiple times, the component
> is represented by multiple nodes in the tree, one node for each of its
> roles.
> 
> However, there are subtleties I might be overlooking, so I am going to
> revisit the embedding of the NP-complete problem "3-satisfiability"
> into MIME to see what it reveals about my sketch of an algorithm.
> 
> Referring to the previous message:
> 
>     The reduction is as follows:
> 
>     http://en.wikipedia.org/wiki/NP-complete
>     http://en.wikipedia.org/wiki/Reduction_%28complexity%29
>     http://en.wikipedia.org/wiki/3-satisfiability#3-satisfiability
> 
>     Choose an instance of the 3-satisfiability problem, that is: a set of
>     boolean variables A, B, C, etc. and a formula composed of:
> 	    a series of "clauses" joined by AND, consisting of
> 		    a series of variables and their negations joined by OR.
>     The problem is to determine if there is any assignment of truth values
>     to the variables which makes the formula true, that is, which makes
>     true one of the variables or negations in each of the clauses.
> 
>     For example, choose 4 variables A, B, C, and D, and the formula
> 
>     (A OR B OR C) AND (B OR NOT-C OR D) AND (NOT-A OR NOT-B OR NOT-D)
> 
>     This can be satisfied by setting A=TRUE, B=FALSE, C=TRUE, and D=FALSE.
> 
>     Construct a multipart/mixed with each component labeled
>     handling=required.  Within that, for each variable, have a part which
>     is multipart/alternate with 2 parts.  If processing chooses the first
>     part of the part corresponding to a variable, that will model the
>     variable being TRUE.  If processing chooses the second part of the
>     part corresponding to a variable, that will model the variable being
>     FALSE.
> 
>     For example, our body starts:
> 
> 	    multipart/mixed
> 		    multipart/alternative;handling=required
> 			    first part corresponding to A (not yet specified)
> 			    second part corresponding to NOT-A
> 		    multipart/alternative;handling=required
> 			    first part corresponding to B
> 			    second part corresponding to NOT-B
> 		    multipart/alternative;handling=required
> 			    first part corresponding to C
> 			    second part corresponding to NOT-C
> 		    multipart/alternative;handling=required
> 			    first part corresponding to D
> 			    second part corresponding to NOT-D
> 
>     For each clause of the formula, add an additional body part, marked
>     "Content-Disposition: by-reference; handling=required".  Give the part
>     a 'cid' URL.  The ability of the recipient to successfully process
>     this part will model making the corresponding clause TRUE.
> 
>     For example, our body is now:
> 
> 	    multipart/mixed
> 		    multipart/alternative;handling=required
> 			    first part corresponding to A (not yet specified)
> 			    second part corresponding to NOT-A
> 		    multipart/alternative;handling=required
> 			    first part corresponding to B
> 			    second part corresponding to NOT-B
> 		    multipart/alternative;handling=required
> 			    first part corresponding to C
> 			    second part corresponding to NOT-C
> 		    multipart/alternative;handling=required
> 			    first part corresponding to D
> 			    second part corresponding to NOT-D
> 		    part (not otherwise specified);by-reference;handling=required;cid=clause1
> 		    part (not otherwise specified);by-reference;handling=required;cid=clause2
> 		    part (not otherwise specified);by-reference;handling=required;cid=clause3
> 
>     We now want to arrange things so that one of the last 3 parts can be
>     successfully processed only if we choose for processing one of the
>     earlier parts that corresponds to a variable value that will make the
>     corresponding clause true.  This is done by embedding forward
>     references in the variable-corresponding parts that refer to the
>     clause-corresponding parts.
> 
>     For example:
> 
>  1	    multipart/mixed
>  2		    multipart/alternative;handling=required
>  3			    first part corresponding to A
> 				    references cid:clause1
>  4			    second part corresponding to NOT-A
> 				    references cid:clause3
>  5		    multipart/alternative;handling=required
>  6			    first part corresponding to B
> 				    references cid:clause1
> 				    references cid:clause2
>  7			    second part corresponding to NOT-B
> 				    references cid:clause3
>  8		    multipart/alternative;handling=required
>  9			    first part corresponding to C
> 				    references cid:clause1
> 10			    second part corresponding to NOT-C
> 				    references cid:clause2
> 11		    multipart/alternative;handling=required
> 12			    first part corresponding to D
> 				    references cid:clause2
> 13			    second part corresponding to NOT-D
> 				    references cid:clause3
> 14		    part;by-reference;handling=required;cid=clause1
> 15		    part;by-reference;handling=required;cid=clause2
> 16		    part;by-reference;handling=required;cid=clause3
> 
>     In order to process this body, the recipient must choose exactly one
>     of each pair of bodies in the multipart/alternative body parts.  This
>     choice is equivalent to choosing a set of values for the variables.
>     The references embedded in the chosen parts refer to the body parts
>     that correspond to the clauses which are made true by the
>     corresponding variable's value.  In order to successfully process the
>     final body parts, the recipient must have chosen a set of variable
>     values that makes all of the clauses true.
> 
> The resulting tree is:
> 
> 	1 -+- 2 --+- 3 ---- 14
> 	   |      |
> 	   |      +- 4 ---- 16
> 	   |
> 	   +- 5 --+- 6 --+- 14
> 	   |      |      |
> 	   |      |      +- 15
> 	   |      |
> 	   |      +- 7 ---- 16
> 	   |
> 	   +- 8 --+- 9 ---- 14
> 	   |      |
> 	   |      +- 10 --- 15
> 	   |
> 	   +- 11 -+- 12 --- 15
> 	   |      |
> 	   |      +- 13 --- 16
> 	   |
> 	   +- 14
> 	   |
> 	   +- 15
> 	   |
> 	   +- 16
> 
> Though the number of nodes is greater than the number of body parts,
> it's limited approximately by the number of appearances of variables
> in the original boolean formula, so it's linear in the number of body
> parts.  So in building the tree, we don't have exponential effort.
> 
> In the new approach, we walk the tree, tagging each node as to whether
> it is processable.  In the above model, we assume that all the simple
> parts are processable, so all nodes labeled 2 through 16 are marked
> processable.  And as we tag the nodes for processability, we choose
> for each multipart/alternative node which child will be processed
> (namely, the last child that is processable).  In this tree, the
> choices are 2 -> 4, 5 -> 7, 8 -> 10, and 11 -> 13.
> 
> Where things get interesting is deciding if node 1 is processable.
> All of its children are processable, of course.  But the crux of the
> construction is how the "by-reference;handling=required" constraints
> on nodes 14, 15, and 16 are handled.  In this algorithm, we check
> whether each part is referenced by a part that will be processed.
> Fortunately, all references to these nodes must have been tree-walked
> before node 1 is examined, so can determine unambiguously whether used
> references point to those nodes.  In this case, we have chosen to
> process 2, 4, 5, 7, 8, 10, 11, and 13, which means that there are used
> references to 16, 16, 15, and 16.  This leaves 17 unreferenced, and so
> node 1 is determined to be unprocessable.
> 
> Note that the new algorithm avoids being NP-complete essentially by
> making choices as soon as they are seen.  In this model, values NOT-A,
> NOT-B, NOT-C, and NOT-D are chosen outright.  Since the example
> formula is not satisfied, the body that encodes it is not processable.
> 
> This example also points out that the requirement that references
> appear before the parts they reference is needed to make the problem
> tractable.  Otherwise, there could be circular dependencies between
> the choices for different multipart/alternatives, which might be
> impossible to analyze by an algorithm as simple as a tree-walk.
> 
> Dale
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 08:42:31 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C6CEA3A6B98;
	Tue, 30 Sep 2008 08:42:31 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id CB2443A6B98;
	Tue, 30 Sep 2008 08:42:29 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -106.599
X-Spam-Level: 
X-Spam-Status: No, score=-106.599 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, RCVD_IN_DNSWL_MED=-4, USER_IN_WHITELIST=-100]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kusN+dq78ycD; Tue, 30 Sep 2008 08:42:28 -0700 (PDT)
Received: from sj-iport-6.cisco.com (sj-iport-6.cisco.com [171.71.176.117])
	by core3.amsl.com (Postfix) with ESMTP id D71F53A6B52;
	Tue, 30 Sep 2008 08:42:28 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,338,1220227200"; d="scan'208";a="165872499"
Received: from sj-dkim-4.cisco.com ([171.71.179.196])
	by sj-iport-6.cisco.com with ESMTP; 30 Sep 2008 15:42:48 +0000
Received: from sj-core-5.cisco.com (sj-core-5.cisco.com [171.71.177.238])
	by sj-dkim-4.cisco.com (8.12.11/8.12.11) with ESMTP id m8UFgk0d032145; 
	Tue, 30 Sep 2008 08:42:46 -0700
Received: from [192.168.0.101] ([10.21.118.216])
	by sj-core-5.cisco.com (8.13.8/8.13.8) with ESMTP id m8UFgjmT023556;
	Tue, 30 Sep 2008 15:42:45 GMT
Message-Id: <9067906D-1AE1-464E-B505-BD5F59BB8AAA@cisco.com>
From: Cullen Jennings <fluffy@cisco.com>
To: SIP List <sip@ietf.org>, sipping <sipping@ietf.org>,
	IETF AVT WG <avt@ietf.org>, ECRIT <ecrit@ietf.org>
Mime-Version: 1.0 (Apple Message framework v929.2)
Date: Tue, 30 Sep 2008 11:42:44 -0400
References: <552C9CF9-94FB-42D4-875F-0D2440951DCB@cisco.com>
X-Mailer: Apple Mail (2.929.2)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=2466; t=1222789366;
	x=1223653366; c=relaxed/simple; s=sjdkim4002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=fluffy@cisco.com;
	z=From:=20Cullen=20Jennings=20<fluffy@cisco.com>
	|Subject:=20Fwd=3A=20[RAI]=20Making=20RAI=20work=20better
	|Sender:=20; bh=9tL+bWl+KYrrdaQVh4dmslfCrKpV2xOONJjCzrp7prU=;
	b=JbJPAZKcPRXzgroCivEGZVeHgdBBrZXxMnunpf1M6BZvYoC3dcVd+PUMrW
	oowRVe+RqPTYi31JjYPNhvbrShuzifWjzuSBI2m59HIyHjEYJnmXWe8RsTgf
	Y5gAyYjRRX;
Authentication-Results: sj-dkim-4; header.From=fluffy@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim4002 verified; ); 
Subject: [Sip] Fwd: [RAI] Making RAI work better
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"; DelSp="yes"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org


I'm sorry for the duplicate emails but just as a FYI ... I sent the  
following email to the rai@ietf.org list. If you want to reply, please  
do not reply to this email but go reply to the original on the rai list.

Thanks

Begin forwarded message:

> From: Cullen Jennings <fluffy@cisco.com>
> Date: September 30, 2008 11:37:29 AM EDT (CA)
> To: rai@ietf.org
> Subject: [RAI] Making RAI work better
>
>
> Over the past year or so, Jon and I have heard concerns about the
> efficiency and organization of the RAI Area. We have both observed  
> that
> the larger working groups, particularly SIP and SIPPING, continue to
> have difficulty tackling some of their more complex projects. The more
> critical a document seems to be from a dependency perspective, the  
> more
> late surprises seem to emerge in its development and the longer it  
> takes
> to escape from the working group process. A relatively small number of
> the working groups in the RAI Area seem to encompass the lion's  
> share of
> our documents in their scope, which may concentrate too much of our  
> work
> in too few areas and cause distracting parallelization.
>
> Ultimately, these problems might result from any number of causes.  
> There
> might be structural problems with the manner the RAI Area is divided
> into working groups, issues with chartering or focusing of the  
> efforts,
> snarls intrinsic to the technology, personnel problems at any number
> of levels, questions of participant energy, or any of a number of
> combinations thereof.
>
> What we'd like to do is kick off a discussion about ways that we can
> make RAI work better. As a part of that discussion we are reserving  
> one
> of our precious timeslots for a RAI Area open meeting in Minneapolis  
> (at
> least the Friday afternoon experiment will give us one more slot than
> usual). In order to help set an agenda for that meeting, we'd like to
> invite any comments and discussion on this list (rai@ietf.org),
> or if necessarily in private correspondence to Jon and I. We're
> interested to learn to what degree people believe there are problems
> that need to be addressed, and what sorts of problems and potential
> solutions the community can identify.
>
> Cullen Jennings
> Jon Peterson
> RAI Area Directors
> _______________________________________________
> RAI mailing list
> RAI@ietf.org
> https://www.ietf.org/mailman/listinfo/rai

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 08:46:30 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id DECD33A6B67;
	Tue, 30 Sep 2008 08:46:30 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id D574A28C0F0
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 08:46:28 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.109
X-Spam-Level: 
X-Spam-Status: No, score=-5.109 tagged_above=-999 required=5
	tests=[BAYES_05=-1.11, HTML_MESSAGE=0.001, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g+9780iTYaBt for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 08:46:27 -0700 (PDT)
Received: from imr1.ericy.com (imr1.ericy.com [198.24.6.9])
	by core3.amsl.com (Postfix) with ESMTP id 067513A6B92
	for <sip@ietf.org>; Tue, 30 Sep 2008 08:46:17 -0700 (PDT)
Received: from eusrcmw750.eamcs.ericsson.se (eusrcmw750.exu.ericsson.se
	[138.85.77.50])
	by imr1.ericy.com (8.13.1/8.13.1) with ESMTP id m8UFkxPo021919;
	Tue, 30 Sep 2008 10:46:59 -0500
Received: from ecamlmw720.eamcs.ericsson.se ([142.133.1.72]) by
	eusrcmw750.eamcs.ericsson.se with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 10:46:37 -0500
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 30 Sep 2008 11:46:32 -0400
Message-ID: <73FA090C1F1E6A40B4F565A28D8C71220A9D64C5@ecamlmw720.eamcs.ericsson.se>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Question on RFC 3264 Offer/Answer Model
thread-index: AckjE7ZyMJpmTJevTTqpqYRLeya5QA==
From: "George Foti" <george.foti@ericsson.com>
To: <sip@ietf.org>, "Jonathan Rosenberg" <jdrosen@cisco.com>
X-OriginalArrivalTime: 30 Sep 2008 15:46:37.0765 (UTC)
	FILETIME=[B957A750:01C92313]
Subject: [Sip] Question on RFC 3264 Offer/Answer Model
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0890624967=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0890624967==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C92313.B8AF930B"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C92313.B8AF930B
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I have a question on the subject RFC in particular when it relates to
multicast streams.
In section 6.2 on Multicast streams, the following is a quotation from
the RFC:

The set of media formats in the answer MUST be equal to or be a subset
of those in the offer. Removing a format is a way for the answerer to
indicate that the format is not supported. The ptime and bandwidth
attributes in the answer MUST equal the ones in the offer, if present.
If not present, a non-zero ptime MAY be added to the answer.=20

My question relates to the silence in regard what happens in the answer
if the bandwidth is absent from the offer.
Can the answer include a bandwidth.

I appreciate a clarification in that regard.

George Foti
Ericsson Canada

------_=_NextPart_001_01C92313.B8AF930B
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
6.5.7653.38">
<TITLE>Question on RFC 3264 Offer/Answer Model</TITLE>
</HEAD>
<BODY>
<!-- Converted from text/rtf format -->

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Verdana">Hi,</FONT>
</P>

<P><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Verdana">I have a question =
on the subject RFC in particular when it relates to multicast =
streams.</FONT>

<BR><FONT COLOR=3D"#0000FF" SIZE=3D2 FACE=3D"Verdana">In section 6.2 on =
Multicast streams, the following is a quotation from the RFC:</FONT>
</P>

<P><FONT FACE=3D"Times New Roman">The set of media formats in the answer =
MUST be equal to or be a subset of those in the offer. Removing a format =
is a way for the answerer to indicate that the format is not supported. =
The ptime and bandwidth attributes in the answer MUST equal the ones in =
the offer, if present. If not present, a non-zero ptime MAY be added to =
the answer. </FONT></P>

<P><SPAN LANG=3D"en-ca"><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Verdana">My question relates to the silence in regard what =
happens in the answer if the bandwidth is absent from the =
offer.</FONT></SPAN>

<BR><SPAN LANG=3D"en-ca"><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Verdana">Can the answer include a bandwidth.</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-ca"><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Verdana">I appreciate a clarification in that =
regard.</FONT></SPAN>
</P>

<P><SPAN LANG=3D"en-ca"><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Verdana">George Foti</FONT></SPAN>

<BR><SPAN LANG=3D"en-ca"><FONT COLOR=3D"#0000FF" SIZE=3D2 =
FACE=3D"Verdana">Ericsson Canada</FONT></SPAN>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C92313.B8AF930B--

--===============0890624967==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0890624967==--


From sip-bounces@ietf.org  Tue Sep 30 09:55:32 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 202F03A6833;
	Tue, 30 Sep 2008 09:55:32 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id C4D713A6833
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 09:55:30 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.398
X-Spam-Level: 
X-Spam-Status: No, score=-1.398 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_47=0.6,
	J_CHICKENPOX_93=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wKhw9M9WODMH for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 09:55:29 -0700 (PDT)
Received: from wa-out-1112.google.com (wa-out-1112.google.com [209.85.146.183])
	by core3.amsl.com (Postfix) with ESMTP id DC0DD3A67D0
	for <sip@ietf.org>; Tue, 30 Sep 2008 09:55:29 -0700 (PDT)
Received: by wa-out-1112.google.com with SMTP id n4so59318wag.5
	for <sip@ietf.org>; Tue, 30 Sep 2008 09:55:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:in-reply-to:mime-version:content-type:references;
	bh=SGxFXVPBJfpXB1vOrZN0OVY6frOHcseh5+jM5A4hkUM=;
	b=IX/zdO7d5wQGp5w97nDifSn3biFNqtu11pplBK7rKPANB+299GFY5fjjyRdj6CJNQZ
	gdKbmTTZDqx29TeYxc9xoAbVfTOI8TEm7x30JlNdNn5HVnpcXLsQe22EUGoAO2yJHY2o
	E/hvw0wxEw3W7mizBXchpzGZ5lSz0ufpGt5ZQ=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:in-reply-to:mime-version
	:content-type:references;
	b=edKsTngSBbKiVSL2azUNznluie/PBBaZEsDqGJrXLyvJDMKuDle2JSiNwvAF0d3S+b
	GFocfEa/0swRqQRPOgF+AyXfqh1mND7wSnn1dZP6Et3ghI+qp9fsL9UVPcWcC7pYbDF0
	tWZ0uYhI+VYHdMIYtNNliDZfZLe8ejGzolQt8=
Received: by 10.114.60.19 with SMTP id i19mr7907852waa.17.1222793727506;
	Tue, 30 Sep 2008 09:55:27 -0700 (PDT)
Received: by 10.114.81.17 with HTTP; Tue, 30 Sep 2008 09:55:27 -0700 (PDT)
Message-ID: <98abe9690809300955r2fa15948q2ae07aebff8d5628@mail.gmail.com>
Date: Tue, 30 Sep 2008 22:25:27 +0530
From: "Vineet Gupta" <gupta.vineet@gmail.com>
To: sip@ietf.org
In-Reply-To: <98abe9690809240718n7b735adekbe5da16374f4d95@mail.gmail.com>
MIME-Version: 1.0
References: <98abe9690809240718n7b735adekbe5da16374f4d95@mail.gmail.com>
Subject: Re: [Sip] Doubt related to URI parameters in remote-URI.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0348109081=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0348109081==
Content-Type: multipart/alternative; 
	boundary="----=_Part_44156_23570941.1222793727511"

------=_Part_44156_23570941.1222793727511
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

Hi,
I understand that the below questions might appear naive. However, I would
really appreciate opinion(s) on this, as this is required for my design.

Regards,
Vineet.


On Wed, Sep 24, 2008 at 7:48 PM, Vineet Gupta <gupta.vineet@gmail.com>wrote:

> Hi,
> I have very basic doubt related to URI parameters present in remote-contact
> URI (i.e. top-most Route URI or Remote Contact URI).
>
> Case 1: The remote-URI contains URI parameters like transport=TCP and
> comp=sigcomp once INVITE dialog is established.
> a) Is it mandatory for all the requests within the dialog to have
> transport=TCP and comp=sigcomp in the via header, there forcing compression
> and TCP transport for any connection within the dialog.
> b) Can I send some request within the same dialog by retaining these
> parameter in the request-URI, but not them copying them onto the via header,
> thereby sending the request uncompressed and on UDP.
>
> Case 2:  The remote-URI does not contain any URI parameters.
> a) Can any request within the dialog be sent with any parameters like
> transport=tcp;comp=sigcomp by putting them in via header irrespective of the
> way first request within the dialog (Ofcourse, keeping the capabilities of
> remote in mind) ?
>
> In general, do the parameters in the remote URI have any binding on
> requests within the dialog?
>
>
> Regards,
> Vineet.
>

------=_Part_44156_23570941.1222793727511
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr">Hi,<div><br></div><div>I understand that the below questions might appear&nbsp;naive. However, I would really appreciate opinion(s) on this, as this is required for my design.</div><div><br></div><div>Regards,</div>
<div>Vineet.</div><div><br><br><div class="gmail_quote">On Wed, Sep 24, 2008 at 7:48 PM, Vineet Gupta <span dir="ltr">&lt;<a href="mailto:gupta.vineet@gmail.com">gupta.vineet@gmail.com</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">
<div dir="ltr">Hi,<div><br></div><div>I have very basic doubt related to URI parameters present in remote-contact URI (i.e. top-most Route URI or Remote Contact URI).</div><div><br></div><div><span style="font-weight:bold"><span><span style="text-decoration:underline">Case 1: </span><span style="font-weight:normal">The remote-URI contains URI parameters like transport=TCP and comp=sigcomp once INVITE dialog is established.</span></span></span></div>

<div>a) Is it <span style="font-weight:bold">mandatory</span> for all the requests within the dialog to have transport=TCP and comp=sigcomp in the via header, there forcing compression and TCP transport for any connection within the dialog.</div>

<div>b) Can I send some request within the same dialog by retaining these parameter in the request-URI, but not them copying them onto the via header, thereby sending the request uncompressed and on UDP.</div><div><br></div>

<div><span style="font-weight:bold"><span style="text-decoration:underline">Case 2:</span>&nbsp;&nbsp;</span>The remote-URI does not contain any URI parameters.</div><div>a) Can any request within the dialog be sent with any parameters like transport=tcp;comp=sigcomp by putting them in via header irrespective of the way first request within the dialog (Ofcourse, keeping the capabilities of remote in mind) ?</div>

<div><br></div><div><span style="font-weight:bold">In general, do the parameters in the remote URI have any binding on requests within the dialog?</span></div>
<div><br></div><div><br></div><div>Regards,</div><div>Vineet.</div></div>
</blockquote></div><br></div></div>

------=_Part_44156_23570941.1222793727511--

--===============0348109081==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0348109081==--


From sip-bounces@ietf.org  Tue Sep 30 12:09:10 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 99D5E28C10C;
	Tue, 30 Sep 2008 12:09:10 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 418FB3A67B0
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 12:09:09 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -0.298
X-Spam-Level: 
X-Spam-Status: No, score=-0.298 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, MANGLED_SAVELE=2.3]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6PqWBOp21pGq for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 12:09:08 -0700 (PDT)
Received: from ey-out-2122.google.com (ey-out-2122.google.com [74.125.78.24])
	by core3.amsl.com (Postfix) with ESMTP id 143A93A688B
	for <sip@ietf.org>; Tue, 30 Sep 2008 12:09:07 -0700 (PDT)
Received: by ey-out-2122.google.com with SMTP id 9so73324eyd.31
	for <sip@ietf.org>; Tue, 30 Sep 2008 12:09:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=domainkey-signature:received:received:message-id:date:from:to
	:subject:mime-version:content-type;
	bh=kWZjGoX59u6PQh/0f9fRar7J/eZv2fsDO66Dj5Y4TqM=;
	b=sV2hxbIiMv+yV2YaCFiLSjX5+iy4WdRh7F03jsYW0PLC2NlFDEcCU0dalCMwY/STCe
	BDoR2xDHBhdEBatP0qh7YAYf23IYSw3U1EYk1JL3gmQKgfx10F3NcnRnZXRgXkOHEtNU
	ixDJPkk2Ln35C7UXhR2vfhx9u906N6xZJldis=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;
	h=message-id:date:from:to:subject:mime-version:content-type;
	b=tci+qIaRVn1OM7SCrmun8l1VgG7wkHKytJRzMH+Ysa1vZvHFxsXJA9h32cbREyzfce
	Cws6vf7qBzPrahMHk5Hq690LNmcujFzkB2JzjyHeGUhoodY3vYi9dADlaQFUO59at/y+
	6lUu7iL2yRVbaUe1hOXkMRnU+VY2CYwxncTXQ=
Received: by 10.210.137.14 with SMTP id k14mr8362596ebd.178.1222801768426;
	Tue, 30 Sep 2008 12:09:28 -0700 (PDT)
Received: by 10.210.68.8 with HTTP; Tue, 30 Sep 2008 12:09:28 -0700 (PDT)
Message-ID: <5d688850809301209r6b43aeeaqa4c9f49fa2fa1706@mail.gmail.com>
Date: Tue, 30 Sep 2008 15:09:28 -0400
From: "Pamela Zave" <pamelazave@gmail.com>
To: sip@ietf.org, sipping@ietf.org
MIME-Version: 1.0
Subject: [Sip] INVITE dialogs
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0010641780=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

--===============0010641780==
Content-Type: multipart/alternative; 
	boundary="----=_Part_57967_10830634.1222801768431"

------=_Part_57967_10830634.1222801768431
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

I have created a formal model of invite dialogs in SIP.  The primary
purpose of this model is to bring together information from multiple
RFCs in a document that is centralized, unambiguous, and analyzable.

The formal language, Promela, is the input language for the model-checker
Spin.  The UAC and UAS are two finite-state machines sending messages to
each other through queues.  Promela is used in a straightforward style
that is easy to understand.

http://www.research.att.com/~pamela/sip.html contains three versions of
the model and a paper "Understanding SIP through model-checking" that
explains the work in detail.  The page also contains the results of
analysis.  The accompanying notes explain 6 small problems in the RFCs
and the workarounds I have used.

This material is made freely available for the benefit of the SIP
community.  Questions, comments, corrections and other feedback are
welcomed.

Pamela Zave

------=_Part_57967_10830634.1222801768431
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

<div dir="ltr"><div>I have created a formal model of invite dialogs in SIP. &nbsp;The primary</div><div>purpose of this model is to bring together information from multiple</div><div>RFCs in a document that is centralized, unambiguous, and analyzable.</div>
<div><br></div><div>The formal language, Promela, is the input language for the model-checker</div><div>Spin. &nbsp;The UAC and UAS are two finite-state machines sending messages to</div><div>each other through queues. &nbsp;Promela is used in a straightforward style</div>
<div>that is easy to understand.</div><div><br></div><div><a href="http://www.research.att.com/~pamela/sip.html">http://www.research.att.com/~pamela/sip.html</a> contains three versions of</div><div>the model and a paper &quot;Understanding SIP through model-checking&quot; that</div>
<div>explains the work in detail. &nbsp;The page also contains the results of</div><div>analysis. &nbsp;The accompanying notes explain 6 small problems in the RFCs</div><div>and the workarounds I have used.</div><div><br></div><div>
This material is made freely available for the benefit of the SIP</div><div>community. &nbsp;Questions, comments, corrections and other feedback are</div><div>welcomed.</div><div><br></div><div>Pamela Zave</div><div><br></div>
</div>

------=_Part_57967_10830634.1222801768431--

--===============0010641780==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0010641780==--


From sip-bounces@ietf.org  Tue Sep 30 13:35:34 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 6935D3A6B2B;
	Tue, 30 Sep 2008 13:35:34 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 3B7A23A6B2F;
	Tue, 30 Sep 2008 13:35:33 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.329
X-Spam-Level: 
X-Spam-Status: No, score=-5.329 tagged_above=-999 required=5
	tests=[AWL=-1.030, BAYES_00=-2.599, MANGLED_SAVELE=2.3,
	RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BSY6sLUJIIW6; Tue, 30 Sep 2008 13:35:32 -0700 (PDT)
Received: from sj-iport-3.cisco.com (sj-iport-3.cisco.com [171.71.176.72])
	by core3.amsl.com (Postfix) with ESMTP id 3815C3A6B2B;
	Tue, 30 Sep 2008 13:35:32 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,339,1220227200"; d="scan'208";a="105586204"
Received: from sj-dkim-3.cisco.com ([171.71.179.195])
	by sj-iport-3.cisco.com with ESMTP; 30 Sep 2008 20:35:54 +0000
Received: from sj-core-2.cisco.com (sj-core-2.cisco.com [171.71.177.254])
	by sj-dkim-3.cisco.com (8.12.11/8.12.11) with ESMTP id m8UKZsKF000328; 
	Tue, 30 Sep 2008 13:35:54 -0700
Received: from xbh-rtp-201.amer.cisco.com (xbh-rtp-201.cisco.com
	[64.102.31.12])
	by sj-core-2.cisco.com (8.13.8/8.13.8) with ESMTP id m8UKZhTb000772;
	Tue, 30 Sep 2008 20:35:54 GMT
Received: from xfe-rtp-201.amer.cisco.com ([64.102.31.38]) by
	xbh-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 16:35:46 -0400
Received: from [161.44.174.168] ([161.44.174.168]) by
	xfe-rtp-201.amer.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 16:35:45 -0400
Message-ID: <48E28DA2.5060708@cisco.com>
Date: Tue, 30 Sep 2008 16:35:46 -0400
From: Paul Kyzivat <pkyzivat@cisco.com>
User-Agent: Thunderbird 2.0.0.17 (Windows/20080914)
MIME-Version: 1.0
To: Pamela Zave <pamelazave@gmail.com>
References: <5d688850809301209r6b43aeeaqa4c9f49fa2fa1706@mail.gmail.com>
In-Reply-To: <5d688850809301209r6b43aeeaqa4c9f49fa2fa1706@mail.gmail.com>
X-OriginalArrivalTime: 30 Sep 2008 20:35:45.0799 (UTC)
	FILETIME=[1D939170:01C9233C]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=3531; t=1222806954;
	x=1223670954; c=relaxed/simple; s=sjdkim3002;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=pkyzivat@cisco.com;
	z=From:=20Paul=20Kyzivat=20<pkyzivat@cisco.com>
	|Subject:=20Re=3A=20[Sip]=20INVITE=20dialogs |Sender:=20;
	bh=Gwkr1Dt6vgpBvH4+E3FpkM2EmkNxexS/bz9LiS4H74g=;
	b=JEwlvXEy+2OKxeSvI04e1psVG+Dcp9kOck42lfQ9dWDF58kV0dMXajbvJq
	LVSAz0Lkx0obAe7nAmYaGP3Kvyy7Zf9DxJAIxQm0RXIi3Sv7uEfQ65BoyUXP
	XL4DmP6SCq;
Authentication-Results: sj-dkim-3; header.From=pkyzivat@cisco.com; dkim=pass (
	sig from cisco.com/sjdkim3002 verified; ); 
Cc: sip@ietf.org, sipping@ietf.org, Miki HASEBE <hasebe.miki@east.ntt.co.jp>
Subject: Re: [Sip] INVITE dialogs
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Pamela,

This sounds interesting. I just skimmed the referenced web pages, and 
didn't take time to understand the details of the formalism, so I 
apologize if I have drawn the wrong conclusions.

I don't understand if the intent of this work is theoretical, or if it 
is intended as basis for a real implementation. If the latter, then some 
of the simplifying assumptions of your models probably need to be removed.

Of note, in many cases 3261 is less than clear, and some after the fact 
interpretation of the intent has had to be done. (You may consider this 
either discerning the intent of the Founders, or Judicial Activism, as 
you prefer.) One area where this has been done is around dialogs. It 
isn't entirely obvious, but is implicit in 3261+3265+3515 that you can 
have both an invite + a subscription, or multiple subscriptions sharing 
a dialog. RFC 5057 discusses this. In retrospect many people think it 
was a mistake to allow this, but it *is* used, in some limited ways, and 
probably cannot be removed. So in general you must be prepared to handle 
this. (Though you might be able to avoid it in some limited scope 
servers.) My fundamental is the introduction of the term "dialog usage" 
and its refinements: "invite dialog usage" and "subscribe dialog usage", 
and the partitioning of these from the notion of "dialog" which they 
share. I would think you should have the same partitioning in your models.

I then looked at your notes. I found it very interesting that through 
formal means you have identified a number of race conditions. I gather 
you are not aware of:

http://www.ietf.org/internet-drafts/draft-ietf-sipping-race-examples-06.txt

That document has been done without benefit of formal models. But it 
appears that there is substantial agreement about the set of race 
conditions. (I wish you had been around when we did that work.) That 
document is largely done, so it is likely impractical to get your input 
into it. But take a look. It has resolutions to most of the races. If 
you find any errors, please speak up.

	Thanks,
	Paul

Pamela Zave wrote:
> I have created a formal model of invite dialogs in SIP.  The primary
> purpose of this model is to bring together information from multiple
> RFCs in a document that is centralized, unambiguous, and analyzable.
> 
> The formal language, Promela, is the input language for the model-checker
> Spin.  The UAC and UAS are two finite-state machines sending messages to
> each other through queues.  Promela is used in a straightforward style
> that is easy to understand.
> 
> http://www.research.att.com/~pamela/sip.html contains three versions of
> the model and a paper "Understanding SIP through model-checking" that
> explains the work in detail.  The page also contains the results of
> analysis.  The accompanying notes explain 6 small problems in the RFCs
> and the workarounds I have used.
> 
> This material is made freely available for the benefit of the SIP
> community.  Questions, comments, corrections and other feedback are
> welcomed.
> 
> Pamela Zave
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 13:54:12 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 200F13A6B80;
	Tue, 30 Sep 2008 13:54:12 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 7B4BD3A6B80
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 13:54:10 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -2.923
X-Spam-Level: 
X-Spam-Status: No, score=-2.923 tagged_above=-999 required=5
	tests=[AWL=-0.324, BAYES_00=-2.599]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aEPRW9nkTXZC for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 13:54:09 -0700 (PDT)
Received: from demumfd002.nsn-inter.net (demumfd002.nsn-inter.net
	[217.115.75.234])
	by core3.amsl.com (Postfix) with ESMTP id 8BE863A6BCE
	for <sip@ietf.org>; Tue, 30 Sep 2008 13:54:08 -0700 (PDT)
Received: from demuprx017.emea.nsn-intra.net ([10.150.129.56])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id
	m8UKsK6a015937
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL);
	Tue, 30 Sep 2008 22:54:20 +0200
Received: from demuexc022.nsn-intra.net (webmail.nsn-intra.net [10.150.128.35])
	by demuprx017.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP
	id m8UKsHhQ002768; Tue, 30 Sep 2008 22:54:17 +0200
Received: from DEMUEXC006.nsn-intra.net ([10.150.128.103]) by
	demuexc022.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959); 
	Tue, 30 Sep 2008 22:54:17 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Tue, 30 Sep 2008 22:54:15 +0200
Message-ID: <085BE88FD18EE94085EB8960172CA35901041C31@DEMUEXC006.nsn-intra.net>
In-Reply-To: <E9DF97E4-0111-42D0-B681-B557E72385EF@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: AW: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
Thread-Index: Ackfi4toYPquL8cqSxygVTLMAjzmaQDssKZQ
References: <48D89A80.2090204@softarmor.com>
	<085BE88FD18EE94085EB8960172CA35901005A00@DEMUEXC006.nsn-intra.net>
	<E9DF97E4-0111-42D0-B681-B557E72385EF@cisco.com>
From: "Schneider, Peter (NSN - DE/Munich)" <peter.schneider@nsn.com>
To: "ext Cullen Jennings" <fluffy@cisco.com>
X-OriginalArrivalTime: 30 Sep 2008 20:54:17.0475 (UTC)
	FILETIME=[B42FDD30:01C9233E]
X-purgate: clean
X-purgate: This mail is considered clean
X-purgate-type: clean
X-purgate-Ad: Checked for Spam by eleven - eXpurgate www.eXpurgate.net
X-purgate-ID: 151667::080930225420-57D67BB0-23D71773/0-0/0-15
X-purgate-size: 9326/0
Cc: SIP List <sip@ietf.org>, Eric Rescorla <ekr@rtfm.com>,
	ext Dean Willis <dean.willis@softarmor.com>
Subject: Re: [Sip] Pub request for draft-ietf-sip-dtls-srtp-framework-03
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

Cullen,

sorry this took some time, and maybe the answer is not fully satisfactory. =
I could NOT adduce evidence that middleboxes generally don't latch on a con=
nectivity check as described in the ICE-draft. Rather, it seems that existi=
ng implementations can be configured to do so. =


However, in 3GPP/TISPAN it is recommended that terminals, if ICE is not sup=
ported, use empty (no payload) RTP packets for maintaining NAT bindings: A =
reference for this is the document

   3GPP TS 24.229 V8.5.0 (2008-09)
   "IP multimedia call control protocol based on
   Session Initiation Protocol (SIP) and Session
   Description Protocol (SDP)"
   http://www.3gpp.org/ftp/Specs/archive/24_series/24.229/24229-850.zip =


which is valid for TISPAN as well as for 3GPP (from Release 8, to be freeze=
d by the end of this year).

In its (normative) Appendix K5.2.1, the document talks more generally about=
 the keepalive for NAT bindings (i.e. not only for the initial establishing=
 of the binding). It states that ICE should be used, but "In the case where=
 keepalives are required and the other end does not support ICE ..., the UE=
 [user equipment] shall send an empty (no payload) RTP packet with a payloa=
d type of 20 as a keepalive ...".

So middleboxes that take this behaviour of user equipment into account will=
 latch on RTP packets. Assuming that the "STUN [I-D.ietf-behave-rfc3489bis]=
 connectivity check" mentioned in the DTLS-SRTP-framework-draft is in fact =
the connectivity check described in the ICE-draft, middleboxes may let such=
 requests pass and even latch on it, depending on the configuration. (Maybe=
 the framework-draft could use a wording that makes more clear that "Latchi=
ng control without ICE" still uses a method that is rather described in the=
 ICE-draft than in draft-ietf-behave-rfc3489bis to which the framework-draf=
t refers in the text.)

To conclude: In order to make DTLS-SRTP usable in more scenarios, it (still=
) seems favorable to me to allow (in the case ICE is not used) the usage of=
 empty RTP packets rather than make the "STUN connectivity check" mandatory=
 if the DTLS handshake stalls.

I feel that my other comments (see my original posting below) are still val=
id, in particular giving more weight to the recommendations from draft-ietf=
-mmusic-media-path-middleboxes by placing text reflecting these recommendat=
ions into the framework draft.

Peter =


> -----Urspr=FCngliche Nachricht-----
> Von: ext Cullen Jennings [mailto:fluffy@cisco.com] =

> Gesendet: Freitag, 26. September 2008 05:54
> An: Schneider, Peter (NSN - DE/Munich)
> Cc: ext Dean Willis; Hannes Tschofenig; Jason Fischl; Eric =

> Rescorla; SIP List
> Betreff: Re: AW: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> =

> =

> Peter,
> =

> This SBC latching is an interesting topic and has come up on some of  =

> the 3GPP/IETF joint conference calls. I view it as an issue =

> to do with  =

> middle-box traversal for SIP media and somewhat tangential to DTLS- =

> SRTP but that does not change the importance of discussing it.
> =

> The part I don't really understand is: Why can the SBC latch for RTP  =

> No-Op packets but not STUN? If you could provide any more =

> information  =

> about this question in the context of 3GPP usages, I think =

> that would  =

> be be helpful in deciding what to do.
> =

> Thanks, Cullen
> =

> =

> On Sep 23, 2008, at 8:28 AM, Schneider, Peter (NSN - DE/Munich) wrote:
> =

> > There is maybe one concern with the document in its current =

> form: Is  =

> > DTLS-SRTP as described now suitable as a media plane security  =

> > solution for the 3GPP IMS?
> >
> > A main problem here is the interworking with middleboxes, as  =

> > described in draft-ietf-mmusic-media-path-middleboxes. This =

> draft is  =

> > mentionened in draft-ietf-sip-dtls-srtp-framework-03 in a way that  =

> > makes me assume that following the recommendations of draft-ietf- =

> > mmusic-media-path-middleboxes is compliant with =

> draft-ietf-sip-dtls- =

> > srtp-framework-03. However, ignoring draft-ietf-mmusic-media-path- =

> > middleboxes is also possible, which would lead to a poor =

> interaction  =

> > with middleboxes. It would be favorable to have the =

> recommendations  =

> > inside draft-ietf-sip-dtls-srtp-framework itself, and to emphasize  =

> > that following theses recommendations will help making DTLS-SRTP  =

> > work in scenarios with middleboxes.
> >
> > A specific concern is: If ICE is not used, the passive side (the  =

> > server in the DTLS handshake) must use a STUN connectivity =

> check to  =

> > open a pinhole (in a middlebox). In 3GPP/TISPAN scenarios it is  =

> > likely that ICE and STUN do not work at the managed =

> middleboxes (the  =

> > SBCs) - such traffic may just be discarded. In particular, a STUN  =

> > connectivity check may NOT trigger latching at an SBC. =

> Sending of no- =

> > op RTP packets (see [I-D.ietf-avt-rtp-no-op]) however will trigger  =

> > the latching. (Both methods are mentioned in =

> draft-ietf-mmusic-media- =

> > path-middleboxes at equal ranks, but from the 3GPP/TISPAN and SBC  =

> > interaction perspective, the "wrong" one was selected as mandatory  =

> > in draft-ietf-sip-dtls-srtp-framework-03.)
> >
> > Consider this scenario, showing a managed middlebox plus an  =

> > unmanaged (e.g. residential) NAT/FW at the passive side:
> >
> >
> >     SIP     +-----------------+     SIP
> >  Signaling  |     SIP ALG     |  Signaling
> > <----------->+-----------------+<---------------+
> >             |   MIDCOM Agent  |                |
> >             +-----------------+                |
> >                      ^                         |
> >       Policy rule(s) | and NAT bindings  +---------+      =

> +----------+
> >                      v                   |     +---|----->| =

> Endpoint |
> >    Media      +-------------+   Media    | NAT/FW  |      | =

>    P     |
> > <------------->|  Middlebox  |<-----------|---------|----- =

> > >|          |
> >               +-------------+            +---------+      =

> +----------+
> >
> >
> > The MIDCOM agent will instruct the middlebox to relay the =

> traffic of  =

> > the session. But even after SDP offer and answer have been  =

> > exchanged, the middlebox and MIDCOM agent will not know which IP  =

> > address the residential NAT/FW is going to use for the media  =

> > session. A STUN connectivity check sent by endpoint P would open a  =

> > pinhole in the residential NAT/FW, but would be discarded by the  =

> > middlebox. An RTP packet however, e.g. a no-op RTP packet, would  =

> > typically cause latching at the middlebox, e.g. make the middlebox  =

> > take the source IP address of the RTP packet as the media =

> address of  =

> > endpoint P.
> >
> > Consequently, at least for 3GPP/TISPAN scenarios, no-op RTP =

> packets  =

> > should be used rather than STUN connectivity checks, and it =

> would be  =

> > favorable if the draft mentioned that, e.g. in the section =

> "Latching  =

> > Control Without ICE".
> > Maybe the best solution is to recommend  the no-op RTP packets for  =

> > all scenarios without ICE.
> >
> > Moreover, draft-ietf-mmusic-media-path-middleboxes recommends:
> >   - to retry signaling (for key exchange) on the media path in a  =

> > suitable way, if it has failed (REC #3)
> >   - to send an SDP answer as soon as possible, for example =

> within a  =

> > provisional SIP response (REC #4)
> > Wording reflecting these recommendations should be placed =

> in section  =

> > 6.7 of draft-ietf-sip-dtls-srtp-framework.
> >
> > In section 5 of draft-ietf-sip-dtls-srtp-framework, where it is  =

> > recommended for the answerer to take the active role, a =

> hint should  =

> > be added that in middlebox scenarios, where middleboxes block the  =

> > media path before SDP offer and answer have been exchanged (and  =

> > media before SDP answer will not work anyway), the answerer should  =

> > take the passive role rather then starting a DTLS-SRTP handshake  =

> > that will stall due to a blocking middlebox.
> >
> > Peter
> >
> >> -----Urspr=FCngliche Nachricht-----
> >> Von: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] Im
> >> Auftrag von ext Dean Willis
> >> Gesendet: Dienstag, 23. September 2008 09:28
> >> An: iesg-secretary@ietf.org
> >> Cc: CULLEN JENNINGS; sip@ietf.org
> >> Betreff: [Sip] Pub request for =

> draft-ietf-sip-dtls-srtp-framework-03
> >>
> >> We seem to be Done with the DTLS-SRTP Framework!
> >>
> >>
> >> Here's the draft writeup for draft-ietf-sip-dtls-srtp-framework-03.
> >> Please report any problems (like, maybe I cut-and-pasted the wrong
> >> buffer again) to me and to the list. Thanks!
> >>
> > ...
> >>
> >>
> >> (1.c) Does the Document Shepherd have concerns that the document
> >> needs more review from a particular or broader perspective, e.g.,
> >> security, operational complexity, someone familiar with AAA,
> >> internationalization or XML?
> >>
> >> The reviews appear to be adequate.
> >>
> > ...
> =

> =

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Tue Sep 30 15:18:08 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 8D6A13A68DC;
	Tue, 30 Sep 2008 15:18:08 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 686B13A68DC
	for <sip@core3.amsl.com>; Tue, 30 Sep 2008 15:18:07 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -1.999
X-Spam-Level: 
X-Spam-Status: No, score=-1.999 tagged_above=-999 required=5
	tests=[AWL=-0.600, BAYES_00=-2.599, J_CHICKENPOX_14=0.6,
	J_CHICKENPOX_15=0.6]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id vxqyKz0OzUrg for <sip@core3.amsl.com>;
	Tue, 30 Sep 2008 15:18:06 -0700 (PDT)
Received: from ihemail1.lucent.com (ihemail1.lucent.com [135.245.0.33])
	by core3.amsl.com (Postfix) with ESMTP id E2CC23A6800
	for <sip@ietf.org>; Tue, 30 Sep 2008 15:18:05 -0700 (PDT)
Received: from ilexp01.ndc.lucent.com (h135-3-39-1.lucent.com [135.3.39.1])
	by ihemail1.lucent.com (8.13.8/IER-o) with ESMTP id m8UMICOP017274;
	Tue, 30 Sep 2008 17:18:12 -0500 (CDT)
Received: from DEEXP01.de.lucent.com ([135.248.187.65]) by
	ilexp01.ndc.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Tue, 30 Sep 2008 17:18:12 -0500
Received: from DEEXC1U01.de.lucent.com ([135.248.187.20]) by
	DEEXP01.de.lucent.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 1 Oct 2008 00:18:10 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 1 Oct 2008 00:18:07 +0200
Message-ID: <5D1A7985295922448D5550C94DE2918002361364@DEEXC1U01.de.lucent.com>
In-Reply-To: <48E22F32.8050202@cisco.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Is body handling NP-complete?
Thread-Index: AckjBAHau8IM6brIRHCjFWxi25LQzwARhHMw
References: <200809300309.m8U39wbI37097791@shell01.TheWorld.com>
	<48E22F32.8050202@cisco.com>
From: "DRAGE, Keith \(Keith\)" <drage@alcatel-lucent.com>
To: "Paul Kyzivat" <pkyzivat@cisco.com>, <Dale.Worley@comcast.net>
X-OriginalArrivalTime: 30 Sep 2008 22:18:10.0588 (UTC)
	FILETIME=[6C27F5C0:01C9234A]
X-Scanned-By: MIMEDefang 2.57 on 135.245.2.33
Cc: sip@ietf.org
Subject: Re: [Sip] Is body handling NP-complete?
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

I would note that if this does end up in the specification, it can carry
a rider that implementations should exhibit behaviour as demonstrated by
the algorithm, not that they need to implement the algorithm itself. 

However I leave it to the working group to ascertain whether they prefer
this as a means of specification.

Regards

Keith

> -----Original Message-----
> From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On 
> Behalf Of Paul Kyzivat
> Sent: Tuesday, September 30, 2008 2:53 PM
> To: Dale.Worley@comcast.net
> Cc: sip@ietf.org
> Subject: Re: [Sip] Is body handling NP-complete?
> 
> Dale,
> 
> I like the thorough treatment. It seems plausible to me.
> 
> One implication of this is that body parts need to be 
> processed twice in a content-type+content-disposition+context 
> dependent way: once to extract references, and again for 
> final effect. (Hmm - is extracting of references dependent on 
> the disposition and context?)
> 
> If you imagine that various content types are handled by 
> plugins, then the plugins will each require two entry points 
> - one for each of these processing modes. While that is 
> certainly possible, it might mean that plugins that already 
> exist for non-sip applications (e.g. email or html) may not 
> be reusable for sip. (I am not familiar with the content-type 
> plugins for other protocols such as email. But I presume that 
> email plugins may be useful in some cases, at least for MESSAGE.)
> 
> Do plugins for email have this complexity?
> 
> An alternative is to do all the processing in one pass, and 
> then at the end check if all body parts have been processed. 
> BUT that means all the side effects of processing will have 
> been realized before discovering that the message is in 
> error. That is certainly not ideal.
> 
> > This example also points out that the requirement that references 
> > appear before the parts they reference is needed to make 
> the problem 
> > tractable.  Otherwise, there could be circular dependencies between 
> > the choices for different multipart/alternatives, which might be 
> > impossible to analyze by an algorithm as simple as a tree-walk.
> 
> This requirement is satisfied by lots of simple cases. But it 
> means that it is impossible to describe any kind of circular 
> structure. I'm not familiar enough with the use of 
> multipart/related to know if it is a restriction that is 
> tolerable there. Perhaps someone can comment on that.
> 
> 	Thanks,
> 	Paul
> 
> Dale.Worley@comcast.net wrote:
> > Referring back to last March, in
> > 
> http://www.ietf.org/mail-archive/web/sip/current/msg22426.html, I was 
> > contemplating whether the rules for testing a message body required 
> > searching through combinations of choices regarding which 
> alternatives 
> > of multipart/alternatives are chosen.  As I then conceptualized the 
> > problem, the question was "Is there a choice of 
> alternatives such that 
> > all the constraints for 'successful processing' can be 
> met?"  It turns 
> > out that if you phrase the question that way, the problem is 
> > NP-complete, which means in practice that any algorithm to solve it 
> > must do backtracking.
> > 
> > The new formulation of the problem attempts to avoid this 
> by dividing 
> > the problem into three phases:  (1) assemble a tree which 
> represents 
> > the dependencies of super-parts' being processable upon that of 
> > sub-parts, (2) walk the tree, tagging parts from the bottom 
> up as to 
> > whether they are processable, (3) if the overall tree is 
> processable, 
> > selecting for processing the correct subset of parts as directed by 
> > the tags in the tree.  As long as the size of the tree is 
> commensurate 
> > with the number of body parts, the algorithm is inherently 
> linear, and 
> > clearly it doesn't involve backtracking.
> > 
> > In regard to step (1), the tree is assembled:
> > 
> > - the root node represents the message body
> > - a node for a multipart/alternative part has one child for each
> >   component
> > - a node for a multipart/mixed part has one child for each
> >   component
> > - a note for a multipart/related part is not automatically given
> >   children for its components
> > - a header in a part that refers to another component generates a
> >   child of that part that represents the referred-to component
> > - similarly, a reference within a part that refers to another
> >   component generates a child of that part that represents the
> >   referred-to component (This is how multipart/related nodes get
> >   children.)
> > 
> > Of course, if a component is referred to multiple times, 
> the component 
> > is represented by multiple nodes in the tree, one node for 
> each of its 
> > roles.
> > 
> > However, there are subtleties I might be overlooking, so I 
> am going to 
> > revisit the embedding of the NP-complete problem "3-satisfiability"
> > into MIME to see what it reveals about my sketch of an algorithm.
> > 
> > Referring to the previous message:
> > 
> >     The reduction is as follows:
> > 
> >     http://en.wikipedia.org/wiki/NP-complete
> >     http://en.wikipedia.org/wiki/Reduction_%28complexity%29
> >     http://en.wikipedia.org/wiki/3-satisfiability#3-satisfiability
> > 
> >     Choose an instance of the 3-satisfiability problem, 
> that is: a set of
> >     boolean variables A, B, C, etc. and a formula composed of:
> > 	    a series of "clauses" joined by AND, consisting of
> > 		    a series of variables and their negations 
> joined by OR.
> >     The problem is to determine if there is any assignment 
> of truth values
> >     to the variables which makes the formula true, that is, 
> which makes
> >     true one of the variables or negations in each of the clauses.
> > 
> >     For example, choose 4 variables A, B, C, and D, and the formula
> > 
> >     (A OR B OR C) AND (B OR NOT-C OR D) AND (NOT-A OR NOT-B 
> OR NOT-D)
> > 
> >     This can be satisfied by setting A=TRUE, B=FALSE, 
> C=TRUE, and D=FALSE.
> > 
> >     Construct a multipart/mixed with each component labeled
> >     handling=required.  Within that, for each variable, 
> have a part which
> >     is multipart/alternate with 2 parts.  If processing 
> chooses the first
> >     part of the part corresponding to a variable, that will 
> model the
> >     variable being TRUE.  If processing chooses the second 
> part of the
> >     part corresponding to a variable, that will model the 
> variable being
> >     FALSE.
> > 
> >     For example, our body starts:
> > 
> > 	    multipart/mixed
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to A (not 
> yet specified)
> > 			    second part corresponding to NOT-A
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to B
> > 			    second part corresponding to NOT-B
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to C
> > 			    second part corresponding to NOT-C
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to D
> > 			    second part corresponding to NOT-D
> > 
> >     For each clause of the formula, add an additional body 
> part, marked
> >     "Content-Disposition: by-reference; handling=required". 
>  Give the part
> >     a 'cid' URL.  The ability of the recipient to 
> successfully process
> >     this part will model making the corresponding clause TRUE.
> > 
> >     For example, our body is now:
> > 
> > 	    multipart/mixed
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to A (not 
> yet specified)
> > 			    second part corresponding to NOT-A
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to B
> > 			    second part corresponding to NOT-B
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to C
> > 			    second part corresponding to NOT-C
> > 		    multipart/alternative;handling=required
> > 			    first part corresponding to D
> > 			    second part corresponding to NOT-D
> > 		    part (not otherwise 
> specified);by-reference;handling=required;cid=clause1
> > 		    part (not otherwise 
> specified);by-reference;handling=required;cid=clause2
> > 		    part (not otherwise 
> > specified);by-reference;handling=required;cid=clause3
> > 
> >     We now want to arrange things so that one of the last 3 
> parts can be
> >     successfully processed only if we choose for processing 
> one of the
> >     earlier parts that corresponds to a variable value that 
> will make the
> >     corresponding clause true.  This is done by embedding forward
> >     references in the variable-corresponding parts that refer to the
> >     clause-corresponding parts.
> > 
> >     For example:
> > 
> >  1	    multipart/mixed
> >  2		    multipart/alternative;handling=required
> >  3			    first part corresponding to A
> > 				    references cid:clause1
> >  4			    second part corresponding to NOT-A
> > 				    references cid:clause3
> >  5		    multipart/alternative;handling=required
> >  6			    first part corresponding to B
> > 				    references cid:clause1
> > 				    references cid:clause2
> >  7			    second part corresponding to NOT-B
> > 				    references cid:clause3
> >  8		    multipart/alternative;handling=required
> >  9			    first part corresponding to C
> > 				    references cid:clause1
> > 10			    second part corresponding to NOT-C
> > 				    references cid:clause2
> > 11		    multipart/alternative;handling=required
> > 12			    first part corresponding to D
> > 				    references cid:clause2
> > 13			    second part corresponding to NOT-D
> > 				    references cid:clause3
> > 14		    part;by-reference;handling=required;cid=clause1
> > 15		    part;by-reference;handling=required;cid=clause2
> > 16		    part;by-reference;handling=required;cid=clause3
> > 
> >     In order to process this body, the recipient must 
> choose exactly one
> >     of each pair of bodies in the multipart/alternative 
> body parts.  This
> >     choice is equivalent to choosing a set of values for 
> the variables.
> >     The references embedded in the chosen parts refer to 
> the body parts
> >     that correspond to the clauses which are made true by the
> >     corresponding variable's value.  In order to 
> successfully process the
> >     final body parts, the recipient must have chosen a set 
> of variable
> >     values that makes all of the clauses true.
> > 
> > The resulting tree is:
> > 
> > 	1 -+- 2 --+- 3 ---- 14
> > 	   |      |
> > 	   |      +- 4 ---- 16
> > 	   |
> > 	   +- 5 --+- 6 --+- 14
> > 	   |      |      |
> > 	   |      |      +- 15
> > 	   |      |
> > 	   |      +- 7 ---- 16
> > 	   |
> > 	   +- 8 --+- 9 ---- 14
> > 	   |      |
> > 	   |      +- 10 --- 15
> > 	   |
> > 	   +- 11 -+- 12 --- 15
> > 	   |      |
> > 	   |      +- 13 --- 16
> > 	   |
> > 	   +- 14
> > 	   |
> > 	   +- 15
> > 	   |
> > 	   +- 16
> > 
> > Though the number of nodes is greater than the number of 
> body parts, 
> > it's limited approximately by the number of appearances of 
> variables 
> > in the original boolean formula, so it's linear in the 
> number of body 
> > parts.  So in building the tree, we don't have exponential effort.
> > 
> > In the new approach, we walk the tree, tagging each node as 
> to whether 
> > it is processable.  In the above model, we assume that all 
> the simple 
> > parts are processable, so all nodes labeled 2 through 16 are marked 
> > processable.  And as we tag the nodes for processability, we choose 
> > for each multipart/alternative node which child will be processed 
> > (namely, the last child that is processable).  In this tree, the 
> > choices are 2 -> 4, 5 -> 7, 8 -> 10, and 11 -> 13.
> > 
> > Where things get interesting is deciding if node 1 is processable.
> > All of its children are processable, of course.  But the 
> crux of the 
> > construction is how the "by-reference;handling=required" 
> constraints 
> > on nodes 14, 15, and 16 are handled.  In this algorithm, we check 
> > whether each part is referenced by a part that will be processed.
> > Fortunately, all references to these nodes must have been 
> tree-walked 
> > before node 1 is examined, so can determine unambiguously 
> whether used 
> > references point to those nodes.  In this case, we have chosen to 
> > process 2, 4, 5, 7, 8, 10, 11, and 13, which means that 
> there are used 
> > references to 16, 16, 15, and 16.  This leaves 17 
> unreferenced, and so 
> > node 1 is determined to be unprocessable.
> > 
> > Note that the new algorithm avoids being NP-complete essentially by 
> > making choices as soon as they are seen.  In this model, 
> values NOT-A, 
> > NOT-B, NOT-C, and NOT-D are chosen outright.  Since the example 
> > formula is not satisfied, the body that encodes it is not 
> processable.
> > 
> > This example also points out that the requirement that references 
> > appear before the parts they reference is needed to make 
> the problem 
> > tractable.  Otherwise, there could be circular dependencies between 
> > the choices for different multipart/alternatives, which might be 
> > impossible to analyze by an algorithm as simple as a tree-walk.
> > 
> > Dale
> > _______________________________________________
> > Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol Use 
> > sip-implementors@cs.columbia.edu for questions on current sip Use 
> > sipping@ietf.org for new developments on the application of sip
> > 
> _______________________________________________
> Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol Use 
> sip-implementors@cs.columbia.edu for questions on current sip 
> Use sipping@ietf.org for new developments on the application of sip
> 
_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


From sip-bounces@ietf.org  Wed Oct  1 00:04:33 2008
Return-Path: <sip-bounces@ietf.org>
X-Original-To: sip-archive@optimus.ietf.org
Delivered-To: ietfarch-sip-archive@core3.amsl.com
Received: from [127.0.0.1] (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 5D7EA3A6A02;
	Wed,  1 Oct 2008 00:04:33 -0700 (PDT)
X-Original-To: sip@core3.amsl.com
Delivered-To: sip@core3.amsl.com
Received: from localhost (localhost [127.0.0.1])
	by core3.amsl.com (Postfix) with ESMTP id 263763A6A02
	for <sip@core3.amsl.com>; Wed,  1 Oct 2008 00:04:31 -0700 (PDT)
X-Virus-Scanned: amavisd-new at amsl.com
X-Spam-Flag: NO
X-Spam-Score: -5.398
X-Spam-Level: 
X-Spam-Status: No, score=-5.398 tagged_above=-999 required=5
	tests=[BAYES_00=-2.599, HTML_MESSAGE=0.001, J_CHICKENPOX_47=0.6,
	J_CHICKENPOX_93=0.6, RCVD_IN_DNSWL_MED=-4]
Received: from mail.ietf.org ([64.170.98.32])
	by localhost (core3.amsl.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id w701+CY5rWlB for <sip@core3.amsl.com>;
	Wed,  1 Oct 2008 00:04:30 -0700 (PDT)
Received: from ind-iport-1.cisco.com (ind-iport-1.cisco.com [64.104.129.195])
	by core3.amsl.com (Postfix) with ESMTP id E974E3A68AA
	for <sip@ietf.org>; Wed,  1 Oct 2008 00:04:28 -0700 (PDT)
X-IronPort-AV: E=Sophos;i="4.33,342,1220227200"; d="scan'208,217";a="29764648"
Received: from hkg-dkim-2.cisco.com ([10.75.231.163])
	by ind-iport-1.cisco.com with ESMTP; 01 Oct 2008 07:04:39 +0000
Received: from hkg-core-1.cisco.com (hkg-core-1.cisco.com [64.104.123.94])
	by hkg-dkim-2.cisco.com (8.12.11/8.12.11) with ESMTP id m9174cfK011767; 
	Wed, 1 Oct 2008 15:04:38 +0800
Received: from xbh-hkg-412.apac.cisco.com (xbh-hkg-412.cisco.com
	[64.104.123.69])
	by hkg-core-1.cisco.com (8.13.8/8.13.8) with ESMTP id m9174cHg009664;
	Wed, 1 Oct 2008 07:04:38 GMT
Received: from xmb-hkg-412.apac.cisco.com ([64.104.123.84]) by
	xbh-hkg-412.apac.cisco.com with Microsoft SMTPSVC(6.0.3790.1830); 
	Wed, 1 Oct 2008 15:04:38 +0800
X-Mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Date: Wed, 1 Oct 2008 15:04:36 +0800
Message-ID: <F86B91A10B14744E88408E80B8A30EF30398D881@xmb-hkg-412.apac.cisco.com>
In-Reply-To: <98abe9690809300955r2fa15948q2ae07aebff8d5628@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: [Sip] Doubt related to URI parameters in remote-URI.
Thread-Index: AckjHXXbLykZSqR6Q9SiepOLFPx/pwAdT/8g
References: <98abe9690809240718n7b735adekbe5da16374f4d95@mail.gmail.com>
	<98abe9690809300955r2fa15948q2ae07aebff8d5628@mail.gmail.com>
From: "Rockson Li (zhengyli)" <zhengyli@cisco.com>
To: "Vineet Gupta" <gupta.vineet@gmail.com>, <sip@ietf.org>
X-OriginalArrivalTime: 01 Oct 2008 07:04:38.0073 (UTC)
	FILETIME=[F7C3AA90:01C92393]
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; l=6439; t=1222844678;
	x=1223708678; c=relaxed/simple; s=hkgdkim2001;
	h=Content-Type:From:Subject:Content-Transfer-Encoding:MIME-Version;
	d=cisco.com; i=zhengyli@cisco.com;
	z=From:=20=22Rockson=20Li=20(zhengyli)=22=20<zhengyli@cisco.
	com>
	|Subject:=20RE=3A=20[Sip]=20Doubt=20related=20to=20URI=20pa
	rameters=20in=20remote-URI. |Sender:=20;
	bh=O8RS7QgYwfopgCtmRh4/tiEXx5caIfouP+szyFBP5F8=;
	b=EXj4+c8LX/nOSUBc4lQFUx1Bi/70+ExSF9/3ZW12L5SsiSuhWsrFX292ru
	atp8Y62ThefLzcf5CeZlHAMkCSYLe0tGHXCgISn2XvLkUKcOBUJQZQSQAluR
	QUITGMIdOjfCR+TCPJxA4T0bLeQa9h7l08BzyLfkKVlHgm9W/9Sys=;
Authentication-Results: hkg-dkim-2; header.From=zhengyli@cisco.com; dkim=pass (
	sig from cisco.com/hkgdkim2001 verified; ); 
Subject: Re: [Sip] Doubt related to URI parameters in remote-URI.
X-BeenThere: sip@ietf.org
X-Mailman-Version: 2.1.9
Precedence: list
List-Id: Session Initiation Protocol <sip.ietf.org>
List-Unsubscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=unsubscribe>
List-Post: <mailto:sip@ietf.org>
List-Help: <mailto:sip-request@ietf.org?subject=help>
List-Subscribe: <https://www.ietf.org/mailman/listinfo/sip>,
	<mailto:sip-request@ietf.org?subject=subscribe>
Content-Type: multipart/mixed; boundary="===============0907626277=="
Sender: sip-bounces@ietf.org
Errors-To: sip-bounces@ietf.org

This is a multi-part message in MIME format.

--===============0907626277==
Content-class: urn:content-classes:message
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C92393.F7910304"

This is a multi-part message in MIME format.

------_=_NextPart_001_01C92393.F7910304
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Vineet,
=20
If remote target URI has transport parameter, you should send it using
the specified transport as per RFC3263.
The transport specified in Via sent-protocol transport should be set
accordingly.
=20
-Rockson
  =20
________________________________

From: sip-bounces@ietf.org [mailto:sip-bounces@ietf.org] On Behalf Of
Vineet Gupta
Sent: Wednesday, October 01, 2008 12:55 AM
To: sip@ietf.org
Subject: Re: [Sip] Doubt related to URI parameters in remote-URI.


Hi,=20

I understand that the below questions might appear naive. However, I
would really appreciate opinion(s) on this, as this is required for my
design.

Regards,
Vineet.


On Wed, Sep 24, 2008 at 7:48 PM, Vineet Gupta <gupta.vineet@gmail.com>
wrote:


	Hi,=20

	I have very basic doubt related to URI parameters present in
remote-contact URI (i.e. top-most Route URI or Remote Contact URI).

	Case 1: The remote-URI contains URI parameters like
transport=3DTCP and comp=3Dsigcomp once INVITE dialog is established.
	a) Is it mandatory for all the requests within the dialog to
have transport=3DTCP and comp=3Dsigcomp in the via header, there forcing
compression and TCP transport for any connection within the dialog.
	b) Can I send some request within the same dialog by retaining
these parameter in the request-URI, but not them copying them onto the
via header, thereby sending the request uncompressed and on UDP.

	Case 2:  The remote-URI does not contain any URI parameters.
	a) Can any request within the dialog be sent with any parameters
like transport=3Dtcp;comp=3Dsigcomp by putting them in via header
irrespective of the way first request within the dialog (Ofcourse,
keeping the capabilities of remote in mind) ?

	In general, do the parameters in the remote URI have any binding
on requests within the dialog?


	Regards,
	Vineet.



------_=_NextPart_001_01C92393.F7910304
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.6000.16705" name=3DGENERATOR></HEAD>
<BODY>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>Vineet,</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>If remote target URI has transport parameter, =
you should=20
send it using the specified transport as per =
RFC3263.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>The transport specified in Via sent-protocol =
transport=20
should be set accordingly.</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2></FONT></SPAN>&nbsp;</DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>-Rockson</FONT></SPAN></DIV>
<DIV dir=3Dltr align=3Dleft><SPAN class=3D016385506-01102008><FONT =
face=3DArial=20
color=3D#0000ff size=3D2>&nbsp;&nbsp;</FONT></SPAN>
<HR tabIndex=3D-1>
<FONT face=3DTahoma size=3D2><B>From:</B> sip-bounces@ietf.org=20
[mailto:sip-bounces@ietf.org] <B>On Behalf Of </B>Vineet =
Gupta<BR><B>Sent:</B>=20
Wednesday, October 01, 2008 12:55 AM<BR><B>To:</B>=20
sip@ietf.org<BR><B>Subject:</B> Re: [Sip] Doubt related to URI =
parameters in=20
remote-URI.<BR></FONT><BR></DIV>
<DIV></DIV>
<DIV dir=3Dltr>Hi,
<DIV><BR></DIV>
<DIV>I understand that the below questions might appear&nbsp;naive. =
However, I=20
would really appreciate opinion(s) on this, as this is required for my=20
design.</DIV>
<DIV><BR></DIV>
<DIV>Regards,</DIV>
<DIV>Vineet.</DIV>
<DIV><BR><BR>
<DIV class=3Dgmail_quote>On Wed, Sep 24, 2008 at 7:48 PM, Vineet Gupta =
<SPAN=20
dir=3Dltr>&lt;<A=20
href=3D"mailto:gupta.vineet@gmail.com">gupta.vineet@gmail.com</A>&gt;</SP=
AN>=20
wrote:<BR>
<BLOCKQUOTE class=3Dgmail_quote=20
style=3D"PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc =
1px solid">
  <DIV dir=3Dltr>Hi,
  <DIV><BR></DIV>
  <DIV>I have very basic doubt related to URI parameters present in=20
  remote-contact URI (i.e. top-most Route URI or Remote Contact =
URI).</DIV>
  <DIV><BR></DIV>
  <DIV><SPAN style=3D"FONT-WEIGHT: bold"><SPAN><SPAN=20
  style=3D"TEXT-DECORATION: underline">Case 1: </SPAN><SPAN=20
  style=3D"FONT-WEIGHT: normal">The remote-URI contains URI parameters =
like=20
  transport=3DTCP and comp=3Dsigcomp once INVITE dialog is=20
  established.</SPAN></SPAN></SPAN></DIV>
  <DIV>a) Is it <SPAN style=3D"FONT-WEIGHT: bold">mandatory</SPAN> for =
all the=20
  requests within the dialog to have transport=3DTCP and comp=3Dsigcomp =
in the via=20
  header, there forcing compression and TCP transport for any connection =
within=20
  the dialog.</DIV>
  <DIV>b) Can I send some request within the same dialog by retaining =
these=20
  parameter in the request-URI, but not them copying them onto the via =
header,=20
  thereby sending the request uncompressed and on UDP.</DIV>
  <DIV><BR></DIV>
  <DIV><SPAN style=3D"FONT-WEIGHT: bold"><SPAN=20
  style=3D"TEXT-DECORATION: underline">Case =
2:</SPAN>&nbsp;&nbsp;</SPAN>The=20
  remote-URI does not contain any URI parameters.</DIV>
  <DIV>a) Can any request within the dialog be sent with any parameters =
like=20
  transport=3Dtcp;comp=3Dsigcomp by putting them in via header =
irrespective of the=20
  way first request within the dialog (Ofcourse, keeping the =
capabilities of=20
  remote in mind) ?</DIV>
  <DIV><BR></DIV>
  <DIV><SPAN style=3D"FONT-WEIGHT: bold">In general, do the parameters =
in the=20
  remote URI have any binding on requests within the =
dialog?</SPAN></DIV>
  <DIV><BR></DIV>
  <DIV><BR></DIV>
  <DIV>Regards,</DIV>
  =
<DIV>Vineet.</DIV></DIV></BLOCKQUOTE></DIV><BR></DIV></DIV></BODY></HTML>=


------_=_NextPart_001_01C92393.F7910304--

--===============0907626277==
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
Sip mailing list  https://www.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip
--===============0907626277==--


