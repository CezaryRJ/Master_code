From daemon@optimus.ietf.org  Thu Nov  1 00:30:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA10567
	for <sip-archive@odin.ietf.org>; Wed, 31 Oct 2001 23:33:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA21723
	for sip-archive@odin.ietf.org; Wed, 31 Oct 2001 23:33:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA21301;
	Wed, 31 Oct 2001 23:17:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA21270
	for <sip@optimus.ietf.org>; Wed, 31 Oct 2001 23:17:04 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA10140
	for <sip@ietf.org>; Wed, 31 Oct 2001 23:17:03 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA14FEb7022491;
	Wed, 31 Oct 2001 23:15:15 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <V45PLH4C>; Wed, 31 Oct 2001 23:16:29 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF02A79420@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: brett@broadsoft.com,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL
Date: Wed, 31 Oct 2001 23:16:28 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Wednesday, October 31, 2001 7:45 PM
> To: 'Christer Holmberg'
> Cc: 'IETF SIP Mailing List'
> Subject: RE: [Sip] Bis-05 question: CANCEL
> 
> 
> > >Don't you undestand that what the harm 
> > >that you can produce by being
> > >unable to hang up a call because the 
> > >CANCEL made it before the INVITE is
> > >much higher than having to wait for a 
> > >provisional response?
> > 
> > First, maybe I don't get the point, but 
> > exactly what "harm" could this produce?
> 
> I think that the bis-05 made an attempt
> to address some of the race conditions
> that can occur in SIP.  It is now up
> to the SIP community to provide comments.

Correct. This is one of a handful of open issues that we did proposed
resolution for in bis-05.

> 
> One alternative is to queue the CANCEL
> at UAS/proxy waiting for the associated 
> request.

Right. The issue with that is that is that it opens a DoS attack. CANCEL
can't be authenticated like other requests since its hBh. Thus, its
authenticated by having it come from the same place the request came from
(and so tls, for example, could be used). This means you trust it if you
trust the request its cancelling. If you buffer at the server, you would
have to buffer the cancel even before an authenticated request arrived. THis
means that someone can send CANCEL to establish state at the server, and
then never send a corresponding request. There is no easy way to defeat this
except to prevent it as we have proposed. 


> 
> Another alternative is for SIP devices 
> to actually start using the Expires 
> header and/or the UAS to remain in 
> ringing for a "maximum" time.  I assume 
> that most UAS implementations will 
> not allow a call to remain in alerting
> state any longer than 3 minutes unless
> they are trying to use 182 type 
> functionality.

I don't see how this helps. In my initial INVITE, I don't know how long I
want it to ring for, so there is no Expires. A second later I decide to hang
up. Its too late to use the Expires in the INVITE since its been sent. 

> > Otherwise there MAY be cases 
> > (if no 1xx is sent) where the UAC can't
> > terminate the call before it has 
> > received the 200 final response...
> 
> Yes.  A malicious server could intentionally
> delay sending a 1xx in an attempt to help 
> produce a billing situation by delaying
> the ability for the originator to CANCEL
> the request.

Why bother? Just send a 2xx and ignore the cancel. Hey, ignore the INVITE
too. Malicious servers are a whole other can of worms, that are nearly
impossible to defeat with protocol means. 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 01:31:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA16194
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 01:31:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA01878
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 01:31:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA01423;
	Thu, 1 Nov 2001 01:13:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA01390
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 01:12:58 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA14126
	for <sip@ietf.org>; Thu, 1 Nov 2001 01:12:57 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA16CxC26090;
	Thu, 1 Nov 2001 07:12:59 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA16CwB09904;
	Thu, 1 Nov 2001 08:12:58 +0200 (EET)
Message-ID: <3BE0E7E9.2FD4524@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 08:12:57 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Bob Penfield <bpenfield@acmepacket.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF02A793FB@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I KNOW what the solution is. What I am saying is that since we DO have
>>to THAT case into consideration in any case, we can use the SAME
>>mechanism if we receive a 200 to an INVITE we have tried to
>>CANCEL - ie we simply ACK and BYE it.
>
>CANCEL is not the same thing as BYE. CANCEL terminates *all* pending
>branches, BYE terminates a specific one.

Yes.

>As such, the UAC would need to continue to BYE individual 1xx as they arrive,

Why? If the UAC sends CANCEL, receives 481 (the CANCEL reaches the
server before the INVITE), and then starts receiving 1xx provisional
responses for the INVITE it can send a new CANCEL, which should cancel
ALL legs. Only if it receives a 200 FINAL response it would then send
ACK/BYE for that specific leg.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 01:49:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA18403
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 01:49:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA02095
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 01:49:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA01956;
	Thu, 1 Nov 2001 01:34:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA01925
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 01:34:49 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA16525
	for <sip@ietf.org>; Thu, 1 Nov 2001 01:34:47 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA16YmC28987;
	Thu, 1 Nov 2001 07:34:48 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA16YkB10503;
	Thu, 1 Nov 2001 08:34:46 +0200 (EET)
Message-ID: <3BE0ED05.8C8FB6C@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 08:34:45 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Romel Khan <rkhan@net2phone.com>,
        "'Robert Sparks'" <rsparks@dynamicsoft.com>,
        Shan Lu <shanlu@sentito.com>, "'IETF SIP Mailing List'" <sip@ietf.org>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <6F46FABB90ABD411BD690002B3152FB946713E@lkwmail01> <3BE04AB8.27625D3E@lmf.ericsson.se> <3BE05378.1CA18ECC@lmf.ericsson.se> <3BE075DD.91B590BA@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>>>It's logical and ok for billing to have nothing to do with bis-05, but
>>>>service providers will be the ones to get stuck with any possible billing
>>>>repercussions from these requirements.
>>>>
>>>>By the way, what is the probability that, using UDP, INVITE will be received
>>>>after CANCEL? I assume a very small percentage of the time. Therefore, it
>>>>would be preferrable that CANCEL be sent right away rather than consume
>>>>resources by waiting for provisional responses for a moot reason. How about
>>>>change "CANCEL must" wait for provisional response to "CANCEL should".
>>>>
>>>
>>>Don't you undestand that what the harm that you can produce by being
>>>unable to hang up a call because the CANCEL made it before the INVITE is
>>>much higher than having to wait for a provisional response?
>>
>>First, maybe I don't get the point, but exactly what "harm" could this
>>produce?
>>
> 
>If you do not think that not being able to hang up a call is harmful
>then we live in different worlds.

If my UAC works correctly I will be able to hang up the call... Yes,
there is a small chance, if the caller hangs up very fast, that the
phone will ring for a while, until the UAC realises what has happended
and sends a new CANCEL or BYE (depending on the type of response it
first receives for the INVITE).
 
>>Second, IF it will be a requirement to wait for the 1xx, then I think it
>>also must be a requirement to send a 1xx in the first plavce
>bis-05 says that the server transaction MUST send a 100 Trying unless
>another response will be sent in 200 ms.

So, who is going to start a timer for 200 ms??? Wouldn't it be much more
CLEAR and SIMPLE to simply write that the server MUST send a provisional
response as soon as it receives the INVITE?

>>>About the chances of a CANCEL arriving before the INVITE, you only need
>>>one single message lost (the first transmission of the INVITE) and the
>>>caller hanging up in less than half a second... not a so strange
>>>scenario, I believe.
>>
>>Which scenario? Loosing a message, or hanging up in less than half a
>>second? :)
>>
> 
>Both at the same time.

And, how often will both at the same time happen? I think that we could
come up with a long list of "strange things" that can happen in SIP (and
in other networks too). Some of those we'll just have to live with, and
for the others I think we should try having general mechanisms to handle
them. If we try to solve issues case by case, by defining case specific
rules, I think that we may end up having a very complicated and
restrictive protocol, and we will go on adding rules forever...

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 02:09:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA23900
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 02:09:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA02737
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 02:09:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA02079;
	Thu, 1 Nov 2001 01:48:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA02050
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 01:48:25 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA18231
	for <sip@ietf.org>; Thu, 1 Nov 2001 01:48:23 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA16mQf29936;
	Thu, 1 Nov 2001 07:48:26 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA16mPB10925;
	Thu, 1 Nov 2001 08:48:25 +0200 (EET)
Message-ID: <3BE0F037.64037094@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 08:48:23 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Henning Schulzrinne <hgs@cs.columbia.edu>, sip@ietf.org
Subject: Re: [Sip] Removal proposal: Password in SIP-URL
References: <B65B4F8437968F488A01A940B21982BF02A79422@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>If you are bothering with real security, then use a real authentication
>mechanism. The password in the URI is a mega-cheap, mega-unsecure mechanism.

I couldn't agree more :)

>In any case, as Henning has pointed out, it is in use and therefore can't
>really be deprecated.

So, if the UAS doesn't - for whatever reason - doesn't accept it, what
response code should it use to indicate that? 

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 03:58:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06597
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 03:58:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA04325
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 03:58:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA04250;
	Thu, 1 Nov 2001 03:41:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA04217
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 03:41:46 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA04255
	for <sip@ietf.org>; Thu, 1 Nov 2001 03:41:44 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA18flC11877;
	Thu, 1 Nov 2001 09:41:47 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA18fkB14978;
	Thu, 1 Nov 2001 10:41:46 +0200 (EET)
Message-ID: <3BE10AC8.B9F512A6@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 10:41:44 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Anders Kristensen <akristensen@dynamicsoft.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, brett@broadsoft.com,
        sip@ietf.org
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF02A79420@DYN-EXCH-001.dynamicsoft.com> <3BE0D10A.CE8B6669@dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>There may be a third option that I don't remember having been discussed,
>namely that the client sends the CANCEL immediately but the server just
>sliently drops it if it cannot associate it with a request. That is, it
>doesn't respond and doesn't install transaction state. The client will
>continue retransmitting CANCEL and the original request in parallel (as
>per usual) and the CANCEL will continue to be dropped by the server
>until the original request is actually received. Same procedure would
>apply to proxy servers.
> 
>This will no doubt be violently hated by some and I'm not necessarily
>proposing it anyway ;).  Apart from treating CANCEL even more specially
>than is already the case it means a UAS might ring the phone even though
>the call was cancelled. Although actually, that should be no worse than
>if the INVITE has been received immediately and no worse than waiting
>for a 1xx.

What you propose would probably work, but that would cause extra traffic
on the network, and I am not sure it's a very good idea from a protocol
logic point of view either. That is, of course, a matter of taste,
though :)

Another option could be: 

Whenever a server receives the INVITE, it checks if it has recently
received a CANCEL/BYE for that call. Today, the server must anyway keep
state for the CANCEL (and every other method) for a certain time after
it has sent the final response (to handle re-transmissions etc), so from
a state machine point of view that would not cause any changes. The only
change would be the check when the INVITE is received.

Then, it wouldn't matter if the INVITE comes after the CANCEL, because
the server would not accept the INVITE - and no phone would start
ringing.

Regards,

Christer Holmberg
Ericsson Finland





> 
> Anders
> 
> Jonathan Rosenberg wrote:
> >
> > >
> > > One alternative is to queue the CANCEL
> > > at UAS/proxy waiting for the associated
> > > request.
> >
> > Right. The issue with that is that is that it opens a DoS attack. CANCEL
> > can't be authenticated like other requests since its hBh. Thus, its
> > authenticated by having it come from the same place the request came from
> > (and so tls, for example, could be used). This means you trust it if you
> > trust the request its cancelling. If you buffer at the server, you would
> > have to buffer the cancel even before an authenticated request arrived. THis
> > means that someone can send CANCEL to establish state at the server, and
> > then never send a corresponding request. There is no easy way to defeat this
> > except to prevent it as we have proposed.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 04:58:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA08684
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 04:58:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA06065
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 04:59:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA04767;
	Thu, 1 Nov 2001 04:26:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA04739
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 04:26:38 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA08325
	for <sip@ietf.org>; Thu, 1 Nov 2001 04:26:34 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA19Qbf12385
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:26:37 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA19QaB16478
	for <sip@ietf.org>; Thu, 1 Nov 2001 11:26:36 +0200 (EET)
Message-ID: <3BE1154A.101DA345@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 11:26:34 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Bis-05: C timer issue
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I brought this up in the INVITE-1xx-CANCEL thread, but since it is a
separate issue I will bring it up separately.

In bis-05, chapter 17.1.1.2 says:

If the client transaction receives a provisional response while in
the "calling" state, it transitions to the "proceeding" state. Upon
entering this state, the client transaction MUST start timer C with
the value provided by the TU when the client transaction was created.
This timeout dictates how long the client transaction waits for a
final response before giving up (i.e., roughly how long does it "let
the phone ring"). In the "proceeding" state, the client transaction
SHOULD NOT retransmit the request any longer. Furthermore, the
provisional response MUST be passed to the TU. Any further
provisional responses MUST be passed up to the TU while in the
"proceeding" state. When timer C fires, the client transaction MUST
transition to the terminated state, and it MUST inform the TU of the
timeout.

My questions are:

1. Does a new provisional response reset the C timer? The state machine
on page 95 shows that the client does remain in the "proceeding" state,
but it doesn't say anything about reseting the C timer.

The next question is valid only if the answer to the first question was
'yes' :)

2. If the client receives provisional responses from multiple servers,
does it have a C timer for each leg? For example, UAS 1 may send many
provisional responses, so C doesn't expire, but UAS 2 sends only one
provisional response, and then nothing else before the C timer expires.
Now, in this case, should the client should terminate (send BYE) for
that specific leg? OR, does the client only have a single C timer for
the whole call, and doesn't (from the C timer point of view) care where
the provisional responses come from?

3. First, I know that transactions are "handled separately". But, if the
client does not receive futher responses (provisional or final) before
the C timer expires, but it DOES receive something else related to the
call (COMET, PRACK responses, INFO responses etc etc), should it still
terminate the call setup?


Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 05:18:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA09236
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 05:18:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA18248
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 05:18:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA06004;
	Thu, 1 Nov 2001 04:53:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA05973
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 04:53:11 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id EAA08636
	for <sip@ietf.org>; Thu, 1 Nov 2001 04:53:06 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 1 Nov 2001 09:53:15 UT
Received: from jundery ([193.195.52.206]) by GBNEWP0758M.eu.ubiquity.net with Microsoft SMTPSVC(5.0.2195.1600);
	 Thu, 1 Nov 2001 09:55:11 +0000
From: "James Undery" <jundery@ubiquity.net>
To: <sip@ietf.org>
Date: Thu, 1 Nov 2001 09:55:15 -0000
Message-ID: <NFBBIOJHKKAKGOAKHCCNCEEACIAA.jundery@ubiquity.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF02A793FA@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
X-OriginalArrivalTime: 01 Nov 2001 09:55:11.0679 (UTC) FILETIME=[4C0384F0:01C162BB]
Content-Transfer-Encoding: 7bit
Subject: [Sip] More clarification of bis-05 changes requested
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

The question I'd like to know is were the changes relating to
Authorization garbage collected. i.e. my rfc2543 sip device doesn't
mess with anything below the Authorization header and the new bis
breaks that big time (or section 7.3.1 is just confusing).

James


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 07:36:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12476
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 07:36:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA28932
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 07:36:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA27525;
	Thu, 1 Nov 2001 07:04:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA27497
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 07:04:50 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA11317;
	Thu, 1 Nov 2001 07:04:44 -0500 (EST)
Message-Id: <200111011204.HAA11317@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Thu, 01 Nov 2001 07:04:43 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-refer-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: The Refer Method
	Author(s)	: R. Sparks
	Filename	: draft-ietf-sip-refer-02.txt
	Pages		: 16
	Date		: 31-Oct-01
	
This document defines the REFER method.  This SIP extension requests
that the recipient REFER to a resource provided in the request.  This
can be used to enable many applications, including Call Transfer.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-refer-02.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-refer-02.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-refer-02.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011031112418.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-refer-02.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-refer-02.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011031112418.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 07:41:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12773
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 07:41:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA29071
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 07:41:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA27084;
	Thu, 1 Nov 2001 07:02:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAB27053
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 07:02:20 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA11016
	for <sip@ietf.org>; Thu, 1 Nov 2001 07:02:14 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1C2IJ26075
	for <sip@ietf.org>; Thu, 1 Nov 2001 07:02:18 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SKAZ8>; Thu, 1 Nov 2001 12:02:12 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3450@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 1 Nov 2001 12:02:11 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Subject: [Sip] bis-05: use of 100 Trying
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Based on the CANCEL thread that is going on, I was trying to sort out the
usage that is currently mandated for generating 100 Trying, which is
different from bis-04.

For INVITE transactions, 

-	stateless proxies never generate it (16.9). It must pass it on no
matter what request it relates to (section 16.9);

-	for all other servers: figure 7 (page 95) and the text in 17.2.1
cover this. The text says MAY generate a 100 unless... The figure implies a
MUST generate 100. 

I think a distinction should be drawn here between proxy servers and user
agent servers. I have no problem indicating that proxy servers MUST generate
100 Trying. 

For user agent servers, surely there is always a better provisional response
to send. Even if the UAS is taking time during a lookup, there is important
information to send that a UA has been reached, and therefore 183 is always
more appropriate that 100. Therefore surely it would be better to specify
UAS MAY generate 183 unless...


For non-INVITE transactions,

-	stateless proxies never generate it (16.9). It must pass it on no
matter what request it relates to (section 16.9);

-	for all other servers: figure 8 (page 105) and the text in 17.2.2
cover this. There is no text covering the generation of any provisional
response, not even 100 Trying. However figure 8 indicates that the TU may
generate 1xx responses, and that the server process will then pass them on.

Does this mean that a TU in a proxy can independently generate 1xx responses
(including 100), or is it an attempt to represent that if a proxy receives a
1xx response, it will pass it on through the TU and therefore the server
side will generate it? 

While the figures cover this for the client and server state machine, the TU
needs requirements to state that this happens in the text, and these I
cannot find. At a minimum therefore, I believe we have a hole in the
specification, but I am not sure how to fill it. Surely it would be better
to preclude 1xx responses altogether in this case, and therefore if a
stateful proxy client receives such a response it kills it. 

I am unsure whether 100 Trying should be permitted or barred in the above
case. Currently the balance of the text would imply it is precludes for
non-INVITE which would appear to me to be fine.

Keith




	
Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 07:47:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA13181
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 07:47:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA29213
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 07:47:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA28837;
	Thu, 1 Nov 2001 07:33:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA28806
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 07:33:40 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12292
	for <sip@ietf.org>; Thu, 1 Nov 2001 07:33:31 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA1CXZC22487;
	Thu, 1 Nov 2001 13:33:35 +0100 (MET)
Received: from lmf.ericsson.se (lmf03382pc.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA1CXYB23375;
	Thu, 1 Nov 2001 14:33:35 +0200 (EET)
Message-ID: <3BE1411C.857FC4C@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 14:33:32 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] bis-05: use of 100 Trying
References: <475FF955A05DD411980D00508B6D5FB001AC3450@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi Keith,

>Based on the CANCEL thread that is going on, I was trying to sort out the
>usage that is currently mandated for generating 100 Trying, which is
>different from bis-04.
> 
>For INVITE transactions,
> 
>-       stateless proxies never generate it (16.9). It must pass it on no
>matter what request it relates to (section 16.9);
> 
>-       for all other servers: figure 7 (page 95) and the text in 17.2.1
>cover this. The text says MAY generate a 100 unless... The figure implies a
>MUST generate 100.
> 
>I think a distinction should be drawn here between proxy servers and user
>agent servers. I have no problem indicating that proxy servers MUST generate
>100 Trying.

You have my full support on that :)
 
>For user agent servers, surely there is always a better provisional response
>to send. Even if the UAS is taking time during a lookup, there is important
>information to send that a UA has been reached, and therefore 183 is always
>more appropriate that 100. Therefore surely it would be better to specify
>UAS MAY generate 183 unless...

This was discussed before, when we talked about the routing of pre-call
INFOs etc. My proposal then was that a UAS MUST send a 18x, INCLUDING
the To header tag, as soon as it receives the INVITE. There was even a
propose for a specific 18x code (184, if I remember correct) for this
purpose, so it wouldn't affect the SIP-ISUP mapping etc. Well, because
of the good old "backward compability" issue that was not acceptable... 

Maybe we should propose it again, because there sure are lots of other
things, affecting the backward compability, that has changed since then.
 
>For non-INVITE transactions,
> 
>-       stateless proxies never generate it (16.9). It must pass it on no
>matter what request it relates to (section 16.9);
> 
>-       for all other servers: figure 8 (page 105) and the text in 17.2.2
>cover this. There is no text covering the generation of any provisional
>response, not even 100 Trying. However figure 8 indicates that the TU may
>generate 1xx responses, and that the server process will then pass them on.

I guess this depends on if we are allowed to CANCEL non-INVITEs or not,
AND/OR if we have requests which don't generate a final response quick
enough.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 09:47:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA19678
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 09:47:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA03476
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 09:47:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02621;
	Thu, 1 Nov 2001 09:30:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02511
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 09:30:11 -0500 (EST)
Received: from hoemail2.firewall.lucent.com (hoemail2.lucent.com [192.11.226.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA18856
	for <sip@ietf.org>; Thu, 1 Nov 2001 09:30:04 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by hoemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1ETXB15861
	for <sip@ietf.org>; Thu, 1 Nov 2001 09:29:33 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SKGCB>; Thu, 1 Nov 2001 14:29:32 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB002A95899@en0033exch001u.uk.lucent.com>
From: "Chen, Xin (Xin)" <xchen2@lucent.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        "Chen, Xin (Xin)"
	 <xchen2@lucent.com>
Cc: SIP LIST <sip@ietf.org>
Subject: RE: [Sip] Question about ACK for None-200 Response
Date: Thu, 1 Nov 2001 14:29:31 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear Vijay,

Thanks for your answer.

Another question: Why the ACK for non-2xx must not have route header? What
happens if it has? 

Regards

Xin Chen

Lucent Technologies
Tel: +44 1793 883137
Mobile: +44 7799 034668


-----Original Message-----
From: Vijay Gurbani [mailto:vkg@lucent.com]
Sent: 30 October 2001 14:39
To: Chen, Xin (Xin)
Cc: SIP LIST
Subject: Re: [Sip] Question about ACK for None-200 Response


"Chen, Xin (Xin)" wrote:
> 
> Bis-05 says: "The ACK request MUST NOT contain any Route headers."
> 
> In line 2467, Bis 05 says:  For a stateless proxy receiveing CANCEL and
> non-Routed ACK requests, it  MUST generate the same choice as their
> associated INVITE.
> 
> Bis-05 also says: "The ACK request MUST NOT contain any Route headers."

The section you are referring the above quote from is Section 17.1.1.3,
which talks about an ACK to a non-2xx response to an INVITE.  These ACKs are

hop by hop, and do NOT contain Route headers.  ACKs for 2xx responses to
an INVITE are end to end and their processing is outlined elsewhere in 
-05bis (I am still getting familiar with it -- started the process of "un"-
burning -04bis sections from my brain).  These ACKs can (and indeed MUST if 
some SIP entity R-R'ed) contain a Route.

> I think these two pargraphes are conflicted each other. How can a 
> stateless proxy generate the same choice as the INVITE for a non-Routed 
> ACK if the ACK doesn't have a route header? A INVITE will have a route 
> header which is used by proxy to route the request, but without the route 
> header, when the stateless proxy gets that ACK, it will be very confused 
> about where to forward this.

An INVITE will not always have a Route header; it will only do so if one
of the SIP entities in the signaling path R-R'ed.  The question boils down
to where, in the absence of a Route, does a stateless proxy send an ACK or
CANCEL.  ACK and CANCEL are really pseudo-requests since they depend on 
another transaction, namely INVITE, to do their job.  As such, they should 
be routed to the same host that the original INVITE went to.  A stateless 
proxy can do so by using the modulo N hash of the Call-ID value as the 
uniform random number while weighing the results from a DNS SRV lookup.  See

section 24 in -05 bis; towards the end of the section for more information.

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 10:22:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA20995
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 10:22:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04654
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 10:22:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04239;
	Thu, 1 Nov 2001 10:07:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04200
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 10:07:06 -0500 (EST)
Received: from mgw-x1.nokia.com (mgw-x1.nokia.com [131.228.20.21])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA20485
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:07:01 -0500 (EST)
Received: from esvir07nok.ntc.nokia.com (esvir07nokt.ntc.nokia.com [172.21.143.39])
	by mgw-x1.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fA1F5Dc01227
	for <sip@ietf.org>; Thu, 1 Nov 2001 17:05:13 +0200 (EET)
Received: from esebh11nok.ntc.nokia.com (unverified) by esvir07nok.ntc.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T56f549763bac158f270c7@esvir07nok.ntc.nokia.com>;
 Thu, 1 Nov 2001 17:06:59 +0200
Received: from mgw.research.nokia.com ([172.21.33.76]) by esebh11nok.ntc.nokia.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2652.78)
	id WA2R2DYW; Thu, 1 Nov 2001 17:06:58 +0200
Received: from agni.research.nokia.com (agni.research.nokia.com [172.21.40.24])
	by mgw.research.nokia.com (8.9.3/8.9.3) with ESMTP id RAA24087;
	Thu, 1 Nov 2001 17:06:57 +0200 (EET)
Received: (from ppessi@localhost)
	by agni.research.nokia.com (8.11.6/8.11.2) id fA1F9p702756;
	Thu, 1 Nov 2001 17:09:51 +0200
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
Cc: Jo Hornsby <jhornsby@ubiquity.net>, <sip@ietf.org>
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
References: <3BE03B81.DD60A1D2@lmf.ericsson.se>
X-face: #V(jdpv[lI!TNUU=2*oh:="#suS*ponXW"yr6G;~L}<xZn_2^0)V{jqdc4y}@2b]ffd}SY#
 :9||1pew85O,WjiYA"6C7bW^zt^+.{b#B{lEE+4$9lrXL(55g}dU>uZ\JfD\"IG#G{j`hZI;=DmT\H
 pfDMyJ`i=:M;BM3R.`[>P^ER8+]i
From: Pekka Pessi <Pekka.Pessi@nokia.com>
In-Reply-To: <3BE03B81.DD60A1D2@lmf.ericsson.se>
Date: 01 Nov 2001 17:09:50 +0200
Message-ID: <pv8zdqcytd.fsf@agni.research.nokia.com>
Lines: 15
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.1 (Cuyahoga Valley)
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

In message <3BE03B81.DD60A1D2@lmf.ericsson.se> Christer Holmberg <christer.holmberg@lmf.ericsson.se> writes:
>>I realize that; my assertion remains: we have
>>a working mechanism -- why augment it with an
>>additional, and unreliable, extension?

>I don't know if it's more reliable to assume that the ACK belongs to a
>specific INVITE just because you can't find a matching Via branch
>value...

	You can have different tag value for those transactions that you
	respond with 482 than those that you answer with 200.  Of
	course, this does not solve merging problem for re-INVITEs (if
	is there such a problem).

						Pekka

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 10:43:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA21853
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 10:43:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA05879
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 10:43:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05314;
	Thu, 1 Nov 2001 10:31:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05286
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 10:31:04 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA21471
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:31:00 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1FUWl14844
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:30:33 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SK26V>; Thu, 1 Nov 2001 15:30:27 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3453@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 1 Nov 2001 15:30:24 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] bis-05 NITS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

A number of minor issues with the new draft. This is the first batch and I
am sending them as I work through the document.

1)	General. Sometimes the text has "option-tag" and sometime "option
tag". Make consistent throughout the document.

2)	Section 6: definition of Proxy: Current sentence "A proxy server
primarily plays to role of routing, " should be ""A proxy server primarily
plays the role of routing, ".

3)	Section 6: definition of Session: Remove extra spaces before commas
(3 times) towards end of definition.

4)	Section 6: the definition of stateless proxy and stateful proxy are
reversed to what alphabetical order would demand.

5)	Section 6: two last paragraphs after definitions. These are not part
of any of the definitions, and the text is not really definition text. It
would appear to me that these two paragraphs would actually fit better in
section 5 (Structure of the protocol).

6)	Section 7, last paragraph immediately before section 7.1. Delete
words "Note, however, that" as they are unnecessary for the meaning
conveyed.

7)	Section 7.1, 1st paragraph. We have a number of symbols used here to
represent control characters etc in the character set. CR and LF are defined
in the penultimate paragraph of section 7 before 7.1 is reached, but nowhere
have we said what SP means. Also elsewhere we use the term whitespace, so we
are not consistent within the document.

8)	Section 7.1, 1st paragraph. We here use the term "element". We do
not appear to have defined what this means, and the meaning here is
different to all occurences of the same word up to this point. We either
need to use a new term, or categorise it in some way to indicate it is a
different element to "network element" etc that has been used previously. Is
it a "lexical element" or "syntactic element".

9)	Section 7.1, request-URI item: Current text "The Request-URI MUST
NOT contain unescaped spaces or control characters and MUST NOT be enclosed
in "<>"." would be better written as "Implementations MUST NOT include
unescaped spaces or control characters in the Request-URI and
implementations MUST NOT enclose the Request-URI in "<>".

10)	Section 7.1, request-URI item: Current text "It MAY translate
non-SIP URIs using any mechanism at its disposal, resulting in either a SIP
URI or some other scheme." would be clearer if ""SIP servers MAY translate
non-SIP URIs using any mechanism at its disposal, resulting in either a SIP
URI or some other scheme." which is presumably what "It" corresponds to.

11)	Section 7.1, SIP Version item: The main heading of this item should
be hyphenated, i.e. "SIP-Version", as has been done for Request-URI.

12)	Section 7.1, SIP Version item: Within item remove extra space from
middle of "SIP-Version.

13)	Section 7.1, SIP Version item: Current text "The string is
case-insensitive, but implementations MUST send upper-case." would be better
as "The SIP-Version is case-insensitive, but implementations MUST send
upper-case.

14)	Section 7.3.1, 2nd paragraph. Delete "Note that" from start of
sentence as unnecessary.

15)	Section 7.3.3. This is the first usage of "MTU" rather than in
section 7.5, and therefore the expansion "maximum transmission unit" should
be defined here rather than in section 7.5.

16)	Section 7.4. 1st paragraph: Current text "Requests, including new
requests defined in extensions to this specification, MAY contain message
bodies unless otherwise noted." would be better written as "Implementations
MAY include message bodies in requests, including new requests defined in
extensions to this specification." The final words "unless otherwise noted"
have been removed because the changes summary at the end of the document
indicates that bodies are now allowed in all requests and responses.

17)	Section 7.4. 2nd paragraph: Current text "For response messages, the
request method and the response status code determine the type and
interpretation of any message body. All responses MAY include a body." would
be better written as "For responses, the request method and the response
status code determine the type and interpretation of any message body.
Implementations MAY include a body in all responses.

18)	Section 7.4.1, 1st paragraph: Current text "The Internet media type
of the message body MUST be given by the Content-Type header field." would
be better rewritten as "Implementations MUST indicate the Internet media
type of the message body by the Content-Type header field."

19)	Section 7.4.1, 2nd paragraph: Delete words "be able to" as
unnecessary to the statement of the requirement. It is assumed that "MUST"
is meant here rather than "can".

20)	Section 7.5, 1st paragraph. Insert word "implementations" after
"SIP" thus "Unline HTTP, SIP implementations MAY use...".



Keith


Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 10:50:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22096
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 10:50:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA06061
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 10:50:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05573;
	Thu, 1 Nov 2001 10:35:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05540
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 10:35:28 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA21591
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:35:24 -0500 (EST)
Received: (qmail 5164 invoked from network); 1 Nov 2001 15:28:08 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 1 Nov 2001 15:28:08 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "IETF SIP Mailing List" <sip@ietf.org>
Date: Thu, 1 Nov 2001 10:34:49 -0500
Message-ID: <000701c162ea$be0a4d20$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] Bis-05: why 200 ms for 100 Trying
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi all,

Section 17.2.1, line 2702, mandates a 100 Trying be sent by the
transction server within 200 ms.

Q1: What is the rationale behind this magic value, 200 ms? Note that all
other timer values in transaction FSM are specified with a DEFAULT,
meaning they may be modified by implementations. Then why is this one
hard coded?

Q2: Assume T1 = RTT = 500 ms. If you work out the math, it turns out
that a 100 Trying sent exactly 200 ms (conformant to the above rule)
after the INVITE will result in two INVITEs (initial plus one retrans)
and hence two 100 Trying, assuming TU can't produce any 1xx or final
response. The same can be achieved if a 100 Trying is sent exactly 500
ms after the initial INVITE. So the conclusion is that if you want to
quench request retransmissions as soon as you can, you MUST send 100
Trying IMMEDIATELY. On the other hand, if you can tolerate some
retransmission, you might just as well wait for 500 ms (T1) and hope
that a meaningful 1xx (>100) response can be supplied by the transaction
user.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 11:04:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22447
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 11:04:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA06644
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 11:04:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA06109;
	Thu, 1 Nov 2001 10:51:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA06078
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 10:51:34 -0500 (EST)
Received: from hoemail2.firewall.lucent.com (hoemail2.lucent.com [192.11.226.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22125
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:51:30 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by hoemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1Fp3B21003
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:51:03 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id JAA19218; Thu, 1 Nov 2001 09:51:00 -0600 (CST)
Message-ID: <3BE16F61.7E7EBF0A@lucent.com>
Date: Thu, 01 Nov 2001 09:50:57 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Chen, Xin (Xin)" <xchen2@lucent.com>
CC: SIP LIST <sip@ietf.org>
Subject: Re: [Sip] Question about ACK for None-200 Response
References: <475FF955A05DD411980D00508B6D5FB002A95899@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

"Chen, Xin (Xin)" wrote:
> 
> Dear Vijay,
> 
> Thanks for your answer.
> 
> Another question: Why the ACK for non-2xx must not have route header? 

Because it is hop by hop.

> What happens if it has?

Nothing drastic, I would presume.  The receiving UAS will stop retxing the
response.  Since the UAS sent a non-2xx response, a route list is never
established.

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 11:12:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22642
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 11:12:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA06942
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 11:12:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA06200;
	Thu, 1 Nov 2001 10:59:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA06169
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 10:59:24 -0500 (EST)
Received: from hoemail2.firewall.lucent.com (hoemail2.lucent.com [192.11.226.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22197
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:59:20 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by hoemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1FwrB27197
	for <sip@ietf.org>; Thu, 1 Nov 2001 10:58:53 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SKK1P>; Thu, 1 Nov 2001 15:58:52 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB002A9589A@en0033exch001u.uk.lucent.com>
From: "Chen, Xin (Xin)" <xchen2@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 1 Nov 2001 15:58:51 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Retransmisstion detection at Proxy
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I think in the Bis-05, it is not clear that how a proxy detects that a
request is a retransmission or not.

Currently, in line 3573 in bis-05, it says that CSeq is used to
differentiate a new request or a retransmission.

But what about a spiral or a loop, those request also have the same CSeq?

Regards

Xin Chen

Lucent Technologies
Tel: +44 1793 883137
Mobile: +44 7799 034668


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 11:15:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22746
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 11:15:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA07125
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 11:15:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06621;
	Thu, 1 Nov 2001 11:02:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06592
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 11:02:21 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22263
	for <sip@ietf.org>; Thu, 1 Nov 2001 11:02:16 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1G1nl02754
	for <sip@ietf.org>; Thu, 1 Nov 2001 11:01:49 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SKKJY>; Thu, 1 Nov 2001 16:01:48 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB002A9589B@en0033exch001u.uk.lucent.com>
From: "Chen, Xin (Xin)" <xchen2@lucent.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        "Chen, Xin (Xin)"
	 <xchen2@lucent.com>
Cc: SIP LIST <sip@ietf.org>
Subject: RE: [Sip] Question about ACK for None-200 Response
Date: Thu, 1 Nov 2001 16:01:45 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

If this is a non-2xx response for a Re-INVITE, then a route set will be
established. But I agree, nothing special will happen even the ACK has route
header, I even feel it is better. Becuase this help the stateless proxy to
route the ACK easily.

Regards

Xin Chen

Lucent Technologies
Tel: +44 1793 883137
Mobile: +44 7799 034668


-----Original Message-----
From: Vijay Gurbani [mailto:vkg@lucent.com]
Sent: 01 November 2001 15:51
To: Chen, Xin (Xin)
Cc: SIP LIST
Subject: Re: [Sip] Question about ACK for None-200 Response


"Chen, Xin (Xin)" wrote:
> 
> Dear Vijay,
> 
> Thanks for your answer.
> 
> Another question: Why the ACK for non-2xx must not have route header? 

Because it is hop by hop.

> What happens if it has?

Nothing drastic, I would presume.  The receiving UAS will stop retxing the
response.  Since the UAS sent a non-2xx response, a route list is never
established.

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 11:31:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23105
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 11:31:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA07758
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 11:32:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA07197;
	Thu, 1 Nov 2001 11:18:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA07167
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 11:18:11 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22840
	for <sip@ietf.org>; Thu, 1 Nov 2001 11:18:06 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 15zKXX-0006P8-00; Thu, 01 Nov 2001 16:17:59 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 15zKXR-0003Z5-00; Thu, 1 Nov 2001 16:17:53 +0000
Date: Thu, 1 Nov 2001 16:17:53 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Vijay Gurbani <vkg@lucent.com>
cc: "Chen, Xin (Xin)" <xchen2@lucent.com>, SIP LIST <sip@ietf.org>
Subject: Re: [Sip] Question about ACK for None-200 Response
In-Reply-To: <3BE16F61.7E7EBF0A@lucent.com>
Message-ID: <Pine.GSO.4.21.0111011616090.13250-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *15zKXX-0006P8-00*qzLaZW7KSgQ* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, Vijay,
  so the ACK don't need to have route header but not MUST NOT. Is it
right?
lei   

On Thu, 1 Nov 2001, Vijay Gurbani wrote:

> "Chen, Xin (Xin)" wrote:
> > 
> > Dear Vijay,
> > 
> > Thanks for your answer.
> > 
> > Another question: Why the ACK for non-2xx must not have route header? 
> 
> Because it is hop by hop.
> 
> > What happens if it has?
> 
> Nothing drastic, I would presume.  The receiving UAS will stop retxing the
> response.  Since the UAS sent a non-2xx response, a route list is never
> established.
> 
> - vijay
> -- 
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software and eServices Group 
> Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 12:26:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24348
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 12:26:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA09629
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 12:26:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09387;
	Thu, 1 Nov 2001 12:12:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09358
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 12:12:56 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24025
	for <sip@ietf.org>; Thu, 1 Nov 2001 12:12:51 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA1HCsj06444;
	Thu, 1 Nov 2001 12:12:55 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id LAA01620; Thu, 1 Nov 2001 11:12:54 -0600 (CST)
Message-ID: <3BE18292.A7250CDE@lucent.com>
Date: Thu, 01 Nov 2001 11:12:50 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lei Liang <l.liang@eim.surrey.ac.uk>
CC: "Chen, Xin (Xin)" <xchen2@lucent.com>, SIP LIST <sip@ietf.org>
Subject: Re: [Sip] Question about ACK for None-200 Response
References: <Pine.GSO.4.21.0111011616090.13250-100000@hermes.ee.surrey.ac.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Lei Liang wrote:
> 
> hi, Vijay,
>   so the ACK don't need to have route header but not MUST NOT. Is it
> right?

I am not sure why we're getting so bogged down; the idea is simple, really.
An ACK for a 200 class response needs to be routed independently of where
the INVITE went to; it is a transaction on its own.  

Think of it this way (assume P2 R-R's):

   UAC          P1          P2          UAS
   INV---->
                INV--->
                            INV--->
        

Now, if the UAS accepts the session, an ACK will flow as follows (since a
Route list is created):

   UAC          P2          UAS
   INV--->
                INV--->

Hence it is important that a Route be there in an ACK to a 200 class 
response.  Note that from UAC's point of view, the ACK did not go to P1 
(like the INVITE did); it went to a different destination (P2).

Now, consider this:

   UAC          P1                       P2
   --->INV
                --->INV
                           <---404 Not Found
                --->ACK
   <--- 404 Not Found
   --->ACK

ACKs here are hop by hop; P1 ACKs P2 and UAC ACKs P1.  First of all, since
the response from P2->P1 (or P1->UAC) was not a 200 class response, no Route
set is ever created.  Secondly, even if a misbehaving P1 inserted a Route
in the ACK towards P2, it does no harm since the ACK going towards P2 is
intended more to stop retransmissions rather than carry end to end 
information.

Hope that helps.

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 12:27:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24366
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 12:27:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA09646
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 12:27:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09334;
	Thu, 1 Nov 2001 12:09:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09302
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 12:09:56 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA23917
	for <sip@ietf.org>; Thu, 1 Nov 2001 12:09:51 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5u3.ericy.com [208.237.135.124])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA1H9rY04965;
	Thu, 1 Nov 2001 11:09:53 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA1H9rn22177;
	Thu, 1 Nov 2001 11:09:53 -0600 (CST)
Received: from lmf.ericsson.se (rmt160133.am.ericsson.se [138.85.160.133]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id LAA12948; Thu, 1 Nov 2001 11:09:51 -0600 (CST)
Message-ID: <3BE186DA.9ABD085E@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 19:31:06 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Shan Lu <shanlu@sentito.com>
CC: IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
References: <000701c162ea$be0a4d20$eb00000a@SAJAK>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

In almost all the scenarios the server does not have a way of knowing if
a final response will be produced within 200 ms, so the 100 trying is
sent immediately.

However, a particular server might know that it usually sends final
responses back pretty quick (it might now have to interact with a human
user, for instance). Then, it uses what TCP calls "delayed ack". This
saves some traffic, because the server will send one instead of 2
responses back.

About the "magic" value of 200 ms: It is impossible to give an exact
value for this timer because it would depend on the T1 timer chosen by
the client. However, for the default value (T1=500 ms), waiting 200 ms
makes perfect sense. 

In the example you give there is a 500 ms RTT. Whereas I am not saying
that this is impossible, the RTT is not likely to be so big. Crossing
the Atlantic over the public Internet has a RTT of 150 ms aprox. Take
into account that 100 Trying is sent hop by hop.

Cellular access could give you a high RTT as well. However, the first
server receiving the INVITE is not the one answering with a final
response, so it will no use the 200 ms timer. It will respond
immediately.

Therefore, I do not see any problem with this timer.

Regards,

Gonzalo

Shan Lu wrote:
> 
> Hi all,
> 
> Section 17.2.1, line 2702, mandates a 100 Trying be sent by the
> transction server within 200 ms.
> 
> Q1: What is the rationale behind this magic value, 200 ms? Note that all
> other timer values in transaction FSM are specified with a DEFAULT,
> meaning they may be modified by implementations. Then why is this one
> hard coded?
> 
> Q2: Assume T1 = RTT = 500 ms. If you work out the math, it turns out
> that a 100 Trying sent exactly 200 ms (conformant to the above rule)
> after the INVITE will result in two INVITEs (initial plus one retrans)
> and hence two 100 Trying, assuming TU can't produce any 1xx or final
> response. The same can be achieved if a 100 Trying is sent exactly 500
> ms after the initial INVITE. So the conclusion is that if you want to
> quench request retransmissions as soon as you can, you MUST send 100
> Trying IMMEDIATELY. On the other hand, if you can tolerate some
> retransmission, you might just as well wait for 500 ms (T1) and hope
> that a meaningful 1xx (>100) response can be supplied by the transaction
> user.
> 
> Regards,
> 
> Shan Lu
> sentitO Networks
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 14:38:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28522
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 14:38:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA14274
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 14:38:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA13653;
	Thu, 1 Nov 2001 14:22:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA13623
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 14:22:19 -0500 (EST)
Received: from mail.pingtel.com (IDENT:root@mail.pingtel.com [216.91.1.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28184
	for <sip@ietf.org>; Thu, 1 Nov 2001 14:22:12 -0500 (EST)
Received: from pingtel.com (cdhcp141.pingtel.com [10.1.1.141])
	by mail.pingtel.com (8.11.0/8.11.0) with ESMTP id fA1JPn625330;
	Thu, 1 Nov 2001 14:25:49 -0500
Message-ID: <3BE19FB7.B0308730@pingtel.com>
Date: Thu, 01 Nov 2001 14:17:12 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp. http://www.pingtel.com
X-Mailer: Mozilla 4.73 [en]C-{C-UDP; EBM-SONY1}  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Billy Biggs'" <billy@billybiggs.com>,
        Jonathan Cumming <jrc@dataconnection.com>, SIP List <sip@ietf.org>
Subject: Re: [Sip] Re-use of Call-ID in the SIP Replaces header
References: <B65B4F8437968F488A01A940B21982BF020D6419@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Sorry, this thread is perhaps a little stale.

We had rough concensus at the Feb. Interim
SIP WG meeting that though there was no
implied symatics, it was ok for a UA to
reuse a Call-Id (e.g. on a conference bridge).
http://www.softarmor.com/sipwg/meets/interim-feb-01/notes/dwillis.html

Did I miss some discussion which changed
this decision?  The change to make UAs MUST
use a unique ID will impact existing implementations.

Jonathan Rosenberg wrote:

>
>
> > -----Original Message-----
> > From: Billy Biggs [mailto:billy@billybiggs.com]
> > Sent: Tuesday, July 31, 2001 10:36 AM
> > To: Jonathan Cumming
> > Cc: SIP List
> > Subject: Re: [Sip] Re-use of Call-ID in the SIP Replaces header
> >
> >
> > Jonathan Cumming (jrc@dataconnection.com):
> >
> > > In section 2.2 of draft-biggs-sip-replaces-01, you specify that "A
> > > unique call-id may be given to the replacement call.".  This seems
> > > unnecessarily weak and could lead to interoperability problems where
> > > an application assumes the re-use of the Call-ID.
> > >
> > > If a unique Call-ID is required, as specified in RFC 2543, then why
> > > give the end-point the option to re-use the existing Call-ID?
> >
> >   When we were first discussing methods of performing attended call
> > transfer, there was alot of discussion about using the Call-ID to
> > perform the replaces operation, that is, the replacement call (or
> > joining call) would be identified by having the same Call-ID as an
> > existing call.
> >
> >   So, the text should really read "in our replaces model, a unique
> > call-id may be given to the replacement call, instead of
> > previous models
> > which overloaded the meaning of the call-id".  I wasn't trying to
> > dictate behavior either way.
>
> "may" is not strong enough. I think the consensus was to continue to have
> call-ids be unique, in which case the replacement call MUST use a new
> call-id.
>
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>
> _______________________________________________
> Sip mailing list  http://www.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 15:05:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28976
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 15:05:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA15312
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 15:05:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14376;
	Thu, 1 Nov 2001 14:51:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14347
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 14:51:00 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA28709
	for <sip@ietf.org>; Thu, 1 Nov 2001 14:50:53 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA1JotY23957;
	Thu, 1 Nov 2001 13:50:55 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA1Jotr18630;
	Thu, 1 Nov 2001 13:50:55 -0600 (CST)
Received: from lmf.ericsson.se (rmt160197.am.ericsson.se [138.85.160.197]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id NAA24813; Thu, 1 Nov 2001 13:50:53 -0600 (CST)
Message-ID: <3BE1AC97.37B27F6D@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 22:12:07 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Shan Lu <shanlu@sentito.com>
CC: IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <001701c160cf$8f78cd00$eb00000a@SAJAK>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Shan Lu wrote:
> 
> Hi all,
> 
> Section 14.1, line 1937, "If a UAS generates a 2xx and never receives an
> ACK, it SHOULD generate a re-invite with an offer equal to last session
> description sent to peer."
> 
> I think this creates unnecessary burden on the UA and doesn't achieve
> much. If the re-invite is to change codecs, then the UAS would have to
> reserve DSP resources before it sends 200 ok. Now with this requirement,
> the UAS has to keep the resource reserved for the duration of currect
> invite transaction (31 s)

We have decided that the protocol retransmits during that amount of
time, so one cannot say that the transaction has failed after this timer
has expired.

> plus potentially another 31 s for the
> re-invite that it generates.
>
>
> If you have any confidence in the
> invite-200-ack retransmission scheme, the UAS should consider the UAC
> down upon seven 200 oks and no ACK.

It will re-INVITE, and if no answer for the re-INVITE is received, the
session will be considered down.

Regards,

Gonzalo


 Let's consider the case where the
> connection from UA1 to UA2 goes down after the intitial re-invite. UA2
> does not receive ACK for this re-invite. So UA2 generates its own
> re-invite. UA1 responds with 200 OK but never received by UA2. So next
> UA1 would re-invite. It's just a mess.
> 
> Furthermore, if the initial re-invite has no sdp, what is the benefit of
> having UAS resend its sdp offer? That is equivalent to having the UAC
> resend the re-invite upon no response.
> BTW, I believe section 14 should describe what happens when re-invite
> does not generate any response -- terminate the call.
> 
> Shan Lu
> sentitO Networks
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 15:15:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29254
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 15:15:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA15769
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 15:15:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA15264;
	Thu, 1 Nov 2001 15:04:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA15233
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 15:03:57 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28953
	for <sip@ietf.org>; Thu, 1 Nov 2001 15:03:50 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA1K3pY01891;
	Thu, 1 Nov 2001 14:03:51 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA1K3or23169;
	Thu, 1 Nov 2001 14:03:50 -0600 (CST)
Received: from lmf.ericsson.se (rmt160197.am.ericsson.se [138.85.160.197]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA26349; Thu, 1 Nov 2001 14:03:48 -0600 (CST)
Message-ID: <3BE1AF9E.EB989D31@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 22:25:02 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jo Hornsby <jhornsby@ubiquity.net>
CC: A Venkatraman <arunvenk@cisco.com>, adam.roach@ericsson.com, sip@ietf.org
Subject: Re: [Sip] Use 599 instead of 482 fro Request Merged?
References: <001701c16227$de972ae0$2834c3c1@eu.ubiquity.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Jo Hornsby wrote:
> 
> > It has been stipulated in the spec that when two merged requests
> > arrive at a
> > UAS, the first one is processed and the second one is responded
> > with a  482.
> >
> > Now, if the first request that is processed elicits a response higher than
> > 482 (eg. 486 Busy) then the forking proxy will return the best response of
> > 482 to the UAC.
> >
> > I support the suggestion of choosing a high response code, like 599.
> 
> 599 is in the wrong class.
> 
> I would note that this is a general problem: for
> instance, 486 seems far more preferable to me
> than 404.  Thus far, the notion of a "best"
> response has always been a little random; however,
> bis-05 seems to open things up nicely by allowing
> a proxy to "select" a response from the lowest
> class (step 5 of section 16.6).  This then becomes
> a nonproblem.

Exactly. Within a class, a lower value of a status code does not mean
higher priority. The decision of which response is "the best received so
far" is a matter of implementation. However, proxies should always try
to return responses that may allow the UAC to try again (like you point
out in your example, a 486 better than a 404).

Regards,

Gonzalo


>  - Jo.
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 15:24:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29455
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 15:24:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA15955
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 15:24:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA15644;
	Thu, 1 Nov 2001 15:14:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA15615
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 15:14:03 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29217
	for <sip@ietf.org>; Thu, 1 Nov 2001 15:13:56 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fA1KDV014650
	for <sip@ietf.org>; Thu, 1 Nov 2001 14:13:31 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA1KDVr26557
	for <sip@ietf.org>; Thu, 1 Nov 2001 14:13:31 -0600 (CST)
Received: from lmf.ericsson.se (rmt160197.am.ericsson.se [138.85.160.197]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA27416; Thu, 1 Nov 2001 14:13:27 -0600 (CST)
Message-ID: <3BE1B1E1.60190E03@lmf.ericsson.se>
Date: Thu, 01 Nov 2001 22:34:41 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: sip@ietf.org
Subject: Re: [Sip] Bis-05: C timer issue
References: <3BE1154A.101DA345@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello Xter,

No, timer C is not reseted when more provisional responses arrive. The
spec says that it is "roughly" how long the phone rings because it is
usually started by a 100 Trying response rather than a 180 Ringing
response.

Regards,

Gonzalo


Christer Holmberg wrote:
> 
> Hi,
> 
> I brought this up in the INVITE-1xx-CANCEL thread, but since it is a
> separate issue I will bring it up separately.
> 
> In bis-05, chapter 17.1.1.2 says:
> 
> If the client transaction receives a provisional response while in
> the "calling" state, it transitions to the "proceeding" state. Upon
> entering this state, the client transaction MUST start timer C with
> the value provided by the TU when the client transaction was created.
> This timeout dictates how long the client transaction waits for a
> final response before giving up (i.e., roughly how long does it "let
> the phone ring"). In the "proceeding" state, the client transaction
> SHOULD NOT retransmit the request any longer. Furthermore, the
> provisional response MUST be passed to the TU. Any further
> provisional responses MUST be passed up to the TU while in the
> "proceeding" state. When timer C fires, the client transaction MUST
> transition to the terminated state, and it MUST inform the TU of the
> timeout.
> 
> My questions are:
> 
> 1. Does a new provisional response reset the C timer? The state machine
> on page 95 shows that the client does remain in the "proceeding" state,
> but it doesn't say anything about reseting the C timer.
> 
> The next question is valid only if the answer to the first question was
> 'yes' :)
> 
> 2. If the client receives provisional responses from multiple servers,
> does it have a C timer for each leg? For example, UAS 1 may send many
> provisional responses, so C doesn't expire, but UAS 2 sends only one
> provisional response, and then nothing else before the C timer expires.
> Now, in this case, should the client should terminate (send BYE) for
> that specific leg? OR, does the client only have a single C timer for
> the whole call, and doesn't (from the C timer point of view) care where
> the provisional responses come from?
> 
> 3. First, I know that transactions are "handled separately". But, if the
> client does not receive futher responses (provisional or final) before
> the C timer expires, but it DOES receive something else related to the
> call (COMET, PRACK responses, INFO responses etc etc), should it still
> terminate the call setup?
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 17:04:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA01731
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 17:04:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA19628
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 17:04:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA18905;
	Thu, 1 Nov 2001 16:50:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA18811
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 16:50:10 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA01411
	for <sip@ietf.org>; Thu, 1 Nov 2001 16:50:06 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id NAA22576; Thu, 1 Nov 2001 13:48:52 -0800 (PST)
Message-Id: <4.1.20011101144700.0127d1d0@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Thu, 01 Nov 2001 15:48:45 -0600
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>,
        "Rosen, Brian" <Brian.Rosen@marconi.com>
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Introducing the "new bis" -
  draft-ietf-sip-rfc2543bis-05
Cc: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
In-Reply-To: <3BE09B23.6A1295B@cs.columbia.edu>
References: <313680C9A886D511A06000204840E1CF0111A7B7@whq-msgusr-02.pit.comms.marconi.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_19467282==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_19467282==_.ALT
Content-Type: text/plain; charset="us-ascii"


All

Comments inserted

At 07:45 PM 10/31/2001 -0500, Henning G. Schulzrinne wrote:
>"Rosen, Brian" wrote:
>> 
>> I have been, and am still very interested in being able to implement
>> what is called MultiLevel Priority and Pre-emption in SIP.  As you
>> may recall, Jim Polk has made several proposals on this subject.
>> 
>> The current priority levels are advisory, the values are not defined,
>> and the current definition allows additional tokens to be used. I would
>> like to propose that the next revision, bis-06 deprecate the current
>> token values and substitute the 791 values.  I believe that, as the old
>> ones are indeed advisory, that any existing implementations would not break.
>
>I'm opposed to that. The original values reflect "human communications
>priorities", not network priorities. The RFC 791 priorities are
>
>          111 - Network Control
>          110 - Internetwork Control
>          101 - CRITIC/ECP
>          100 - Flash Override
>          011 - Flash
>          010 - Immediate
>          001 - Priority
>          000 - Routine
>
>Unless you work for the military, they are essentially meaningless to
>normal users. Anybody know what ECP is :-)?
>
>Since we suffer no shortage of header names, I would suggest that we
>have two different sets, one new header for "communications resource
>priority" (based on RFC 791 and/or the ones suggested by Jim Polk) and
>the existing Priority header for "human precedence", using the existing
>naming scheme.

My past drafts's suggested Priority levels are the lower 5 of RFC791 with
nothing allowed to be above or of higher Priority than RFC791's 100 Flash
Override. I am open to including 110 and 111 from above as non-endstation to
non-endstation traffic (I admit I don't know what ECP is -- but the value does
coincide with 101110 EF in Diffserv as the highest priority and being backwards
compatible under their charter to TOS enabled networks) -- which the usage of
(all of this) should be in a separate ID from the bis doc. 

In fact, I suggest a complete semantics ID for this new "communications
resource priority" Header, potentially as a follow-on to my previous drafts on
the subject. I could move MLPP off to the side as an example of how to use it. 

This would be Standards Track doc, Brian, and you stated this would most likely
put it in the SIP WG (vs. SIPPING) -- how about it as a WG item officially? I
haven't submitted my v-02 of MLPP over SIP yet, and there's still time to make
these changes before the Nov 21st cutoff. I'd modify the name, of course.

This doc will state (as my previous ID's have) that it is *only* IP Domain
specific, relying on SLA's to continue (or how to modify the values) past a
Domain Border. Placing this new header in the bis doc also helps in making
reverse compatibility doable on this whole topic.

>
>Usually, the two are closely related, but may not necessarily be. For
>example, most calls, from a network perspective, may be "Routine", but I
>may well consider it "High" priority for the receiving user.
>
>I've heard that 791-style values are often assigned based on military
>rank, so it could even be that a four-star general makes a "non-urgent"
>call on a "Flash" circuit.

This would be an administrative issue within the Domain implementing these
features/functionalities.

>
>Changing names is not a good idea in general since existing
>implementations may translate them into local languages (and leave
>unrecognized names alone).
>
>> 
>> If that is not acceptable, I'd propose that we ADD the RFC 791 tokens
>> to the existing tokens, with language explaining what happened.
>> 
>> Brian
>> 
>
>> >
>> > Why was the list of priorities taken from RFC 2076 rather
>> > than from RFC 791?
>> > RFC 2076 was informational and copied the list from RFC 1327
>> > (which was
>> > obsoleted by RFC 2156), They addressed mapping between X.400
>> > and RFC 822, but
>> > RFC 822 did not mention any such values. RFC 791 (and
>> > appropriate existing
>> > telephony standards) should form the basis of the priority
>> > definition field
>> > in SIP.
>> >
>
>
>> > Also, there needs to be an explicit statement concerning the
>> > order of the
>> > present and the new values. There is no order specified for
>> > the current set.
>> > Different people would come to different conclusions about
>> > the relative order
>> > of "Routine" and "non-urgent". It needs to state that the
>> > current four values
>> > are in the descending order "emergency, urgent, routine, and
>> > non-urgent". The
>
>Good idea. That clearly is needed for any set.
>
>> > order of the 5 new values is as defined in RFC 791 and
>> > applicable standards.
>> > Also, there should be no defined relation between the current
>> > set and the new
>> > added set. It is not expected that they would be used
>> > together, but if they
>> > are, it is a local issue on how to handle them.
>> >
>
>-- 
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_19467282==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>All</div>
<br>
<div>Comments inserted</div>
<br>
<div>At 07:45 PM 10/31/2001 -0500, Henning G. Schulzrinne wrote:</div>
<div>&gt;&quot;Rosen, Brian&quot; wrote:</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; I have been, and am still very interested in being able to
implement</div>
<div>&gt;&gt; what is called MultiLevel Priority and Pre-emption in
SIP.&nbsp; As you</div>
<div>&gt;&gt; may recall, Jim Polk has made several proposals on this
subject.</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; The current priority levels are advisory, the values are
not defined,</div>
<div>&gt;&gt; and the current definition allows additional tokens to be
used. I would</div>
<div>&gt;&gt; like to propose that the next revision, bis-06 deprecate
the current</div>
<div>&gt;&gt; token values and substitute the 791 values.&nbsp; I believe
that, as the old</div>
<div>&gt;&gt; ones are indeed advisory, that any existing implementations
would not break.</div>
<div>&gt;</div>
<div>&gt;I'm opposed to that. The original values reflect &quot;human
communications</div>
<div>&gt;priorities&quot;, not network priorities. The RFC 791 priorities
are</div>
<div>&gt;</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 111 -
Network Control</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 110 -
Internetwork Control</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 101 -
CRITIC/ECP</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 100 -
Flash Override</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 011 -
Flash</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 010 -
Immediate</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 001 -
Priority</div>
<div>&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 000 -
Routine</div>
<div>&gt;</div>
<div>&gt;Unless you work for the military, they are essentially
meaningless to</div>
<div>&gt;normal users. Anybody know what ECP is :-)?</div>
<div>&gt;</div>
<div>&gt;Since we suffer no shortage of header names, I would suggest
that we</div>
<div>&gt;have two different sets, one new header for &quot;communications
resource</div>
<div>&gt;priority&quot; (based on RFC 791 and/or the ones suggested by
Jim Polk) and</div>
<div>&gt;the existing Priority header for &quot;human precedence&quot;,
using the existing</div>
<div>&gt;naming scheme.</div>
<br>
<div>My past drafts's suggested Priority levels are the lower 5 of RFC791
with nothing allowed to be above or of higher Priority than RFC791's 100
Flash Override. I am open to including 110 and 111 from above as
non-endstation to non-endstation traffic (I admit I don't know what ECP
is -- but the value does coincide with 101110 EF in Diffserv as the
highest priority and being backwards compatible under their charter to
TOS enabled networks) -- which the usage of (all of this) should be in a
separate ID from the bis doc. </div>
<br>
<div>In fact, I suggest a complete semantics ID for this new
&quot;communications resource priority&quot; Header, potentially as a
follow-on to my previous drafts on the subject. I could move MLPP off to
the side as an example of how to use it. </div>
<br>
<div>This would be Standards Track doc, Brian, and you stated this would
most likely put it in the SIP WG (vs. SIPPING) -- how about it as a WG
item officially? I haven't submitted my v-02 of MLPP over SIP yet, and
there's still time to make these changes before the Nov 21st cutoff. I'd
modify the name, of course.</div>
<br>
<div>This doc will state (as my previous ID's have) that it is *only* IP
Domain specific, relying on SLA's to continue (or how to modify the
values) past a Domain Border. Placing this new header in the bis doc also
helps in making reverse compatibility doable on this whole topic.</div>
<br>
<div>&gt;</div>
<div>&gt;Usually, the two are closely related, but may not necessarily
be. For</div>
<div>&gt;example, most calls, from a network perspective, may be
&quot;Routine&quot;, but I</div>
<div>&gt;may well consider it &quot;High&quot; priority for the receiving
user.</div>
<div>&gt;</div>
<div>&gt;I've heard that 791-style values are often assigned based on
military</div>
<div>&gt;rank, so it could even be that a four-star general makes a
&quot;non-urgent&quot;</div>
<div>&gt;call on a &quot;Flash&quot; circuit.</div>
<br>
<div>This would be an administrative issue within the Domain implementing
these features/functionalities.</div>
<br>
<div>&gt;</div>
<div>&gt;Changing names is not a good idea in general since
existing</div>
<div>&gt;implementations may translate them into local languages (and
leave</div>
<div>&gt;unrecognized names alone).</div>
<div>&gt;</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; If that is not acceptable, I'd propose that we ADD the RFC
791 tokens</div>
<div>&gt;&gt; to the existing tokens, with language explaining what
happened.</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; Brian</div>
<div>&gt;&gt; </div>
<div>&gt;</div>
<div>&gt;&gt; &gt;</div>
<div>&gt;&gt; &gt; Why was the list of priorities taken from RFC 2076
rather</div>
<div>&gt;&gt; &gt; than from RFC 791?</div>
<div>&gt;&gt; &gt; RFC 2076 was informational and copied the list from
RFC 1327</div>
<div>&gt;&gt; &gt; (which was</div>
<div>&gt;&gt; &gt; obsoleted by RFC 2156), They addressed mapping between
X.400</div>
<div>&gt;&gt; &gt; and RFC 822, but</div>
<div>&gt;&gt; &gt; RFC 822 did not mention any such values. RFC 791
(and</div>
<div>&gt;&gt; &gt; appropriate existing</div>
<div>&gt;&gt; &gt; telephony standards) should form the basis of the
priority</div>
<div>&gt;&gt; &gt; definition field</div>
<div>&gt;&gt; &gt; in SIP.</div>
<div>&gt;&gt; &gt;</div>
<div>&gt;</div>
<div>&gt;</div>
<div>&gt;&gt; &gt; Also, there needs to be an explicit statement
concerning the</div>
<div>&gt;&gt; &gt; order of the</div>
<div>&gt;&gt; &gt; present and the new values. There is no order
specified for</div>
<div>&gt;&gt; &gt; the current set.</div>
<div>&gt;&gt; &gt; Different people would come to different conclusions
about</div>
<div>&gt;&gt; &gt; the relative order</div>
<div>&gt;&gt; &gt; of &quot;Routine&quot; and &quot;non-urgent&quot;. It
needs to state that the</div>
<div>&gt;&gt; &gt; current four values</div>
<div>&gt;&gt; &gt; are in the descending order &quot;emergency, urgent,
routine, and</div>
<div>&gt;&gt; &gt; non-urgent&quot;. The</div>
<div>&gt;</div>
<div>&gt;Good idea. That clearly is needed for any set.</div>
<div>&gt;</div>
<div>&gt;&gt; &gt; order of the 5 new values is as defined in RFC 791
and</div>
<div>&gt;&gt; &gt; applicable standards.</div>
<div>&gt;&gt; &gt; Also, there should be no defined relation between the
current</div>
<div>&gt;&gt; &gt; set and the new</div>
<div>&gt;&gt; &gt; added set. It is not expected that they would be
used</div>
<div>&gt;&gt; &gt; together, but if they</div>
<div>&gt;&gt; &gt; are, it is a local issue on how to handle 
them.</div>
<div>&gt;&gt; &gt;</div>
<div>&gt;</div>
<div>&gt;-- </div>
<div>&gt;Henning Schulzrinne&nbsp;&nbsp;
<a href="http://www.cs.columbia.edu/~hgs" EUDORA=AUTOURL>http://www.cs.columbia.edu/~hgs</a></div>
<div>&gt;</div>
<div>&gt;_______________________________________________</div>
<div>&gt;Sip mailing list&nbsp;
<a href="http://www1.ietf.org/mailman/listinfo/sip" EUDORA=AUTOURL>http://www1.ietf.org/mailman/listinfo/sip</a></div>
<div>&gt;This list is for NEW development of the core SIP 
Protocol</div>
<div>&gt;Use sip-implementors@cs.columbia.edu for questions on current
sip</div>
<div>&gt;Use sipping@ietf.org for new developments on the application of
sip</div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_19467282==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 18:14:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02665
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 18:14:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA21661
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 18:15:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21346;
	Thu, 1 Nov 2001 18:02:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21315
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 18:02:02 -0500 (EST)
Received: from newdev.harvard.edu (newdev.eecs.harvard.edu [140.247.60.212])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02494
	for <sip@ietf.org>; Thu, 1 Nov 2001 18:01:57 -0500 (EST)
Received: (from sob@localhost)
	by newdev.harvard.edu (8.10.2/8.10.2) id fA1N1Wb13436
	for sip@ietf.org; Thu, 1 Nov 2001 18:01:32 -0500 (EST)
Date: Thu, 1 Nov 2001 18:01:32 -0500 (EST)
From: Scott  Bradner <sob@harvard.edu>
Message-Id: <200111012301.fA1N1Wb13436@newdev.harvard.edu>
To: sip@ietf.org
Subject: [Sip] two things (was Introducing the "new bis" - draft-ietf-sip-rfc2543bis-05)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Re; "791-style values"
seems passing strange to focus too much on a 1981 understanding of 
what network priorities might be 20 years later

Re: IEPS
we are thinking of having an IEPS BOF to think about the IEPS problem
as a whole - it is premature to look at IEPS-like issues on an application
by application basis

Scott

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 18:25:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02796
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 18:25:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA21956
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 18:25:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21648;
	Thu, 1 Nov 2001 18:14:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21616
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 18:14:49 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02656
	for <sip@ietf.org>; Thu, 1 Nov 2001 18:14:39 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme1.f1ee40-19.idc1.oss.level3.com [10.1.146.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id XAA24429;
	Thu, 1 Nov 2001 23:14:43 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id XAA28942;
	Thu, 1 Nov 2001 23:14:43 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <4GXRWDHP>; Thu, 1 Nov 2001 16:14:42 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B36FD1@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, sip@ietf.org
Cc: Rich.Terpstra@level3.com, Ken.Fischer@level3.com
Subject: RE: [SIP] Killing hung media streams
Date: Thu, 1 Nov 2001 16:14:41 -0700 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 Last word below on this topic was some verbage was going into the next bis
draft about reconstituting session state or terminating the session when
ICMP errors are encountered on the media stream.  I am unable to find
anything discussing this in bis-05.  Did I miss it?

John Hearty
Level3


-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Friday, August 24, 2001 1:15 AM
To: Hearty, John; Jonathan Rosenberg
Cc: hurtig@iex.com; sip@ietf.org; Terpstra, Rich; Fischer, Ken
Subject: RE: [SIP] Killing hung media streams




 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Thursday, August 23, 2001 4:32 PM
> To: jdrosen@dynamicsoft.com
> Cc: hurtig@iex.com; sip@ietf.org; Rich.Terpstra@Level3.com;
> Ken.Fischer@Level3.com
> Subject: RE: [SIP] Killing hung media streams
> 
> 
> 
> > My recommendation is this. If a UA is in a call, and begins 
> getting ICMP
> > errors on a media stream, and wishes to continue with the 
> call, it SHOULD
> > send a re-INVITE on that leg. 
> >
> > As an orthogonal issue, if a UAC receives a 481 to a 
> mid-call re-INVITE,
> it
> > SHOULD tear down the call by sending a BYE.
> 
> 
> This sounds great.  In addition, a recommedation for the case 
> where a UA
> begins getting ICMP errors and does not wish to continue the 
> call should
> also be noted.  Sending a BYE in this case as well seems 
> consistent with
> your position below. 

Yes, thats fine. But, I want the text to be clear that this is only if you
really have some other reason for not continuing. A triggered re-INVITE on
ICMP errors does wonders for reconstituting state and providing fault
tolerance. Most of the times, that is what you want.

> If there is no objection, can we get 
> modified language
> in the bis indicating these behaviors?

Fine by me. Speak up folks, or the text is going in....

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 18:25:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02810
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 18:25:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA21970
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 18:25:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21587;
	Thu, 1 Nov 2001 18:14:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21558
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 18:14:17 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA02653
	for <sip@ietf.org>; Thu, 1 Nov 2001 18:14:12 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA1NCWb7000924
	for <sip@ietf.org>; Thu, 1 Nov 2001 18:12:32 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXMK3>; Thu, 1 Nov 2001 18:13:47 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FD87@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Thu, 1 Nov 2001 18:13:42 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - Last Call Weekly Status Update
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP Working Group Members,

       This Working Group Last Call status is being sent out to keep you
up-to-speed.

       Any questions about this information can be addressed to Rakesh Shah
(mailto:rshah@dynamicsoft.com).

Drafts in WGLC

draft-ietf-sip-100rel-03.txt
A. Mankin has suggested that this draft be folded into the rfc2543-bis
draft. It has finished last call and been updated recently, but no news from
ADs.

draft-ietf-sip-serverfeatures-05.txt
Chairs are working some issues with ADs. WGLC completed. Draft was submitted
to IESG, returned for updates and updates were made by authors.

draft-ietf-sip-session-timer-08.txt
Under review by A. Mankin. On IESG submitted list as of 23Oct01.

draft-ietf-sip-callerprefs-04.txt
Last Call review completed. Waiting for authors' summary. Summary delayed
due to bis re-write.

draft-ietf-sip-mib-03.txt
Waiting on authors' summary.

draft-ietf-sip-manyfolks-resource-02.txt
Open discussion announced. (Critical to 3GPP.)

draft-ietf-sip-call-auth-02.txt
List open discussion announced. (Critical for 3GPP.)

draft-ietf-sip-state-02.txt
Contacting NITS reviewer. Reminder sent on 1Nov01.

draft-ietf-sip-refer-02.txt
Assigning NITS reviewer. Recently split from transfer draft.

Drafts Queued for WGLC

draft-ietf-sip-rfc2543bis-04.txt
Major reorg started. New dates are being planned.

draft-ietf-sip-privacy-02.txt
Expecting -03 in November. -03 will be ready for WGLC. Will generate a lot
of debate. (3GPP interest.)


       This information is kept up-to-date on the supplemental SIP WG Web
site (link below).

Links

Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 19:19:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03533
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 19:19:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA23221
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 19:19:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA22820;
	Thu, 1 Nov 2001 19:04:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA22791
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 19:04:12 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03177
	for <sip@ietf.org>; Thu, 1 Nov 2001 19:04:06 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id QAA22286; Thu, 1 Nov 2001 16:03:34 -0800 (PST)
Message-Id: <4.1.20011101173212.0129b6f8@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Thu, 01 Nov 2001 18:03:26 -0600
To: Scott  Bradner <sob@harvard.edu>, sip@ietf.org
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] two things (was Introducing the "new bis" -
  draft-ietf-sip-rfc2543bis-05)
In-Reply-To: <200111012301.fA1N1Wb13436@newdev.harvard.edu>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_27548933==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_27548933==_.ALT
Content-Type: text/plain; charset="us-ascii"


Scott

Understand your confusion -- however, this thread is rooted in the topic of
MLPP and the need for strict mapping of a modified set of Priority values
within SIP. ANSI T1.619 (and 619A), or MLPP, picked RFC791's Priority scheme
for its interworking by assigning a Precedence value for every phone call of 4
(or 791's 000 "Routine") to the highest value in the network of 0 (or 719's 101
"Flash Override). ANSI defined a descending order to their Precedence scheme so
that nothing was higher in the handset than 0 ("Flash Override"). ANSI also
chose to not define the remainder of RFC791 values -- I wasn't there in 1992
and don't know why.

Interaction between the existing MLPP enabled networks and IP networks need to
map directly if VoIP is to augment, transition off of, or replace existing
TDM/ISDN-based MLPP infrastructure (per customer requirements which are fairly
unforgiving and rigid). 

With this requirement known, I set out (starting in Adelaide) and submitted
several ID's mapping the Signaling of SIP to my proposed 5 corresponding
Priority Values that happen to match RFC791 (without the 3 higher vales, of
course). I know and admit it's awkward doing it this way -- but sometimes you
bring Mohammed to the mountain, and other times you bring the mountain to
Mohammed.

Here we have existing functionalities that must remain to the endpoints even if
they are transitioned to IP-based solutions. It's not as simple as building a
great GW between TDM and IP networks.

Writing the effort in SIP is not going to solve the whole issue, hence I wrote
another ID: mlpp-over-ip, which I'm updating now in time for SLC.

Comments?

At 06:01 PM 11/1/2001 -0500, Scott  Bradner wrote:
>
>Re; "791-style values"
>seems passing strange to focus too much on a 1981 understanding of 
>what network priorities might be 20 years later
>
>Re: IEPS
>we are thinking of having an IEPS BOF to think about the IEPS problem
>as a whole - it is premature to look at IEPS-like issues on an application
>by application basis
>
>Scott
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_27548933==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>Scott</div>
<br>
<div>Understand your confusion -- however, this thread is rooted in the
topic of MLPP and the need for strict mapping of a modified set of
Priority values within SIP. ANSI T1.619 (and 619A), or MLPP, picked
RFC791's Priority scheme for its interworking by assigning a Precedence
value for every phone call of 4 (or 791's 000 &quot;Routine&quot;) to the
highest value in the network of 0 (or 719's 101 &quot;Flash Override).
ANSI defined a descending order to their Precedence scheme so that
nothing was higher in the handset than 0 (&quot;Flash Override&quot;).
ANSI also chose to not define the remainder of RFC791 values -- I wasn't
there in 1992 and don't know why.</div>
<br>
<div>Interaction between the existing MLPP enabled networks and IP
networks need to map directly if VoIP is to augment, transition off of,
or replace existing TDM/ISDN-based MLPP infrastructure (per customer
requirements which are fairly unforgiving and rigid). </div>
<br>
<div>With this requirement known, I set out (starting in Adelaide) and
submitted several ID's mapping the Signaling of SIP to my proposed 5
corresponding Priority Values that happen to match RFC791 (without the 3
higher vales, of course). I know and admit it's awkward doing it this way
-- but sometimes you bring Mohammed to the mountain, and other times you
bring the mountain to Mohammed.</div>
<br>
<div>Here we have existing functionalities that must remain to the
endpoints even if they are transitioned to IP-based solutions. It's not
as simple as building a great GW between TDM and IP networks.</div>
<br>
<div>Writing the effort in SIP is not going to solve the whole issue,
hence I wrote another ID: mlpp-over-ip, which I'm updating now in time
for SLC.</div>
<br>
<div>Comments?</div>
<br>
<div>At 06:01 PM 11/1/2001 -0500, Scott&nbsp; Bradner wrote:</div>
<div>&gt;</div>
<div>&gt;Re; &quot;791-style values&quot;</div>
<div>&gt;seems passing strange to focus too much on a 1981 understanding
of </div>
<div>&gt;what network priorities might be 20 years later</div>
<div>&gt;</div>
<div>&gt;Re: IEPS</div>
<div>&gt;we are thinking of having an IEPS BOF to think about the IEPS
problem</div>
<div>&gt;as a whole - it is premature to look at IEPS-like issues on an
application</div>
<div>&gt;by application basis</div>
<div>&gt;</div>
<div>&gt;Scott</div>
<div>&gt;</div>
<div>&gt;_______________________________________________</div>
<div>&gt;Sip mailing list&nbsp;
<a href="http://www1.ietf.org/mailman/listinfo/sip" EUDORA=AUTOURL>http://www1.ietf.org/mailman/listinfo/sip</a></div>
<div>&gt;This list is for NEW development of the core SIP 
Protocol</div>
<div>&gt;Use sip-implementors@cs.columbia.edu for questions on current
sip</div>
<div>&gt;Use sipping@ietf.org for new developments on the application of
sip</div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_27548933==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 19:38:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA04053
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 19:38:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA23901
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 19:38:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA23417;
	Thu, 1 Nov 2001 19:27:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA23367
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 19:27:00 -0500 (EST)
Received: from dgesmtp01.wcom.com (dgesmtp01.wcom.com [199.249.16.16])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA03765
	for <sip@ietf.org>; Thu, 1 Nov 2001 19:26:54 -0500 (EST)
Received: from pmismtp01.wcomnet.com ([166.38.62.36])
 by firewall.wcom.com (PMDF V5.2-33 #42260)
 with ESMTP id <0GM500J9HD80S6@firewall.wcom.com> for sip@ietf.org; Fri,
 2 Nov 2001 00:26:24 +0000 (GMT)
Received: from pmismtp01.wcomnet.com by pmismtp01.wcomnet.com
 (PMDF V5.2-33 #42258) with SMTP id <0GM500E01D7ZZW@pmismtp01.wcomnet.com>;
 Fri, 02 Nov 2001 00:26:24 +0000 (GMT)
Received: from hsinnreich ([166.42.42.120])
 by pmismtp01.wcomnet.com (PMDF V5.2-33 #42258)
 with ESMTP id <0GM500E1CD7NJE@pmismtp01.wcomnet.com>; Fri,
 02 Nov 2001 00:26:11 +0000 (GMT)
Date: Thu, 01 Nov 2001 18:26:10 -0600
From: Henry Sinnreich <henry.sinnreich@wcom.com>
Subject: RE: [Sip] two things (was Introducing the "new bis" -
 draft-ietf-sip-rfc2543bis-05)
In-reply-to: <4.1.20011101173212.0129b6f8@localhost>
To: "'James M. Polk'" <jmpolk@cisco.com>, "'Scott Bradner'" <sob@harvard.edu>,
        sip@ietf.org
Message-id: <000001c16334$f96a3160$782a2aa6@open.wcomnet.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Mailer: Microsoft Outlook, Build 10.0.2627
Content-type: text/plain; charset=us-ascii
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id TAA23370
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

>ANSI also chose to not define the remainder of RFC791 

I don't understand the involvement of ANSI in Internet standards. Would
think the IETF has moved the Internet ahead well enough, without the
interference from every regional standards body. Balkanize the Internet
with ANSI, ETSI and Asia-Pacific, etc. regional standards?

Henry

Henry Sinnreich
WorldCom
400 International Parkway
Richardson, Texas 75081
USA  


-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On Behalf Of James
M. Polk
Sent: Thursday, November 01, 2001 6:03 PM
To: Scott Bradner; sip@ietf.org
Subject: Re: [Sip] two things (was Introducing the "new bis" -
draft-ietf-sip-rfc2543bis-05)


Scott


Understand your confusion -- however, this thread is rooted in the topic
of MLPP and the need for strict mapping of a modified set of Priority
values within SIP. ANSI T1.619 (and 619A), or MLPP, picked RFC791's
Priority scheme for its interworking by assigning a Precedence value for
every phone call of 4 (or 791's 000 "Routine") to the highest value in
the network of 0 (or 719's 101 "Flash Override). ANSI defined a
descending order to their Precedence scheme so that nothing was higher
in the handset than 0 ("Flash Override"). ANSI also chose to not define
the remainder of RFC791 values -- I wasn't there in 1992 and don't know
why.


Interaction between the existing MLPP enabled networks and IP networks
need to map directly if VoIP is to augment, transition off of, or
replace existing TDM/ISDN-based MLPP infrastructure (per customer
requirements which are fairly unforgiving and rigid). 


With this requirement known, I set out (starting in Adelaide) and
submitted several ID's mapping the Signaling of SIP to my proposed 5
corresponding Priority Values that happen to match RFC791 (without the 3
higher vales, of course). I know and admit it's awkward doing it this
way -- but sometimes you bring Mohammed to the mountain, and other times
you bring the mountain to Mohammed.


Here we have existing functionalities that must remain to the endpoints
even if they are transitioned to IP-based solutions. It's not as simple
as building a great GW between TDM and IP networks.


Writing the effort in SIP is not going to solve the whole issue, hence I
wrote another ID: mlpp-over-ip, which I'm updating now in time for SLC.


Comments?


At 06:01 PM 11/1/2001 -0500, Scott  Bradner wrote:
>
>Re; "791-style values"
>seems passing strange to focus too much on a 1981 understanding of 
>what network priorities might be 20 years later
>
>Re: IEPS
>we are thinking of having an IEPS BOF to think about the IEPS problem
>as a whole - it is premature to look at IEPS-like issues on an
application
>by application basis
>
>Scott
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip


*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"


James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  1 20:42:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA05569
	for <sip-archive@odin.ietf.org>; Thu, 1 Nov 2001 20:42:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA25238
	for sip-archive@odin.ietf.org; Thu, 1 Nov 2001 20:42:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA24642;
	Thu, 1 Nov 2001 20:29:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA24611
	for <sip@optimus.ietf.org>; Thu, 1 Nov 2001 20:29:25 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA05142
	for <sip@ietf.org>; Thu, 1 Nov 2001 20:29:18 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fA21SfE64473; Thu, 1 Nov 2001 20:28:42 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL
Date: Thu, 1 Nov 2001 20:30:12 -0500
Message-ID: <002a01c1633d$eb38d610$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <B65B4F8437968F488A01A940B21982BF02A79420@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> > One alternative is to queue the CANCEL
> > at UAS/proxy waiting for the associated 
> > request.
> 
> Right. The issue with that is that is that 
> it opens a DoS attack. CANCEL
> can't be authenticated like other requests 
> since its hBh. Thus, its
> authenticated by having it come from the 
> same place the request came from
> (and so tls, for example, could be used). 
> This means you trust it if you
> trust the request its cancelling. If you buffer 
> at the server, you would
> have to buffer the cancel even before an 
> authenticated request arrived. THis
> means that someone can send CANCEL to establish 
> state at the server, and
> then never send a corresponding request. 
> There is no easy way to defeat this
> except to prevent it as we have proposed. 

I guess that the bis-05 proposal should
also reflect that the CANCEL MUST be
queued at the transaction stateful proxy 
until it receives a 1xx for the INVITE
to avoid proxy delivering the CANCEL
before the INVITE.  It would apply to
both forking and non-forking situations.

Maybe Anders idea of dropping an unknown 
CANCEL instead of sending a response
isn't so bad. :)

> > Another alternative is for SIP devices 
> > to actually start using the Expires 
> > header and/or the UAS to remain in 
> > ringing for a "maximum" time.  I assume 
> > that most UAS implementations will 
> > not allow a call to remain in alerting
> > state any longer than 3 minutes unless
> > they are trying to use 182 type 
> > functionality.
> 
> I don't see how this helps. In my initial 
> INVITE, I don't know how long I
> want it to ring for, so there is no Expires. 
> A second later I decide to hang
> up. Its too late to use the Expires in the 
> INVITE since its been sent. 

It helps by establishing a maximum time within 
which a final response should be generated.
I agree that it doesn't work as quickly as
queuing the CANCEL at the UAC.  I also agree
that it limits how long a call can remain in
an alerting state without the usage of 
draft-rosenberg-sip-early-media to send an 
overlapping re-invite to replace the
request. :)

Using Expires also fixes the UAC/proxy/network 
failure problem that prevents the CANCEL 
from getting to UAS.  Hopefully if no Expires 
was used, a UAS would still be smart enough 
to not remain indefinitely in alerting state.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 01:11:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA12172
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 01:11:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA06401
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 01:11:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29427;
	Fri, 2 Nov 2001 00:59:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29398
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 00:59:21 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA11292
	for <sip@ietf.org>; Fri, 2 Nov 2001 00:59:19 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA25vXb7002409;
	Fri, 2 Nov 2001 00:57:33 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXNAS>; Fri, 2 Nov 2001 00:58:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D18@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Bob Penfield <bpenfield@acmepacket.com>,
        "'IETF SIP Mailing List'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL
Date: Fri, 2 Nov 2001 00:58:43 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Thursday, November 01, 2001 1:13 AM
> To: Jonathan Rosenberg
> Cc: Bob Penfield; 'IETF SIP Mailing List'
> Subject: Re: [Sip] Bis-05 question: CANCEL
> 
> >As such, the UAC would need to continue to BYE individual 
> 1xx as they arrive,
> 
> Why? If the UAC sends CANCEL, receives 481 (the CANCEL reaches the
> server before the INVITE), and then starts receiving 1xx provisional
> responses for the INVITE it can send a new CANCEL, which should cancel
> ALL legs. 

Sorry, that is not correct. This CANCEL will look identical to the previous
one, and therefore be treated as a retransmission, returning once more the
same response, 481, and having no effect.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 01:22:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA13619
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 01:22:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07217
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 01:22:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06119;
	Fri, 2 Nov 2001 01:10:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06073
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 01:10:53 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA12095
	for <sip@ietf.org>; Fri, 2 Nov 2001 01:10:50 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA26ApC08314;
	Fri, 2 Nov 2001 07:10:51 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA26ApB14140;
	Fri, 2 Nov 2001 08:10:51 +0200 (EET)
Message-ID: <3BE238E9.293A8FCB@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 08:10:49 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Pekka Pessi <Pekka.Pessi@nokia.com>
CC: Jo Hornsby <jhornsby@ubiquity.net>, sip@ietf.org
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
References: <3BE03B81.DD60A1D2@lmf.ericsson.se> <pv8zdqcytd.fsf@agni.research.nokia.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I don't know if it's more reliable to assume that the ACK belongs to a
>>specific INVITE just because you can't find a matching Via branch
>>value...
> 
>You can have different tag value for those transactions that you
>respond with 482 than those that you answer with 200.

Yes, that is an option. Any comments on that?

>Of course, this does not solve merging problem for re-INVITEs (if
>is there such a problem).

Will a re-INVITE be forked/merged, since we have an established route it
shall follow?

Regards,

Christer Holmberg
Ericsson Finland




> 
>                                                 Pekka

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 01:32:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA15081
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 01:32:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07764
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 01:32:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA29958;
	Fri, 2 Nov 2001 01:05:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA29907
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 01:05:05 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA11428
	for <sip@ietf.org>; Fri, 2 Nov 2001 01:05:03 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA262kb7002432;
	Fri, 2 Nov 2001 01:02:46 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXNA0>; Fri, 2 Nov 2001 01:04:02 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Romel Khan <rkhan@net2phone.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        Shan Lu <shanlu@sentito.com>, "'IETF SIP Mailing List'" <sip@ietf.org>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] Bis-05 question: CANCEL
Date: Fri, 2 Nov 2001 01:04:01 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Thursday, November 01, 2001 1:35 AM
> To: Gonzalo Camarillo
> Cc: Romel Khan; 'Robert Sparks'; Shan Lu; 'IETF SIP Mailing List';
> Jonathan Rosenberg
> Subject: Re: [Sip] Bis-05 question: CANCEL
> 
> >If you do not think that not being able to hang up a call is harmful
> >then we live in different worlds.
> 
> If my UAC works correctly I will be able to hang up the call... Yes,
> there is a small chance, if the caller hangs up very fast, that the
> phone will ring for a while, until the UAC realises what has happended
> and sends a new CANCEL or BYE (depending on the type of response it
> first receives for the INVITE).

New CANCEL will do nothing, as it will be seen as a retransmit.

BYE will terminate only the leg which generated the 1xx, all others keep
ringing. BYE is not the same as CANCEL.

>  
> >>Second, IF it will be a requirement to wait for the 1xx, 
> then I think it
> >>also must be a requirement to send a 1xx in the first plavce
> >bis-05 says that the server transaction MUST send a 100 Trying unless
> >another response will be sent in 200 ms.
> 
> So, who is going to start a timer for 200 ms??? Wouldn't it 
> be much more
> CLEAR and SIMPLE to simply write that the server MUST send a 
> provisional
> response as soon as it receives the INVITE?

There are redirect servers that return a final response instantly. In these
cases, the 100 is wasteful.

> >>Which scenario? Loosing a message, or hanging up in less than half a
> >>second? :)
> >>
> > 
> >Both at the same time.
> 
> And, how often will both at the same time happen? 

Frequently enough. I'd like to have a protocol that is reasonably correct.
This failure is quite bad if it should happen.

Christer later writes:
> Another option could be: 
> 
> Whenever a server receives the INVITE, it checks if it has recently
> received a CANCEL/BYE for that call. Today, the server must 
> anyway keep
> state for the CANCEL (and every other method) for a certain time after
> it has sent the final response (to handle re-transmissions 
> etc), 

That is FALSE. Unauthenticated requests can be responded to statelessly. I
have posted a note that concisely outlines the attacks possible with server
side buffering. You seem to ignore them.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 01:35:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA15447
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 01:35:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07796
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 01:35:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07191;
	Fri, 2 Nov 2001 01:19:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07164
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 01:19:55 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA13290
	for <sip@ietf.org>; Fri, 2 Nov 2001 01:19:52 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA26Jrf20744;
	Fri, 2 Nov 2001 07:19:53 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA26JrB14332;
	Fri, 2 Nov 2001 08:19:53 +0200 (EET)
Message-ID: <3BE23B07.B077EF3D@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 08:19:51 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan,

>>Whenever a server receives the INVITE, it checks if it has recently
>>received a CANCEL/BYE for that call. Today, the server must
>>anyway keep state for the CANCEL (and every other method) for a certain >>time after it has sent the final response (to handle re-transmissions
>>etc),
>
>That is FALSE. Unauthenticated requests can be responded to statelessly. >I have posted a note that concisely outlines the attacks possible with >server side buffering. You seem to ignore them.

I am NOT ignoring them. However, which I have said, if a third party
really is able to send messages around just like that, there is much
more damage he can do than the stuff related to this specific case. He
can hang up calls, establish calls which will be billed to someone
else... whatever... 

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 01:44:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA16800
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 01:44:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07884
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 01:44:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07145;
	Fri, 2 Nov 2001 01:14:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07114
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 01:13:57 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA12504
	for <sip@ietf.org>; Fri, 2 Nov 2001 01:13:55 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA26Bbb7002459;
	Fri, 2 Nov 2001 01:11:37 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXNBK>; Fri, 2 Nov 2001 01:12:52 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D1A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Cc: Rich.Terpstra@level3.com, Ken.Fischer@level3.com
Subject: RE: [SIP] Killing hung media streams
Date: Fri, 2 Nov 2001 01:12:51 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

John,

No, we didn't put it in. However, it is being tracked by bugzilla, so it
will be addressed in a subsequent version. Again, our aim with bis-05 was
primarily to rewrite, not to include resolution to many open issues.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Thursday, November 01, 2001 6:15 PM
> To: jdrosen@dynamicsoft.com; sip@ietf.org
> Cc: Rich.Terpstra@Level3.com; Ken.Fischer@Level3.com
> Subject: RE: [SIP] Killing hung media streams
> 
> 
> 
>  Last word below on this topic was some verbage was going 
> into the next bis
> draft about reconstituting session state or terminating the 
> session when
> ICMP errors are encountered on the media stream.  I am unable to find
> anything discussing this in bis-05.  Did I miss it?
> 
> John Hearty
> Level3
> 
> 
> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Friday, August 24, 2001 1:15 AM
> To: Hearty, John; Jonathan Rosenberg
> Cc: hurtig@iex.com; sip@ietf.org; Terpstra, Rich; Fischer, Ken
> Subject: RE: [SIP] Killing hung media streams
> 
> 
> 
> 
>  
> 
> > -----Original Message-----
> > From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> > Sent: Thursday, August 23, 2001 4:32 PM
> > To: jdrosen@dynamicsoft.com
> > Cc: hurtig@iex.com; sip@ietf.org; Rich.Terpstra@Level3.com;
> > Ken.Fischer@Level3.com
> > Subject: RE: [SIP] Killing hung media streams
> > 
> > 
> > 
> > > My recommendation is this. If a UA is in a call, and begins 
> > getting ICMP
> > > errors on a media stream, and wishes to continue with the 
> > call, it SHOULD
> > > send a re-INVITE on that leg. 
> > >
> > > As an orthogonal issue, if a UAC receives a 481 to a 
> > mid-call re-INVITE,
> > it
> > > SHOULD tear down the call by sending a BYE.
> > 
> > 
> > This sounds great.  In addition, a recommedation for the case 
> > where a UA
> > begins getting ICMP errors and does not wish to continue the 
> > call should
> > also be noted.  Sending a BYE in this case as well seems 
> > consistent with
> > your position below. 
> 
> Yes, thats fine. But, I want the text to be clear that this 
> is only if you
> really have some other reason for not continuing. A triggered 
> re-INVITE on
> ICMP errors does wonders for reconstituting state and providing fault
> tolerance. Most of the times, that is what you want.
> 
> > If there is no objection, can we get 
> > modified language
> > in the bis indicating these behaviors?
> 
> Fine by me. Speak up folks, or the text is going in....
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 02:09:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA23910
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 02:09:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA08634
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 02:09:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08106;
	Fri, 2 Nov 2001 01:57:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08001
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 01:57:17 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA18485
	for <sip@ietf.org>; Fri, 2 Nov 2001 01:57:14 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA26vFC14917;
	Fri, 2 Nov 2001 07:57:15 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA26vEB15348;
	Fri, 2 Nov 2001 08:57:14 +0200 (EET)
Message-ID: <3BE243C8.5BBC1E8C@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 08:57:12 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Shan Lu <shanlu@sentito.com>, IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <001701c160cf$8f78cd00$eb00000a@SAJAK> <3BE1AC97.37B27F6D@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Just a couple of clarifications I would like to get.

Q1:

>>If you have any confidence in the
>>invite-200-ack retransmission scheme, the UAS should consider the UAC
>>down upon seven 200 oks and no ACK.
> 
>It will re-INVITE, and if no answer for the re-INVITE is received, the
>session will be considered down.

I would like to clarify how this re-INVITE is constructed.

Is it a completely "new" INVITE, or is it constructed like any mid-call
re-INVITE (it uses the Tags etc received in the initial INVITE from the
other party)?

IF that is the case, the UAS (the previous UAC) MAY of course return
481, becuase the reason it didn't send ACK in the first place could be
because it lost state of the call (since the INVITE has a To header tag
it assumes it is a re-INVITE for an existing call). Or, it may still
have state for the initial INVITE, but it simply never received the 200.



Q2.

Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
transaction within a dialog while another transaction (INVITE or
non-INVITE) is in progress."

I would just like to clarify how this affects overlapping. Since
overlapping uses different Request-URIs in each INVITE, I assume each
INVITE represent a separate dialog, and are therefor not affected by the
rule in 14.1, right?


Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 04:09:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA28264
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 04:09:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA11392
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 04:09:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10590;
	Fri, 2 Nov 2001 03:44:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10559
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 03:44:51 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA27917
	for <sip@ietf.org>; Fri, 2 Nov 2001 03:44:42 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA28ieC20453;
	Fri, 2 Nov 2001 09:44:40 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA28icB19380;
	Fri, 2 Nov 2001 10:44:38 +0200 (EET)
Message-ID: <3BE25CF4.6867A94D@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 10:44:36 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: brett@broadsoft.com, "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF02A79420@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>Right. The issue with that is that is that it opens a DoS attack. CANCEL
>can't be authenticated like other requests since its hBh. Thus, its
>authenticated by having it come from the same place the request came from
>(and so tls, for example, could be used). This means you trust it if you
>trust the request its cancelling. If you buffer at the server, you would
>have to buffer the cancel even before an authenticated request arrived. >THis means that someone can send CANCEL to establish state at the server, >and then never send a corresponding request. There is no easy way to >defeat this except to prevent it as we have proposed.

No matter what request is sent to the server, it still must keep state
for it for a certain time (until Timer J fires, according to the state
machine on page 106), to handle re-transmissions etc. Of course, if that
is NOT true when a 481 response is set, the situation is different...

And, if the third party wants to BLOCK calls, it's not enough if he
sends CANCELs with different Call-IDs. He must also know the To, From
and CSeq numeric header values, since they MUST match in the the INVITE
and CANCEL.

And, assume that the INVITE DOES reach the server first, and the third
party sends the CANCEL immedeately after that. It's not a DoS attack,
but it still messes up the call.

ANYWAY, if I'm the only one who doesn't like the wait-for-1xx idea I
think we should stop the discussion, use that mechanism, and move
forward. I am pretty sure there are lots of other, more important
issues, to solve :)

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 08:47:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA03587
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 08:47:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA17789
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 08:47:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17179;
	Fri, 2 Nov 2001 08:26:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17149
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 08:26:01 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA02660
	for <sip@ietf.org>; Fri, 2 Nov 2001 08:25:56 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AEE6804B0164; Fri, 02 Nov 2001 08:25:58 -0500
Message-ID: <006201c163a1$796c26e0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] Bis-05 question: CANCEL
Date: Fri, 2 Nov 2001 08:22:50 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

<excerpt 1>
Jonathan wrote:
> Christer wrote:
> > Why? If the UAC sends CANCEL, receives 481 (the CANCEL reaches the
> > server before the INVITE), and then starts receiving 1xx provisional
> > responses for the INVITE it can send a new CANCEL, which should cancel
> > ALL legs.
>
> Sorry, that is not correct. This CANCEL will look identical to the
previous
> one, and therefore be treated as a retransmission, returning once more the
> same response, 481, and having no effect.
</excerpt 1>

<excerpt 2>
Jonathan wrote:
> Christer later writes:
> > Another option could be:
> >
> > Whenever a server receives the INVITE, it checks if it has recently
> > received a CANCEL/BYE for that call. Today, the server must
> > anyway keep
> > state for the CANCEL (and every other method) for a certain time after
> > it has sent the final response (to handle re-transmissions
> > etc),
>
> That is FALSE. Unauthenticated requests can be responded to statelessly. I
> have posted a note that concisely outlines the attacks possible with
server
> side buffering. You seem to ignore them.
</excerpt 2>

Do these 2 excerpts contradict?

If a server receives a CANCEL and it has no corresponding INVITE it responds
with 481, but it maintains transaction state in order to handle
re-transmissions.

If the server does not maintain transaction state for the CANCEL (responses
statelessly), and later receives an INVITE and then receives a CANCEL (a
second identical cancel) for that INVITE, it would cancel the INVITE.

I strongly agree that a CANCEL should not be sent until a 1xx response if
received. But is the server (specifically a proxy) required to maintain
transaction state for the CANCEL such that it would see the second CANCEL as
a retransmission?

cheers,
(-:bob





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 09:31:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA05852
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 09:31:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA18878
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 09:31:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18399;
	Fri, 2 Nov 2001 09:17:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18368
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 09:17:28 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA05189
	for <sip@ietf.org>; Fri, 2 Nov 2001 09:17:27 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AAF93C1900AC; Fri, 02 Nov 2001 09:17:29 -0500
Message-ID: <00c401c163a8$a8f0e660$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
Cc: <sip@ietf.org>
References: <3BE03B81.DD60A1D2@lmf.ericsson.se> <pv8zdqcytd.fsf@agni.research.nokia.com> <3BE238E9.293A8FCB@lmf.ericsson.se>
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
Date: Fri, 2 Nov 2001 09:14:17 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
To: "Pekka Pessi" <Pekka.Pessi@nokia.com>
Cc: "Jo Hornsby" <jhornsby@ubiquity.net>; <sip@ietf.org>
Sent: Friday, November 02, 2001 1:10 AM
Subject: Re: [Sip] Handling of duplicate requests with differing request
paths.


>
> Hi,
>
> >>I don't know if it's more reliable to assume that the ACK belongs to a
> >>specific INVITE just because you can't find a matching Via branch
> >>value...
> >
> >You can have different tag value for those transactions that you
> >respond with 482 than those that you answer with 200.
>
> Yes, that is an option. Any comments on that?
>
> >Of course, this does not solve merging problem for re-INVITEs (if
> >is there such a problem).
>
> Will a re-INVITE be forked/merged, since we have an established route it
> shall follow?

No, a re-INVITE is not forked. It is sent using Route headers or directly to
the Contact from the original 200(INVITE) response. It also has the tag in
the To header.

>
> Regards,
>
> Christer Holmberg
> Ericsson Finland
>
>
>
>
> >
> >                                                 Pekka
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 09:33:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA05907
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 09:33:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA18978
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 09:33:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18492;
	Fri, 2 Nov 2001 09:26:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18460
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 09:26:07 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA05634
	for <sip@ietf.org>; Fri, 2 Nov 2001 09:26:05 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id ACFF477700AC; Fri, 02 Nov 2001 09:26:07 -0500
Message-ID: <00ca01c163a9$dd916240$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
Cc: "IETF SIP Mailing List" <sip@ietf.org>
References: <001701c160cf$8f78cd00$eb00000a@SAJAK> <3BE1AC97.37B27F6D@lmf.ericsson.se> <3BE243C8.5BBC1E8C@lmf.ericsson.se>
Subject: Re: [Sip] Bis-05 question: re-invite
Date: Fri, 2 Nov 2001 09:22:55 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "Shan Lu" <shanlu@sentito.com>; "IETF SIP Mailing List" <sip@ietf.org>
Sent: Friday, November 02, 2001 1:57 AM
Subject: Re: [Sip] Bis-05 question: re-invite


>
> Hi,
>
> Just a couple of clarifications I would like to get.
>
> Q1:
>
> >>If you have any confidence in the
> >>invite-200-ack retransmission scheme, the UAS should consider the UAC
> >>down upon seven 200 oks and no ACK.
> >
> >It will re-INVITE, and if no answer for the re-INVITE is received, the
> >session will be considered down.
>
> I would like to clarify how this re-INVITE is constructed.
>
> Is it a completely "new" INVITE, or is it constructed like any mid-call
> re-INVITE (it uses the Tags etc received in the initial INVITE from the
> other party)?

It is constructed like any mid-call re-INVITE using the tags.

>
> IF that is the case, the UAS (the previous UAC) MAY of course return
> 481, becuase the reason it didn't send ACK in the first place could be
> because it lost state of the call (since the INVITE has a To header tag
> it assumes it is a re-INVITE for an existing call). Or, it may still
> have state for the initial INVITE, but it simply never received the 200.

If the called party gets a 481 to its re-INVITE, it simple considers the
session terminated. I think it is still recommended that it send a BYE just
to make sure all the state is cleaned up in any intervening proxies (someone
please correct me if I am wrong).

If the calling party never got the 200-OK, by this point shouldn't it have
timed out and considered the session terminated? In that case it would send
a 481.


>
>
> Q2.
>
> Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
> transaction within a dialog while another transaction (INVITE or
> non-INVITE) is in progress."

The original INVITE is no longer in progress because it has timed out or we
consider it complete because we are assuming the ACK from the calling party
was lost.

>
> I would just like to clarify how this affects overlapping. Since
> overlapping uses different Request-URIs in each INVITE, I assume each
> INVITE represent a separate dialog, and are therefor not affected by the
> rule in 14.1, right?

No. This is a re-INVITE of the same dialog. The call-id and tags are the
same.

>
>
> Regards,
>
> Christer Holmberg
> Ericsson Finland
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 10:33:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08041
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 10:33:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA20299
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 10:34:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA19688;
	Fri, 2 Nov 2001 10:16:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA19660
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 10:16:32 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA07322
	for <sip@ietf.org>; Fri, 2 Nov 2001 10:16:30 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fA2FEs019963;
	Fri, 2 Nov 2001 09:14:54 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2FEsd16506;
	Fri, 2 Nov 2001 09:14:54 -0600 (CST)
Received: from lmf.ericsson.se (rmt160128.am.ericsson.se [138.85.160.128]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id JAA07264; Fri, 2 Nov 2001 09:14:49 -0600 (CST)
Message-ID: <3BE2BD6A.97D35B5F@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 17:36:10 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Christer Holmberg wrote:
> 
> Jonathan,
> 
> >>Whenever a server receives the INVITE, it checks if it has recently
> >>received a CANCEL/BYE for that call. Today, the server must
> >>anyway keep state for the CANCEL (and every other method) for a certain >>time after it has sent the final response (to handle re-transmissions
> >>etc),
> >
> >That is FALSE. Unauthenticated requests can be responded to statelessly. >I have posted a note that concisely outlines the attacks possible with >server side buffering. You seem to ignore them.
> 
> I am NOT ignoring them. However, which I have said, if a third party
> really is able to send messages around just like that, there is much
> more damage he can do than the stuff related to this specific case. He
> can hang up calls, establish calls which will be billed to someone
> else... whatever...
> 

Christer, you DO ignore them. A note was posted stating that CANCEL is
hop by hop and thus cannot be authenticated using the mechanisms you use
for INVITEs, re-INVITEs, BYE, etc...

Besides, if you still think that waiting for the 100 response is a
problem, I believe you should include Van Jacobsson in this thread to
tell him that his cogention control for TCP makes not sense. Or even
better, do some kernel programming and modify the TCP stack that comes
in your OS.

If you send an INVITE and there is no 100 Trying back it is because the
network is down. If you were using TCP, the TCP ACK for the segment that
contained the INVITE will never arrive either. Since you are using slow
start and your initial window size is one, TCP WILL NOT SEND THE CANCEL
UNTIL A TCP ACK CARRYING THE 100 TRYING IS RECEIVED!!

So, please explain me why the fact that TCP behaves like that is not a
problem for anyone and the same behavior for UDP seems so awful.

Thanks,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 10:54:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA08553
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 10:54:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA20682
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 10:54:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA20466;
	Fri, 2 Nov 2001 10:43:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA20437
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 10:43:57 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA08241
	for <sip@ietf.org>; Fri, 2 Nov 2001 10:43:54 -0500 (EST)
Received: (qmail 12276 invoked from network); 2 Nov 2001 15:36:36 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 2 Nov 2001 15:36:36 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <brett@broadsoft.com>, "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Fri, 2 Nov 2001 10:43:19 -0500
Message-ID: <000201c163b5$186531c0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <3BE25CF4.6867A94D@lmf.ericsson.se>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On 
> Behalf Of Christer Holmberg
> Sent: Friday, November 02, 2001 3:45 AM
> To: Jonathan Rosenberg
> Cc: brett@broadsoft.com; 'IETF SIP Mailing List'
> Subject: Re: [Sip] Bis-05 question: CANCEL
> 
> 
> ANYWAY, if I'm the only one who doesn't like the wait-for-1xx idea I
> think we should stop the discussion, use that mechanism, and move
> forward. I am pretty sure there are lots of other, more important
> issues, to solve :)
> 

Count me as a firm second :-)

Actually I believe there is a solution without having to wait for 1xx.
We need two modifications on how to handle CANCEL:

Mod 1) CANCEL is handled statelessly at the server side if there is no
matching INVITE. In other words, a 481 response is sent and the
transaction state is destroyed.

Mod 2) CANCEL transaction client should retransmit CANCEL till 200
response is received or a maximum retransmission number has been
reached. In other words, a 481 response does not change the state to
"Completed" (Figure 6).

A brief note on Mod 1: stateful proxy already follows this rule in
bis-05, see section 16.8, line 2449.

With these two mods in mind, here is how CANCEL works:

Case 1: No SF proxy

UAC sends INVITE and then CANCEL. If INVITE beats CANCEL at UAS, CANCEL
is responded with 200. Phone stops ringing if it has been ringing
before. Everybody happy. If CANCEL beats out INVITE, CANCEL is responded
with 481 statelessly (mod 1). Hence UAC will resend CANCEL (mod 2).
Eventually a retransmitted CANCEL will arrive after INVITE.

Case 2: SF proxy between UAC and UAS

UAC sends INVITE and then CANCEL. If the SF proxy receives INVITE and
then CANCEL, the CANCEL will be responded with 200 and the proxy will
generate CANCEL on all branches of INVITE. From there, we are back to
Case #1. If the proxy receives CANCEL before INVITE, it will statelessly
forward this CANCEL downstream and the UAS will respond with 481
assuming the CANCEL beats out INVITE at the UAS. So UAC will retransmitt
CANCEL which eventually will be received by the proxy after INVITE. Back
to Case 1.

We are already doing so many special things for CANCEL. I don't think
these two mods are that much a big deal, especially they are transaction
layer. Compared to wait-for-1xx, this approach maximizes the chance that
INVITE can be cancelled in shortest time (and hence chance for dead
phone syndrome).

Comments/fire welcome.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 11:21:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09709
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 11:21:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA21787
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 11:21:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21341;
	Fri, 2 Nov 2001 11:10:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21310
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 11:09:58 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09077
	for <sip@ietf.org>; Fri, 2 Nov 2001 11:09:55 -0500 (EST)
Received: from smtprch1.nortel.com (erchg0j.us.nortel.com [47.113.64.103])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id KAA29110
	for <sip@ietf.org>; Fri, 2 Nov 2001 10:09:27 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch1.nortel.com;
          Fri, 2 Nov 2001 10:06:38 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <VPB2NS3X>; Fri, 2 Nov 2001 10:07:51 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B4268@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Christer Holmberg <christer.holmberg@lmf.ericsson.se>
Cc: IETF SIP Mailing List <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: re-invite
Date: Fri, 2 Nov 2001 09:56:04 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C163B6.E062BED0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C163B6.E062BED0
Content-Type: text/plain;
	charset="iso-8859-1"

Bob:

I quote section 14.1
<quote>
  If a re-INVITE is responded with a non-2xx final response the session
   parameters MUST remain unchanged, as if no re-INVITE had been issued.
</quote>

So I think receiving a 481 cannot mean that the session has come to an end.

Sriram
__________________________________________
Sriram Parameswar              Phone: 972-685-8540
Interactive Multimedia Server (IMS) Fax: 972-685-3563
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com


-----Original Message-----
From: Bob Penfield [mailto:bpenfield@acmepacket.com]
Sent: Friday, November 02, 2001 8:23 AM
To: Christer Holmberg
Cc: IETF SIP Mailing List
Subject: Re: [Sip] Bis-05 question: re-invite



----- Original Message -----
From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "Shan Lu" <shanlu@sentito.com>; "IETF SIP Mailing List" <sip@ietf.org>
Sent: Friday, November 02, 2001 1:57 AM
Subject: Re: [Sip] Bis-05 question: re-invite


>
> Hi,
>
> Just a couple of clarifications I would like to get.
>
> Q1:
>
> >>If you have any confidence in the
> >>invite-200-ack retransmission scheme, the UAS should consider the UAC
> >>down upon seven 200 oks and no ACK.
> >
> >It will re-INVITE, and if no answer for the re-INVITE is received, the
> >session will be considered down.
>
> I would like to clarify how this re-INVITE is constructed.
>
> Is it a completely "new" INVITE, or is it constructed like any mid-call
> re-INVITE (it uses the Tags etc received in the initial INVITE from the
> other party)?

It is constructed like any mid-call re-INVITE using the tags.

>
> IF that is the case, the UAS (the previous UAC) MAY of course return
> 481, becuase the reason it didn't send ACK in the first place could be
> because it lost state of the call (since the INVITE has a To header tag
> it assumes it is a re-INVITE for an existing call). Or, it may still
> have state for the initial INVITE, but it simply never received the 200.

If the called party gets a 481 to its re-INVITE, it simple considers the
session terminated. I think it is still recommended that it send a BYE just
to make sure all the state is cleaned up in any intervening proxies (someone
please correct me if I am wrong).

If the calling party never got the 200-OK, by this point shouldn't it have
timed out and considered the session terminated? In that case it would send
a 481.


>
>
> Q2.
>
> Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
> transaction within a dialog while another transaction (INVITE or
> non-INVITE) is in progress."

The original INVITE is no longer in progress because it has timed out or we
consider it complete because we are assuming the ACK from the calling party
was lost.

>
> I would just like to clarify how this affects overlapping. Since
> overlapping uses different Request-URIs in each INVITE, I assume each
> INVITE represent a separate dialog, and are therefor not affected by the
> rule in 14.1, right?

No. This is a re-INVITE of the same dialog. The call-id and tags are the
same.

>
>
> Regards,
>
> Christer Holmberg
> Ericsson Finland
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C163B6.E062BED0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-05 question: re-invite</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Bob:</FONT>
</P>

<P><FONT SIZE=3D2>I quote section 14.1</FONT>
<BR><FONT SIZE=3D2>&lt;quote&gt;</FONT>
<BR><FONT SIZE=3D2>&nbsp; If a re-INVITE is responded with a non-2xx =
final response the session</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; parameters MUST remain unchanged, as if =
no re-INVITE had been issued.</FONT>
<BR><FONT SIZE=3D2>&lt;/quote&gt;</FONT>
</P>

<P><FONT SIZE=3D2>So I think receiving a 481 cannot mean that the =
session has come to an end.</FONT>
</P>

<P><FONT SIZE=3D2>Sriram</FONT>
<BR><FONT SIZE=3D2>__________________________________________</FONT>
<BR><FONT SIZE=3D2>Sriram =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; Phone: 972-685-8540</FONT>
<BR><FONT SIZE=3D2>Interactive Multimedia Server (IMS) Fax: =
972-685-3563</FONT>
<BR><FONT SIZE=3D2>Nortel Networks, Richardson USA&nbsp; Email: =
sriramp@nortelnetworks.com</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Friday, November 02, 2001 8:23 AM</FONT>
<BR><FONT SIZE=3D2>To: Christer Holmberg</FONT>
<BR><FONT SIZE=3D2>Cc: IETF SIP Mailing List</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-05 question: re-invite</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>From: &quot;Christer Holmberg&quot; =
&lt;christer.holmberg@lmf.ericsson.se&gt;</FONT>
<BR><FONT SIZE=3D2>To: &quot;Gonzalo Camarillo&quot; =
&lt;Gonzalo.Camarillo@lmf.ericsson.se&gt;</FONT>
<BR><FONT SIZE=3D2>Cc: &quot;Shan Lu&quot; &lt;shanlu@sentito.com&gt;; =
&quot;IETF SIP Mailing List&quot; &lt;sip@ietf.org&gt;</FONT>
<BR><FONT SIZE=3D2>Sent: Friday, November 02, 2001 1:57 AM</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-05 question: re-invite</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Hi,</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Just a couple of clarifications I would like to =
get.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Q1:</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&gt;If you have any confidence in =
the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&gt;invite-200-ack retransmission scheme, =
the UAS should consider the UAC</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&gt;down upon seven 200 oks and no =
ACK.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;It will re-INVITE, and if no answer for the =
re-INVITE is received, the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;session will be considered down.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; I would like to clarify how this re-INVITE is =
constructed.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Is it a completely &quot;new&quot; INVITE, or =
is it constructed like any mid-call</FONT>
<BR><FONT SIZE=3D2>&gt; re-INVITE (it uses the Tags etc received in the =
initial INVITE from the</FONT>
<BR><FONT SIZE=3D2>&gt; other party)?</FONT>
</P>

<P><FONT SIZE=3D2>It is constructed like any mid-call re-INVITE using =
the tags.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; IF that is the case, the UAS (the previous UAC) =
MAY of course return</FONT>
<BR><FONT SIZE=3D2>&gt; 481, becuase the reason it didn't send ACK in =
the first place could be</FONT>
<BR><FONT SIZE=3D2>&gt; because it lost state of the call (since the =
INVITE has a To header tag</FONT>
<BR><FONT SIZE=3D2>&gt; it assumes it is a re-INVITE for an existing =
call). Or, it may still</FONT>
<BR><FONT SIZE=3D2>&gt; have state for the initial INVITE, but it =
simply never received the 200.</FONT>
</P>

<P><FONT SIZE=3D2>If the called party gets a 481 to its re-INVITE, it =
simple considers the</FONT>
<BR><FONT SIZE=3D2>session terminated. I think it is still recommended =
that it send a BYE just</FONT>
<BR><FONT SIZE=3D2>to make sure all the state is cleaned up in any =
intervening proxies (someone</FONT>
<BR><FONT SIZE=3D2>please correct me if I am wrong).</FONT>
</P>

<P><FONT SIZE=3D2>If the calling party never got the 200-OK, by this =
point shouldn't it have</FONT>
<BR><FONT SIZE=3D2>timed out and considered the session terminated? In =
that case it would send</FONT>
<BR><FONT SIZE=3D2>a 481.</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Q2.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Chapter 14.1 says: &quot;Note that a UAC MUST =
NOT initiate a new INVITE</FONT>
<BR><FONT SIZE=3D2>&gt; transaction within a dialog while another =
transaction (INVITE or</FONT>
<BR><FONT SIZE=3D2>&gt; non-INVITE) is in progress.&quot;</FONT>
</P>

<P><FONT SIZE=3D2>The original INVITE is no longer in progress because =
it has timed out or we</FONT>
<BR><FONT SIZE=3D2>consider it complete because we are assuming the ACK =
from the calling party</FONT>
<BR><FONT SIZE=3D2>was lost.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; I would just like to clarify how this affects =
overlapping. Since</FONT>
<BR><FONT SIZE=3D2>&gt; overlapping uses different Request-URIs in each =
INVITE, I assume each</FONT>
<BR><FONT SIZE=3D2>&gt; INVITE represent a separate dialog, and are =
therefor not affected by the</FONT>
<BR><FONT SIZE=3D2>&gt; rule in 14.1, right?</FONT>
</P>

<P><FONT SIZE=3D2>No. This is a re-INVITE of the same dialog. The =
call-id and tags are the</FONT>
<BR><FONT SIZE=3D2>same.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Christer Holmberg</FONT>
<BR><FONT SIZE=3D2>&gt; Ericsson Finland</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C163B6.E062BED0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 11:27:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10078
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 11:27:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA21930
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 11:27:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21470;
	Fri, 2 Nov 2001 11:11:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21369
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 11:11:29 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id LAA09235
	for <sip@ietf.org>; Fri, 2 Nov 2001 11:11:26 -0500 (EST)
Received: (qmail 14541 invoked from network); 2 Nov 2001 16:04:07 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 2 Nov 2001 16:04:07 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05: why 200 ms for 100 Trying
Date: Fri, 2 Nov 2001 11:10:50 -0500
Message-ID: <000301c163b8$f0c96fb0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <3BE186DA.9ABD085E@lmf.ericsson.se>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

It looks like the 200 ms is an educated guess at best and the selection
of this value really is tied to the difference between T1 and RTT,
although bis-05 clearly states that T1 is an estimate of RTT, not
RTT+200ms. Since T1 can be modified and RTT certainly varies between
applications, I don't see any reason why this value should be kept fixed
at 200 ms.

Another thing that bothers me is the way this 200 ms is presented in
bis-05. Section 17.2.1, line 2703, ".. Must generate 100 Trying unless
it knows TU will generate a provisional or final response within 200
ms." 

How do you verify whether transaction knows something about TU? If no
response is produced within 200 ms, then is it a violation of the
protocol? If the answer is yes, then it will be far more clear to state
that "Must generate 100 Trying within 200 ms". Or does the original
sentence imply that a 100 Trying must be sent IMMEDIATELY since really
there is no way for transction to know anything from TU? If so, this
intention should be cleary stated.

Regards,

Shan Lu
sentitO Networks

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] 
> Sent: Thursday, November 01, 2001 12:31 PM
> To: Shan Lu
> Cc: IETF SIP Mailing List
> Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
> 
> 
> Hello,
> 
> In almost all the scenarios the server does not have a way of 
> knowing if
> a final response will be produced within 200 ms, so the 100 trying is
> sent immediately.
> 
> However, a particular server might know that it usually sends final
> responses back pretty quick (it might now have to interact 
> with a human
> user, for instance). Then, it uses what TCP calls "delayed ack". This
> saves some traffic, because the server will send one instead of 2
> responses back.
> 
> About the "magic" value of 200 ms: It is impossible to give an exact
> value for this timer because it would depend on the T1 timer chosen by
> the client. However, for the default value (T1=500 ms), waiting 200 ms
> makes perfect sense. 
> 
> In the example you give there is a 500 ms RTT. Whereas I am not saying
> that this is impossible, the RTT is not likely to be so big. Crossing
> the Atlantic over the public Internet has a RTT of 150 ms aprox. Take
> into account that 100 Trying is sent hop by hop.
> 
> Cellular access could give you a high RTT as well. However, the first
> server receiving the INVITE is not the one answering with a final
> response, so it will no use the 200 ms timer. It will respond
> immediately.
> 
> Therefore, I do not see any problem with this timer.
> 
> Regards,
> 
> Gonzalo
> 
> Shan Lu wrote:
> > 
> > Hi all,
> > 
> > Section 17.2.1, line 2702, mandates a 100 Trying be sent by the
> > transction server within 200 ms.
> > 
> > Q1: What is the rationale behind this magic value, 200 ms? 
> Note that all
> > other timer values in transaction FSM are specified with a DEFAULT,
> > meaning they may be modified by implementations. Then why 
> is this one
> > hard coded?
> > 
> > Q2: Assume T1 = RTT = 500 ms. If you work out the math, it turns out
> > that a 100 Trying sent exactly 200 ms (conformant to the above rule)
> > after the INVITE will result in two INVITEs (initial plus 
> one retrans)
> > and hence two 100 Trying, assuming TU can't produce any 1xx or final
> > response. The same can be achieved if a 100 Trying is sent 
> exactly 500
> > ms after the initial INVITE. So the conclusion is that if 
> you want to
> > quench request retransmissions as soon as you can, you MUST send 100
> > Trying IMMEDIATELY. On the other hand, if you can tolerate some
> > retransmission, you might just as well wait for 500 ms (T1) and hope
> > that a meaningful 1xx (>100) response can be supplied by 
> the transaction
> > user.
> > 
> > Regards,
> > 
> > Shan Lu
> > sentitO Networks
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 11:42:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10932
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 11:42:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA22701
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 11:42:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21878;
	Fri, 2 Nov 2001 11:25:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21853
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 11:25:32 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10007
	for <sip@ietf.org>; Fri, 2 Nov 2001 11:25:29 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A8FC5A70118; Fri, 02 Nov 2001 11:25:32 -0500
Message-ID: <018301c163ba$86018d00$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "'IETF SIP Mailing List'" <sip@ietf.org>
References: <000201c163b5$186531c0$eb00000a@SAJAK>
Subject: Re: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Fri, 2 Nov 2001 11:22:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I'm sorry, but I am opposed to changing the way CANCEL works and add yet
another special case. The current methods put no excess burden on the UAC.
The UAC is already required to maintain transaction state until it completes
or times out.

I don't see having the called party's phone ring a few seconds longer when
there is congestion to be all that much of the problem. How many times have
you picked up your ringing phone and said "hello" and there is no one there?
It has happened to me twice this week and I don't get that many calls. I
don't blame the telephone company, I just figure the calling party hung up.

more comments below

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Shan Lu" <shanlu@sentito.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>; "'Jonathan
Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <brett@broadsoft.com>; "'IETF SIP Mailing List'" <sip@ietf.org>
Sent: Friday, November 02, 2001 10:43 AM
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution


> > -----Original Message-----
> > From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On
> > Behalf Of Christer Holmberg
> > Sent: Friday, November 02, 2001 3:45 AM
> > To: Jonathan Rosenberg
> > Cc: brett@broadsoft.com; 'IETF SIP Mailing List'
> > Subject: Re: [Sip] Bis-05 question: CANCEL
> >
> >
> > ANYWAY, if I'm the only one who doesn't like the wait-for-1xx idea I
> > think we should stop the discussion, use that mechanism, and move
> > forward. I am pretty sure there are lots of other, more important
> > issues, to solve :)
> >
>
> Count me as a firm second :-)
>
> Actually I believe there is a solution without having to wait for 1xx.
> We need two modifications on how to handle CANCEL:
>
> Mod 1) CANCEL is handled statelessly at the server side if there is no
> matching INVITE. In other words, a 481 response is sent and the
> transaction state is destroyed.
>
> Mod 2) CANCEL transaction client should retransmit CANCEL till 200
> response is received or a maximum retransmission number has been
> reached. In other words, a 481 response does not change the state to
> "Completed" (Figure 6).
>
> A brief note on Mod 1: stateful proxy already follows this rule in
> bis-05, see section 16.8, line 2449.
>
> With these two mods in mind, here is how CANCEL works:
>
> Case 1: No SF proxy
>
> UAC sends INVITE and then CANCEL. If INVITE beats CANCEL at UAS, CANCEL
> is responded with 200. Phone stops ringing if it has been ringing
> before. Everybody happy. If CANCEL beats out INVITE, CANCEL is responded
> with 481 statelessly (mod 1). Hence UAC will resend CANCEL (mod 2).
> Eventually a retransmitted CANCEL will arrive after INVITE.

The UAC is required to be re-transmitting the INVITE until it gets a 1xx.
Now you want it to keep retransmitting the CANCEL too? Sounds like you're
doing twice the work.

>
> Case 2: SF proxy between UAC and UAS
>
> UAC sends INVITE and then CANCEL. If the SF proxy receives INVITE and
> then CANCEL, the CANCEL will be responded with 200 and the proxy will
> generate CANCEL on all branches of INVITE. From there, we are back to
> Case #1. If the proxy receives CANCEL before INVITE, it will statelessly
> forward this CANCEL downstream and the UAS will respond with 481
> assuming the CANCEL beats out INVITE at the UAS. So UAC will retransmitt
> CANCEL which eventually will be received by the proxy after INVITE. Back
> to Case 1.

CANCEL is hop-by-hop. The SF proxy would respond with 481. It would not be
sent downstream. Do you see the extra burden you are placing on the proxies?

>
> We are already doing so many special things for CANCEL. I don't think
> these two mods are that much a big deal, especially they are transaction
> layer. Compared to wait-for-1xx, this approach maximizes the chance that
> INVITE can be cancelled in shortest time (and hence chance for dead
> phone syndrome).
>
> Comments/fire welcome.
>
> Regards,
>
> Shan Lu
> sentitO Networks
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 12:18:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12135
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 12:18:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA24218
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 12:18:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23917;
	Fri, 2 Nov 2001 12:03:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23886
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 12:03:25 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id MAA11698
	for <sip@ietf.org>; Fri, 2 Nov 2001 12:03:21 -0500 (EST)
Received: (qmail 18352 invoked from network); 2 Nov 2001 16:56:03 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 2 Nov 2001 16:56:03 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Fri, 2 Nov 2001 12:02:46 -0500
Message-ID: <000e01c163c0$31cca390$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <018301c163ba$86018d00$2300000a@acmepacket.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On 
> Behalf Of Bob Penfield
> Sent: Friday, November 02, 2001 11:22 AM
> To: 'IETF SIP Mailing List'
> Subject: Re: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> I don't see having the called party's phone ring a few 
> seconds longer when
> there is congestion to be all that much of the problem. How 
> many times have
> you picked up your ringing phone and said "hello" and there 
> is no one there?
> It has happened to me twice this week and I don't get that 
> many calls. I
> don't blame the telephone company, I just figure the calling 
> party hung up.
> 

I'd like to point out two facts with wait-for-1xx: 1) the phone could be
ringing much longer than a few seconds after the caller has hung up and
2) In absence of 100 Trying (which some people may have very good reason
that UAS shouldn't send right away), you are guaranteed to ring the
callee phone EVERY SINGLE time an INVITE goes out, even if caller hangs
up right away.

Commnets on burden part below. 

> 
> The UAC is required to be re-transmitting the INVITE until it 
> gets a 1xx.
> Now you want it to keep retransmitting the CANCEL too? Sounds 
> like you're
> doing twice the work.

The UAC is required to have a FSM for CANCEL in any case. With this mod,
that state machine just remains in the "Proceeding" state a bit longer.
> 
> CANCEL is hop-by-hop. The SF proxy would respond with 481. It 
> would not be
> sent downstream. Do you see the extra burden you are placing 
> on the proxies?
> 

This is already specified in bis-05, see 16.8, line 2449. I just
extended to UAS.

Regards,

Shan Lu


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 13:08:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA13715
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 13:08:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA25944
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 13:08:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA25370;
	Fri, 2 Nov 2001 12:56:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA25338
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 12:56:56 -0500 (EST)
Received: from mail.net2phone.com (mail.net2phone.com [216.53.3.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13341
	for <sip@ietf.org>; Fri, 2 Nov 2001 12:56:54 -0500 (EST)
Received: from mailsvr.net2phone.com (exchange.net2phone.com [216.53.60.1])
	by mail.net2phone.com (8.11.5/8.11.5) with ESMTP id fA2HuPf14976;
	Fri, 2 Nov 2001 12:56:25 -0500 (EST)
Received: by mailsvr with Internet Mail Service (5.5.2653.19)
	id <V9XA9485>; Fri, 2 Nov 2001 12:56:55 -0500
Message-ID: <6F46FABB90ABD411BD690002B3152FB97BA630@lkwmail01>
From: Romel Khan <rkhan@net2phone.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        "'IETF SIP Mailing List'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Fri, 2 Nov 2001 12:53:32 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

It's not just the phone ringing longer, but resources are also tied up for a
longer period.


-----Original Message-----
From: Bob Penfield [mailto:bpenfield@acmepacket.com]
Sent: Friday, November 02, 2001 11:22 AM
To: 'IETF SIP Mailing List'
Subject: Re: [Sip] Bis-05 question: CANCEL -- Proposed solution


I'm sorry, but I am opposed to changing the way CANCEL works and add yet
another special case. The current methods put no excess burden on the UAC.
The UAC is already required to maintain transaction state until it completes
or times out.

I don't see having the called party's phone ring a few seconds longer when
there is congestion to be all that much of the problem. How many times have
you picked up your ringing phone and said "hello" and there is no one there?
It has happened to me twice this week and I don't get that many calls. I
don't blame the telephone company, I just figure the calling party hung up.

more comments below

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Shan Lu" <shanlu@sentito.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>; "'Jonathan
Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <brett@broadsoft.com>; "'IETF SIP Mailing List'" <sip@ietf.org>
Sent: Friday, November 02, 2001 10:43 AM
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution


> > -----Original Message-----
> > From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On
> > Behalf Of Christer Holmberg
> > Sent: Friday, November 02, 2001 3:45 AM
> > To: Jonathan Rosenberg
> > Cc: brett@broadsoft.com; 'IETF SIP Mailing List'
> > Subject: Re: [Sip] Bis-05 question: CANCEL
> >
> >
> > ANYWAY, if I'm the only one who doesn't like the wait-for-1xx idea I
> > think we should stop the discussion, use that mechanism, and move
> > forward. I am pretty sure there are lots of other, more important
> > issues, to solve :)
> >
>
> Count me as a firm second :-)
>
> Actually I believe there is a solution without having to wait for 1xx.
> We need two modifications on how to handle CANCEL:
>
> Mod 1) CANCEL is handled statelessly at the server side if there is no
> matching INVITE. In other words, a 481 response is sent and the
> transaction state is destroyed.
>
> Mod 2) CANCEL transaction client should retransmit CANCEL till 200
> response is received or a maximum retransmission number has been
> reached. In other words, a 481 response does not change the state to
> "Completed" (Figure 6).
>
> A brief note on Mod 1: stateful proxy already follows this rule in
> bis-05, see section 16.8, line 2449.
>
> With these two mods in mind, here is how CANCEL works:
>
> Case 1: No SF proxy
>
> UAC sends INVITE and then CANCEL. If INVITE beats CANCEL at UAS, CANCEL
> is responded with 200. Phone stops ringing if it has been ringing
> before. Everybody happy. If CANCEL beats out INVITE, CANCEL is responded
> with 481 statelessly (mod 1). Hence UAC will resend CANCEL (mod 2).
> Eventually a retransmitted CANCEL will arrive after INVITE.

The UAC is required to be re-transmitting the INVITE until it gets a 1xx.
Now you want it to keep retransmitting the CANCEL too? Sounds like you're
doing twice the work.

>
> Case 2: SF proxy between UAC and UAS
>
> UAC sends INVITE and then CANCEL. If the SF proxy receives INVITE and
> then CANCEL, the CANCEL will be responded with 200 and the proxy will
> generate CANCEL on all branches of INVITE. From there, we are back to
> Case #1. If the proxy receives CANCEL before INVITE, it will statelessly
> forward this CANCEL downstream and the UAS will respond with 481
> assuming the CANCEL beats out INVITE at the UAS. So UAC will retransmitt
> CANCEL which eventually will be received by the proxy after INVITE. Back
> to Case 1.

CANCEL is hop-by-hop. The SF proxy would respond with 481. It would not be
sent downstream. Do you see the extra burden you are placing on the proxies?

>
> We are already doing so many special things for CANCEL. I don't think
> these two mods are that much a big deal, especially they are transaction
> layer. Compared to wait-for-1xx, this approach maximizes the chance that
> INVITE can be cancelled in shortest time (and hence chance for dead
> phone syndrome).
>
> Comments/fire welcome.
>
> Regards,
>
> Shan Lu
> sentitO Networks
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 13:16:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14018
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 13:16:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA26063
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 13:16:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA25894;
	Fri, 2 Nov 2001 13:05:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA25863
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 13:05:08 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA13680
	for <sip@ietf.org>; Fri, 2 Nov 2001 13:05:06 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A0549BA9014A; Fri, 02 Nov 2001 13:05:08 -0500
Message-ID: <001c01c163c8$6a8b2f00$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Sriram Parameswar" <sriramp@nortelnetworks.com>
Cc: "IETF SIP Mailing List" <sip@ietf.org>
References: <EF1056F8EB4ED511B8FB0002A56079D41B4268@zrc2c014.us.nortel.com>
Subject: Re: [Sip] Bis-05 question: re-invite
Date: Fri, 2 Nov 2001 13:01:37 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Sriram,

If the session does not exist at the calling UA, it sends back a 481. That
is the only way the calling UA can tell the called UA that there is no
session. This would be the case if the calling UA gave up because it did not
get the 200-OK response to the initial INVITE.

Maybe this section needs to point that out.

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>; "Christer Holmberg"
<christer.holmberg@lmf.ericsson.se>
Cc: "IETF SIP Mailing List" <sip@ietf.org>
Sent: Friday, November 02, 2001 10:56 AM
Subject: RE: [Sip] Bis-05 question: re-invite


> Bob:
>
> I quote section 14.1
> <quote>
>   If a re-INVITE is responded with a non-2xx final response the session
>    parameters MUST remain unchanged, as if no re-INVITE had been issued.
> </quote>
>
> So I think receiving a 481 cannot mean that the session has come to an
end.
>
> Sriram
> __________________________________________
> Sriram Parameswar              Phone: 972-685-8540
> Interactive Multimedia Server (IMS) Fax: 972-685-3563
> Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com
>
>
> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Friday, November 02, 2001 8:23 AM
> To: Christer Holmberg
> Cc: IETF SIP Mailing List
> Subject: Re: [Sip] Bis-05 question: re-invite
>
>
>
> ----- Original Message -----
> From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
> To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
> Cc: "Shan Lu" <shanlu@sentito.com>; "IETF SIP Mailing List" <sip@ietf.org>
> Sent: Friday, November 02, 2001 1:57 AM
> Subject: Re: [Sip] Bis-05 question: re-invite
>
>
> >
> > Hi,
> >
> > Just a couple of clarifications I would like to get.
> >
> > Q1:
> >
> > >>If you have any confidence in the
> > >>invite-200-ack retransmission scheme, the UAS should consider the UAC
> > >>down upon seven 200 oks and no ACK.
> > >
> > >It will re-INVITE, and if no answer for the re-INVITE is received, the
> > >session will be considered down.
> >
> > I would like to clarify how this re-INVITE is constructed.
> >
> > Is it a completely "new" INVITE, or is it constructed like any mid-call
> > re-INVITE (it uses the Tags etc received in the initial INVITE from the
> > other party)?
>
> It is constructed like any mid-call re-INVITE using the tags.
>
> >
> > IF that is the case, the UAS (the previous UAC) MAY of course return
> > 481, becuase the reason it didn't send ACK in the first place could be
> > because it lost state of the call (since the INVITE has a To header tag
> > it assumes it is a re-INVITE for an existing call). Or, it may still
> > have state for the initial INVITE, but it simply never received the 200.
>
> If the called party gets a 481 to its re-INVITE, it simple considers the
> session terminated. I think it is still recommended that it send a BYE
just
> to make sure all the state is cleaned up in any intervening proxies
(someone
> please correct me if I am wrong).
>
> If the calling party never got the 200-OK, by this point shouldn't it have
> timed out and considered the session terminated? In that case it would
send
> a 481.
>
>
> >
> >
> > Q2.
> >
> > Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
> > transaction within a dialog while another transaction (INVITE or
> > non-INVITE) is in progress."
>
> The original INVITE is no longer in progress because it has timed out or
we
> consider it complete because we are assuming the ACK from the calling
party
> was lost.
>
> >
> > I would just like to clarify how this affects overlapping. Since
> > overlapping uses different Request-URIs in each INVITE, I assume each
> > INVITE represent a separate dialog, and are therefor not affected by the
> > rule in 14.1, right?
>
> No. This is a re-INVITE of the same dialog. The call-id and tags are the
> same.
>
> >
> >
> > Regards,
> >
> > Christer Holmberg
> > Ericsson Finland
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 13:39:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14607
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 13:39:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA26664
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 13:39:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA26172;
	Fri, 2 Nov 2001 13:26:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA26146
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 13:25:58 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14262
	for <sip@ietf.org>; Fri, 2 Nov 2001 13:25:56 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA2IPvY23352;
	Fri, 2 Nov 2001 12:25:57 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2IPvH21173;
	Fri, 2 Nov 2001 12:25:57 -0600 (CST)
Received: from lmf.ericsson.se (rmt160128.am.ericsson.se [138.85.160.128]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA25306; Fri, 2 Nov 2001 12:25:55 -0600 (CST)
Message-ID: <3BE2EA33.5C8EED68@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 20:47:15 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Shan Lu <shanlu@sentito.com>
CC: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
References: <000301c163b8$f0c96fb0$eb00000a@SAJAK>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Shan Lu wrote:
> 
> Hi,
> 
> It looks like the 200 ms is an educated guess at best and the selection
> of this value really is tied to the difference between T1 and RTT,
> although bis-05 clearly states that T1 is an estimate of RTT, not
> RTT+200ms. Since T1 can be modified and RTT certainly varies between
> applications, I don't see any reason why this value should be kept fixed
> at 200 ms.
> 


First of all, the server does not know the T1 used by the client.

Second, TCP uses a fixed value of 500ms for the delay ACK algorithm.
Therefore, if a fixed value os good enough for TCP, it is good enough
for us. We are not trying to build a transport layer for UDP which is
better than a complete transport protocol.


> Another thing that bothers me is the way this 200 ms is presented in
> bis-05. Section 17.2.1, line 2703, ".. Must generate 100 Trying unless
> it knows TU will generate a provisional or final response within 200
> ms."
> 
> How do you verify whether transaction knows something about TU?

I still do not see any problem here. In 95% of the situations the server
transaction does not know whether the final response will come in 200ms.
Therefore, it will send the 100 Trying without waiting for anything.

Note that waiting zero seconds is completely valid according to bis-05.

> If no
> response is produced within 200 ms, then is it a violation of the
> protocol? 

If your transaction layer thinks that the final response from the TU
will come in 200 ms but it finally does not come that soon then the
server transaction layer itself generates the 100 Trying.

Where do you see a problem?

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 13:51:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14936
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 13:51:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA26732
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 13:51:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA26574;
	Fri, 2 Nov 2001 13:32:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA26547
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 13:32:42 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14455;
	Fri, 2 Nov 2001 13:32:39 -0500 (EST)
From: adam.roach@ericsson.com
Received: from mr7.exu.ericsson.se (mr7u3.ericy.com [208.237.135.122])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA2IWdY26021;
	Fri, 2 Nov 2001 12:32:39 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2IWdH22809;
	Fri, 2 Nov 2001 12:32:39 -0600 (CST)
Received: from pc050163 (pc050140.exu.ericsson.se [138.85.50.140]) by newman.exu.ericsson.se (8.7.5/8.7.3) with SMTP id MAA25880; Fri, 2 Nov 2001 12:32:38 -0600 (CST)
Reply-To: <sip-events@standards.ericsson.net>
To: <sip-events@standards.ericsson.net>
Cc: <sip@ietf.org>, <simple@ietf.org>
Date: Fri, 2 Nov 2001 12:32:36 -0600
Message-ID: <61D824C63B99D311975E00508B0CC98502C66C08@eamrcnt717.exu.ericsson.se>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2377.0
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] New version of events draft
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


A new version of the SIP events draft is now available. Until it shows
up in the archives, you may download it from:

http://standards.ericsson.net/sip/drafts/draft-ietf-sip-events-01.txt

To help reviewers locate areas that have changed, a PDF version of
the document with automatic changebars is also available at:

http://standards.ericsson.net/sip/drafts/draft-ietf-sip-events-01.pdf

(Note that the PDF version does not have a table of contents; it is
meant for reviewers, not implementors).

Comments are encouraged.

> Adam Roach
> Product Development Engineer
> Ericsson Inc.
> IP MultiMedia
> Tel: +1 972 583 7594
> Fax: +1 972 669 0154
> Mobile: +1 214 228 3896
> mailto:adam.roach@ericsson.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 14:29:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA15967
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 14:29:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA27552
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 14:29:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27435;
	Fri, 2 Nov 2001 14:15:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27404
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 14:15:36 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA15628
	for <sip@ietf.org>; Fri, 2 Nov 2001 14:15:27 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA2JFNC24256;
	Fri, 2 Nov 2001 20:15:23 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2JFJB06449;
	Fri, 2 Nov 2001 21:15:19 +0200 (EET)
Message-ID: <3BE2F0C8.C5301133@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 21:15:20 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se> <3BE2BD6A.97D35B5F@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I am NOT ignoring them. However, which I have said, if a third party
>>really is able to send messages around just like that, there is much
>>more damage he can do than the stuff related to this specific case. He
>>can hang up calls, establish calls which will be billed to someone
>>else... whatever...
>Christer, you DO ignore them. A note was posted stating that CANCEL is
>hop by hop and thus cannot be authenticated using the mechanisms you use
>for INVITEs, re-INVITEs, BYE, etc...

I did read that note, and I said that we could allocate state for the
CANCEL. Then it was said that that would cause the risk of allocating
lots of state by a third party, and maybe even block calls, and then I
said that unless we use a secure network there will still be ways to
mess things up. Or, am I wrong on that?
 
>Besides, if you still think that waiting for the 100 response is a
>problem, I believe you should include Van Jacobsson in this thread to
>tell him that his cogention control for TCP makes not sense. Or even
>better, do some kernel programming and modify the TCP stack that comes
>in your OS.
> 
>If you send an INVITE and there is no 100 Trying back it is because the
>network is down.

My point is NOT about IF there will be a 100 Trying or not. If the nodes
work correctly, there WILL be a 1xx (or a final response directly sent).
The issue is that there MAY be a case (even if very unlikely) where the
caller will hang up the phone before the response is received, and that
we will have to implement support for that (using some flag, buffering,
whatever...).

>If you were using TCP, the TCP ACK for the segment that
>contained the INVITE will never arrive either. Since you are using slow
>start and your initial window size is one, TCP WILL NOT SEND THE CANCEL
>UNTIL A TCP ACK CARRYING THE 100 TRYING IS RECEIVED!!

Did I ever say that?????? However, what TCP does with my message doesn't
affect the SIP application level. Also, if INFOs, PRACKs, COMETs etc are
used it may take even longer before the CANCEL is really sent to the
network, but my SIP application doesn't have to care about that, does
it?
 
>So, please explain me why the fact that TCP behaves like that is not a
>problem for anyone and the same behavior for UDP seems so awful.

I am FULLY aware what UDP does, and what it does not do, and I am FULLY
aware about that messages may be delivered in the wrong order when it's
used (I NEVER said that there couldn't be a case where the CANCEL
reaches the server before the INVITE if we don't wait for a response),
and that we have to handle that on the SIP application level. The
discussion has been (at least from my point of view) HOW we handle it -
NOT IF we have to handle it.

All this really makes me realise that the CSeq, which is supposed to
help us order messages, doesn't help us at all (except than matching the
request with the response...) in this case, where message ordering is
very critical, but that's another story...

Anyway, which I said in the previous mail, since the majority wants us
to use the wait-for-1xx mechanism I will accept that. I never said that
it won't work, but I wanted to discuss alternative solutions.


Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 14:30:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA16011
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 14:30:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA27824
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 14:30:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27501;
	Fri, 2 Nov 2001 14:22:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27470
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 14:22:17 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA15860
	for <sip@ietf.org>; Fri, 2 Nov 2001 14:22:14 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA2JM9Y20293;
	Fri, 2 Nov 2001 13:22:09 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2JM8L22485;
	Fri, 2 Nov 2001 13:22:08 -0600 (CST)
Received: from lmf.ericsson.se (rmt160128.am.ericsson.se [138.85.160.128]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id NAA00661; Fri, 2 Nov 2001 13:22:03 -0600 (CST)
Message-ID: <3BE2F75B.7787016E@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 21:43:23 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se> <3BE2BD6A.97D35B5F@lmf.ericsson.se> <3BE2F0C8.C5301133@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Christer Holmberg wrote:
> 
> Hi,
> 
> >>I am NOT ignoring them. However, which I have said, if a third party
> >>really is able to send messages around just like that, there is much
> >>more damage he can do than the stuff related to this specific case. He
> >>can hang up calls, establish calls which will be billed to someone
> >>else... whatever...
> >Christer, you DO ignore them. A note was posted stating that CANCEL is
> >hop by hop and thus cannot be authenticated using the mechanisms you use
> >for INVITEs, re-INVITEs, BYE, etc...
> 
> I did read that note, and I said that we could allocate state for the
> CANCEL. Then it was said that that would cause the risk of allocating
> lots of state by a third party, and maybe even block calls, and then I
> said that unless we use a secure network there will still be ways to
> mess things up. Or, am I wrong on that?

Yes, you are wrong. You are talking about something completely
different. The problem you are thinking of is a established call between
two parties. Then, you call "the 3rd party" to the attacker. The problem
we are taking about does not involve any 3rd party. It is created by an
entity that sends CANCELs to a proxy or UAS. Only the attacker and the
server.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 14:46:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA16370
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 14:46:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA28183
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 14:46:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27988;
	Fri, 2 Nov 2001 14:34:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27957
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 14:34:10 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA16117
	for <sip@ietf.org>; Fri, 2 Nov 2001 14:34:05 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA2JY6f18690;
	Fri, 2 Nov 2001 20:34:06 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2JY5B06698;
	Fri, 2 Nov 2001 21:34:05 +0200 (EET)
Message-ID: <3BE2F52E.21008C09@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 21:34:06 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: CANCEL
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se> <3BE2BD6A.97D35B5F@lmf.ericsson.se> <3BE2F0C8.C5301133@lmf.ericsson.se> <3BE2F75B.7787016E@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I did read that note, and I said that we could allocate state for the
>>CANCEL. Then it was said that that would cause the risk of allocating
>>lots of state by a third party, and maybe even block calls, and then I
>>said that unless we use a secure network there will still be ways to
>>mess things up. Or, am I wrong on that?
>Yes, you are wrong. You are talking about something completely
>different. 

I am talking about SIP security. A different CASE, but the same issue:
3rd party/attacker/whatever sending weird messages to the server. In one
case before the INVITE has reached the server, and the other case after
the INVITE has reached the server. By not allocating state you solve
only the first issue.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 15:13:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17013
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 15:12:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28810
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 15:12:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA28358;
	Fri, 2 Nov 2001 14:59:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA28328
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 14:59:22 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA16716
	for <sip@ietf.org>; Fri, 2 Nov 2001 14:59:19 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fA2Jvi007532;
	Fri, 2 Nov 2001 13:57:44 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2JvhH13794;
	Fri, 2 Nov 2001 13:57:43 -0600 (CST)
Received: from lmf.ericsson.se (rmt160128.am.ericsson.se [138.85.160.128]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id NAA02464; Fri, 2 Nov 2001 13:57:33 -0600 (CST)
Message-ID: <3BE2FFAE.971D3670@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 22:18:54 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se> <3BE2BD6A.97D35B5F@lmf.ericsson.se> <3BE2F0C8.C5301133@lmf.ericsson.se> <3BE2F75B.7787016E@lmf.ericsson.se> <3BE2F52E.21008C09@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Auhenticating CANCELs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Christer Holmberg wrote:
> 
> Hi,
> 
> >>I did read that note, and I said that we could allocate state for the
> >>CANCEL. Then it was said that that would cause the risk of allocating
> >>lots of state by a third party, and maybe even block calls, and then I
> >>said that unless we use a secure network there will still be ways to
> >>mess things up. Or, am I wrong on that?
> >Yes, you are wrong. You are talking about something completely
> >different.
> 
> I am talking about SIP security. A different CASE, but the same issue:
> 3rd party/attacker/whatever sending weird messages to the server. In one
> case before the INVITE has reached the server, and the other case after
> the INVITE has reached the server. By not allocating state you solve
> only the first issue.

OK, I have changed the subject of this email.

In order to authenticate a CANCEL (that arrives after an INVITE), you
can use several mechanisms. You have to make sure that the entity that
now sends the CANCEL is the same as sent the INVITE. You can use TLS or
IPSec, since this is a hop by hop problem. You could also check the
source IP address, although this does not give you a great deal of
security.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 15:53:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17792
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 15:53:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA29511
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 15:53:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29292;
	Fri, 2 Nov 2001 15:36:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29261
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 15:36:27 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17463
	for <sip@ietf.org>; Fri, 2 Nov 2001 15:36:25 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA2KaRC29259;
	Fri, 2 Nov 2001 21:36:27 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2KaQB07599;
	Fri, 2 Nov 2001 22:36:26 +0200 (EET)
Message-ID: <3BE303CA.1CDD09@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 22:36:26 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        Romel Khan <rkhan@net2phone.com>,
        Robert Sparks <rsparks@dynamicsoft.com>, Shan Lu <shanlu@sentito.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D6D19@DYN-EXCH-001.dynamicsoft.com> <3BE23B07.B077EF3D@lmf.ericsson.se> <3BE2BD6A.97D35B5F@lmf.ericsson.se> <3BE2F0C8.C5301133@lmf.ericsson.se> <3BE2F75B.7787016E@lmf.ericsson.se> <3BE2F52E.21008C09@lmf.ericsson.se> <3BE2FFAE.971D3670@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Auhenticating CANCELs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

My last mail on this issue :)

>>I am talking about SIP security. A different CASE, but the same issue:
>>3rd party/attacker/whatever sending weird messages to the server. In one
>>case before the INVITE has reached the server, and the other case after
>>the INVITE has reached the server. By not allocating state you solve
>>only the first issue.
> 
>OK, I have changed the subject of this email.
> 
>In order to authenticate a CANCEL (that arrives after an INVITE), you
>can use several mechanisms. You have to make sure that the entity that
>now sends the CANCEL is the same as sent the INVITE. You can use TLS or
>IPSec, since this is a hop by hop problem. You could also check the
>source IP address, although this does not give you a great deal of
>security.

I agree, but not we are not talking about basic SIP functionality
anymore, but SIP security.

Also, if you use a security mechanism you probably won't have the
problem with non-call related CANCELs either, and if a server receives a
CANCEL for which it doesn't have call state it will most likely receive
an INVITE short after.

And, even authenticated users can mess up servers before or after the
call is established, but that is another issue, and must most likely be
handled on a higher network management level.

Anyway, I AM fine with the 1xx solution. Not because it would solve
every possible CANCEL related SIP attack in a non-secure SIP network,
but at least it will solve the original issue of this thread.

Case closed :)

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 15:54:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17848
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 15:54:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA29528
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 15:54:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29336;
	Fri, 2 Nov 2001 15:39:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29307
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 15:39:27 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA17533
	for <sip@ietf.org>; Fri, 2 Nov 2001 15:39:25 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA2KdDf26825;
	Fri, 2 Nov 2001 21:39:13 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2KdCB07643;
	Fri, 2 Nov 2001 22:39:12 +0200 (EET)
Message-ID: <3BE30470.799468F6@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 22:39:12 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <001701c160cf$8f78cd00$eb00000a@SAJAK> <3BE1AC97.37B27F6D@lmf.ericsson.se> <3BE243C8.5BBC1E8C@lmf.ericsson.se> <00ca01c163a9$dd916240$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I would just like to clarify how this affects overlapping. Since
>>overlapping uses different Request-URIs in each INVITE, I assume each
>>INVITE represent a separate dialog, and are therefor not affected by the
>>rule in 14.1, right?
> 
>No. This is a re-INVITE of the same dialog. The call-id and tags are the
>same.

So, no more overlapping in SIP, right?

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 16:13:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18451
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 16:13:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA00280
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 16:13:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29716;
	Fri, 2 Nov 2001 15:59:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29615
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 15:59:39 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA18038
	for <sip@ietf.org>; Fri, 2 Nov 2001 15:59:37 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5u3.ericy.com [208.237.135.124])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA2KxdY03139;
	Fri, 2 Nov 2001 14:59:39 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2KxdS14752;
	Fri, 2 Nov 2001 14:59:39 -0600 (CST)
Received: from lmf.ericsson.se (rmt160128.am.ericsson.se [138.85.160.128]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA07172; Fri, 2 Nov 2001 14:59:35 -0600 (CST)
Message-ID: <3BE30E37.F7B8DD4@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 23:20:55 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Bob Penfield <bpenfield@acmepacket.com>,
        IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <001701c160cf$8f78cd00$eb00000a@SAJAK> <3BE1AC97.37B27F6D@lmf.ericsson.se> <3BE243C8.5BBC1E8C@lmf.ericsson.se> <00ca01c163a9$dd916240$2300000a@acmepacket.com> <3BE30470.799468F6@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Christer Holmberg wrote:
> 
> Hi,
> 
> >>I would just like to clarify how this affects overlapping. Since
> >>overlapping uses different Request-URIs in each INVITE, I assume each
> >>INVITE represent a separate dialog, and are therefor not affected by the
> >>rule in 14.1, right?
> >
> >No. This is a re-INVITE of the same dialog. The call-id and tags are the
> >same.
> 
> So, no more overlapping in SIP, right?

There are two things that are called overlapping. Once is that
possibility of creating overlapped SIP transactions, like sending an
INFO before another INFO has been answered with a 200 OK. Whether this
is allowed or not is still an open issue whose number I do not remember
right now.

The other overlapping scenario is the ISUP-SIP overlapping draft. There
the subsequent INVITEs do not use tags and do not belong to the same
dialog, so this rule is not applicable.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 16:48:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA19553
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 16:48:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA01067
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 16:48:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00922;
	Fri, 2 Nov 2001 16:36:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00894
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 16:36:05 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA19299
	for <sip@ietf.org>; Fri, 2 Nov 2001 16:36:02 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA2La4C03091;
	Fri, 2 Nov 2001 22:36:05 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA2La4B08441;
	Fri, 2 Nov 2001 23:36:04 +0200 (EET)
Message-ID: <3BE311C3.9432666F@lmf.ericsson.se>
Date: Fri, 02 Nov 2001 23:36:03 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: Bob Penfield <bpenfield@acmepacket.com>,
        IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <001701c160cf$8f78cd00$eb00000a@SAJAK> <3BE1AC97.37B27F6D@lmf.ericsson.se> <3BE243C8.5BBC1E8C@lmf.ericsson.se> <00ca01c163a9$dd916240$2300000a@acmepacket.com> <3BE30470.799468F6@lmf.ericsson.se> <3BE30E37.F7B8DD4@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>>>I would just like to clarify how this affects overlapping. Since
>>>>overlapping uses different Request-URIs in each INVITE, I assume each
>>>>INVITE represent a separate dialog, and are therefor not affected by the
>>>>rule in 14.1, right?
>>>
>>>No. This is a re-INVITE of the same dialog. The call-id and tags are the
>>>same.
>>
>> So, no more overlapping in SIP, right?
> 
>There are two things that are called overlapping. Once is that
>possibility of creating overlapped SIP transactions, like sending an
>INFO before another INFO has been answered with a 200 OK. Whether this
>is allowed or not is still an open issue whose number I do not remember
>right now.
> 
>The other overlapping scenario is the ISUP-SIP overlapping draft. There
>the subsequent INVITEs do not use tags and do not belong to the same
>dialog, so this rule is not applicable.

Sorry, I meant the ISUP-SIP, ie digit overlapping, case.

To my understanding, we once did agree that the INFO overlapping IS
allowed, and that the UAC therefor should receive a 18x with a To tag as
soon as possible. That is also the reason why we (me included) proposed
that a UAS (not proxy) shall always send a 18x with a To tag as soon as
it receives the initial INVITE (unless they send a final response right
away, that is). Otherwise we would eg have to implement buffering also
when we do ISUP transparency...

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 19:49:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22436
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 19:49:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA05791
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 19:49:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA05727;
	Fri, 2 Nov 2001 19:31:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA05696
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 19:31:05 -0500 (EST)
Received: from redmailwall3.attws.com (redmailwall3.attws.com [199.108.253.114])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22342
	for <sip@ietf.org>; Fri, 2 Nov 2001 19:31:02 -0500 (EST)
Received: from viruswall1.entp.attws.com (viruswall1 [135.214.40.161])
	by redmailwall3.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA30UVk07706
	for <sip@ietf.org>; Fri, 2 Nov 2001 16:30:32 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall1.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA30UTm05796; Fri, 2 Nov 2001 16:30:29 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id QAA17050
	for <sip@ietf.org>; Fri, 2 Nov 2001 16:30:33 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <4VWQ1K7H>; Fri, 2 Nov 2001 16:30:33 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC0339769C@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Bis-05: NITS
Date: Fri, 2 Nov 2001 16:30:32 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C163FE.BF2D8900"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C163FE.BF2D8900
Content-Type: text/plain;
	charset="iso-8859-1"

Figure 5, "resp. to TU" should be added for the arrow from "Calling" to
"Completed".

line: 2876-2877, add received parameter with IP address of 1.2.3.4 as
claimed by the text in line 2874-2875.

-Hugh

------_=_NextPart_001_01C163FE.BF2D8900
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>[Sip] Bis-05: NITS</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">Figure 5, &quot;resp. to TU&quot; =
should be added for the arrow from &quot;Calling&quot; to =
&quot;Completed&quot;.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">line: 2876-2877, add received =
parameter with IP address of 1.2.3.4 as claimed by the text in line =
2874-2875.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-Hugh</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C163FE.BF2D8900--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 19:55:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22500
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 19:55:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA05837
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 19:55:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA05346;
	Fri, 2 Nov 2001 19:20:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA05317
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 19:20:26 -0500 (EST)
Received: from redmailwall2.attws.com (redmailwall2.attws.com [199.108.253.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22246
	for <sip@ietf.org>; Fri, 2 Nov 2001 19:20:24 -0500 (EST)
Received: from viruswall1.entp.attws.com (viruswall1 [135.214.40.161])
	by redmailwall2.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA30Jt900333
	for <sip@ietf.org>; Fri, 2 Nov 2001 16:19:55 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall1.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA30Jou01251; Fri, 2 Nov 2001 16:19:50 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id QAA14130
	for <sip@ietf.org>; Fri, 2 Nov 2001 16:19:54 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <4VWQ1K45>; Fri, 2 Nov 2001 16:19:54 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Bis-5: TLS as secure transport for SIP
Date: Fri, 2 Nov 2001 16:19:53 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C163FD.422A2AE0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C163FD.422A2AE0
Content-Type: text/plain;
	charset="iso-8859-1"

line: 2977. It was recommended that TLS as a secure transport for SIP.

This is different from what's in bis04, has this been discussed and agreed
on the list?

Since TLS relies on some reliable transport protocol (e.g., TCP) at lower
layer, TLS will not work directly on top of UDP.

I am also confused by the sentence in 2970-2973. TLS is NOT a transport
protocol like TCP or UDP, the primary goal of the TLS Protocol is to provide
privacy and data integrity for an underline reliable transport protocol like
TCP.

Regards,

-Hugh

------_=_NextPart_001_01C163FD.422A2AE0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>[Sip] Bis-5: TLS as secure transport for SIP</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">line: 2977. It was recommended that =
TLS as a secure transport for SIP.</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">This is different from what's in =
bis04, has this been discussed and agreed on the list?</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Since TLS relies on some reliable =
transport protocol (e.g., TCP) at lower layer, TLS will not work =
directly on top of UDP.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">I am also confused by the sentence in =
2970-2973. TLS is NOT a transport protocol like TCP or UDP, the primary =
goal of the TLS Protocol is to provide privacy and data integrity for =
an underline reliable transport protocol like TCP.</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Regards,</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-Hugh</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C163FD.422A2AE0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  2 21:04:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA23022
	for <sip-archive@odin.ietf.org>; Fri, 2 Nov 2001 21:04:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA07317
	for sip-archive@odin.ietf.org; Fri, 2 Nov 2001 21:04:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA06862;
	Fri, 2 Nov 2001 20:41:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA06830
	for <sip@optimus.ietf.org>; Fri, 2 Nov 2001 20:41:30 -0500 (EST)
Received: from redmailwall3.attws.com (redmailwall3.attws.com [199.108.253.114])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA22887
	for <sip@ietf.org>; Fri, 2 Nov 2001 20:41:27 -0500 (EST)
Received: from viruswall.entp.attws.com (viruswall [135.214.42.163])
	by redmailwall3.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA31euk13102
	for <sip@ietf.org>; Fri, 2 Nov 2001 17:40:56 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA31f2k25295; Fri, 2 Nov 2001 17:41:02 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id RAA01614
	for <sip@ietf.org>; Fri, 2 Nov 2001 17:40:58 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <4VWQ1L6W>; Fri, 2 Nov 2001 17:40:58 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC0339769D@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Subject: [Sip] Bis-05: Registration and authorizing outgoing requests
Date: Fri, 2 Nov 2001 17:40:57 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16408.95C81BC0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16408.95C81BC0
Content-Type: text/plain;
	charset="iso-8859-1"

In section 4, line 491-493, it says that "it is important to note that in
SIP, registration is used for routing incoming SIP requests and has no role
in authorizing outgoing requests. Authorization and authentication are
handled in SIP either on a request by request, challenge/response mechanism,
or using a lower layer scheme as discussed in Section 20." This sounds like
an important and strong statement to me even though the beginning of section
4 says that "this section ... does not contain any normative statements." 

Anyway, my view of SIP Registration is a little bit broader than just
"routing incoming SIP requests". I view SIP Registration as  means to
provide SIP user mobility as we claimed. Specifically Registration may play
roles in setting up Security Association between the UA and the proxy that
the UA is roaming to, so that the authorization and authentication on per
request base can be performed and SIP user mobility is provided by a SIP
mechanism. In a mobile environment, a UA may visit a lot a proxies and it's
very difficult for the UA to have pre-configured Security Association
between the UA and all the proxies it visits. 

Comments?

-Hugh



------_=_NextPart_001_01C16408.95C81BC0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>[Sip] Bis-05: Registration and authorizing outgoing =
requests</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">In section 4, line 491-493, it says =
that &quot;it is important to note that in SIP, registration is used =
for routing incoming SIP requests and has no role in authorizing =
outgoing requests. Authorization and authentication are handled in SIP =
either on a request by request, challenge/response mechanism, or using =
a lower layer scheme as discussed in Section 20.&quot; This sounds like =
an important and strong statement to me even though the beginning of =
section 4 says that &quot;this section ... does not contain any =
normative statements.&quot; </FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Anyway, my view of SIP Registration is =
a little bit broader than just &quot;routing incoming SIP =
requests&quot;. I view SIP Registration as&nbsp; means to provide SIP =
user mobility as we claimed. Specifically Registration may play roles =
in setting up Security Association between the UA and the proxy that =
the UA is roaming to, so that the authorization and authentication on =
per request base can be performed and SIP user mobility is provided by =
a SIP mechanism. In a mobile environment, a UA may visit a lot a =
proxies and it's very difficult for the UA to have pre-configured =
Security Association between the UA and all the proxies it visits. =
</FONT></P>

<P><FONT SIZE=3D2 FACE=3D"Arial">Comments?</FONT>
</P>

<P><FONT SIZE=3D2 FACE=3D"Arial">-Hugh</FONT>
</P>
<BR>

</BODY>
</HTML>
------_=_NextPart_001_01C16408.95C81BC0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 02:26:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA12423
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 02:26:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA19099
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 02:26:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA19026;
	Sat, 3 Nov 2001 02:06:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA18995
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 02:06:39 -0500 (EST)
Received: from fep02-app.kolumbus.fi (fep02-0.kolumbus.fi [193.229.0.44])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA07944
	for <sip@ietf.org>; Sat, 3 Nov 2001 02:06:36 -0500 (EST)
Received: from jariws1 ([62.248.155.34]) by fep02-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011103070637.CSKQ8232.fep02-app.kolumbus.fi@jariws1>;
          Sat, 3 Nov 2001 09:06:37 +0200
Message-ID: <016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Shieh, Hugh" <hugh.shieh@attws.com>, <sip@ietf.org>
References: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
Date: Sat, 3 Nov 2001 09:07:16 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

[Sip] Bis-5: TLS as secure transport for SIP
I have been wondering about this too, and have the same questions as Hugh
did. Furthermore, I have trouble understanding the trust model explanations in
lines 2967-2973. TLS and IPsec are both hop-by-hop models, so they're both
suited to environments where either one hop is sufficient protection, or where
you have some chain of trust. (One true difference the text neglects to mention
that TLS could be run in a one-sided manner with certs only the server side and
HTTP authentication to the other direction, which eases its deployment in
situations where you have a large number of clients towards a small number of
servers.)

Trouble is, I'm not very happy about either TLS or IPsec/IKE on the client
side, if we are talking about the wireless environment. Delays, need to
do public key cryptography, etc seem hard issues and I'm not sure we
really need them.

As for the communication between servers and proxies there's also a couple
of hard requirements to handle. For instance, as [1 sec 6.24] points out, there
is a need to make it scalable to a large number of nodes. IPsec generally
can deal with this better given that it is typically placed on security gateways,
possibly hiding many proxies of an operator behind it. Plus, you can tackle
other important traffic within the same tunnels.

In the third generation mobile networks, IPsec is going to be used as
a protection to get the network elements talk to each other securely.
For the communication to the 3g terminals, I think we need something
more lightweight than TLS or IPsec/IKE. Perhaps improved versions of
HTTP Digest could do the job. How are we by the way progressing on 
the Undery draft and other proposals in this direction? Are they going to be
integrated to RFC 2543 BIS or not?

Finally, I think all of this h2h is necessary but I wish we could be making
some progress in end-to-end security for SIP as well. I don't always see
myself trusting those proxy chains...

Jari
[1] http://www.ietf.org/internet-drafts/draft-garcia-sipping-3gpp-reqs-00.txt




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 03:01:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA12623
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 03:01:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA19899
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 03:01:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA19524;
	Sat, 3 Nov 2001 02:47:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA19493
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 02:47:03 -0500 (EST)
Received: from lohi.eng.telia.fi (lohi.eng.song.fi [195.10.149.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA12551
	for <sip@ietf.org>; Sat, 3 Nov 2001 02:47:01 -0500 (EST)
Received: from lohi.eng.telia.fi (localhost [127.0.0.1])
	by lohi.eng.telia.fi (8.12.1/8.12.1/Debian -2) with ESMTP id fA37kssM007492;
	Sat, 3 Nov 2001 09:46:54 +0200
Received: (from jh@localhost)
	by harjus.eng.song.fi (8.12.1/8.12.1/Debian -2) id fA37gnjQ000345;
	Sat, 3 Nov 2001 09:42:49 +0200
From: Juha Heinanen <jh@lohi.eng.song.fi>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15331.40952.508966.725651@harjus.eng.song.fi>
Date: Sat, 3 Nov 2001 09:42:48 +0200
To: "Jari Arkko" <jari.arkko@kolumbus.fi>
Cc: "Shieh, Hugh" <hugh.shieh@attws.com>, <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
References: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01>
	<016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
X-Mailer: VM 6.96 under Emacs 21.1.1
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jari Arkko writes:

 > For the communication to the 3g terminals, I think we need something
 > more lightweight than TLS or IPsec/IKE.

how about hip?

-- juha

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 09:28:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA14897
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 09:28:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA27145
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 09:28:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26871;
	Sat, 3 Nov 2001 09:09:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26840
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 09:09:10 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA14582
	for <sip@ietf.org>; Sat, 3 Nov 2001 09:09:06 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA3E93C26391;
	Sat, 3 Nov 2001 15:09:03 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA3E92B19760;
	Sat, 3 Nov 2001 16:09:02 +0200 (EET)
Message-ID: <3BE3FA86.3DC87BDB@lmf.ericsson.se>
Date: Sat, 03 Nov 2001 16:09:11 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: Sriram Parameswar <sriramp@nortelnetworks.com>,
        IETF SIP Mailing List <sip@ietf.org>
Subject: Re: [Sip] Bis-05 question: re-invite
References: <EF1056F8EB4ED511B8FB0002A56079D41B4268@zrc2c014.us.nortel.com> <001c01c163c8$6a8b2f00$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

If we have a forking scenario and none of the UAS get the ACK, ALL of
them could send a re-INVITE. If 481 is replied to each of them we don't
have a problem, though.

Regards,

Christer Holmberg
Ericsson Finland


Bob Penfield wrote:
> 
> Sriram,
> 
> If the session does not exist at the calling UA, it sends back a 481. That
> is the only way the calling UA can tell the called UA that there is no
> session. This would be the case if the calling UA gave up because it did not
> get the 200-OK response to the initial INVITE.
> 
> Maybe this section needs to point that out.
> 
> cheers,
> (-:bob
> 
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
> 
> ----- Original Message -----
> From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
> To: "'Bob Penfield'" <bpenfield@acmepacket.com>; "Christer Holmberg"
> <christer.holmberg@lmf.ericsson.se>
> Cc: "IETF SIP Mailing List" <sip@ietf.org>
> Sent: Friday, November 02, 2001 10:56 AM
> Subject: RE: [Sip] Bis-05 question: re-invite
> 
> > Bob:
> >
> > I quote section 14.1
> > <quote>
> >   If a re-INVITE is responded with a non-2xx final response the session
> >    parameters MUST remain unchanged, as if no re-INVITE had been issued.
> > </quote>
> >
> > So I think receiving a 481 cannot mean that the session has come to an
> end.
> >
> > Sriram
> > __________________________________________
> > Sriram Parameswar              Phone: 972-685-8540
> > Interactive Multimedia Server (IMS) Fax: 972-685-3563
> > Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com
> >
> >
> > -----Original Message-----
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > Sent: Friday, November 02, 2001 8:23 AM
> > To: Christer Holmberg
> > Cc: IETF SIP Mailing List
> > Subject: Re: [Sip] Bis-05 question: re-invite
> >
> >
> >
> > ----- Original Message -----
> > From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
> > To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
> > Cc: "Shan Lu" <shanlu@sentito.com>; "IETF SIP Mailing List" <sip@ietf.org>
> > Sent: Friday, November 02, 2001 1:57 AM
> > Subject: Re: [Sip] Bis-05 question: re-invite
> >
> >
> > >
> > > Hi,
> > >
> > > Just a couple of clarifications I would like to get.
> > >
> > > Q1:
> > >
> > > >>If you have any confidence in the
> > > >>invite-200-ack retransmission scheme, the UAS should consider the UAC
> > > >>down upon seven 200 oks and no ACK.
> > > >
> > > >It will re-INVITE, and if no answer for the re-INVITE is received, the
> > > >session will be considered down.
> > >
> > > I would like to clarify how this re-INVITE is constructed.
> > >
> > > Is it a completely "new" INVITE, or is it constructed like any mid-call
> > > re-INVITE (it uses the Tags etc received in the initial INVITE from the
> > > other party)?
> >
> > It is constructed like any mid-call re-INVITE using the tags.
> >
> > >
> > > IF that is the case, the UAS (the previous UAC) MAY of course return
> > > 481, becuase the reason it didn't send ACK in the first place could be
> > > because it lost state of the call (since the INVITE has a To header tag
> > > it assumes it is a re-INVITE for an existing call). Or, it may still
> > > have state for the initial INVITE, but it simply never received the 200.
> >
> > If the called party gets a 481 to its re-INVITE, it simple considers the
> > session terminated. I think it is still recommended that it send a BYE
> just
> > to make sure all the state is cleaned up in any intervening proxies
> (someone
> > please correct me if I am wrong).
> >
> > If the calling party never got the 200-OK, by this point shouldn't it have
> > timed out and considered the session terminated? In that case it would
> send
> > a 481.
> >
> >
> > >
> > >
> > > Q2.
> > >
> > > Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
> > > transaction within a dialog while another transaction (INVITE or
> > > non-INVITE) is in progress."
> >
> > The original INVITE is no longer in progress because it has timed out or
> we
> > consider it complete because we are assuming the ACK from the calling
> party
> > was lost.
> >
> > >
> > > I would just like to clarify how this affects overlapping. Since
> > > overlapping uses different Request-URIs in each INVITE, I assume each
> > > INVITE represent a separate dialog, and are therefor not affected by the
> > > rule in 14.1, right?
> >
> > No. This is a re-INVITE of the same dialog. The call-id and tags are the
> > same.
> >
> > >
> > >
> > > Regards,
> > >
> > > Christer Holmberg
> > > Ericsson Finland
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > >
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 09:36:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA15063
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 09:36:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA27512
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 09:36:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA27122;
	Sat, 3 Nov 2001 09:25:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA27093
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 09:25:31 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA14801
	for <sip@ietf.org>; Sat, 3 Nov 2001 09:25:27 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA3EPFf23171;
	Sat, 3 Nov 2001 15:25:15 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA3EPFB19918;
	Sat, 3 Nov 2001 16:25:15 +0200 (EET)
Message-ID: <3BE3FE53.374E8787@lmf.ericsson.se>
Date: Sat, 03 Nov 2001 16:25:23 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: sip@ietf.org
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
References: <3BE03B81.DD60A1D2@lmf.ericsson.se> <pv8zdqcytd.fsf@agni.research.nokia.com> <3BE238E9.293A8FCB@lmf.ericsson.se> <00c401c163a8$a8f0e660$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

So, would it cause any problems if the UAS DID use separate Tag values
for each final response it sends to a merget INVITE - or at least
separate Tag values for the 200 and 482 responses. In this case we
wouldn't have to add any new features to be able to match the
INVITE/200/ACK - without doing assumtions based on the Via branch value.
The caller would not even notice this, since the forking proxy would ACK
the 482 responses, and only the 200 would reach the UAC.

Regards,

Christer Holmberg
Ericsson Finland



Bob Penfield wrote:
> 
> ----- Original Message -----
> From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
> To: "Pekka Pessi" <Pekka.Pessi@nokia.com>
> Cc: "Jo Hornsby" <jhornsby@ubiquity.net>; <sip@ietf.org>
> Sent: Friday, November 02, 2001 1:10 AM
> Subject: Re: [Sip] Handling of duplicate requests with differing request
> paths.
> 
> >
> > Hi,
> >
> > >>I don't know if it's more reliable to assume that the ACK belongs to a
> > >>specific INVITE just because you can't find a matching Via branch
> > >>value...
> > >
> > >You can have different tag value for those transactions that you
> > >respond with 482 than those that you answer with 200.
> >
> > Yes, that is an option. Any comments on that?
> >
> > >Of course, this does not solve merging problem for re-INVITEs (if
> > >is there such a problem).
> >
> > Will a re-INVITE be forked/merged, since we have an established route it
> > shall follow?
> 
> No, a re-INVITE is not forked. It is sent using Route headers or directly to
> the Contact from the original 200(INVITE) response. It also has the tag in
> the To header.
> 
> >
> > Regards,
> >
> > Christer Holmberg
> > Ericsson Finland
> >
> >
> >
> >
> > >
> > >                                                 Pekka
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 14:15:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA17514
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 14:15:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA03927
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 14:15:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03363;
	Sat, 3 Nov 2001 13:56:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03336
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 13:56:10 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17330
	for <sip@ietf.org>; Sat, 3 Nov 2001 13:56:08 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fA3ItWa24794;
	Sat, 3 Nov 2001 10:55:32 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG40975;
	Sat, 3 Nov 2001 10:54:55 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA14141; Sat, 3 Nov 2001 10:55:31 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15332.15779.119602.47332@thomasm-u1.cisco.com>
Date: Sat, 3 Nov 2001 10:55:31 -0800 (PST)
To: Juha Heinanen <jh@lohi.eng.song.fi>
Cc: "Jari Arkko" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh" <hugh.shieh@attws.com>, <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <15331.40952.508966.725651@harjus.eng.song.fi>
References: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01>
	<016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
	<15331.40952.508966.725651@harjus.eng.song.fi>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Juha Heinanen writes:
 > Jari Arkko writes:
 > 
 >  > For the communication to the 3g terminals, I think we need something
 >  > more lightweight than TLS or IPsec/IKE.
 > 
 > how about hip?

   At a fundamental level these things all have
   to do similar things. If you want encryption,
   you need to have an encryption algorithm. If
   want the ability to create a secret out of 
   nothing, you need public key cryptography,
   and so on. I've compared the sizes of TLS 
   and IPsec on my Linux box and not surprisingly,
   they're almost exactly the same.

   I, like Jari, am concerned about this for small
   widgets but am afraid that there's no silver
   bullet. Beyond outlawing ASN.1, I think the
   most likely avenue is to profile existing
   protocols to their bare bones (minimal
   # algorithms, specialized ASN.1 parsers, 
   etc, etc) rather than trying to create a
   "lightweight" protocol which invariably isn't
   lightweight after it's been in the standards
   body feeding lot for a few years. Oh, and pray
   for Moore's Law :-)

	      Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 14:16:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA17537
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 14:16:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA04002
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 14:16:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03249;
	Sat, 3 Nov 2001 13:46:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA03220
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 13:46:46 -0500 (EST)
Received: from pine.il.neustar.com (pine.neustar.com [209.173.57.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17278
	for <sip@ietf.org>; Sat, 3 Nov 2001 13:46:43 -0500 (EST)
Received: from chi02.npac.com (dmz1.il.neustar.com [209.173.57.65])
	by pine.il.neustar.com (8.11.0/8.11.0) with ESMTP id fA3Ikij10325;
	Sat, 3 Nov 2001 12:46:44 -0600
Received: by chi02.chicago.npac.com with Internet Mail Service (5.5.2653.19)
	id <V31SMQG4>; Sat, 3 Nov 2001 12:45:53 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAABE6@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>, "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Sat, 3 Nov 2001 12:44:29 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16497.91E926E0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16497.91E926E0
Content-Type: text/plain;
	charset="iso-8859-1"

This is different from bis-04, yes. rfc2543bis-05 is an Internet-Draft, not
an RFC. A number of proposed changes to the SIP standard (largely those
proposing to resolve open issues) have been introduced in this draft in the
hopes of inciting list discussion and bringing these issues to consensus. I
don't think that list discussion and consensus is a prerequisite for the
release of an Internet-Draft.
 
The characterization of TLS as a transport protocol "like TCP and UDP"
derives first and foremost from the fact that 'tls' is a valid token that
can appear in the 'transport-param' parameter of a URL (as can 'udp', 'tcp'
or 'sctp') or 'sent-protocol' field of a Via header. SIP-over-TLS has an
assigned port (5061). It is assumed in the SIP standard (as it is elsewhere
in Internet standards) that TLS is running over TCP. The authors of bis are
aware that TLS does not run over UDP.
 
That much said, this should be clarified to prevent confusion, although I
think the characterization of TLS as a transport protocol (since it does
purport to add security to the transport layer) is not terribly misleading
in its context.
 
Jon Peterson
NeuStar, Inc

-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Friday, November 02, 2001 4:20 PM
To: 'sip@ietf.org' <mailto:'sip@ietf.org'> 
Subject: [Sip] Bis-5: TLS as secure transport for SIP



line: 2977. It was recommended that TLS as a secure transport for SIP. 

This is different from what's in bis04, has this been discussed and agreed
on the list? 

Since TLS relies on some reliable transport protocol (e.g., TCP) at lower
layer, TLS will not work directly on top of UDP.

I am also confused by the sentence in 2970-2973. TLS is NOT a transport
protocol like TCP or UDP, the primary goal of the TLS Protocol is to provide
privacy and data integrity for an underline reliable transport protocol like
TCP.

Regards, 

-Hugh 


------_=_NextPart_001_01C16497.91E926E0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>[Sip] Bis-5: TLS as secure transport for SIP</TITLE>

<META content="MSHTML 5.00.3315.2870" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=401061618-03112001>This 
is different from bis-04, yes. rfc2543bis-05 is an Internet-Draft, not an RFC. A 
number of proposed changes to the SIP standard (largely&nbsp;those proposing to 
resolve open issues) have been introduced in this draft in the hopes of inciting 
list discussion and bringing these issues to consensus. I don't think that list 
discussion and consensus is a prerequisite for the release of an 
Internet-Draft.</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=401061618-03112001>The 
characterization of TLS as a transport protocol "like TCP and UDP" derives first 
and foremost from the fact that 'tls' is a valid token that can appear in the 
'transport-param' parameter of a URL (as can 'udp', 'tc</SPAN></FONT><FONT 
color=#0000ff face=Arial size=2><SPAN class=401061618-03112001>p' or 
'sctp')&nbsp;or 'sent-protocol' field of a Via header. SIP-over-TLS has an 
assigned port (5061).&nbsp;It is assumed in the SIP standard (as it is elsewhere 
in Internet standards) that TLS is running over TCP. The authors of bis are 
aware that TLS does not&nbsp;run over UDP.</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=401061618-03112001>That 
much said, this should be clarified to prevent confusion, although I think the 
characterization of TLS as&nbsp;a transport protocol (since it does purport to 
add security to the transport layer) is not terribly&nbsp;misleading in its 
context.</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN class=401061618-03112001>Jon 
Peterson</SPAN></FONT></DIV>
<DIV><FONT color=#0000ff face=Arial size=2><SPAN 
class=401061618-03112001>NeuStar, Inc</SPAN></FONT></DIV>
<BLOCKQUOTE 
style="BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px; PADDING-LEFT: 5px">
  <DIV align=left class=OutlookMessageHeader dir=ltr><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Shieh, Hugh 
  [mailto:hugh.shieh@attws.com]<BR><B>Sent:</B> Friday, November 02, 2001 4:20 
  PM<BR><B>To:</B> <A 
  href="mailto:'sip@ietf.org'">'sip@ietf.org'</A><BR><B>Subject:</B> [Sip] 
  Bis-5: TLS as secure transport for SIP<BR><BR></DIV></FONT>
  <P><FONT face=Arial size=2>line: 2977. It was recommended that TLS as a secure 
  transport for SIP.</FONT> </P>
  <P><FONT face=Arial size=2>This is different from what's in bis04, has this 
  been discussed and agreed on the list?</FONT> </P>
  <P><FONT face=Arial size=2>Since TLS relies on some reliable transport 
  protocol (e.g., TCP) at lower layer, TLS will not work directly on top of 
  UDP.</FONT></P>
  <P><FONT face=Arial size=2>I am also confused by the sentence in 2970-2973. 
  TLS is NOT a transport protocol like TCP or UDP, the primary goal of the TLS 
  Protocol is to provide privacy and data integrity for an underline reliable 
  transport protocol like TCP.</FONT></P>
  <P><FONT face=Arial size=2>Regards,</FONT> </P>
  <P><FONT face=Arial size=2>-Hugh</FONT> </P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C16497.91E926E0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 16:23:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18489
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 16:23:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA07699
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 16:23:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA07448;
	Sat, 3 Nov 2001 16:01:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA07417
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 16:01:29 -0500 (EST)
Received: from pine.il.neustar.com (pine.neustar.com [209.173.57.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18384
	for <sip@ietf.org>; Sat, 3 Nov 2001 16:01:25 -0500 (EST)
Received: from chi02.npac.com (dmz1.il.neustar.com [209.173.57.65])
	by pine.il.neustar.com (8.11.0/8.11.0) with ESMTP id fA3L1Pj11442;
	Sat, 3 Nov 2001 15:01:25 -0600
Received: by chi02.chicago.npac.com with Internet Mail Service (5.5.2653.19)
	id <V31SMQH5>; Sat, 3 Nov 2001 15:00:34 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAABE8@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.com>
To: "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Sat, 3 Nov 2001 14:59:03 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

The proposed RECOMMENDED for TLS is not without controversy - there are a
number of diverse architectures in which SIP will undoubtedly be deployed,
and it is tough to say whether any recommendation should be made at all
since nothing will satisfy the requirements of every architecture. 

So why recommend TLS for SIP (as opposed to IPSec)? Three reasons come to
mind that, while they are necessarily somewhat general, apply to the most
common architectures in which TLS and IPSec are used:

- Because TLS secures just a single SIP connection. rfc2543bis should
provide a means of securing SIP that is independent of securing other
services or connections. In some architectures it would be a serious flaw if
the security association that allows you to authenticate SIP messages sent
to a proxy were also used to authenticate, say, telnet sessions to a proxy -
but this is often desirable for architectures in which IPSec is used.

- Because use of TLS is reflected in the SIP protocol. The application
therefore has direct knowledge of the use of a secure transmission
mechanism, and uses this knowledge to populate the 'sent-protocol' in Via
headers or the 'transport-param' in various URI. In fact, an application
could even inspect the trail of Via headers to determine how many hops of a
signaling chain went over TLS. In many IPSec VPN architectures,
authentication and encryption are performed outside the context of the
application (at an operating system level, or even on a separate network
host) - precluding any application-layer visibility into security
associations.

- Because a proxy server or user agent might not just want to know THAT a
message was authenticated, but WHAT identity that authentication proved.
Again, in many IPSec architectures when authentication is performed outside
the context of the SIP application, the application has no way to gain
access to this identity. A proxy server or user agent may want to make
behavioral decisions based on policies that apply to the identity of
requestors. This isn't to say that TLS doesn't admit of architectures in
which streams are aggregated or the identity of the originating party is not
passed to applications that want to view them for whatever reason, but it
seems easier for a TLS proxy to introduce some token into SIP signaling
identifying the originator of the request than it would be for, say, a
router implementing an IPSec VPN.

I understand why 3G mobile networks (which have something in common with
large VPNs) might want to use IPSec for security - it is perfectly valid for
a great number of architectures. The reasons given above are necessarily
generalizations, and nothing in rfc2543bis05 is intended to discourage the
use of IPSec when appropriate. Some parties working on the SIP standard just
felt that SIP should have a 'story' about non-HTTP-based security that went
beyond some hand-waving about lower layers taking care of it. Of course,
that's why it isn't a MUST, or even a SHOULD - just a RECOMMENDED.

I'd be interested to hear how others feel about the use of RECOMMENDED for
TLS, or indeed the whole discussion of TLS and IPSec (given that the text
always could use some improvements and tweaking). Is it useful to have any
recommendation here? Or even a discussion of these two popular alternatives?


As for e2e security, there is now a mention in 20.3 of secure MIME types,
which are probably as close as we'll get to e2e signaling security. The
problem of header transparency in useful SIP architectures really precludes
encrypting most of the headers - although secure MIME types might be able to
assist this in some fashion.

Jon Peterson
NeuStar, Inc

> -----Original Message-----
> From: Jari Arkko [mailto:jari.arkko@kolumbus.fi]
> Sent: Friday, November 02, 2001 11:07 PM
> To: Shieh, Hugh; sip@ietf.org
> Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
> 
> 
> [Sip] Bis-5: TLS as secure transport for SIP
> I have been wondering about this too, and have the same 
> questions as Hugh
> did. Furthermore, I have trouble understanding the trust 
> model explanations in
> lines 2967-2973. TLS and IPsec are both hop-by-hop models, so 
> they're both
> suited to environments where either one hop is sufficient 
> protection, or where
> you have some chain of trust. (One true difference the text 
> neglects to mention
> that TLS could be run in a one-sided manner with certs only 
> the server side and
> HTTP authentication to the other direction, which eases its 
> deployment in
> situations where you have a large number of clients towards a 
> small number of
> servers.)
> 
> Trouble is, I'm not very happy about either TLS or IPsec/IKE 
> on the client
> side, if we are talking about the wireless environment. 
> Delays, need to
> do public key cryptography, etc seem hard issues and I'm not sure we
> really need them.
> 
> As for the communication between servers and proxies there's 
> also a couple
> of hard requirements to handle. For instance, as [1 sec 6.24] 
> points out, there
> is a need to make it scalable to a large number of nodes. 
> IPsec generally
> can deal with this better given that it is typically placed 
> on security gateways,
> possibly hiding many proxies of an operator behind it. Plus, 
> you can tackle
> other important traffic within the same tunnels.
> 
> In the third generation mobile networks, IPsec is going to be used as
> a protection to get the network elements talk to each other securely.
> For the communication to the 3g terminals, I think we need something
> more lightweight than TLS or IPsec/IKE. Perhaps improved versions of
> HTTP Digest could do the job. How are we by the way progressing on 
> the Undery draft and other proposals in this direction? Are 
> they going to be
> integrated to RFC 2543 BIS or not?
> 
> Finally, I think all of this h2h is necessary but I wish we 
> could be making
> some progress in end-to-end security for SIP as well. I don't 
> always see
> myself trusting those proxy chains...
> 
> Jari
> [1] 
> http://www.ietf.org/internet-drafts/draft-garcia-sipping-3gpp-
reqs-00.txt




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov  3 20:47:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA20129
	for <sip-archive@odin.ietf.org>; Sat, 3 Nov 2001 20:47:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA11781
	for sip-archive@odin.ietf.org; Sat, 3 Nov 2001 20:47:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA11274;
	Sat, 3 Nov 2001 20:10:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA11245
	for <sip@optimus.ietf.org>; Sat, 3 Nov 2001 20:10:30 -0500 (EST)
Received: from oak.neustar.com (oak.neustar.com [209.173.53.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA19941
	for <sip@ietf.org>; Sat, 3 Nov 2001 20:10:27 -0500 (EST)
Received: from chiimc01.il.neustar.com (dmz1.va.neustar.com [209.173.53.65])
	by oak.neustar.com (8.11.0/8.11.0) with ESMTP id fA419b204524;
	Sat, 3 Nov 2001 20:09:57 -0500
Received: by chiimc01.il.neustar.com with Internet Mail Service (5.5.2653.19)
	id <WFVK48JZ>; Sat, 3 Nov 2001 19:08:10 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAABF5@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.com>
To: "'radhika@jopasana.com'" <radhika@jopasana.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Date: Sat, 3 Nov 2001 19:07:13 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] RE: [Sipping] Date header field & Expires (bug #178)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I've shifted this over to the SIP WG list, since this actually raises a
couple of bis questions.

I think the idea was that a Date header separate from the Expires header
would be provided in a REGISTER for time-synchronization purposes - the Date
contains the exact time at which a request or response was sent. So
essentially, if both headers were preset the time until expiry of a
registration would be the delta between the date in the Expires header and
the date in the Date header. 

Sending absolute time in Expires is theoretically more precise than just
using an integer time, since an unknown amount of time may have passed while
the signaling message was in transit. Unless you have an external method for
synchronizing network time, you just need to send a Date header to ensure
the clocks are in parity. However, the Date header might not really help
synchronize time for the same reason - an unknown amount of time passed
while the signaling message was in transit since that Date header was
created. For low integer values and complex signaling networks this could be
problematic. In any event it isn't clear why this would be any more precise
than sending integer values.

So, Expires in absolute time format without Date gives rise to all sorts of
synchronization issues - and by supplying both Date and Expires you're
essentially specifying the delta, so you might as well have just sent an
integer value and saved yourself an extra header.

Is any implementor out there actually using absolute time format for Expires
in REGISTER? There has been a suggestion that this should be deprecated in
favor of only integer values for Expires in REGISTER (which would obviate
the need for a Date header). Does anybody use absolute time in Expires
today?

Jon Peterson
NeuStar, Inc

> -----Original Message-----
> From: radhika@jopasana.com [mailto:radhika@jopasana.com]
> Sent: Friday, November 02, 2001 2:06 AM
> To: sipping@ietf.org
> Subject: [Sipping] Date header field
> 
> 
> Hello all,
> 
>   I need an example of how the Date header field is used in a SIP
> REGISTER message. 
>   The date in the Expires header field indicates the Date of expiry
> of the registration. In this case, is there a need of a seperate 
> Date header field? What is the difference between the two Dates?
>   Any information regarding this would be appreciated.     
> 
> With regards,
> Radhika.
> 
> _______________________________________________
> Sipping mailing list  http://www1.ietf.org/mailman/listinfo/sipping
> This list is for NEW development of the application of SIP
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sip@ietf.org for new developments of core SIP
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov  4 11:27:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA14197
	for <sip-archive@odin.ietf.org>; Sun, 4 Nov 2001 11:27:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA02725
	for sip-archive@odin.ietf.org; Sun, 4 Nov 2001 11:27:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA02673;
	Sun, 4 Nov 2001 11:05:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA02642
	for <sip@optimus.ietf.org>; Sun, 4 Nov 2001 11:05:14 -0500 (EST)
Received: from fep01-app.kolumbus.fi (fep01-0.kolumbus.fi [193.229.0.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA14033
	for <sip@ietf.org>; Sun, 4 Nov 2001 11:05:10 -0500 (EST)
Received: from jariws1 ([62.248.155.141]) by fep01-app.kolumbus.fi
          (InterMail vM.5.01.03.08 201-253-122-118-108-20010628) with SMTP
          id <20011104160512.MBFP13228.fep01-app.kolumbus.fi@jariws1>;
          Sun, 4 Nov 2001 18:05:12 +0200
Message-ID: <004301c1654a$7cd677e0$8a1b6e0a@arenanet.fi>
From: "Jari Arkko" <jari.arkko@kolumbus.fi>
To: "Michael Thomas" <mat@cisco.com>
Cc: "Shieh, Hugh" <hugh.shieh@attws.com>, <sip@ietf.org>
References: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01><016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi><15331.40952.508966.725651@harjus.eng.song.fi> <15332.15779.119602.47332@thomasm-u1.cisco.com>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
Date: Sun, 4 Nov 2001 18:05:13 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

>    you need to have an encryption algorithm. If
>    want the ability to create a secret out of 
>    nothing, you need public key cryptography,
>    and so on. 

You need something, but I'm not sure it has to
be public key cryptography. As an example,
the folks who want to build the 3g multimedia
system have recently built successfully a distributed
network with 500 million clients (gsm) using symmetric
cryptography. I really don't want to go and explain
to them that we need public cryptography because
the multimedia network is so big!

Yes, public key cryptography is very useful in
many cases. However, I think we should allow
also simpler, symmetric methods to be used
because there doesn't seem to be any reason
why they couldn't work in the domains they are
suited for. For instance, given something like
Undery's draft on improving digest, we could
integrity protect SIP signaling h2h and e2e
with simple passwords. Yes, there's a lot of
things to fix but...

Jari




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov  4 13:59:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15198
	for <sip-archive@odin.ietf.org>; Sun, 4 Nov 2001 13:59:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05291
	for sip-archive@odin.ietf.org; Sun, 4 Nov 2001 13:59:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA05263;
	Sun, 4 Nov 2001 13:47:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA05232
	for <sip@optimus.ietf.org>; Sun, 4 Nov 2001 13:47:18 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15124
	for <sip@ietf.org>; Sun, 4 Nov 2001 13:47:15 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fA4IkrX10880;
	Sun, 4 Nov 2001 10:46:53 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG43661;
	Sun, 4 Nov 2001 10:46:09 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA14433; Sun, 4 Nov 2001 10:46:45 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15333.36116.959276.861767@thomasm-u1.cisco.com>
Date: Sun, 4 Nov 2001 10:46:44 -0800 (PST)
To: "Jari Arkko" <jari.arkko@kolumbus.fi>
Cc: "Michael Thomas" <mat@cisco.com>, "Shieh, Hugh" <hugh.shieh@attws.com>,
        <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <004301c1654a$7cd677e0$8a1b6e0a@arenanet.fi>
References: <1F559B7B150DD411A62F00508B9557EC0339769B@WA-MSG01>
	<016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
	<15331.40952.508966.725651@harjus.eng.song.fi>
	<15332.15779.119602.47332@thomasm-u1.cisco.com>
	<004301c1654a$7cd677e0$8a1b6e0a@arenanet.fi>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jari Arkko writes:
 > >    you need to have an encryption algorithm. If
 > >    want the ability to create a secret out of 
 > >    nothing, you need public key cryptography,
 > >    and so on. 
 > 
 > You need something, but I'm not sure it has to
 > be public key cryptography. As an example,
 > the folks who want to build the 3g multimedia
 > system have recently built successfully a distributed
 > network with 500 million clients (gsm) using symmetric
 > cryptography. I really don't want to go and explain
 > to them that we need public cryptography because
 > the multimedia network is so big!

   Note my "if" above. Public key cryptography
   is useful in many cases, but it's got a whole
   list of drawbacks as well. Part of why I like
   Kerberos is that it doesn't force you to use
   public key cryptography.

	      Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 04:09:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA09470
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 04:09:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA28885
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 04:09:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA28258;
	Mon, 5 Nov 2001 03:56:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA28227
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 03:56:44 -0500 (EST)
Received: from fox.iptel.org (fox.iptel.org [195.37.77.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA09326
	for <sip@ietf.org>; Mon, 5 Nov 2001 03:56:42 -0500 (EST)
Received: from jku.iptel.org ([63.113.46.204])
	by fox.iptel.org (8.11.6/8.11.6) with ESMTP id fA58uCh23794
	for <sip@ietf.org>; Mon, 5 Nov 2001 09:56:12 +0100
Message-Id: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
X-Sender: jiri@iptel.org
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Mon, 05 Nov 2001 04:00:40 +0100
To: sip@ietf.org
From: Jiri Kuthan <jiri@iptel.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Subject: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

[resent to sip]

Why is a redirect server expected to be stateful
(bis-05, Section 8.3)? IMHO, one of great uses
of redirect servers is increasing network scalability.
They can distribute traffic across multiple destinations 
and allow upstream clients to cache the returned routes.
Going stateful reduces scalability of such a server.

-Jiri

At 05:16 AM 11/1/2001, Jonathan Rosenberg wrote:
[...]
>Stateless proxy is just a ROLE. If an element needs to generate a response,
>it becomes a UAS. We have tried to make that consistently clear in bis-04. 
>
>That said, it is possible for a UAS to statelessly generate a response. Each
>request retransmission would trigger the response to be recomputed and
>re-sent. This only works if the element never generates a 1xx, but rather
>responds with the final response right away. This is used, for example, to
>prevent unauthenticated requests from creating state in servers.

>[...] 
>> A stateless proxy receives an INVITE and doesn't have any destination
>> for it. What is it supposed to do? Generate 4xx upstream? 
>> Then who takes
>> care of the retransmission stuff? Note that this is a 
>> stateless proxy --
>> no call state, no transaction state. Or does it silently discard the
>> INVITE? Or does it dump the INVITE onto a UAS and let the UAS do the
>> dirty job? Doesn't sound elegant, though.

--
Jiri Kuthan            http://iptel.org/~jiri/


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 07:21:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12359
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 07:21:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA06773
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 07:21:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA06545;
	Mon, 5 Nov 2001 07:09:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA06513
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 07:09:53 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA12050;
	Mon, 5 Nov 2001 07:09:51 -0500 (EST)
Message-Id: <200111051209.HAA12050@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Mon, 05 Nov 2001 07:09:50 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-events-01.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP-Specific Event Notification
	Author(s)	: A. Roach
	Filename	: draft-ietf-sip-events-01.txt
	Pages		: 36
	Date		: 02-Nov-01
	
This document describes an extension to the Session Initiation
Protocol (SIP). The purpose of this extension is to provide an
extensible framework by which SIP nodes can request notification
from remote nodes indicating that certain events have occurred.
Concrete uses of the mechanism described in this document may be
standardized in the future.
Note that the event notification mechanisms defined herein are
NOT intended to be a general-purpose infrastructure for all
classes of event subscription and notification.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-events-01.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-events-01.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-events-01.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011102133227.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-events-01.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-events-01.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011102133227.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 08:10:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA14617
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 08:10:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA08503
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 08:10:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA07821;
	Mon, 5 Nov 2001 07:59:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA07790
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 07:59:13 -0500 (EST)
Received: from gbnewp0915s1.eu.ubiquity.net (news.ubiquity.net [194.202.146.92] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id HAA14022
	for <sip@ietf.org>; Mon, 5 Nov 2001 07:59:10 -0500 (EST)
Received: from mailhost.eu.ubiquity.net by gbnewp0915s1.eu.ubiquity.net
          via smtpd (for odin.ietf.org [132.151.1.176]) with SMTP; 5 Nov 2001 12:59:19 UT
Received: from jundery ([193.195.52.206]) by GBNEWP0758M.eu.ubiquity.net with Microsoft SMTPSVC(5.0.2195.1600);
	 Mon, 5 Nov 2001 13:01:27 +0000
From: "James Undery" <jundery@ubiquity.net>
To: "Jari Arkko" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh" <hugh.shieh@attws.com>, <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 13:01:29 -0000
Message-ID: <NFBBIOJHKKAKGOAKHCCNOEGFCIAA.jundery@ubiquity.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
In-Reply-To: <016b01c16436$2b7e65c0$8a1b6e0a@arenanet.fi>
Importance: Normal
X-OriginalArrivalTime: 05 Nov 2001 13:01:27.0369 (UTC) FILETIME=[FAE57B90:01C165F9]
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On
> Behalf Of Jari Arkko

[sniped]

> In the third generation mobile networks, IPsec is going to
> be used as
> a protection to get the network elements talk to each other
> securely.
> For the communication to the 3g terminals, I think we need something
> more lightweight than TLS or IPsec/IKE. Perhaps improved versions of
> HTTP Digest could do the job. How are we by the way progressing on
> the Undery draft and other proposals in this direction? Are
> they going to be
> integrated to RFC 2543 BIS or not?

Obviously I'd be glad to see it integrated :-), however, there appears
to be little interest in the draft even as a short term solution.
There are a number of changes I've thought about since to prevent step
down attacks although. i.e. including the available methods in
plaintext in the nonce so "SIP Digest" aware browsers would be able to
check, yet still allow Digest to work on older clients. (Obviously the
rest of the nonce should be unguessable.)

James


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 08:50:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17073
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 08:50:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA09759
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 08:50:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09402;
	Mon, 5 Nov 2001 08:35:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09369
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 08:35:32 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16322
	for <sip@ietf.org>; Mon, 5 Nov 2001 08:35:28 -0500 (EST)
Received: from esealnt409.al.sw.ericsson.se (ESEALNT409.al.sw.ericsson.se [153.88.251.32])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with SMTP id fA5DZUf29728
	for <sip@ietf.org>; Mon, 5 Nov 2001 14:35:30 +0100 (MET)
Received: FROM esealnt742.al.sw.ericsson.se BY esealnt409.al.sw.ericsson.se ; Mon Nov 05 14:35:29 2001 +0100
Received: by esealnt742.al.sw.ericsson.se with Internet Mail Service (5.5.2653.19)
	id <TH2LK7N8>; Mon, 5 Nov 2001 14:27:39 +0100
Message-ID: <29F33B0CF787D51195FC0002A56B3DC11420AC@efijont103>
From: "Vesa Torvinen (LMF)" <Vesa.Torvinen@lmf.ericsson.se>
To: "'Peterson, Jon'" <jon.peterson@neustar.com>
Cc: "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 14:35:13 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> -----Original Message-----
> From: Peterson, Jon [mailto:jon.peterson@NeuStar.com]
> Sent: 3. marraskuuta 2001 22:59
> To: 'Jari Arkko'; Shieh, Hugh; sip@ietf.org
> Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
>

[cut]

> - Because use of TLS is reflected in the SIP protocol. The application
> therefore has direct knowledge of the use of a secure transmission
> mechanism, and uses this knowledge to populate the 
> 'sent-protocol' in Via
> headers or the 'transport-param' in various URI. In fact, an 
> application
> could even inspect the trail of Via headers to determine how 
> many hops of a
> signaling chain went over TLS. 

[cut]

I don't understand how a SIP entity can trust on Via or various URI fields/parameters. For example, an untrustworthy proxy could change these fields making a SIP entity downstream believe that TLS was used for certain hops (and change them back to original when the messages are delivered back to upstream). Shouldn't you somehow protect all those fields/parameter which you wanted to use to determine anything about security? 

At least the protection of Via headers sounds a bit complicated because they are added by every proxy... 

Vesa 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 09:02:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA18106
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 09:02:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA10336
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 09:02:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09687;
	Mon, 5 Nov 2001 08:46:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09659
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 08:46:45 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA16826
	for <sip@ietf.org>; Mon, 5 Nov 2001 08:46:42 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A84419A40146; Mon, 05 Nov 2001 08:46:44 -0500
Message-ID: <006101c165ff$e9b36ac0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
Cc: <sip@ietf.org>
References: <3BE03B81.DD60A1D2@lmf.ericsson.se> <pv8zdqcytd.fsf@agni.research.nokia.com> <3BE238E9.293A8FCB@lmf.ericsson.se> <00c401c163a8$a8f0e660$2300000a@acmepacket.com> <3BE3FE53.374E8787@lmf.ericsson.se>
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
Date: Mon, 5 Nov 2001 08:43:55 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

"Christer Holmberg" <christer.holmberg@lmf.ericsson.se> wrote:
>
> So, would it cause any problems if the UAS DID use separate Tag values
> for each final response it sends to a merget INVITE - or at least
> separate Tag values for the 200 and 482 responses. In this case we
> wouldn't have to add any new features to be able to match the
> INVITE/200/ACK - without doing assumtions based on the Via branch value.
> The caller would not even notice this, since the forking proxy would ACK
> the 482 responses, and only the 200 would reach the UAC.

Why would the UAS assign a tag at all? Does bis-05 require a tag? I would
think the response should look like any other 4xx response when there have
been no 1xx responses (no tag previously assigned). I think it would be a
mistake to use the same tag returned with the 200. By responding with 482,
we're trying to eliminate a dialog resulting from a fork at some proxy. This
is a separate dialog from the one that got a 200-OK.

cheers,
(-:bob


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 09:07:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA18466
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 09:07:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA10456
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 09:07:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09967;
	Mon, 5 Nov 2001 08:57:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA09938
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 08:57:47 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17875
	for <sip@ietf.org>; Mon, 5 Nov 2001 08:57:41 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA5DvbC24133;
	Mon, 5 Nov 2001 14:57:37 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74-udp36646.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA5DvaB05232;
	Mon, 5 Nov 2001 15:57:36 +0200 (EET)
Message-ID: <3BE69ACC.7CBFE129@lmf.ericsson.se>
Date: Mon, 05 Nov 2001 15:57:32 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: sip@ietf.org
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
References: <3BE03B81.DD60A1D2@lmf.ericsson.se> <pv8zdqcytd.fsf@agni.research.nokia.com> <3BE238E9.293A8FCB@lmf.ericsson.se> <00c401c163a8$a8f0e660$2300000a@acmepacket.com> <3BE3FE53.374E8787@lmf.ericsson.se> <006101c165ff$e9b36ac0$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi Bob,

>>So, would it cause any problems if the UAS DID use separate Tag values
>>for each final response it sends to a merget INVITE - or at least
>>separate Tag values for the 200 and 482 responses. In this case we
>>wouldn't have to add any new features to be able to match the
>>INVITE/200/ACK - without doing assumtions based on the Via branch value.
>>The caller would not even notice this, since the forking proxy would ACK
>>the 482 responses, and only the 200 would reach the UAC.
> 
>Why would the UAS assign a tag at all? Does bis-05 require a tag? I would
>think the response should look like any other 4xx response when there have
>been no 1xx responses (no tag previously assigned). I think it would be a
>mistake to use the same tag returned with the 200. By responding with 482,
>we're trying to eliminate a dialog resulting from a fork at some proxy. This
>is a separate dialog from the one that got a 200-OK.

Assuming that there is not tag in the 482, OR if there is a separate tag
than in the 200 (I KNOW that is not how tags are supposed to be used, so
I am more than happy NOT having to change that), the issue is still if
we can rely on the tag to match the ACK to the INVITE that generated the
200, instead of doing the decission based on Via branch values that
can't be matched...

Thanks for your comments!

Regards,

Christer Holmberg
Ericsson Finland



> 
> cheers,
> (-:bob

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 09:17:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA18978
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 09:17:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA10697
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 09:17:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA10388;
	Mon, 5 Nov 2001 09:03:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA10365
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 09:03:14 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA18184
	for <sip@ietf.org>; Mon, 5 Nov 2001 09:03:12 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AC122F130146; Mon, 05 Nov 2001 09:02:58 -0500
Message-ID: <007d01c16602$2e586fc0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: <sip@ietf.org>, "Jiri Kuthan" <jiri@iptel.org>
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
Date: Mon, 5 Nov 2001 09:00:09 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


"Jiri Kuthan" <jiri@iptel.org> wrote:
>
> [resent to sip]
>
> Why is a redirect server expected to be stateful
> (bis-05, Section 8.3)? IMHO, one of great uses
> of redirect servers is increasing network scalability.
> They can distribute traffic across multiple destinations
> and allow upstream clients to cache the returned routes.
> Going stateful reduces scalability of such a server.
>
It only needs to maintain minimal transaction state so that it would re-send
the same 3xx response if it got a retransmission. Otherwise, it would need
to completely process the INVITE each time. You have to ask yourself, is it
more expensive to maintain the transaction state or to re-compute the
redirection every time? If you did go stateless, would you get different
results for a re-transmission? And if you did would it really matter? Also,
would you just "eat" the ACK?

cheers,
(-:bob


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 09:37:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA20540
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 09:37:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA11574
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 09:37:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11118;
	Mon, 5 Nov 2001 09:28:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11087
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 09:28:44 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA20048
	for <sip@ietf.org>; Mon, 5 Nov 2001 09:28:42 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA5ESiA14312;
	Mon, 5 Nov 2001 09:28:44 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id IAA09969; Mon, 5 Nov 2001 08:28:43 -0600 (CST)
Message-ID: <3BE6A210.30899660@lucent.com>
Date: Mon, 05 Nov 2001 08:28:32 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jiri Kuthan <jiri@iptel.org>
CC: sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jiri Kuthan wrote:
> 
> [resent to sip]
> 
> Why is a redirect server expected to be stateful
> (bis-05, Section 8.3)? 

Because it must match up the incoming ACK to the 3xx it send in response.  
Recall that the ACK is part of the same INVITE transaction in case of a 
non-2xx response.  Furthermore, it must also be able to match up a CANCEL, 
if one should arrive, to the INVITE, and stop further processing of the
INVITE.

> IMHO, one of great uses
> of redirect servers is increasing network scalability.
> They can distribute traffic across multiple destinations
> and allow upstream clients to cache the returned routes.
> Going stateful reduces scalability of such a server.

Going transaction-stateful is not that prohibitive, I would assume.  
Furthermore, are there any other options, given that the protocol specifies
the 3 way handshake.

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 09:52:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA21128
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 09:52:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA11806
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 09:52:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11618;
	Mon, 5 Nov 2001 09:38:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11587
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 09:38:05 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA20563
	for <sip@ietf.org>; Mon, 5 Nov 2001 09:38:03 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA5Ec1C17284;
	Mon, 5 Nov 2001 15:38:02 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74-udp36646.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA5Ec1B06658;
	Mon, 5 Nov 2001 16:38:01 +0200 (EET)
Message-ID: <3BE6A445.86165139@lmf.ericsson.se>
Date: Mon, 05 Nov 2001 16:37:57 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>Because it must match up the incoming ACK to the 3xx it send in response.
>Recall that the ACK is part of the same INVITE transaction in case of a
>non-2xx response.  Furthermore, it must also be able to match up a CANCEL,
>if one should arrive, to the INVITE, and stop further processing of the
>INVITE.

If the server has sent 3xx the CANCEL will have no affect, no matter if
you keep state or not, right?

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 10:04:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22032
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 10:04:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA12518
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 10:04:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11878;
	Mon, 5 Nov 2001 09:55:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA11848
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 09:55:38 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA21223
	for <sip@ietf.org>; Mon, 5 Nov 2001 09:55:36 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA5EtcA27229;
	Mon, 5 Nov 2001 09:55:38 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id IAA21656; Mon, 5 Nov 2001 08:55:37 -0600 (CST)
Message-ID: <3BE6A85E.28928E0B@lucent.com>
Date: Mon, 05 Nov 2001 08:55:26 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Christer Holmberg wrote:
> 
> Hi,
> 
> >Because it must match up the incoming ACK to the 3xx it send in response.
> >Recall that the ACK is part of the same INVITE transaction in case of a
> >non-2xx response.  Furthermore, it must also be able to match up a 
> >CANCEL, if one should arrive, to the INVITE, and stop further processing 
> >of the INVITE.
> 
> If the server has sent 3xx the CANCEL will have no affect, no matter if
> you keep state or not, right?

Yes, of course.  If the CANCEL arrives after a 3xx has been sent, it has no
effect.  The redirect server will still need to generate a 200 OK to the 
CANCEL (assuming that the original transaction was still around in the
"Confirmed" state).  If the original transaction has been cleaned up, the 
CANCEL will probably result in a 481.

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 10:17:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22487
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 10:17:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA12962
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 10:17:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA12488;
	Mon, 5 Nov 2001 10:04:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA12464
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 10:04:16 -0500 (EST)
Received: from mailhub.fokus.gmd.de (mailhub.fokus.gmd.de [193.174.154.14])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22011
	for <sip@ietf.org>; Mon, 5 Nov 2001 10:04:14 -0500 (EST)
Received: from dor (dhcp183 [195.37.78.183])
	by mailhub.fokus.gmd.de (8.8.8/8.8.8) with ESMTP id QAA08053;
	Mon, 5 Nov 2001 16:04:11 +0100 (MET)
Date: Mon, 5 Nov 2001 16:02:53 +0100
From: Dorgham Sisalem <sisalem@fokus.gmd.de>
X-Mailer: The Bat! (v1.51) Personal
Reply-To: Dorgham Sisalem <sisalem@fokus.gmd.de>
Organization: GMD Fokus
X-Priority: 3 (Normal)
Message-ID: <19280865413.20011105160253@fokus.gmd.de>
To: Vijay Gurbani <vkg@lucent.com>
CC: sip@ietf.org
Subject: Re[2]: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
In-Reply-To: <3BE6A210.30899660@lucent.com>
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
 <3BE6A210.30899660@lucent.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> Because it must match up the incoming ACK to the 3xx it send in response.  
> Recall that the ACK is part of the same INVITE transaction in case of a 
> non-2xx response.  Furthermore, it must also be able to match up a CANCEL, 
> if one should arrive, to the INVITE, and stop further processing of the
> INVITE.

I guess the question is: what will terribly happen if one just "eats"
the ACK? For the CANCEL, I guess there was already a great deal of
discussion mentioning that it is save to just ignore it by sending a
200 OK. I know this contradicts some of the pure interpretation of
SIP, but again what is the big harm done?

> Going transaction-stateful is not that prohibitive, I would assume.  
> Furthermore, are there any other options, given that the protocol specifies
> the 3 way handshake.

> Regards,

> - vijay



-- 
Best regards,
 Dorgham                            mailto:sisalem@fokus.gmd.de



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 10:21:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23081
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 10:21:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA13153
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 10:21:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA12720;
	Mon, 5 Nov 2001 10:10:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA12689
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 10:10:03 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA22221
	for <sip@ietf.org>; Mon, 5 Nov 2001 10:10:01 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA5FA3A05481;
	Mon, 5 Nov 2001 10:10:03 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id JAA29016; Mon, 5 Nov 2001 09:10:02 -0600 (CST)
Message-ID: <3BE6ABBF.546C892E@lucent.com>
Date: Mon, 05 Nov 2001 09:09:51 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Dorgham Sisalem <sisalem@fokus.gmd.de>
CC: sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
	 <3BE6A210.30899660@lucent.com> <19280865413.20011105160253@fokus.gmd.de>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Dorgham Sisalem wrote:
> 
> Hello,
> 
> > Because it must match up the incoming ACK to the 3xx it send in 
> > response. Recall that the ACK is part of the same INVITE transaction in 
> > case of a non-2xx response.  Furthermore, it must also be able to match 
> > up a CANCEL, if one should arrive, to the INVITE, and stop further 
> > processing of the INVITE.
> 
> I guess the question is: what will terribly happen if one just "eats"
> the ACK? 

Well, in the case of a non-2xx response, ACK basically is used on the server
end to stop retx'ing (if UDP is being used as the transport).  Unless you
are working on a lossless network, I don't think you can be sure that the
3xx send upstream over UDP actually made it.  The ACK serves as that not-
ification.

> For the CANCEL, I guess there was already a great deal of
> discussion mentioning that it is save to just ignore it by sending a
> 200 OK. I know this contradicts some of the pure interpretation of
> SIP, but again what is the big harm done?

You could probably get away with "eating" up a CANCEL, but not so on the
ACK.

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 10:36:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24109
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 10:36:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA13890
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 10:36:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13348;
	Mon, 5 Nov 2001 10:24:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13322
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 10:24:21 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23506
	for <sip@ietf.org>; Mon, 5 Nov 2001 10:24:17 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA5FOGf16733;
	Mon, 5 Nov 2001 16:24:16 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74-udp36646.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA5FOGB08114;
	Mon, 5 Nov 2001 17:24:16 +0200 (EET)
Message-ID: <3BE6AF1C.BA160A17@lmf.ericsson.se>
Date: Mon, 05 Nov 2001 17:24:12 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I guess this does not only affect CANCEL, but also if the redirect
server receive a BYE (chapter 8.3 only talks about CANCEL) for the setup
(if the server first sent a 18x with a tag, and for whatever reason the
UAC wants to terminate the dialog)?

Regards,

Christer Holmberg
Ericsson Finland


Vijay Gurbani wrote:
> 
> Christer Holmberg wrote:
> >
> > Hi,
> >
> > >Because it must match up the incoming ACK to the 3xx it send in response.
> > >Recall that the ACK is part of the same INVITE transaction in case of a
> > >non-2xx response.  Furthermore, it must also be able to match up a
> > >CANCEL, if one should arrive, to the INVITE, and stop further processing
> > >of the INVITE.
> >
> > If the server has sent 3xx the CANCEL will have no affect, no matter if
> > you keep state or not, right?
> 
> Yes, of course.  If the CANCEL arrives after a 3xx has been sent, it has no
> effect.  The redirect server will still need to generate a 200 OK to the
> CANCEL (assuming that the original transaction was still around in the
> "Confirmed" state).  If the original transaction has been cleaned up, the
> CANCEL will probably result in a 481.
> 
> Regards,
> 
> - vijay
> --
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software and eServices Group
> Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 10:39:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA24325
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 10:39:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA13998
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 10:39:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13457;
	Mon, 5 Nov 2001 10:28:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA13426
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 10:28:29 -0500 (EST)
Received: from mailhub.fokus.gmd.de (mailhub.fokus.gmd.de [193.174.154.14])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA23804
	for <sip@ietf.org>; Mon, 5 Nov 2001 10:28:26 -0500 (EST)
Received: from dor (dhcp183 [195.37.78.183])
	by mailhub.fokus.gmd.de (8.8.8/8.8.8) with ESMTP id QAA11832;
	Mon, 5 Nov 2001 16:28:27 +0100 (MET)
Date: Mon, 5 Nov 2001 16:27:09 +0100
From: Dorgham Sisalem <sisalem@fokus.gmd.de>
X-Mailer: The Bat! (v1.51) Personal
Reply-To: Dorgham Sisalem <sisalem@fokus.gmd.de>
Organization: GMD Fokus
X-Priority: 3 (Normal)
Message-ID: <23282321066.20011105162709@fokus.gmd.de>
To: Vijay Gurbani <vkg@lucent.com>
CC: sip@ietf.org
Subject: Re[2]: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
In-Reply-To: <3BE6ABBF.546C892E@lucent.com>
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
 <3BE6A210.30899660@lucent.com> <19280865413.20011105160253@fokus.gmd.de>
 <3BE6ABBF.546C892E@lucent.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,



Monday, November 05, 2001, 4:09:51 PM, you wrote:
> Well, in the case of a non-2xx response, ACK basically is used on the server
> end to stop retx'ing (if UDP is being used as the transport).  Unless you
> are working on a lossless network, I don't think you can be sure that the
> 3xx send upstream over UDP actually made it.  The ACK serves as that not-
> ification.

considering that the UA client (or the last proxy that generated a
provisional response) would retransmit the request I do not see this
as a big problem.


> - vijay



-- 
Best regards,
 Dorgham                            mailto:sisalem@fokus.gmd.de



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 11:19:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA26778
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 11:19:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA16159
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 11:19:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA15009;
	Mon, 5 Nov 2001 10:59:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA14979
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 10:59:36 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA25800
	for <sip@ietf.org>; Mon, 5 Nov 2001 10:59:33 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA5FxZA03041;
	Mon, 5 Nov 2001 10:59:36 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id JAA26123; Mon, 5 Nov 2001 09:59:34 -0600 (CST)
Message-ID: <3BE6B75B.61F976E0@lucent.com>
Date: Mon, 05 Nov 2001 09:59:23 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Christer Holmberg wrote:
> 
> Hi,
> 
> I guess this does not only affect CANCEL, but also if the redirect
> server receive a BYE (chapter 8.3 only talks about CANCEL) for the setup
> (if the server first sent a 18x with a tag, and for whatever reason the
> UAC wants to terminate the dialog)?

Christer:

I am hard pressed to see why a *redirect* server would return a 18x response
to establish an early dialog...

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 11:26:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA26961
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 11:26:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA16319
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 11:26:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15586;
	Mon, 5 Nov 2001 11:02:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15498
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 11:01:58 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id LAA25979
	for <sip@ietf.org>; Mon, 5 Nov 2001 11:01:55 -0500 (EST)
Received: (qmail 1012 invoked from network); 5 Nov 2001 15:54:25 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 5 Nov 2001 15:54:25 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05: why 200 ms for 100 Trying
Date: Mon, 5 Nov 2001 11:01:15 -0500
Message-ID: <001301c16613$19793470$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <3BE2EA33.5C8EED68@lmf.ericsson.se>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On 
> Behalf Of Gonzalo Camarillo
> Sent: Friday, November 02, 2001 1:47 PM
> To: Shan Lu
> Cc: 'IETF SIP Mailing List'
> Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
> 
> 
> Hello,
> 
> Shan Lu wrote:
> > 
> > Hi,
> > 
> > It looks like the 200 ms is an educated guess at best and 
> the selection
> > of this value really is tied to the difference between T1 and RTT,
> > although bis-05 clearly states that T1 is an estimate of RTT, not
> > RTT+200ms. Since T1 can be modified and RTT certainly varies between
> > applications, I don't see any reason why this value should 
> be kept fixed
> > at 200 ms.
> > 
> 
> First of all, the server does not know the T1 used by the client.
> 

True. But this situation is not unique. Look at section 17.1.1.2, line
2590. Although Timer D in INVITE client transaction is dependent on
values used at the server side, a default value (16s, T3) is specified
anyway. 

> Second, TCP uses a fixed value of 500ms for the delay ACK algorithm.
> Therefore, if a fixed value os good enough for TCP, it is good enough
> for us. We are not trying to build a transport layer for UDP which is
> better than a complete transport protocol.
> 

If TCP is so great, why don't we use TCP for call setup then, just like
H.323? (Sorry, bad word :-) And why did you change from 500 ms to 200
ms? Anyhow, I'd like to reiterate my original point which is quoted at
the start of this message: this timer should be given a default value
and be allowed to change. 

> 
> > Another thing that bothers me is the way this 200 ms is presented in
> > bis-05. Section 17.2.1, line 2703, ".. Must generate 100 
> Trying unless
> > it knows TU will generate a provisional or final response within 200
> > ms."
> > 
> > How do you verify whether transaction knows something about TU?
> 
> I still do not see any problem here. In 95% of the situations 
> the server
> transaction does not know whether the final response will 
> come in 200ms.
> Therefore, it will send the 100 Trying without waiting for anything.
> 

How do you know whether an implementation falls within your 95% category
or belongs to the other 5%? I don't think a standards document should
specify conformity based on statistics.

> If your transaction layer thinks that the final response from the TU
> will come in 200 ms but it finally does not come that soon then the
> server transaction layer itself generates the 100 Trying.
> 

How did you arrive at this interpretation based on the text at line
2703? Figure 7 doesn't indicate this behavior either.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 13:04:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01334
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 13:04:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA20118
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 13:04:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19548;
	Mon, 5 Nov 2001 12:43:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19517
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 12:43:06 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA00598
	for <sip@ietf.org>; Mon, 5 Nov 2001 12:43:04 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fA5HghX29853;
	Mon, 5 Nov 2001 09:42:43 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG50934;
	Mon, 5 Nov 2001 09:41:59 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id JAA14737; Mon, 5 Nov 2001 09:42:35 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15334.53131.199188.619544@thomasm-u1.cisco.com>
Date: Mon, 5 Nov 2001 09:42:35 -0800 (PST)
To: "Peterson, Jon" <jon.peterson@neustar.com>
Cc: "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <70565611B164D511957A001083FCDD56CAABE8@va02.va.neustar.com>
References: <70565611B164D511957A001083FCDD56CAABE8@va02.va.neustar.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


I frankly think that TLS is a non-starter since it
doesn't work with UDP. Henning disagrees, but I've
yet to hear what should be RECOMMENDED for UDP.
IPsec at least meets the UDP requirement, but
there seems to be a fair amount of concern that
it's too heavy weight. The other alternative is
doing something at application level for
hop-by-hop. Before we went there, I'd want to be
convinced that base transport mode IPsec minus key
distribution, tunnels, minimal crypto support etc,
is in fact significantly smaller than a customized
application layer crypto solution. While I'm
willing to believe the "smaller" part, I'm pretty
dubious about the "significant" part.

Also: KINK gives IPsec the ability to create SA's
in two messages (as opposed to 8-9 for IKE and,
what, 4-5 for TLS?) without *any* public key
cryptography. Manual keying is also possible,
and I'm sure that somebody is going to eventually
start keying up SA's with AAA (which I would be
a lot more receptive to if they actually
confronted the general problem rather than the
one-off hacks they're doing for, say, MIP).

	      Mike

Peterson, Jon writes:
 > The proposed RECOMMENDED for TLS is not without controversy - there are a
 > number of diverse architectures in which SIP will undoubtedly be deployed,
 > and it is tough to say whether any recommendation should be made at all
 > since nothing will satisfy the requirements of every architecture. 
 > 
 > So why recommend TLS for SIP (as opposed to IPSec)? Three reasons come to
 > mind that, while they are necessarily somewhat general, apply to the most
 > common architectures in which TLS and IPSec are used:
 > 
 > - Because TLS secures just a single SIP connection. rfc2543bis should
 > provide a means of securing SIP that is independent of securing other
 > services or connections. In some architectures it would be a serious flaw if
 > the security association that allows you to authenticate SIP messages sent
 > to a proxy were also used to authenticate, say, telnet sessions to a proxy -
 > but this is often desirable for architectures in which IPSec is used.
 > 
 > - Because use of TLS is reflected in the SIP protocol. The application
 > therefore has direct knowledge of the use of a secure transmission
 > mechanism, and uses this knowledge to populate the 'sent-protocol' in Via
 > headers or the 'transport-param' in various URI. In fact, an application
 > could even inspect the trail of Via headers to determine how many hops of a
 > signaling chain went over TLS. In many IPSec VPN architectures,
 > authentication and encryption are performed outside the context of the
 > application (at an operating system level, or even on a separate network
 > host) - precluding any application-layer visibility into security
 > associations.
 > 
 > - Because a proxy server or user agent might not just want to know THAT a
 > message was authenticated, but WHAT identity that authentication proved.
 > Again, in many IPSec architectures when authentication is performed outside
 > the context of the SIP application, the application has no way to gain
 > access to this identity. A proxy server or user agent may want to make
 > behavioral decisions based on policies that apply to the identity of
 > requestors. This isn't to say that TLS doesn't admit of architectures in
 > which streams are aggregated or the identity of the originating party is not
 > passed to applications that want to view them for whatever reason, but it
 > seems easier for a TLS proxy to introduce some token into SIP signaling
 > identifying the originator of the request than it would be for, say, a
 > router implementing an IPSec VPN.
 > 
 > I understand why 3G mobile networks (which have something in common with
 > large VPNs) might want to use IPSec for security - it is perfectly valid for
 > a great number of architectures. The reasons given above are necessarily
 > generalizations, and nothing in rfc2543bis05 is intended to discourage the
 > use of IPSec when appropriate. Some parties working on the SIP standard just
 > felt that SIP should have a 'story' about non-HTTP-based security that went
 > beyond some hand-waving about lower layers taking care of it. Of course,
 > that's why it isn't a MUST, or even a SHOULD - just a RECOMMENDED.
 > 
 > I'd be interested to hear how others feel about the use of RECOMMENDED for
 > TLS, or indeed the whole discussion of TLS and IPSec (given that the text
 > always could use some improvements and tweaking). Is it useful to have any
 > recommendation here? Or even a discussion of these two popular alternatives?
 > 
 > 
 > As for e2e security, there is now a mention in 20.3 of secure MIME types,
 > which are probably as close as we'll get to e2e signaling security. The
 > problem of header transparency in useful SIP architectures really precludes
 > encrypting most of the headers - although secure MIME types might be able to
 > assist this in some fashion.
 > 
 > Jon Peterson
 > NeuStar, Inc
 > 
 > > -----Original Message-----
 > > From: Jari Arkko [mailto:jari.arkko@kolumbus.fi]
 > > Sent: Friday, November 02, 2001 11:07 PM
 > > To: Shieh, Hugh; sip@ietf.org
 > > Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
 > > 
 > > 
 > > [Sip] Bis-5: TLS as secure transport for SIP
 > > I have been wondering about this too, and have the same 
 > > questions as Hugh
 > > did. Furthermore, I have trouble understanding the trust 
 > > model explanations in
 > > lines 2967-2973. TLS and IPsec are both hop-by-hop models, so 
 > > they're both
 > > suited to environments where either one hop is sufficient 
 > > protection, or where
 > > you have some chain of trust. (One true difference the text 
 > > neglects to mention
 > > that TLS could be run in a one-sided manner with certs only 
 > > the server side and
 > > HTTP authentication to the other direction, which eases its 
 > > deployment in
 > > situations where you have a large number of clients towards a 
 > > small number of
 > > servers.)
 > > 
 > > Trouble is, I'm not very happy about either TLS or IPsec/IKE 
 > > on the client
 > > side, if we are talking about the wireless environment. 
 > > Delays, need to
 > > do public key cryptography, etc seem hard issues and I'm not sure we
 > > really need them.
 > > 
 > > As for the communication between servers and proxies there's 
 > > also a couple
 > > of hard requirements to handle. For instance, as [1 sec 6.24] 
 > > points out, there
 > > is a need to make it scalable to a large number of nodes. 
 > > IPsec generally
 > > can deal with this better given that it is typically placed 
 > > on security gateways,
 > > possibly hiding many proxies of an operator behind it. Plus, 
 > > you can tackle
 > > other important traffic within the same tunnels.
 > > 
 > > In the third generation mobile networks, IPsec is going to be used as
 > > a protection to get the network elements talk to each other securely.
 > > For the communication to the 3g terminals, I think we need something
 > > more lightweight than TLS or IPsec/IKE. Perhaps improved versions of
 > > HTTP Digest could do the job. How are we by the way progressing on 
 > > the Undery draft and other proposals in this direction? Are 
 > > they going to be
 > > integrated to RFC 2543 BIS or not?
 > > 
 > > Finally, I think all of this h2h is necessary but I wish we 
 > > could be making
 > > some progress in end-to-end security for SIP as well. I don't 
 > > always see
 > > myself trusting those proxy chains...
 > > 
 > > Jari
 > > [1] 
 > > http://www.ietf.org/internet-drafts/draft-garcia-sipping-3gpp-
 > reqs-00.txt
 > 
 > 
 > 
 > 
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip
 > 
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 13:35:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02310
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 13:35:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA20957
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 13:35:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20395;
	Mon, 5 Nov 2001 13:22:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20364
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 13:22:04 -0500 (EST)
Received: from redmailwall3.attws.com (redmailwall3.attws.com [199.108.253.114])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01942
	for <sip@ietf.org>; Mon, 5 Nov 2001 13:22:02 -0500 (EST)
Received: from viruswall1.entp.attws.com (viruswall1 [135.214.40.161])
	by redmailwall3.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA5ILVR03515;
	Mon, 5 Nov 2001 10:21:31 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall1.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA5ILPB19158; Mon, 5 Nov 2001 10:21:25 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id KAA23814;
	Mon, 5 Nov 2001 10:21:30 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <WHNSGVV1>; Mon, 5 Nov 2001 10:21:31 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC033976A1@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'Shieh, Hugh'"
	 <hugh.shieh@attws.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 10:21:28 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16626.AFC63F00"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16626.AFC63F00
Content-Type: text/plain;
	charset="ISO-8859-1"

See my comments inline.

-----Original Message-----
From: Peterson, Jon [mailto:jon.peterson@NeuStar.com]
Sent: Saturday, November 03, 2001 10:44 AM
To: 'Shieh, Hugh'; 'sip@ietf.org'
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP


This is different from bis-04, yes. rfc2543bis-05 is an Internet-Draft, not
an RFC. A number of proposed changes to the SIP standard (largely those
proposing to resolve open issues) have been introduced in this draft in the
hopes of inciting list discussion and bringing these issues to consensus. I
don't think that list discussion and consensus is a prerequisite for the
release of an Internet-Draft.

[Shieh, Hugh] I was not questioning the procedure of releasing an ID, just
trying to understand the reason behind the change. 
 
The characterization of TLS as a transport protocol "like TCP and UDP"
derives first and foremost from the fact that 'tls' is a valid token that
can appear in the 'transport-param' parameter of a URL (as can 'udp', 'tcp'
or 'sctp') or 'sent-protocol' field of a Via header. SIP-over-TLS has an
assigned port (5061). It is assumed in the SIP standard (as it is elsewhere
in Internet standards) that TLS is running over TCP. The authors of bis are
aware that TLS does not run over UDP.

[Shieh, Hugh]  Will the authors of bis recommend a secure transport for UDP?
Or by recommending TLS, the authors recommend TCP instead of UDP as the
recommended SIP transport protocol?
 
That much said, this should be clarified to prevent confusion, although I
think the characterization of TLS as a transport protocol (since it does
purport to add security to the transport layer) is not terribly misleading
in its context.
 
Jon Peterson
NeuStar, Inc

-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Friday, November 02, 2001 4:20 PM
To: 'sip@ietf.org' <mailto:'sip@ietf.org'> 
Subject: [Sip] Bis-5: TLS as secure transport for SIP



line: 2977. It was recommended that TLS as a secure transport for SIP. 

This is different from what's in bis04, has this been discussed and agreed
on the list? 

Since TLS relies on some reliable transport protocol (e.g., TCP) at lower
layer, TLS will not work directly on top of UDP.

I am also confused by the sentence in 2970-2973. TLS is NOT a transport
protocol like TCP or UDP, the primary goal of the TLS Protocol is to provide
privacy and data integrity for an underline reliable transport protocol like
TCP.

Regards, 

-Hugh 


------_=_NextPart_001_01C16626.AFC63F00
Content-Type: text/html;
	charset="ISO-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>[Sip] Bis-5: TLS as secure transport for SIP</TITLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT face=Arial color=#0000ff size=2><SPAN class=192120918-05112001>See my 
comments inline.</SPAN></FONT></DIV>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
  <DIV class=OutlookMessageHeader dir=ltr align=left><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Peterson, Jon 
  [mailto:jon.peterson@NeuStar.com]<BR><B>Sent:</B> Saturday, November 03, 2001 
  10:44 AM<BR><B>To:</B> 'Shieh, Hugh'; 'sip@ietf.org'<BR><B>Subject:</B> RE: 
  [Sip] Bis-5: TLS as secure transport for SIP<BR><BR></FONT></DIV>
  <DIV><SPAN class=401061618-03112001><FONT face=Arial><FONT color=#0000ff><FONT 
  size=2>This is different from bis-04, yes. rfc2543bis-05 is an Internet-Draft, 
  not an RFC. A number of proposed changes to the SIP standard 
  (largely&nbsp;those proposing to resolve open issues) have been introduced in 
  this draft in the hopes of inciting list discussion and bringing these issues 
  to consensus. I don't think that list discussion and consensus is a 
  prerequisite for the release of an Internet-Draft.<BR><SPAN 
  class=192120918-05112001></SPAN></FONT></FONT></FONT></SPAN></DIV>
  <DIV><SPAN class=401061618-03112001><FONT face=Arial><FONT color=#0000ff><FONT 
  size=2><SPAN class=192120918-05112001>[Shieh, Hugh]&nbsp;I&nbsp;was not 
  questioning the procedure of releasing an ID, just trying to understand the 
  reason behind the change.&nbsp;</SPAN></FONT></FONT></FONT></SPAN></DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN 
  class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN class=401061618-03112001>The 
  characterization of TLS as a transport protocol "like TCP and UDP" derives 
  first and foremost from the fact that 'tls' is a valid token that can appear 
  in the 'transport-param' parameter of a URL (as can 'udp', 
  'tc</SPAN></FONT><SPAN class=401061618-03112001><FONT face=Arial><FONT 
  color=#0000ff><FONT size=2>p' or 'sctp')&nbsp;or 'sent-protocol' field of a 
  Via header. SIP-over-TLS has an assigned port (5061).&nbsp;It is assumed in 
  the SIP standard (as it is elsewhere in Internet standards) that TLS is 
  running over TCP. The authors of bis are aware that TLS does not&nbsp;run over 
  UDP.<BR><SPAN 
  class=192120918-05112001></SPAN></FONT></FONT></FONT></SPAN></DIV>
  <DIV><SPAN class=401061618-03112001><FONT face=Arial><FONT color=#0000ff><FONT 
  size=2><SPAN class=192120918-05112001>[Shieh, Hugh]&nbsp;&nbsp;Will the 
  authors of bis recommend a secure transport for UDP? Or by recommending TLS, 
  the authors recommend TCP instead of UDP as the recommended SIP transport 
  protocol?</SPAN></FONT></FONT></FONT></SPAN></DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN 
  class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN class=401061618-03112001>That 
  much said, this should be clarified to prevent confusion, although I think the 
  characterization of TLS as&nbsp;a transport protocol (since it does purport to 
  add security to the transport layer) is not terribly&nbsp;misleading in its 
  context.</SPAN></FONT></DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN 
  class=401061618-03112001></SPAN></FONT>&nbsp;</DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN class=401061618-03112001>Jon 
  Peterson</SPAN></FONT></DIV>
  <DIV><FONT face=Arial color=#0000ff size=2><SPAN 
  class=401061618-03112001>NeuStar, Inc</SPAN></FONT></DIV>
  <BLOCKQUOTE 
  style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid; MARGIN-RIGHT: 0px">
    <DIV class=OutlookMessageHeader dir=ltr align=left><FONT face=Tahoma 
    size=2>-----Original Message-----<BR><B>From:</B> Shieh, Hugh 
    [mailto:hugh.shieh@attws.com]<BR><B>Sent:</B> Friday, November 02, 2001 4:20 
    PM<BR><B>To:</B> <A 
    href="mailto:'sip@ietf.org'">'sip@ietf.org'</A><BR><B>Subject:</B> [Sip] 
    Bis-5: TLS as secure transport for SIP<BR><BR></DIV></FONT>
    <P><FONT face=Arial size=2>line: 2977. It was recommended that TLS as a 
    secure transport for SIP.</FONT> </P>
    <P><FONT face=Arial size=2>This is different from what's in bis04, has this 
    been discussed and agreed on the list?</FONT> </P>
    <P><FONT face=Arial size=2>Since TLS relies on some reliable transport 
    protocol (e.g., TCP) at lower layer, TLS will not work directly on top of 
    UDP.</FONT></P>
    <P><FONT face=Arial size=2>I am also confused by the sentence in 2970-2973. 
    TLS is NOT a transport protocol like TCP or UDP, the primary goal of the TLS 
    Protocol is to provide privacy and data integrity for an underline reliable 
    transport protocol like TCP.</FONT></P>
    <P><FONT face=Arial size=2>Regards,</FONT> </P>
    <P><FONT face=Arial size=2>-Hugh</FONT> 
</P></BLOCKQUOTE></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C16626.AFC63F00--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 14:00:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02913
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 14:00:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA21545
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 14:00:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21154;
	Mon, 5 Nov 2001 13:46:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21123
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 13:46:27 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02556
	for <sip@ietf.org>; Mon, 5 Nov 2001 13:46:25 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fA5Ik3X03731;
	Mon, 5 Nov 2001 10:46:03 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG52988;
	Mon, 5 Nov 2001 10:44:05 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA14741; Mon, 5 Nov 2001 10:44:40 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15334.56856.414205.56162@thomasm-u1.cisco.com>
Date: Mon, 5 Nov 2001 10:44:40 -0800 (PST)
To: "Vesa Torvinen (LMF)" <Vesa.Torvinen@lmf.ericsson.se>
Cc: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <29F33B0CF787D51195FC0002A56B3DC11420AC@efijont103>
References: <29F33B0CF787D51195FC0002A56B3DC11420AC@efijont103>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Vesa Torvinen (LMF) writes:
 > I don't understand how a SIP entity can trust on Via or various URI fields/parameters. For example, an untrustworthy proxy could change these fields making a SIP entity downstream believe that TLS was used for certain hops (and change them back to original when the messages are delivered back to upstream). Shouldn't you somehow protect all those fields/parameter which you wanted to use to determine anything about security? 
 > 
 > At least the protection of Via headers sounds a bit complicated because they are added by every proxy... 

  You are correct. In order to protect via's, you need some
  mechanism for each proxy to sign their via. Before we
  went there though, I think that the real life threats
  would need to be examine very carefully. I'm somewhat
  doubtful that it's high on the threat list considering
  that most SIP traffic is sent in the clear :-)

	    Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 14:00:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02932
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 14:00:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA21672
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 14:00:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21200;
	Mon, 5 Nov 2001 13:47:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21171
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 13:47:12 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02580
	for <sip@ietf.org>; Mon, 5 Nov 2001 13:47:07 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fA5IkdT09454;
	Mon, 5 Nov 2001 10:46:39 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG53061;
	Mon, 5 Nov 2001 10:46:01 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA14744; Mon, 5 Nov 2001 10:46:36 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15334.56972.712999.681736@thomasm-u1.cisco.com>
Date: Mon, 5 Nov 2001 10:46:36 -0800 (PST)
To: Michael Thomas <mat@cisco.com>
Cc: "Peterson, Jon" <jon.peterson@neustar.com>,
        "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <15334.53131.199188.619544@thomasm-u1.cisco.com>
References: <70565611B164D511957A001083FCDD56CAABE8@va02.va.neustar.com>
	<15334.53131.199188.619544@thomasm-u1.cisco.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Michael Thomas writes:
 > Before we went there, I'd want to be
 > convinced that base transport mode IPsec minus key
 > distribution, tunnels, minimal crypto support etc,
 > is in fact significantly smaller than a customized
 > application layer crypto solution. While I'm
 > willing to believe the "smaller" part, I'm pretty
 > dubious about the "significant" part.

   Argh. *Larger*.

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 14:12:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA03525
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 14:12:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA22089
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 14:13:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21323;
	Mon, 5 Nov 2001 13:53:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21226
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 13:53:35 -0500 (EST)
Received: from redmailwall3.attws.com (redmailwall3.attws.com [199.108.253.114])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02757
	for <sip@ietf.org>; Mon, 5 Nov 2001 13:53:32 -0500 (EST)
Received: from viruswall1.entp.attws.com (viruswall1 [135.214.40.161])
	by redmailwall3.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA5IqoR12120;
	Mon, 5 Nov 2001 10:52:50 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall1.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA5Iqjn17896; Mon, 5 Nov 2001 10:52:45 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id KAA14731;
	Mon, 5 Nov 2001 10:52:50 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <WHNSGXSP>; Mon, 5 Nov 2001 10:52:51 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC033976A2@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        "Peterson, Jon"
	 <jon.peterson@neustar.com>
Cc: "'Jari Arkko'" <jari.arkko@kolumbus.fi>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 10:52:50 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1662B.114AB4A0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1662B.114AB4A0
Content-Type: text/plain

Mike,

I totally agree with you here. I would also like to know what should we
recommend for secure UDP transport since UDP has to be supported by all SIP
element at a minimum.  
Complexity of IKE does not mean the complexity of IPsec. There are other
ways to setup the security Association for IPsec. 3GPP is considering to
support IPsec in the terminal with a security mode setup other than IKE. 
It took quite a few years for IPsec to be considered generally mature, it
will take a few years for any new application level hop-by-hop protocol to
reach that mature status.

-Hugh

-----Original Message-----
From: Michael Thomas [mailto:mat@cisco.com]
Sent: Monday, November 05, 2001 9:43 AM
To: Peterson, Jon
Cc: 'Jari Arkko'; Shieh, Hugh; sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP



I frankly think that TLS is a non-starter since it
doesn't work with UDP. Henning disagrees, but I've
yet to hear what should be RECOMMENDED for UDP.
IPsec at least meets the UDP requirement, but
there seems to be a fair amount of concern that
it's too heavy weight. The other alternative is
doing something at application level for
hop-by-hop. Before we went there, I'd want to be
convinced that base transport mode IPsec minus key
distribution, tunnels, minimal crypto support etc,
is in fact significantly smaller than a customized
application layer crypto solution. While I'm
willing to believe the "smaller" part, I'm pretty
dubious about the "significant" part.

Also: KINK gives IPsec the ability to create SA's
in two messages (as opposed to 8-9 for IKE and,
what, 4-5 for TLS?) without *any* public key
cryptography. Manual keying is also possible,
and I'm sure that somebody is going to eventually
start keying up SA's with AAA (which I would be
a lot more receptive to if they actually
confronted the general problem rather than the
one-off hacks they're doing for, say, MIP).

	      Mike

Peterson, Jon writes:
 > The proposed RECOMMENDED for TLS is not without controversy - there are a
 > number of diverse architectures in which SIP will undoubtedly be
deployed,
 > and it is tough to say whether any recommendation should be made at all
 > since nothing will satisfy the requirements of every architecture. 
 > 
 > So why recommend TLS for SIP (as opposed to IPSec)? Three reasons come to
 > mind that, while they are necessarily somewhat general, apply to the most
 > common architectures in which TLS and IPSec are used:
 > 
 > - Because TLS secures just a single SIP connection. rfc2543bis should
 > provide a means of securing SIP that is independent of securing other
 > services or connections. In some architectures it would be a serious flaw
if
 > the security association that allows you to authenticate SIP messages
sent
 > to a proxy were also used to authenticate, say, telnet sessions to a
proxy -
 > but this is often desirable for architectures in which IPSec is used.
 > 
 > - Because use of TLS is reflected in the SIP protocol. The application
 > therefore has direct knowledge of the use of a secure transmission
 > mechanism, and uses this knowledge to populate the 'sent-protocol' in Via
 > headers or the 'transport-param' in various URI. In fact, an application
 > could even inspect the trail of Via headers to determine how many hops of
a
 > signaling chain went over TLS. In many IPSec VPN architectures,
 > authentication and encryption are performed outside the context of the
 > application (at an operating system level, or even on a separate network
 > host) - precluding any application-layer visibility into security
 > associations.
 > 
 > - Because a proxy server or user agent might not just want to know THAT a
 > message was authenticated, but WHAT identity that authentication proved.
 > Again, in many IPSec architectures when authentication is performed
outside
 > the context of the SIP application, the application has no way to gain
 > access to this identity. A proxy server or user agent may want to make
 > behavioral decisions based on policies that apply to the identity of
 > requestors. This isn't to say that TLS doesn't admit of architectures in
 > which streams are aggregated or the identity of the originating party is
not
 > passed to applications that want to view them for whatever reason, but it
 > seems easier for a TLS proxy to introduce some token into SIP signaling
 > identifying the originator of the request than it would be for, say, a
 > router implementing an IPSec VPN.
 > 
 > I understand why 3G mobile networks (which have something in common with
 > large VPNs) might want to use IPSec for security - it is perfectly valid
for
 > a great number of architectures. The reasons given above are necessarily
 > generalizations, and nothing in rfc2543bis05 is intended to discourage
the
 > use of IPSec when appropriate. Some parties working on the SIP standard
just
 > felt that SIP should have a 'story' about non-HTTP-based security that
went
 > beyond some hand-waving about lower layers taking care of it. Of course,
 > that's why it isn't a MUST, or even a SHOULD - just a RECOMMENDED.
 > 
 > I'd be interested to hear how others feel about the use of RECOMMENDED
for
 > TLS, or indeed the whole discussion of TLS and IPSec (given that the text
 > always could use some improvements and tweaking). Is it useful to have
any
 > recommendation here? Or even a discussion of these two popular
alternatives?
 > 
 > 
 > As for e2e security, there is now a mention in 20.3 of secure MIME types,
 > which are probably as close as we'll get to e2e signaling security. The
 > problem of header transparency in useful SIP architectures really
precludes
 > encrypting most of the headers - although secure MIME types might be able
to
 > assist this in some fashion.
 > 
 > Jon Peterson
 > NeuStar, Inc
 > 
 > > -----Original Message-----
 > > From: Jari Arkko [mailto:jari.arkko@kolumbus.fi]
 > > Sent: Friday, November 02, 2001 11:07 PM
 > > To: Shieh, Hugh; sip@ietf.org
 > > Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
 > > 
 > > 
 > > [Sip] Bis-5: TLS as secure transport for SIP
 > > I have been wondering about this too, and have the same 
 > > questions as Hugh
 > > did. Furthermore, I have trouble understanding the trust 
 > > model explanations in
 > > lines 2967-2973. TLS and IPsec are both hop-by-hop models, so 
 > > they're both
 > > suited to environments where either one hop is sufficient 
 > > protection, or where
 > > you have some chain of trust. (One true difference the text 
 > > neglects to mention
 > > that TLS could be run in a one-sided manner with certs only 
 > > the server side and
 > > HTTP authentication to the other direction, which eases its 
 > > deployment in
 > > situations where you have a large number of clients towards a 
 > > small number of
 > > servers.)
 > > 
 > > Trouble is, I'm not very happy about either TLS or IPsec/IKE 
 > > on the client
 > > side, if we are talking about the wireless environment. 
 > > Delays, need to
 > > do public key cryptography, etc seem hard issues and I'm not sure we
 > > really need them.
 > > 
 > > As for the communication between servers and proxies there's 
 > > also a couple
 > > of hard requirements to handle. For instance, as [1 sec 6.24] 
 > > points out, there
 > > is a need to make it scalable to a large number of nodes. 
 > > IPsec generally
 > > can deal with this better given that it is typically placed 
 > > on security gateways,
 > > possibly hiding many proxies of an operator behind it. Plus, 
 > > you can tackle
 > > other important traffic within the same tunnels.
 > > 
 > > In the third generation mobile networks, IPsec is going to be used as
 > > a protection to get the network elements talk to each other securely.
 > > For the communication to the 3g terminals, I think we need something
 > > more lightweight than TLS or IPsec/IKE. Perhaps improved versions of
 > > HTTP Digest could do the job. How are we by the way progressing on 
 > > the Undery draft and other proposals in this direction? Are 
 > > they going to be
 > > integrated to RFC 2543 BIS or not?
 > > 
 > > Finally, I think all of this h2h is necessary but I wish we 
 > > could be making
 > > some progress in end-to-end security for SIP as well. I don't 
 > > always see
 > > myself trusting those proxy chains...
 > > 
 > > Jari
 > > [1] 
 > > http://www.ietf.org/internet-drafts/draft-garcia-sipping-3gpp-
 > reqs-00.txt
 > 
 > 
 > 
 > 
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip
 > 
 > _______________________________________________
 > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
 > This list is for NEW development of the core SIP Protocol
 > Use sip-implementors@cs.columbia.edu for questions on current sip
 > Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C1662B.114AB4A0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-5: TLS as secure transport for SIP</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Mike,</FONT>
</P>

<P><FONT SIZE=3D2>I totally agree with you here. I would also like to =
know what should we recommend for secure UDP transport since UDP has to =
be supported by all SIP element at a minimum.&nbsp; </FONT></P>

<P><FONT SIZE=3D2>Complexity of IKE does not mean the complexity of =
IPsec. There are other ways to setup the security Association for =
IPsec. 3GPP is considering to support IPsec in the terminal with a =
security mode setup other than IKE. </FONT></P>

<P><FONT SIZE=3D2>It took quite a few years for IPsec to be considered =
generally mature, it will take a few years for any new application =
level hop-by-hop protocol to reach that mature status.</FONT></P>

<P><FONT SIZE=3D2>-Hugh</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Michael Thomas [<A =
HREF=3D"mailto:mat@cisco.com">mailto:mat@cisco.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Monday, November 05, 2001 9:43 AM</FONT>
<BR><FONT SIZE=3D2>To: Peterson, Jon</FONT>
<BR><FONT SIZE=3D2>Cc: 'Jari Arkko'; Shieh, Hugh; sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Sip] Bis-5: TLS as secure transport =
for SIP</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>I frankly think that TLS is a non-starter since =
it</FONT>
<BR><FONT SIZE=3D2>doesn't work with UDP. Henning disagrees, but =
I've</FONT>
<BR><FONT SIZE=3D2>yet to hear what should be RECOMMENDED for =
UDP.</FONT>
<BR><FONT SIZE=3D2>IPsec at least meets the UDP requirement, but</FONT>
<BR><FONT SIZE=3D2>there seems to be a fair amount of concern =
that</FONT>
<BR><FONT SIZE=3D2>it's too heavy weight. The other alternative =
is</FONT>
<BR><FONT SIZE=3D2>doing something at application level for</FONT>
<BR><FONT SIZE=3D2>hop-by-hop. Before we went there, I'd want to =
be</FONT>
<BR><FONT SIZE=3D2>convinced that base transport mode IPsec minus =
key</FONT>
<BR><FONT SIZE=3D2>distribution, tunnels, minimal crypto support =
etc,</FONT>
<BR><FONT SIZE=3D2>is in fact significantly smaller than a =
customized</FONT>
<BR><FONT SIZE=3D2>application layer crypto solution. While I'm</FONT>
<BR><FONT SIZE=3D2>willing to believe the &quot;smaller&quot; part, I'm =
pretty</FONT>
<BR><FONT SIZE=3D2>dubious about the &quot;significant&quot; =
part.</FONT>
</P>

<P><FONT SIZE=3D2>Also: KINK gives IPsec the ability to create =
SA's</FONT>
<BR><FONT SIZE=3D2>in two messages (as opposed to 8-9 for IKE =
and,</FONT>
<BR><FONT SIZE=3D2>what, 4-5 for TLS?) without *any* public key</FONT>
<BR><FONT SIZE=3D2>cryptography. Manual keying is also possible,</FONT>
<BR><FONT SIZE=3D2>and I'm sure that somebody is going to =
eventually</FONT>
<BR><FONT SIZE=3D2>start keying up SA's with AAA (which I would =
be</FONT>
<BR><FONT SIZE=3D2>a lot more receptive to if they actually</FONT>
<BR><FONT SIZE=3D2>confronted the general problem rather than =
the</FONT>
<BR><FONT SIZE=3D2>one-off hacks they're doing for, say, MIP).</FONT>
</P>

<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT =
SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mike</FONT>
</P>

<P><FONT SIZE=3D2>Peterson, Jon writes:</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; The proposed RECOMMENDED for TLS is not =
without controversy - there are a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; number of diverse architectures in which =
SIP will undoubtedly be deployed,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; and it is tough to say whether any =
recommendation should be made at all</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; since nothing will satisfy the =
requirements of every architecture. </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; So why recommend TLS for SIP (as opposed =
to IPSec)? Three reasons come to</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; mind that, while they are necessarily =
somewhat general, apply to the most</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; common architectures in which TLS and =
IPSec are used:</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; - Because TLS secures just a single SIP =
connection. rfc2543bis should</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; provide a means of securing SIP that is =
independent of securing other</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; services or connections. In some =
architectures it would be a serious flaw if</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; the security association that allows you =
to authenticate SIP messages sent</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; to a proxy were also used to =
authenticate, say, telnet sessions to a proxy -</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; but this is often desirable for =
architectures in which IPSec is used.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; - Because use of TLS is reflected in the =
SIP protocol. The application</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; therefore has direct knowledge of the use =
of a secure transmission</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; mechanism, and uses this knowledge to =
populate the 'sent-protocol' in Via</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; headers or the 'transport-param' in =
various URI. In fact, an application</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; could even inspect the trail of Via =
headers to determine how many hops of a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; signaling chain went over TLS. In many =
IPSec VPN architectures,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; authentication and encryption are =
performed outside the context of the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; application (at an operating system =
level, or even on a separate network</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; host) - precluding any application-layer =
visibility into security</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; associations.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; - Because a proxy server or user agent =
might not just want to know THAT a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; message was authenticated, but WHAT =
identity that authentication proved.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Again, in many IPSec architectures when =
authentication is performed outside</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; the context of the SIP application, the =
application has no way to gain</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; access to this identity. A proxy server =
or user agent may want to make</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; behavioral decisions based on policies =
that apply to the identity of</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; requestors. This isn't to say that TLS =
doesn't admit of architectures in</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; which streams are aggregated or the =
identity of the originating party is not</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; passed to applications that want to view =
them for whatever reason, but it</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; seems easier for a TLS proxy to introduce =
some token into SIP signaling</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; identifying the originator of the request =
than it would be for, say, a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; router implementing an IPSec VPN.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; I understand why 3G mobile networks =
(which have something in common with</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; large VPNs) might want to use IPSec for =
security - it is perfectly valid for</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; a great number of architectures. The =
reasons given above are necessarily</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; generalizations, and nothing in =
rfc2543bis05 is intended to discourage the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; use of IPSec when appropriate. Some =
parties working on the SIP standard just</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; felt that SIP should have a 'story' about =
non-HTTP-based security that went</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; beyond some hand-waving about lower =
layers taking care of it. Of course,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; that's why it isn't a MUST, or even a =
SHOULD - just a RECOMMENDED.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; I'd be interested to hear how others feel =
about the use of RECOMMENDED for</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; TLS, or indeed the whole discussion of =
TLS and IPSec (given that the text</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; always could use some improvements and =
tweaking). Is it useful to have any</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; recommendation here? Or even a discussion =
of these two popular alternatives?</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; As for e2e security, there is now a =
mention in 20.3 of secure MIME types,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; which are probably as close as we'll get =
to e2e signaling security. The</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; problem of header transparency in useful =
SIP architectures really precludes</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; encrypting most of the headers - although =
secure MIME types might be able to</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; assist this in some fashion.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Jon Peterson</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; NeuStar, Inc</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; From: Jari Arkko [<A =
HREF=3D"mailto:jari.arkko@kolumbus.fi">mailto:jari.arkko@kolumbus.fi</A>=
]</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Sent: Friday, November 02, 2001 =
11:07 PM</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; To: Shieh, Hugh; sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Subject: Re: [Sip] Bis-5: TLS as =
secure transport for SIP</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; [Sip] Bis-5: TLS as secure transport =
for SIP</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; I have been wondering about this =
too, and have the same </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; questions as Hugh</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; did. Furthermore, I have trouble =
understanding the trust </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; model explanations in</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; lines 2967-2973. TLS and IPsec are =
both hop-by-hop models, so </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; they're both</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; suited to environments where either =
one hop is sufficient </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; protection, or where</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; you have some chain of trust. (One =
true difference the text </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; neglects to mention</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; that TLS could be run in a one-sided =
manner with certs only </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; the server side and</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; HTTP authentication to the other =
direction, which eases its </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; deployment in</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; situations where you have a large =
number of clients towards a </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; small number of</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; servers.)</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Trouble is, I'm not very happy about =
either TLS or IPsec/IKE </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; on the client</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; side, if we are talking about the =
wireless environment. </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Delays, need to</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; do public key cryptography, etc seem =
hard issues and I'm not sure we</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; really need them.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; As for the communication between =
servers and proxies there's </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; also a couple</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; of hard requirements to handle. For =
instance, as [1 sec 6.24] </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; points out, there</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; is a need to make it scalable to a =
large number of nodes. </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; IPsec generally</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; can deal with this better given that =
it is typically placed </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; on security gateways,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; possibly hiding many proxies of an =
operator behind it. Plus, </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; you can tackle</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; other important traffic within the =
same tunnels.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; In the third generation mobile =
networks, IPsec is going to be used as</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; a protection to get the network =
elements talk to each other securely.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; For the communication to the 3g =
terminals, I think we need something</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; more lightweight than TLS or =
IPsec/IKE. Perhaps improved versions of</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; HTTP Digest could do the job. How =
are we by the way progressing on </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; the Undery draft and other proposals =
in this direction? Are </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; they going to be</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; integrated to RFC 2543 BIS or =
not?</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Finally, I think all of this h2h is =
necessary but I wish we </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; could be making</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; some progress in end-to-end security =
for SIP as well. I don't </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; always see</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; myself trusting those proxy =
chains...</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; Jari</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; [1] </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; &gt; <A =
HREF=3D"http://www.ietf.org/internet-drafts/draft-garcia-sipping-3gpp-" =
TARGET=3D"_blank">http://www.ietf.org/internet-drafts/draft-garcia-sippi=
ng-3gpp-</A></FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; reqs-00.txt</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; This list is for NEW development of the =
core SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Use sipping@ietf.org for new developments =
on the application of sip</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; This list is for NEW development of the =
core SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Use sipping@ietf.org for new developments =
on the application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1662B.114AB4A0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 14:48:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04957
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 14:48:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA22876
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 14:48:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA22603;
	Mon, 5 Nov 2001 14:30:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA22558
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 14:30:44 -0500 (EST)
Received: from pmesmtp02.wcom.com (pmesmtp02.wcom.com [199.249.20.2])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04024
	for <sip@ietf.org>; Mon, 5 Nov 2001 14:30:41 -0500 (EST)
Received: from dgismtp01.wcomnet.com ([166.38.58.141])
 by firewall.wcom.com (PMDF V5.2-32 #42257)
 with ESMTP id <0GMC00ND8E6D35@firewall.wcom.com> for sip@ietf.org; Mon,
 5 Nov 2001 19:30:13 +0000 (GMT)
Received: from dgismtp01.wcomnet.com by dgismtp01.wcomnet.com
 (PMDF V5.2-33 #42262) with SMTP id <0GMC00B01E6A77@dgismtp01.wcomnet.com> for
 sip@ietf.org; Mon, 05 Nov 2001 19:30:12 +0000 (GMT)
Received: from omzexch006.mcit.com ([166.37.194.37])
 by dgismtp01.wcomnet.com (PMDF V5.2-33 #42262)
 with ESMTP id <0GMC00992E5YP3@dgismtp01.wcomnet.com> for sip@ietf.org; Mon,
 05 Nov 2001 19:29:58 +0000 (GMT)
Received: by omzexch006 with Internet Mail Service (5.5.2653.19)
	id <VPQAKJ1M>; Mon, 05 Nov 2001 19:29:57 +0000
Content-return: allowed
Date: Mon, 05 Nov 2001 19:29:53 +0000
From: "McMurry, Kathleen" <Kathleen.McMurry@wcom.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Message-id: <492EB4A3F68CD411ABE800508B69362E605048@RIPEXCH002.wcomnet.com>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-type: multipart/alternative;
 boundary="Boundary_(ID_4BprBZayove4INffyvbp5w)"
Subject: [Sip] To tags in bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

--Boundary_(ID_4BprBZayove4INffyvbp5w)
Content-type: text/plain; charset=iso-8859-1

In bis-00, there was a clarification made that "proxies must insert To tags
for locally generated responses".  In bis-05, this requirement has been
removed (as has the requirement that a To tag should be inserted by a
redirect server and a registrar on responses).  I assume this change was
intentional,  but it is not listed in the "Changes Made in Version 05"
section.  Is there a problem with the proxy/redirect/registrar inserting a
To tag in a final response that is locally generated?


Thanks, Kathleen McMurry





--Boundary_(ID_4BprBZayove4INffyvbp5w)
Content-type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.59">
<TITLE>To tags in bis-05</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2 FACE=3D"Arial">In bis-00, there was a clarification =
made that &quot;proxies must insert To tags for locally generated =
responses&quot;.&nbsp; In bis-05, this requirement has been removed (as =
has the requirement that a To tag should be inserted by a redirect =
server and a registrar on responses).&nbsp; I assume this change was =
intentional,&nbsp; but it is not listed in the &quot;Changes Made in =
Version 05&quot; section.&nbsp; Is there a problem with the =
proxy/redirect/registrar inserting a To tag in a final response that is =
locally generated?</FONT></P>
<BR>

<P><FONT SIZE=3D2 FACE=3D"Arial">Thanks, Kathleen McMurry</FONT>
</P>
<BR>
<BR>
<BR>

</BODY>
</HTML>

--Boundary_(ID_4BprBZayove4INffyvbp5w)--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 15:51:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA07338
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 15:51:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA24324
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 15:51:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA24035;
	Mon, 5 Nov 2001 15:33:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA24004
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 15:33:33 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA06704
	for <sip@ietf.org>; Mon, 5 Nov 2001 15:33:30 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA5KVkVW004782;
	Mon, 5 Nov 2001 15:31:46 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX4GS>; Mon, 5 Nov 2001 15:33:02 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E75D@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'McMurry, Kathleen'" <Kathleen.McMurry@wcom.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] To tags in bis-05
Date: Mon, 5 Nov 2001 15:32:57 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16639.0E05E180"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16639.0E05E180
Content-Type: text/plain;
	charset="iso-8859-1"

The requirement was not removed.
 
When an element generates a response locally, it is not being a proxy - 
it being a UAS and must behave as described in section 8.2.6.
 
RjS

-----Original Message-----
From: McMurry, Kathleen [mailto:Kathleen.McMurry@wcom.com]
Sent: Monday, November 05, 2001 1:30 PM
To: 'sip@ietf.org'
Subject: [Sip] To tags in bis-05



In bis-00, there was a clarification made that "proxies must insert To tags
for locally generated responses".  In bis-05, this requirement has been
removed (as has the requirement that a To tag should be inserted by a
redirect server and a registrar on responses).  I assume this change was
intentional,  but it is not listed in the "Changes Made in Version 05"
section.  Is there a problem with the proxy/redirect/registrar inserting a
To tag in a final response that is locally generated?


Thanks, Kathleen McMurry 





------_=_NextPart_001_01C16639.0E05E180
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>To tags in bis-05</TITLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff size=2>The 
requirement was not removed.</FONT></SPAN></DIV>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff 
size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff size=2>When 
an element generates a response locally, it is not being a proxy - 
</FONT></SPAN></DIV>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff size=2>it 
being a UAS and must behave as described in section 8.2.6.</FONT></SPAN></DIV>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff 
size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=725214319-05112001><FONT face=Arial color=#0000ff 
size=2>RjS</FONT></SPAN></DIV>
<BLOCKQUOTE 
style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid">
  <DIV class=OutlookMessageHeader dir=ltr align=left><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> McMurry, Kathleen 
  [mailto:Kathleen.McMurry@wcom.com]<BR><B>Sent:</B> Monday, November 05, 2001 
  1:30 PM<BR><B>To:</B> 'sip@ietf.org'<BR><B>Subject:</B> [Sip] To tags in 
  bis-05<BR><BR></FONT></DIV>
  <P><FONT face=Arial size=2>In bis-00, there was a clarification made that 
  "proxies must insert To tags for locally generated responses".&nbsp; In 
  bis-05, this requirement has been removed (as has the requirement that a To 
  tag should be inserted by a redirect server and a registrar on 
  responses).&nbsp; I assume this change was intentional,&nbsp; but it is not 
  listed in the "Changes Made in Version 05" section.&nbsp; Is there a problem 
  with the proxy/redirect/registrar inserting a To tag in a final response that 
  is locally generated?</FONT></P><BR>
  <P><FONT face=Arial size=2>Thanks, Kathleen McMurry</FONT> 
</P><BR><BR><BR></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C16639.0E05E180--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 18:04:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10213
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 18:04:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA27660
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 18:04:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA27105;
	Mon, 5 Nov 2001 17:39:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA27075
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 17:39:39 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09966
	for <sip@ietf.org>; Mon, 5 Nov 2001 17:39:36 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fA5MclJ00663; Mon, 5 Nov 2001 17:38:47 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: "sip-ietf \(E-mail\)" <sip@ietf.org>
Date: Mon, 5 Nov 2001 17:40:33 -0500
Message-ID: <000801c1664a$e1b6ef40$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Subject: [Sip] Via received and DNS advancing for responses
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Sections 24 and 19.2.2 of rfc2543bis-05 
discuss how DNS and the Via-received can 
be used to identify the destination address 
that should be used when sending a response.  
These sections make it clear that ICMP 
failure can cause the need to try the 
next-hop for both requests and responses.  
Is line 4179 indicating that next-hop 
advancement cannot be done based upon 
timeouts when sending responses?


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 18:23:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10379
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 18:23:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA28001
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 18:23:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27711;
	Mon, 5 Nov 2001 18:05:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27680
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 18:05:55 -0500 (EST)
Received: from oe-mp2.bizmailsrvcs.net (oe-mp2pub.managedmail.com [206.46.164.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10229
	for <sip@ietf.org>; Mon, 5 Nov 2001 18:05:44 -0500 (EST)
Received: from oe-ismta2.bizmailsrvcs.net ([206.46.164.27])
          by oe-mp2.bizmailsrvcs.net
          (InterMail vM.5.01.03.13 201-253-122-118-113-20010918) with ESMTP
          id <20011105230419.RMNV4901.oe-mp2.bizmailsrvcs.net@oe-ismta2.bizmailsrvcs.net>
          for <sip@ietf.org>; Mon, 5 Nov 2001 17:04:19 -0600
Received: from tharvinis ([206.35.147.89]) by oe-ismta2.bizmailsrvcs.net
          (InterMail vM.5.01.03.13 201-253-122-118-113-20010918) with SMTP
          id <20011105230319.GOVN20995.oe-ismta2.bizmailsrvcs.net@tharvinis>
          for <sip@ietf.org>; Mon, 5 Nov 2001 17:03:19 -0600
From: "Theodore Havinis" <theodore.havinis@openwave.com>
To: <sip@ietf.org>
Date: Mon, 5 Nov 2001 15:09:31 -0800
Message-ID: <HGEEIPGONFIJJIPDDDDOEEOHCKAA.theodore.havinis@openwave.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Question on draft-ietf-sip-privacy-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


I have a question regarding chapter 6.2 UAS Behaviour and in particular in
the paragraph
where its stated that....

..."If the initial INVITE contained a Proxy-Require header field with an
option tag of "privacy", the UAS SHOULD insert a called subscriber
Remote-Party-ID header field identifying itself into the first non-
100 response it sends back through its trusted proxy."

I guess I am missing the point of why should the UAS identify itself. Could
somebody
explain to me pls ?



Kind Rgds
Theodore

_____________________________________

Theodore V. Havinis
Openwave Systems Inc.

1400 Seaport Blvd.
Redwood City, CA 94063,
USA

email: theodore.havinis@openwave.com
mobile: (650) 776-7249
fixed : (650) 480-2628
GSM:    (+44) 77-4073-5811
http://www.openwave.com
_____________________________________





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 18:35:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10544
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 18:35:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA28551
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 18:35:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27985;
	Mon, 5 Nov 2001 18:22:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA27956
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 18:22:36 -0500 (EST)
Received: from fox.iptel.org (fox.iptel.org [195.37.77.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10371
	for <sip@ietf.org>; Mon, 5 Nov 2001 18:22:33 -0500 (EST)
Received: from jku.iptel.org ([63.113.46.204])
	by fox.iptel.org (8.11.6/8.11.6) with ESMTP id fA5NLvh30199;
	Tue, 6 Nov 2001 00:21:57 +0100
Message-Id: <5.1.0.14.0.20011105204451.03a2e2a8@iptel.org>
X-Sender: jiri@iptel.org
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Mon, 05 Nov 2001 23:23:48 +0100
To: Vijay Gurbani <vkg@lucent.com>
From: Jiri Kuthan <jiri@iptel.org>
Subject: Re: [Sip] 4xx by stateless proxy
Cc: sip@ietf.org
In-Reply-To: <3BE6A210.30899660@lucent.com>
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Vijay,

assume having a stateless redirect server is a useful thing. I think
that in some scenarios a stateless request-reply service scales better
and is more robust than a public state storage service. This is where
I see its value.

It is difficult for me to find a use for ACK which is meant to tell 
stateful server "take it easy,  the client got it and you can stop 
retransmitting". A stateless server does not retranmist a message it 
does not remember. Thus, it does not need to be told to stop doing so. 
If a message gets lost, then the client who is primarily interested 
in seeing a reponse simply retransmits.

So what does break with a "stateless ACK eater"?

(I think CANCEL is clear now ... 481 is probably adequate if a client
 attempts to cancel provisional state which has never been estabslihed.)

Thanks,

-Jiri


At 03:28 PM 11/5/2001, Vijay Gurbani wrote:
>Jiri Kuthan wrote:
>> Why is a redirect server expected to be stateful
>> (bis-05, Section 8.3)? 
>
>Because it must match up the incoming ACK to the 3xx it send in response.  
>Recall that the ACK is part of the same INVITE transaction in case of a 
>non-2xx response.  Furthermore, it must also be able to match up a CANCEL, 
>if one should arrive, to the INVITE, and stop further processing of the
>INVITE.
[...]

At 04:09 PM 11/5/2001, Vijay Gurbani wrote:
>> I guess the question is: what will terribly happen if one just "eats"
>> the ACK? 
>
>Well, in the case of a non-2xx response, ACK basically is used on the server
>end to stop retx'ing (if UDP is being used as the transport).  
[...]
>Unless you
>are working on a lossless network, I don't think you can be sure that the
>3xx send upstream over UDP actually made it.  
>The ACK serves as that not-
>ification.



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 18:44:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10640
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 18:44:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA28637
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 18:44:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA28444;
	Mon, 5 Nov 2001 18:31:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA28414
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 18:31:30 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10470
	for <sip@ietf.org>; Mon, 5 Nov 2001 18:31:27 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA5NTiVW005978;
	Mon, 5 Nov 2001 18:29:44 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX4XM>; Mon, 5 Nov 2001 18:31:01 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'"
	 <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 18:30:54 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



  
-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Monday, November 05, 2001 1:21 PM
To: 'Peterson, Jon'; 'Shieh, Hugh'; 'sip@ietf.org'
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP


>See
>The characterization of TLS as a transport protocol "like TCP and UDP"
derives first and 
>foremost from the fact that 'tls' is a valid token that can appear in the
'transport-
>param' parameter of a URL (as can 'udp', 'tcp' or 'sctp') or
'sent-protocol' field of a Via 
>header. SIP-over-TLS has an assigned port (5061). It is assumed in the SIP
standard (as it 
>is elsewhere in Internet standards) that TLS is running over TCP. The
authors of bis are 
>aware that TLS does not run over UDP.
>
>[Shieh, Hugh]  Will the authors of bis recommend a secure transport for
UDP? Or by 
>recommending TLS, the authors recommend TCP instead of UDP as the
recommended SIP transport 
>protocol?

In the case of secured interconnects between proxies that have some kind of
administratively agreed upon security relationship, I don't see a whole lot
of reason for UDP as opposed to TCP. The connections can be set up ahead of
time, or on the first call, and then reused as needed. I am sure people will
dredge up the old HOL blocking issues with TCP. I still am waiting for
specific analysis on the impact on sip call set up time distributions. That
said, TLS over SCTP would be another option, but is not specified as far as
I know.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 19:09:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11075
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 19:09:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29561
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 19:09:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA28725;
	Mon, 5 Nov 2001 18:49:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA28694
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 18:49:04 -0500 (EST)
Received: from east.east.isi.edu (porter.east.isi.edu [65.114.168.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA10749
	for <sip@ietf.org>; Mon, 5 Nov 2001 18:49:00 -0500 (EST)
Received: from porter (localhost [127.0.0.1])
	by east.east.isi.edu (8.11.3/8.11.3) with ESMTP id fA5Nn2R17843;
	Mon, 5 Nov 2001 18:49:02 -0500 (EST)
Message-Id: <200111052349.fA5Nn2R17843@east.east.isi.edu>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
cc: jon.peterson@neustar.com, sip@ietf.org, Michael.Tuexen@icn.siemens.de,
        ajung@exp-math.uni-essen.de
Reply-To: mankin@isi.edu
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP 
In-reply-to: Your message of Mon, 05 Nov 2001 18:30:54 -0500.
             <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com> 
Date: Mon, 05 Nov 2001 18:49:02 -0500
From: Allison Mankin <mankin@east.isi.edu>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


> That said, TLS over SCTP would be another option, but is not specified 
> as far as I know.

draft-tuexen-tsvwg-tls-over-sctp-00.txt

A chartered work item in TSVWG - new draft was expected...

------

> 
> In the case of secured interconnects between proxies that have some kind of
> administratively agreed upon security relationship, I don't see a whole lot
> of reason for UDP as opposed to TCP. The connections can be set up ahead of
> time, or on the first call, and then reused as needed. I am sure people will
> dredge up the old HOL blocking issues with TCP. I still am waiting for
> specific analysis on the impact on sip call set up time distributions. That
> said, TLS over SCTP would be another option, but is not specified as far as
> I know.
> 
> -Jonathan R.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 19:22:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11236
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 19:22:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29687
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 19:22:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29495;
	Mon, 5 Nov 2001 19:07:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29464
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 19:07:12 -0500 (EST)
Received: from sj-msg-core-3.cisco.com (sj-msg-core-3.cisco.com [171.70.157.152])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11021
	for <sip@ietf.org>; Mon, 5 Nov 2001 19:07:10 -0500 (EST)
Received: from sj-msg-av-3.cisco.com (sj-msg-av-3.cisco.com [171.69.17.42])
	by sj-msg-core-3.cisco.com (8.11.3/8.9.1) with ESMTP id fA602IM27838;
	Mon, 5 Nov 2001 16:04:30 -0800 (PST)
Received: from mailman.cisco.com (localhost [127.0.0.1])
	by sj-msg-av-3.cisco.com (8.10.1/8.10.1) with ESMTP id fA604Pu10145;
	Mon, 5 Nov 2001 16:04:25 -0800 (PST)
Received: from cisco.com (ssh-sj1.cisco.com [171.68.225.134]) by mailman.cisco.com (8.9.3/CISCO.SERVER.1.2) with ESMTP id QAA25746; Mon, 5 Nov 2001 16:04:23 -0800 (PST)
Message-ID: <3BE7298A.6075830F@cisco.com>
Date: Mon, 05 Nov 2001 19:06:35 -0500
From: Flemming Andreasen <fandreas@cisco.com>
Organization: Cisco Systems
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Theodore Havinis <theodore.havinis@openwave.com>
CC: sip@ietf.org
Subject: Re: [Sip] Question on draft-ietf-sip-privacy-02
References: <HGEEIPGONFIJJIPDDDDOEEOHCKAA.theodore.havinis@openwave.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Theodore Havinis wrote:

> I have a question regarding chapter 6.2 UAS Behaviour and in particular in
> the paragraph
> where its stated that....
>
> ..."If the initial INVITE contained a Proxy-Require header field with an
> option tag of "privacy", the UAS SHOULD insert a called subscriber
> Remote-Party-ID header field identifying itself into the first non-
> 100 response it sends back through its trusted proxy."
>
> I guess I am missing the point of why should the UAS identify itself. Could
> somebody
> explain to me pls ?
>

Mutual authentication (although admittedly rather weak in its current form). If
I as the calling party will divulge sensitive information to the called party,
I may wish to ensure that the party I reached is indeed the party I called.

-- Flemming


>
> Kind Rgds
> Theodore
>
> _____________________________________
>
> Theodore V. Havinis
> Openwave Systems Inc.
>
> 1400 Seaport Blvd.
> Redwood City, CA 94063,
> USA
>
> email: theodore.havinis@openwave.com
> mobile: (650) 776-7249
> fixed : (650) 480-2628
> GSM:    (+44) 77-4073-5811
> http://www.openwave.com
> _____________________________________
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--
Flemming Andreasen
Cisco Systems



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 19:23:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11251
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 19:23:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29701
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 19:23:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29542;
	Mon, 5 Nov 2001 19:08:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29511
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 19:08:11 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11035
	for <sip@ietf.org>; Mon, 5 Nov 2001 19:08:10 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fA603wa19350;
	Mon, 5 Nov 2001 16:03:58 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG62855;
	Mon, 5 Nov 2001 16:03:21 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id QAA14829; Mon, 5 Nov 2001 16:03:56 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15335.10476.310600.301876@thomasm-u1.cisco.com>
Date: Mon, 5 Nov 2001 16:03:56 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'"
	 <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > In the case of secured interconnects between proxies that have some kind of
 > administratively agreed upon security relationship, I don't see a whole lot
 > of reason for UDP as opposed to TCP. The connections can be set up ahead of
 > time, or on the first call, and then reused as needed. I am sure people will
 > dredge up the old HOL blocking issues with TCP. I still am waiting for
 > specific analysis on the impact on sip call set up time distributions. That
 > said, TLS over SCTP would be another option, but is not specified as far as
 > I know.

   TLS requires 4 messages, and TCP requires 3
   so it's 7 messages before an application can
   send data. With KINK, the application starts
   sending data after the second message is
   received, eliminating 5 messages or so. If
   you require TCP or SCTP, it goes up to 5.

	       Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 19:23:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11272
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 19:23:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29715
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 19:23:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29220;
	Mon, 5 Nov 2001 19:04:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29189
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 19:03:56 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA10920
	for <sip@ietf.org>; Mon, 5 Nov 2001 19:03:22 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA5NtWV15598;
	Mon, 5 Nov 2001 18:55:32 -0500 (EST)
Message-ID: <3BE726F4.174CDDC6@cs.columbia.edu>
Date: Mon, 05 Nov 2001 18:55:32 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
References: <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 

> time, or on the first call, and then reused as needed. I am sure people will
> dredge up the old HOL blocking issues with TCP. I still am waiting for

Gonzalo Camarillo has done a number of simulations on this here at
Columbia; he should summarize the details, but my summary is "you have
to try really, really hard for it to make a difference".

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 19:25:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11293
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 19:25:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA29734
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 19:25:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29617;
	Mon, 5 Nov 2001 19:12:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA29586
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 19:11:58 -0500 (EST)
Received: from oe-mp2.bizmailsrvcs.net (oe-mp2pub.managedmail.com [206.46.164.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA11104
	for <sip@ietf.org>; Mon, 5 Nov 2001 19:11:56 -0500 (EST)
Received: from oe-ismta2.bizmailsrvcs.net ([206.46.164.27])
          by oe-mp2.bizmailsrvcs.net
          (InterMail vM.5.01.03.13 201-253-122-118-113-20010918) with ESMTP
          id <20011106001026.SRDS4901.oe-mp2.bizmailsrvcs.net@oe-ismta2.bizmailsrvcs.net>;
          Mon, 5 Nov 2001 18:10:26 -0600
Received: from tharvinis ([206.35.147.89]) by oe-ismta2.bizmailsrvcs.net
          (InterMail vM.5.01.03.13 201-253-122-118-113-20010918) with SMTP
          id <20011106000927.GRQI20995.oe-ismta2.bizmailsrvcs.net@tharvinis>;
          Mon, 5 Nov 2001 18:09:27 -0600
From: "Theodore Havinis" <theodore.havinis@openwave.com>
To: "Flemming Andreasen" <fandreas@cisco.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] Question on draft-ietf-sip-privacy-02
Date: Mon, 5 Nov 2001 16:15:38 -0800
Message-ID: <HGEEIPGONFIJJIPDDDDOEEOICKAA.theodore.havinis@openwave.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <3BE7298A.6075830F@cisco.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Ok, thanks.

Would be nice, if this point is made clear in the
draft.

Kind Rgds
Theodore

>-----Original Message-----
>From: Flemming Andreasen [mailto:fandreas@cisco.com]
>Sent: Monday, November 05, 2001 4:07 PM
>To: Theodore Havinis
>Cc: sip@ietf.org
>Subject: Re: [Sip] Question on draft-ietf-sip-privacy-02
>
>
>
>
>Theodore Havinis wrote:
>
>> I have a question regarding chapter 6.2 UAS Behaviour and in
>particular in
>> the paragraph
>> where its stated that....
>>
>> ..."If the initial INVITE contained a Proxy-Require header field with an
>> option tag of "privacy", the UAS SHOULD insert a called subscriber
>> Remote-Party-ID header field identifying itself into the first non-
>> 100 response it sends back through its trusted proxy."
>>
>> I guess I am missing the point of why should the UAS identify
>itself. Could
>> somebody
>> explain to me pls ?
>>
>
>Mutual authentication (although admittedly rather weak in its
>current form). If
>I as the calling party will divulge sensitive information to the
>called party,
>I may wish to ensure that the party I reached is indeed the party I called.
>
>-- Flemming
>
>
>>
>> Kind Rgds
>> Theodore
>>
>> _____________________________________
>>
>> Theodore V. Havinis
>> Openwave Systems Inc.
>>
>> 1400 Seaport Blvd.
>> Redwood City, CA 94063,
>> USA
>>
>> email: theodore.havinis@openwave.com
>> mobile: (650) 776-7249
>> fixed : (650) 480-2628
>> GSM:    (+44) 77-4073-5811
>> http://www.openwave.com
>> _____________________________________
>>
>> _______________________________________________
>> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>> This list is for NEW development of the core SIP Protocol
>> Use sip-implementors@cs.columbia.edu for questions on current sip
>> Use sipping@ietf.org for new developments on the application of sip
>
>--
>Flemming Andreasen
>Cisco Systems
>
>
>




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 23:18:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA15677
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 23:18:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA03942
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 23:18:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA03871;
	Mon, 5 Nov 2001 23:02:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA03836
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 23:02:04 -0500 (EST)
Received: from pine.il.neustar.com (pine.neustar.com [209.173.57.70])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA15568
	for <sip@ietf.org>; Mon, 5 Nov 2001 23:01:59 -0500 (EST)
Received: from chiimc01.il.neustar.com (dmz1.il.neustar.com [209.173.57.65])
	by pine.il.neustar.com (8.11.0/8.11.0) with ESMTP id fA641uj03340;
	Mon, 5 Nov 2001 22:01:56 -0600
Received: by chiimc01.il.neustar.com with Internet Mail Service (5.5.2653.19)
	id <WFVKVJTV>; Mon, 5 Nov 2001 22:00:39 -0600
Message-ID: <70565611B164D511957A001083FCDD56CAAC06@va02.va.neustar.com>
From: "Peterson, Jon" <jon.peterson@neustar.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        "Vesa Torvinen (LMF)"
	 <Vesa.Torvinen@lmf.ericsson.se>
Cc: "'Jari Arkko'" <jari.arkko@kolumbus.fi>,
        "Shieh, Hugh"
	 <hugh.shieh@attws.com>, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 21:59:39 -0600 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Well, I was speaking offhand about user agents inspecting Vias and so forth
- just to be clear this practice isn't suggested as a security procedure in
the SIP standard. For one thing, it isn't symmetrical - the initiator of a
request never gets to see those Vias. Also, the presence of a Via header
does not mandate how responses will be routed.

But that much said, any sort of hop-by-hop security across administrative
domains is based on transitivity of trust. If you want to take advantage of
SIP proxy servers for routing, you need to trust them (cryptographically).
You protect the headers of your message by sending them securely to a proxy
you trust, one that will be similarly responsible in relaying the message to
its peers. 

It isn't clear to me that, for example, signing each Via header would
provide much better Via security for this sort of concern than hop-by-hop
TLS. True, you get to evaluate each hop's credentials independently, but if
you assume untrustworthy hosts have access to credentials that you trust
(like the example below, in which an upstream proxy in the chain of trust is
malicious), then that may not make much of a difference in ensuring
integrity or confidentiality.

Jon Peterson
NeuStar, Inc

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: Monday, November 05, 2001 10:45 AM
> To: Vesa Torvinen (LMF)
> Cc: 'Peterson, Jon'; 'Jari Arkko'; Shieh, Hugh; sip@ietf.org
> Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
> 
> 
> Vesa Torvinen (LMF) writes:
>  > I don't understand how a SIP entity can trust on Via or 
> various URI fields/parameters. For example, an untrustworthy 
> proxy could change these fields making a SIP entity 
> downstream believe that TLS was used for certain hops (and 
> change them back to original when the messages are delivered 
> back to upstream). Shouldn't you somehow protect all those 
> fields/parameter which you wanted to use to determine 
> anything about security? 
>  > 
>  > At least the protection of Via headers sounds a bit 
> complicated because they are added by every proxy... 
> 
>   You are correct. In order to protect via's, you need some
>   mechanism for each proxy to sign their via. Before we
>   went there though, I think that the real life threats
>   would need to be examine very carefully. I'm somewhat
>   doubtful that it's high on the threat list considering
>   that most SIP traffic is sent in the clear :-)
> 
> 	    Mike
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov  5 23:21:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA15726
	for <sip-archive@odin.ietf.org>; Mon, 5 Nov 2001 23:21:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA03977
	for sip-archive@odin.ietf.org; Mon, 5 Nov 2001 23:21:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA03832;
	Mon, 5 Nov 2001 23:01:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA03801
	for <sip@optimus.ietf.org>; Mon, 5 Nov 2001 23:01:54 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA15565
	for <sip@ietf.org>; Mon, 5 Nov 2001 23:01:50 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id UAA27937 for <sip@ietf.org>; Mon, 5 Nov 2001 20:01:23 -0800 (PST)
Message-Id: <4.1.20011105215440.02b4efc0@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Mon, 05 Nov 2001 22:01:15 -0600
To: <sip@ietf.org>
From: "James M. Polk" <jmpolk@cisco.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_42872637==_.ALT"
Subject: [Sip] Bis[5] NIT - Priority Header Values inconsistent
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_42872637==_.ALT
Content-Type: text/plain; charset="us-ascii"

The Priority Request-Header values are inconsistent in this version:

Section 22.25 mentions the 4 values from RFC2543 (Emergency, Urgent, Normal and
Non-urgent) on page 143; 

Yet page 185 has 5 values: the inclusion of "other-priority  =  token" is added
to the above 4.
*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_42872637==_.ALT
Content-Type: text/html; charset="us-ascii"

<html>
The Priority Request-Header values are inconsistent in this 
version:<br>
<br>
Section 22.25 mentions the 4 values from RFC2543 (Emergency, Urgent,
Normal and Non-urgent) on page 143; <br>
<br>
Yet page 185 has 5 values: the inclusion of &quot;other-priority&nbsp;
=&nbsp; token&quot; is added to the above 4.<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_42872637==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 01:07:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA17754
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 01:07:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA08991
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 01:07:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA05723;
	Tue, 6 Nov 2001 00:42:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA05694
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 00:42:42 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA17238
	for <sip@ietf.org>; Tue, 6 Nov 2001 00:42:41 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA65ggC23667;
	Tue, 6 Nov 2001 06:42:42 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA65gfB21700;
	Tue, 6 Nov 2001 07:42:42 +0200 (EET)
Message-ID: <3BE7784A.177306AD@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 07:42:34 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se> <3BE6B75B.61F976E0@lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>I guess this does not only affect CANCEL, but also if the redirect
>>server receive a BYE (chapter 8.3 only talks about CANCEL) for the setup
>>(if the server first sent a 18x with a tag, and for whatever reason the
>>UAC wants to terminate the dialog)?
> 
> Christer:
> 
>I am hard pressed to see why a *redirect* server would return a 18x response
>to establish an early dialog...

Well, it IS allowed to do so, for whatever reason, so... Also, when it
sends the 18x it may even not yet know that the final answer is going to
be a 3xx, since the node may also have other than redirect
functionality.

And, even if it does know it will redirect the call, it will probably
have to make some database lookups etc, which take time, so it must send
some 1xx provisional response. Yes, it may send only 100, but SIP allows
it to also send 18x. Maybe it wants to play some kind of "your call is
beeing redirected" announcement, or something...

Regards,

Christer Holmberg
Ericsson Finland






> 
> - vijay
> --
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software and eServices Group
> Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 01:09:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA18026
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 01:09:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11182
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 01:09:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA05891;
	Tue, 6 Nov 2001 00:51:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA05793
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 00:51:33 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA17329
	for <sip@ietf.org>; Tue, 6 Nov 2001 00:51:33 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA65nFVW007251;
	Tue, 6 Nov 2001 00:49:15 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXV2J>; Tue, 6 Nov 2001 00:50:33 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D7A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        Dorgham Sisalem
	 <sisalem@fokus.gmd.de>
Cc: sip@ietf.org
Subject: RE: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless p
	roxy
Date: Tue, 6 Nov 2001 00:50:28 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Vijay Gurbani [mailto:vkg@lucent.com]
> Sent: Monday, November 05, 2001 10:10 AM
> To: Dorgham Sisalem
> Cc: sip@ietf.org
> Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx 
> by stateless
> proxy
> 
> 
> Dorgham Sisalem wrote:
> > 
> > Hello,
> > 
> > > Because it must match up the incoming ACK to the 3xx it send in 
> > > response. Recall that the ACK is part of the same INVITE 
> transaction in 
> > > case of a non-2xx response.  Furthermore, it must also be 
> able to match 
> > > up a CANCEL, if one should arrive, to the INVITE, and 
> stop further 
> > > processing of the INVITE.
> > 
> > I guess the question is: what will terribly happen if one 
> just "eats"
> > the ACK? 
> 
> Well, in the case of a non-2xx response, ACK basically is 
> used on the server
> end to stop retx'ing (if UDP is being used as the transport). 
>  Unless you
> are working on a lossless network, I don't think you can be 
> sure that the
> 3xx send upstream over UDP actually made it.  The ACK serves 
> as that not-
> ification.

Thats true, but there are two ways to reliably send the response. One is to
retransmit it until ACK, and the other is to retransmit the response on
retransmissions of the request. If a server does not send a 1xx response to
a request, the client will continue to retransmit the request, and this can
cause retransmissions of the response. In this case, the ACK is not
critical, and a server that knows its always a redirect server can "eat"
both the ACK and the CANCEL (of course it would need to respond to the
CANCEL with a 2xx).

THe notion of a "stateless uas", which is what this is, is not well
documented in bis-05. I am not sure how much we want to say about it, as it
is effectively an implementation decision that can be made, rather than a
new protocol element. However, since doing stateless responding is important
for security (and we do mention that), it might be worth giving more
guidance than is there now.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 01:28:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20415
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 01:28:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA13891
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 01:28:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10345;
	Tue, 6 Nov 2001 01:08:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10284
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:08:42 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA17945
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:08:42 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA666uVW007324;
	Tue, 6 Nov 2001 01:06:56 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVJM>; Tue, 6 Nov 2001 01:08:13 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D7C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'"
	 <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Tue, 6 Nov 2001 01:08:11 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: Monday, November 05, 2001 7:04 PM
> To: Jonathan Rosenberg
> Cc: 'Shieh, Hugh'; 'Peterson, Jon'; 'sip@ietf.org'
> Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
> 
> 
> Jonathan Rosenberg writes:
>  > In the case of secured interconnects between proxies that 
> have some kind of
>  > administratively agreed upon security relationship, I 
> don't see a whole lot
>  > of reason for UDP as opposed to TCP. The connections can 
> be set up ahead of
>  > time, or on the first call, and then reused as needed. I 
> am sure people will
>  > dredge up the old HOL blocking issues with TCP. I still am 
> waiting for
>  > specific analysis on the impact on sip call set up time 
> distributions. That
>  > said, TLS over SCTP would be another option, but is not 
> specified as far as
>  > I know.
> 
>    TLS requires 4 messages, and TCP requires 3
>    so it's 7 messages before an application can
>    send data. With KINK, the application starts
>    sending data after the second message is
>    received, eliminating 5 messages or so. If
>    you require TCP or SCTP, it goes up to 5.

Since these are effectively pre-established and "nailed-up" connections
(re-established under failure cases, of course), the amount of messages to
set them up does not seem important.


-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 01:28:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20489
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 01:28:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA13905
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 01:28:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08383;
	Tue, 6 Nov 2001 01:06:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA08339
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:06:42 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA17687
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:06:41 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA664uVW007309;
	Tue, 6 Nov 2001 01:04:56 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVJF>; Tue, 6 Nov 2001 01:06:13 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D7B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'James M. Polk'" <jmpolk@cisco.com>, sip@ietf.org
Subject: RE: [Sip] Bis[5] NIT - Priority Header Values inconsistent
Date: Tue, 6 Nov 2001 01:06:04 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

James,

I don't see the inconsistency. Section 22.25 says:

The Priority header field indicates the urgency of the request as
   perceived by the client. Defined values include "non-urgent",
   "normal", "urgent", and "emergency".

And indeed, there are four values defined. The BNF allows for additional
values, as an extensibility mechanism. 

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
  
-----Original Message-----
From: James M. Polk [mailto:jmpolk@cisco.com]
Sent: Monday, November 05, 2001 11:01 PM
To: sip@ietf.org
Subject: [Sip] Bis[5] NIT - Priority Header Values inconsistent


The Priority Request-Header values are inconsistent in this version:

Section 22.25 mentions the 4 values from RFC2543 (Emergency, Urgent, Normal
and Non-urgent) on page 143; 

Yet page 185 has 5 values: the inclusion of "other-priority  =  token" is
added to the above 4.

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"


James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 01:53:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA23914
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 01:53:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA15163
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 01:53:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14124;
	Tue, 6 Nov 2001 01:30:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14087
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:30:18 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20737
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:30:18 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA66SRVW007403;
	Tue, 6 Nov 2001 01:28:27 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVKQ>; Tue, 6 Nov 2001 01:29:44 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D7E@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>,
        "sip-ietf (E-mail)"
	 <sip@ietf.org>
Subject: RE: [Sip] Via received and DNS advancing for responses
Date: Tue, 6 Nov 2001 01:29:38 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Monday, November 05, 2001 5:41 PM
> To: sip-ietf (E-mail)
> Subject: [Sip] Via received and DNS advancing for responses
> 
> 
> Sections 24 and 19.2.2 of rfc2543bis-05 
> discuss how DNS and the Via-received can 
> be used to identify the destination address 
> that should be used when sending a response.  
> These sections make it clear that ICMP 
> failure can cause the need to try the 
> next-hop for both requests and responses.  
> Is line 4179 indicating that next-hop 
> advancement cannot be done based upon 
> timeouts when sending responses?
> 

In the current draft, yes. This is due, in part, to the placement of SRV
processing "above" the client and server transactions. There is no way for
the TU above the server transaction to tell the server transaction to try a
different destination. It just gets awfully messy.

That said, the SRV stuff is under much discussion with IESG at this time,
and I expect there will be several changes coming. One thing we need to
consider is whether timeouts even make sense for SRV failure detection. They
can take a very long time. So long, in fact, that the transactions will have
all likely timed out. In that case, trying the next server isn't useful,
since its already too late. ICMP and TCP connection failures are more
immediate and therefore more useful.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:02:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA27916
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:02:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA15682
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:02:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14968;
	Tue, 6 Nov 2001 01:48:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14939
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:48:38 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA23285
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:48:36 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA66mcC02435;
	Tue, 6 Nov 2001 07:48:38 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA66mbB23340;
	Tue, 6 Nov 2001 08:48:37 +0200 (EET)
Message-ID: <3BE787BE.38D166F1@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 08:48:30 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Vijay Gurbani'" <vkg@lucent.com>, Dorgham Sisalem <sisalem@fokus.gmd.de>,
        sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <B65B4F8437968F488A01A940B21982BF020D6D7A@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

In a "stateless UA", if the ACK is not needed for the re-transmission
mechanism (or anything else), and it's only "eaten", why send it in the
first place???? Why not making it optional? And, if the client doesn't
know if the server is stateless or not it can be indicated somehow in
the response... We save messages in the network...

Just some thoughs...

Christer Holmberg
Ericsson Finland

Jonathan Rosenberg wrote:
> 
> 
> 
> > -----Original Message-----
> > From: Vijay Gurbani [mailto:vkg@lucent.com]
> > Sent: Monday, November 05, 2001 10:10 AM
> > To: Dorgham Sisalem
> > Cc: sip@ietf.org
> > Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx
> > by stateless
> > proxy
> >
> >
> > Dorgham Sisalem wrote:
> > >
> > > Hello,
> > >
> > > > Because it must match up the incoming ACK to the 3xx it send in
> > > > response. Recall that the ACK is part of the same INVITE
> > transaction in
> > > > case of a non-2xx response.  Furthermore, it must also be
> > able to match
> > > > up a CANCEL, if one should arrive, to the INVITE, and
> > stop further
> > > > processing of the INVITE.
> > >
> > > I guess the question is: what will terribly happen if one
> > just "eats"
> > > the ACK?
> >
> > Well, in the case of a non-2xx response, ACK basically is
> > used on the server
> > end to stop retx'ing (if UDP is being used as the transport).
> >  Unless you
> > are working on a lossless network, I don't think you can be
> > sure that the
> > 3xx send upstream over UDP actually made it.  The ACK serves
> > as that not-
> > ification.
> 
> Thats true, but there are two ways to reliably send the response. One is to
> retransmit it until ACK, and the other is to retransmit the response on
> retransmissions of the request. If a server does not send a 1xx response to
> a request, the client will continue to retransmit the request, and this can
> cause retransmissions of the response. In this case, the ACK is not
> critical, and a server that knows its always a redirect server can "eat"
> both the ACK and the CANCEL (of course it would need to respond to the
> CANCEL with a 2xx).
> 
> THe notion of a "stateless uas", which is what this is, is not well
> documented in bis-05. I am not sure how much we want to say about it, as it
> is effectively an implementation decision that can be made, rather than a
> new protocol element. However, since doing stateless responding is important
> for security (and we do mention that), it might be worth giving more
> guidance than is there now.
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:02:47 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA28022
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:02:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA15696
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:02:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14908;
	Tue, 6 Nov 2001 01:46:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14877
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:45:59 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA22922
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:45:58 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA66i7VW007459;
	Tue, 6 Nov 2001 01:44:07 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVLH>; Tue, 6 Nov 2001 01:45:24 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D81@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'radhika@jopasana.com'"
	 <radhika@jopasana.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] RE: [Sipping] Date header field & Expires (bug #178)
Date: Tue, 6 Nov 2001 01:45:17 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I think eliminating absolute times in the Expires header is a good thing, so
long as its possible (backwards compatibility issues). Its worth noting that
we decided to eliminate absolute times from the Session-Expires header in
the session timer extension, for these reasons exactly.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Peterson, Jon [mailto:jon.peterson@NeuStar.com]
> Sent: Saturday, November 03, 2001 8:07 PM
> To: 'radhika@jopasana.com'; 'sip@ietf.org'
> Subject: [Sip] RE: [Sipping] Date header field & Expires (bug #178)
> 
> 
> I've shifted this over to the SIP WG list, since this 
> actually raises a
> couple of bis questions.
> 
> I think the idea was that a Date header separate from the 
> Expires header
> would be provided in a REGISTER for time-synchronization 
> purposes - the Date
> contains the exact time at which a request or response was sent. So
> essentially, if both headers were preset the time until expiry of a
> registration would be the delta between the date in the 
> Expires header and
> the date in the Date header. 
> 
> Sending absolute time in Expires is theoretically more 
> precise than just
> using an integer time, since an unknown amount of time may 
> have passed while
> the signaling message was in transit. Unless you have an 
> external method for
> synchronizing network time, you just need to send a Date 
> header to ensure
> the clocks are in parity. However, the Date header might not 
> really help
> synchronize time for the same reason - an unknown amount of 
> time passed
> while the signaling message was in transit since that Date header was
> created. For low integer values and complex signaling 
> networks this could be
> problematic. In any event it isn't clear why this would be 
> any more precise
> than sending integer values.
> 
> So, Expires in absolute time format without Date gives rise 
> to all sorts of
> synchronization issues - and by supplying both Date and Expires you're
> essentially specifying the delta, so you might as well have 
> just sent an
> integer value and saved yourself an extra header.
> 
> Is any implementor out there actually using absolute time 
> format for Expires
> in REGISTER? There has been a suggestion that this should be 
> deprecated in
> favor of only integer values for Expires in REGISTER (which 
> would obviate
> the need for a Date header). Does anybody use absolute time in Expires
> today?
> 
> Jon Peterson
> NeuStar, Inc
> 
> > -----Original Message-----
> > From: radhika@jopasana.com [mailto:radhika@jopasana.com]
> > Sent: Friday, November 02, 2001 2:06 AM
> > To: sipping@ietf.org
> > Subject: [Sipping] Date header field
> > 
> > 
> > Hello all,
> > 
> >   I need an example of how the Date header field is used in a SIP
> > REGISTER message. 
> >   The date in the Expires header field indicates the Date of expiry
> > of the registration. In this case, is there a need of a seperate 
> > Date header field? What is the difference between the two Dates?
> >   Any information regarding this would be appreciated.     
> > 
> > With regards,
> > Radhika.
> > 
> > _______________________________________________
> > Sipping mailing list  http://www1.ietf.org/mailman/listinfo/sipping
> > This list is for NEW development of the application of SIP
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sip@ietf.org for new developments of core SIP
> > 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:14:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03400
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:14:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA15918
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:14:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA15310;
	Tue, 6 Nov 2001 01:59:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA15281
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 01:59:15 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA24587
	for <sip@ietf.org>; Tue, 6 Nov 2001 01:59:14 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA66vRVW007505;
	Tue, 6 Nov 2001 01:57:27 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVL9>; Tue, 6 Nov 2001 01:58:45 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D83@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        "'Bob Penfield'"
	 <bpenfield@acmepacket.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 6 Nov 2001 01:58:38 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Friday, November 02, 2001 12:03 PM
> To: 'Bob Penfield'; 'IETF SIP Mailing List'
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> > I don't see having the called party's phone ring a few 
> > seconds longer when
> > there is congestion to be all that much of the problem. How 
> > many times have
> > you picked up your ringing phone and said "hello" and there 
> > is no one there?
> > It has happened to me twice this week and I don't get that 
> > many calls. I
> > don't blame the telephone company, I just figure the calling 
> > party hung up.
> > 
> 
> I'd like to point out two facts with wait-for-1xx: 1) the 
> phone could be
> ringing much longer than a few seconds after the caller has 
> hung up and

How is that? The first server transaction will generate some kind of
response (1xx or the final response) pretty much immediately. Sure, this
could be lost, but the CANCEL itself could also be lost, so I don't see the
difference.



> 2) In absence of 100 Trying (which some people may have very 
> good reason
> that UAS shouldn't send right away),

If a 100 is not sent right away, then that means some other response IS sent
right away. Whats the difference?


> you are guaranteed to ring the
> callee phone EVERY SINGLE time an INVITE goes out, even if 
> caller hangs
> up right away.

Maybe I missed something, but isn't the point of sending an INVITE to ring a
phone? Sure, people can change their mind, but it is not reasonable to
expect that they will be able to beat out the network and end up not causing
the phone to ring. This expectation does not exist in the PSTN today.

> > 
> > The UAC is required to be re-transmitting the INVITE until it 
> > gets a 1xx.
> > Now you want it to keep retransmitting the CANCEL too? Sounds 
> > like you're
> > doing twice the work.
> 
> The UAC is required to have a FSM for CANCEL in any case. 
> With this mod,
> that state machine just remains in the "Proceeding" state a 
> bit longer.

I strongly object to your proposal. We have worked hard in bis-05 to have a
set of state machines which work in both proxies and UAs. The goal is to
eliminate special cases for transaction machines, which was the case
previously in proxies (2xx not retransmitted, ACK not sent). What you are
proposing is to define YET ANOTHER transaction machine that is method
specific. I think we have had enough of that, thank you.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:27:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03501
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:27:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA16085
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:27:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA15900;
	Tue, 6 Nov 2001 02:12:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA15871
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:12:35 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03392
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:12:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67AnVW007513;
	Tue, 6 Nov 2001 02:10:49 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVMA>; Tue, 6 Nov 2001 02:12:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D84@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>, "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-05: NITS
Date: Tue, 6 Nov 2001 02:11:56 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



  
-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Friday, November 02, 2001 7:31 PM
To: 'sip@ietf.org'
Subject: [Sip] Bis-05: NITS


>Figure 5, "resp. to TU" should be added for the arrow from "Calling" to
"Completed". 

Yes, thanks.

>line: 2876-2877, add received parameter with IP address of 1.2.3.4 as
claimed by the text 
>in line 2874-2875. 

Oops. Thanks.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:33:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03587
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:33:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA16494
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:33:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA15969;
	Tue, 6 Nov 2001 02:15:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA15940
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:15:03 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03422
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:15:02 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67CcVW007516;
	Tue, 6 Nov 2001 02:12:38 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVMB>; Tue, 6 Nov 2001 02:13:56 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D85@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Vijay Gurbani'" <vkg@lucent.com>,
        Dorgham Sisalem
	 <sisalem@fokus.gmd.de>, sip@ietf.org
Subject: RE: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless p
	roxy
Date: Tue, 6 Nov 2001 02:13:52 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Tuesday, November 06, 2001 1:49 AM
> To: Jonathan Rosenberg
> Cc: 'Vijay Gurbani'; Dorgham Sisalem; sip@ietf.org
> Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx 
> by stateless
> proxy
> 
> 
> 
> Hi,
> 
> In a "stateless UA", if the ACK is not needed for the re-transmission
> mechanism (or anything else), and it's only "eaten", why send 
> it in the
> first place???? Why not making it optional? And, if the client doesn't
> know if the server is stateless or not it can be indicated somehow in
> the response... We save messages in the network...

What, SIP isn't complicated enough for you??? I see *zero* value in making
this ridiculous special case exception.

-Jonathan R.
 
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:43:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03682
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:43:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA16651
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:43:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16140;
	Tue, 6 Nov 2001 02:29:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16111
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:29:13 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03518
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:29:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67RJVW007526;
	Tue, 6 Nov 2001 02:27:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVM1>; Tue, 6 Nov 2001 02:28:36 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D87@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>, sip@ietf.org
Cc: A Venkatraman <arunvenk@cisco.com>,
        "Fairlie-Cuninghame, Robert"
	 <rfairlie@nuera.com>,
        Pekka Pessi <Pekka.Pessi@nokia.com>,
        Jo Hornsby
	 <jhornsby@ubiquity.net>
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Tue, 6 Nov 2001 02:28:22 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



inline.

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Monday, October 29, 2001 2:05 AM
> To: sip@ietf.org
> Cc: A Venkatraman; Fairlie-Cuninghame, Robert; Pekka Pessi; Jo Hornsby
> Subject: Re: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> 
> 
> Hi,
> 
> Still a small clarification I would like to get on this issue:
> 
> Assume that the UAS receives the INVITE from two separate "routes". It
> sends 200 to the first one, and 482 to the other. 
> 
> Now, the ACK to the 482 response has the same Via branch as its
> corresponding INVITE, but the ACK to the INVITE that generated the 200
> MAY have another Via branch than the INVITE.
> 
> So, my question is: IF the ACK to the 200 has another Via branch than
> its INVITE, is there a possibility that the ACK will be routed so that
> when it is received by the UAS it will contain an IDENTICAL Via branch
> as the ACK to the INVITE that generated 482? 

Yes. I suspect this will happen in some cases. The treatment of ACK-200 as a
separate transaction would imply that the branch ID is different. But,
existing proxies may in fact use the same branch ID.


> IF that is possible, the
> UAS will not know that they are two separate ACKs.

No, it will know. Section 17.2.3 on matching requests to transactions, is
clear that you use the tag in the To of the ACK to match it against the
response that was sent. 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:51:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03747
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:51:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA16884
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:51:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16572;
	Tue, 6 Nov 2001 02:37:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16544
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:37:50 -0500 (EST)
Received: from redmailwall3.attws.com (redmailwall3.attws.com [199.108.253.114])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03629
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:37:48 -0500 (EST)
Received: from viruswall1.entp.attws.com (viruswall1 [135.214.40.161])
	by redmailwall3.attws.com (8.10.2+Sun/8.9.3) with ESMTP id fA67TCR24564;
	Mon, 5 Nov 2001 23:29:12 -0800 (PST)
Received: from nwestmail.entp.attws.com by viruswall1.entp.attws.com (8.10.2+Sun/AT&T Wireless Services, Inc.)
	id fA67T7922032; Mon, 5 Nov 2001 23:29:07 -0800 (PST)
Received: from wa-msg01.entp.attws.com (wa-msg01.entp.attws.com [135.214.41.60])
	by nwestmail.entp.attws.com (8.8.8+Sun/8.8.8) with ESMTP id XAA07319;
	Mon, 5 Nov 2001 23:29:13 -0800 (PST)
Received: by WA-MSG01 with Internet Mail Service (5.5.2653.19)
	id <WHNSHKYH>; Mon, 5 Nov 2001 23:29:15 -0800
Message-ID: <1F559B7B150DD411A62F00508B9557EC033976A6@WA-MSG01>
From: "Shieh, Hugh" <hugh.shieh@attws.com>
To: "'Henning G. Schulzrinne'" <hgs@cs.columbia.edu>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Mon, 5 Nov 2001 23:29:14 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16694.BCAD9510"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16694.BCAD9510
Content-Type: text/plain

Would love to see Gonzalo's simulation result on call setup delay
distribution. However, by recommending TLS/TCP, does that mean that the
involved proxies have to be stateful (according to line: 2013)? In any case,
UDP is still (or is it?) mandated for all SIP elements, so a solution other
than TLS is still needed for UDP.

-Hugh

-----Original Message-----
From: Henning G. Schulzrinne [mailto:hgs@cs.columbia.edu]
Sent: Monday, November 05, 2001 3:56 PM
To: Jonathan Rosenberg
Cc: 'Shieh, Hugh'; 'Peterson, Jon'; 'sip@ietf.org'
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP


Jonathan Rosenberg wrote:
> 

> time, or on the first call, and then reused as needed. I am sure people
will
> dredge up the old HOL blocking issues with TCP. I still am waiting for

Gonzalo Camarillo has done a number of simulations on this here at
Columbia; he should summarize the details, but my summary is "you have
to try really, really hard for it to make a difference".

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

------_=_NextPart_001_01C16694.BCAD9510
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-5: TLS as secure transport for SIP</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Would love to see Gonzalo's simulation result on call =
setup delay distribution. However, by recommending TLS/TCP, does that =
mean that the involved proxies have to be stateful (according to line: =
2013)? In any case, UDP is still (or is it?) mandated for all SIP =
elements, so a solution other than TLS is still needed for =
UDP.</FONT></P>

<P><FONT SIZE=3D2>-Hugh</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Henning G. Schulzrinne [<A =
HREF=3D"mailto:hgs@cs.columbia.edu">mailto:hgs@cs.columbia.edu</A>]</FON=
T>
<BR><FONT SIZE=3D2>Sent: Monday, November 05, 2001 3:56 PM</FONT>
<BR><FONT SIZE=3D2>To: Jonathan Rosenberg</FONT>
<BR><FONT SIZE=3D2>Cc: 'Shieh, Hugh'; 'Peterson, Jon'; =
'sip@ietf.org'</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-5: TLS as secure transport =
for SIP</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Jonathan Rosenberg wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
</P>

<P><FONT SIZE=3D2>&gt; time, or on the first call, and then reused as =
needed. I am sure people will</FONT>
<BR><FONT SIZE=3D2>&gt; dredge up the old HOL blocking issues with TCP. =
I still am waiting for</FONT>
</P>

<P><FONT SIZE=3D2>Gonzalo Camarillo has done a number of simulations on =
this here at</FONT>
<BR><FONT SIZE=3D2>Columbia; he should summarize the details, but my =
summary is &quot;you have</FONT>
<BR><FONT SIZE=3D2>to try really, really hard for it to make a =
difference&quot;.</FONT>
</P>

<P><FONT SIZE=3D2>-- </FONT>
<BR><FONT SIZE=3D2>Henning Schulzrinne&nbsp;&nbsp; <A =
HREF=3D"http://www.cs.columbia.edu/~hgs" =
TARGET=3D"_blank">http://www.cs.columbia.edu/~hgs</A></FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C16694.BCAD9510--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 02:58:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03813
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 02:58:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA17082
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 02:58:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16633;
	Tue, 6 Nov 2001 02:43:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16608
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:43:39 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03670
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:43:37 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA67hcC19329;
	Tue, 6 Nov 2001 08:43:38 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA67haB25121;
	Tue, 6 Nov 2001 09:43:36 +0200 (EET)
Message-ID: <3BE794A1.53885600@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 09:43:29 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Vijay Gurbani'" <vkg@lucent.com>, Dorgham Sisalem <sisalem@fokus.gmd.de>,
        sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <B65B4F8437968F488A01A940B21982BF020D6D85@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>In a "stateless UA", if the ACK is not needed for the re-transmission
>>mechanism (or anything else), and it's only "eaten", why send
>>it in the first place???? Why not making it optional? And, if the client doesn't
>>know if the server is stateless or not it can be indicated somehow in
>>the response... We save messages in the network...
>What, SIP isn't complicated enough for you??? I see *zero* value in making
>this ridiculous special case exception.

My proposal makes the CLIENT behaviour a little more complicated, since
it would have to make a decission (based on some header value) if to
send an ACK or not. But, we would not send messages on the network that
nobody needs, which one could also argue is a "ridiculous" thing to
do...

Your proposal (or whoever came up with it) makes the SERVER behaviour
more complicated.

FIRST, the server has different logic depending on if the final response
is stateless or not - in some cases it will re-transit the final
response and wait for ACK, and in some cases it won't. No, in a "pure"
stateless server this is not be a big problem, if it ALWAYS sends
stateless final responses.

SECOND, the server has different logic depending on if it sends 1xx or
not. IF the server sends 1xx, the client will STOP re-transmitting the
INVITE. Then, when the server sends the final response, HOW will it know
that the client really will receive it???? The client does NOT
re-transmit the INVITE, and the server does NOT retransmit the final
response... The client will never receive the final response, and when
the C timer expires (or when the caller hangs up) the client will send
CANCEL/BYE - a "long" time (we are NOT talking about a race condition
here) after the server sent the final response. Is that ridiculous, or
what?


Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 03:11:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA03987
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 03:11:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA17761
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 03:11:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16811;
	Tue, 6 Nov 2001 02:47:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16713
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:47:27 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03713
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:47:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67jVVW007540;
	Tue, 6 Nov 2001 02:45:31 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVM2>; Tue, 6 Nov 2001 02:46:48 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D89@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Tue, 6 Nov 2001 02:46:35 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Monday, November 05, 2001 8:58 AM
> To: Bob Penfield
> Cc: sip@ietf.org
> Subject: Re: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> 
> 
> Hi Bob,
> 
> >>So, would it cause any problems if the UAS DID use separate 
> Tag values
> >>for each final response it sends to a merget INVITE - or at least
> >>separate Tag values for the 200 and 482 responses. In this case we
> >>wouldn't have to add any new features to be able to match the
> >>INVITE/200/ACK - without doing assumtions based on the Via 
> branch value.
> >>The caller would not even notice this, since the forking 
> proxy would ACK
> >>the 482 responses, and only the 200 would reach the UAC.
> > 
> >Why would the UAS assign a tag at all? Does bis-05 require a 
> tag? I would
> >think the response should look like any other 4xx response 
> when there have
> >been no 1xx responses (no tag previously assigned). I think 
> it would be a
> >mistake to use the same tag returned with the 200. By 
> responding with 482,
> >we're trying to eliminate a dialog resulting from a fork at 
> some proxy. This
> >is a separate dialog from the one that got a 200-OK.
> 
> Assuming that there is not tag in the 482, OR if there is a 
> separate tag
> than in the 200 (I KNOW that is not how tags are supposed to 
> be used, so
> I am more than happy NOT having to change that), the issue is still if
> we can rely on the tag to match the ACK to the INVITE that 
> generated the
> 200, instead of doing the decission based on Via branch values that
> can't be matched...

I think bis-05 is quite clear that the tag in the 2xx and the tag in the 482
will NOT be the same. Section 8.2.7 specifies rules for generating the
response. It says that:

   However, if the To field in the request did not contain a tag, the URI in
the To field in 
   the response MUST equal the URI in the To field in the request.
Additionally, the UAS 
   MUST addatag to theTo field in the 1113
   response. This serves to identify the UAS that is responding, possibly
resulting in a 
   component of a dialog 1114
   ID. The same tag MUST be used for all responses to that request, both
provisional and 
   final. Procedures for 1115
   generation of tags are defined in Section 21.3. 1116

If you look at section 21.3, it says that tags are generated to be globally
unique. Since the two merged requests are DIFFERENT requests, for different
transactions, they will therefore each have globally unique, and therefore
different, tags in the responses.

The way an ACK gets matched to its 2xx is strictly through the dialog
identifiers - To, From and Call-ID, and this matching happens in the UA
core, not in the transaction layer (thus via, request uri are both
irrelevant).

Thanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 03:11:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA04002
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 03:11:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA17775
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 03:11:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16927;
	Tue, 6 Nov 2001 02:51:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16896
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:51:48 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03759
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:51:46 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67o0VW007566;
	Tue, 6 Nov 2001 02:50:00 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVM4>; Tue, 6 Nov 2001 02:51:17 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D8A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Jo Hornsby'" <jhornsby@ubiquity.net>, Shan Lu <shanlu@sentito.com>,
        sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Tue, 6 Nov 2001 02:51:08 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Jo Hornsby [mailto:jhornsby@ubiquity.net]
> Sent: Wednesday, October 31, 2001 8:19 AM
> To: Shan Lu; sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> > Not sure what is broken. Load balancer forwards INVITE #1 
> to Proxy #1
> > and INVITE #2 (retransmission of #1) to Proxy #2.  Nothing 
> wrong for a
> > stateless load balancer.
> 
> Uh.  Maybe there is nothing wrong with the "stateless
> load balancer" (I don't know what its mandate is),
> but it certainly represents no entity that I am aware
> of in the spec, and thus will break the network if
> the "proxy"s behind it are not aware that there is a
> "stateless load balancer" serving them.
> 
> What I'm saying is that this load balancer cannot
> exist on it's own as an entity in a SIP network --
> it would have to have cooperating servers that would
> legislate against retransmissions being distributed
> arbitrarily.

Jo is correct. A stateless LB is, according to the specification, just a
stateless proxy. A stateless proxy has to send retransmissions to the same
place as the original request. This means, effectively, that routing
decisions can ONLY be combinatoric functions of the request received plus
STATIC configuration data. You need to even be careful of configuration data
that can change in the middle of a transaction! The solution for these cases
is that the proxy becomes stateful for long enough to ensure that any
stateless transactions have cleared.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 03:13:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA04025
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 03:13:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA17815
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 03:13:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16985;
	Tue, 6 Nov 2001 02:54:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA16957
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 02:53:57 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA03771
	for <sip@ietf.org>; Tue, 6 Nov 2001 02:53:56 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA67q9VW007588;
	Tue, 6 Nov 2001 02:52:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXVM9>; Tue, 6 Nov 2001 02:53:27 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6D8B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>, "'Jo Hornsby'" <jhornsby@ubiquity.net>,
        sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Tue, 6 Nov 2001 02:53:24 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Monday, October 29, 2001 5:11 PM
> To: 'Jo Hornsby'; sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> 
> 
> 
> > -----Original Message-----
> > From: Jo Hornsby [mailto:jhornsby@ubiquity.net] 
> > Sent: Monday, October 29, 2001 12:21 PM
> > To: Shan Lu; sip@ietf.org
> > Subject: RE: [Sip] Handling of duplicate requests with 
> > differing request paths.
> > 
> > 
> > > > Assume that the UAS receives the INVITE from two separate 
> > "routes". It
> > > > sends 200 to the first one, and 482 to the other.
> > > > 
> > > <snip>
> > > Q1. Is 482 the proper response? This isn't a loop, is it?
> > 
> > It's important not to get too hung-up on the
> > default Reason Phrases.  An implementor is
> > free to use "Request Merged", or sommat, as
> > the Reason Phrase that accompanies the 482.
> > 482 is specified by bis-05, and I think
> > fits very well semantically with the
> > "classical" notion of a 482.
> 
> This sounds like a pretty good reason to define a new cause 
> code rather
> than let everybody come up with their own reason phase.

You need different response codes when there is a differing set of protocol
behaviors that a client should take. There isn't anything a client can do
about a merged request, and anything it might do (try later) is no different
than what it would do for a loop detected (which is also, try later).
Therefore, I think it is fine for the same response code to be used in this
case.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 03:19:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA04105
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 03:19:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA17849
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 03:19:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA17552;
	Tue, 6 Nov 2001 03:04:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA17521
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 03:04:25 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA03905
	for <sip@ietf.org>; Tue, 6 Nov 2001 03:04:22 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA684OC28445;
	Tue, 6 Nov 2001 09:04:24 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA684NB25899;
	Tue, 6 Nov 2001 10:04:23 +0200 (EET)
Message-ID: <3BE79980.DB16EC2C@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 10:04:16 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: Re: [Sip] Handling of duplicate requests with differing request paths.
References: <B65B4F8437968F488A01A940B21982BF020D6D89@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>Assuming that there is not tag in the 482, OR if there is a
>>separate tag than in the 200 (I KNOW that is not how tags are supposed to
>>be used, so I am more than happy NOT having to change that), the issue is still if
>>we can rely on the tag to match the ACK to the INVITE that
>>generated the 200, instead of doing the decission based on Via branch values that
>>can't be matched...
>
>I think bis-05 is quite clear that the tag in the 2xx and the tag in the 482
>will NOT be the same. Section 8.2.7 specifies rules for generating the
>response. It says that:
> 
>However, if the To field in the request did not contain a tag, the URI in
>the To field in the response MUST equal the URI in the To field in the request.
>Additionally, the UAS MUST addatag to theTo field in the 1113
>response. This serves to identify the UAS that is responding, possibly
>resulting in a component of a dialog 1114 ID. The same tag MUST be used for all responses to that request, >both provisional and final. Procedures for 1115 generation of tags are defined in Section 21.3. 1116
> 
>If you look at section 21.3, it says that tags are generated to be globally
>unique. Since the two merged requests are DIFFERENT requests, for different
>transactions, they will therefore each have globally unique, and therefore
>different, tags in the responses.

True. Great! :)
 
>The way an ACK gets matched to its 2xx is strictly through the dialog
>identifiers - To, From and Call-ID, and this matching happens in the UA
>core, not in the transaction layer (thus via, request uri are both
>irrelevant).

Good! So, the UAS will only need the Via branch value to find out that
the request was merged in the first place, but NOT to match the ACK to
the INVITE.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 05:11:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA05282
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 05:11:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA21971
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 05:12:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA20598;
	Tue, 6 Nov 2001 04:47:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA20566
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 04:47:49 -0500 (EST)
Received: from auemail2.firewall.lucent.com (auemail2.lucent.com [192.11.223.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA04858
	for <sip@ietf.org>; Tue, 6 Nov 2001 04:47:45 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA69lH918948
	for <sip@ietf.org>; Tue, 6 Nov 2001 04:47:17 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SNA1Y>; Tue, 6 Nov 2001 09:47:11 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB002A958B9@en0033exch001u.uk.lucent.com>
From: "Chen, Xin (Xin)" <xchen2@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 6 Nov 2001 09:47:09 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Question regarding 300 Redirect Response
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

My quesition is: 

If a UA sends an INVITE, and this INVITE reaches a redirect server which
sends back a redirect response. My question is, can a proxy server on the
path issue the INVITE towards the new address on behalf of the UE when
recieve this redirect response?

I didn't find such information in Bis-05.

Thanks

Xin Chen

Lucent Technologies
Tel: +44 1793 883137
Mobile: +44 7799 034668


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 06:15:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA06056
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 06:15:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA23688
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 06:15:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA23024;
	Tue, 6 Nov 2001 05:47:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA22993
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 05:47:25 -0500 (EST)
Received: from hindon.hss.co.in ([202.54.26.202])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA05720
	for <sip@ietf.org>; Tue, 6 Nov 2001 05:47:20 -0500 (EST)
From: seshashayi@hss.hns.com
Received: from hsssun01.hss.hns.com (localhost [127.0.0.1])
	by hindon.hss.co.in (8.10.0/8.10.0) with ESMTP id fA6Am4j09299;
	Tue, 6 Nov 2001 16:18:05 +0530 (IST)
Received: from sampark.hss.hns.com (sampark.hss.hns.com [139.85.229.22])
	by hsssun01.hss.hns.com (8.8.8+Sun/8.8.8) with SMTP id QAA23064;
	Tue, 6 Nov 2001 16:26:08 +0530 (IST)
Received: by sampark.hss.hns.com(Lotus SMTP MTA Internal build v4.6.2  (651.2 6-10-1998))  id 65256AFC.003A9D30 ; Tue, 6 Nov 2001 16:10:13 +0530
X-Lotus-FromDomain: HSSBLR
To: "Chen, Xin (Xin)" <xchen2@lucent.com>
cc: "'sip@ietf.org'" <sip@ietf.org>
Message-ID: <65256AFC.003A9B7D.00@sampark.hss.hns.com>
Date: Tue, 6 Nov 2001 16:20:34 +0530
Subject: Re: [Sip] Question regarding 300 Redirect Response
Mime-Version: 1.0
Content-type: text/plain; charset=us-ascii
Content-Disposition: inline
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Hi,
   The proxy server can recurse through the 3xx responses, and send the
INVITE to the
 new Contact addresses. It should also ACK the 3xx.

 You can refer to line no:2327 of bis-05.

Rgds
Seshu





"Chen, Xin (Xin)" <xchen2@lucent.com> on 11/06/2001 03:17:09 PM

To:   "'sip@ietf.org'" <sip@ietf.org>
cc:    (bcc: Seshashayi T/HSSBLR)

Subject:  [Sip] Question regarding 300 Redirect Response




My quesition is:

If a UA sends an INVITE, and this INVITE reaches a redirect server which
sends back a redirect response. My question is, can a proxy server on the
path issue the INVITE towards the new address on behalf of the UE when
recieve this redirect response?

I didn't find such information in Bis-05.

Thanks

Xin Chen

Lucent Technologies
Tel: +44 1793 883137
Mobile: +44 7799 034668


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 08:36:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA10315
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 08:36:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA29599
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 08:36:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA28106;
	Tue, 6 Nov 2001 08:15:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA28074
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 08:15:35 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA08747
	for <sip@ietf.org>; Tue, 6 Nov 2001 08:15:31 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA6CmIf23991;
	Tue, 6 Nov 2001 13:48:19 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.74])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA6CmIB07230;
	Tue, 6 Nov 2001 14:48:18 +0200 (EET)
Message-ID: <3BE7DC09.5B185360@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 14:48:09 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: seshashayi@hss.hns.com
CC: "Chen, Xin (Xin)" <xchen2@lucent.com>, "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Question regarding 300 Redirect Response
References: <65256AFC.003A9B7D.00@sampark.hss.hns.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Please also not the rules in chapter 23.3.3, which says that the To,
From, Call-ID - and especially the CSeq(!) - header values in the new
INVITE MUST be the same as in the original request when a proxy
generates the request.

Regards,

Christer Holmberg
Ericsson Finland


seshashayi@hss.hns.com wrote:
> 
> Hi,
>    The proxy server can recurse through the 3xx responses, and send the
> INVITE to the
>  new Contact addresses. It should also ACK the 3xx.
> 
>  You can refer to line no:2327 of bis-05.
> 
> Rgds
> Seshu
> 
> "Chen, Xin (Xin)" <xchen2@lucent.com> on 11/06/2001 03:17:09 PM
> 
> To:   "'sip@ietf.org'" <sip@ietf.org>
> cc:    (bcc: Seshashayi T/HSSBLR)
> 
> Subject:  [Sip] Question regarding 300 Redirect Response
> 
> My quesition is:
> 
> If a UA sends an INVITE, and this INVITE reaches a redirect server which
> sends back a redirect response. My question is, can a proxy server on the
> path issue the INVITE towards the new address on behalf of the UE when
> recieve this redirect response?
> 
> I didn't find such information in Bis-05.
> 
> Thanks
> 
> Xin Chen
> 
> Lucent Technologies
> Tel: +44 1793 883137
> Mobile: +44 7799 034668
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 08:56:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA11914
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 08:56:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA00434
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 08:56:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA29004;
	Tue, 6 Nov 2001 08:29:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA28975
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 08:29:07 -0500 (EST)
Received: from beamer.mchh.siemens.de (beamer.mchh.siemens.de [194.138.158.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA09832
	for <sip@ietf.org>; Tue, 6 Nov 2001 08:29:03 -0500 (EST)
Received: from blues.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.227])
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id NAA18457;
	Tue, 6 Nov 2001 13:55:37 +0100 (MET)
Received: from mchh274e.demchh201e.icn.siemens.de ([139.21.200.84])
	by blues.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id NAA04629;
	Tue, 6 Nov 2001 13:55:36 +0100 (MET)
Received: by MCHH274E with Internet Mail Service (5.5.2653.19)
	id <V0P5398C>; Tue, 6 Nov 2001 13:55:29 +0100
Message-ID: <F92978223B01D311ACFF0008C71EE19D015DF64D@MCHH225E>
From: Tuexen Michael <Michael.Tuexen@icn.siemens.de>
To: "'mankin@isi.edu'" <mankin@isi.edu>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: jon.peterson@neustar.com, sip@ietf.org,
        Tuexen Michael
	 <Michael.Tuexen@icn.siemens.de>,
        ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
Date: Tue, 6 Nov 2001 13:55:28 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear all,
there will be an update for the next IETF.
Best regards
Michael

Michael Tuexen    Tel.:   +49 89 722 47210
Siemens AG        Fax:    +49 89 722 48212
ICN WN CS SE 5    E-mail: Michael.Tuexen@icn.siemens.de

> -----Original Message-----
> From:	Allison Mankin [SMTP:mankin@east.isi.edu]
> Sent:	Tuesday, November 06, 2001 12:49 AM
> To:	Jonathan Rosenberg
> Cc:	jon.peterson@NeuStar.com; sip@ietf.org; Michael.Tuexen@icn.siemens.de; ajung@exp-math.uni-essen.de
> Subject:	Re: [Sip] Bis-5: TLS as secure transport for SIP 
> 
> 
> > That said, TLS over SCTP would be another option, but is not specified 
> > as far as I know.
> 
> draft-tuexen-tsvwg-tls-over-sctp-00.txt
> 
> A chartered work item in TSVWG - new draft was expected...
> 
> ------
> 
> > 
> > In the case of secured interconnects between proxies that have some kind of
> > administratively agreed upon security relationship, I don't see a whole lot
> > of reason for UDP as opposed to TCP. The connections can be set up ahead of
> > time, or on the first call, and then reused as needed. I am sure people will
> > dredge up the old HOL blocking issues with TCP. I still am waiting for
> > specific analysis on the impact on sip call set up time distributions. That
> > said, TLS over SCTP would be another option, but is not specified as far as
> > I know.
> > 
> > -Jonathan R.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 09:02:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA12663
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 09:02:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA00892
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 09:02:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA00195;
	Tue, 6 Nov 2001 08:47:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA00164
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 08:47:54 -0500 (EST)
Received: from custmail0.corp.aus.wayport.net (custmail0.corp.aus.wayport.net [216.12.231.21])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA11171
	for <sip@ietf.org>; Tue, 6 Nov 2001 08:47:50 -0500 (EST)
Received: from eburger (dhcp216-12-250-157.dfwb.dal.wayport.net [216.12.250.157])
	by custmail0.corp.aus.wayport.net (8.11.4/8.11.4) with ESMTP id fA6DeIb27853;
	Tue, 6 Nov 2001 13:40:18 GMT
Reply-To: <eburger@snowshore.com>
From: "Eric Burger" <eburger@snowshore.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Subject: Security Considerations (was RE: [Sip] Alert-Info: header)
Date: Tue, 6 Nov 2001 08:42:12 -0500
Message-ID: <EEEDJPFPPHPFKDDLLMOKOEMGCPAA.eburger@snowshore.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
In-Reply-To: <3BCD80F0.939C29D4@lucent.com>
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Kim's points are pretty significant.  Would it not be valuable to have some
language in the Security Considerations section of the draft pointing out
what happens if you don't implement some sort of a&a system?

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of Kim Liu
Sent: Wednesday, October 17, 2001 9:01 AM
To: Henning Schulzrinne
Cc: John.Hearty@level3.com; alan.johnston@wcom.com;
sean.olson@ericsson.com; sip@ietf.org
Subject: Re: [Sip] Alert-Info: header


Henning Schulzrinne wrote:
[Deleted]
> See earlier message about spam. In some cases, even if you allow random
> URLs, this can actually help. If I hear the local [your least favorite
> telephone company here] jingle, I will press the deep-six (603) button
> without bothering to lift the receiver. It is somewhat unfortunate that
> existing SIP phones don't have this button...
>

SPAM is not the major issue with the header as far as I see it.

  * Harrassment
    The phone 'rings' with "I'm watching you..."
    (Spoofed UDP INVITE that points to movie/TV sound web archive
    in Alert-Info, or free/anonymous web-hosting site.)
  * Mischief
    The phone 'rings' with the sound of a fire alarm and someone
    shouting 'Fire!  Someone pull the fire alarm!'
    (Spoofed UDP INVITE that points to movie/TV sound web archive
    in Alert-Info, or free web-hosting site.)
  * Serious mischief
    The phone 'rings' at a police station or such with 'Look out!
    He's got a gun!'
  * DOS
    Multiple phones in a building are sent INVITEs with Alert-Info
    pointing to 'wav' file that is 10 gigabytes long, tying up the
    bandwidth until the network admin can track down which unattended
    phones/IP addresses are doing this and kill off the connections.
  * Security issues
    If a helper application (i.e. your favorite web browser or
    media player) is used to deal with the information in the
    Alert-Info header, then this opens up a potential line of
    attack for things like those script viruses, buffer overflows,
    etc.  All the vulnerabilities that have been experienced to
    date with certain email and browser programs.  (It should be
    noted that in this case, even having a trust relationship
    with the calling party may not be enough if the calling
    party has gotten infected with a virus/trojan that spreads
    itself by calling everyone in the address/phone book with
    itself in the Alert-Info header.  The call will appear to
    have been from a trusted party.)
    If there is no helper application for dealing with various
    types of media files, then the phone itself will have to
    support them -- .wav, .au, .wma, .mp3, .jpg, .avi, .mov,
    .vbs, etc. etc. whatever.

That's not saying these are untraceable or unstoppable, but
it seems like the header pretty much cannot be used without
a very strong security relationship in place between the two
parties, and even that may fail in the last case.
[snip]


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 09:12:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA13189
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 09:12:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA01070
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 09:12:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA00388;
	Tue, 6 Nov 2001 08:56:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA00340
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 08:56:13 -0500 (EST)
Received: from nt-mail.tlv.radvision.com ([212.143.185.30])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA11858
	for <sip@ietf.org>; Tue, 6 Nov 2001 08:56:10 -0500 (EST)
Received: by NT-MAIL with Internet Mail Service (5.5.2650.21)
	id <4115GRXZ>; Tue, 6 Nov 2001 15:55:35 +0200
Message-ID: <EE5AF23B5764D511A6B900508BB82A0B1B1266@NT-MAIL>
From: Itamar Gilad <ItamarG@radvision.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	 aths.
Date: Tue, 6 Nov 2001 15:55:25 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Tue, November 06, 2001 9:47 AM
> To: 'Christer Holmberg'; Bob Penfield
> Cc: sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> p aths.
> 
> The way an ACK gets matched to its 2xx is strictly through the dialog
> identifiers - To, From and Call-ID, and this matching happens 
> in the UA
> core, not in the transaction layer (thus via, request uri are both
> irrelevant).
> 
> Thanks,
> Jonathan R.
> 

Does that apply to a stateful proxy too?

For example: what about when the INVITE gets spiraled through proxy P and it
Record-Routes both times.  The ACK will also get spiraled because of the
Route list, but the proxy needs to inspect the Req-URI in the ACK each time
it hits the proxy in order to correctly identify which of the original
INVITEs it matches.

Here's another bizarre one:  INV and 200 go through proxy P1.  The UAS puts
me@P1 as Contact therefore The ACK hits P1 with a different Req-URI (me@P1)
than the original INVITE. In this case inspecting the Req-URI will not map
the ACK to the original INVITE.

thanks
  Itamar








> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:04:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA16306
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:04:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03602
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:04:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02572;
	Tue, 6 Nov 2001 09:41:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02545
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 09:41:28 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA14875
	for <sip@ietf.org>; Tue, 6 Nov 2001 09:41:25 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6EeRK28210;
	Tue, 6 Nov 2001 09:40:27 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id IAA23160; Tue, 6 Nov 2001 08:40:25 -0600 (CST)
Message-ID: <3BE7F64C.CF362E48@lucent.com>
Date: Tue, 06 Nov 2001 08:40:12 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Chen, Xin (Xin)" <xchen2@lucent.com>
CC: "'sip@ietf.org'" <sip@ietf.org>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: Re: [Sip] Question regarding 300 Redirect Response
References: <475FF955A05DD411980D00508B6D5FB002A958B9@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan: question for you buried towards the end...

"Chen, Xin (Xin)" wrote:
> 
> My quesition is:
> 
> If a UA sends an INVITE, and this INVITE reaches a redirect server which
> sends back a redirect response. My question is, can a proxy server on the
> path issue the INVITE towards the new address on behalf of the UE when
> recieve this redirect response?

Yes, it can.  A proxy can "recurse" on a 3xx response, alleviating the UA
from doing so.

> I didn't find such information in Bis-05.

Doing a quick search on -05bis yielded some verbiage in section 16.6, Step 
3, last paragraph.	

Jonathan: is it a good idea to add some stuff in section 16.6, step 5 
"Choosing the best response" dealing with 3xx recursion for proxies?  -04
bis spelled it out a little more distinctly than -05 does.

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:04:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA16364
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:04:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03646
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:04:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02676;
	Tue, 6 Nov 2001 09:45:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA02645
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 09:45:41 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA15117
	for <sip@ietf.org>; Tue, 6 Nov 2001 09:45:38 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fA6EfRa08927;
	Tue, 6 Nov 2001 06:41:27 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAG71569;
	Tue, 6 Nov 2001 06:40:50 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id GAA15152; Tue, 6 Nov 2001 06:41:26 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15335.63125.986182.582153@thomasm-u1.cisco.com>
Date: Tue, 6 Nov 2001 06:41:25 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Michael Thomas'" <mat@cisco.com>, "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'"
	 <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6D7C@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D6D7C@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > > From: Michael Thomas [mailto:mat@cisco.com]
 > >    TLS requires 4 messages, and TCP requires 3
 > >    so it's 7 messages before an application can
 > >    send data. With KINK, the application starts
 > >    sending data after the second message is
 > >    received, eliminating 5 messages or so. If
 > >    you require TCP or SCTP, it goes up to 5.
 > 
 > Since these are effectively pre-established and "nailed-up" connections
 > (re-established under failure cases, of course), the amount of messages to
 > set them up does not seem important.

   I don't know why we should make any such assumption.
   That's fine for talking to your proxy, but what if
   I just look them up with DNS? What if it's proxy
   routed for the initial invite, but direct afterward?
   Also: even with your proxy, given the number of SA's,
   you might want to make the space/time tradeoff of
   using short lived SA's to save state on a large proxy.

	       Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:09:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA16710
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:09:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03770
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:09:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03061;
	Tue, 6 Nov 2001 09:57:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03026
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 09:57:30 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA15790
	for <sip@ietf.org>; Tue, 6 Nov 2001 09:57:27 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6EuxK08069;
	Tue, 6 Nov 2001 09:56:59 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id IAA01554; Tue, 6 Nov 2001 08:56:58 -0600 (CST)
Message-ID: <3BE7FA2C.D5CFE879@lucent.com>
Date: Tue, 06 Nov 2001 08:56:44 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se> <3BE6B75B.61F976E0@lucent.com> <3BE7784A.177306AD@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Christer Holmberg wrote:

> > Vijay Gurbani wrote:
> >I am hard pressed to see why a *redirect* server would return a 18x 
> >response to establish an early dialog...
>
> And, even if it does know it will redirect the call, it will probably
> have to make some database lookups etc, which take time, so it must send
> some 1xx provisional response. Yes, it may send only 100, but SIP allows
> it to also send 18x. Maybe it wants to play some kind of "your call is
> beeing redirected" announcement, or something...

Theoritically, yes; I agree.  But to my admittedly simple mind, the value of 
a redirect server *speed*.  If I wanted to engage in an extended dialog that
involved playing announcements, collecting digits, voice recognition, why 
not just use a richer service entity then a simple redirect server.

In a related thread we are arguing to keep redirect servers even simpler by 
"eating" up the ACK, yet here we are making them more complex by estab- 
lishing early call legs!

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:20:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17290
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:20:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03995
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:20:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03156;
	Tue, 6 Nov 2001 09:59:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03126
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 09:59:51 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA15945
	for <sip@ietf.org>; Tue, 6 Nov 2001 09:59:48 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA6ExoC27034;
	Tue, 6 Nov 2001 15:59:50 +0100 (MET)
Received: from lmf.ericsson.se (lmf4ws450.lmf.ericsson.se [131.160.38.50])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA6ExoB12493;
	Tue, 6 Nov 2001 16:59:50 +0200 (EET)
Message-ID: <3BE7FAE6.59CACA16@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 16:59:50 +0200
From: Jari Arkko <Jari.Arkko@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.77 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Michael Thomas <mat@cisco.com>, "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
References: <B65B4F8437968F488A01A940B21982BF020D6D7C@DYN-EXCH-001.dynamicsoft.com> <15335.63125.986182.582153@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg writes:

> Since these are effectively pre-established and "nailed-up" connections
> (re-established under failure cases, of course), the amount of messages to
> set them up does not seem important.

Could be fine in a fixed LAN environment, but think
mobile! If I roam under a different proxy, I need
to establish a new connection.

Jari

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:28:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17648
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:28:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04177
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:28:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03865;
	Tue, 6 Nov 2001 10:13:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03834
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 10:13:13 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA16887
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:13:10 -0500 (EST)
Received: (qmail 3347 invoked from network); 6 Nov 2001 15:05:41 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 6 Nov 2001 15:05:41 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] Handling of duplicate requests with differing request paths.
Date: Tue, 6 Nov 2001 10:12:36 -0500
Message-ID: <000d01c166d5$77aedbe0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6D8A@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> Jo is correct. A stateless LB is, according to the 
> specification, just a
> stateless proxy. A stateless proxy has to send 
> retransmissions to the same
> place as the original request. This means, effectively, that routing
> decisions can ONLY be combinatoric functions of the request 
> received plus

As I stated in my previous mail, the discussion of load balancer has
been side tracked. What you said above is true in a perfect world. But
there is no way you can guarantee a retransmitted INVITE is sent along
the same path when a stateless proxy goes down and its backup has a
slightly different view of the network topology. So a UAS may still
receive two INVITEs from the same UAC but through different paths.

> STATIC configuration data. You need to even be careful of 
> configuration data
> that can change in the middle of a transaction! The solution 
> for these cases
> is that the proxy becomes stateful for long enough to ensure that any
> stateless transactions have cleared.
> 

Where is this requirement stated in bis-05 that a stateless proxy must
route retransmitted INVITEs onto the same path? Are you saying that
stateless proxy does NOT exist in practice? 

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:36:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18088
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:36:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04585
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:36:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03968;
	Tue, 6 Nov 2001 10:19:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03935
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 10:19:54 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA17261
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:19:51 -0500 (EST)
Received: (qmail 3775 invoked from network); 6 Nov 2001 15:12:22 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 6 Nov 2001 15:12:22 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] Handling of duplicate requests with differing request paths.
Date: Tue, 6 Nov 2001 10:19:17 -0500
Message-ID: <000e01c166d6$66d53d90$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6D8B@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


> You need different response codes when there is a differing 
> set of protocol
> behaviors that a client should take. There isn't anything a 
> client can do
> about a merged request, and anything it might do (try later) 
> is no different
> than what it would do for a loop detected (which is also, try later).
> Therefore, I think it is fine for the same response code to 
> be used in this
> case.
> 

Isn't "try later" something that a UAC can always do? Then I am
wondering why we need response codes 404, 410, 483, and 486, just to
name a few? The only thing the UAC can do upon receiving these responses
is to ... Try Later.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 10:36:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18127
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 10:36:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04600
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 10:36:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04125;
	Tue, 6 Nov 2001 10:22:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04029
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 10:22:36 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17366
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:22:33 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6FLrj22702;
	Tue, 6 Nov 2001 10:21:57 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id JAA14412; Tue, 6 Nov 2001 09:21:51 -0600 (CST)
Message-ID: <3BE80002.7D4876D7@lucent.com>
Date: Tue, 06 Nov 2001 09:21:38 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: Dorgham Sisalem <sisalem@fokus.gmd.de>, sip@ietf.org,
        christer.holmberg@lmf.ericsson.se, jiri@iptel.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <B65B4F8437968F488A01A940B21982BF020D6D7A@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> > -----Original Message-----
> > From: Vijay Gurbani [mailto:vkg@lucent.com]
> > Well, in the case of a non-2xx response, ACK basically is used on the 
> > server end to stop retx'ing (if UDP is being used as the transport).
> > Unless you are working on a lossless network, I don't think you can be
> > sure that the 3xx send upstream over UDP actually made it.  The ACK 
> > serves as that notification.
> 
> Thats true, but there are two ways to reliably send the response. One is 
> to retransmit it until ACK, and the other is to retransmit the response on
> retransmissions of the request. If a server does not send a 1xx response 
> to a request, the client will continue to retransmit the request, and this 
> can cause retransmissions of the response. In this case, the ACK is not
> critical, and a server that knows its always a redirect server can "eat"
> both the ACK and the CANCEL (of course it would need to respond to the
> CANCEL with a 2xx).

Jonathan:

I respectfully submit that this behavior will lead to ambiguity and more 
interop nightmares! 

Since the dawn of SIP time, connection-less transports have had 2 ways to 
deal with SIP response reliability: the INVITE way and the non-INVITE way.  

As you are well aware, what you describe above is how response reliability 
is specified for non-INVITE methods (basically, resend final response every 
time the request arrives).  To now say that for redirection, responses to 
the INVITE should have the same behavior as those for non-INVITEs will open 
up a can of worms.

> THe notion of a "stateless uas", which is what this is, is not well
> documented in bis-05. I am not sure how much we want to say about it, as 
> it is effectively an implementation decision that can be made, rather than 
> a new protocol element. However, since doing stateless responding is 
> important for security (and we do mention that), it might be worth giving 
> more guidance than is there now.

It is better to have a tacit understanding that redirect servers may "eat"
up the ACK -- even though I really do not like this behavior -- so that from 
a UAC's point of view, the INVITE/3xx/ACK completes a transaction.  If 
instead, you spell this behavior in the spec, we will run into interop 
nightmares because invariably there will be an UAC implementation that deems 
the ACK optional for 2xx responses as well.  

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 11:01:29 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA19291
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 11:01:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA05235
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 11:01:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04687;
	Tue, 6 Nov 2001 10:40:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04656
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 10:40:55 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18429
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:40:52 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6FePj03001;
	Tue, 6 Nov 2001 10:40:25 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id JAA25247; Tue, 6 Nov 2001 09:40:23 -0600 (CST)
Message-ID: <3BE8045A.7706E3BA@lucent.com>
Date: Tue, 06 Nov 2001 09:40:10 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jiri Kuthan <jiri@iptel.org>
CC: sip@ietf.org
Subject: Re: [Sip] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <5.1.0.14.0.20011105204451.03a2e2a8@iptel.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jiri Kuthan wrote:
> 
> Vijay,
> 
> assume having a stateless redirect server is a useful thing. I think
> that in some scenarios a stateless request-reply service scales better
> and is more robust than a public state storage service. This is where
> I see its value.
> 
> It is difficult for me to find a use for ACK which is meant to tell
> stateful server "take it easy,  the client got it and you can stop
> retransmitting". A stateless server does not retranmist a message it
> does not remember. Thus, it does not need to be told to stop doing so.
> If a message gets lost, then the client who is primarily interested
> in seeing a reponse simply retransmits.

Jiri:

What you describe above is response handling for non-INVITE transactions.
Since redirect servers send 3xx in response to an INVITE transaction (I 
guess they may do so for other requests -- REGISTER, for instance), the
rules for INVITE response retransmission for redirect serves have to be 
special-cased.

> So what does break with a "stateless ACK eater"?

Probably nothing.  I have argued that it is better to have a tacit 
understanding that a redirect server may "eat" up an ACK and retransmit the 
final response on arrival of a request.  It just seems to me that spelling 
this out in the spec may be inviting trouble (remember how many iterations
of constructing Routes from Record-Routes we had to go through...)

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 11:11:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA19544
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 11:11:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA05424
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 11:11:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04831;
	Tue, 6 Nov 2001 10:53:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04804
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 10:53:10 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18964
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:53:07 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6Fqdj09156
	for <sip@ietf.org>; Tue, 6 Nov 2001 10:52:39 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SNQAJ>; Tue, 6 Nov 2001 15:52:39 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC345E@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        "'Shan Lu'"
	 <shanlu@sentito.com>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05: why 200 ms for 100 Trying
Date: Tue, 6 Nov 2001 15:52:37 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

A better view of this is that the server should respond immediately. 200 ms
is the maximum processing delay allowed from received message to transmitted
message. I must admit that I am not particularly keen on this way of trying
to say it. It is not even particularly clear where it is measured (on the
line, between transport layer and SIP, etc.)

If you take this viewpoint, then it is nothing at all to do with the value
of T1.

I would prefer to get rid of this 200 ms value and specify what we really
mean, assuming I have understood the reasoning in the first place.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Shan Lu[SMTP:shanlu@sentito.com]
> Sent: 	02 November 2001 16:10
> To: 	'Gonzalo Camarillo'
> Cc: 	'IETF SIP Mailing List'
> Subject: 	RE: [Sip] Bis-05: why 200 ms for 100 Trying
> 
> Hi,
> 
> It looks like the 200 ms is an educated guess at best and the selection
> of this value really is tied to the difference between T1 and RTT,
> although bis-05 clearly states that T1 is an estimate of RTT, not
> RTT+200ms. Since T1 can be modified and RTT certainly varies between
> applications, I don't see any reason why this value should be kept fixed
> at 200 ms.
> 
> Another thing that bothers me is the way this 200 ms is presented in
> bis-05. Section 17.2.1, line 2703, ".. Must generate 100 Trying unless
> it knows TU will generate a provisional or final response within 200
> ms." 
> 
> How do you verify whether transaction knows something about TU? If no
> response is produced within 200 ms, then is it a violation of the
> protocol? If the answer is yes, then it will be far more clear to state
> that "Must generate 100 Trying within 200 ms". Or does the original
> sentence imply that a 100 Trying must be sent IMMEDIATELY since really
> there is no way for transction to know anything from TU? If so, this
> intention should be cleary stated.
> 
> Regards,
> 
> Shan Lu
> sentitO Networks
> 
> > -----Original Message-----
> > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] 
> > Sent: Thursday, November 01, 2001 12:31 PM
> > To: Shan Lu
> > Cc: IETF SIP Mailing List
> > Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
> > 
> > 
> > Hello,
> > 
> > In almost all the scenarios the server does not have a way of 
> > knowing if
> > a final response will be produced within 200 ms, so the 100 trying is
> > sent immediately.
> > 
> > However, a particular server might know that it usually sends final
> > responses back pretty quick (it might now have to interact 
> > with a human
> > user, for instance). Then, it uses what TCP calls "delayed ack". This
> > saves some traffic, because the server will send one instead of 2
> > responses back.
> > 
> > About the "magic" value of 200 ms: It is impossible to give an exact
> > value for this timer because it would depend on the T1 timer chosen by
> > the client. However, for the default value (T1=500 ms), waiting 200 ms
> > makes perfect sense. 
> > 
> > In the example you give there is a 500 ms RTT. Whereas I am not saying
> > that this is impossible, the RTT is not likely to be so big. Crossing
> > the Atlantic over the public Internet has a RTT of 150 ms aprox. Take
> > into account that 100 Trying is sent hop by hop.
> > 
> > Cellular access could give you a high RTT as well. However, the first
> > server receiving the INVITE is not the one answering with a final
> > response, so it will no use the 200 ms timer. It will respond
> > immediately.
> > 
> > Therefore, I do not see any problem with this timer.
> > 
> > Regards,
> > 
> > Gonzalo
> > 
> > Shan Lu wrote:
> > > 
> > > Hi all,
> > > 
> > > Section 17.2.1, line 2702, mandates a 100 Trying be sent by the
> > > transction server within 200 ms.
> > > 
> > > Q1: What is the rationale behind this magic value, 200 ms? 
> > Note that all
> > > other timer values in transaction FSM are specified with a DEFAULT,
> > > meaning they may be modified by implementations. Then why 
> > is this one
> > > hard coded?
> > > 
> > > Q2: Assume T1 = RTT = 500 ms. If you work out the math, it turns out
> > > that a 100 Trying sent exactly 200 ms (conformant to the above rule)
> > > after the INVITE will result in two INVITEs (initial plus 
> > one retrans)
> > > and hence two 100 Trying, assuming TU can't produce any 1xx or final
> > > response. The same can be achieved if a 100 Trying is sent 
> > exactly 500
> > > ms after the initial INVITE. So the conclusion is that if 
> > you want to
> > > quench request retransmissions as soon as you can, you MUST send 100
> > > Trying IMMEDIATELY. On the other hand, if you can tolerate some
> > > retransmission, you might just as well wait for 500 ms (T1) and hope
> > > that a meaningful 1xx (>100) response can be supplied by 
> > the transaction
> > > user.
> > > 
> > > Regards,
> > > 
> > > Shan Lu
> > > sentitO Networks
> > > 
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > 
> > -- 
> > Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> > Columbia University                  Mobile:  +358 40 702 35 35
> > 472 Computer Science Building        Fax   :  +358  9 299 30 52
> > 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> > New York, NY 10027                   
> > USA                              Gonzalo.Camarillo@ericsson.com
> > 
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 11:47:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA20962
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 11:47:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA06236
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 11:47:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06059;
	Tue, 6 Nov 2001 11:31:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06030
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 11:31:51 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id LAA20276
	for <sip@ietf.org>; Tue, 6 Nov 2001 11:31:48 -0500 (EST)
Received: (qmail 9518 invoked from network); 6 Nov 2001 16:24:19 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 6 Nov 2001 16:24:19 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 6 Nov 2001 11:31:14 -0500
Message-ID: <001101c166e0$73ffdca0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6D83@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

> > I'd like to point out two facts with wait-for-1xx: 1) the 
> > phone could be
> > ringing much longer than a few seconds after the caller has 
> > hung up and
> 
> How is that? The first server transaction will generate some kind of
> response (1xx or the final response) pretty much immediately. 
> Sure, this
> could be lost, but the CANCEL itself could also be lost, so I 
> don't see the
> difference.
> 

The first server along the route is entirely irrelevant. The 1xx
response from the UAS (which is the last server) must be received by the
previous-hop stateful proxy or UAC before the CANCEL can be sent to the
UAS on the last hop. Remember SF proxy must also follow the
wait-for-1xx-then-CANCEL rule.  
 

> > you are guaranteed to ring the
> > callee phone EVERY SINGLE time an INVITE goes out, even if 
> > caller hangs
> > up right away.
> 
> Maybe I missed something, but isn't the point of sending an 
> INVITE to ring a
> phone? Sure, people can change their mind, but it is not reasonable to
> expect that they will be able to beat out the network and end 
> up not causing
> the phone to ring. This expectation does not exist in the PSTN today.

But the PSTN does NOT ring the phone each and every time a user dials a
number and then immediately hangs up. That's what would happen when you
wait-for-1xx-then-cancel. By the time the 1xx is received by the SF
proxy or UAC, assuming it's not 100 Trying, the callee phone has already
started to ring. It's true that CANCEL itself may be lost or the caller
may just hang up too late. But I don't think the protocol should be
designed in such a way that it is guaranteed to cause user-objectionable
scenario and just hope user will put up with it. 

> I strongly object to your proposal. We have worked hard in 
> bis-05 to have a
> set of state machines which work in both proxies and UAs. The 
> goal is to
> eliminate special cases for transaction machines, which was the case
> previously in proxies (2xx not retransmitted, ACK not sent). 
> What you are
> proposing is to define YET ANOTHER transaction machine that is method
> specific. I think we have had enough of that, thank you.
> 

Let me point out that of the two modifications that I proposed, only one
requires FSM change for CANCEL (i.e., a 481 does not put FSM in
"completed" state). The other (i.e., CANCEL is handled statelessly at
server side if no matching INVITE) is not new and SF proxy already
follows this and does not change FSM at all. If you really want to keep
FSM intact, then the transaction user can destroy CANCEL FSM upon 481
response at the client side and resend CANCEL. In that case, no FSM
change is required.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 12:17:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21957
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 12:17:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA07883
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 12:17:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06532;
	Tue, 6 Nov 2001 11:57:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06501
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 11:57:24 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21351
	for <sip@ietf.org>; Tue, 6 Nov 2001 11:57:20 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6Gurj15250
	for <sip@ietf.org>; Tue, 6 Nov 2001 11:56:53 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SNTH3>; Tue, 6 Nov 2001 16:56:52 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3462@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>,
        "'Shan Lu'" <shanlu@sentito.com>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 6 Nov 2001 16:56:52 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Shan Lu[SMTP:shanlu@sentito.com]
> Sent: 	06 November 2001 16:31
> To: 	'Jonathan Rosenberg'; 'IETF SIP Mailing List'
> Subject: 	RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
	<snipped>
> > 
> > Maybe I missed something, but isn't the point of sending an 
> > INVITE to ring a
> > phone? Sure, people can change their mind, but it is not reasonable to
> > expect that they will be able to beat out the network and end 
> > up not causing
> > the phone to ring. This expectation does not exist in the PSTN today.
> 
> But the PSTN does NOT ring the phone each and every time a user dials a
> number and then immediately hangs up. That's what would happen when you
> wait-for-1xx-then-cancel. By the time the 1xx is received by the SF
> proxy or UAC, assuming it's not 100 Trying, the callee phone has already
> started to ring. It's true that CANCEL itself may be lost or the caller
> may just hang up too late. But I don't think the protocol should be
> designed in such a way that it is guaranteed to cause user-objectionable
> scenario and just hope user will put up with it. 
> 
Untrue.

If you complete the number, then the phone will ring. There is no way that
clears catch up with call requests and get absorbed in the modern PSTN/ISDN
signalling systems.

That Ring may be very short, but it happens.

The only way round this is to hang on to the callers requests until you are
sure he is not going to clear the call - surely that is something that ends
up being objectionable to the calling user. 


<remainder snipped>

Keith




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 12:38:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22682
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 12:38:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA08521
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 12:38:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08113;
	Tue, 6 Nov 2001 12:27:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08084
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 12:27:50 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22357
	for <sip@ietf.org>; Tue, 6 Nov 2001 12:27:46 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6HRJj02855
	for <sip@ietf.org>; Tue, 6 Nov 2001 12:27:19 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <4C4SN4Q8>; Tue, 6 Nov 2001 17:27:13 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "Rosen, Brian" <Brian.Rosen@marconi.com>,
        "'Henning G. Schulzrinne'"
	 <hgs@cs.columbia.edu>
Cc: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
Subject: RE: [Sip] Introducing the "new bis" - draft-ietf-sip-rfc2543bis-0
	5
Date: Tue, 6 Nov 2001 17:27:12 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I am unsure here as to whether we are trying to match apples and oranges. 

The MLPP values tend to get compared against each other and highest value
wins in terms of priority. Therefore they do need to be defined as a
sequence rather than a set. A high MLPP value can force a user with a lower
MLPP value to clear down.

That is not necessarily the case of those values that exist in the
rfc2543bis draft Priority header.

I believe we also have a current understanding that the value "Emergency"
represents an emergency call, i.e. 911 in USA speak, and this value has
nothing to do with MLPP usage in existing signalling systems.

By all means use the Priority header, but this may mean that we have to
expect repetitions to cater for different sets of values, and we may have to
have different rules in implementations depending on the set received.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Henning G. Schulzrinne[SMTP:hgs@cs.columbia.edu]
> Sent: 	01 November 2001 0:45
> To: 	Rosen, Brian
> Cc: 	'Mpierce1@aol.com'; sip@ietf.org
> Subject: 	Re: [Sip] Introducing the "new bis" -
> draft-ietf-sip-rfc2543bis-05
> 
> "Rosen, Brian" wrote:
> > 
> > I have been, and am still very interested in being able to implement
> > what is called MultiLevel Priority and Pre-emption in SIP.  As you
> > may recall, Jim Polk has made several proposals on this subject.
> > 
> > The current priority levels are advisory, the values are not defined,
> > and the current definition allows additional tokens to be used. I would
> > like to propose that the next revision, bis-06 deprecate the current
> > token values and substitute the 791 values.  I believe that, as the old
> > ones are indeed advisory, that any existing implementations would not
> break.
> 
> I'm opposed to that. The original values reflect "human communications
> priorities", not network priorities. The RFC 791 priorities are
> 
>           111 - Network Control
>           110 - Internetwork Control
>           101 - CRITIC/ECP
>           100 - Flash Override
>           011 - Flash
>           010 - Immediate
>           001 - Priority
>           000 - Routine
> 
> Unless you work for the military, they are essentially meaningless to
> normal users. Anybody know what ECP is :-)?
> 
> Since we suffer no shortage of header names, I would suggest that we
> have two different sets, one new header for "communications resource
> priority" (based on RFC 791 and/or the ones suggested by Jim Polk) and
> the existing Priority header for "human precedence", using the existing
> naming scheme.
> 
> Usually, the two are closely related, but may not necessarily be. For
> example, most calls, from a network perspective, may be "Routine", but I
> may well consider it "High" priority for the receiving user.
> 
> I've heard that 791-style values are often assigned based on military
> rank, so it could even be that a four-star general makes a "non-urgent"
> call on a "Flash" circuit.
> 
> Changing names is not a good idea in general since existing
> implementations may translate them into local languages (and leave
> unrecognized names alone).
> 
> > 
> > If that is not acceptable, I'd propose that we ADD the RFC 791 tokens
> > to the existing tokens, with language explaining what happened.
> > 
> > Brian
> > 
> 
> > >
> > > Why was the list of priorities taken from RFC 2076 rather
> > > than from RFC 791?
> > > RFC 2076 was informational and copied the list from RFC 1327
> > > (which was
> > > obsoleted by RFC 2156), They addressed mapping between X.400
> > > and RFC 822, but
> > > RFC 822 did not mention any such values. RFC 791 (and
> > > appropriate existing
> > > telephony standards) should form the basis of the priority
> > > definition field
> > > in SIP.
> > >
> 
> 
> > > Also, there needs to be an explicit statement concerning the
> > > order of the
> > > present and the new values. There is no order specified for
> > > the current set.
> > > Different people would come to different conclusions about
> > > the relative order
> > > of "Routine" and "non-urgent". It needs to state that the
> > > current four values
> > > are in the descending order "emergency, urgent, routine, and
> > > non-urgent". The
> 
> Good idea. That clearly is needed for any set.
> 
> > > order of the 5 new values is as defined in RFC 791 and
> > > applicable standards.
> > > Also, there should be no defined relation between the current
> > > set and the new
> > > added set. It is not expected that they would be used
> > > together, but if they
> > > are, it is a local issue on how to handle them.
> > >
> 
> -- 
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 12:54:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA23922
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 12:54:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA09641
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 12:54:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08489;
	Tue, 6 Nov 2001 12:32:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA08458
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 12:32:13 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22518
	for <sip@ietf.org>; Tue, 6 Nov 2001 12:32:09 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA6HWBV29108;
	Tue, 6 Nov 2001 12:32:11 -0500 (EST)
Message-ID: <3BE81E9B.5A3181A9@cs.columbia.edu>
Date: Tue, 06 Nov 2001 12:32:11 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
Subject: Re: [Sip] Introducing the "new bis" - draft-ietf-sip-rfc2543bis-05
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

"Drage, Keith (Keith)" wrote:
> 
> I am unsure here as to whether we are trying to match apples and oranges.
> 
> The MLPP values tend to get compared against each other and highest value
> wins in terms of priority. Therefore they do need to be defined as a
> sequence rather than a set. A high MLPP value can force a user with a lower
> MLPP value to clear down.
> 
> That is not necessarily the case of those values that exist in the
> rfc2543bis draft Priority header.
> 
> I believe we also have a current understanding that the value "Emergency"
> represents an emergency call, i.e. 911 in USA speak, and this value has
> nothing to do with MLPP usage in existing signalling systems.

Indeed. This is purely for the receiving end user. For example, a
suitably authenticated "emergency" message might override a
do-not-disturb call handling directive.

> 
> By all means use the Priority header, but this may mean that we have to
> expect repetitions to cater for different sets of values, and we may have to
> have different rules in implementations depending on the set received.
> 

These are all good arguments for creating a new header for MLPP. Header
names are cheap and it's not a good idea to mix different behaviors. As
I mentioned earlier, I may want something like

MLPP: Routine
Priority: Emergency

or other combinations. 

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 13:11:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA24910
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 13:11:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA10654
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 13:11:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09866;
	Tue, 6 Nov 2001 12:59:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA09836
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 12:59:07 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24280
	for <sip@ietf.org>; Tue, 6 Nov 2001 12:58:58 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA6HwqC26776;
	Tue, 6 Nov 2001 18:58:52 +0100 (MET)
Received: from lmf.ericsson.se (lmf05397pc.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA6HwoB16837;
	Tue, 6 Nov 2001 19:58:51 +0200 (EET)
Message-ID: <3BE824E2.573FE696@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 19:58:58 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se> <3BE6B75B.61F976E0@lucent.com> <3BE7784A.177306AD@lmf.ericsson.se> <3BE7FA2C.D5CFE879@lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Vijay Gurbani wrote:
> 
> Christer Holmberg wrote:
> 
> > > Vijay Gurbani wrote:
> > >I am hard pressed to see why a *redirect* server would return a 18x
> > >response to establish an early dialog...
> >
>>And, even if it does know it will redirect the call, it will probably
>>have to make some database lookups etc, which take time, so it must send
>>some 1xx provisional response. Yes, it may send only 100, but SIP allows
>>it to also send 18x. Maybe it wants to play some kind of "your call is
>>beeing redirected" announcement, or something...
> 
>Theoritically, yes; I agree.

And, even if it's theoritically possible, it IS something we have to
take into consideration. Suddenly it may become reality - and then we'll
have this same discussion again...

>But to my admittedly simple mind, the value of a redirect server *speed*.

I don't agree. For example, the redirect server can try to take some
action (whatever that is), which may take some time. Also, which I said,
there may be a case where it doesn't know it's going to return a 3xx.
And, even if it DOES know it's going to return a 3xx it may take time to
find the correct value to return in the Contact header... or whatever.
And, if the redirect server is nothing more than a simple and fast
database, one could argue that SIP is not even needed to contact it -
use LDAP/whatever instead...

>If I wanted to engage in an extended dialog that involved playing announcements, collecting digits, voice >recognition, why not just use a richer service entity then a simple redirect server.

We should remember that a redirect server is not a physical thing - it's
a functionality. The node offering it may also offer other SIP related
services. And, again, I don't think we can assume that the redirect
server always - today and tomorrow - always will have the final reply
within 200 ms.
 
>In a related thread we are arguing to keep redirect servers even simpler by
>"eating" up the ACK, yet here we are making them more complex by estab-
>lishing early call legs!

We don't make them more complex than any other SIP node...

Regards,

Christer (lmfchh)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 15:09:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA01414
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 15:09:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA16968
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 15:10:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA16318;
	Tue, 6 Nov 2001 14:54:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA16289
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 14:54:10 -0500 (EST)
Received: from ihemail2.firewall.lucent.com (ihemail2.lucent.com [192.11.222.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA00415
	for <sip@ietf.org>; Tue, 6 Nov 2001 14:54:06 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by ihemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA6Js7N17168;
	Tue, 6 Nov 2001 14:54:08 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id NAA24585; Tue, 6 Nov 2001 13:54:06 -0600 (CST)
Message-ID: <3BE83FD1.2C752EC8@lucent.com>
Date: Tue, 06 Nov 2001 13:53:53 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se> <3BE6B75B.61F976E0@lucent.com> <3BE7784A.177306AD@lmf.ericsson.se> <3BE7FA2C.D5CFE879@lucent.com> <3BE824E2.573FE696@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Christer Holmberg wrote:
[...]
> Vijay Gurbani wrote:
> >If I wanted to engage in an extended dialog that involved playing 
> >announcements, collecting digits, voice recognition, why not just use a 
> >richer service entity then a simple redirect server.
> 
> We should remember that a redirect server is not a physical thing - it's
> a functionality. 

Ultimately, any logical role has to be mapped to a physical reality.  And
we have to deal with the physical reality -- warts and all.

Which view is correct?  Streamlining redirect servers so that even the ACK
is optional?  Or burdening them with protocol accompaniments that that go 
beyond *quick* redirection (re-INVITEs, PRACK, 183 responses)?  We could 
debate ad nauseum about this without reaching any conclusion.  While SIP
provides the tools to do the latter, should we necessarily use them for
entities serving as redirect servers?

My personal feeling for redirect servers tend to be in the INVITE/3xx/ACK
category.  A redirect server should step out of the signaling path as soon
as possible and let the end points handle further communications.

Regards,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 15:09:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA01431
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 15:09:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA16982
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 15:10:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA16818;
	Tue, 6 Nov 2001 15:01:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA16771
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 15:01:07 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA00919
	for <sip@ietf.org>; Tue, 6 Nov 2001 15:01:03 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id MAA03549; Tue, 6 Nov 2001 12:00:01 -0800 (PST)
Message-Id: <4.1.20011106134915.0120a6d8@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Tue, 06 Nov 2001 13:59:54 -0600
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>,
        "Drage, Keith (Keith)" <drage@lucent.com>
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Introducing the "new bis" -
  draft-ietf-sip-rfc2543bis-05
Cc: sip@ietf.org
In-Reply-To: <3BE81E9B.5A3181A9@cs.columbia.edu>
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_3577223==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_3577223==_.ALT
Content-Type: text/plain; charset="us-ascii"


Henning

At 12:32 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:
>> 
>> By all means use the Priority header, but this may mean that we have to
>> expect repetitions to cater for different sets of values, and we may have to
>> have different rules in implementations depending on the set received.
>> 
>
>These are all good arguments for creating a new header for MLPP. Header
>names are cheap and it's not a good idea to mix different behaviors. As
>I mentioned earlier, I may want something like
>
>MLPP: Routine
>Priority: Emergency
>
>or other combinations. 

Do you recommend a new MLPP header, or one that is named something else that
can translate or correlate directly as a reference from another Doc having
broader Architecture scope (about MLPP and *not* in the SIP/SIPPING WG's)?

For instance, I took what you wrote earlier in this thread about a
Communications Resource Priority Header and worked it around in my head (with
all my other MLPP thoughts) and believe an MLPP-over-IP Arch doc could
reference this CRP Header (in a separate doc than bis) that happens to have
equivalent values without SIP or SIPPING limiting the use of this CRP Header
just for MLPP. That if another SIP Priority usage comes along sometime in the
future -- there's a chance that usage will merely utilize this CRP Header
(which is a modified version of RFC791's listing) or the existing Priority
Header.

Comments

>
>-- 
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_3577223==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>Henning</div>
<br>
<div>At 12:32 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; By all means use the Priority header, but this may mean
that we have to</div>
<div>&gt;&gt; expect repetitions to cater for different sets of values,
and we may have to</div>
<div>&gt;&gt; have different rules in implementations depending on the
set received.</div>
<div>&gt;&gt; </div>
<div>&gt;</div>
<div>&gt;These are all good arguments for creating a new header for MLPP.
Header</div>
<div>&gt;names are cheap and it's not a good idea to mix different
behaviors. As</div>
<div>&gt;I mentioned earlier, I may want something like</div>
<div>&gt;</div>
<div>&gt;MLPP: Routine</div>
<div>&gt;Priority: Emergency</div>
<div>&gt;</div>
<div>&gt;or other combinations. </div>
<br>
<div>Do you recommend a new MLPP header, or one that is named something
else that can translate or correlate directly as a reference from another
Doc having broader Architecture scope (about MLPP and *not* in the
SIP/SIPPING WG's)?</div>
<br>
<div>For instance, I took what you wrote earlier in this thread about a
Communications Resource Priority Header and worked it around in my head
(with all my other MLPP thoughts) and believe an MLPP-over-IP Arch doc
could reference this CRP Header (in a separate doc than bis) that happens
to have equivalent values without SIP or SIPPING limiting the use of this
CRP Header just for MLPP. That if another SIP Priority usage comes along
sometime in the future -- there's a chance that usage will merely utilize
this CRP Header (which is a modified version of RFC791's listing) or the
existing Priority Header.</div>
<br>
<div>Comments</div>
<br>
<div>&gt;</div>
<div>&gt;-- </div>
<div>&gt;Henning Schulzrinne&nbsp;&nbsp;
<a href="http://www.cs.columbia.edu/~hgs" EUDORA=AUTOURL>http://www.cs.columbia.edu/~hgs</a></div>
<div>&gt;</div>
<div>&gt;_______________________________________________</div>
<div>&gt;Sip mailing list&nbsp;
<a href="http://www1.ietf.org/mailman/listinfo/sip" EUDORA=AUTOURL>http://www1.ietf.org/mailman/listinfo/sip</a></div>
<div>&gt;This list is for NEW development of the core SIP 
Protocol</div>
<div>&gt;Use sip-implementors@cs.columbia.edu for questions on current
sip</div>
<div>&gt;Use sipping@ietf.org for new developments on the application of
sip</div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_3577223==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 15:39:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02577
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 15:39:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA17807
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 15:39:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17150;
	Tue, 6 Nov 2001 15:23:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17124
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 15:23:30 -0500 (EST)
Received: from fox.iptel.org (fox.iptel.org [195.37.77.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02142
	for <sip@ietf.org>; Tue, 6 Nov 2001 15:23:26 -0500 (EST)
Received: from jku.iptel.org ([63.113.46.204])
	by fox.iptel.org (8.11.6/8.11.6) with ESMTP id fA6KMla02466;
	Tue, 6 Nov 2001 21:22:47 +0100
Message-Id: <5.1.0.14.0.20011106170706.02ebb228@iptel.org>
X-Sender: jiri@iptel.org
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Tue, 06 Nov 2001 17:24:59 +0100
To: Vijay Gurbani <vkg@lucent.com>
From: Jiri Kuthan <jiri@iptel.org>
Subject: Re: [Sip] 4xx by stateless proxy
Cc: sip@ietf.org
In-Reply-To: <3BE8045A.7706E3BA@lucent.com>
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org>
 <5.1.0.14.0.20011105204451.03a2e2a8@iptel.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

At 04:40 PM 11/6/2001, Vijay Gurbani wrote:
>> So what does break with a "stateless ACK eater"?
>
>Probably nothing.  I have argued that it is better to have a tacit 
>understanding that a redirect server may "eat" up an ACK and retransmit the 
>final response on arrival of a request.  It just seems to me that spelling 
>this out in the spec may be inviting trouble (remember how many iterations
>of constructing Routes from Record-Routes we had to go through...)

Regardless of whatelse is spelled in the spec or not,
the sentence
The redirect server maintains transaction state for the whole 
SIP  transaction. seems too restrictive to me.

-Jiri


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 15:48:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02790
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 15:48:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA17920
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 15:48:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17730;
	Tue, 6 Nov 2001 15:33:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA17699
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 15:33:10 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02414
	for <sip@ietf.org>; Tue, 6 Nov 2001 15:33:06 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA6KX8f15523;
	Tue, 6 Nov 2001 21:33:08 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA6KX7B19354;
	Tue, 6 Nov 2001 22:33:07 +0200 (EET)
Message-ID: <3BE8490A.176A8D7F@lmf.ericsson.se>
Date: Tue, 06 Nov 2001 22:33:14 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Vijay Gurbani <vkg@lucent.com>
CC: Jiri Kuthan <jiri@iptel.org>, sip@ietf.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <5.1.0.14.0.20011105035139.031622b0@iptel.org> <3BE6A210.30899660@lucent.com> <3BE6A445.86165139@lmf.ericsson.se> <3BE6A85E.28928E0B@lucent.com> <3BE6AF1C.BA160A17@lmf.ericsson.se> <3BE6B75B.61F976E0@lucent.com> <3BE7784A.177306AD@lmf.ericsson.se> <3BE7FA2C.D5CFE879@lucent.com> <3BE824E2.573FE696@lmf.ericsson.se> <3BE83FD1.2C752EC8@lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>Ultimately, any logical role has to be mapped to a physical reality.  And
>we have to deal with the physical reality -- warts and all.
> 
>Which view is correct?  Streamlining redirect servers so that even the ACK
>is optional?  Or burdening them with protocol accompaniments that that go
>beyond *quick* redirection (re-INVITEs, PRACK, 183 responses)?  We could
>debate ad nauseum about this without reaching any conclusion.  While SIP
>provides the tools to do the latter, should we necessarily use them for
>entities serving as redirect servers?
> 
>My personal feeling for redirect servers tend to be in the INVITE/3xx/ACK
>category.  A redirect server should step out of the signaling path as soon
>as possible and let the end points handle further communications.

Yes, but in that case one could argue that 3xx is not even the correct
way to do it. Why can't the redirect server forward the INVITE to the
redirected destination instead, like a proxy?  Then, if the redirect
server doesn't insert its Via (or, it does insert its Via but puts the
UAS's address in the Via received parameter) it won't even have to
handle the responses. It would only need to forward the re-transmited
INVITE every time it receives it, until the UAC receives the 200 (or
whatever the final response will be), sent DIRECTLY from the UAS to the
UAC.

Is that nice SIP behaviour? Maybe not - but, what the heck: we DO get
rid of the redirect server from the signaling path very fast.

If we were to remake the protocol, I am sure there are things we would
do more effective (for example, I would like to be able to use PRACK
transactions without responses...), but I think we have to live with
what we have. And, if we start making "Diet SIP"/"SIP Light"/whatever
stuff for certain cases I am not sure we gain anything. 

And, as long as a redirect server IS allowed to send 1xx it may do so,
so this wouldn't even be general behaviour for a redirect server - it
would only be for a specific case.

I have spoken :)

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 16:03:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA03282
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 16:03:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA18601
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 16:03:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18156;
	Tue, 6 Nov 2001 15:51:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18132
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 15:51:06 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA02904
	for <sip@ietf.org>; Tue, 6 Nov 2001 15:51:01 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA6KoqV10795;
	Tue, 6 Nov 2001 15:50:52 -0500 (EST)
Message-ID: <3BE84D2C.FB06131F@cs.columbia.edu>
Date: Tue, 06 Nov 2001 15:50:52 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "James M. Polk" <jmpolk@cisco.com>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org
Subject: Re: [Sip] Introducing the "new bis" -draft-ietf-sip-rfc2543bis-05
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com> <4.1.20011106134915.0120a6d8@localhost>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

"James M. Polk" wrote:
> 

> Do you recommend a new MLPP header, or one that is named something
> else that can translate or correlate directly as a reference from
> another Doc having broader Architecture scope (about MLPP and *not* in
> the SIP/SIPPING WG's)?

Yes, I would recommend a new MLPP header (not necessarily or even
preferably called MLPP, as that sounds more like multi-layer marketing
than describing its functionality...). If you pick up the RFC 791 terms,
"Precedence" seems like an appropriate name.

I'm usually in favor of small, modular documents rather than
monster-documents; I think the experience with the PacketCable/DCS
documents bears this out, in that splitting the documents helped to
focus discussion. Thus, it might make sense to have an overall document
describing how various features fit together to provide MLPP service
(e.g., relationship or lack thereof to precedence at the IP layer), and
a one-page draft describing the header.

> 
> For instance, I took what you wrote earlier in this thread about a
> Communications Resource Priority Header and worked it around in my
> head (with all my other MLPP thoughts) and believe an MLPP-over-IP
> Arch doc could reference this CRP Header (in a separate doc than bis)

Yes.

> that happens to have equivalent values without SIP or SIPPING limiting
> the use of this CRP Header just for MLPP. That if another SIP Priority
> usage comes along sometime in the future -- there's a chance that
> usage will merely utilize this CRP Header (which is a modified version
> of RFC791's listing) or the existing Priority Header.

I think both bis and your CRP document-to-be-written should make the
distinction very clear: Priority is for handling by humans (or their
appointed software agents), CRP is for getting priority access to
traditional PSTN circuits. Priority access to IP capacity is another
issue and should be dealt with outside of SIP or SIPPING, as it will
involve resource reservation, diff-serv or other technologies. (For
example, this might be a use case for the new NSIS WG-in-formation.)
This is another reason to keep the issues separate.

Does that make sense?

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 18:26:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA06108
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 18:26:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA23042
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 18:26:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22855;
	Tue, 6 Nov 2001 18:09:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22762
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 18:09:20 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA05910
	for <sip@ietf.org>; Tue, 6 Nov 2001 18:09:16 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id PAA06531; Tue, 6 Nov 2001 15:08:14 -0800 (PST)
Message-Id: <4.1.20011106163023.028dcb60@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Tue, 06 Nov 2001 17:08:06 -0600
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Introducing the "new bis"
  -draft-ietf-sip-rfc2543bis-05
Cc: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org
In-Reply-To: <3BE84D2C.FB06131F@cs.columbia.edu>
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
 <4.1.20011106134915.0120a6d8@localhost>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_14869431==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_14869431==_.ALT
Content-Type: text/plain; charset="us-ascii"


Henning

Comments throughout

At 03:50 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:
>"James M. Polk" wrote:
>> 
>
>> Do you recommend a new MLPP header, or one that is named something
>> else that can translate or correlate directly as a reference from
>> another Doc having broader Architecture scope (about MLPP and *not* in
>> the SIP/SIPPING WG's)?
>
>Yes, I would recommend a new MLPP header (not necessarily or even
>preferably called MLPP, as that sounds more like multi-layer marketing
>than describing its functionality...). If you pick up the RFC 791 terms,
>"Precedence" seems like an appropriate name.

I'd like to *not* call it MLPP due to the baggage that acronym carries already

>
>I'm usually in favor of small, modular documents rather than
>monster-documents; I think the experience with the PacketCable/DCS
>documents bears this out, in that splitting the documents helped to
>focus discussion. Thus, it might make sense to have an overall document
>describing how various features fit together to provide MLPP service
>(e.g., relationship or lack thereof to precedence at the IP layer), and
>a one-page draft describing the header.

Agreed with the larger doc specifying MLPP functionality in IP and a much
smaller doc doing the new header.
>
>> 
>> For instance, I took what you wrote earlier in this thread about a
>> Communications Resource Priority Header and worked it around in my
>> head (with all my other MLPP thoughts) and believe an MLPP-over-IP
>> Arch doc could reference this CRP Header (in a separate doc than bis)
>
>Yes.
>
>> that happens to have equivalent values without SIP or SIPPING limiting
>> the use of this CRP Header just for MLPP. That if another SIP Priority
>> usage comes along sometime in the future -- there's a chance that
>> usage will merely utilize this CRP Header (which is a modified version
>> of RFC791's listing) or the existing Priority Header.
>
>I think both bis and your CRP document-to-be-written should make the
>distinction very clear: Priority is for handling by humans (or their
>appointed software agents), 

Here's where I'm missing the subtleties you write of: the existing "Priority is
for handling by humans" could mean many things here -- but I'm thinking from
the MLPP side looking into SIP (with this effort). 

With the CRP Header I know I want to designate 5 levels of Precedence that
Humans (users) can signal to the network for *that session* to receive the
perceived preferential treatment. This must be an administratively authorized
access to the higher levels (and not realistically authentication-based --
because that's not how it works today, nor do customers who want/have MLPP want
this additional oversight). I see the Registration process within SIP as
potentially augmenting the administration by enabling the UA to have access to
the levels the Register reply has in it for a given *known* user; and domain
defined for unknown users.

But what I just described above sounds/reads very much like what you stated
(above that) as for the existing Priority Header.

One additional Precedence level I would like to add is the CRITIC/ECP
(Emergency Call Priority -- I cheated and had to ask someone). This is for GETS
and other Governmental Emergency situations. Below is a link to the
Government's push to get preferential service and access (preemption?) in the
time of emergencies on cell networks (is VoIP next?). Scott Bradner mentioned
recently there might be another IEPS BOF (likely as a reaction to 9/11) in
SLC...

http://www.cnn.com/2001/US/11/06/rec.attacks.cellphones.ap/index.html

>CRP is for getting priority access to traditional PSTN circuits. 

For the seamless access in a hybrid IP/TDM network and the habits of these
users, I know CRP will be for access to the non-IP circuits of an MLPP Domain.
But I don't understand its use in IP extends several hops before accessing
those circuits, and the different role the user would play relative to the
existing Priority Header.

>Priority access to IP capacity is another
>issue and should be dealt with outside of SIP or SIPPING, as it will
>involve resource reservation, diff-serv or other technologies. 

I agreed completely here and am writing a separate, much larger doc for this --
but need the ability to integrate the User enabled precedence choice upon
picking up the handset in SIP... hence my efforts to get a new header -- and
you have given me a great opportunity with the CRP header to fit MLPP and GETS
requirements within the SIP scope into a single small doc, while leaving the
main explanation of functionality to another doc.

>(For
>example, this might be a use case for the new NSIS WG-in-formation.)
>This is another reason to keep the issues separate.
>
>Does that make sense?
>
>-- 
>Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_14869431==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>Henning</div>
<br>
<div>Comments throughout</div>
<br>
<div>At 03:50 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:</div>
<div>&gt;&quot;James M. Polk&quot; wrote:</div>
<div>&gt;&gt; </div>
<div>&gt;</div>
<div>&gt;&gt; Do you recommend a new MLPP header, or one that is named
something</div>
<div>&gt;&gt; else that can translate or correlate directly as a
reference from</div>
<div>&gt;&gt; another Doc having broader Architecture scope (about MLPP
and *not* in</div>
<div>&gt;&gt; the SIP/SIPPING WG's)?</div>
<div>&gt;</div>
<div>&gt;Yes, I would recommend a new MLPP header (not necessarily or
even</div>
<div>&gt;preferably called MLPP, as that sounds more like multi-layer
marketing</div>
<div>&gt;than describing its functionality...). If you pick up the RFC
791 terms,</div>
<div>&gt;&quot;Precedence&quot; seems like an appropriate name.</div>
<br>
<div>I'd like to *not* call it MLPP due to the baggage that acronym
carries already</div>
<br>
<div>&gt;</div>
<div>&gt;I'm usually in favor of small, modular documents rather
than</div>
<div>&gt;monster-documents; I think the experience with the
PacketCable/DCS</div>
<div>&gt;documents bears this out, in that splitting the documents helped
to</div>
<div>&gt;focus discussion. Thus, it might make sense to have an overall
document</div>
<div>&gt;describing how various features fit together to provide MLPP
service</div>
<div>&gt;(e.g., relationship or lack thereof to precedence at the IP
layer), and</div>
<div>&gt;a one-page draft describing the header.</div>
<br>
<div>Agreed with the larger doc specifying MLPP functionality in IP and a
much smaller doc doing the new header.</div>
<div>&gt;</div>
<div>&gt;&gt; </div>
<div>&gt;&gt; For instance, I took what you wrote earlier in this thread
about a</div>
<div>&gt;&gt; Communications Resource Priority Header and worked it
around in my</div>
<div>&gt;&gt; head (with all my other MLPP thoughts) and believe an
MLPP-over-IP</div>
<div>&gt;&gt; Arch doc could reference this CRP Header (in a separate doc
than bis)</div>
<div>&gt;</div>
<div>&gt;Yes.</div>
<div>&gt;</div>
<div>&gt;&gt; that happens to have equivalent values without SIP or
SIPPING limiting</div>
<div>&gt;&gt; the use of this CRP Header just for MLPP. That if another
SIP Priority</div>
<div>&gt;&gt; usage comes along sometime in the future -- there's a
chance that</div>
<div>&gt;&gt; usage will merely utilize this CRP Header (which is a
modified version</div>
<div>&gt;&gt; of RFC791's listing) or the existing Priority
Header.</div>
<div>&gt;</div>
<div>&gt;I think both bis and your CRP document-to-be-written should make
the</div>
<div>&gt;distinction very clear: Priority is for handling by humans (or
their</div>
<div>&gt;appointed software agents), </div>
<br>
<div>Here's where I'm missing the subtleties you write of: the existing
&quot;Priority is for handling by humans&quot; could mean many things
here -- but I'm thinking from the MLPP side looking into SIP (with this
effort). </div>
<br>
<div>With the CRP Header I know I want to designate 5 levels of
Precedence that Humans (users) can signal to the network for *that
session* to receive the perceived preferential treatment. This must be an
administratively authorized access to the higher levels (and not
realistically authentication-based -- because that's not how it works
today, nor do customers who want/have MLPP want this additional
oversight). I see the Registration process within SIP as potentially
augmenting the administration by enabling the UA to have access to the
levels the Register reply has in it for a given *known* user; and domain
defined for unknown users.</div>
<br>
<div>But what I just described above sounds/reads very much like what you
stated (above that) as for the existing Priority Header.</div>
<br>
<div>One additional Precedence level I would like to add is the
CRITIC/ECP (Emergency Call Priority -- I cheated and had to ask someone).
This is for GETS and other Governmental Emergency situations. Below is a
link to the Government's push to get preferential service and access
(preemption?) in the time of emergencies on cell networks (is VoIP
next?). Scott Bradner mentioned recently there might be another IEPS BOF
(likely as a reaction to 9/11) in SLC...</div>
<br>
<div><a href="http://www.cnn.com/2001/US/11/06/rec.attacks.cellphones.ap/index.html" EUDORA=AUTOURL>http://www.cnn.com/2001/US/11/06/rec.attacks.cellphones.ap/index.html</a></div>
<br>
<div>&gt;CRP is for getting priority access to traditional PSTN circuits.
</div>
<br>
<div>For the seamless access in a hybrid IP/TDM network and the habits of
these users, I know CRP will be for access to the non-IP circuits of an
MLPP Domain. But I don't understand its use in IP extends several hops
before accessing those circuits, and the different role the user would
play relative to the existing Priority Header.</div>
<br>
<div>&gt;Priority access to IP capacity is another</div>
<div>&gt;issue and should be dealt with outside of SIP or SIPPING, as it
will</div>
<div>&gt;involve resource reservation, diff-serv or other technologies.
</div>
<br>
<div>I agreed completely here and am writing a separate, much larger doc
for this -- but need the ability to integrate the User enabled precedence
choice upon picking up the handset in SIP... hence my efforts to get a
new header -- and you have given me a great opportunity with the CRP
header to fit MLPP and GETS requirements within the SIP scope into a
single small doc, while leaving the main explanation of functionality to
another doc.</div>
<br>
<div>&gt;(For</div>
<div>&gt;example, this might be a use case for the new NSIS
WG-in-formation.)</div>
<div>&gt;This is another reason to keep the issues separate.</div>
<div>&gt;</div>
<div>&gt;Does that make sense?</div>
<div>&gt;</div>
<div>&gt;-- </div>
<div>&gt;Henning Schulzrinne&nbsp;&nbsp;
<a href="http://www.cs.columbia.edu/~hgs" EUDORA=AUTOURL>http://www.cs.columbia.edu/~hgs</a></div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_14869431==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 18:48:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA06437
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 18:48:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA23637
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 18:48:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA23474;
	Tue, 6 Nov 2001 18:37:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA23443
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 18:37:45 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA06253
	for <sip@ietf.org>; Tue, 6 Nov 2001 18:37:41 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA6NbZV17554;
	Tue, 6 Nov 2001 18:37:35 -0500 (EST)
Message-ID: <3BE8743E.A161F8C3@cs.columbia.edu>
Date: Tue, 06 Nov 2001 18:37:34 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "James M. Polk" <jmpolk@cisco.com>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, sip@ietf.org
Subject: Re: [Sip] Introducing the "new bis"-draft-ietf-sip-rfc2543bis-05
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
	 <4.1.20011106134915.0120a6d8@localhost> <4.1.20011106163023.028dcb60@localhost>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

"James M. Polk" wrote:
> 

> 
> I'd like to *not* call it MLPP due to the baggage that acronym carries
> already

Good - one less fun & entertaining argument about header names...


> >I think both bis and your CRP document-to-be-written should make the
> >distinction very clear: Priority is for handling by humans (or their
> >appointed software agents),
> 
> Here's where I'm missing the subtleties you write of: the existing
> "Priority is for handling by humans" could mean many things here --
> but I'm thinking from the MLPP side looking into SIP (with this
> effort).
> 
> With the CRP Header I know I want to designate 5 levels of Precedence
> that Humans (users) can signal to the network for *that session* to
> receive the perceived preferential treatment. This must be an
> administratively authorized access to the higher levels (and not
> realistically authentication-based -- because that's not how it works
> today, nor do customers who want/have MLPP want this additional
> oversight). I see the Registration process within SIP as potentially
> augmenting the administration by enabling the UA to have access to the
> levels the Register reply has in it for a given *known* user; and
> domain defined for unknown users.

This seems like an implementation decision. If one domain wants to
require biometrics to get higher CRP levels and another allows any
private first class to get the highest level, that's their (respective)
problem.

> 
> But what I just described above sounds/reads very much like what you
> stated (above that) as for the existing Priority Header.

Let me try again: There are two related, but different priorities. Both
are inserted by the UAC (or a proxy on the user's behalf, e.g., if the
call originates from a PSTN phone). I suspect that only CRP will
actually be set by a PSTN gateway, but that's unimportant.

The current Priority header designates the priority the receiving human
being should attach to the incoming call. Typically, this information
will be displayed to the user, be it visually, with a different ring
tone (e.g., a siren for an emergency call...) or flashing lights.

It has nothing to do with network resources. In other words, any proxy
along the way shouldn't care one wit about Priority, with one possible
exception. The user might want to have its proxy use the Priority
information to make call routing and rejection decisions, purely based
on the availability of the user for certain kinds of communications.
This is why CPL knows about Priority.

The model is pretty much exactly as it is for email: Email marked with
higher priority doesn't get delivered any faster, but I can sort by that
priority. (That all high priority messages are spam is another issue I
won't get into...)


> 
> One additional Precedence level I would like to add is the CRITIC/ECP
> (Emergency Call Priority -- I cheated and had to ask someone). This is
> for GETS and other Governmental Emergency situations. Below is a link
> to the Government's push to get preferential service and access
> (preemption?) in the time of emergencies on cell networks (is VoIP
> next?). Scott Bradner mentioned recently there might be another IEPS
> BOF (likely as a reaction to 9/11) in SLC...
> 
> http://www.cnn.com/2001/US/11/06/rec.attacks.cellphones.ap/index.html

Indeed, this is one aspect. Before I get dinged by somebody on this:
Generally, I think network resources should be reserved at the network
layer, not in an application-specific way. But sometimes this isn't as
clear cut, particularly if parts of the path are non-IP or if some
access control at the application layer is involved.

> 
> >CRP is for getting priority access to traditional PSTN circuits.
> 
> For the seamless access in a hybrid IP/TDM network and the habits of
> these users, I know CRP will be for access to the non-IP circuits of
> an MLPP Domain. But I don't understand its use in IP extends several
> hops before accessing those circuits, and the different role the user
> would play relative to the existing Priority Header.

Does the above help? Again, in short:

- Priority: human resources
- Precedence: (non-IP and maybe under some circumstances IP) network
resources (including proxy and other signaling resources), including
maybe access to the air interface, if the air interface is service-aware
(i.e., in some 2.5G and early 3G settings)


-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov  6 20:02:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA07360
	for <sip-archive@odin.ietf.org>; Tue, 6 Nov 2001 20:02:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA25243
	for sip-archive@odin.ietf.org; Tue, 6 Nov 2001 20:02:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA24790;
	Tue, 6 Nov 2001 19:46:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA24762
	for <sip@optimus.ietf.org>; Tue, 6 Nov 2001 19:46:44 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA07225
	for <sip@ietf.org>; Tue, 6 Nov 2001 19:46:41 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id QAA25477; Tue, 6 Nov 2001 16:45:40 -0800 (PST)
Message-Id: <4.1.20011106184138.02d02a18@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Tue, 06 Nov 2001 18:45:32 -0600
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Introducing the "new
  bis"-draft-ietf-sip-rfc2543bis-05
Cc: sip@ietf.org
In-Reply-To: <3BE8743E.A161F8C3@cs.columbia.edu>
References: <475FF955A05DD411980D00508B6D5FB001AC3464@en0033exch001u.uk.lucent.com>
 <4.1.20011106134915.0120a6d8@localhost>
 <4.1.20011106163023.028dcb60@localhost>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_20716178==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_20716178==_.ALT
Content-Type: text/plain; charset="us-ascii"


Henning

At 06:37 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:
>
>Does the above help? 
>
I understand now -- Thank you very much


*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_20716178==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>Henning</div>
<br>
<div>At 06:37 PM 11/6/2001 -0500, Henning G. Schulzrinne wrote:</div>
<div>&gt;</div>
<div>&gt;Does the above help? </div>
<div>&gt;</div>
<div>I understand now -- Thank you very much</div>
<br>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_20716178==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 00:42:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA13133
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 00:42:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA29591
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 00:42:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29203;
	Wed, 7 Nov 2001 00:26:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA29177
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 00:26:41 -0500 (EST)
Received: from blaze.hcltech.com (IDENT:root@[203.199.199.225])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA12958
	for <sip@ietf.org>; Wed, 7 Nov 2001 00:26:39 -0500 (EST)
Received: from Badri.netlab.hcltech.com ([192.168.201.82])
	by blaze.hcltech.com (8.9.3/8.9.3) with ESMTP id LAA04336
	for <sip@ietf.org>; Wed, 7 Nov 2001 11:15:36 +0530
Message-Id: <5.0.2.1.1.20011107104153.00a8ce78@pop3.norton.antivirus>
X-Sender: badrisree/192.168.201.1@pop3.norton.antivirus
X-Mailer: QUALCOMM Windows Eudora Version 5.0.2
Date: Wed, 07 Nov 2001 10:53:41 +0530
To: sip@ietf.org
From: Badri Srinivasan S <badrisree@netlab.hcltech.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] Open issue #185
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi all..

When an INVITE req with Expires hdr arrives @ a proxy is it not more 
appropriate for the proxy to consider it as the time limit for the location 
service to come back with a rsp rather than for the downstream servers to 
return back with the rsp. In the case of a req going thru a chain of proxies
each & every proxy in the signalling path will try to start a timer with 
the same value in the Expires Hdr & expect the server downstream to respond 
within that time which may not be correct if the network delay is fairly high.
The crux is does'nt the Expires hdr determine the time limit for an 
application to respond to the stack rather than the time limit for 
responses between the stacks..?
If it is the former case then CANCEL @ the proxy can be deprecated..

Thanks,
Badri
Badri Srinivasan S

| HCL TECHNOLOGIES
No. 51, Jawaharlal Nehru Road,
Guindy Industrial Estate,
Ekkattuthangal,
Chennai - 600 097

Ph: 233 4174    233 4181
Extn: 235
______________________________________________________
The highest reward for a person's toil is not what they get for it,
but what they become by it.
______________________________________________________

Disclaimer:
This document is intended for transmission to the named recipient only. If 
you are not that person, you should note that legal rights reside in this 
document and you are not authorized to access, read, disclose, copy, use or 
otherwise deal with it and any such actions are prohibited and may be 
unlawful. The views expressed in this document are not necessarily those of 
HCL Technologies Ltd. Notice is hereby given that no representation, 
contract or other binding obligation shall be created by this e-mail, which 
must be interpreted accordingly. Any representations, contractual rights or 
obligations shall be separately communicated in writing and signed in the 
original by a duly authorized officer of the relevant company.




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 03:40:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29424
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 03:40:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA10081
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 03:40:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09623;
	Wed, 7 Nov 2001 03:26:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09594
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 03:26:17 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29308
	for <sip@ietf.org>; Wed, 7 Nov 2001 03:26:14 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA78O5VW015878;
	Wed, 7 Nov 2001 03:24:05 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXZBV>; Wed, 7 Nov 2001 03:25:23 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DB5@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>,
        "'sip-implementors@cs.columbia.edu'"
	 <sip-implementors@cs.columbia.edu>
Date: Wed, 7 Nov 2001 03:25:20 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Possible issue with URL comparison: query for input
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

Discussions have been happening with IESG on SRV usage. One of the oddities
in our current usage is this bit about not using SRV when the URL has a
port, EXCEPT if that port is the default port. That is:

sip:user@foo.com:5099

would use A records, whilst:

sip:user@foo.com:5060

would use SRV. The reason for this odd behavior is rooted in our desire for
the following URLs to be equivalent:

sip:user@foo
sip:user@foo:5060

As the URLs are equivalent, we would expect that their DNS processing should
be the same. Thus, since we use SRV when no port is present, we must also
use SRV if the default port is present.

All of this gets fabulously ugly due to the fact that SIP now has MULTIPLE
default ports that depend on the transport (5060 for UDP and TCP, 5061 for
TLS). The result is that:

sip:user@foo:5061;transport=tls

would use SRV, whilst:

sip:user@foo:5061

would not. Yuck.

The guidance we got was that the far cleaner solution is that:

 a. when the port is present in the URL, always use A records. If there is
no port, use SRV.
 b. as an implication of a., sip:user@foo and sip:user@foo:5060 would *NOT*
be equivalent URLs.

b. above is a change in the URL comparison rules. I am looking to get a
sense whether that would cause interoperability failures in existing and
deployed systems. So, I ask: are there people out there that always put the
5060 as the port in the URL? If so, we will have problems.

Please reply to me privately about what your implementation is doing. I will
collect the results and post the summary to the list.

Thanks,
Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 03:42:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29457
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 03:42:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA10127
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 03:42:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10047;
	Wed, 7 Nov 2001 03:35:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA10016
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 03:35:46 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA29391
	for <sip@ietf.org>; Wed, 7 Nov 2001 03:35:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA78XPVW015918;
	Wed, 7 Nov 2001 03:33:25 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQXZC1>; Wed, 7 Nov 2001 03:34:44 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DB7@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>,
        "'sip-implementors@cs.columbia.edu'"
	 <sip-implementors@cs.columbia.edu>
Date: Wed, 7 Nov 2001 03:34:41 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] query on record-route and route treatment
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

As all of us are painfully aware, the route/record-route operation in SIP is
one of the things that has undergone the most change since rfc2543, and
continues to be the primary source of interop problems. This is coupled with
the fact that we have additional requirements on what we want to do (loose
source routing) which may require further specification.

To assist in a reasonable resolution of this that maintains backwards
compatibility, it would be very helpful to have a sense of what people have
actually implemented. If, for example, all proxies copy the request URI into
the record-route, and add an maddr param with their IP address, there is
room for some interesting mechanisms to support loose source routing which
would not break backwards compatibility.

So, I would request that implementors send me a note with answers to the
following:

For UAs
-------

1. do you reflect URL parameters and record-route header parameters in the
record-routes in a 2xx response to INVITE (i.e., not JUST the user@host
portions of the URL)
2. how does your UAC construct the route set? does it implement whats been
specified in bis-03-05, or the solution which was documented in -01 through
-02 of merging the contact and record-route URLS?
3. how does your UAS construct the route set? does it implement whats been
specified in bis-03-05, or the solution which was documented in -01 through
-02 of merging the contact and record-route URLS?
4. when you send a request to the top element in the route set, if it has an
maddr, do you include that maddr in the request URI, and also send it there,
or do you strip the maddr and then send it there?

For proxies
-----------

1. how do you compute the value of the RR that gets inserted into the
request?
2. do you modify the RR in the response? If so, how?


Please send replies privately; I will aggregate the information and
summarize in a post to the list.

THanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 09:03:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA06617
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 09:03:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA17926
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 09:03:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17435;
	Wed, 7 Nov 2001 08:43:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17404
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 08:43:16 -0500 (EST)
Received: from angelo.kcl.ac.uk (root@angelo.kcl.ac.uk [137.73.66.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA05516
	for <sip@ietf.org>; Wed, 7 Nov 2001 08:43:12 -0500 (EST)
Received:  from ee395 ([137.73.11.95])
	by angelo.kcl.ac.uk  with SMTP id fA7DhBbO021176
	for <sip@ietf.org>; Wed, 7 Nov 2001 13:43:11 GMT
From: "Paul Pangalos" <paul.pangalos@kcl.ac.uk>
To: "Sip@Ietf. Org" <sip@ietf.org>
Date: Wed, 7 Nov 2001 13:46:33 -0000
Message-ID: <NCBBLJMHKEKEDCNJLEJIIEJCCHAA.paul.pangalos@kcl.ac.uk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <3BE6AF1C.BA160A17@lmf.ericsson.se>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] Info Method
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi, has anyone got more information about the 
SIP INFO method. The only thing i found was 
rfc2976.

Thanks

Regards

Paul

 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 09:35:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA08357
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 09:35:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA18594
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 09:35:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18061;
	Wed, 7 Nov 2001 09:16:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA18030
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 09:16:20 -0500 (EST)
Received: from mgw-x2.nokia.com (mgw-x2.nokia.com [131.228.20.22])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA07436
	for <sip@ietf.org>; Wed, 7 Nov 2001 09:16:14 -0500 (EST)
From: krisztian.kiss@nokia.com
Received: from esvir03nok.nokia.com (esvir03nokt.ntc.nokia.com [172.21.143.35])
	by mgw-x2.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fA7EGuA08674
	for <sip@ietf.org>; Wed, 7 Nov 2001 16:16:56 +0200 (EET)
Received: from esebh25nok.ntc.nokia.com (unverified) by esvir03nok.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T5714012c75ac158f23077@esvir03nok.nokia.com> for <sip@ietf.org>;
 Wed, 7 Nov 2001 16:16:15 +0200
Received: by esebh25nok with Internet Mail Service (5.5.2652.78)
	id <V0W3SSLF>; Wed, 7 Nov 2001 16:16:16 +0200
Message-ID: <DED1F2C6CE07FA498D7AD0CCAC03401B0C2950@trebe003.NOE.Nokia.com>
To: sip@ietf.org
Date: Wed, 7 Nov 2001 16:16:11 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2652.78)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] UAS receiving INVITE with valid Route header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,

The question I have in my mind is what happens when a UAS receives an INVITE
request with a valid Route header (where the
Route header probably points to the UA itself)? 
Is it allowed that the UA would terminate this request, however the request
has a valid Route header? 
I guess it might be possible if the UA is for example not capable to proxy
it further.

Regards,
Krisztian


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 11:05:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA13619
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 11:05:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA21821
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 11:05:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA20888;
	Wed, 7 Nov 2001 10:31:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA20857
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 10:31:28 -0500 (EST)
Received: from commserver.iperia.com ([63.84.167.3])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA11763
	for <sip@ietf.org>; Wed, 7 Nov 2001 10:31:23 -0500 (EST)
Received: by commserver.erictest.com with Internet Mail Service (5.5.2653.19)
	id <W3CCS6N2>; Wed, 7 Nov 2001 10:29:46 -0500
Message-ID: <1A69639B9B6AD511812B00B0D0DE19F60A320A@commserver.erictest.com>
From: Gordon Ledgard <gledgard@iperia.com>
To: "'Drage, Keith (Keith)'" <drage@lucent.com>,
        "'Gonzalo Camarillo'"
	 <Gonzalo.Camarillo@lmf.ericsson.se>,
        "'Shan Lu'" <shanlu@sentito.com>
Cc: "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05: why 200 ms for 100 Trying
Date: Wed, 7 Nov 2001 10:29:45 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Agree entirely. The spec should talk about the generic cases of
maximum acceptable delay of responses in order to define listener
behavior and not get caught up in what happens with trying or
ringing, etc. Time effects, in general, should be pushed down to the
lowest layer of a protocol possible.

Also the spec should be clear about the points in the line where
that measurement takes place, ie. does it include round trip wire
or "once in the box" times.

Gordon

-----Original Message-----
From: Drage, Keith (Keith) [mailto:drage@lucent.com]
Sent: Tuesday, November 06, 2001 10:53 AM
To: 'Gonzalo Camarillo'; 'Shan Lu'
Cc: 'IETF SIP Mailing List'
Subject: RE: [Sip] Bis-05: why 200 ms for 100 Trying


A better view of this is that the server should respond immediately. 200 ms
is the maximum processing delay allowed from received message to transmitted
message. I must admit that I am not particularly keen on this way of trying
to say it. It is not even particularly clear where it is measured (on the
line, between transport layer and SIP, etc.)

If you take this viewpoint, then it is nothing at all to do with the value
of T1.

I would prefer to get rid of this 200 ms value and specify what we really
mean, assuming I have understood the reasoning in the first place.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Shan Lu[SMTP:shanlu@sentito.com]
> Sent: 	02 November 2001 16:10
> To: 	'Gonzalo Camarillo'
> Cc: 	'IETF SIP Mailing List'
> Subject: 	RE: [Sip] Bis-05: why 200 ms for 100 Trying
> 
> Hi,
> 
> It looks like the 200 ms is an educated guess at best and the selection
> of this value really is tied to the difference between T1 and RTT,
> although bis-05 clearly states that T1 is an estimate of RTT, not
> RTT+200ms. Since T1 can be modified and RTT certainly varies between
> applications, I don't see any reason why this value should be kept fixed
> at 200 ms.
> 
> Another thing that bothers me is the way this 200 ms is presented in
> bis-05. Section 17.2.1, line 2703, ".. Must generate 100 Trying unless
> it knows TU will generate a provisional or final response within 200
> ms." 
> 
> How do you verify whether transaction knows something about TU? If no
> response is produced within 200 ms, then is it a violation of the
> protocol? If the answer is yes, then it will be far more clear to state
> that "Must generate 100 Trying within 200 ms". Or does the original
> sentence imply that a 100 Trying must be sent IMMEDIATELY since really
> there is no way for transction to know anything from TU? If so, this
> intention should be cleary stated.
> 
> Regards,
> 
> Shan Lu
> sentitO Networks
> 
> > -----Original Message-----
> > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] 
> > Sent: Thursday, November 01, 2001 12:31 PM
> > To: Shan Lu
> > Cc: IETF SIP Mailing List
> > Subject: Re: [Sip] Bis-05: why 200 ms for 100 Trying
> > 
> > 
> > Hello,
> > 
> > In almost all the scenarios the server does not have a way of 
> > knowing if
> > a final response will be produced within 200 ms, so the 100 trying is
> > sent immediately.
> > 
> > However, a particular server might know that it usually sends final
> > responses back pretty quick (it might now have to interact 
> > with a human
> > user, for instance). Then, it uses what TCP calls "delayed ack". This
> > saves some traffic, because the server will send one instead of 2
> > responses back.
> > 
> > About the "magic" value of 200 ms: It is impossible to give an exact
> > value for this timer because it would depend on the T1 timer chosen by
> > the client. However, for the default value (T1=500 ms), waiting 200 ms
> > makes perfect sense. 
> > 
> > In the example you give there is a 500 ms RTT. Whereas I am not saying
> > that this is impossible, the RTT is not likely to be so big. Crossing
> > the Atlantic over the public Internet has a RTT of 150 ms aprox. Take
> > into account that 100 Trying is sent hop by hop.
> > 
> > Cellular access could give you a high RTT as well. However, the first
> > server receiving the INVITE is not the one answering with a final
> > response, so it will no use the 200 ms timer. It will respond
> > immediately.
> > 
> > Therefore, I do not see any problem with this timer.
> > 
> > Regards,
> > 
> > Gonzalo
> > 
> > Shan Lu wrote:
> > > 
> > > Hi all,
> > > 
> > > Section 17.2.1, line 2702, mandates a 100 Trying be sent by the
> > > transction server within 200 ms.
> > > 
> > > Q1: What is the rationale behind this magic value, 200 ms? 
> > Note that all
> > > other timer values in transaction FSM are specified with a DEFAULT,
> > > meaning they may be modified by implementations. Then why 
> > is this one
> > > hard coded?
> > > 
> > > Q2: Assume T1 = RTT = 500 ms. If you work out the math, it turns out
> > > that a 100 Trying sent exactly 200 ms (conformant to the above rule)
> > > after the INVITE will result in two INVITEs (initial plus 
> > one retrans)
> > > and hence two 100 Trying, assuming TU can't produce any 1xx or final
> > > response. The same can be achieved if a 100 Trying is sent 
> > exactly 500
> > > ms after the initial INVITE. So the conclusion is that if 
> > you want to
> > > quench request retransmissions as soon as you can, you MUST send 100
> > > Trying IMMEDIATELY. On the other hand, if you can tolerate some
> > > retransmission, you might just as well wait for 500 ms (T1) and hope
> > > that a meaningful 1xx (>100) response can be supplied by 
> > the transaction
> > > user.
> > > 
> > > Regards,
> > > 
> > > Shan Lu
> > > sentitO Networks
> > > 
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> > 
> > -- 
> > Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> > Columbia University                  Mobile:  +358 40 702 35 35
> > 472 Computer Science Building        Fax   :  +358  9 299 30 52
> > 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> > New York, NY 10027                   
> > USA                              Gonzalo.Camarillo@ericsson.com
> > 
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 11:41:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA15438
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 11:41:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA22657
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 11:41:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA22056;
	Wed, 7 Nov 2001 11:22:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA22025
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 11:22:14 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA14484
	for <sip@ietf.org>; Wed, 7 Nov 2001 11:22:10 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA7GM0C09148
	for <sip@ietf.org>; Wed, 7 Nov 2001 17:22:00 +0100 (MET)
Received: from lmf.ericsson.se (lmf05397pc.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA7GLxB21044
	for <sip@ietf.org>; Wed, 7 Nov 2001 18:21:59 +0200 (EET)
Message-ID: <3BE95FA6.C005A7A4@lmf.ericsson.se>
Date: Wed, 07 Nov 2001 18:21:58 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Bis-5: Proxy-Require modification
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I have a small question on the Proxy-Require header.

On page 132, in table 3, it is indicated (using "r" in the "proxy"
column) that a proxy must be able to read and understand the header. So
far, so good.
 
However, there are functionalities which only requires ONE proxy to
support and perform an action. After that is done other proxies don't
need to support it anymore. An example of this is the SIP Caller
Identity and Privacy function.

So, my question is: should a proxy also be allowed to modify the header
(remote a specific option-tag, or the whole header), ie should there be
an "m" in the "proxy" column in the table?
 
Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 15:46:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23221
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 15:46:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA29818
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 15:46:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29607;
	Wed, 7 Nov 2001 15:33:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29578
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 15:33:15 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA22931
	for <sip@ietf.org>; Wed, 7 Nov 2001 15:33:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA7KVN0r020535;
	Wed, 7 Nov 2001 15:31:23 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX6C2>; Wed, 7 Nov 2001 15:32:41 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DD8@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'krisztian.kiss@nokia.com'" <krisztian.kiss@nokia.com>, sip@ietf.org
Subject: RE: [Sip] UAS receiving INVITE with valid Route header
Date: Wed, 7 Nov 2001 15:32:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: krisztian.kiss@nokia.com [mailto:krisztian.kiss@nokia.com]
> Sent: Wednesday, November 07, 2001 9:16 AM
> To: sip@ietf.org
> Subject: [Sip] UAS receiving INVITE with valid Route header
> 
> 
> Hi,
> 
> The question I have in my mind is what happens when a UAS 
> receives an INVITE
> request with a valid Route header (where the
> Route header probably points to the UA itself)? 

This should hopefully never happen in the first place. 

> Is it allowed that the UA would terminate this request, 
> however the request
> has a valid Route header? 
> I guess it might be possible if the UA is for example not 
> capable to proxy
> it further.

I suspect that the UA would simply ignore the Route header and process the
request, so long as the request URI identified the UA that received the
request.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 15:53:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23367
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 15:53:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA29963
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 15:53:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29668;
	Wed, 7 Nov 2001 15:38:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29640
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 15:38:12 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23042
	for <sip@ietf.org>; Wed, 7 Nov 2001 15:38:07 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA7KZo0r020577;
	Wed, 7 Nov 2001 15:35:50 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX6C9>; Wed, 7 Nov 2001 15:37:07 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DD9@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Badri Srinivasan S'" <badrisree@netlab.hcltech.com>, sip@ietf.org
Subject: RE: [Sip] Open issue #185
Date: Wed, 7 Nov 2001 15:37:07 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Badri Srinivasan S [mailto:badrisree@netlab.hcltech.com]
> Sent: Wednesday, November 07, 2001 12:24 AM
> To: sip@ietf.org
> Subject: [Sip] Open issue #185
> 
> 
> Hi all..
> 
> When an INVITE req with Expires hdr arrives @ a proxy is it not more 
> appropriate for the proxy to consider it as the time limit 
> for the location 
> service to come back with a rsp rather than for the 
> downstream servers to 
> return back with the rsp. 

No, that is not the definition.

> In the case of a req going thru a 
> chain of proxies
> each & every proxy in the signalling path will try to start a 
> timer with 
> the same value in the Expires Hdr & expect the server 
> downstream to respond 
> within that time which may not be correct if the network 
> delay is fairly high.

Network synchronization isn't required for the Expires to work. 

When the time expires, all of the following should happen:

1. the UAC sends a CANCEL
2. each proxy sends a CANCEL
3. the uas generates a 408 (or 487)

It turns out that this will cause the same amount of network traffic to
occur as if the UAC alone sent a CANCEL. THus, there is no real extra
overhead to having the proxies all send expirations, and the benefit is a
very robust mechanism that will guarnatee you to end the transaction even if
a few elements have gone away.

The only real issue in my mind is the strength of the above three actions
(SHOULD, MAY, MUST). I am inclined towards SHOULD for all three.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 15:59:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23768
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 15:59:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA00022
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 15:59:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29875;
	Wed, 7 Nov 2001 15:48:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29845
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 15:47:58 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23241
	for <sip@ietf.org>; Wed, 7 Nov 2001 15:47:53 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA7KjW0r020657;
	Wed, 7 Nov 2001 15:45:32 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX611>; Wed, 7 Nov 2001 15:46:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DDA@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: Dorgham Sisalem <sisalem@fokus.gmd.de>, sip@ietf.org,
        christer.holmberg@lmf.ericsson.se, jiri@iptel.org
Subject: RE: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless p
	roxy
Date: Wed, 7 Nov 2001 15:46:48 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Vijay Gurbani [mailto:vkg@lucent.com]
> Sent: Tuesday, November 06, 2001 10:22 AM
> To: Jonathan Rosenberg
> Cc: Dorgham Sisalem; sip@ietf.org; christer.holmberg@lmf.ericsson.se;
> jiri@iptel.org
> Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx 
> by stateless
> proxy
> 
> > Thats true, but there are two ways to reliably send the 
> response. One is 
> > to retransmit it until ACK, and the other is to retransmit 
> the response on
> > retransmissions of the request. If a server does not send a 
> 1xx response 
> > to a request, the client will continue to retransmit the 
> request, and this 
> > can cause retransmissions of the response. In this case, 
> the ACK is not
> > critical, and a server that knows its always a redirect 
> server can "eat"
> > both the ACK and the CANCEL (of course it would need to 
> respond to the
> > CANCEL with a 2xx).
> 
> Jonathan:
> 
> I respectfully submit that this behavior will lead to 
> ambiguity and more 
> interop nightmares! 
> 
> Since the dawn of SIP time, connection-less transports have 
> had 2 ways to 
> deal with SIP response reliability: the INVITE way and the 
> non-INVITE way.  
> 
> As you are well aware, what you describe above is how 
> response reliability 
> is specified for non-INVITE methods (basically, resend final 
> response every 
> time the request arrives).  To now say that for redirection, 
> responses to 
> the INVITE should have the same behavior as those for 
> non-INVITEs will open 
> up a can of worms.

No, thats not what I'm saying. I am saying that it is possible, without any
change to the protocols and without knowledge of the client transaction, for
a server to generate stateless responses. Something which works without
protocol changes and without knowledge of the peer is always possible
whether I specify it or not. Thus, this still remains the out-of-the-box
INVITE transaction as far as the client is concerned, and we have total
interoperability. 

The issue here is that the spec ALREADY talks about statelessly responding,
as a means to avoid DoS attacks. So, we can either leave it at that, or
provide more details on an implementation mechanism that I think is quite
helpful.


> 
> > THe notion of a "stateless uas", which is what this is, is not well
> > documented in bis-05. I am not sure how much we want to say 
> about it, as 
> > it is effectively an implementation decision that can be 
> made, rather than 
> > a new protocol element. However, since doing stateless 
> responding is 
> > important for security (and we do mention that), it might 
> be worth giving 
> > more guidance than is there now.
> 
> It is better to have a tacit understanding that redirect 
> servers may "eat"
> up the ACK -- even though I really do not like this behavior 
> -- so that from 
> a UAC's point of view, the INVITE/3xx/ACK completes a 
> transaction. 

That was my proposal. You always have to send the ACK, period.


 If 
> instead, you spell this behavior in the spec, we will run 
> into interop 
> nightmares because invariably there will be an UAC 
> implementation that deems 
> the ACK optional for 2xx responses as well.  

That is not what I am proposing. Since the client has no way to know whether
the next hop is statelessly or statefully responding (but suffering losses),
you have to send the ACK since you can't know whether it will work without
it.

Christer's proposal, however, is to make a protocol change to avoid the ACK.
That, to me, is a recipe for interop nightmares. I do not want another state
machine definition; I want to document an implementation improvement (which
is needed for UAS in general) within the scope of the defined INVITE
transactions.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 16:59:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA24567
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 16:59:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA01235
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 17:00:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01055;
	Wed, 7 Nov 2001 16:42:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA01024
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 16:42:31 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA24354
	for <sip@ietf.org>; Wed, 7 Nov 2001 16:42:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA7Lef0r021231;
	Wed, 7 Nov 2001 16:40:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX6MQ>; Wed, 7 Nov 2001 16:41:58 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DDF@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Wed, 7 Nov 2001 16:41:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Tuesday, November 06, 2001 11:31 AM
> To: 'Jonathan Rosenberg'; 'IETF SIP Mailing List'
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> Hi,
> 
> > > I'd like to point out two facts with wait-for-1xx: 1) the 
> > > phone could be
> > > ringing much longer than a few seconds after the caller has 
> > > hung up and
> > 
> > How is that? The first server transaction will generate some kind of
> > response (1xx or the final response) pretty much immediately. 
> > Sure, this
> > could be lost, but the CANCEL itself could also be lost, so I 
> > don't see the
> > difference.
> > 
> 
> The first server along the route is entirely irrelevant. The 1xx
> response from the UAS (which is the last server) must be 
> received by the
> previous-hop stateful proxy or UAC before the CANCEL can be 
> sent to the
> UAS on the last hop. Remember SF proxy must also follow the
> wait-for-1xx-then-CANCEL rule.  

OK, so what? I still don't see how this implies that the phone will ring for
any substantial amount of time. The phone starts ringing when the UAS gets
the INVITE; it sends the 1xx, and then the previous hop proxy can send the
cancel. This will be some number of milliseconds. 

> > Maybe I missed something, but isn't the point of sending an 
> > INVITE to ring a
> > phone? Sure, people can change their mind, but it is not 
> reasonable to
> > expect that they will be able to beat out the network and end 
> > up not causing
> > the phone to ring. This expectation does not exist in the 
> PSTN today.
> 
> But the PSTN does NOT ring the phone each and every time a 
> user dials a
> number and then immediately hangs up. That's what would 
> happen when you
> wait-for-1xx-then-cancel. 

As Keith and others have pointed out, this is NOT the case in the PSTN. The
PSTN will have this exact problem.

> By the time the 1xx is received by the SF
> proxy or UAC, assuming it's not 100 Trying, the callee phone 
> has already
> started to ring. It's true that CANCEL itself may be lost or 
> the caller
> may just hang up too late. But I don't think the protocol should be
> designed in such a way that it is guaranteed to cause 
> user-objectionable
> scenario and just hope user will put up with it. 


I think user expectation is that if you dial the phone and then hangup, the
far end phone may briefly ring and then stop. 

> 
> > I strongly object to your proposal. We have worked hard in 
> > bis-05 to have a
> > set of state machines which work in both proxies and UAs. The 
> > goal is to
> > eliminate special cases for transaction machines, which was the case
> > previously in proxies (2xx not retransmitted, ACK not sent). 
> > What you are
> > proposing is to define YET ANOTHER transaction machine that 
> is method
> > specific. I think we have had enough of that, thank you.
> > 
> 
> Let me point out that of the two modifications that I 
> proposed, only one
> requires FSM change for CANCEL (i.e., a 481 does not put FSM in
> "completed" state). The other (i.e., CANCEL is handled statelessly at
> server side if no matching INVITE) is not new and SF proxy already
> follows this and does not change FSM at all. If you really 
> want to keep
> FSM intact, then the transaction user can destroy CANCEL FSM upon 481
> response at the client side and resend CANCEL. In that case, no FSM
> change is required.

This in itself is a change in behavior, since the client FSM is supposed to
stick around for a little to absorb additional response retransmissions. 

I still think this is much ado about nothing. The treatment that is
prescribed in bis is no different than the way any other signaling protocol
that runs on an ordered transport would operate. System behavior is no
different than the PSTN. It is consistent with the transaction models
already defined an in operation.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 17:13:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA24841
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 17:13:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA01897
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 17:13:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01775;
	Wed, 7 Nov 2001 17:01:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01746
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 17:01:06 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA24612
	for <sip@ietf.org>; Wed, 7 Nov 2001 17:01:01 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA7LxG0r021405
	for <sip@ietf.org>; Wed, 7 Nov 2001 16:59:16 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX6PF>; Wed, 7 Nov 2001 17:00:34 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FD64@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Thu, 1 Nov 2001 15:18:27 -0500 
Deferred-Delivery: Wed, 7 Nov 2001 17:00:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - 6 - Last Call Open Discussion CLOSED - draft-ietf-sip-ma
 nyfolks-resource-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP WG Members,

       The subject draft's (link below) Open Discussion is now closed.

       The authors should be posting their summaries on the list shortly.

       Thank you for your participation in this discussion. The next step is
to poll the chairs and submit an updated draft to the IESG.

       If you have any further questions, please feel free to contact me.

Links

Draft -
http://www.softarmor.com/sipwg/drafts/draft-ietf-sip-manyfolks-resource-02.t
xt
Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 23:52:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA03047
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 23:52:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA12217
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 23:52:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11117;
	Wed, 7 Nov 2001 23:21:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11084
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:21:21 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02309
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:21:16 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84JT0r023140;
	Wed, 7 Nov 2001 23:19:29 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7GS>; Wed, 7 Nov 2001 23:20:48 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DEC@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>,
        "Chen, Xin (Xin)"
	 <xchen2@lucent.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] Question regarding 300 Redirect Response
Date: Wed, 7 Nov 2001 23:20:47 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Vijay Gurbani [mailto:vkg@lucent.com]
> Sent: Tuesday, November 06, 2001 9:40 AM
> To: Chen, Xin (Xin)
> Cc: 'sip@ietf.org'; Jonathan Rosenberg
> Subject: Re: [Sip] Question regarding 300 Redirect Response
> 
> Doing a quick search on -05bis yielded some verbiage in 
> section 16.6, Step 
> 3, last paragraph.	
> 
> Jonathan: is it a good idea to add some stuff in section 16.6, step 5 
> "Choosing the best response" dealing with 3xx recursion for 
> proxies?  -04
> bis spelled it out a little more distinctly than -05 does.

THats not really the right place for it. Lines 2131-2137 talk about adding
destinations at any time, including on receipt of a 3xx. There needs to be
more verbiage on recursion, for sure. THis is one bit of bis-05 I'm still
not happy with. Redirection/recursion is a function that is common to both
UA core and proxy core. Functions common to both should be documented in one
place and referenced from elsewhere, but that isn't the case right now. 

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 23:55:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA03086
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 23:55:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA12286
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 23:55:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10536;
	Wed, 7 Nov 2001 23:03:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10505
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:03:16 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02097
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:03:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA841M0r023065;
	Wed, 7 Nov 2001 23:01:23 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7FR>; Wed, 7 Nov 2001 23:02:41 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DE8@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Wed, 7 Nov 2001 23:02:40 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Tuesday, November 06, 2001 10:13 AM
> To: 'Jonathan Rosenberg'; sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> 
> Hello,
> 
> > Jo is correct. A stateless LB is, according to the 
> > specification, just a
> > stateless proxy. A stateless proxy has to send 
> > retransmissions to the same
> > place as the original request. This means, effectively, that routing
> > decisions can ONLY be combinatoric functions of the request 
> > received plus
> 
> As I stated in my previous mail, the discussion of load balancer has
> been side tracked. What you said above is true in a perfect world. But
> there is no way you can guarantee a retransmitted INVITE is sent along
> the same path when a stateless proxy goes down and its backup has a
> slightly different view of the network topology. 

Well, service providers should beware to not purchase products like that.

That said, of course there can be failure cases and all, but the
specification doesn't define behavior for every conceivable failure case.

> > STATIC configuration data. You need to even be careful of 
> > configuration data
> > that can change in the middle of a transaction! The solution 
> > for these cases
> > is that the proxy becomes stateful for long enough to 
> ensure that any
> > stateless transactions have cleared.
> > 
> 
> Where is this requirement stated in bis-05 that a stateless proxy must
> route retransmitted INVITEs onto the same path?

Line 2464 of rfc2543bis-05:

 A stateless proxy MUST choose one and only one destination from the
destination set. This choice 2464
MUST only rely on fields in the message and time-invariant properties of the
server. In particular, a 2465
retransmitted request MUST be forwarded to the same destination each time it
is processed. Further- 2466
more, CANCEL and non-Routed ACK requests MUST generate the same choice as
their associated 2467
INVITE. 2468


> Are you saying that
> stateless proxy does NOT exist in practice? 

No, I'm merely saying that they need to forward retransmissions to the same
place. However, it is not trivial to make sure you always do that, even
through configuration changes. 

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 23:55:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA03111
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 23:55:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA12300
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 23:55:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10710;
	Wed, 7 Nov 2001 23:08:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10679
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:08:00 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02158
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:07:55 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84690r023090;
	Wed, 7 Nov 2001 23:06:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7F7>; Wed, 7 Nov 2001 23:07:27 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DEA@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Jari Arkko'" <Jari.Arkko@lmf.ericsson.se>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: Michael Thomas <mat@cisco.com>, "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Wed, 7 Nov 2001 23:07:26 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Jari Arkko [mailto:Jari.Arkko@lmf.ericsson.se]
> Sent: Tuesday, November 06, 2001 10:00 AM
> To: Jonathan Rosenberg
> Cc: Michael Thomas; 'Shieh, Hugh'; 'Peterson, Jon'; 'sip@ietf.org'
> Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
> 
> 
> 
> Jonathan Rosenberg writes:
> 
> > Since these are effectively pre-established and "nailed-up" 
> connections
> > (re-established under failure cases, of course), the amount 
> of messages to
> > set them up does not seem important.
> 
> Could be fine in a fixed LAN environment, but think
> mobile! If I roam under a different proxy, I need
> to establish a new connection.

I agree its not ideal there, but neither is IPSec. ALthough if I had to
pick, TLS is far better between a user and a proxy than IPSec. Its really
between proxies than I'm talking about "nailed up" connections.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov  7 23:55:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA03128
	for <sip-archive@odin.ietf.org>; Wed, 7 Nov 2001 23:55:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA12318
	for sip-archive@odin.ietf.org; Wed, 7 Nov 2001 23:55:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10616;
	Wed, 7 Nov 2001 23:05:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10585
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:05:31 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02134
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:05:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA843f0r023077;
	Wed, 7 Nov 2001 23:03:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7FW>; Wed, 7 Nov 2001 23:04:59 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DE9@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	aths.
Date: Wed, 7 Nov 2001 23:04:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Tuesday, November 06, 2001 10:19 AM
> To: 'Jonathan Rosenberg'; sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> paths.
> 
> 
> 
> > You need different response codes when there is a differing 
> > set of protocol
> > behaviors that a client should take. There isn't anything a 
> > client can do
> > about a merged request, and anything it might do (try later) 
> > is no different
> > than what it would do for a loop detected (which is also, 
> try later).
> > Therefore, I think it is fine for the same response code to 
> > be used in this
> > case.
> > 
> 
> Isn't "try later" something that a UAC can always do? 

Sure.

>Then I am
> wondering why we need response codes 404, 410, 483, and 486, just to
> name a few?

These response codes imply additional semantics. 486, for example, would
cause some kind of busy tone or something to be played. 404 might ask the
user if they want to delete the entry from the address book since it doesn't
appear to be valid. 

Request merging and loops are both protocol errors that have little interest
to the human user, and there is nothing much to convey to them or do beyond
try later.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:04:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03236
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:04:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA12754
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:04:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10869;
	Wed, 7 Nov 2001 23:14:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA10839
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:14:42 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02221
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:14:37 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84CL0r023104;
	Wed, 7 Nov 2001 23:12:21 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7G1>; Wed, 7 Nov 2001 23:13:39 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DEB@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Henning G. Schulzrinne'"
	 <hgs@cs.columbia.edu>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Wed, 7 Nov 2001 23:13:39 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



  
-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Tuesday, November 06, 2001 2:29 AM
To: 'Henning G. Schulzrinne'; Jonathan Rosenberg
Cc: 'Peterson, Jon'; 'sip@ietf.org'
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP


>Would love to see Gonzalo's simulation result on call setup delay
distribution. However, by 
>recommending TLS/TCP, does that mean that the involved proxies have to be
stateful 
>(according to line: 2013)? 

Funny you should mention it; I just logged a bug against this one. Turns out
that you don't need to be stateful if you are TLS/TCP in both directions.
This didn't used to be true because of the close coupling of transactions
with transport. With a clean separation now, you don't need to maintain
transaction state in order to maintain "transport state" - the set of
persistent connections.


>In any case, UDP is still (or is it?) mandated for all SIP 
>elements, so a solution other than TLS is still needed for UDP.

For user to proxy, its not clear that a transport level solution is the
right one. Although I have argued that basic/digest over TLS has benefits,
it clearly has scale issues and problems in wireless. So, we still need a
solution there, but its not a transport solution. TLS would still remain as
the recommended transport solution (yeah, yeah, tls isn't a transport; you
know what I mean).



"the bad thing about security technologies is that its so easy to find fault
and impossible to find solutions"

-Jonathan R.


 
-----Original Message----- 
From: Henning G. Schulzrinne [mailto:hgs@cs.columbia.edu] 
Sent: Monday, November 05, 2001 3:56 PM 
To: Jonathan Rosenberg 
Cc: 'Shieh, Hugh'; 'Peterson, Jon'; 'sip@ietf.org' 
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP 


Jonathan Rosenberg wrote: 
> 
> time, or on the first call, and then reused as needed. I am sure people
will 
> dredge up the old HOL blocking issues with TCP. I still am waiting for 
Gonzalo Camarillo has done a number of simulations on this here at 
Columbia; he should summarize the details, but my summary is "you have 
to try really, really hard for it to make a difference". 
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs 

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:06:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03260
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:06:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA12990
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:06:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11289;
	Wed, 7 Nov 2001 23:28:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11259
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:28:31 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02347
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:28:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84Qd0r023177;
	Wed, 7 Nov 2001 23:26:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7HD>; Wed, 7 Nov 2001 23:27:58 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DED@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Itamar Gilad'" <ItamarG@radvision.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Handling of duplicate requests with differing request p
	 aths.
Date: Wed, 7 Nov 2001 23:27:57 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Itamar Gilad [mailto:ItamarG@radvision.com]
> Sent: Tuesday, November 06, 2001 8:55 AM
> To: 'Jonathan Rosenberg'; 'Christer Holmberg'; Bob Penfield
> Cc: sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request
> p aths.
> 
>
> > The way an ACK gets matched to its 2xx is strictly through 
> the dialog
> > identifiers - To, From and Call-ID, and this matching happens 
> > in the UA
> > core, not in the transaction layer (thus via, request uri are both
> > irrelevant).
> > 
> > Thanks,
> > Jonathan R.
> > 
> 
> Does that apply to a stateful proxy too?

Absolutely not. Matching of ACK for 2xx to a particular 2xx is a UAS
function.

> 
> For example: what about when the INVITE gets spiraled through 
> proxy P and it
> Record-Routes both times.  The ACK will also get spiraled 
> because of the
> Route list, but the proxy needs to inspect the Req-URI in the 
> ACK each time
> it hits the proxy in order to correctly identify which of the original
> INVITEs it matches.

There is no need to correctly identify which of the original IVNITEs it
matches in the case of a proxy. The proxy is not retransmitting the 2xx;
there is no need to match. You may want to do it for purposes of call
statefulness or something like that. Thats different. See below.


> 
> Here's another bizarre one:  INV and 200 go through proxy P1. 
>  The UAS puts
> me@P1 as Contact therefore The ACK hits P1 with a different 
> Req-URI (me@P1)
> than the original INVITE. In this case inspecting the Req-URI 
> will not map
> the ACK to the original INVITE.

Correct. Only UAS match ACK to 2xx, and its done with call legs.

If you are building a call stateful proxy that needs to do this, the call
legs give you part of the story. There will be an instance of the call leg
for each spiral through the proxy. Then, to match to a particular instance,
the proxy will need to use the r-uri of the incoming request. This is true
not just for ACK-2xx, but for re-INVITE, BYE and other things.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:14:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03351
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:14:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA13111
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:14:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11524;
	Wed, 7 Nov 2001 23:30:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11412
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:30:37 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02474
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:30:31 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84Sc0r023186;
	Wed, 7 Nov 2001 23:28:38 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7HH>; Wed, 7 Nov 2001 23:29:56 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DEE@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'eburger@snowshore.com'" <eburger@snowshore.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: Security Considerations (was RE: [Sip] Alert-Info: header)
Date: Wed, 7 Nov 2001 23:29:56 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Actually, I did add text in bis-05 about it. Its not in the security
section, but within the discussion of the headers themselves. The same
issues arise for Call-Info and Alert-Info.  Most of the text is in section
22.9 on call-info. Please take a look at the text.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Eric Burger [mailto:eburger@snowshore.com]
> Sent: Tuesday, November 06, 2001 8:42 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: Security Considerations (was RE: [Sip] Alert-Info: header)
> 
> 
> Kim's points are pretty significant.  Would it not be 
> valuable to have some
> language in the Security Considerations section of the draft 
> pointing out
> what happens if you don't implement some sort of a&a system?
> 
> -----Original Message-----
> From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf 
> Of Kim Liu
> Sent: Wednesday, October 17, 2001 9:01 AM
> To: Henning Schulzrinne
> Cc: John.Hearty@level3.com; alan.johnston@wcom.com;
> sean.olson@ericsson.com; sip@ietf.org
> Subject: Re: [Sip] Alert-Info: header
> 
> 
> Henning Schulzrinne wrote:
> [Deleted]
> > See earlier message about spam. In some cases, even if you 
> allow random
> > URLs, this can actually help. If I hear the local [your 
> least favorite
> > telephone company here] jingle, I will press the deep-six 
> (603) button
> > without bothering to lift the receiver. It is somewhat 
> unfortunate that
> > existing SIP phones don't have this button...
> >
> 
> SPAM is not the major issue with the header as far as I see it.
> 
>   * Harrassment
>     The phone 'rings' with "I'm watching you..."
>     (Spoofed UDP INVITE that points to movie/TV sound web archive
>     in Alert-Info, or free/anonymous web-hosting site.)
>   * Mischief
>     The phone 'rings' with the sound of a fire alarm and someone
>     shouting 'Fire!  Someone pull the fire alarm!'
>     (Spoofed UDP INVITE that points to movie/TV sound web archive
>     in Alert-Info, or free web-hosting site.)
>   * Serious mischief
>     The phone 'rings' at a police station or such with 'Look out!
>     He's got a gun!'
>   * DOS
>     Multiple phones in a building are sent INVITEs with Alert-Info
>     pointing to 'wav' file that is 10 gigabytes long, tying up the
>     bandwidth until the network admin can track down which unattended
>     phones/IP addresses are doing this and kill off the connections.
>   * Security issues
>     If a helper application (i.e. your favorite web browser or
>     media player) is used to deal with the information in the
>     Alert-Info header, then this opens up a potential line of
>     attack for things like those script viruses, buffer overflows,
>     etc.  All the vulnerabilities that have been experienced to
>     date with certain email and browser programs.  (It should be
>     noted that in this case, even having a trust relationship
>     with the calling party may not be enough if the calling
>     party has gotten infected with a virus/trojan that spreads
>     itself by calling everyone in the address/phone book with
>     itself in the Alert-Info header.  The call will appear to
>     have been from a trusted party.)
>     If there is no helper application for dealing with various
>     types of media files, then the phone itself will have to
>     support them -- .wav, .au, .wma, .mp3, .jpg, .avi, .mov,
>     .vbs, etc. etc. whatever.
> 
> That's not saying these are untraceable or unstoppable, but
> it seems like the header pretty much cannot be used without
> a very strong security relationship in place between the two
> parties, and even that may fail in the last case.
> [snip]
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:29:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03565
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:29:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA13360
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:29:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11828;
	Wed, 7 Nov 2001 23:32:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA11798
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:32:21 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02771
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:32:16 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84Tv0r023208;
	Wed, 7 Nov 2001 23:29:57 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7HM>; Wed, 7 Nov 2001 23:31:15 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DEF@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Tuexen Michael'" <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'"
	 <mankin@isi.edu>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: jon.peterson@neustar.com, sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
Date: Wed, 7 Nov 2001 23:31:15 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

One thing on this draft... you run TLS over each stream separately. Whilst
it makes sense, it is really awful for applications that use lots of
streams. It would be nice to be able to protect the entire association with
a single TLS connection.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Tuexen Michael [mailto:Michael.Tuexen@icn.siemens.de]
> Sent: Tuesday, November 06, 2001 7:55 AM
> To: 'mankin@isi.edu'; Jonathan Rosenberg
> Cc: jon.peterson@NeuStar.com; sip@ietf.org; Tuexen Michael;
> ajung@exp-math.uni-essen.de
> Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
> 
> 
> Dear all,
> there will be an update for the next IETF.
> Best regards
> Michael
> 
> Michael Tuexen    Tel.:   +49 89 722 47210
> Siemens AG        Fax:    +49 89 722 48212
> ICN WN CS SE 5    E-mail: Michael.Tuexen@icn.siemens.de
> 
> > -----Original Message-----
> > From:	Allison Mankin [SMTP:mankin@east.isi.edu]
> > Sent:	Tuesday, November 06, 2001 12:49 AM
> > To:	Jonathan Rosenberg
> > Cc:	jon.peterson@NeuStar.com; sip@ietf.org; 
> Michael.Tuexen@icn.siemens.de; ajung@exp-math.uni-essen.de
> > Subject:	Re: [Sip] Bis-5: TLS as secure transport for SIP 
> > 
> > 
> > > That said, TLS over SCTP would be another option, but is 
> not specified 
> > > as far as I know.
> > 
> > draft-tuexen-tsvwg-tls-over-sctp-00.txt
> > 
> > A chartered work item in TSVWG - new draft was expected...
> > 
> > ------
> > 
> > > 
> > > In the case of secured interconnects between proxies that 
> have some kind of
> > > administratively agreed upon security relationship, I 
> don't see a whole lot
> > > of reason for UDP as opposed to TCP. The connections can 
> be set up ahead of
> > > time, or on the first call, and then reused as needed. I 
> am sure people will
> > > dredge up the old HOL blocking issues with TCP. I still 
> am waiting for
> > > specific analysis on the impact on sip call set up time 
> distributions. That
> > > said, TLS over SCTP would be another option, but is not 
> specified as far as
> > > I know.
> > > 
> > > -Jonathan R.
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:34:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03786
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:34:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA13721
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:34:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA12136;
	Wed, 7 Nov 2001 23:43:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA12105
	for <sip@optimus.ietf.org>; Wed, 7 Nov 2001 23:43:46 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA02913
	for <sip@ietf.org>; Wed, 7 Nov 2001 23:43:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA84er0r023281;
	Wed, 7 Nov 2001 23:40:53 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7H0>; Wed, 7 Nov 2001 23:42:12 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF0@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Sriram Parameswar
	 <sriramp@nortelnetworks.com>
Cc: IETF SIP Mailing List <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: re-invite
Date: Wed, 7 Nov 2001 23:42:11 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Friday, November 02, 2001 1:02 PM
> To: Sriram Parameswar
> Cc: IETF SIP Mailing List
> Subject: Re: [Sip] Bis-05 question: re-invite
> 
> 
> Sriram,
> 
> If the session does not exist at the calling UA, it sends 
> back a 481. That
> is the only way the calling UA can tell the called UA that there is no
> session. This would be the case if the calling UA gave up 
> because it did not
> get the 200-OK response to the initial INVITE.
> 
> Maybe this section needs to point that out.

Section 12.2.1.2, on dialogs, does point out that a 481 should cause the UA
to terminate the dialog. However, it is worth referencing that in 14.1.

To answer Sriram's question - the 481 itself doesn't termiante the dialog or
the session. However, it triggers the UA to send the only message which does
terminate the dialog or session - the BYE. This distinction is subtle but
important, and worth clarifying in 14.1 as well.

-Jonathan R.


> ----- Original Message -----
> From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
> To: "'Bob Penfield'" <bpenfield@acmepacket.com>; "Christer Holmberg"
> <christer.holmberg@lmf.ericsson.se>
> Cc: "IETF SIP Mailing List" <sip@ietf.org>
> Sent: Friday, November 02, 2001 10:56 AM
> Subject: RE: [Sip] Bis-05 question: re-invite
> 
> 
> > Bob:
> >
> > I quote section 14.1
> > <quote>
> >   If a re-INVITE is responded with a non-2xx final response 
> the session
> >    parameters MUST remain unchanged, as if no re-INVITE had 
> been issued.
> > </quote>
> >
> > So I think receiving a 481 cannot mean that the session has 
> come to an
> end.
> >
> > Sriram
> > __________________________________________
> > Sriram Parameswar              Phone: 972-685-8540
> > Interactive Multimedia Server (IMS) Fax: 972-685-3563
> > Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com
> >
> >
> > -----Original Message-----
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > Sent: Friday, November 02, 2001 8:23 AM
> > To: Christer Holmberg
> > Cc: IETF SIP Mailing List
> > Subject: Re: [Sip] Bis-05 question: re-invite
> >
> >
> >
> > ----- Original Message -----
> > From: "Christer Holmberg" <christer.holmberg@lmf.ericsson.se>
> > To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
> > Cc: "Shan Lu" <shanlu@sentito.com>; "IETF SIP Mailing List" 
> <sip@ietf.org>
> > Sent: Friday, November 02, 2001 1:57 AM
> > Subject: Re: [Sip] Bis-05 question: re-invite
> >
> >
> > >
> > > Hi,
> > >
> > > Just a couple of clarifications I would like to get.
> > >
> > > Q1:
> > >
> > > >>If you have any confidence in the
> > > >>invite-200-ack retransmission scheme, the UAS should 
> consider the UAC
> > > >>down upon seven 200 oks and no ACK.
> > > >
> > > >It will re-INVITE, and if no answer for the re-INVITE is 
> received, the
> > > >session will be considered down.
> > >
> > > I would like to clarify how this re-INVITE is constructed.
> > >
> > > Is it a completely "new" INVITE, or is it constructed 
> like any mid-call
> > > re-INVITE (it uses the Tags etc received in the initial 
> INVITE from the
> > > other party)?
> >
> > It is constructed like any mid-call re-INVITE using the tags.
> >
> > >
> > > IF that is the case, the UAS (the previous UAC) MAY of 
> course return
> > > 481, becuase the reason it didn't send ACK in the first 
> place could be
> > > because it lost state of the call (since the INVITE has a 
> To header tag
> > > it assumes it is a re-INVITE for an existing call). Or, 
> it may still
> > > have state for the initial INVITE, but it simply never 
> received the 200.
> >
> > If the called party gets a 481 to its re-INVITE, it simple 
> considers the
> > session terminated. I think it is still recommended that it 
> send a BYE
> just
> > to make sure all the state is cleaned up in any intervening proxies
> (someone
> > please correct me if I am wrong).
> >
> > If the calling party never got the 200-OK, by this point 
> shouldn't it have
> > timed out and considered the session terminated? In that 
> case it would
> send
> > a 481.
> >
> >
> > >
> > >
> > > Q2.
> > >
> > > Chapter 14.1 says: "Note that a UAC MUST NOT initiate a new INVITE
> > > transaction within a dialog while another transaction (INVITE or
> > > non-INVITE) is in progress."
> >
> > The original INVITE is no longer in progress because it has 
> timed out or
> we
> > consider it complete because we are assuming the ACK from 
> the calling
> party
> > was lost.
> >
> > >
> > > I would just like to clarify how this affects overlapping. Since
> > > overlapping uses different Request-URIs in each INVITE, I 
> assume each
> > > INVITE represent a separate dialog, and are therefor not 
> affected by the
> > > rule in 14.1, right?
> >
> > No. This is a re-INVITE of the same dialog. The call-id and 
> tags are the
> > same.
> >
> > >
> > >
> > > Regards,
> > >
> > > Christer Holmberg
> > > Ericsson Finland
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the 
> application of sip
> > >
> >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 00:56:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04014
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 00:56:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA13901
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 00:56:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA12794;
	Thu, 8 Nov 2001 00:04:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA12766
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 00:04:45 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA03248
	for <sip@ietf.org>; Thu, 8 Nov 2001 00:04:42 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA852s0r023347;
	Thu, 8 Nov 2001 00:02:54 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX72Y>; Thu, 8 Nov 2001 00:04:13 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF1@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>, IETF SIP Mailing List <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: re-invite
Date: Thu, 8 Nov 2001 00:04:12 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Monday, October 29, 2001 6:15 PM
> To: IETF SIP Mailing List
> Subject: [Sip] Bis-05 question: re-invite
> 
> 
> Hi all,
> 
> Section 14.1, line 1937, "If a UAS generates a 2xx and never 
> receives an
> ACK, it SHOULD generate a re-invite with an offer equal to 
> last session
> description sent to peer."
> 
> I think this creates unnecessary burden on the UA and doesn't achieve
> much. If the re-invite is to change codecs, then the UAS would have to
> reserve DSP resources before it sends 200 ok. Now with this 
> requirement,
> the UAS has to keep the resource reserved for the duration of currect
> invite transaction (31 s) plus potentially another 31 s for the
> re-invite that it generates.

As we are talking about a rare and pretty much catastrophic kind of failure
case, optimizing DSP resources for it seems not that important. What we do
want to provide is robustness as much as possible, and that is the aim of
the re-INVITE. 

 If you have any confidence in the
> invite-200-ack retransmission scheme, the UAS should consider the UAC
> down upon seven 200 oks and no ACK. 

WHat you're proposing is not unreasonable (a BYE would still need to be sent
to clean up state anywhere that can see the BYE). I guess the question is
the likelihood of success of this re-invite given the previous invite
failed. THe idea is that a new transaction may successfully navigate through
some element that failed in the middle of a previous transaction. If people
feel its not likely than I would be amenable to simplifying by removing this
re-invite.

Interestingly, if a 2xx to an initial INVITE never generates an ACK, then a
BYE is sent. I must admit it seems odd that the behavior is different in the
two cases. This has been in there since bis-04. I've marked this one as
reopened in my tracking system.

Let's consider the case where the
> connection from UA1 to UA2 goes down after the intitial re-invite. UA2
> does not receive ACK for this re-invite. So UA2 generates its own
> re-invite. UA1 responds with 200 OK but never received by UA2. So next
> UA1 would re-invite. It's just a mess.

I don't think there is infinite recursion here, just one re-invite. If that
fails too then send a BYE.

> 
> Furthermore, if the initial re-invite has no sdp, what is the 
> benefit of
> having UAS resend its sdp offer? That is equivalent to having the UAC
> resend the re-invite upon no response.

New transaction.

> BTW, I believe section 14 should describe what happens when re-invite
> does not generate any response -- terminate the call.

Yup.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 01:38:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA08116
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 01:38:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA22397
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 01:38:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA13978;
	Thu, 8 Nov 2001 00:58:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA13949
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 00:58:21 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04045
	for <sip@ietf.org>; Thu, 8 Nov 2001 00:58:20 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA85uW0r023472;
	Thu, 8 Nov 2001 00:56:33 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7KP>; Thu, 8 Nov 2001 00:57:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF2@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>, "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-05: Registration and authorizing outgoing requests
Date: Thu, 8 Nov 2001 00:57:48 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



  
-----Original Message-----
From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
Sent: Friday, November 02, 2001 8:41 PM
To: 'sip@ietf.org'
Subject: [Sip] Bis-05: Registration and authorizing outgoing requests


>In section 4, line 491-493, it says that "it is important to note that in
SIP, registration 
>is used for routing incoming SIP requests and has no role in authorizing
outgoing requests. 
>Authorization and authentication are handled in SIP either on a request by
request, 
>challenge/response mechanism, or using a lower layer scheme as discussed in
Section 20." 
>This sounds like an important and strong statement to me even though the
beginning of 
>section 4 says that "this section ... does not contain any normative
statements." 

Its not normative in that it doesn't contain MUST, MAY, SHOULD or other
protocol behavior. Its merely a statement of the general role of register. 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 01:39:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA08166
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 01:39:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA22412
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 01:39:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14355;
	Thu, 8 Nov 2001 01:01:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA14324
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 01:01:10 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA04105
	for <sip@ietf.org>; Thu, 8 Nov 2001 01:01:09 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA85xG0r023479;
	Thu, 8 Nov 2001 00:59:16 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7K4>; Thu, 8 Nov 2001 01:00:35 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF3@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Daniel Petrie <dpetrie@pingtel.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'Billy Biggs'" <billy@billybiggs.com>,
        Jonathan Cumming
	 <jrc@dataconnection.com>, SIP List <sip@ietf.org>
Subject: RE: [Sip] Re-use of Call-ID in the SIP Replaces header
Date: Thu, 8 Nov 2001 01:00:33 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Daniel G. Petrie [mailto:dpetrie@pingtel.com]
> Sent: Thursday, November 01, 2001 2:17 PM
> To: Jonathan Rosenberg
> Cc: 'Billy Biggs'; Jonathan Cumming; SIP List
> Subject: Re: [Sip] Re-use of Call-ID in the SIP Replaces header
> 
> 
> Sorry, this thread is perhaps a little stale.
> 
> We had rough concensus at the Feb. Interim
> SIP WG meeting that though there was no
> implied symatics, it was ok for a UA to
> reuse a Call-Id (e.g. on a conference bridge).
> http://www.softarmor.com/sipwg/meets/interim-feb-01/notes/dwillis.html
> 
> Did I miss some discussion which changed
> this decision?  The change to make UAs MUST
> use a unique ID will impact existing implementations.

I seem to recall subsequent list discussion which concluded that it would
cause problems. Its hard to argue against the use of unique identifiers for
things. 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 02:13:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA18966
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 02:13:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA22929
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 02:13:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA21844;
	Thu, 8 Nov 2001 01:18:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA21814
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 01:18:50 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA05627
	for <sip@ietf.org>; Thu, 8 Nov 2001 01:18:47 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fA86Icf05889;
	Thu, 8 Nov 2001 07:18:38 +0100 (MET)
Received: from lmf.ericsson.se (lmf03387pc.lmf.ericsson.se [131.160.30.84])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fA86IbB04164;
	Thu, 8 Nov 2001 08:18:38 +0200 (EET)
Message-ID: <3BEA23BB.1C104575@lmf.ericsson.se>
Date: Thu, 08 Nov 2001 08:18:35 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Vijay Gurbani'" <vkg@lucent.com>, Dorgham Sisalem <sisalem@fokus.gmd.de>,
        sip@ietf.org, jiri@iptel.org
Subject: Re: [Sip] RE: [Sipping] RE: [Sip-implementors] 4xx by stateless proxy
References: <B65B4F8437968F488A01A940B21982BF020D6DDA@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>Christer's proposal, however, is to make a protocol change to avoid the ACK.
>That, to me, is a recipe for interop nightmares. I do not want another state
>machine definition; I want to document an implementation improvement (which
>is needed for UAS in general) within the scope of the defined INVITE
>transactions.

Just to clarify: I do NOT want to make a protocol change.

What I said was that if this other stateless redirection proposal is
implemented there would be no need for the ACK, and that I see no reason
in having a protocol where you send useless messages that will simply be
"eaten". Then I wrote how the ACK change would affect the client state
machine - and compared it to how stateless redirection would affect the
server state machine.

My point was, that the ONLY case where the stateless redirection would
simplify the state machine is when the node ALWAYS send 3xx final
responses, and NEVER sends 1xx provisional responses. From my point of
view it was never about backward compability or interop problems -
simply about how much it would really gain the protocol.

Also, to my understanding the original idea of stateless final responses
was to prevent DoS attacks to allocate state/resources in a server.
However, since the INVITE can be authenticated, the stateless redirect
proposal doesn't affect that. OF COURSE, if you want to be able to send
3xx responess to non-INVITE requests we have another story, but I don't
think that's the reason for the change either, is it?

So, again: I am very happy with how INVITE transactions work today, and
I do NOT want to change those, since they work fine. For the moment I
think we should concentrate on what does NOT yet work (the bis is full
of open issues).

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 02:13:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA18986
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 02:13:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA22943
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 02:13:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA21884;
	Thu, 8 Nov 2001 01:19:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA21857
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 01:19:51 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA05748
	for <sip@ietf.org>; Thu, 8 Nov 2001 01:19:50 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA86I10r023524;
	Thu, 8 Nov 2001 01:18:01 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX7LG>; Thu, 8 Nov 2001 01:19:19 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF4@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Chen, Xin (Xin)'" <xchen2@lucent.com>, "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Retransmisstion detection at Proxy
Date: Thu, 8 Nov 2001 01:19:19 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Chen, Xin (Xin) [mailto:xchen2@lucent.com]
> Sent: Thursday, November 01, 2001 10:59 AM
> To: 'sip@ietf.org'
> Subject: [Sip] Retransmisstion detection at Proxy
> 
> 
> I think in the Bis-05, it is not clear that how a proxy detects that a
> request is a retransmission or not.

Section 17.2.3 discusses precisely this subject. I can see why you may not
have viewed this section as defining retransmissions since it doesn't use
that term itself. I will clarify that. Basically, two requests which match
the same server transaction are retransmissions.


> 
> Currently, in line 3573 in bis-05, it says that CSeq is used to
> differentiate a new request or a retransmission.
> 
> But what about a spiral or a loop, those request also have 
> the same CSeq?

17.2.3 would tell you that in a loop or spiral, the top via is different and
therefore it is not a retransmission.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 04:06:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA21346
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 04:06:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA28195
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 04:06:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA26786;
	Thu, 8 Nov 2001 03:27:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA26757
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 03:27:34 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA20978
	for <sip@ietf.org>; Thu, 8 Nov 2001 03:27:31 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id JAA28203;
	Thu, 8 Nov 2001 09:27:29 +0100 (MET)
Received: from mchh247e.demchh201e.icn.siemens.de ([139.21.200.57])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id JAA07308;
	Thu, 8 Nov 2001 09:27:30 +0100 (MET)
Received: by MCHH247E with Internet Mail Service (5.5.2653.19)
	id <V0PXJCST>; Thu, 8 Nov 2001 09:27:21 +0100
Message-ID: <F92978223B01D311ACFF0008C71EE19D015DF652@MCHH225E>
From: Tuexen Michael <Michael.Tuexen@icn.siemens.de>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        Tuexen Michael
	 <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'" <mankin@isi.edu>
Cc: jon.peterson@neustar.com, sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
Date: Thu, 8 Nov 2001 09:27:19 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="ISO-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear Jonathan,

I agree with you totally. But providing the funtionality
would require modifications of TLS.

We have discussed this and the result was that the ADs want a
simple soltution which does NOT require any changes of TLS.

Therefore we do allow
- session resumption on the stream so that you do not have
  to do a full handshake on each bidirectional stream. This
  can reduce the CPU usage.
- 'late handshake' which means that you do not have to perform
  the handshake (full or abbreviated) until you want to use
  the bidirectional stream for secure communication. This can 
  help you when you are establishing an association with a lot
  of streams.

Best regards
Michael

Michael Tuexen    Tel.:   +49 89 722 47210
Siemens AG        Fax:    +49 89 722 48212
ICN WN CS SE 5    E-mail: Michael.Tuexen@icn.siemens.de

> -----Original Message-----
> From:	Jonathan Rosenberg [SMTP:jdrosen@dynamicsoft.com]
> Sent:	Thursday, November 08, 2001 5:31 AM
> To:	'Tuexen Michael'; 'mankin@isi.edu'; Jonathan Rosenberg
> Cc:	jon.peterson@NeuStar.com; sip@ietf.org; ajung@exp-math.uni-essen.de
> Subject:	RE: [Sip] Bis-5: TLS as secure transport for SIP 
> 
> One thing on this draft... you run TLS over each stream separately. Whilst
> it makes sense, it is really awful for applications that use lots of
> streams. It would be nice to be able to protect the entire association with
> a single TLS connection.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
>  
> 
> > -----Original Message-----
> > From: Tuexen Michael [mailto:Michael.Tuexen@icn.siemens.de]
> > Sent: Tuesday, November 06, 2001 7:55 AM
> > To: 'mankin@isi.edu'; Jonathan Rosenberg
> > Cc: jon.peterson@NeuStar.com; sip@ietf.org; Tuexen Michael;
> > ajung@exp-math.uni-essen.de
> > Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
> > 
> > 
> > Dear all,
> > there will be an update for the next IETF.
> > Best regards
> > Michael
> > 
> > Michael Tuexen    Tel.:   +49 89 722 47210
> > Siemens AG        Fax:    +49 89 722 48212
> > ICN WN CS SE 5    E-mail: Michael.Tuexen@icn.siemens.de
> > 
> > > -----Original Message-----
> > > From:	Allison Mankin [SMTP:mankin@east.isi.edu]
> > > Sent:	Tuesday, November 06, 2001 12:49 AM
> > > To:	Jonathan Rosenberg
> > > Cc:	jon.peterson@NeuStar.com; sip@ietf.org; 
> > Michael.Tuexen@icn.siemens.de; ajung@exp-math.uni-essen.de
> > > Subject:	Re: [Sip] Bis-5: TLS as secure transport for SIP 
> > > 
> > > 
> > > > That said, TLS over SCTP would be another option, but is 
> > not specified 
> > > > as far as I know.
> > > 
> > > draft-tuexen-tsvwg-tls-over-sctp-00.txt
> > > 
> > > A chartered work item in TSVWG - new draft was expected...
> > > 
> > > ------
> > > 
> > > > 
> > > > In the case of secured interconnects between proxies that 
> > have some kind of
> > > > administratively agreed upon security relationship, I 
> > don't see a whole lot
> > > > of reason for UDP as opposed to TCP. The connections can 
> > be set up ahead of
> > > > time, or on the first call, and then reused as needed. I 
> > am sure people will
> > > > dredge up the old HOL blocking issues with TCP. I still 
> > am waiting for
> > > > specific analysis on the impact on sip call set up time 
> > distributions. That
> > > > said, TLS over SCTP would be another option, but is not 
> > specified as far as
> > > > I know.
> > > > 
> > > > -Jonathan R.
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip> 
> > Use sipping@ietf.org for new developments on the application of sip
> > 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 06:08:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA22182
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 06:08:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA01588
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 06:08:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA00657;
	Thu, 8 Nov 2001 05:45:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA00629
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 05:45:01 -0500 (EST)
Received: from auemail2.firewall.lucent.com (auemail2.lucent.com [192.11.223.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA21989
	for <sip@ietf.org>; Thu, 8 Nov 2001 05:44:57 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA8AiTp20636
	for <sip@ietf.org>; Thu, 8 Nov 2001 05:44:29 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <WPS1FPYR>; Thu, 8 Nov 2001 10:44:22 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3474@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'Shieh, Hugh'" <hugh.shieh@attws.com>, "'sip@ietf.org'"
	 <sip@ietf.org>,
        "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] Bis-05: Registration and authorizing outgoing requests
Date: Thu, 8 Nov 2001 10:44:22 -0000 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Perhaps we could however delete the words "It is important to note that" and
start the sentence with the remaining words, as this preamble is superfluous
and in fact self contradictory (if it is important why am I only noting
it?).

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Jonathan Rosenberg[SMTP:jdrosen@dynamicsoft.com]
> Sent: 	08 November 2001 5:57
> To: 	'Shieh, Hugh'; 'sip@ietf.org'
> Subject: 	RE: [Sip] Bis-05: Registration and authorizing outgoing
> requests
> 
> 
> 
>   
> -----Original Message-----
> From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
> Sent: Friday, November 02, 2001 8:41 PM
> To: 'sip@ietf.org'
> Subject: [Sip] Bis-05: Registration and authorizing outgoing requests
> 
> 
> >In section 4, line 491-493, it says that "it is important to note that in
> SIP, registration 
> >is used for routing incoming SIP requests and has no role in authorizing
> outgoing requests. 
> >Authorization and authentication are handled in SIP either on a request
> by
> request, 
> >challenge/response mechanism, or using a lower layer scheme as discussed
> in
> Section 20." 
> >This sounds like an important and strong statement to me even though the
> beginning of 
> >section 4 says that "this section ... does not contain any normative
> statements." 
> 
> Its not normative in that it doesn't contain MUST, MAY, SHOULD or other
> protocol behavior. Its merely a statement of the general role of register.
> 
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 10:22:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA28278
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 10:22:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA06680
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 10:22:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA06141;
	Thu, 8 Nov 2001 09:50:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA06112
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 09:49:58 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA27508
	for <sip@ietf.org>; Thu, 8 Nov 2001 09:49:56 -0500 (EST)
Received: (qmail 18996 invoked from network); 8 Nov 2001 14:42:19 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 8 Nov 2001 14:42:19 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Date: Thu, 8 Nov 2001 09:49:19 -0500
Message-ID: <000401c16864$8be08510$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6DE8@DYN-EXCH-001.dynamicsoft.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] How does Stateless Proxy handle Retransmission
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com] 
> Sent: Wednesday, November 07, 2001 11:03 PM
> To: 'Shan Lu'; Jonathan Rosenberg; sip@ietf.org
> Subject: RE: [Sip] Handling of duplicate requests with 
> differing request paths.
> 
>
> > Are you saying that
> > stateless proxy does NOT exist in practice? 
> 
> No, I'm merely saying that they need to forward 
> retransmissions to the same
> place. However, it is not trivial to make sure you always do 
> that, even
> through configuration changes. 
> 
> -Jonathan R.
> 

Ok, I've stolen the thread and changed the subject. 

To quote bis-05, line 2458, "They (stateless proxies) do not have the
ability to distinguish a retransmission from the original message" and
Line 2466, "a retransmitted request MUST be forwarded to the same
desitnation each time it is processed".

Assume that a stateless proxy uses the request-uri to look up a location
DB and make routing decisions. Given these two lines, does it mean that
all INVITEs with the same request-uri have to be routed to exactly the
same destination for as long as the proxy is running, regardless of
database changes? Can you provide some ideas how line 2466 can be
accomplished without the proxy going stateful?

Regards,

Shan Lu
sentitO Networks 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 13:06:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA02971
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 13:06:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA11820
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 13:06:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA11206;
	Thu, 8 Nov 2001 12:54:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA11175
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 12:54:18 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA02643
	for <sip@ietf.org>; Thu, 8 Nov 2001 12:54:16 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fA8Hr9r00091;
	Thu, 8 Nov 2001 09:53:09 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAH23397;
	Thu, 8 Nov 2001 09:52:31 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id JAA16012; Thu, 8 Nov 2001 09:53:06 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15338.50818.674972.566854@thomasm-u1.cisco.com>
Date: Thu, 8 Nov 2001 09:53:06 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Tuexen Michael'" <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'"
	 <mankin@isi.edu>, jon.peterson@neustar.com,
        sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6DEF@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D6DEF@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > One thing on this draft... you run TLS over each stream separately. Whilst
 > it makes sense, it is really awful for applications that use lots of
 > streams. It would be nice to be able to protect the entire association with
 > a single TLS connection.

   You strive for IPsec, Grasshopper. :-)

	      Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 14:13:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04404
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 14:13:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA13720
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 14:13:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA13052;
	Thu, 8 Nov 2001 13:57:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA13021
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 13:57:49 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA04165
	for <sip@ietf.org>; Thu, 8 Nov 2001 13:57:46 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fA8IvAn03382;
	Thu, 8 Nov 2001 10:57:11 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAH25501;
	Thu, 8 Nov 2001 10:56:34 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id KAA16016; Thu, 8 Nov 2001 10:57:10 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15338.54662.11613.827137@thomasm-u1.cisco.com>
Date: Thu, 8 Nov 2001 10:57:10 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Jari Arkko'" <Jari.Arkko@lmf.ericsson.se>,
        Michael Thomas <mat@cisco.com>, "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6DEA@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D6DEA@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg writes:
 > I agree its not ideal there, but neither is IPSec. ALthough if I had to
 > pick, TLS is far better between a user and a proxy than IPSec. Its really
 > between proxies than I'm talking about "nailed up" connections.

   I'm not sure why you'd classify it as "far better".
   For nailed up connections, it seems fairly close
   to six of one, half dozen of the other. Some of
   the plusses and minuses I can see:

   + TLS can be linked into an application instead of
     requiring stack support
   - TLS is subject to a wedging attack, especially
     from an active snooper
   - TLS can't be run over UDP
   - TLS requires and extra 2 messages vs KINK
   + TLS requires 4 fewer messages than IKE
   + Application layer credential binding easy
   + Can be used with Kerberos auth
   - Can't be used with AAA-style auth (that I know of)

   + IPSec aggregates sessions onto a single SA
   + IPSec isn't subject to the wedging attack
   + IPSec covers UDP and any other protocol without
     further standards work needed 
   - IPSec requires implementation in the stack
     generally (or bump in the stack/wire)
   - IPSec application layer credential API missing
     (though not impossible)
   + Can be used with Kerberos auth (KINK)
   + Can be used with AAA auth (XAUTH)

   At this point, both are pretty well known quanitites,
   with lots of deployment. Both are pretty similar in
   footprint, and have similiar CPU considerations. So,
   I may have missed some point/counterpoints, but I 
   just don't see that as a slam dunk for either one,
   and I still find the lack of answer for UDP highly
   problematic.

		Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 14:37:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04791
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 14:37:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA14301
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 14:37:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA13848;
	Thu, 8 Nov 2001 14:20:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA13817
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 14:20:00 -0500 (EST)
Received: from mgw-x2.nokia.com (mgw-x2.nokia.com [131.228.20.22])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04515
	for <sip@ietf.org>; Thu, 8 Nov 2001 14:19:57 -0500 (EST)
From: aki.niemi@nokia.com
Received: from esvir02nok.nokia.com (esvir02nokt.ntc.nokia.com [172.21.143.34])
	by mgw-x2.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fA8JKaA26810
	for <sip@ietf.org>; Thu, 8 Nov 2001 21:20:36 +0200 (EET)
Received: from esebh25nok.ntc.nokia.com (unverified) by esvir02nok.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T571a3d91ceac158f22077@esvir02nok.nokia.com>;
 Thu, 8 Nov 2001 21:19:57 +0200
Received: by esebh25nok with Internet Mail Service (5.5.2652.78)
	id <WQAWRJ6F>; Thu, 8 Nov 2001 21:19:08 +0200
Message-ID: <98C7D2E5BCD2374C9AAE0BCD2E9C1DD90FEC56@esebe013.NOE.Nokia.com>
To: mat@cisco.com, jdrosen@dynamicsoft.com
Cc: Jari.Arkko@lmf.ericsson.se, hugh.shieh@attws.com, jon.peterson@neustar.com,
        sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Thu, 8 Nov 2001 21:19:02 +0200 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2652.78)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Michael,

>    - Can't be used with AAA-style auth (that I know of)

I dug up RFC 2716 (Experimental). I haven't had time to look at it very
closely, but it does describe a way of using TLS with EAP, which can be used
with RADIUS/Diameter servers.
 
Cheers,
Aki

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 14:46:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04924
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 14:46:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA14409
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 14:46:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14039;
	Thu, 8 Nov 2001 14:30:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA13994
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 14:30:11 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04700
	for <sip@ietf.org>; Thu, 8 Nov 2001 14:30:08 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fA8JU7T18667;
	Thu, 8 Nov 2001 13:30:07 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA8JU7X06959;
	Thu, 8 Nov 2001 13:30:07 -0600 (CST)
Received: from lmf.ericsson.se (racom-sd-66.sd.us.am.ericsson.se [142.133.141.67]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id NAA19976; Thu, 8 Nov 2001 13:30:00 -0600 (CST)
Message-ID: <3BEAE261.66A809EB@lmf.ericsson.se>
Date: Thu, 08 Nov 2001 21:52:01 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Shan Lu <shanlu@sentito.com>
CC: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
References: <000401c16864$8be08510$eb00000a@SAJAK>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Shan Lu wrote:
> 
> Hi,
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> > Sent: Wednesday, November 07, 2001 11:03 PM
> > To: 'Shan Lu'; Jonathan Rosenberg; sip@ietf.org
> > Subject: RE: [Sip] Handling of duplicate requests with
> > differing request paths.
> >
> >
> > > Are you saying that
> > > stateless proxy does NOT exist in practice?
> >
> > No, I'm merely saying that they need to forward
> > retransmissions to the same
> > place. However, it is not trivial to make sure you always do
> > that, even
> > through configuration changes.
> >
> > -Jonathan R.
> >
> 
> Ok, I've stolen the thread and changed the subject.
> 
> To quote bis-05, line 2458, "They (stateless proxies) do not have the
> ability to distinguish a retransmission from the original message" and
> Line 2466, "a retransmitted request MUST be forwarded to the same
> desitnation each time it is processed".
> 
> Assume that a stateless proxy uses the request-uri to look up a location
> DB and make routing decisions. Given these two lines, does it mean that
> all INVITEs with the same request-uri have to be routed to exactly the
> same destination for as long as the proxy is running, regardless of
> database changes? Can you provide some ideas how line 2466 can be
> accomplished without the proxy going stateful?
> 

A stateless proxy typically calculates a hash of some header fields
present in a request. Thses header fields will be the same in the
retransmission. This hash is used as an input for the algorithm you use
to choose different alternatives (different URIs or different IP
addresses if SRV is used).

As Jonathan said already, if something external changes (like you update
the database), you need to go stateful to be sure that you do not
re-route ongoing dialogs.

Stateless proxies are very useful as load distributors, and in this case
the database you are referring to only changes when some server goes
down... and as Jonathan already said, bis-05 does not cover any possible
failure scenario you can think of.

Regards,

Gonzalo




> Regards,
> 
> Shan Lu
> sentitO Networks
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 15:05:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA05592
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 15:05:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA14924
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 15:05:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14474;
	Thu, 8 Nov 2001 14:50:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA14443
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 14:50:17 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05017
	for <sip@ietf.org>; Thu, 8 Nov 2001 14:50:14 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fA8Jnpn20503;
	Thu, 8 Nov 2001 11:49:51 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAH27336;
	Thu, 8 Nov 2001 11:49:06 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id LAA16027; Thu, 8 Nov 2001 11:49:42 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15338.57814.233561.201394@thomasm-u1.cisco.com>
Date: Thu, 8 Nov 2001 11:49:42 -0800 (PST)
To: aki.niemi@nokia.com
Cc: mat@cisco.com, jdrosen@dynamicsoft.com, Jari.Arkko@lmf.ericsson.se,
        hugh.shieh@attws.com, jon.peterson@neustar.com, sip@ietf.org
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
In-Reply-To: <98C7D2E5BCD2374C9AAE0BCD2E9C1DD90FEC56@esebe013.NOE.Nokia.com>
References: <98C7D2E5BCD2374C9AAE0BCD2E9C1DD90FEC56@esebe013.NOE.Nokia.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

aki.niemi@nokia.com writes:
 > Michael,
 > 
 > >    - Can't be used with AAA-style auth (that I know of)
 > 
 > I dug up RFC 2716 (Experimental). I haven't had time to look at it very
 > closely, but it does describe a way of using TLS with EAP, which can be used
 > with RADIUS/Diameter servers.

   Ah, yes, I had forgot about XAUTH's fell twin.
   So they're equally whacked out on that account :-)

	    Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 16:28:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA08322
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 16:28:47 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA17252
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 16:28:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17024;
	Thu, 8 Nov 2001 16:11:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA16996
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 16:11:35 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id QAA07938
	for <sip@ietf.org>; Thu, 8 Nov 2001 16:11:31 -0500 (EST)
Received: (qmail 16074 invoked from network); 8 Nov 2001 21:03:55 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 8 Nov 2001 21:03:55 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
Date: Thu, 8 Nov 2001 16:10:55 -0500
Message-ID: <001601c16899$db0000a0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <3BEAE261.66A809EB@lmf.ericsson.se>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se] 
> Sent: Thursday, November 08, 2001 2:52 PM
> To: Shan Lu
> Cc: 'Jonathan Rosenberg'; sip@ietf.org
> Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> 
> 
> Hi,
> 
> Shan Lu wrote:
> > 
> > To quote bis-05, line 2458, "They (stateless proxies) do 
> not have the
> > ability to distinguish a retransmission from the original 
> message" and
> > Line 2466, "a retransmitted request MUST be forwarded to the same
> > desitnation each time it is processed".
> > 
> > Assume that a stateless proxy uses the request-uri to look 
> up a location
> > DB and make routing decisions. Given these two lines, does 
> it mean that
> > all INVITEs with the same request-uri have to be routed to 
> exactly the
> > same destination for as long as the proxy is running, regardless of
> > database changes? Can you provide some ideas how line 2466 can be
> > accomplished without the proxy going stateful?
> > 
> 
> As Jonathan said already, if something external changes (like 
> you update
> the database), you need to go stateful to be sure that you do not
> re-route ongoing dialogs.
> 

If this is the case, then the proxy MUST be stateful ALWAYS. How can the
proxy be certain that all INVITEs have finished their retransmissions
and therefore it's "safe" to update database? Wait for 32s of no
activity? 

> Stateless proxies are very useful as load distributors, and 
> in this case
> the database you are referring to only changes when some server goes
> down... and as Jonathan already said, bis-05 does not cover 
> any possible
> failure scenario you can think of.
> 

I am afraid this view of stateless proxy is very restrictive. SL proxy
can be used as more than LB and can connect to a location database which
may be updated for reasons other than server failure. When this happens,
unless the proxy has been operating stateful since the initial INVITE,
you can't ensure that retransmissions will be routed to the same path.

I can't find similar text in bis-04 that talks about how retransmission
should be handled by a stateless proxy. So is the intension to deprecate
SL proxy in bis-05?

Regards,

Shan Lu
sentitO Networks     


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 19:53:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA12269
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 19:53:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA21389
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 19:53:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA21207;
	Thu, 8 Nov 2001 19:41:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA21178
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 19:41:17 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA12096
	for <sip@ietf.org>; Thu, 8 Nov 2001 19:41:15 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id SAA17330
	for <sip@ietf.org>; Thu, 8 Nov 2001 18:40:46 -0600 (CST)
Received: from zsc4c000.us.nortel.com by smtprch2.nortel.com;
          Thu, 8 Nov 2001 18:33:51 -0600
Received: by zsc4c000.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <VTXM7BBW>; Thu, 8 Nov 2001 16:39:47 -0800
Message-ID: <4F973E944951D311B6660008C7917CF0079DEE10@zsc4c008.us.nortel.com>
From: "Manik Kapil" <mkapil@nortelnetworks.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Thu, 8 Nov 2001 16:39:39 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C168B7.038F6E80"
X-Orig: <MKAPIL@AmericasM06.nt.com>
Subject: [Sip] Please unsubscribe
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C168B7.038F6E80
Content-Type: text/plain;
	charset="iso-8859-1"

 

-----Original Message-----
From: Sen, Sanjoy [NGB:B602:EXCH] 
Sent: Monday, October 15, 2001 4:25 PM
To: 'sip@ietf.org'
Subject: [Sip] new draft submission for FW/NAT traversal



Folks, 

        We've submitted an ID called "Midcom-unaware NAT/Firewall Traversal"
describing a pre-Midcom solution framework to solve the problem of
traversing deployed NAT/FW's. This is in relation to the new extension to
the Midcom WG charter calling for "average current practice" solutions for
traversing Midcom-unaware, and even, application-unaware NAT/FW's. Two key
components of this solution working in tandem are a SIP Proxy & an RTP
Proxy. The solution needs interaction between the Proxies, but does not need
the clients know about the NAT binds/types and is applicable to all
traditional types of NAT's/Firewalls. The draft can be found at:  

http://www.ietf.org/internet-drafts/draft-sen-midcom-fw-nat-00.txt
<http://www.ietf.org/internet-drafts/draft-sen-midcom-fw-nat-00.txt> . 

Comments/feedback are most welcome & should be posted in the Midcom mailing
list. 

Regards, 
Sanjoy Sen 

============ 
Interactive Multimedia Server, Carrier VoIP 
Nortel Networks 
Ph: 972-685-8274, Fax: 972-685-3813 
Mobile: 972-571-2062 


------_=_NextPart_001_01C168B7.038F6E80
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>new draft submission for FW/NAT traversal</TITLE>

<META content=3D"MSHTML 5.50.4611.1300" name=3DGENERATOR></HEAD>
<BODY>
<DIV>&nbsp;</DIV>
<BLOCKQUOTE dir=3Dltr style=3D"MARGIN-RIGHT: 0px">
  <DIV class=3DOutlookMessageHeader dir=3Dltr align=3Dleft><FONT =
face=3DTahoma=20
  size=3D2>-----Original Message-----<BR><B>From:</B> Sen, Sanjoy =
[NGB:B602:EXCH]=20
  <BR><B>Sent:</B> Monday, October 15, 2001 4:25 PM<BR><B>To:</B>=20
  'sip@ietf.org'<BR><B>Subject:</B> [Sip] new draft submission for =
FW/NAT=20
  traversal<BR><BR></FONT></DIV>
  <P><FONT size=3D2>Folks, </FONT></P>
  <P><FONT size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We've =
submitted an=20
  ID called "Midcom-unaware NAT/Firewall Traversal" describing a =
pre-Midcom=20
  solution framework to solve the problem of traversing deployed =
NAT/FW's. This=20
  is in relation to the new extension to the Midcom WG charter calling =
for=20
  "average current practice" solutions for traversing Midcom-unaware, =
and even,=20
  application-unaware NAT/FW's. Two key components of this solution =
working in=20
  tandem are a SIP Proxy &amp; an RTP Proxy. The solution needs =
interaction=20
  between the Proxies, but does not need the clients know about the NAT =

  binds/types and is applicable to all traditional types of =
NAT's/Firewalls. The=20
  draft can be found at:&nbsp; </FONT></P>
  <P><FONT size=3D2><A target=3D_blank=20
  =
href=3D"http://www.ietf.org/internet-drafts/draft-sen-midcom-fw-nat-00.t=
xt">http://www.ietf.org/internet-drafts/draft-sen-midcom-fw-nat-00.txt</=
A>.=20
  </FONT></P>
  <P><FONT size=3D2>Comments/feedback are most welcome &amp; should be =
posted in=20
  the Midcom mailing list.</FONT> </P>
  <P><FONT size=3D2>Regards,</FONT> <BR><FONT size=3D2>Sanjoy =
Sen</FONT> </P>
  <P><FONT size=3D2>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</FONT> =
<BR><FONT size=3D2>Interactive Multimedia=20
  Server, Carrier VoIP </FONT><BR><FONT size=3D2>Nortel Networks =
</FONT><BR><FONT=20
  size=3D2>Ph: 972-685-8274, Fax: 972-685-3813 </FONT><BR><FONT =
size=3D2>Mobile:=20
  972-571-2062 </FONT></P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C168B7.038F6E80--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov  8 20:07:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA12450
	for <sip-archive@odin.ietf.org>; Thu, 8 Nov 2001 20:07:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA21815
	for sip-archive@odin.ietf.org; Thu, 8 Nov 2001 20:07:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA21369;
	Thu, 8 Nov 2001 19:50:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA21339
	for <sip@optimus.ietf.org>; Thu, 8 Nov 2001 19:50:04 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA12258
	for <sip@ietf.org>; Thu, 8 Nov 2001 19:50:02 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fA90mvP19565;
	Thu, 8 Nov 2001 18:48:57 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fA90mvt28420;
	Thu, 8 Nov 2001 18:48:57 -0600 (CST)
Received: from lmf.ericsson.se (rmt160146.am.ericsson.se [138.85.160.146]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id SAA05702; Thu, 8 Nov 2001 18:48:49 -0600 (CST)
Message-ID: <3BEB2D1F.3931508A@lmf.ericsson.se>
Date: Fri, 09 Nov 2001 03:10:55 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Shan Lu <shanlu@sentito.com>
CC: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
References: <001601c16899$db0000a0$eb00000a@SAJAK>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Shan Lu wrote:
> 
> Hello,
> 
> > -----Original Message-----
> > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > Sent: Thursday, November 08, 2001 2:52 PM
> > To: Shan Lu
> > Cc: 'Jonathan Rosenberg'; sip@ietf.org
> > Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> >
> >
> > Hi,
> >
> > Shan Lu wrote:
> > >
> > > To quote bis-05, line 2458, "They (stateless proxies) do
> > not have the
> > > ability to distinguish a retransmission from the original
> > message" and
> > > Line 2466, "a retransmitted request MUST be forwarded to the same
> > > desitnation each time it is processed".
> > >
> > > Assume that a stateless proxy uses the request-uri to look
> > up a location
> > > DB and make routing decisions. Given these two lines, does
> > it mean that
> > > all INVITEs with the same request-uri have to be routed to
> > exactly the
> > > same destination for as long as the proxy is running, regardless of
> > > database changes? Can you provide some ideas how line 2466 can be
> > > accomplished without the proxy going stateful?
> > >
> >
> > As Jonathan said already, if something external changes (like
> > you update
> > the database), you need to go stateful to be sure that you do not
> > re-route ongoing dialogs.
> >
> 
> If this is the case, then the proxy MUST be stateful ALWAYS. How can the
> proxy be certain that all INVITEs have finished their retransmissions
> and therefore it's "safe" to update database? Wait for 32s of no
> activity?

As folks have said multiple times. If you intend to change your "routing
tables" often, do not implement a stateless proxy.

And if you have a stateless proxy and make a change in the "routing
table", you have to go stateful for max (T1*64, T3). Then you change the
"routing table", and go stateless again. You have simply to stay
stateful for all the transactions that were initiated during your timer.

You have changed everything is 1 minute. Is this a big deal? As cannot
stress enough that stateless proxies are not used when "routing tables"
change very often.



> 
> > Stateless proxies are very useful as load distributors, and
> > in this case
> > the database you are referring to only changes when some server goes
> > down... and as Jonathan already said, bis-05 does not cover
> > any possible
> > failure scenario you can think of.
> >
> 
> I am afraid this view of stateless proxy is very restrictive. SL proxy
> can be used as more than LB and can connect to a location database which
> may be updated for reasons other than server failure. When this happens,
> unless the proxy has been operating stateful since the initial INVITE,
> you can't ensure that retransmissions will be routed to the same path.
> 
> I can't find similar text in bis-04 that talks about how retransmission
> should be handled by a stateless proxy. So is the intension to deprecate
> SL proxy in bis-05?

I really wonder what makes you think that...

Regards,

Gonzalo


> 
> Regards,
> 
> Shan Lu
> sentitO Networks

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 01:16:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA19606
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 01:16:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA04397
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 01:16:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA26433;
	Fri, 9 Nov 2001 00:47:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA26404
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 00:46:56 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA18154
	for <sip@ietf.org>; Fri, 9 Nov 2001 00:46:55 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA95iW0r028844;
	Fri, 9 Nov 2001 00:44:32 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQX9XQ>; Fri, 9 Nov 2001 00:45:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6DF7@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Michael Thomas'" <mat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'Tuexen Michael'" <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'"
	 <mankin@isi.edu>, jon.peterson@neustar.com,
        sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
Date: Fri, 9 Nov 2001 00:45:46 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Michael Thomas [mailto:mat@cisco.com]
> Sent: Thursday, November 08, 2001 12:53 PM
> To: Jonathan Rosenberg
> Cc: 'Tuexen Michael'; 'mankin@isi.edu'; jon.peterson@NeuStar.com;
> sip@ietf.org; ajung@exp-math.uni-essen.de
> Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
> 
> 
> Jonathan Rosenberg writes:
>  > One thing on this draft... you run TLS over each stream 
> separately. Whilst
>  > it makes sense, it is really awful for applications that 
> use lots of
>  > streams. It would be nice to be able to protect the entire 
> association with
>  > a single TLS connection.
> 
>    You strive for IPsec, Grasshopper. :-)

Well, I'm not a big fan as folks are aware, but this mode of operation of
TLS over SCTP is not useful, so I guess there isn't much other choice
besides IPSec. One of the big benefits of streams, IMHO, is that you don't
need to signal to use them. But, now I do if tls is used. 

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 04:27:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA05499
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 04:27:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA09631
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 04:27:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA08229;
	Fri, 9 Nov 2001 03:55:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA08200
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 03:55:50 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA04768
	for <sip@ietf.org>; Fri, 9 Nov 2001 03:55:47 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id JAA08387;
	Fri, 9 Nov 2001 09:55:30 +0100 (MET)
Received: from mchh246e.demchh201e.icn.siemens.de ([139.21.200.56])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id JAA00669;
	Fri, 9 Nov 2001 09:55:32 +0100 (MET)
Received: by MCHH246E with Internet Mail Service (5.5.2653.19)
	id <V0MRWAM1>; Fri, 9 Nov 2001 09:55:22 +0100
Message-ID: <F92978223B01D311ACFF0008C71EE19D015DF65B@MCHH225E>
From: Tuexen Michael <Michael.Tuexen@icn.siemens.de>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'Michael Thomas'"
	 <mat@cisco.com>
Cc: Tuexen Michael <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'"
	 <mankin@isi.edu>, jon.peterson@neustar.com,
        sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
Date: Fri, 9 Nov 2001 09:55:18 +0100 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear all,

just to let you know, one guy at the University of Essen
is looking into the necessary modifcation to use only
one TLS connection per SCTP association. But this is technical
work. 

Today I have no idea, once we have the result, how to preceed in IETF.
I think that it depends on the needs. If the current solution will
work, there is no need for the more complex one. If we have applications
of TLS/SCTP where the more complex solution is really needed and IPSec
is no alternative, than (I would expect that) the chances in the IETF for the more complex solution are better.

Best regards
Michael

Michael Tuexen    Tel.:   +49 89 722 47210
Siemens AG        Fax:    +49 89 722 48212
ICN WN CS SE 5    E-mail: Michael.Tuexen@icn.siemens.de

> -----Original Message-----
> From:	Jonathan Rosenberg [SMTP:jdrosen@dynamicsoft.com]
> Sent:	Friday, November 09, 2001 6:46 AM
> To:	'Michael Thomas'; Jonathan Rosenberg
> Cc:	'Tuexen Michael'; 'mankin@isi.edu'; jon.peterson@NeuStar.com; sip@ietf.org; ajung@exp-math.uni-essen.de
> Subject:	RE: [Sip] Bis-5: TLS as secure transport for SIP 
> 
> 
> 
>  
> 
> > -----Original Message-----
> > From: Michael Thomas [mailto:mat@cisco.com]
> > Sent: Thursday, November 08, 2001 12:53 PM
> > To: Jonathan Rosenberg
> > Cc: 'Tuexen Michael'; 'mankin@isi.edu'; jon.peterson@NeuStar.com;
> > sip@ietf.org; ajung@exp-math.uni-essen.de
> > Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
> > 
> > 
> > Jonathan Rosenberg writes:
> >  > One thing on this draft... you run TLS over each stream 
> > separately. Whilst
> >  > it makes sense, it is really awful for applications that 
> > use lots of
> >  > streams. It would be nice to be able to protect the entire 
> > association with
> >  > a single TLS connection.
> > 
> >    You strive for IPsec, Grasshopper. :-)
> 
> Well, I'm not a big fan as folks are aware, but this mode of operation of
> TLS over SCTP is not useful, so I guess there isn't much other choice
> besides IPSec. One of the big benefits of streams, IMHO, is that you don't
> need to signal to use them. But, now I do if tls is used. 
> 
> -Jonathan R.
> 
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 06:40:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA06746
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 06:40:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA12709
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 06:40:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA12177;
	Fri, 9 Nov 2001 06:15:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA12146
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 06:15:31 -0500 (EST)
Received: from znsgs0ja.europe.nortel.com (znsgs0ja.nortelnetworks.com [47.165.25.40])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA06522
	for <sip@ietf.org>; Fri, 9 Nov 2001 06:15:27 -0500 (EST)
Received: from qnsgs000.nortel.com (znsgs016 [47.255.64.31])
	by znsgs0ja.europe.nortel.com (8.11.0/8.11.0) with ESMTP id fA9BF0k14178
	for <sip@ietf.org>; Fri, 9 Nov 2001 11:15:00 GMT
Received: from zwcwc012.europe.nortel.com by znsgs016;
          Fri, 9 Nov 2001 11:14:46 +0000
Received: by zwcwc012.europe.nortel.com 
          with Internet Mail Service (5.5.2653.19) id <WQLTHPR2>;
          Fri, 9 Nov 2001 11:13:41 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6E47@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: sip@ietf.org
Date: Fri, 9 Nov 2001 11:13:38 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C1690F.94FF74C0"
Subject: [Sip] Bis-05: Diaglog establishment ambiguity
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1690F.94FF74C0
Content-Type: text/plain;
	charset="ISO-8859-1"

Apologies if this has already been covered.

There is an ambiguity in the specification with respect to the
'establishment' of a dialog.

Section 12.1 states:

"Dialogs are created through the generation of non-failure responses to
requests with specific methods. Within this specification, only the 2xx and
1xx responses to INVITE establish a dialog. A dialog established by a
non-final response to a request is called an early dialog."

i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
received. This means that 'establishing' a dialog is equivalent to
'creating' it.

However, the introduction to Section 12 states at the end:

"A dialog can also be in the "early" state, which occurs when it is created
with a provisional response, and then transition to the "established" state
when the final response comes."

i.e. the dialog is not considered 'established' until a *final* response is
received.

Aside from the need to make the terminology unambiguous, section 12.2
indicates that new requests within a dialog can be sent once it is
'established' so the definition of 'established' is clearly important.

I would suggest sticking with the description of 12.1 - i.e. that the dialog
is established as soon as a non-failure response is received - this is all
that is required to ensure both UAS & UAC have the required, synchronised
state information. If it is necessary to distinguish between dialog state
before and after a final response, then I'd suggest using the term
'confirmed' for dialogs where there has been a final response. I'm not sure
there is such a need - whether a response is provisional or final is a
transaction layer concept - does it need to be reflected in dialog state ?

Regards,

Mark Watson
Nortel Networks

------_=_NextPart_001_01C1690F.94FF74C0
Content-Type: text/html;
	charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3DISO-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>Bis-05: Diaglog establishment ambiguity</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Apologies if this has already been covered.</FONT>
</P>

<P><FONT SIZE=3D2>There is an ambiguity in the specification with =
respect to the 'establishment' of a dialog.</FONT>
</P>

<P><FONT SIZE=3D2>Section 12.1 states:</FONT>
</P>

<P><FONT SIZE=3D2>&quot;Dialogs are created through the generation of =
non-failure responses to requests with specific methods. Within this =
specification, only the 2xx and 1xx responses to INVITE establish a =
dialog. A dialog established by a non-final response to a request is =
called an early dialog.&quot;</FONT></P>

<P><FONT SIZE=3D2>i.e. a dialog is considered 'established' as soon as =
any 1xx or 2xx is received. This means that 'establishing' a dialog is =
equivalent to 'creating' it.</FONT></P>

<P><FONT SIZE=3D2>However, the introduction to Section 12 states at the =
end:</FONT>
</P>

<P><FONT SIZE=3D2>&quot;A dialog can also be in the &quot;early&quot; =
state, which occurs when it is created with a provisional response, and =
then transition to the &quot;established&quot; state when the final =
response comes.&quot;</FONT></P>

<P><FONT SIZE=3D2>i.e. the dialog is not considered 'established' until =
a *final* response is received.</FONT>
</P>

<P><FONT SIZE=3D2>Aside from the need to make the terminology =
unambiguous, section 12.2 indicates that new requests within a dialog =
can be sent once it is 'established' so the definition of 'established' =
is clearly important.</FONT></P>

<P><FONT SIZE=3D2>I would suggest sticking with the description of 12.1 =
- i.e. that the dialog is established as soon as a non-failure response =
is received - this is all that is required to ensure both UAS &amp; UAC =
have the required, synchronised state information. If it is necessary =
to distinguish between dialog state before and after a final response, =
then I'd suggest using the term 'confirmed' for dialogs where there has =
been a final response. I'm not sure there is such a need - whether a =
response is provisional or final is a transaction layer concept - does =
it need to be reflected in dialog state ?</FONT></P>

<P><FONT SIZE=3D2>Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Mark Watson</FONT>
<BR><FONT SIZE=3D2>Nortel Networks</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1690F.94FF74C0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 08:19:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA09414
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 08:19:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA16336
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 08:19:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA16087;
	Fri, 9 Nov 2001 08:00:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA15979
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 08:00:45 -0500 (EST)
Received: from prue.eim.surrey.ac.uk (IDENT:exim@prue.eim.surrey.ac.uk [131.227.76.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA08868
	for <sip@ietf.org>; Fri, 9 Nov 2001 08:00:42 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by prue.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 162BGs-0002JC-00; Fri, 09 Nov 2001 13:00:34 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 162BGq-0007hI-00; Fri, 9 Nov 2001 13:00:32 +0000
Date: Fri, 9 Nov 2001 13:00:32 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Mark Watson <mwatson@nortelnetworks.com>
cc: sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
In-Reply-To: <A3C2399B2FACD411A54200508BE39C74054F6E47@zwcwd00r.europe.nortel.com>
Message-ID: <Pine.GSO.4.21.0111091207280.28326-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *162BGs-0002JC-00*R9ibhepF04E* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, Mark,
  it is a little bit ambiguity in terminology. 
  I think the 'establish' means user can begin to talk or hear the
feedback ringing. so when a non-final response received, it could be
defined as 'establish'. And because CONCEL(new request) can be send after
request even without final response, so it can be said that the dialog is
established after receiving non-final or final response.
cheers.
lei


receiving final response 

On Fri, 9 Nov 2001, Mark Watson wrote:

> Apologies if this has already been covered.
> 
> There is an ambiguity in the specification with respect to the
> 'establishment' of a dialog.
> 
> Section 12.1 states:
> 
> "Dialogs are created through the generation of non-failure responses to
> requests with specific methods. Within this specification, only the 2xx and
> 1xx responses to INVITE establish a dialog. A dialog established by a
> non-final response to a request is called an early dialog."
> 
> i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> received. This means that 'establishing' a dialog is equivalent to
> 'creating' it.
> 
> However, the introduction to Section 12 states at the end:
> 
> "A dialog can also be in the "early" state, which occurs when it is created
> with a provisional response, and then transition to the "established" state
> when the final response comes."
> 
> i.e. the dialog is not considered 'established' until a *final* response is
> received.
> 
> Aside from the need to make the terminology unambiguous, section 12.2
> indicates that new requests within a dialog can be sent once it is
> 'established' so the definition of 'established' is clearly important.
> 
> I would suggest sticking with the description of 12.1 - i.e. that the dialog
> is established as soon as a non-failure response is received - this is all
> that is required to ensure both UAS & UAC have the required, synchronised
> state information. If it is necessary to distinguish between dialog state
> before and after a final response, then I'd suggest using the term
> 'confirmed' for dialogs where there has been a final response. I'm not sure
> there is such a need - whether a response is provisional or final is a
> transaction layer concept - does it need to be reflected in dialog state ?
> 
> Regards,
> 
> Mark Watson
> Nortel Networks
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 08:42:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA10222
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 08:42:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA17020
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 08:42:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA16404;
	Fri, 9 Nov 2001 08:23:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA16375
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 08:23:53 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA09564
	for <sip@ietf.org>; Fri, 9 Nov 2001 08:23:50 -0500 (EST)
Received: from dynamicsoft.com ([63.113.46.156])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA9DLx0r029977;
	Fri, 9 Nov 2001 08:21:59 -0500 (EST)
Message-ID: <3BEBD8C5.A81A728C@dynamicsoft.com>
Date: Fri, 09 Nov 2001 08:23:18 -0500
From: Anders Kristensen <akristensen@dynamicsoft.com>
X-Mailer: Mozilla 4.75 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
References: <A3C2399B2FACD411A54200508BE39C74054F6E47@zwcwd00r.europe.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I don't think the intention is to say that *all* 2xx's and 1xx's
establish dialogs but that *some* of them do. This is maybe not
completely clear.

Anders

Mark Watson wrote:
> 
> Apologies if this has already been covered.
> 
> There is an ambiguity in the specification with respect to the
> 'establishment' of a dialog.
> 
> Section 12.1 states:
> 
> "Dialogs are created through the generation of non-failure responses
> to requests with specific methods. Within this specification, only the
> 2xx and 1xx responses to INVITE establish a dialog. A dialog
> established by a non-final response to a request is called an early
> dialog."
> 
> i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> received. This means that 'establishing' a dialog is equivalent to
> 'creating' it.
> 
> However, the introduction to Section 12 states at the end:
> 
> "A dialog can also be in the "early" state, which occurs when it is
> created with a provisional response, and then transition to the
> "established" state when the final response comes."
> 
> i.e. the dialog is not considered 'established' until a *final*
> response is received.
> 
> Aside from the need to make the terminology unambiguous, section 12.2
> indicates that new requests within a dialog can be sent once it is
> 'established' so the definition of 'established' is clearly important.
> 
> I would suggest sticking with the description of 12.1 - i.e. that the
> dialog is established as soon as a non-failure response is received -
> this is all that is required to ensure both UAS & UAC have the
> required, synchronised state information. If it is necessary to
> distinguish between dialog state before and after a final response,
> then I'd suggest using the term 'confirmed' for dialogs where there
> has been a final response. I'm not sure there is such a need - whether
> a response is provisional or final is a transaction layer concept -
> does it need to be reflected in dialog state ?
> 
> Regards,
> 
> Mark Watson
> Nortel Networks

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 09:14:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA11331
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 09:14:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA17803
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 09:14:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA17567;
	Fri, 9 Nov 2001 09:00:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA17538
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 09:00:55 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA10855
	for <sip@ietf.org>; Fri, 9 Nov 2001 09:00:52 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A195B1000BE; Fri, 09 Nov 2001 09:00:53 -0500
Message-ID: <008901c16926$89642540$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Mark Watson" <mwatson@nortelnetworks.com>, <sip@ietf.org>
References: <A3C2399B2FACD411A54200508BE39C74054F6E47@zwcwd00r.europe.nortel.com>
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Fri, 9 Nov 2001 08:57:56 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I think we should have "early" and "established" states for the dialog. I
suggest the paragraph in section be re-worded as follows:

 "Dialogs are created through the generation of non-failure responses to
 requests with specific methods. Within this specification, only the 2xx and
 1xx responses to INVITE create a dialog. A dialog created by a
 non-final response to a request is called an early dialog. An established
dialog
 is created by a final response. Once a final response is received for an
 early dialog, it becomes an established dialog"

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: <sip@ietf.org>
Sent: Friday, November 09, 2001 6:13 AM
Subject: [Sip] Bis-05: Diaglog establishment ambiguity


> Apologies if this has already been covered.
>
> There is an ambiguity in the specification with respect to the
> 'establishment' of a dialog.
>
> Section 12.1 states:
>
> "Dialogs are created through the generation of non-failure responses to
> requests with specific methods. Within this specification, only the 2xx
and
> 1xx responses to INVITE establish a dialog. A dialog established by a
> non-final response to a request is called an early dialog."
>
> i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> received. This means that 'establishing' a dialog is equivalent to
> 'creating' it.
>
> However, the introduction to Section 12 states at the end:
>
> "A dialog can also be in the "early" state, which occurs when it is
created
> with a provisional response, and then transition to the "established"
state
> when the final response comes."
>
> i.e. the dialog is not considered 'established' until a *final* response
is
> received.
>
> Aside from the need to make the terminology unambiguous, section 12.2
> indicates that new requests within a dialog can be sent once it is
> 'established' so the definition of 'established' is clearly important.
>
> I would suggest sticking with the description of 12.1 - i.e. that the
dialog
> is established as soon as a non-failure response is received - this is all
> that is required to ensure both UAS & UAC have the required, synchronised
> state information. If it is necessary to distinguish between dialog state
> before and after a final response, then I'd suggest using the term
> 'confirmed' for dialogs where there has been a final response. I'm not
sure
> there is such a need - whether a response is provisional or final is a
> transaction layer concept - does it need to be reflected in dialog state ?
>
> Regards,
>
> Mark Watson
> Nortel Networks
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 12:14:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19142
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 12:14:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA23358
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 12:14:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21943;
	Fri, 9 Nov 2001 11:55:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21912
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 11:55:26 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18034
	for <sip@ietf.org>; Fri, 9 Nov 2001 11:55:23 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fA9GsPn24161;
	Fri, 9 Nov 2001 08:54:25 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAH45893;
	Fri, 9 Nov 2001 08:53:40 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id IAA16499; Fri, 9 Nov 2001 08:54:15 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15340.2615.772864.199036@thomasm-u1.cisco.com>
Date: Fri, 9 Nov 2001 08:54:15 -0800 (PST)
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Michael Thomas'" <mat@cisco.com>,
        "'Tuexen Michael'" <Michael.Tuexen@icn.siemens.de>,
        "'mankin@isi.edu'"
	 <mankin@isi.edu>, jon.peterson@neustar.com,
        sip@ietf.org, ajung@exp-math.uni-essen.de
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP 
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6DF7@DYN-EXCH-001.dynamicsoft.com>
References: <B65B4F8437968F488A01A940B21982BF020D6DF7@DYN-EXCH-001.dynamicsoft.com>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg writes:
 > Well, I'm not a big fan as folks are aware, but this mode of operation of
 > TLS over SCTP is not useful, so I guess there isn't much other choice
 > besides IPSec. One of the big benefits of streams, IMHO, is that you don't
 > need to signal to use them. But, now I do if tls is used. 

   I think that your outlook depends a great deal
   on where you stand on the setup latency axis.
   If you don't think that's a problem at all, then
   just about anything secure would be adequate (modulo
   UDP). If you do care -- as I do -- there's a
   continuum of more and less heinous possibilities:

   IPsec/IKE
   TLS
   IPsec/KINK
   Per-message authenticated SIP (app layer)

   The last doesn't exist in any real usable form,
   though there's nothing in principle from us
   doing the engineering. 

   Another axis is the necessity for public
   operations. IKE and TLS pretty much force
   you to do initial DH's (RFC 2712 aside) 
   which are always a consideration. PDD could
   be severely affected, which cause a lot of
   people heartburn.

	  Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 12:30:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20004
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 12:30:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA23909
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 12:30:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23461;
	Fri, 9 Nov 2001 12:20:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23433
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 12:20:32 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19567
	for <sip@ietf.org>; Fri, 9 Nov 2001 12:20:16 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id LAA21440
	for <sip@ietf.org>; Fri, 9 Nov 2001 11:19:48 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch2.nortel.com;
          Fri, 9 Nov 2001 11:12:46 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <VPB2Q82R>; Fri, 9 Nov 2001 11:18:45 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B4288@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'sip@ietf.org'" <sip@ietf.org>,
        "'rsparks@dynamicsoft.com'" <rsparks@dynamicsoft.com>
Date: Fri, 9 Nov 2001 11:18:49 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C16942.98C96CE0"
X-Orig: <sriramp@americasm01.nt.com>
Subject: [Sip] Multiple Refers (refer-02 draft)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16942.98C96CE0
Content-Type: text/plain;
	charset="iso-8859-1"

Hi Robert,

In my reading of section 3.5.3.3 (reproduced below for convenience)I take it
that the CSEQ param is sent in the event header of a NOTIFY only if more
than one REFER has been received.

Is this the interpretation? If so - I propose that we send the CSEQ of the
REFER back in every corresponding NOTIFY event header. This leads to
uniformity and does away with unnecessary special cases. 

If my interpretation is not correct - I request that you change the wording
to clarify it - I volunteer to send you the wording if you would like.

Best Regards,

Sriram

__________________________________________
Sriram Parameswar              Phone: 972-685-8540
Interactive Multimedia Server (IMS) Fax: 972-685-3563
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com

----------------------------------------------------------------
3.5.3.3 Multiple REFER requests in a dialog

   A REFER creates an implicit subscription sharing the dialog
   identifers in the REFER request.  If more than one REFER is issued in
   the same dialog (a second attempt at transferring a call for
   example), the dialog identifiers do not provide enough information to
   associate the resulting NOTIFYs with the proper REFER.

   Thus, for the second and subsequent REFER requests a UA receives in a
   given dialog, it MUST include a cseq parameter in the Event header
   field of each NOTIFY containing the sequence number of the REFER this
   NOTIFY is associated with.

------_=_NextPart_001_01C16942.98C96CE0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>Multiple Refers (refer-02 draft)</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Hi Robert,</FONT>
</P>

<P><FONT SIZE=3D2>In my reading of section 3.5.3.3 (reproduced below =
for convenience)I take it that the CSEQ param is sent in the event =
header of a NOTIFY only if more than one REFER has been =
received.</FONT></P>

<P><FONT SIZE=3D2>Is this the interpretation? If so - I propose that we =
send the CSEQ of the REFER back in every corresponding NOTIFY event =
header. This leads to uniformity and does away with unnecessary special =
cases. </FONT></P>

<P><FONT SIZE=3D2>If my interpretation is not correct - I request that =
you change the wording to clarify it - I volunteer to send you the =
wording if you would like.</FONT></P>

<P><FONT SIZE=3D2>Best Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Sriram</FONT>
</P>

<P><FONT SIZE=3D2>__________________________________________</FONT>
<BR><FONT SIZE=3D2>Sriram =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; Phone: 972-685-8540</FONT>
<BR><FONT SIZE=3D2>Interactive Multimedia Server (IMS) Fax: =
972-685-3563</FONT>
<BR><FONT SIZE=3D2>Nortel Networks, Richardson USA&nbsp; Email: =
sriramp@nortelnetworks.com</FONT>
</P>

<P><FONT =
SIZE=3D2>---------------------------------------------------------------=
-</FONT>
<BR><FONT SIZE=3D2>3.5.3.3 Multiple REFER requests in a dialog</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; A REFER creates an implicit subscription =
sharing the dialog</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; identifers in the REFER request.&nbsp; =
If more than one REFER is issued in</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; the same dialog (a second attempt at =
transferring a call for</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; example), the dialog identifiers do not =
provide enough information to</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; associate the resulting NOTIFYs with =
the proper REFER.</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; Thus, for the second and subsequent =
REFER requests a UA receives in a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; given dialog, it MUST include a cseq =
parameter in the Event header</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; field of each NOTIFY containing the =
sequence number of the REFER this</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; NOTIFY is associated with.</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C16942.98C96CE0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 12:32:51 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20103
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 12:32:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA23945
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 12:32:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23499;
	Fri, 9 Nov 2001 12:20:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA23475
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 12:20:50 -0500 (EST)
Received: from imo-m03.mx.aol.com (imo-m03.mx.aol.com [64.12.136.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA19579
	for <sip@ietf.org>; Fri, 9 Nov 2001 12:20:47 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m03.mx.aol.com (mail_out_v31_r1.8.) id l.15c.3cb2884 (4398)
	 for <sip@ietf.org>; Fri, 9 Nov 2001 12:20:18 -0500 (EST)
Message-ID: <15c.3cb2884.291d6a51@aol.com>
Date: Fri, 9 Nov 2001 12:20:17 EST
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Subject: [Sip] Communications Resource Priority Header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Subject: Communications Resource Priority Header

I will start a new thread with a meaningful subject, instead of the 
"Introducing the new bis..." that I started. Hope this will catch on.

To summarize comments and conclusions so far:

Current SIP Priority Header and its values will not change. This is viewed as 
the priority from the "human" perspective to be used by the receiving user 
(for example, to sort calls to answer). Therefore, it is not necessary to 
define an order to these values.

A new header will be created (for MLPP-type priority, but not called "MLPP"). 
This defines the priority to be used by the network to allocate resources, 
etc. Call it a "Communications Resource Priority Header". This will not be 
defined in the MLPP description document. Contents to be determined, but it 
needs to include (or be able to include) the lower 5 levels defined in RFC 
791 as well as CRITIC/ECP. An order must be defined (or implicit) for all 
values.

Functionality required should be documented in a separate draft for MLPP. It 
could address not only the use of the CRP header, but other aspects such as 
the use of DiffServ, RSVP, etc.

My further comments:

1. The distinction between the Priority Header being for humans and the new 
CRP header being for the network to control resources isn't really that 
clean-cut (nor should it be). It is perfectly okay for the end device (a SIP 
phone designed for military use?) to mix the two concepts or to make the CRP 
values visible to the user and to not use the current 2543bis defined values 
at all. As Jim commented, "This [relationship] would be an administrative 
issue within the Domain implementing these features/functionalities".

2. To allow greater flexibility, we should define the values in the CRP 
header without referencing the actual English words used for the specific 5 
levels (for MLPP). Other applications may use more levels and would certainly 
call them something else. Note that other IETF work efforts on "Priority" 
have suggested 16 or 65k numeric values. Within a network or domain, the 
association between numeric values and the meaning in that network could be 
defined by local practices. It is assumed that there is no need to compare 
values between different networks or domains (just like MLPP does not include 
preemption of calls in other "domains".)

3. The CRP may be used to control access to both PSTN circuits and IP 
resources. We already know what this means for PSTN circuits. What "access to 
IP resources" means needs to be addressed, probably outside of SIP/SIPPING.

4. The issues of limiting access to priority levels is the same as limiting 
access to any other SIP defined capabilities. This is presumed to be a part 
of Registration.

5. If the definition of this new CRP header is one page, it would seem better 
to include it in the base document (2543bis). This could help to clarify the 
relationship/difference from the existing Priority Header.

Mike Pierce
Artel

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 13:22:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA21893
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 13:22:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA24958
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 13:22:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA24390;
	Fri, 9 Nov 2001 12:57:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA24359
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 12:57:27 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21018
	for <sip@ietf.org>; Fri, 9 Nov 2001 12:57:24 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA9HvMV12675;
	Fri, 9 Nov 2001 12:57:22 -0500 (EST)
Message-ID: <3BEC1902.7A4BE940@cs.columbia.edu>
Date: Fri, 09 Nov 2001 12:57:22 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Mpierce1@aol.com
CC: sip@ietf.org
Subject: Re: [Sip] Communications Resource Priority Header
References: <15c.3cb2884.291d6a51@aol.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mpierce1@aol.com wrote:
> 
> Subject: Communications Resource Priority Header
> 
> I will start a new thread with a meaningful subject, instead of the
> "Introducing the new bis..." that I started. Hope this will catch on.
> 
> To summarize comments and conclusions so far:

Thanks for trying to summarize.

> 
> Current SIP Priority Header and its values will not change. This is viewed as
> the priority from the "human" perspective to be used by the receiving user
> (for example, to sort calls to answer). Therefore, it is not necessary to
> define an order to these values.

It is still useful to define an ordering. This is implicit right now,
but only requires a sentence. Presumably, new values for the header
would indicate their position ("between urgent and emergency"), but
treated by those not knowing the value as the lowest priority.

> 
> A new header will be created (for MLPP-type priority, but not called "MLPP").
> This defines the priority to be used by the network to allocate resources,
> etc. Call it a "Communications Resource Priority Header". This will not be
> defined in the MLPP description document. Contents to be determined, but it
> needs to include (or be able to include) the lower 5 levels defined in RFC
> 791 as well as CRITIC/ECP. An order must be defined (or implicit) for all
> values.

Yes.

> 
> Functionality required should be documented in a separate draft for MLPP. It
> could address not only the use of the CRP header, but other aspects such as
> the use of DiffServ, RSVP, etc.
> 
> My further comments:
> 
> 1. The distinction between the Priority Header being for humans and the new
> CRP header being for the network to control resources isn't really that
> clean-cut (nor should it be). It is perfectly okay for the end device (a SIP
> phone designed for military use?) to mix the two concepts or to make the CRP
> values visible to the user and to not use the current 2543bis defined values
> at all. As Jim commented, "This [relationship] would be an administrative
> issue within the Domain implementing these features/functionalities".

Maybe; I suspect that there will be some clear uses for each header, for
example call routing to different devices will use Priority ("emergency
goes to cell phone"), while use of elevated priorities in gatewaying to
the PSTN will only use CRP. It would probably be useful to include such
examples in the respective definitions, even though they are only
examples. That should give people the right idea what to use when.

> 
> 2. To allow greater flexibility, we should define the values in the CRP
> header without referencing the actual English words used for the specific 5
> levels (for MLPP). Other applications may use more levels and would certainly
> call them something else. Note that other IETF work efforts on "Priority"
> have suggested 16 or 65k numeric values. Within a network or domain, the
> association between numeric values and the meaning in that network could be
> defined by local practices. It is assumed that there is no need to compare
> values between different networks or domains (just like MLPP does not include
> preemption of calls in other "domains".)

Having different name spaces in the same header doesn't seem wise to me.
Either the name space needs to be labeled (CRP: 16 ;domain="foo.com") or
it should be the same. Messages always "leak" between domains, which
would make things confusing.

Just like message encoding, I find textual labels less error-prone, so
the basic 791 set should, in my opinion, have names, not numbers.

> 
> 3. The CRP may be used to control access to both PSTN circuits and IP
> resources. We already know what this means for PSTN circuits. What "access to
> IP resources" means needs to be addressed, probably outside of SIP/SIPPING.

Yes, and expect to wear an asbestos suit as you cross the layer chasm...

> 
> 4. The issues of limiting access to priority levels is the same as limiting
> access to any other SIP defined capabilities. This is presumed to be a part
> of Registration.

No. Registration, at least in the SIP sense, has nothing to do with
this. Any enforcement would be part of the proxy's role. At best, at
REGISTER time, the registrar could indicate, as advice, "your highest
priority is X", but that has little value beyond information.

A new Warning header value may be useful here.

> 
> 5. If the definition of this new CRP header is one page, it would seem better
> to include it in the base document (2543bis). This could help to clarify the
> relationship/difference from the existing Priority Header.

The spec becomes the Manhattan phone book one page at a time,
unfortunately.

> 
> Mike Pierce
> Artel
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 13:26:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA22118
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 13:26:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA25065
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 13:26:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA24885;
	Fri, 9 Nov 2001 13:10:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA24854
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 13:10:48 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA21569
	for <sip@ietf.org>; Fri, 9 Nov 2001 13:10:47 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA9I640r003098;
	Fri, 9 Nov 2001 13:06:04 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYASK>; Fri, 9 Nov 2001 13:07:23 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E77E@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Sriram Parameswar'" <sriramp@nortelnetworks.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>,
        Robert Sparks <rsparks@dynamicsoft.com>
Date: Fri, 9 Nov 2001 13:07:16 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16949.5D3DE0F0"
Subject: [Sip] RE: Multiple Refers (refer-02 draft)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16949.5D3DE0F0
Content-Type: text/plain;
	charset="iso-8859-1"

The current text does not prevent you from supplying the parameter in the
case
of only one REFER in a dialog. It only requires it in the presence of
multiples.
 
The text is written this way so that existing implementations would not have
to change.
You are correct that requiring the parameter in all cases would increase
uniformity, but
it burns bits for the normal use case. Multiple REFERs in a dialog (at least
for transfer)
aren't going to happen that often.
 
RjS

-----Original Message-----
From: Sriram Parameswar [mailto:sriramp@nortelnetworks.com]
Sent: Friday, November 09, 2001 11:19 AM
To: 'sip@ietf.org'; 'rsparks@dynamicsoft.com'
Subject: Multiple Refers (refer-02 draft)



Hi Robert, 

In my reading of section 3.5.3.3 (reproduced below for convenience)I take it
that the CSEQ param is sent in the event header of a NOTIFY only if more
than one REFER has been received.

Is this the interpretation? If so - I propose that we send the CSEQ of the
REFER back in every corresponding NOTIFY event header. This leads to
uniformity and does away with unnecessary special cases. 

If my interpretation is not correct - I request that you change the wording
to clarify it - I volunteer to send you the wording if you would like.

Best Regards, 

Sriram 

__________________________________________ 
Sriram Parameswar              Phone: 972-685-8540 
Interactive Multimedia Server (IMS) Fax: 972-685-3563 
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com 

---------------------------------------------------------------- 
3.5.3.3 Multiple REFER requests in a dialog 

   A REFER creates an implicit subscription sharing the dialog 
   identifers in the REFER request.  If more than one REFER is issued in 
   the same dialog (a second attempt at transferring a call for 
   example), the dialog identifiers do not provide enough information to 
   associate the resulting NOTIFYs with the proper REFER. 

   Thus, for the second and subsequent REFER requests a UA receives in a 
   given dialog, it MUST include a cseq parameter in the Event header 
   field of each NOTIFY containing the sequence number of the REFER this 
   NOTIFY is associated with. 


------_=_NextPart_001_01C16949.5D3DE0F0
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>Multiple Refers (refer-02 draft)</TITLE>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>The 
current text does not prevent you from supplying the parameter in the 
case</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>of 
only one REFER in a dialog. It only requires it in the presence of 
multiples.</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001></SPAN><SPAN class=798420018-09112001><FONT 
face=Arial color=#0000ff size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>The 
text is written this way so that existing implementations would not have to 
change.</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>You 
are correct that requiring the parameter in all cases would increase uniformity, 
but</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>it 
burns bits for the normal use case. Multiple REFERs in a dialog (at least for 
transfer)</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff size=2>aren't 
going to happen that often.</FONT></SPAN></DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff 
size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=798420018-09112001><FONT face=Arial color=#0000ff 
size=2>RjS</FONT></SPAN></DIV>
<BLOCKQUOTE dir=ltr 
style="PADDING-LEFT: 5px; MARGIN-LEFT: 5px; BORDER-LEFT: #0000ff 2px solid; MARGIN-RIGHT: 0px">
  <DIV class=OutlookMessageHeader dir=ltr align=left><FONT face=Tahoma 
  size=2>-----Original Message-----<BR><B>From:</B> Sriram Parameswar 
  [mailto:sriramp@nortelnetworks.com]<BR><B>Sent:</B> Friday, November 09, 2001 
  11:19 AM<BR><B>To:</B> 'sip@ietf.org'; 
  'rsparks@dynamicsoft.com'<BR><B>Subject:</B> Multiple Refers (refer-02 
  draft)<BR><BR></FONT></DIV>
  <P><FONT size=2>Hi Robert,</FONT> </P>
  <P><FONT size=2>In my reading of section 3.5.3.3 (reproduced below for 
  convenience)I take it that the CSEQ param is sent in the event header of a 
  NOTIFY only if more than one REFER has been received.</FONT></P>
  <P><FONT size=2>Is this the interpretation? If so - I propose that we send the 
  CSEQ of the REFER back in every corresponding NOTIFY event header. This leads 
  to uniformity and does away with unnecessary special cases. </FONT></P>
  <P><FONT size=2>If my interpretation is not correct - I request that you 
  change the wording to clarify it - I volunteer to send you the wording if you 
  would like.</FONT></P>
  <P><FONT size=2>Best Regards,</FONT> </P>
  <P><FONT size=2>Sriram</FONT> </P>
  <P><FONT size=2>__________________________________________</FONT> <BR><FONT 
  size=2>Sriram 
  Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
  Phone: 972-685-8540</FONT> <BR><FONT size=2>Interactive Multimedia Server 
  (IMS) Fax: 972-685-3563</FONT> <BR><FONT size=2>Nortel Networks, Richardson 
  USA&nbsp; Email: sriramp@nortelnetworks.com</FONT> </P>
  <P><FONT 
  size=2>----------------------------------------------------------------</FONT> 
  <BR><FONT size=2>3.5.3.3 Multiple REFER requests in a dialog</FONT> </P>
  <P><FONT size=2>&nbsp;&nbsp; A REFER creates an implicit subscription sharing 
  the dialog</FONT> <BR><FONT size=2>&nbsp;&nbsp; identifers in the REFER 
  request.&nbsp; If more than one REFER is issued in</FONT> <BR><FONT 
  size=2>&nbsp;&nbsp; the same dialog (a second attempt at transferring a call 
  for</FONT> <BR><FONT size=2>&nbsp;&nbsp; example), the dialog identifiers do 
  not provide enough information to</FONT> <BR><FONT size=2>&nbsp;&nbsp; 
  associate the resulting NOTIFYs with the proper REFER.</FONT> </P>
  <P><FONT size=2>&nbsp;&nbsp; Thus, for the second and subsequent REFER 
  requests a UA receives in a</FONT> <BR><FONT size=2>&nbsp;&nbsp; given dialog, 
  it MUST include a cseq parameter in the Event header</FONT> <BR><FONT 
  size=2>&nbsp;&nbsp; field of each NOTIFY containing the sequence number of the 
  REFER this</FONT> <BR><FONT size=2>&nbsp;&nbsp; NOTIFY is associated 
  with.</FONT> </P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C16949.5D3DE0F0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 15:17:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26292
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 15:17:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28315
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 15:17:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27774;
	Fri, 9 Nov 2001 14:58:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27744
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 14:58:07 -0500 (EST)
Received: from imo-m09.mx.aol.com (imo-m09.mx.aol.com [64.12.136.164])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25760
	for <sip@ietf.org>; Fri, 9 Nov 2001 14:58:05 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m09.mx.aol.com (mail_out_v31_r1.8.) id 7.a9.1e134d2c (4217);
	Fri, 9 Nov 2001 14:57:01 -0500 (EST)
Message-ID: <a9.1e134d2c.291d8f0d@aol.com>
Date: Fri, 9 Nov 2001 14:57:01 EST
Subject: Re: [Sip] Communications Resource Priority Header
To: hgs@cs.columbia.edu
CC: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/9/01 1:27:55 PM Eastern Standard Time, 
hgs@cs.columbia.edu writes:

> Mpierce1@aol.com wrote:
>  >  
>  > 2. To allow greater flexibility, we should define the values in the CRP
>  > header without referencing the actual English words used for the 
specific 5
>  > levels (for MLPP). Other applications may use more levels and would 
certainly
>  > call them something else. Note that other IETF work efforts on "Priority"
>  > have suggested 16 or 65k numeric values. Within a network or domain, the
>  > association between numeric values and the meaning in that network could 
be
>  > defined by local practices. It is assumed that there is no need to 
compare
>  > values between different networks or domains (just like MLPP does not 
include
>  > preemption of calls in other "domains".)
>  
>  Having different name spaces in the same header doesn't seem wise to me.
>  Either the name space needs to be labeled (CRP: 16 ;domain="foo.com") or
>  it should be the same. Messages always "leak" between domains, which
>  would make things confusing.
>  
>  Just like message encoding, I find textual labels less error-prone, so
>  the basic 791 set should, in my opinion, have names, not numbers.
> 
 
I agree, having mulitiple name spaces is not wise. I think what I was 
suggesting would not actually cause that.

I understand the need to either label the name space or have them be equal. I 
was not suggesting that a "Domain" identity be carried to label the name 
space. But given the wide variety of requirements, I don't see how one single 
set could be defined to cover all, especially considering that an order (for 
each application) must be defined. It would be sufficient to define values 
as: LEVEL00, LEVEL01, LEVEL02, ... LEVEL 255 if you must utilize textual 
labels, with an explicit ordering. Within each application, some of these 
would be associated with specific uses, like:
    LEVEL00 CRITIC/ECP
    LEVEL01 Flash Override
    LEVEL02 Flash
    LEVEL03 Immediate
    LEVEL04 Priority
    LEVEL05 Routine
    LEVEL06 - LEVEL 255 Not used

As far as calls "leaking" from other domains, it should not be important how 
their values are compared with the set above. Other steps should be taken to 
prevent or detect "leaks" even without these priorrities being the issue. If 
"leaks" are a real problem, then there is a much bigger issue than how one 
interpets the priority header.

Yes, it would be a problem if messages "leaked" between domains. The "Domain" 
concept was added to MLPP in the circuit switched world because of some 
concern that phone calls could "leak" between domains, and some wanted 
assurance that calls in one Domain could not preempt calls in another domain. 
Guess they didn't care if normal calls from one domain were erroneoulsy 
carried in another domain and prevented calls in it from ever being setup, 
just whether they were disrupted after being setup.

Mike Pierce





_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 15:23:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26481
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 15:23:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28490
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 15:23:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27814;
	Fri, 9 Nov 2001 14:58:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA27783
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 14:58:20 -0500 (EST)
Received: from imo-d01.mx.aol.com (imo-d01.mx.aol.com [205.188.157.33])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25763
	for <sip@ietf.org>; Fri, 9 Nov 2001 14:58:18 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d01.mx.aol.com (mail_out_v31_r1.8.) id 7.18.15153464 (4217);
	Fri, 9 Nov 2001 14:57:02 -0500 (EST)
Message-ID: <18.15153464.291d8f0e@aol.com>
Date: Fri, 9 Nov 2001 14:57:02 EST
Subject: Re: [Sip] Communications Resource Priority Header
To: hgs@cs.columbia.edu
CC: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/9/01 1:27:55 PM Eastern Standard Time, 
hgs@cs.columbia.edu writes:

> Mpierce1@aol.com wrote:
>  > 
>  > Subject: Communications Resource Priority Header
>  > 
>  > 4. The issues of limiting access to priority levels is the same as 
limiting
>  > access to any other SIP defined capabilities. This is presumed to be a 
part
>  > of Registration.
>  
>  No. Registration, at least in the SIP sense, has nothing to do with
>  this. Any enforcement would be part of the proxy's role. At best, at
>  REGISTER time, the registrar could indicate, as advice, "your highest
>  priority is X", but that has little value beyond information.
>  
>  A new Warning header value may be useful here.
>  
I guess it's not clear to me how Registration fits in. I presumed that, in a 
real situation, Registration needs to be done, for example, when a uses turns 
on a SIP telephone device (maybe including some authentication process, 
biometrics, password, etc). The proxy indicates (as more than just advice) 
"your highest priority is X". It must tell it lots of other things it can do. 
Unless a device is intentionally modified to falsely use a higher value than 
authorized, this indication from the Proxy tells it what it can do. Yes, the 
proxy further authenticates any value used, but I see the CRP as possibly 
impacting the ability to get the first message to the proxy to set up an 
important call. So the Priority value used in that first message is critical. 
(Kind of analogous to "Priority Dial Tone" in the PSTN.)

Mike Pierce
Artel

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 15:26:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26681
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 15:26:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28789
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 15:27:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA28202;
	Fri, 9 Nov 2001 15:04:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA28171
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 15:04:31 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA25893
	for <sip@ietf.org>; Fri, 9 Nov 2001 15:04:28 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA9K270r004025;
	Fri, 9 Nov 2001 15:02:07 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYBA6>; Fri, 9 Nov 2001 15:03:26 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E784@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Jin-Gen.Wang@Level3.com'" <Jin-Gen.Wang@level3.com>, sip@ietf.org
Subject: RE: [Sip] question on "Route" header examples (bis-05)
Date: Fri, 9 Nov 2001 15:03:15 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

You are correct.
This is being fixed - thanks for pointing it out.

RjS

> -----Original Message-----
> From: Jin-Gen.Wang@Level3.com [mailto:Jin-Gen.Wang@Level3.com]
> Sent: Tuesday, October 30, 2001 6:12 PM
> To: sip@ietf.org
> Subject: [Sip] question on "Route" header examples (bis-05)
> 
> 
> I think the "Route" header examples shown in section 7.3.1 
> (line 768 to line
> 788) are not in valid format based on rules in section 26.1 
> (page 136, line
> 4547). The field value should be in name-addr format which 
> always has "<"
> and ">". Somebody please clarify on this. Thanks.
> 
> Jin-Gen Wang
> Level 3 Communications, Inc.
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 15:38:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26972
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 15:38:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA29358
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 15:38:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA28673;
	Fri, 9 Nov 2001 15:24:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA28642
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 15:24:29 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26528
	for <sip@ietf.org>; Fri, 9 Nov 2001 15:24:25 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fA9KOCV21813;
	Fri, 9 Nov 2001 15:24:12 -0500 (EST)
Message-ID: <3BEC3B6B.2C6881C2@cs.columbia.edu>
Date: Fri, 09 Nov 2001 15:24:11 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Mpierce1@aol.com
CC: sip@ietf.org
Subject: Re: [Sip] Communications Resource Priority Header
References: <18.15153464.291d8f0e@aol.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mpierce1@aol.com wrote:
> 

> I guess it's not clear to me how Registration fits in. I presumed that, in a
> real situation, Registration needs to be done, for example, when a uses turns
> on a SIP telephone device (maybe including some authentication process,
> biometrics, password, etc). The proxy indicates (as more than just advice)

In general (as opposed to the 3GPP model), you do not need to REGISTER
to send a SIP INVITE (make a call). You do have to register to *receive*
a call.


> "your highest priority is X". It must tell it lots of other things it can do.
> Unless a device is intentionally modified to falsely use a higher value than
> authorized, this indication from the Proxy tells it what it can do. Yes, the

I doubt that assuming trusted end systems is going to fly.

> proxy further authenticates any value used, but I see the CRP as possibly
> impacting the ability to get the first message to the proxy to set up an
> important call. So the Priority value used in that first message is critical.
> (Kind of analogous to "Priority Dial Tone" in the PSTN.)

Again, no REGISTER is needed. The outbound proxy would look at the CRP
value and the user identity, suitably authenticated, and decide whether
the user is authorized to use that value. If not, it could then either
downgrade the CRP or return an error.

> 
> Mike Pierce
> Artel

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 16:00:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA27353
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 16:00:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA29838
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 16:00:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29494;
	Fri, 9 Nov 2001 15:45:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA29401
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 15:45:31 -0500 (EST)
Received: from hoemail2.firewall.lucent.com (hoemail2.lucent.com [192.11.226.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA27133
	for <sip@ietf.org>; Fri, 9 Nov 2001 15:45:28 -0500 (EST)
Received: from ih2mail.ih.lucent.com (h135-1-241-39.lucent.com [135.1.241.39])
	by hoemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fA9KixF19116
	for <sip@ietf.org>; Fri, 9 Nov 2001 15:45:00 -0500 (EST)
Received: from lucent.com by ih2mail.ih.lucent.com (8.8.8+Sun/EMS-1.5 sol2)
	id OAA02110; Fri, 9 Nov 2001 14:44:58 -0600 (CST)
Message-ID: <3BEC4037.E1EE7989@lucent.com>
Date: Fri, 09 Nov 2001 14:44:39 -0600
From: Vijay Gurbani <vkg@lucent.com>
Organization: Lucent Technologies/Bell Laboratories
X-Mailer: Mozilla 4.73 [en]C-CCK-MCD EMS-1.4  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP LIST <sip@ietf.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] -05bis and Contact
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In -05bis' definition of Contact (line 3492, PDF version), it appears that
the "action" parameter has disappeared since it says "parameters defined for
Contact include "q" and "expires"..."  However, in the BNF on page 134,
the "action" parameter is present.

I hope that the BNF on page 134 is accurate, not the description of para-
meters on line 3492.  The "action" parameter has not disappeared, has it?
I would hope not.

Thanks,

- vijay
-- 
Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
Internet Software and eServices Group 
Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: +1 630 713 0184

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 16:57:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA28221
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 16:57:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA00798
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 16:57:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00631;
	Fri, 9 Nov 2001 16:42:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00600
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 16:42:04 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA28037
	for <sip@ietf.org>; Fri, 9 Nov 2001 16:42:02 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA9LeD0r005041;
	Fri, 9 Nov 2001 16:40:13 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYBNZ>; Fri, 9 Nov 2001 16:41:30 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E787@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Shan Lu
	 <shanlu@sentito.com>
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
Date: Fri, 9 Nov 2001 16:41:24 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Aslo, its not necessary to switch the whole proxy
from stateless to stateful - if the db/routing
table change allows you to partition resources into
"recently changed" vs stable, you can continue to
forward stable resources statelessly.

RjS

> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: Thursday, November 08, 2001 7:11 PM
> To: Shan Lu
> Cc: 'Jonathan Rosenberg'; sip@ietf.org
> Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> 
> 
> Hello,
> 
> Shan Lu wrote:
> > 
> > Hello,
> > 
> > > -----Original Message-----
> > > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > > Sent: Thursday, November 08, 2001 2:52 PM
> > > To: Shan Lu
> > > Cc: 'Jonathan Rosenberg'; sip@ietf.org
> > > Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> > >
> > >
> > > Hi,
> > >
> > > Shan Lu wrote:
> > > >
> > > > To quote bis-05, line 2458, "They (stateless proxies) do
> > > not have the
> > > > ability to distinguish a retransmission from the original
> > > message" and
> > > > Line 2466, "a retransmitted request MUST be forwarded 
> to the same
> > > > desitnation each time it is processed".
> > > >
> > > > Assume that a stateless proxy uses the request-uri to look
> > > up a location
> > > > DB and make routing decisions. Given these two lines, does
> > > it mean that
> > > > all INVITEs with the same request-uri have to be routed to
> > > exactly the
> > > > same destination for as long as the proxy is running, 
> regardless of
> > > > database changes? Can you provide some ideas how line 
> 2466 can be
> > > > accomplished without the proxy going stateful?
> > > >
> > >
> > > As Jonathan said already, if something external changes (like
> > > you update
> > > the database), you need to go stateful to be sure that you do not
> > > re-route ongoing dialogs.
> > >
> > 
> > If this is the case, then the proxy MUST be stateful 
> ALWAYS. How can the
> > proxy be certain that all INVITEs have finished their 
> retransmissions
> > and therefore it's "safe" to update database? Wait for 32s of no
> > activity?
> 
> As folks have said multiple times. If you intend to change 
> your "routing
> tables" often, do not implement a stateless proxy.
> 
> And if you have a stateless proxy and make a change in the "routing
> table", you have to go stateful for max (T1*64, T3). Then you 
> change the
> "routing table", and go stateless again. You have simply to stay
> stateful for all the transactions that were initiated during 
> your timer.
> 
> You have changed everything is 1 minute. Is this a big deal? As cannot
> stress enough that stateless proxies are not used when 
> "routing tables"
> change very often.
> 
> 
> 
> > 
> > > Stateless proxies are very useful as load distributors, and
> > > in this case
> > > the database you are referring to only changes when some 
> server goes
> > > down... and as Jonathan already said, bis-05 does not cover
> > > any possible
> > > failure scenario you can think of.
> > >
> > 
> > I am afraid this view of stateless proxy is very 
> restrictive. SL proxy
> > can be used as more than LB and can connect to a location 
> database which
> > may be updated for reasons other than server failure. When 
> this happens,
> > unless the proxy has been operating stateful since the 
> initial INVITE,
> > you can't ensure that retransmissions will be routed to the 
> same path.
> > 
> > I can't find similar text in bis-04 that talks about how 
> retransmission
> > should be handled by a stateless proxy. So is the intension 
> to deprecate
> > SL proxy in bis-05?
> 
> I really wonder what makes you think that...
> 
> Regards,
> 
> Gonzalo
> 
> 
> > 
> > Regards,
> > 
> > Shan Lu
> > sentitO Networks
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 17:08:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA28430
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 17:08:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA01280
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 17:08:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00740;
	Fri, 9 Nov 2001 16:55:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00709
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 16:55:53 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA28202
	for <sip@ietf.org>; Fri, 9 Nov 2001 16:55:51 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fA9Ls40r005157;
	Fri, 9 Nov 2001 16:54:04 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYBPQ>; Fri, 9 Nov 2001 16:55:23 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E789@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>, SIP LIST <sip@ietf.org>
Subject: RE: [Sip] -05bis and Contact
Date: Fri, 9 Nov 2001 16:55:14 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Use of the action parameter has been deprecated,
as such, there is no need to explicitly define it
in the syntax (it is still syntactically valid to
include it - it matches under contact-extension -
it just doesn't have semantic meaning).

RjS

> -----Original Message-----
> From: Vijay Gurbani [mailto:vkg@lucent.com]
> Sent: Friday, November 09, 2001 2:45 PM
> To: SIP LIST
> Subject: [Sip] -05bis and Contact
> 
> 
> In -05bis' definition of Contact (line 3492, PDF version), it 
> appears that
> the "action" parameter has disappeared since it says 
> "parameters defined for
> Contact include "q" and "expires"..."  However, in the BNF on 
> page 134,
> the "action" parameter is present.
> 
> I hope that the BNF on page 134 is accurate, not the 
> description of para-
> meters on line 3492.  The "action" parameter has not 
> disappeared, has it?
> I would hope not.
> 
> Thanks,
> 
> - vijay
> -- 
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software and eServices Group 
> Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: 
> +1 630 713 0184
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 21:34:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA03311
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 21:34:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA06726
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 21:34:24 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA06333;
	Fri, 9 Nov 2001 21:17:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA06302
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 21:17:56 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA02322
	for <sip@ietf.org>; Fri, 9 Nov 2001 21:17:53 -0500 (EST)
Received: from smtprch1.nortel.com (erchg0j.us.nortel.com [47.113.64.103])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id UAA08811
	for <sip@ietf.org>; Fri, 9 Nov 2001 20:17:25 -0600 (CST)
Received: from zrchb213.us.nortel.com by smtprch1.nortel.com;
          Fri, 9 Nov 2001 20:14:22 -0600
Received: by zrchb213.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <WMPSLZ2B>; Fri, 9 Nov 2001 20:16:36 -0600
Message-ID: <63E0DAD7784FD21188310000F80824B3079B8FDD@zmpkdx02.us.nortel.com>
From: "Francois Audet" <audet@nortelnetworks.com>
To: "'SIP IETF (E-mail)'" <sip@ietf.org>
Date: Fri, 9 Nov 2001 20:16:30 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C1698D.B5D2A270"
Subject: [Sip] RFC2543bis-05 minor typo
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1698D.B5D2A270
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Line 1039 of RFC2543bis-05: "do to call forwarding" should be "due to =
call
forwarding".
----
Fran=E7ois AUDET, Nortel Networks
mailto:audet@nortelnetworks.com, tel:+1 408 495 3756

------_=_NextPart_001_01C1698D.B5D2A270
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RFC2543bis-05 minor typo</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Line 1039 of RFC2543bis-05: &quot;do to call =
forwarding&quot; should be &quot;due to call forwarding&quot;.</FONT>
<BR><FONT SIZE=3D2>----</FONT>
<BR><FONT SIZE=3D2>Fran=E7ois AUDET, Nortel Networks</FONT>
<BR><FONT SIZE=3D2><A =
HREF=3D"mailto:audet@nortelnetworks.com">mailto:audet@nortelnetworks.com=
</A>, tel:+1 408 495 3756</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1698D.B5D2A270--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov  9 23:31:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA08520
	for <sip-archive@odin.ietf.org>; Fri, 9 Nov 2001 23:31:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA08987
	for sip-archive@odin.ietf.org; Fri, 9 Nov 2001 23:31:52 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA08559;
	Fri, 9 Nov 2001 23:11:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA08528
	for <sip@optimus.ietf.org>; Fri, 9 Nov 2001 23:11:15 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA07982
	for <sip@ietf.org>; Fri, 9 Nov 2001 23:11:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAA48r0r006499;
	Fri, 9 Nov 2001 23:08:53 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYCCG>; Fri, 9 Nov 2001 23:10:13 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E29@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Date: Fri, 9 Nov 2001 23:10:11 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: How does Stateless Proxy handle Retransmission
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Thursday, November 08, 2001 9:49 AM
> To: 'Jonathan Rosenberg'
> Cc: sip@ietf.org
> Subject: How does Stateless Proxy handle Retransmission
> 
> 
> Hi,
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com] 
> > Sent: Wednesday, November 07, 2001 11:03 PM
> > To: 'Shan Lu'; Jonathan Rosenberg; sip@ietf.org
> > Subject: RE: [Sip] Handling of duplicate requests with 
> > differing request paths.
> > 
> >
> > > Are you saying that
> > > stateless proxy does NOT exist in practice? 
> > 
> > No, I'm merely saying that they need to forward 
> > retransmissions to the same
> > place. However, it is not trivial to make sure you always do 
> > that, even
> > through configuration changes. 
> > 
> > -Jonathan R.
> > 
> 
> Ok, I've stolen the thread and changed the subject. 
> 
> To quote bis-05, line 2458, "They (stateless proxies) do not have the
> ability to distinguish a retransmission from the original message" and
> Line 2466, "a retransmitted request MUST be forwarded to the same
> desitnation each time it is processed".
> 
> Assume that a stateless proxy uses the request-uri to look up 
> a location
> DB and make routing decisions. Given these two lines, does it 
> mean that
> all INVITEs with the same request-uri have to be routed to exactly the
> same destination for as long as the proxy is running, regardless of
> database changes? Can you provide some ideas how line 2466 can be
> accomplished without the proxy going stateful?

Going stateful for 32s before using the updated routing tables is indeed one
way to do this. There are other ways that use lesser amounts of state; these
are implementation choices and areas of innovation. The specification states
a clear set of requirements. It is worth clarifying that you need to worry
about this issue of configuration changes, although I do believe that the
solution should be left open.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 10 04:01:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA25285
	for <sip-archive@odin.ietf.org>; Sat, 10 Nov 2001 04:01:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA21216
	for sip-archive@odin.ietf.org; Sat, 10 Nov 2001 04:01:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA20804;
	Sat, 10 Nov 2001 03:33:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA20775
	for <sip@optimus.ietf.org>; Sat, 10 Nov 2001 03:33:49 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA25184
	for <sip@ietf.org>; Sat, 10 Nov 2001 03:33:45 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAA8Xjf19033;
	Sat, 10 Nov 2001 09:33:45 +0100 (MET)
Received: from lmf.ericsson.se (lmf05397pc.lmf.ericsson.se [131.160.106.10])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAA8XiB01119;
	Sat, 10 Nov 2001 10:33:44 +0200 (EET)
Message-ID: <3BECE676.62893A6C@lmf.ericsson.se>
Date: Sat, 10 Nov 2001 10:33:58 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Shan Lu <shanlu@sentito.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
References: <9BF66EBF6BEFD942915B4D4D45C051F338E787@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Just one clarification I would like to get.

To my understanding stateless proxies don't Record-Route.

However, IF the INVITE has a pre-defined route (if it will be allowed),
that route MAY include a stateless proxy. Then, if I want to CANCEL the
INVITE I guess I must include the same route in the CANCEL (it IS
allowed according to Table 3 on page 132), because otherwise there is no
guarantee that the "routing algorithm" of the stateless proxy will
forward the CANCEL to the same destination as the INVITE?

Regards,

Christer Holmberg
Ericsson Finland




Robert Sparks wrote:
> 
> Aslo, its not necessary to switch the whole proxy
> from stateless to stateful - if the db/routing
> table change allows you to partition resources into
> "recently changed" vs stable, you can continue to
> forward stable resources statelessly.
> 
> RjS
> 
> > -----Original Message-----
> > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > Sent: Thursday, November 08, 2001 7:11 PM
> > To: Shan Lu
> > Cc: 'Jonathan Rosenberg'; sip@ietf.org
> > Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> >
> >
> > Hello,
> >
> > Shan Lu wrote:
> > >
> > > Hello,
> > >
> > > > -----Original Message-----
> > > > From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> > > > Sent: Thursday, November 08, 2001 2:52 PM
> > > > To: Shan Lu
> > > > Cc: 'Jonathan Rosenberg'; sip@ietf.org
> > > > Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> > > >
> > > >
> > > > Hi,
> > > >
> > > > Shan Lu wrote:
> > > > >
> > > > > To quote bis-05, line 2458, "They (stateless proxies) do
> > > > not have the
> > > > > ability to distinguish a retransmission from the original
> > > > message" and
> > > > > Line 2466, "a retransmitted request MUST be forwarded
> > to the same
> > > > > desitnation each time it is processed".
> > > > >
> > > > > Assume that a stateless proxy uses the request-uri to look
> > > > up a location
> > > > > DB and make routing decisions. Given these two lines, does
> > > > it mean that
> > > > > all INVITEs with the same request-uri have to be routed to
> > > > exactly the
> > > > > same destination for as long as the proxy is running,
> > regardless of
> > > > > database changes? Can you provide some ideas how line
> > 2466 can be
> > > > > accomplished without the proxy going stateful?
> > > > >
> > > >
> > > > As Jonathan said already, if something external changes (like
> > > > you update
> > > > the database), you need to go stateful to be sure that you do not
> > > > re-route ongoing dialogs.
> > > >
> > >
> > > If this is the case, then the proxy MUST be stateful
> > ALWAYS. How can the
> > > proxy be certain that all INVITEs have finished their
> > retransmissions
> > > and therefore it's "safe" to update database? Wait for 32s of no
> > > activity?
> >
> > As folks have said multiple times. If you intend to change
> > your "routing
> > tables" often, do not implement a stateless proxy.
> >
> > And if you have a stateless proxy and make a change in the "routing
> > table", you have to go stateful for max (T1*64, T3). Then you
> > change the
> > "routing table", and go stateless again. You have simply to stay
> > stateful for all the transactions that were initiated during
> > your timer.
> >
> > You have changed everything is 1 minute. Is this a big deal? As cannot
> > stress enough that stateless proxies are not used when
> > "routing tables"
> > change very often.
> >
> >
> >
> > >
> > > > Stateless proxies are very useful as load distributors, and
> > > > in this case
> > > > the database you are referring to only changes when some
> > server goes
> > > > down... and as Jonathan already said, bis-05 does not cover
> > > > any possible
> > > > failure scenario you can think of.
> > > >
> > >
> > > I am afraid this view of stateless proxy is very
> > restrictive. SL proxy
> > > can be used as more than LB and can connect to a location
> > database which
> > > may be updated for reasons other than server failure. When
> > this happens,
> > > unless the proxy has been operating stateful since the
> > initial INVITE,
> > > you can't ensure that retransmissions will be routed to the
> > same path.
> > >
> > > I can't find similar text in bis-04 that talks about how
> > retransmission
> > > should be handled by a stateless proxy. So is the intension
> > to deprecate
> > > SL proxy in bis-05?
> >
> > I really wonder what makes you think that...
> >
> > Regards,
> >
> > Gonzalo
> >
> >
> > >
> > > Regards,
> > >
> > > Shan Lu
> > > sentitO Networks
> >
> > --
> > Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> > Columbia University                  Mobile:  +358 40 702 35 35
> > 472 Computer Science Building        Fax   :  +358  9 299 30 52
> > 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> > New York, NY 10027
> > USA                              Gonzalo.Camarillo@ericsson.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 10 05:39:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA25811
	for <sip-archive@odin.ietf.org>; Sat, 10 Nov 2001 05:39:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA22781
	for sip-archive@odin.ietf.org; Sat, 10 Nov 2001 05:39:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA22359;
	Sat, 10 Nov 2001 05:15:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id FAA22333
	for <sip@optimus.ietf.org>; Sat, 10 Nov 2001 05:15:00 -0500 (EST)
Received: from mgw-x1.nokia.com (mgw-x1.nokia.com [131.228.20.21])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA25714
	for <sip@ietf.org>; Sat, 10 Nov 2001 05:14:55 -0500 (EST)
Received: from esvir07nok.ntc.nokia.com (esvir07nokt.ntc.nokia.com [172.21.143.39])
	by mgw-x1.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fAAAD2c04365
	for <sip@ietf.org>; Sat, 10 Nov 2001 12:13:02 +0200 (EET)
Received: from esebh03nok.ntc.nokia.com (unverified) by esvir07nok.ntc.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T572297681cac158f27dcc@esvir07nok.ntc.nokia.com> for <sip@ietf.org>;
 Sat, 10 Nov 2001 12:15:02 +0200
Received: from mgw.research.nokia.com ([172.21.33.76]) by esebh03nok.ntc.nokia.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2652.78)
	id WL9SM3PM; Sat, 10 Nov 2001 12:14:57 +0200
Received: from agni.research.nokia.com (agni.research.nokia.com [172.21.40.24])
	by mgw.research.nokia.com (8.9.3/8.9.3) with ESMTP id MAA03949
	for <sip@ietf.org>; Sat, 10 Nov 2001 12:14:57 +0200 (EET)
Received: (from ppessi@localhost)
	by agni.research.nokia.com (8.11.6/8.11.2) id fAA91xK05540;
	Sat, 10 Nov 2001 11:01:59 +0200
To: sip@ietf.org
X-face: #V(jdpv[lI!TNUU=2*oh:="#suS*ponXW"yr6G;~L}<xZn_2^0)V{jqdc4y}@2b]ffd}SY#
 :9||1pew85O,WjiYA"6C7bW^zt^+.{b#B{lEE+4$9lrXL(55g}dU>uZ\JfD\"IG#G{j`hZI;=DmT\H
 pfDMyJ`i=:M;BM3R.`[>P^ER8+]i
From: Pekka Pessi <Pekka.Pessi@nokia.com>
Date: 10 Nov 2001 11:01:59 +0200
In-Reply-To: <9BF66EBF6BEFD942915B4D4D45C051F338E77E@DYN-TX-EXCH-001.dynamicsoft.com>
Message-ID: <pvwv0zngmw.fsf@agni.research.nokia.com>
Lines: 8
User-Agent: Gnus/5.0808 (Gnus v5.8.8) XEmacs/21.1 (Cuyahoga Valley)
MIME-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Subject: [Sip] Reference to URL syntax in refer-02?
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

	The Refer-To syntax uses URL, but URL is not defined by neither
	of the documents in References section.

	Should there be a reference to RFC 2396, too?  That would also
	mean using absoluteURI instead of URL. Of course, an application
	may support incomplete URLs.

					Pekka

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 11 09:01:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA24978
	for <sip-archive@odin.ietf.org>; Sun, 11 Nov 2001 09:01:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26015
	for sip-archive@odin.ietf.org; Sun, 11 Nov 2001 09:01:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25255;
	Sun, 11 Nov 2001 08:38:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25224
	for <sip@optimus.ietf.org>; Sun, 11 Nov 2001 08:38:01 -0500 (EST)
Received: from RRMAIL01.RADIOROUTER_NT ([63.103.94.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA24675
	for <sip@ietf.org>; Sun, 11 Nov 2001 08:37:55 -0500 (EST)
Received: by rrmail01.lab.flarion.com with Internet Mail Service (5.5.2653.19)
	id <VT44N35D>; Sun, 11 Nov 2001 08:37:27 -0500
Message-ID: <8C92E23A3E87FB479988285F9E22BE46511C2D@ftmail>
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: sip@ietf.org
Date: Sun, 11 Nov 2001 08:37:22 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] General Issues on draft-manyfolks-resources
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Working Group / Authors,

Firstly, I fully recognise that these e-mails have missed the
draft-manyfolks-resources last call due to my late arrival into this work
area and other work commitments. However, I hope that the authors and chairs
will bear the following points and the associated extended mechanisms in
mind during their deliberations. I am happy to take private e-mail if you
would prefer not to further burden the list with these contributions. I
intend to submit the associated preconditions work as a separate
internet-draft.

The existing draft-manyfolks-resources etc is primarily designed to support
VoIP services (and associated set-up concerns as discussed in the draft) and
appears to be optimised for host based QoS signalling (eg CableLabs / 3G
RSVP models).

However, SDP is used by a wide range of multimedia applications and
signalling protocols. The ability to set preconditions on the progress of a
session is a very worthy aim but needs be done in a way which is useful to a
wide range of applications, and is capable of mapping onto a wide range of
QoS mechanisms and network scenarios. 

This draft requires extensive end to end message exchanges even in quite
simple scenarios and I believe could more efficiently support non-signalled
(preconfigured) QoS and early precondition completion which is useful in
many commercially important scenarios. 
 
I believe that draft has limited though very important applicability in its
existing form and its progress may hamper alternative or more generally
applicable schemes to be developed to provide SDP preconditions. It would be
better if the important requirements and mechanisms identified in this
draft, and the wider requirements, could be combined into a single framework
and/or at least designed to efficiently interwork. I do however recognise
both the age of the work/draft, my very late contributions to the subject,
and the commercial pressures and necessities that warrant its rapid
progression.

I have therefore included some issues and suggested modifications in
associated e-mails for the authors that I hope are helpful for the immediate
draft. I hope these modifications may also help better support the broader
picture and I will be submitting them as an internet-draft in the very near
future when detailed comments may be more appropriate.

Regards, Alan O'Neill

----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 11 09:01:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA24998
	for <sip-archive@odin.ietf.org>; Sun, 11 Nov 2001 09:01:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26034
	for sip-archive@odin.ietf.org; Sun, 11 Nov 2001 09:01:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25353;
	Sun, 11 Nov 2001 08:38:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25271
	for <sip@optimus.ietf.org>; Sun, 11 Nov 2001 08:38:28 -0500 (EST)
Received: from RRMAIL01.RADIOROUTER_NT ([63.103.94.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA24684
	for <sip@ietf.org>; Sun, 11 Nov 2001 08:38:22 -0500 (EST)
Received: by rrmail01.lab.flarion.com with Internet Mail Service (5.5.2653.19)
	id <VT44N35G>; Sun, 11 Nov 2001 08:37:55 -0500
Message-ID: <8C92E23A3E87FB479988285F9E22BE46511C33@ftmail>
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: sip@ietf.org
Date: Sun, 11 Nov 2001 08:37:45 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Draft-manyfolks: Lead Role Negotiation
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Working group/ Authors,

I believe it is necessary for the preconditions negotiation to attempt to
agree both the session preconditions and which end is the lead role for each
precondition. This would speed up the progression of sessions and yet still
avoid duplication.

One way to achieve the identification of the lead roles is to use separate
precondition lines for each direction-tag (generally avoid sendrecv), and
then intelligently use the confirmation-tag as shown in the following table.


SDP preconditions
A requests	B responds			Response Meaning wrt SDP
from B to A
A leaves decisions to B by avoiding confirm in requests. 
send, recv	recv, send			Both agree sendrecv, B will
do everything. A knows progress from 580 or 180
send, recv	recv, send c		Both agree sendrecv. B will do
Brecv, A can attempt Bsend and then confirm back
send, recv	recv c, send		Both agree sendrecv. B will do
Bsend, A can attempt Brecv and then confirm back
send, recv	recv c,send c		A can attempt both Bsend and Brecv
first and should report back to B
If A can't do the lead role assigned by B then it can be more specific or
CANCEL call

A adds its preferences by including confirm in request and B agrees
send c, recv	recv, send c	A tells B that A will do Bsend, B should do
Brecv. B confirms to A, then A to B.
send, recv c	recv c, send	A tells B that A will do Brecv, B should do
Bsend. B confirms to A, then A to B.
send c, recv c	recv c, send c	A tells B to do both and B happy. B then
confirms to A. Then A confirms to B.
If B can't do the lead role assigned by A then it can be more specific or
return a 580.

A adds its preferences but B corrects them. 
send c, recv	recv c, send c	A tells B to do Brecv but B can't. A tries
both and then confirms to B.
send, recv c	recv c, send c	A tells B to do Bsend but B can't. A tries
both and then confirms to B.
send c, recv c	recv, send 		A tells B to do both but B can't. A
tries both and confirms to B (B didn't request it!)
If A can't do the lead role assumed by B then it can be more specific or
CANCEL the call.

	Note that the strangeness of the confirm processing in the last line
whereby B gets a confirm that wasn't asked for. This is required to
differentiate it from the case where A includes send c, recv c and B replies
with recv c, send c...

	Note that the table doesn't make it clear what each end is
ultimately capable of, only what that end is prepared to do regarding lead
roles (first attempts). This is addressed in a later e-mail titled
"Capability Exchange".

	Note that in the case that the confirm status of both send and recv
direction-tags is the same then it may still be useful to use the combined
"sendrecv confirm" direction-tag and confirmation-tag.
		
	Note that the use of a combined sendrecv direction tag with a single
strength tag does not cover the case where the strength-tag (mandatory,
optional, success, failure) is different for send and recv directions as
might be common in non VoIP applications.

	Note that the separation of the sendrecv direction-tag then enables
COMET (confirmation) messaging for each direction to be decoupled whereby a
UAC/UAS could signal an inability to attempt/provide one direction of
security or QoS in advance of the completion of the other direction-tag that
it is able to attempt. This enables the peer to either quickly start and
attempt to meet that precondition itself, or failing that to quickly CANCEL
the call. In addition, this separation enables the sender to request a
confirmation for only one of the directions, and in fact to be specific
about which direction-tag it seeks a confirmation on. 

	Note that this split direction-tag is also used during Capability
Exchange.

Using split direction-tags, and the clarifying confirms in this table, we
have greatly increased the ability of the SDP preconditions protocol to
agree lead roles and to be direction specific about confirms. We still need
the same amount of COMET signalling with the change from combined sendrecv
direction-tags because each end still needs to know what happened at the
other end. Specifically, this is necessary to signal precondition failures
from the lead role end for that precondition, so that the other end can
attempt that precondition if capable.

The benefit though is that both ends can start meeting preconditions must
quicker and be informed of direction specific results much earlier. This is
because both ends have agreed on lead roles and can therefore proceed in
parallel. This avoids the risk of precondition duplication when their roles
aren't clear yet they still try to proceed in parallel instead of waiting
for the COMET from the other end.  If they instead proceed in series and
wait for the COMET then the cost is then the  additional call set-up delay. 


Regards,  Alan.


----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 11 09:01:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA25015
	for <sip-archive@odin.ietf.org>; Sun, 11 Nov 2001 09:01:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26054
	for sip-archive@odin.ietf.org; Sun, 11 Nov 2001 09:01:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25366;
	Sun, 11 Nov 2001 08:38:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25274
	for <sip@optimus.ietf.org>; Sun, 11 Nov 2001 08:38:28 -0500 (EST)
Received: from RRMAIL01.RADIOROUTER_NT ([63.103.94.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA24688
	for <sip@ietf.org>; Sun, 11 Nov 2001 08:38:23 -0500 (EST)
Received: by rrmail01.lab.flarion.com with Internet Mail Service (5.5.2653.19)
	id <VT44N35F>; Sun, 11 Nov 2001 08:37:55 -0500
Message-ID: <8C92E23A3E87FB479988285F9E22BE46511C32@ftmail>
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: sip@ietf.org
Date: Sun, 11 Nov 2001 08:37:42 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Draft-manyfolks: Capability Exchange
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Working Group / Authors,

The Lead role modifications enable the requestor and receiver to agree to
both the preconditions for the session as well as the lead roles in meeting
those preconditions, independently for each direction-tag. The capability
exchange modifications are then intended to enable the endpoints to in
addition exchange what they are capable of in regard to the meeting of
preconditions.

The primary change is to remove the overloading of the strength-tag which is
presently used for both mandatory/optional requirements, as well as ongoing
success/failure 'results' communication within COMETs. This overloading
prevents the early exchange of 'results' because a Success/failure value
would overwrite the mandatory/optional information that must be maintained
for the precondition negotiation.

A new result-tag is therefore defined that is optional in preconditions
negotiation but mandatory in COMETs. The result-tag can therefore be missing
<blank>, Success, Failure or Wait. The stength-tag is left as
mandatory/optional. The use of the result-tag can recreate all the functions
in the existing draft and especially the rigorous requirements of VoIP. In
addition however, an endpoint (requestor/responder) can now include
result-tag information during the negotiation phase, without loss of stength
information, which for now we will consider in the context of capability
exchange.

For example, we can now discriminate between the case where an endpoint is
incapable of meeting a precondition (whether due to technical, commercial or
any other constraints) and when an endpoint is capable of meeting it
eventually, but wishes first to offer it to the other party.

Therefore,

	When an endpoint is incapable then it should immediately include a
Failure in the result-tag against that direction-tag.
	When an endpoint is capable then it can leave the result-tag <blank>
and the confirm signalling tricks from lead role negotiation can be used to
negotiate the lead role within capable options.

The immediate benefit is that sessions that will inevitably fail, due to
incompatible session requirements and host capabilities (whether security or
QoS related), can be quickly identified, cancelled and/or modified early in
the session signalling process. In addition, the ability to exchange
result-tags early in the SDP negotiation can be used for sessions and
commercial models that require/support early precondition completion and to
reduce both the number of SIP messages and the session set-up times.
Premature precondition attempts need to be handled carefully though given
the interaction with SDP 3 way negotiation regarding media types and codecs,
as well as with SIP callee location identification and lead role
negotiation. This will be further discussed in the forthcoming draft.

For example,

	When an endpoint has a desire to meet a precondition itself and does
not wish to negotiate the lead role then the precondition can optionally be
started early, especially when starting early has low costs associated with
it.
 	When such an endpoint has sufficient preconfigured QoS resources for
the session then the result-tag can immediately be set to Success. One
example here is Call Waiting where the called party already has signalled
resources in place. Another example is dimensioned QoS or when a node has an
existing security association.
	When the endpoint has a low cost and/or slow QoS signalling
capability then the result-tag can be set to Wait to indicate that the
precondition is being attempted and the result will be communicated later.
The Wait signal is designed to prevent duplicate premature precondition
attempts during the negotiation phase. Starting early with a slow signalling
mechanism (and risking subsequent changes) may be better in the general case
than causing all sessions to have extended set-up times
	When an endpoint that previously sent a Wait gets a definitive
result then this can be further communiated in the next set-up message from
that endpoint.
	Early Success and Wait signalling (with subsequent success)
potentially avoids the need for COMET signals in many sessions because all
preconditions can be met on the INVITE (response is then a 180), on the
PRACK (following a 183) as well as on the normal COMET. This dramatically
reduces the signalling cost and set-up delays of simple sessions.
	Early Failure and Wait (with subsequent failure) potentially enables
unsupported sessions to be idendified, changed or Cancelled on 183 or 200ok
to the PRACK rather than having to progress to COMET signalling.
	Wait signalling with a quick failure also enables the lead role to
be passed to the other end way before the COMET signals and therefore agin
speds up either session set-up or session modification and Cancellation.

A full description of result-tag processing and the interactions between
this, lead role negotiation and SDP three way negotiation will be better
covered in the forthcoming draft. The modified SDP preconditions BNF is
below.

Summary of new SDP Preconditions BNF

Specifically, the preconditions attributes now become (changes from section
5.1 of draft)

   The formatting of the qos and the security attribute in the Session
Description 
   Protocol (SDP)[3] is then described by the following BNF: 
 
		qos-attribute    	= "a=qos:" strength-tag SP
direction-tag [SP result-tag]
				 [SP confirmation-tag]
				 
		sec-attribute    	= "a=secure:" SP strength-tag SP
direction-tag [SP result-tag]
				 [SP confirmation-tag]

strength-tag     	= ("mandatory" | "optional")

direction-tag    	= ("send" | "recv")				can
be sendrecv if all else equal...

result-tag		= ("success" | "failure" | "Wait")		can
be missing
 
      confirmation-tag = "confirm"
can be missing



In summary, I believe the combination of

	Splitting the sendrecv tag into two direction-tags (two SDP lines)
	Modifying confirm processing to identify lead roles
	Removing the overloading of the stength-tag by adding a result-tag
	Modifying preconditions processing to support premature attempts

greatly widens the applicability of the model to preconfigured/dimensioned
QoS, reduces the amount of messaging, reduces session set-up times and
quickly eliminates aimless signalling towards impossible session
preconditions. This I believe is achieved without compromising the VoIP /
host RSVP requirements behind the existing draft, without modifying
substantially the mechanisms of the existing draft, and without adding
significant complexity in situations where it is not required. Once the
direction-tags are split and the result-tag added, all other mechanisms are
essentially optional and backwards compatible with the existing draft.  
	
Regards,  Alan O'Neill



----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 11 09:01:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA24990
	for <sip-archive@odin.ietf.org>; Sun, 11 Nov 2001 09:01:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26031
	for sip-archive@odin.ietf.org; Sun, 11 Nov 2001 09:01:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25368;
	Sun, 11 Nov 2001 08:38:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25261
	for <sip@optimus.ietf.org>; Sun, 11 Nov 2001 08:38:27 -0500 (EST)
Received: from RRMAIL01.RADIOROUTER_NT ([63.103.94.23])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA24682
	for <sip@ietf.org>; Sun, 11 Nov 2001 08:38:22 -0500 (EST)
Received: by rrmail01.lab.flarion.com with Internet Mail Service (5.5.2653.19)
	id <VT44N35H>; Sun, 11 Nov 2001 08:37:55 -0500
Message-ID: <8C92E23A3E87FB479988285F9E22BE46511C34@ftmail>
From: "Alan O'Neill" <A.ONeill@flarion.com>
To: sip@ietf.org
Date: Sun, 11 Nov 2001 08:37:47 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Draft-manyfolksl: Precondition Negotiation Issues
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Working Group / Authors.

I am concerned about the signalling examples and a lack of clarity in the
draft regarding the interpretation of preconditions signalling that need to
be addressed. Apologies for both the lateness and verbosity of this and
related contributions.

1. Lead Role Negotiation

I believe the SDP negotiation results in the agreement at both ends of the
session preconditions and the required confirmation signalling. However, I
do not believe that it always provides a common view of who is responsible
for trying to meeting each precondition first (ie establishing lead roles).

I think that the examples as they stand can lead to both ends attempting to
book the same resources (without additional information) but this may be due
to a bad interpretation of the mechanisms so please advise if I am missing 
something.

My understanding is as follows.

With a sendrecv precondition, B should not continue with the session until
resources exist from B to A and from A to B. Confirms are needed so that if
B fails to meet all preconditions then A can then try to meet them if it is
capable, before sending the final confirmation (COMET) to B (or a CANCEL). 

Now in the single media example, B and A start trying to meet the
preconditions in parallel following the PRACK/200ok exchange. In particular,
B starts trying to meet the preconditions before receiving the COMET from A.
Now if A and B have overlapping capabilities in terms of meeting
preconditions then by progressing in parallel it is possible for both hosts
to
book the same resources from opposite ends. Strict adherence to the protocol
would suggest that B should not start trying to meet preconditions until it
receives the COMET, but this leads to significantly extended call set-up
delay
due to the two phases of RSVP operating in parallel. This may justify the
risk of duplicate precondition satisfaction. Now in the specific case of
each host having the same unidirectional capability, duplicate booking is
not possible.
However, I don't believe that B and A can always exchange that information
and if for example they both have sendrecv capabilities then duplication can
occur. Is this information obtained elsewhere or have I missed something ?

In more detail...

A requests are not clear about what it wishes from B in meeting
preconditions. The request can only be taken to mean that A wishes B to help
book these resources if a confirm was requested. Effectively it says to B
that it should book what it can and then tell A. A will then try to book the
rest and then tell B. This is mandated by the draft in that B must request
confirm if A requests a confirm. Who is booking which resources is only
clarified as B makes its attempt and then sends the COMET to A, and then A
makes its attempt at the remaining preconditions and then sends the COMET to
B. 

B reponses are also not clear about who is booking which resources. They can
only be taken to mean that B wishes A to help to book these resources and is
why a confirm was included (if A didn't mandate it by issuing a confirm
itself). It effectively causes A to book what it can and then for B to book
the rest. 

I assume therefore that the confirm / COMET mechanism is being used to order
potentially competing attempts at booking the same resources in which case B
cannot start RSVP in the draft signalling examples at the same time as A.

Only when A sends the COMET and signals a failure in the recv direction
should B try to book resources. If we do not maintain this order then we
risk multiple attempts to book the same resources. This ordering though
leads to a delay in starting the reservation at B though extending call
set-up times.

Ambiguity about who books the resources could be avoided if we assume that A
inteprets that it must only attempt to install resources for preconditions
that B omitted but that A requested. However, this contradicts the draft
because it would mean that the preconditions contained in B SDP responses
are those that B is prepared to meet and not those for the session. 

All of this (if correct) begs a very important question though. Lots of SDP
preconditions signalling occurs but not until the exchange of COMETs and
after booking some resources, does either endpoint know if the precondition
is actually possible to meet, given each others basic capabilities. This
seems very unfortunate and potentially expensive...If the SDP preconditions
signalling could be redesigned so that the lead roles were always clear then
it would be possible for all of the preconditions to be attempted in
parallel. The COMETs would then communicate progress and only the occasional
failed preconditions re-attempted at the other end.


2. Response Interpretation in the absence of a confirm from A

Some ambiguities wrt lead roles could be reduced through a subtle
interpretation of the confirm messaging. The case of the B response is
analysed in the table below assuming a sendrecv precondition was requested
by A.

B response 	Could imply
recv		that B wishes only a recv precondition and B can book recv
send		that B wishes only a send precondition and B can book send
recv c	that B wishes only a recv precondition and B can't book recv
send c	that B wishes only a send precondition and B can't book send


	If A assumes that a confirm means that B can't meet the precondition
then A could for example issue a CANCEL if B 	asks for a confirm for a
precondition that A cannot meet. 

	If A assumes that the confirm means that B is capable but would
prefer A to book these resources then B can still 	book them if it
must. 

The correct interpretation would seem to be latter and that A sends the
COMET and B then responds with the 580 error if it can't meet the remaining
preconditions. This needs to be clearly addressed in the draft.

B response 	Could imply
sendrecv	that B agrees a sendrecv precondition and B can book both.
sendrecv	that B agrees a sendrecv precondition and B can book only
one direction.
sendrecv c	that B agrees a sendrecv precondition and B can't book one
direction.
sendrecv c	that B agrees a sendrecv precondition and B can't book
either

	If we look specifically at the sendrecv case. If B agrees to
sendrecv and asks for a confirm it cannot tell A which 	direction it cannot
meet. If A is capable of doing either then A might only try one direction
and then forward to B 	in the hope that B can do the other half. Clearly
this is problematic because A could guess wrong and ask B to do
something it is not capable of (rather than what it might fail at which is
clearly ok). 

Therefore A must try to meet both preconditions and this should be stated in
the draft. This ensures an opportunity for a valid call is not missed.


Solutions to some of these issues are contained in the e-mail titled "Lead
Role Negotiation".
 
Regards,  Alan O'Neill


----------------------------------------------------------------
Notice Regarding Intellectual Property Rights

Flarion's submissions will conform with RFC 2026.  Flarion may seek patent
protection on some or all of the technical information submitted by its
employees in connection with the IETF's standards process.  If part(s) of a
submission by Flarion is (are) included in a standard and Flarion owns
patent(s) and/or pending patent application(s) that are essential to
implementation of such included part(s) in said standard, Flarion is
prepared to grant a license on fair, reasonable, reciprocal (license back)
and non-discriminatory terms on such included part(s).

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 08:47:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA29165
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 08:47:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA03302
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 08:47:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA02721;
	Mon, 12 Nov 2001 08:21:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA02690
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 08:21:25 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA28163
	for <sip@ietf.org>; Mon, 12 Nov 2001 08:21:22 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fACDLLC16870;
	Mon, 12 Nov 2001 14:21:21 +0100 (MET)
Received: from lmf.ericsson.se (lmf4ws450.lmf.ericsson.se [131.160.38.50])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fACDLKv19823;
	Mon, 12 Nov 2001 15:21:20 +0200 (EET)
Message-ID: <3BEFCCD0.B8DAFB2A@lmf.ericsson.se>
Date: Mon, 12 Nov 2001 15:21:20 +0200
From: Jari Arkko <Jari.Arkko@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.77 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
References: <B65B4F8437968F488A01A940B21982BF020D6DEA@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Jonathan Rosenberg wrote:

> > Could be fine in a fixed LAN environment, but think
> > mobile! If I roam under a different proxy, I need
> > to establish a new connection.
>
> I agree its not ideal there, but neither is IPSec. ALthough if I had to
> pick, TLS is far better between a user and a proxy than IPSec. Its really
> between proxies than I'm talking about "nailed up" connections.

Right. So we are in rough agreement regarding where the current
mechanisms are suitable and where they are not. I propose that
we

   (a) Agree that the TLS (or IPSec etc.) mechanisms are useful
       and necessary in many cases and proceed to document
       their use in the Bis.

   (b) Agree that there are cases where are not very good,
       such as in wireless networks, and initiate work
       to make the situation better.

Jari

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 09:11:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00812
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 09:11:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA04183
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 09:09:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA03286;
	Mon, 12 Nov 2001 08:45:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA03254
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 08:45:38 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA29117
	for <sip@ietf.org>; Mon, 12 Nov 2001 08:45:35 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A280FEF2011A; Mon, 12 Nov 2001 08:45:36 -0500
Message-ID: <003201c16b7f$e3950f60$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Mark Watson" <mwatson@nortelnetworks.com>
Cc: <sip@ietf.org>
References: <A3C2399B2FACD411A54200508BE39C74054F6E4D@zwcwd00r.europe.nortel.com>
Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 08:42:35 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

No, we need to be able to initiate regular transactions on early dialogs
(like BYE). I now think that we need a different term for a dialog after
2xx. After scanning bis-05, the term 'established' is used when referring to
dialogs of either type in many places.

(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Sent: Monday, November 12, 2001 5:44 AM
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity


> Bob,
>
> I don't care about the terminology, so long as it is unambiguous, but
unless
> you modify 12.2 as well, your changes below would imply that new requests
> within a dialog cannot be sent until we have a final response for the
dialog
> - was that your proposal ?
>
> Regards...Mark
>
> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: 09 November 2001 13:58
> To: Watson, Mark [MDN05:EP10:EXCH]; sip
> Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> I think we should have "early" and "established" states for the dialog. I
> suggest the paragraph in section be re-worded as follows:
>
>  "Dialogs are created through the generation of non-failure responses to
>  requests with specific methods. Within this specification, only the 2xx
and
>  1xx responses to INVITE create a dialog. A dialog created by a
>  non-final response to a request is called an early dialog. An established
> dialog
>  is created by a final response. Once a final response is received for an
>  early dialog, it becomes an established dialog"
>
> cheers,
> (-:bob
>
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
>
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: <sip@ietf.org>
> Sent: Friday, November 09, 2001 6:13 AM
> Subject: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> > Apologies if this has already been covered.
> >
> > There is an ambiguity in the specification with respect to the
> > 'establishment' of a dialog.
> >
> > Section 12.1 states:
> >
> > "Dialogs are created through the generation of non-failure responses to
> > requests with specific methods. Within this specification, only the 2xx
> and
> > 1xx responses to INVITE establish a dialog. A dialog established by a
> > non-final response to a request is called an early dialog."
> >
> > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > received. This means that 'establishing' a dialog is equivalent to
> > 'creating' it.
> >
> > However, the introduction to Section 12 states at the end:
> >
> > "A dialog can also be in the "early" state, which occurs when it is
> created
> > with a provisional response, and then transition to the "established"
> state
> > when the final response comes."
> >
> > i.e. the dialog is not considered 'established' until a *final* response
> is
> > received.
> >
> > Aside from the need to make the terminology unambiguous, section 12.2
> > indicates that new requests within a dialog can be sent once it is
> > 'established' so the definition of 'established' is clearly important.
> >
> > I would suggest sticking with the description of 12.1 - i.e. that the
> dialog
> > is established as soon as a non-failure response is received - this is
all
> > that is required to ensure both UAS & UAC have the required,
synchronised
> > state information. If it is necessary to distinguish between dialog
state
> > before and after a final response, then I'd suggest using the term
> > 'confirmed' for dialogs where there has been a final response. I'm not
> sure
> > there is such a need - whether a response is provisional or final is a
> > transaction layer concept - does it need to be reflected in dialog state
?
> >
> > Regards,
> >
> > Mark Watson
> > Nortel Networks
> >
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 09:47:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03329
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 09:47:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA04912
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 09:47:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA04364;
	Mon, 12 Nov 2001 09:23:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA04332
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 09:23:13 -0500 (EST)
Received: from znsgs0ja.europe.nortel.com (znsgs0ja.nortelnetworks.com [47.165.25.40])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA01654
	for <sip@ietf.org>; Mon, 12 Nov 2001 09:23:09 -0500 (EST)
Received: from qnsgs000.nortel.com (znsgs016 [47.255.64.31])
	by znsgs0ja.europe.nortel.com (8.11.0/8.11.0) with ESMTP id fACEMZk28188
	for <sip@ietf.org>; Mon, 12 Nov 2001 14:22:35 GMT
Received: from zwcwc012.europe.nortel.com by znsgs016;
          Mon, 12 Nov 2001 14:22:09 +0000
Received: by zwcwc012.europe.nortel.com 
          with Internet Mail Service (5.5.2653.19) id <W431NJJZ>;
          Mon, 12 Nov 2001 14:20:40 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6E52@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 14:20:33 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C16B85.30C035D0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16B85.30C035D0
Content-Type: text/plain;
	charset="ISO-8859-1"

Do you mean that to be consistent with the usage of the term 'established'
through the draft, then a dialog should be consided 'established' as soon as
any non-failure response is received ?

So, let's say 'confirmed' for dialogs where a final response has been
received. Note that a 'confirmed' dialog is also 'established'.

Also, we might as well have a term for the state before any response has
been received, let's say 'started'.

So we have three states for dialog (as well as the state in which the dialog
does not exist at all), as follows:
'started' - between INVITE and any response
'established and not confirmed' - between 1xx and 2xx
'established and confirmed' after 2xx

I suppose this state machine exists at UAC, UAS and each dialog-stateful
proxy.

Question: how long does the 'started' dialog exist ?

On receipt of a response, an 'established' dialog is created by filling in
the remote address in the 'started' dialog. But subsequent responses from
other UASs (due to forking of the request) will create further 'established'
dialogs with different remote addresses - so in a sense the 'started' dialog
(which has only a local address) still exists as a separate entity from the
'established' ones. How long does it persist for ? (i.e. at what point are
further response from new endpoints no longer allowed ?)

Finally, you mention that we need to initiate regular transaction on early
(established and not confirmed) dialogs, but 12.2 allows us to initiate any
transactions, not just regular ones. i.e. we can sent a Re-INVITE.

...Mark

-----Original Message-----
From: Bob Penfield [mailto:bpenfield@acmepacket.com]
Sent: 12 November 2001 13:43
To: Watson, Mark [MDN05:EP10:EXCH]
Cc: sip
Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity


No, we need to be able to initiate regular transactions on early dialogs
(like BYE). I now think that we need a different term for a dialog after
2xx. After scanning bis-05, the term 'established' is used when referring to
dialogs of either type in many places.

(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Sent: Monday, November 12, 2001 5:44 AM
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity


> Bob,
>
> I don't care about the terminology, so long as it is unambiguous, but
unless
> you modify 12.2 as well, your changes below would imply that new requests
> within a dialog cannot be sent until we have a final response for the
dialog
> - was that your proposal ?
>
> Regards...Mark
>
> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: 09 November 2001 13:58
> To: Watson, Mark [MDN05:EP10:EXCH]; sip
> Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> I think we should have "early" and "established" states for the dialog. I
> suggest the paragraph in section be re-worded as follows:
>
>  "Dialogs are created through the generation of non-failure responses to
>  requests with specific methods. Within this specification, only the 2xx
and
>  1xx responses to INVITE create a dialog. A dialog created by a
>  non-final response to a request is called an early dialog. An established
> dialog
>  is created by a final response. Once a final response is received for an
>  early dialog, it becomes an established dialog"
>
> cheers,
> (-:bob
>
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
>
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: <sip@ietf.org>
> Sent: Friday, November 09, 2001 6:13 AM
> Subject: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> > Apologies if this has already been covered.
> >
> > There is an ambiguity in the specification with respect to the
> > 'establishment' of a dialog.
> >
> > Section 12.1 states:
> >
> > "Dialogs are created through the generation of non-failure responses to
> > requests with specific methods. Within this specification, only the 2xx
> and
> > 1xx responses to INVITE establish a dialog. A dialog established by a
> > non-final response to a request is called an early dialog."
> >
> > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > received. This means that 'establishing' a dialog is equivalent to
> > 'creating' it.
> >
> > However, the introduction to Section 12 states at the end:
> >
> > "A dialog can also be in the "early" state, which occurs when it is
> created
> > with a provisional response, and then transition to the "established"
> state
> > when the final response comes."
> >
> > i.e. the dialog is not considered 'established' until a *final* response
> is
> > received.
> >
> > Aside from the need to make the terminology unambiguous, section 12.2
> > indicates that new requests within a dialog can be sent once it is
> > 'established' so the definition of 'established' is clearly important.
> >
> > I would suggest sticking with the description of 12.1 - i.e. that the
> dialog
> > is established as soon as a non-failure response is received - this is
all
> > that is required to ensure both UAS & UAC have the required,
synchronised
> > state information. If it is necessary to distinguish between dialog
state
> > before and after a final response, then I'd suggest using the term
> > 'confirmed' for dialogs where there has been a final response. I'm not
> sure
> > there is such a need - whether a response is provisional or final is a
> > transaction layer concept - does it need to be reflected in dialog state
?
> >
> > Regards,
> >
> > Mark Watson
> > Nortel Networks
> >
>
>


------_=_NextPart_001_01C16B85.30C035D0
Content-Type: text/html;
	charset="ISO-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3DISO-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-05: Dialog establishment ambiguity</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Do you mean that to be consistent with the usage of =
the term 'established' through the draft, then a dialog should be =
consided 'established' as soon as any non-failure response is received =
?</FONT></P>

<P><FONT SIZE=3D2>So, let's say 'confirmed' for dialogs where a final =
response has been received. Note that a 'confirmed' dialog is also =
'established'.</FONT></P>

<P><FONT SIZE=3D2>Also, we might as well have a term for the state =
before any response has been received, let's say 'started'.</FONT>
</P>

<P><FONT SIZE=3D2>So we have three states for dialog (as well as the =
state in which the dialog does not exist at all), as follows:</FONT>
<BR><FONT SIZE=3D2>'started' - between INVITE and any response</FONT>
<BR><FONT SIZE=3D2>'established and not confirmed' - between 1xx and =
2xx</FONT>
<BR><FONT SIZE=3D2>'established and confirmed' after 2xx</FONT>
</P>

<P><FONT SIZE=3D2>I suppose this state machine exists at UAC, UAS and =
each dialog-stateful proxy.</FONT>
</P>

<P><FONT SIZE=3D2>Question: how long does the 'started' dialog exist =
?</FONT>
</P>

<P><FONT SIZE=3D2>On receipt of a response, an 'established' dialog is =
created by filling in the remote address in the 'started' dialog. But =
subsequent responses from other UASs (due to forking of the request) =
will create further 'established' dialogs with different remote =
addresses - so in a sense the 'started' dialog (which has only a local =
address) still exists as a separate entity from the 'established' ones. =
How long does it persist for ? (i.e. at what point are further response =
from new endpoints no longer allowed ?)</FONT></P>

<P><FONT SIZE=3D2>Finally, you mention that we need to initiate regular =
transaction on early (established and not confirmed) dialogs, but 12.2 =
allows us to initiate any transactions, not just regular ones. i.e. we =
can sent a Re-INVITE.</FONT></P>

<P><FONT SIZE=3D2>...Mark</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 12 November 2001 13:43</FONT>
<BR><FONT SIZE=3D2>To: Watson, Mark [MDN05:EP10:EXCH]</FONT>
<BR><FONT SIZE=3D2>Cc: sip</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-05: Dialog establishment =
ambiguity</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>No, we need to be able to initiate regular =
transactions on early dialogs</FONT>
<BR><FONT SIZE=3D2>(like BYE). I now think that we need a different =
term for a dialog after</FONT>
<BR><FONT SIZE=3D2>2xx. After scanning bis-05, the term 'established' =
is used when referring to</FONT>
<BR><FONT SIZE=3D2>dialogs of either type in many places.</FONT>
</P>

<P><FONT SIZE=3D2>(-:bob</FONT>
</P>

<P><FONT SIZE=3D2>Robert F. Penfield</FONT>
<BR><FONT SIZE=3D2>Chief Software Architect</FONT>
<BR><FONT SIZE=3D2>Acme Packet, Inc.</FONT>
<BR><FONT SIZE=3D2>130 New Boston Street</FONT>
<BR><FONT SIZE=3D2>Woburn, MA 01801</FONT>
<BR><FONT SIZE=3D2>bpenfield@acmepacket.com</FONT>
</P>

<P><FONT SIZE=3D2>----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>To: &quot;'Bob Penfield'&quot; =
&lt;bpenfield@acmepacket.com&gt;</FONT>
<BR><FONT SIZE=3D2>Sent: Monday, November 12, 2001 5:44 AM</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Sip] Bis-05: Diaglog establishment =
ambiguity</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&gt; Bob,</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; I don't care about the terminology, so long as =
it is unambiguous, but</FONT>
<BR><FONT SIZE=3D2>unless</FONT>
<BR><FONT SIZE=3D2>&gt; you modify 12.2 as well, your changes below =
would imply that new requests</FONT>
<BR><FONT SIZE=3D2>&gt; within a dialog cannot be sent until we have a =
final response for the</FONT>
<BR><FONT SIZE=3D2>dialog</FONT>
<BR><FONT SIZE=3D2>&gt; - was that your proposal ?</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Regards...Mark</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: 09 November 2001 13:58</FONT>
<BR><FONT SIZE=3D2>&gt; To: Watson, Mark [MDN05:EP10:EXCH]; sip</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: Re: [Sip] Bis-05: Diaglog =
establishment ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; I think we should have &quot;early&quot; and =
&quot;established&quot; states for the dialog. I</FONT>
<BR><FONT SIZE=3D2>&gt; suggest the paragraph in section be re-worded =
as follows:</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; &quot;Dialogs are created through the =
generation of non-failure responses to</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; requests with specific methods. Within =
this specification, only the 2xx</FONT>
<BR><FONT SIZE=3D2>and</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; 1xx responses to INVITE create a dialog. =
A dialog created by a</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; non-final response to a request is called =
an early dialog. An established</FONT>
<BR><FONT SIZE=3D2>&gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; is created by a final response. Once a =
final response is received for an</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; early dialog, it becomes an established =
dialog&quot;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; cheers,</FONT>
<BR><FONT SIZE=3D2>&gt; (-:bob</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Robert F. Penfield</FONT>
<BR><FONT SIZE=3D2>&gt; Chief Software Architect</FONT>
<BR><FONT SIZE=3D2>&gt; Acme Packet, Inc.</FONT>
<BR><FONT SIZE=3D2>&gt; 130 New Boston Street</FONT>
<BR><FONT SIZE=3D2>&gt; Woburn, MA 01801</FONT>
<BR><FONT SIZE=3D2>&gt; bpenfield@acmepacket.com</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; ----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>&gt; From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; To: &lt;sip@ietf.org&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: Friday, November 09, 2001 6:13 AM</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: [Sip] Bis-05: Diaglog establishment =
ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Apologies if this has already been =
covered.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; There is an ambiguity in the specification =
with respect to the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'establishment' of a dialog.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Section 12.1 states:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &quot;Dialogs are created through the =
generation of non-failure responses to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; requests with specific methods. Within =
this specification, only the 2xx</FONT>
<BR><FONT SIZE=3D2>&gt; and</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 1xx responses to INVITE establish a =
dialog. A dialog established by a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; non-final response to a request is called =
an early dialog.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; i.e. a dialog is considered 'established' =
as soon as any 1xx or 2xx is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; received. This means that 'establishing' a =
dialog is equivalent to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'creating' it.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; However, the introduction to Section 12 =
states at the end:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &quot;A dialog can also be in the =
&quot;early&quot; state, which occurs when it is</FONT>
<BR><FONT SIZE=3D2>&gt; created</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; with a provisional response, and then =
transition to the &quot;established&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; when the final response =
comes.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; i.e. the dialog is not considered =
'established' until a *final* response</FONT>
<BR><FONT SIZE=3D2>&gt; is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; received.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Aside from the need to make the =
terminology unambiguous, section 12.2</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; indicates that new requests within a =
dialog can be sent once it is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'established' so the definition of =
'established' is clearly important.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I would suggest sticking with the =
description of 12.1 - i.e. that the</FONT>
<BR><FONT SIZE=3D2>&gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; is established as soon as a non-failure =
response is received - this is</FONT>
<BR><FONT SIZE=3D2>all</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; that is required to ensure both UAS &amp; =
UAC have the required,</FONT>
<BR><FONT SIZE=3D2>synchronised</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; state information. If it is necessary to =
distinguish between dialog</FONT>
<BR><FONT SIZE=3D2>state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; before and after a final response, then =
I'd suggest using the term</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'confirmed' for dialogs where there has =
been a final response. I'm not</FONT>
<BR><FONT SIZE=3D2>&gt; sure</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; there is such a need - whether a response =
is provisional or final is a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; transaction layer concept - does it need =
to be reflected in dialog state</FONT>
<BR><FONT SIZE=3D2>?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Mark Watson</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Nortel Networks</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C16B85.30C035D0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 10:20:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05944
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 10:20:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA06034
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 10:20:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA05145;
	Mon, 12 Nov 2001 09:56:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA05117
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 09:56:06 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id JAA04147
	for <sip@ietf.org>; Mon, 12 Nov 2001 09:56:02 -0500 (EST)
Received: (qmail 2099 invoked from network); 12 Nov 2001 14:48:15 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 12 Nov 2001 14:48:15 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 12 Nov 2001 09:55:27 -0500
Message-ID: <000d01c16b8a$10fe88a0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6DDF@DYN-EXCH-001.dynamicsoft.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> > But the PSTN does NOT ring the phone each and every time a 
> > user dials a
> > number and then immediately hangs up. That's what would 
> > happen when you
> > wait-for-1xx-then-cancel. 
> 
> As Keith and others have pointed out, this is NOT the case in 
> the PSTN. The
> PSTN will have this exact problem.
> 

No matter what has been said about PSTN, the simple fact is the phone
doesn't ring if the caller hangs up quickly. Try it for yourself.  If
you can not conclude one way or the other because the PSTN setup time
tends to be very short and leaves little room for user to "change mind",
then make a call between your desktop phone and cell phone. There you
have around one second to hang up before the phone starts to ring. This
actually brings up the point that wait-for-1xx-then-cancel will be even
more objectionable in a network where call setup is slow -- the caller
would hang up and one second later (or however long the call setup
takes) the callee phone would ring. If I'm a service provider/user, this
would bother me very much.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 10:21:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA06012
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 10:21:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA06077
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 10:21:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05665;
	Mon, 12 Nov 2001 10:04:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05636
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 10:04:28 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA04766
	for <sip@ietf.org>; Mon, 12 Nov 2001 10:04:25 -0500 (EST)
Received: (qmail 2839 invoked from network); 12 Nov 2001 14:56:39 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 12 Nov 2001 14:56:39 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>
Cc: <sip@ietf.org>
Subject: RE: [Sip] RE: How does Stateless Proxy handle Retransmission
Date: Mon, 12 Nov 2001 10:03:51 -0500
Message-ID: <000e01c16b8b$3d755390$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6E29@DYN-EXCH-001.dynamicsoft.com>
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

> Going stateful for 32s before using the updated routing 
> tables is indeed one
> way to do this. There are other ways that use lesser amounts 
> of state; these
> are implementation choices and areas of innovation. The 
> specification states
> a clear set of requirements. It is worth clarifying that you 
> need to worry
> about this issue of configuration changes, although I do 
> believe that the
> solution should be left open.
> 

The solutions described so far on the list all require the stateless
proxy to go stateful (for maybe limited period of time). While this is
doable in theory, it is very complicated in practice. IMHO, it may go
against the very purpose of having a stateless proxy to start with. With
the newly added text about requirments on stateless proxy, I think it
would also help if bis-05 mentions that a stateless proxy may need to go
stateful to meet these requirments.

Regards,

Shan Lu
sentitO Networks


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 10:36:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA06813
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 10:36:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA06630
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 10:36:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05859;
	Mon, 12 Nov 2001 10:08:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05771
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 10:08:43 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05022
	for <sip@ietf.org>; Mon, 12 Nov 2001 10:08:41 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A5FB385200CC; Mon, 12 Nov 2001 10:08:43 -0500
Message-ID: <00a001c16b8b$7fd869c0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Mark Watson" <mwatson@nortelnetworks.com>
Cc: "sip" <sip@ietf.org>
References: <A3C2399B2FACD411A54200508BE39C74054F6E52@zwcwd00r.europe.nortel.com>
Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 10:05:42 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Cc: "sip" <sip@ietf.org>
Sent: Monday, November 12, 2001 9:20 AM
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity


> Do you mean that to be consistent with the usage of the term 'established'
> through the draft, then a dialog should be consided 'established' as soon
as
> any non-failure response is received ?

Yes more or less. Since the words establish and established are used in many
places when talking about a dialog in either state, we should not use
"established" as one of the states. Some of the text may need to be
clarified if when it says "established dialogic" it means post-2xx.

We should have "early" and "confirmed" (or whatever term the authors desire)
as the states of an established dialog. Thus a dialog is establised/created
by the first 1xx/2xx with a To tag.

>
> So, let's say 'confirmed' for dialogs where a final response has been
> received. Note that a 'confirmed' dialog is also 'established'.
>
> Also, we might as well have a term for the state before any response has
> been received, let's say 'started'.
>
> So we have three states for dialog (as well as the state in which the
dialog
> does not exist at all), as follows:
> 'started' - between INVITE and any response
> 'established and not confirmed' - between 1xx and 2xx
> 'established and confirmed' after 2xx
>
> I suppose this state machine exists at UAC, UAS and each dialog-stateful
> proxy.

I see only 2 states: 'early' and 'confirmed' (or whatever the authors want
to call it).
What you call 'started' is "the state in which the dialog does not exist at
all". The current draft does not mention this state. I don't think that we
need to extend it. The state machine you talk about would not need to be
instantiated until the dialog is created/established. Besides there is no
way to know ahead of time how many dialogs might get created when a UAC
sends an INVITE.

>
> Question: how long does the 'started' dialog exist ?
>
> On receipt of a response, an 'established' dialog is created by filling in
> the remote address in the 'started' dialog. But subsequent responses from
> other UASs (due to forking of the request) will create further
'established'
> dialogs with different remote addresses - so in a sense the 'started'
dialog
> (which has only a local address) still exists as a separate entity from
the
> 'established' ones. How long does it persist for ? (i.e. at what point are
> further response from new endpoints no longer allowed ?)

Again, there is no instance of a dialog before you get a 1xx/2xx. You just
have the client transaction at the UAC. The UAC uses the client transaction
state machine for timing out the INVITE.

>
> Finally, you mention that we need to initiate regular transaction on early
> (established and not confirmed) dialogs, but 12.2 allows us to initiate
any
> transactions, not just regular ones. i.e. we can sent a Re-INVITE.
>
> ...Mark
>
> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: 12 November 2001 13:43
> To: Watson, Mark [MDN05:EP10:EXCH]
> Cc: sip
> Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
>
>
> No, we need to be able to initiate regular transactions on early dialogs
> (like BYE). I now think that we need a different term for a dialog after
> 2xx. After scanning bis-05, the term 'established' is used when referring
to
> dialogs of either type in many places.
>
> (-:bob
>
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
>
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: "'Bob Penfield'" <bpenfield@acmepacket.com>
> Sent: Monday, November 12, 2001 5:44 AM
> Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> > Bob,
> >
> > I don't care about the terminology, so long as it is unambiguous, but
> unless
> > you modify 12.2 as well, your changes below would imply that new
requests
> > within a dialog cannot be sent until we have a final response for the
> dialog
> > - was that your proposal ?
> >
> > Regards...Mark
> >
> > -----Original Message-----
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > Sent: 09 November 2001 13:58
> > To: Watson, Mark [MDN05:EP10:EXCH]; sip
> > Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> >
> > I think we should have "early" and "established" states for the dialog.
I
> > suggest the paragraph in section be re-worded as follows:
> >
> >  "Dialogs are created through the generation of non-failure responses to
> >  requests with specific methods. Within this specification, only the 2xx
> and
> >  1xx responses to INVITE create a dialog. A dialog created by a
> >  non-final response to a request is called an early dialog. An
established
> > dialog
> >  is created by a final response. Once a final response is received for
an
> >  early dialog, it becomes an established dialog"
> >
> > cheers,
> > (-:bob
> >
> > Robert F. Penfield
> > Chief Software Architect
> > Acme Packet, Inc.
> > 130 New Boston Street
> > Woburn, MA 01801
> > bpenfield@acmepacket.com
> >
> > ----- Original Message -----
> > From: "Mark Watson" <mwatson@nortelnetworks.com>
> > To: <sip@ietf.org>
> > Sent: Friday, November 09, 2001 6:13 AM
> > Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> >
> > > Apologies if this has already been covered.
> > >
> > > There is an ambiguity in the specification with respect to the
> > > 'establishment' of a dialog.
> > >
> > > Section 12.1 states:
> > >
> > > "Dialogs are created through the generation of non-failure responses
to
> > > requests with specific methods. Within this specification, only the
2xx
> > and
> > > 1xx responses to INVITE establish a dialog. A dialog established by a
> > > non-final response to a request is called an early dialog."
> > >
> > > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > > received. This means that 'establishing' a dialog is equivalent to
> > > 'creating' it.
> > >
> > > However, the introduction to Section 12 states at the end:
> > >
> > > "A dialog can also be in the "early" state, which occurs when it is
> > created
> > > with a provisional response, and then transition to the "established"
> > state
> > > when the final response comes."
> > >
> > > i.e. the dialog is not considered 'established' until a *final*
response
> > is
> > > received.
> > >
> > > Aside from the need to make the terminology unambiguous, section 12.2
> > > indicates that new requests within a dialog can be sent once it is
> > > 'established' so the definition of 'established' is clearly important.
> > >
> > > I would suggest sticking with the description of 12.1 - i.e. that the
> > dialog
> > > is established as soon as a non-failure response is received - this is
> all
> > > that is required to ensure both UAS & UAC have the required,
> synchronised
> > > state information. If it is necessary to distinguish between dialog
> state
> > > before and after a final response, then I'd suggest using the term
> > > 'confirmed' for dialogs where there has been a final response. I'm not
> > sure
> > > there is such a need - whether a response is provisional or final is a
> > > transaction layer concept - does it need to be reflected in dialog
state
> ?
> > >
> > > Regards,
> > >
> > > Mark Watson
> > > Nortel Networks
> > >
> >
> >
>
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 12:29:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12122
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 12:29:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA11698
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 12:29:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA10260;
	Mon, 12 Nov 2001 12:02:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA10231
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 12:02:22 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA11273
	for <sip@ietf.org>; Mon, 12 Nov 2001 12:02:18 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACH0OCJ003258;
	Mon, 12 Nov 2001 12:00:24 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQY1X5>; Mon, 12 Nov 2001 12:01:45 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E40@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Shan Lu
	 <shanlu@sentito.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
Date: Mon, 12 Nov 2001 12:01:44 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Saturday, November 10, 2001 3:34 AM
> To: Robert Sparks
> Cc: 'Gonzalo Camarillo'; Shan Lu; Jonathan Rosenberg; sip@ietf.org
> Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> 
> 
> 
> Hi,
> 
> Just one clarification I would like to get.
> 
> To my understanding stateless proxies don't Record-Route.

No, that is not correct. Statelessness and record-routing are orthogonal.

> 
> However, IF the INVITE has a pre-defined route (if it will be 
> allowed),
> that route MAY include a stateless proxy. Then, if I want to 
> CANCEL the
> INVITE I guess I must include the same route in the CANCEL (it IS
> allowed according to Table 3 on page 132), because otherwise 
> there is no
> guarantee that the "routing algorithm" of the stateless proxy will
> forward the CANCEL to the same destination as the INVITE?

This is a good point. For INVITE with pre-loaded Route, the CANCEL should
probably have the same route set as the request its cancelling. This will
also be needed for re-INVITE. 

We need to add that to the spec.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 12:30:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12147
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 12:30:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA11814
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 12:30:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA09010;
	Mon, 12 Nov 2001 11:54:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA08978
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 11:54:25 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA11005
	for <sip@ietf.org>; Mon, 12 Nov 2001 11:54:22 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACGqUCJ003108;
	Mon, 12 Nov 2001 11:52:30 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQY1VW>; Mon, 12 Nov 2001 11:53:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E3F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] RE: How does Stateless Proxy handle Retransmission
Date: Mon, 12 Nov 2001 11:53:49 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Monday, November 12, 2001 10:04 AM
> To: 'Jonathan Rosenberg'
> Cc: sip@ietf.org
> Subject: RE: [Sip] RE: How does Stateless Proxy handle Retransmission
> 
> 
> Hi,
> 
> > Going stateful for 32s before using the updated routing 
> > tables is indeed one
> > way to do this. There are other ways that use lesser amounts 
> > of state; these
> > are implementation choices and areas of innovation. The 
> > specification states
> > a clear set of requirements. It is worth clarifying that you 
> > need to worry
> > about this issue of configuration changes, although I do 
> > believe that the
> > solution should be left open.
> > 
> 
> The solutions described so far on the list all require the stateless
> proxy to go stateful (for maybe limited period of time). While this is
> doable in theory, it is very complicated in practice. IMHO, it may go
> against the very purpose of having a stateless proxy to start 
> with. 

You can't have your cake and eat it too; total statelessness along with
failover and dynamic configurability are not simultaneously achievable. 

> With
> the newly added text about requirments on stateless proxy, I think it
> would also help if bis-05 mentions that a stateless proxy may 
> need to go
> stateful to meet these requirments.

Yes, we will clarify.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 12:58:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13294
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 12:58:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA13300
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 12:58:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12078;
	Mon, 12 Nov 2001 12:30:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA11969
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 12:30:46 -0500 (EST)
Received: from znsgs0ja.europe.nortel.com (znsgs0ja.nortelnetworks.com [47.165.25.40])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12177
	for <sip@ietf.org>; Mon, 12 Nov 2001 12:30:42 -0500 (EST)
Received: from qnsgs000.nortel.com (znsgs016 [47.255.64.31])
	by znsgs0ja.europe.nortel.com (8.11.0/8.11.0) with ESMTP id fACHUFk17008
	for <sip@ietf.org>; Mon, 12 Nov 2001 17:30:15 GMT
Received: from zwcwc012.europe.nortel.com by znsgs016;
          Mon, 12 Nov 2001 17:30:08 +0000
Received: by zwcwc012.europe.nortel.com 
          with Internet Mail Service (5.5.2653.19) id <WYSXFA61>;
          Mon, 12 Nov 2001 17:25:09 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6E61@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 17:25:09 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C16B9E.FA70B620"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16B9E.FA70B620
Content-Type: text/plain;
	charset="iso-8859-1"

You have to have some state between INVITE and the response(s) to match
incoming responses against, whether you consider this part of the INVITE
transaction or as part of a 'started' dialog is probably a matter of
preference.

For my part, I like to keep the layers self-contained, suggesting that this
information is at the 'dialog' layer, and not at the 'transaction' layer. I
would suggest that we model things so that there is always some for of
'dialog state' after the INVITE is sent. If this is an INVITE on an
established dialog, then this state consists of the full dialog state,
otherwise it consists of only the Local Address.

...Mark



-----Original Message-----
From: Bob Penfield [mailto:bpenfield@acmepacket.com]
Sent: 12 November 2001 15:06
To: Watson, Mark [MDN05:EP10:EXCH]
Cc: sip
Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity



----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Cc: "sip" <sip@ietf.org>
Sent: Monday, November 12, 2001 9:20 AM
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity


> Do you mean that to be consistent with the usage of the term 'established'
> through the draft, then a dialog should be consided 'established' as soon
as
> any non-failure response is received ?

Yes more or less. Since the words establish and established are used in many
places when talking about a dialog in either state, we should not use
"established" as one of the states. Some of the text may need to be
clarified if when it says "established dialogic" it means post-2xx.

We should have "early" and "confirmed" (or whatever term the authors desire)
as the states of an established dialog. Thus a dialog is establised/created
by the first 1xx/2xx with a To tag.

>
> So, let's say 'confirmed' for dialogs where a final response has been
> received. Note that a 'confirmed' dialog is also 'established'.
>
> Also, we might as well have a term for the state before any response has
> been received, let's say 'started'.
>
> So we have three states for dialog (as well as the state in which the
dialog
> does not exist at all), as follows:
> 'started' - between INVITE and any response
> 'established and not confirmed' - between 1xx and 2xx
> 'established and confirmed' after 2xx
>
> I suppose this state machine exists at UAC, UAS and each dialog-stateful
> proxy.

I see only 2 states: 'early' and 'confirmed' (or whatever the authors want
to call it).
What you call 'started' is "the state in which the dialog does not exist at
all". The current draft does not mention this state. I don't think that we
need to extend it. The state machine you talk about would not need to be
instantiated until the dialog is created/established. Besides there is no
way to know ahead of time how many dialogs might get created when a UAC
sends an INVITE.

>
> Question: how long does the 'started' dialog exist ?
>
> On receipt of a response, an 'established' dialog is created by filling in
> the remote address in the 'started' dialog. But subsequent responses from
> other UASs (due to forking of the request) will create further
'established'
> dialogs with different remote addresses - so in a sense the 'started'
dialog
> (which has only a local address) still exists as a separate entity from
the
> 'established' ones. How long does it persist for ? (i.e. at what point are
> further response from new endpoints no longer allowed ?)

Again, there is no instance of a dialog before you get a 1xx/2xx. You just
have the client transaction at the UAC. The UAC uses the client transaction
state machine for timing out the INVITE.

>
> Finally, you mention that we need to initiate regular transaction on early
> (established and not confirmed) dialogs, but 12.2 allows us to initiate
any
> transactions, not just regular ones. i.e. we can sent a Re-INVITE.
>
> ...Mark
>
> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: 12 November 2001 13:43
> To: Watson, Mark [MDN05:EP10:EXCH]
> Cc: sip
> Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
>
>
> No, we need to be able to initiate regular transactions on early dialogs
> (like BYE). I now think that we need a different term for a dialog after
> 2xx. After scanning bis-05, the term 'established' is used when referring
to
> dialogs of either type in many places.
>
> (-:bob
>
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
>
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: "'Bob Penfield'" <bpenfield@acmepacket.com>
> Sent: Monday, November 12, 2001 5:44 AM
> Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
>
>
> > Bob,
> >
> > I don't care about the terminology, so long as it is unambiguous, but
> unless
> > you modify 12.2 as well, your changes below would imply that new
requests
> > within a dialog cannot be sent until we have a final response for the
> dialog
> > - was that your proposal ?
> >
> > Regards...Mark
> >
> > -----Original Message-----
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > Sent: 09 November 2001 13:58
> > To: Watson, Mark [MDN05:EP10:EXCH]; sip
> > Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> >
> > I think we should have "early" and "established" states for the dialog.
I
> > suggest the paragraph in section be re-worded as follows:
> >
> >  "Dialogs are created through the generation of non-failure responses to
> >  requests with specific methods. Within this specification, only the 2xx
> and
> >  1xx responses to INVITE create a dialog. A dialog created by a
> >  non-final response to a request is called an early dialog. An
established
> > dialog
> >  is created by a final response. Once a final response is received for
an
> >  early dialog, it becomes an established dialog"
> >
> > cheers,
> > (-:bob
> >
> > Robert F. Penfield
> > Chief Software Architect
> > Acme Packet, Inc.
> > 130 New Boston Street
> > Woburn, MA 01801
> > bpenfield@acmepacket.com
> >
> > ----- Original Message -----
> > From: "Mark Watson" <mwatson@nortelnetworks.com>
> > To: <sip@ietf.org>
> > Sent: Friday, November 09, 2001 6:13 AM
> > Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> >
> > > Apologies if this has already been covered.
> > >
> > > There is an ambiguity in the specification with respect to the
> > > 'establishment' of a dialog.
> > >
> > > Section 12.1 states:
> > >
> > > "Dialogs are created through the generation of non-failure responses
to
> > > requests with specific methods. Within this specification, only the
2xx
> > and
> > > 1xx responses to INVITE establish a dialog. A dialog established by a
> > > non-final response to a request is called an early dialog."
> > >
> > > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > > received. This means that 'establishing' a dialog is equivalent to
> > > 'creating' it.
> > >
> > > However, the introduction to Section 12 states at the end:
> > >
> > > "A dialog can also be in the "early" state, which occurs when it is
> > created
> > > with a provisional response, and then transition to the "established"
> > state
> > > when the final response comes."
> > >
> > > i.e. the dialog is not considered 'established' until a *final*
response
> > is
> > > received.
> > >
> > > Aside from the need to make the terminology unambiguous, section 12.2
> > > indicates that new requests within a dialog can be sent once it is
> > > 'established' so the definition of 'established' is clearly important.
> > >
> > > I would suggest sticking with the description of 12.1 - i.e. that the
> > dialog
> > > is established as soon as a non-failure response is received - this is
> all
> > > that is required to ensure both UAS & UAC have the required,
> synchronised
> > > state information. If it is necessary to distinguish between dialog
> state
> > > before and after a final response, then I'd suggest using the term
> > > 'confirmed' for dialogs where there has been a final response. I'm not
> > sure
> > > there is such a need - whether a response is provisional or final is a
> > > transaction layer concept - does it need to be reflected in dialog
state
> ?
> > >
> > > Regards,
> > >
> > > Mark Watson
> > > Nortel Networks
> > >
> >
> >
>
>


------_=_NextPart_001_01C16B9E.FA70B620
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-05: Dialog establishment ambiguity</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>You have to have some state between INVITE and the =
response(s) to match incoming responses against, whether you consider =
this part of the INVITE transaction or as part of a 'started' dialog is =
probably a matter of preference.</FONT></P>

<P><FONT SIZE=3D2>For my part, I like to keep the layers =
self-contained, suggesting that this information is at the 'dialog' =
layer, and not at the 'transaction' layer. I would suggest that we =
model things so that there is always some for of 'dialog state' after =
the INVITE is sent. If this is an INVITE on an established dialog, then =
this state consists of the full dialog state, otherwise it consists of =
only the Local Address.</FONT></P>

<P><FONT SIZE=3D2>...Mark</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 12 November 2001 15:06</FONT>
<BR><FONT SIZE=3D2>To: Watson, Mark [MDN05:EP10:EXCH]</FONT>
<BR><FONT SIZE=3D2>Cc: sip</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-05: Dialog establishment =
ambiguity</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>To: &quot;'Bob Penfield'&quot; =
&lt;bpenfield@acmepacket.com&gt;</FONT>
<BR><FONT SIZE=3D2>Cc: &quot;sip&quot; &lt;sip@ietf.org&gt;</FONT>
<BR><FONT SIZE=3D2>Sent: Monday, November 12, 2001 9:20 AM</FONT>
<BR><FONT SIZE=3D2>Subject: RE: [Sip] Bis-05: Dialog establishment =
ambiguity</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&gt; Do you mean that to be consistent with the usage =
of the term 'established'</FONT>
<BR><FONT SIZE=3D2>&gt; through the draft, then a dialog should be =
consided 'established' as soon</FONT>
<BR><FONT SIZE=3D2>as</FONT>
<BR><FONT SIZE=3D2>&gt; any non-failure response is received ?</FONT>
</P>

<P><FONT SIZE=3D2>Yes more or less. Since the words establish and =
established are used in many</FONT>
<BR><FONT SIZE=3D2>places when talking about a dialog in either state, =
we should not use</FONT>
<BR><FONT SIZE=3D2>&quot;established&quot; as one of the states. Some =
of the text may need to be</FONT>
<BR><FONT SIZE=3D2>clarified if when it says &quot;established =
dialogic&quot; it means post-2xx.</FONT>
</P>

<P><FONT SIZE=3D2>We should have &quot;early&quot; and =
&quot;confirmed&quot; (or whatever term the authors desire)</FONT>
<BR><FONT SIZE=3D2>as the states of an established dialog. Thus a =
dialog is establised/created</FONT>
<BR><FONT SIZE=3D2>by the first 1xx/2xx with a To tag.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; So, let's say 'confirmed' for dialogs where a =
final response has been</FONT>
<BR><FONT SIZE=3D2>&gt; received. Note that a 'confirmed' dialog is =
also 'established'.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Also, we might as well have a term for the =
state before any response has</FONT>
<BR><FONT SIZE=3D2>&gt; been received, let's say 'started'.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; So we have three states for dialog (as well as =
the state in which the</FONT>
<BR><FONT SIZE=3D2>dialog</FONT>
<BR><FONT SIZE=3D2>&gt; does not exist at all), as follows:</FONT>
<BR><FONT SIZE=3D2>&gt; 'started' - between INVITE and any =
response</FONT>
<BR><FONT SIZE=3D2>&gt; 'established and not confirmed' - between 1xx =
and 2xx</FONT>
<BR><FONT SIZE=3D2>&gt; 'established and confirmed' after 2xx</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; I suppose this state machine exists at UAC, UAS =
and each dialog-stateful</FONT>
<BR><FONT SIZE=3D2>&gt; proxy.</FONT>
</P>

<P><FONT SIZE=3D2>I see only 2 states: 'early' and 'confirmed' (or =
whatever the authors want</FONT>
<BR><FONT SIZE=3D2>to call it).</FONT>
<BR><FONT SIZE=3D2>What you call 'started' is &quot;the state in which =
the dialog does not exist at</FONT>
<BR><FONT SIZE=3D2>all&quot;. The current draft does not mention this =
state. I don't think that we</FONT>
<BR><FONT SIZE=3D2>need to extend it. The state machine you talk about =
would not need to be</FONT>
<BR><FONT SIZE=3D2>instantiated until the dialog is =
created/established. Besides there is no</FONT>
<BR><FONT SIZE=3D2>way to know ahead of time how many dialogs might get =
created when a UAC</FONT>
<BR><FONT SIZE=3D2>sends an INVITE.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Question: how long does the 'started' dialog =
exist ?</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; On receipt of a response, an 'established' =
dialog is created by filling in</FONT>
<BR><FONT SIZE=3D2>&gt; the remote address in the 'started' dialog. But =
subsequent responses from</FONT>
<BR><FONT SIZE=3D2>&gt; other UASs (due to forking of the request) will =
create further</FONT>
<BR><FONT SIZE=3D2>'established'</FONT>
<BR><FONT SIZE=3D2>&gt; dialogs with different remote addresses - so in =
a sense the 'started'</FONT>
<BR><FONT SIZE=3D2>dialog</FONT>
<BR><FONT SIZE=3D2>&gt; (which has only a local address) still exists =
as a separate entity from</FONT>
<BR><FONT SIZE=3D2>the</FONT>
<BR><FONT SIZE=3D2>&gt; 'established' ones. How long does it persist =
for ? (i.e. at what point are</FONT>
<BR><FONT SIZE=3D2>&gt; further response from new endpoints no longer =
allowed ?)</FONT>
</P>

<P><FONT SIZE=3D2>Again, there is no instance of a dialog before you =
get a 1xx/2xx. You just</FONT>
<BR><FONT SIZE=3D2>have the client transaction at the UAC. The UAC uses =
the client transaction</FONT>
<BR><FONT SIZE=3D2>state machine for timing out the INVITE.</FONT>
</P>

<P><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Finally, you mention that we need to initiate =
regular transaction on early</FONT>
<BR><FONT SIZE=3D2>&gt; (established and not confirmed) dialogs, but =
12.2 allows us to initiate</FONT>
<BR><FONT SIZE=3D2>any</FONT>
<BR><FONT SIZE=3D2>&gt; transactions, not just regular ones. i.e. we =
can sent a Re-INVITE.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; ...Mark</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: 12 November 2001 13:43</FONT>
<BR><FONT SIZE=3D2>&gt; To: Watson, Mark [MDN05:EP10:EXCH]</FONT>
<BR><FONT SIZE=3D2>&gt; Cc: sip</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: Re: [Sip] Bis-05: Dialog establishment =
ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; No, we need to be able to initiate regular =
transactions on early dialogs</FONT>
<BR><FONT SIZE=3D2>&gt; (like BYE). I now think that we need a =
different term for a dialog after</FONT>
<BR><FONT SIZE=3D2>&gt; 2xx. After scanning bis-05, the term =
'established' is used when referring</FONT>
<BR><FONT SIZE=3D2>to</FONT>
<BR><FONT SIZE=3D2>&gt; dialogs of either type in many places.</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; (-:bob</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Robert F. Penfield</FONT>
<BR><FONT SIZE=3D2>&gt; Chief Software Architect</FONT>
<BR><FONT SIZE=3D2>&gt; Acme Packet, Inc.</FONT>
<BR><FONT SIZE=3D2>&gt; 130 New Boston Street</FONT>
<BR><FONT SIZE=3D2>&gt; Woburn, MA 01801</FONT>
<BR><FONT SIZE=3D2>&gt; bpenfield@acmepacket.com</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; ----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>&gt; From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; To: &quot;'Bob Penfield'&quot; =
&lt;bpenfield@acmepacket.com&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: Monday, November 12, 2001 5:44 AM</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: RE: [Sip] Bis-05: Diaglog =
establishment ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Bob,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I don't care about the terminology, so =
long as it is unambiguous, but</FONT>
<BR><FONT SIZE=3D2>&gt; unless</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; you modify 12.2 as well, your changes =
below would imply that new</FONT>
<BR><FONT SIZE=3D2>requests</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; within a dialog cannot be sent until we =
have a final response for the</FONT>
<BR><FONT SIZE=3D2>&gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; - was that your proposal ?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Regards...Mark</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; From: Bob Penfield [<A =
HREF=3D"mailto:bpenfield@acmepacket.com">mailto:bpenfield@acmepacket.com=
</A>]</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Sent: 09 November 2001 13:58</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; To: Watson, Mark [MDN05:EP10:EXCH]; =
sip</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Subject: Re: [Sip] Bis-05: Diaglog =
establishment ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I think we should have &quot;early&quot; =
and &quot;established&quot; states for the dialog.</FONT>
<BR><FONT SIZE=3D2>I</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; suggest the paragraph in section be =
re-worded as follows:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; &quot;Dialogs are created through =
the generation of non-failure responses to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; requests with specific methods. =
Within this specification, only the 2xx</FONT>
<BR><FONT SIZE=3D2>&gt; and</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; 1xx responses to INVITE create a =
dialog. A dialog created by a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; non-final response to a request is =
called an early dialog. An</FONT>
<BR><FONT SIZE=3D2>established</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; is created by a final response. Once =
a final response is received for</FONT>
<BR><FONT SIZE=3D2>an</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;&nbsp; early dialog, it becomes an =
established dialog&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; cheers,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; (-:bob</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Robert F. Penfield</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Chief Software Architect</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Acme Packet, Inc.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 130 New Boston Street</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Woburn, MA 01801</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; bpenfield@acmepacket.com</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; ----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; To: &lt;sip@ietf.org&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Sent: Friday, November 09, 2001 6:13 =
AM</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Subject: [Sip] Bis-05: Diaglog =
establishment ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Apologies if this has already been =
covered.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; There is an ambiguity in the =
specification with respect to the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; 'establishment' of a dialog.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Section 12.1 states:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; &quot;Dialogs are created through the =
generation of non-failure responses</FONT>
<BR><FONT SIZE=3D2>to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; requests with specific methods. =
Within this specification, only the</FONT>
<BR><FONT SIZE=3D2>2xx</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; and</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; 1xx responses to INVITE establish a =
dialog. A dialog established by a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; non-final response to a request is =
called an early dialog.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; i.e. a dialog is considered =
'established' as soon as any 1xx or 2xx is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; received. This means that =
'establishing' a dialog is equivalent to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; 'creating' it.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; However, the introduction to Section =
12 states at the end:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; &quot;A dialog can also be in the =
&quot;early&quot; state, which occurs when it is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; created</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; with a provisional response, and then =
transition to the &quot;established&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; when the final response =
comes.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; i.e. the dialog is not considered =
'established' until a *final*</FONT>
<BR><FONT SIZE=3D2>response</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; received.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Aside from the need to make the =
terminology unambiguous, section 12.2</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; indicates that new requests within a =
dialog can be sent once it is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; 'established' so the definition of =
'established' is clearly important.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; I would suggest sticking with the =
description of 12.1 - i.e. that the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; is established as soon as a =
non-failure response is received - this is</FONT>
<BR><FONT SIZE=3D2>&gt; all</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; that is required to ensure both UAS =
&amp; UAC have the required,</FONT>
<BR><FONT SIZE=3D2>&gt; synchronised</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; state information. If it is necessary =
to distinguish between dialog</FONT>
<BR><FONT SIZE=3D2>&gt; state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; before and after a final response, =
then I'd suggest using the term</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; 'confirmed' for dialogs where there =
has been a final response. I'm not</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; sure</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; there is such a need - whether a =
response is provisional or final is a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; transaction layer concept - does it =
need to be reflected in dialog</FONT>
<BR><FONT SIZE=3D2>state</FONT>
<BR><FONT SIZE=3D2>&gt; ?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Mark Watson</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt; Nortel Networks</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
<BR><FONT SIZE=3D2>&gt;</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C16B9E.FA70B620--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 13:03:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA13434
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 13:03:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA13709
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 13:03:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA11743;
	Mon, 12 Nov 2001 12:29:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA11712
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 12:29:46 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12134
	for <sip@ietf.org>; Mon, 12 Nov 2001 12:29:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACHM1CJ003549;
	Mon, 12 Nov 2001 12:22:01 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQY17A>; Mon, 12 Nov 2001 12:23:22 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E42@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Mark Watson
	 <mwatson@nortelnetworks.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 12:23:21 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Monday, November 12, 2001 10:06 AM
> To: Mark Watson
> Cc: sip
> Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
> 
> 
> 
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: "'Bob Penfield'" <bpenfield@acmepacket.com>
> Cc: "sip" <sip@ietf.org>
> Sent: Monday, November 12, 2001 9:20 AM
> Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity
> 
> 
> > Do you mean that to be consistent with the usage of the 
> term 'established'
> > through the draft, then a dialog should be consided 
> 'established' as soon
> as
> > any non-failure response is received ?
> 
> Yes more or less. Since the words establish and established 
> are used in many
> places when talking about a dialog in either state, we should not use
> "established" as one of the states. Some of the text may need to be
> clarified if when it says "established dialogic" it means post-2xx.
> 
> We should have "early" and "confirmed" (or whatever term the 
> authors desire)
> as the states of an established dialog. Thus a dialog is 
> establised/created
> by the first 1xx/2xx with a To tag.
> 
> >
> > So, let's say 'confirmed' for dialogs where a final 
> response has been
> > received. Note that a 'confirmed' dialog is also 'established'.
> >
> > Also, we might as well have a term for the state before any 
> response has
> > been received, let's say 'started'.
> >
> > So we have three states for dialog (as well as the state in 
> which the
> dialog
> > does not exist at all), as follows:
> > 'started' - between INVITE and any response
> > 'established and not confirmed' - between 1xx and 2xx
> > 'established and confirmed' after 2xx
> >
> > I suppose this state machine exists at UAC, UAS and each 
> dialog-stateful
> > proxy.
> 
> I see only 2 states: 'early' and 'confirmed' (or whatever the 
> authors want
> to call it).
> What you call 'started' is "the state in which the dialog 
> does not exist at
> all". The current draft does not mention this state. I don't 
> think that we
> need to extend it. The state machine you talk about would not 
> need to be
> instantiated until the dialog is created/established. Besides 
> there is no
> way to know ahead of time how many dialogs might get created 
> when a UAC
> sends an INVITE.
> 
> >
> > Question: how long does the 'started' dialog exist ?
> >
> > On receipt of a response, an 'established' dialog is 
> created by filling in
> > the remote address in the 'started' dialog. But subsequent 
> responses from
> > other UASs (due to forking of the request) will create further
> 'established'
> > dialogs with different remote addresses - so in a sense the 
> 'started'
> dialog
> > (which has only a local address) still exists as a separate 
> entity from
> the
> > 'established' ones. How long does it persist for ? (i.e. at 
> what point are
> > further response from new endpoints no longer allowed ?)
> 
> Again, there is no instance of a dialog before you get a 
> 1xx/2xx. You just
> have the client transaction at the UAC. The UAC uses the 
> client transaction
> state machine for timing out the INVITE.
> 
> >
> > Finally, you mention that we need to initiate regular 
> transaction on early
> > (established and not confirmed) dialogs, but 12.2 allows us 
> to initiate
> any
> > transactions, not just regular ones. i.e. we can sent a Re-INVITE.
> >
> > ...Mark


> >
> > -----Original Message-----
> > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > Sent: 12 November 2001 13:43
> > To: Watson, Mark [MDN05:EP10:EXCH]
> > Cc: sip
> > Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
> >
> >
> > No, we need to be able to initiate regular transactions on 
> early dialogs
> > (like BYE). I now think that we need a different term for a 
> dialog after
> > 2xx. After scanning bis-05, the term 'established' is used 
> when referring
> to
> > dialogs of either type in many places.
> >
> > (-:bob
> >
> > Robert F. Penfield
> > Chief Software Architect
> > Acme Packet, Inc.
> > 130 New Boston Street
> > Woburn, MA 01801
> > bpenfield@acmepacket.com
> >
> > ----- Original Message -----
> > From: "Mark Watson" <mwatson@nortelnetworks.com>
> > To: "'Bob Penfield'" <bpenfield@acmepacket.com>
> > Sent: Monday, November 12, 2001 5:44 AM
> > Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> >
> > > Bob,
> > >
> > > I don't care about the terminology, so long as it is 
> unambiguous, but
> > unless
> > > you modify 12.2 as well, your changes below would imply that new
> requests
> > > within a dialog cannot be sent until we have a final 
> response for the
> > dialog
> > > - was that your proposal ?
> > >
> > > Regards...Mark
> > >
> > > -----Original Message-----
> > > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> > > Sent: 09 November 2001 13:58
> > > To: Watson, Mark [MDN05:EP10:EXCH]; sip
> > > Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
> > >
> > >
> > > I think we should have "early" and "established" states 
> for the dialog.
> I
> > > suggest the paragraph in section be re-worded as follows:
> > >
> > >  "Dialogs are created through the generation of 
> non-failure responses to
> > >  requests with specific methods. Within this 
> specification, only the 2xx
> > and
> > >  1xx responses to INVITE create a dialog. A dialog created by a
> > >  non-final response to a request is called an early dialog. An
> established
> > > dialog
> > >  is created by a final response. Once a final response is 
> received for
> an
> > >  early dialog, it becomes an established dialog"
> > >
> > > cheers,
> > > (-:bob
> > >
> > > Robert F. Penfield
> > > Chief Software Architect
> > > Acme Packet, Inc.
> > > 130 New Boston Street
> > > Woburn, MA 01801
> > > bpenfield@acmepacket.com
> > >
> > > ----- Original Message -----
> > > From: "Mark Watson" <mwatson@nortelnetworks.com>
> > > To: <sip@ietf.org>
> > > Sent: Friday, November 09, 2001 6:13 AM
> > > Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> > >
> > >
> > > > Apologies if this has already been covered.
> > > >
> > > > There is an ambiguity in the specification with respect to the
> > > > 'establishment' of a dialog.
> > > >
> > > > Section 12.1 states:
> > > >
> > > > "Dialogs are created through the generation of 
> non-failure responses
> to
> > > > requests with specific methods. Within this 
> specification, only the
> 2xx
> > > and
> > > > 1xx responses to INVITE establish a dialog. A dialog 
> established by a
> > > > non-final response to a request is called an early dialog."
> > > >
> > > > i.e. a dialog is considered 'established' as soon as 
> any 1xx or 2xx is
> > > > received. This means that 'establishing' a dialog is 
> equivalent to
> > > > 'creating' it.
> > > >
> > > > However, the introduction to Section 12 states at the end:
> > > >
> > > > "A dialog can also be in the "early" state, which 
> occurs when it is
> > > created
> > > > with a provisional response, and then transition to the 
> "established"
> > > state
> > > > when the final response comes."
> > > >
> > > > i.e. the dialog is not considered 'established' until a *final*
> response
> > > is
> > > > received.
> > > >
> > > > Aside from the need to make the terminology 
> unambiguous, section 12.2
> > > > indicates that new requests within a dialog can be sent 
> once it is
> > > > 'established' so the definition of 'established' is 
> clearly important.
> > > >
> > > > I would suggest sticking with the description of 12.1 - 
> i.e. that the
> > > dialog
> > > > is established as soon as a non-failure response is 
> received - this is
> > all
> > > > that is required to ensure both UAS & UAC have the required,
> > synchronised
> > > > state information. If it is necessary to distinguish 
> between dialog
> > state
> > > > before and after a final response, then I'd suggest 
> using the term
> > > > 'confirmed' for dialogs where there has been a final 
> response. I'm not
> > > sure
> > > > there is such a need - whether a response is 
> provisional or final is a
> > > > transaction layer concept - does it need to be 
> reflected in dialog
> state
> > ?
> > > >
> > > > Regards,
> > > >
> > > > Mark Watson
> > > > Nortel Networks
> > > >
> > >
> > >
> >
> >
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 13:13:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA13855
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 13:13:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA14039
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 13:13:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12538;
	Mon, 12 Nov 2001 12:35:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12506
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 12:35:44 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12360
	for <sip@ietf.org>; Mon, 12 Nov 2001 12:35:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACHWeCJ003715;
	Mon, 12 Nov 2001 12:32:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQY19R>; Mon, 12 Nov 2001 12:34:01 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E43@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Mark Watson
	 <mwatson@nortelnetworks.com>
Cc: sip <sip@ietf.org>
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 12:34:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


My apologies for the itchy trigger finger on the previous empty response....

inline.
 

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Monday, November 12, 2001 10:06 AM
> To: Mark Watson
> Cc: sip
> Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
> 
> 
> > Do you mean that to be consistent with the usage of the 
> term 'established'
> > through the draft, then a dialog should be consided 
> 'established' as soon
> as
> > any non-failure response is received ?
> 
> Yes more or less. Since the words establish and established 
> are used in many
> places when talking about a dialog in either state, we should not use
> "established" as one of the states. Some of the text may need to be
> clarified if when it says "established dialogic" it means post-2xx.
> 
> We should have "early" and "confirmed" (or whatever term the 
> authors desire)
> as the states of an established dialog. Thus a dialog is 
> establised/created
> by the first 1xx/2xx with a To tag.

Yes, the spec is a bit inconsistent. This is due to a change in terminology
that was made during the editing process which was not completely
propagated. There are two states, one entered on some 1xx, and the other, on
2xx. We will make this consistent.

> 
> >
> > So, let's say 'confirmed' for dialogs where a final 
> response has been
> > received. Note that a 'confirmed' dialog is also 'established'.
> >
> > Also, we might as well have a term for the state before any 
> response has
> > been received, let's say 'started'.
> >
> > So we have three states for dialog (as well as the state in 
> which the
> dialog
> > does not exist at all), as follows:
> > 'started' - between INVITE and any response
> > 'established and not confirmed' - between 1xx and 2xx
> > 'established and confirmed' after 2xx
> >
> > I suppose this state machine exists at UAC, UAS and each 
> dialog-stateful
> > proxy.
> 
> I see only 2 states: 'early' and 'confirmed' (or whatever the 
> authors want
> to call it).
> What you call 'started' is "the state in which the dialog 
> does not exist at
> all". The current draft does not mention this state. I don't 
> think that we
> need to extend it. The state machine you talk about would not 
> need to be
> instantiated until the dialog is created/established. Besides 
> there is no
> way to know ahead of time how many dialogs might get created 
> when a UAC
> sends an INVITE.

Correct. There is NO dialog state before a response.

Lei Lang wrote:
> hi, Mark,
>   it is a little bit ambiguity in terminology. 
>   I think the 'establish' means user can begin to talk or hear the
> feedback ringing. 

No. Dialogs have nothing to do with media. They are SIP signaling
relationships. A 1xx could, for example, establish an early dialog but not
early media (i.e., an "early" session).


Anders Kristensen wrote:
> I don't think the intention is to say that *all* 2xx's and 1xx's
> establish dialogs but that *some* of them do. This is maybe not
> completely clear.

Any 2xx to INVITE will establish a dialog. For 1xx, 100 NEVER establishes a
dialog. Other 1xx can if they have tags. Whether you set one up or not is
not clear, I must admit. The UAC could avoid doing it if it was never going
to send any requests on an early dialog (a reliable provisional response
would require getting one set up). However, if the UAS can send requests on
an early dialog, then the UAC would need to always set one up.

This is all part of a bigger issue about how much we do, or do not, say
about earlier dialogs in bis. It can get quite complicated...


-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 13:23:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14115
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 13:23:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA14343
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 13:23:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13221;
	Mon, 12 Nov 2001 12:55:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13190
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 12:55:20 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13178
	for <sip@ietf.org>; Mon, 12 Nov 2001 12:55:16 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AD05975A00CC; Mon, 12 Nov 2001 12:55:17 -0500
Message-ID: <00da01c16ba2$c3817600$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Mark Watson" <mwatson@nortelnetworks.com>
Cc: "sip" <sip@ietf.org>
References: <A3C2399B2FACD411A54200508BE39C74054F6E61@zwcwd00r.europe.nortel.com>
Subject: Re: [Sip] Bis-05: Dialog establishment ambiguity
Date: Mon, 12 Nov 2001 12:52:13 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit




----- Original Message -----
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>
Cc: "sip" <sip@ietf.org>
Sent: Monday, November 12, 2001 12:25 PM
Subject: RE: [Sip] Bis-05: Dialog establishment ambiguity


> You have to have some state between INVITE and the response(s) to match
> incoming responses against, whether you consider this part of the INVITE
> transaction or as part of a 'started' dialog is probably a matter of
> preference.

The client transaction and its FSM (section 17 of bis) is exactly what you
are describing.

>
> For my part, I like to keep the layers self-contained, suggesting that
this
> information is at the 'dialog' layer, and not at the 'transaction' layer.
I
> would suggest that we model things so that there is always some for of
> 'dialog state' after the INVITE is sent. If this is an INVITE on an
> established dialog, then this state consists of the full dialog state,
> otherwise it consists of only the Local Address.
>
I agree with your idea of layering. However, I don't think there is anything
missing from the client transaction model that would affect
interoperability. Any state machine you design to become 'call-stateful' or
'dialog-stateful' is up to your implementation. I don't think we need to
make a dialog more complicated in the protocol.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 17:59:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA22134
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 17:59:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA20365
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 17:59:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19613;
	Mon, 12 Nov 2001 17:22:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19569
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 17:22:35 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA21044
	for <sip@ietf.org>; Mon, 12 Nov 2001 17:22:32 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACMKfCJ007016;
	Mon, 12 Nov 2001 17:20:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYGKQ>; Mon, 12 Nov 2001 17:22:01 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E53@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Shan Lu'" <shanlu@sentito.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'IETF SIP Mailing List'" <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 12 Nov 2001 17:22:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Shan Lu [mailto:shanlu@sentito.com]
> Sent: Monday, November 12, 2001 9:55 AM
> To: 'Jonathan Rosenberg'; 'IETF SIP Mailing List'
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> Hello,
> 
> > > But the PSTN does NOT ring the phone each and every time a 
> > > user dials a
> > > number and then immediately hangs up. That's what would 
> > > happen when you
> > > wait-for-1xx-then-cancel. 
> > 
> > As Keith and others have pointed out, this is NOT the case in 
> > the PSTN. The
> > PSTN will have this exact problem.
> > 
> 
> No matter what has been said about PSTN, the simple fact is the phone
> doesn't ring if the caller hangs up quickly. Try it for yourself.  If
> you can not conclude one way or the other because the PSTN setup time
> tends to be very short and leaves little room for user to 
> "change mind",
> then make a call between your desktop phone and cell phone. There you
> have around one second to hang up before the phone starts to 
> ring.

You are introducing an expectation which won't be met even in the perfect
case where CANCEL doesn't beat INVITE. Lets say I send an INVITE, and its
not lost, and then I hangup. The INVITE will beat the CANCEL to the UAS
under ideal cases, and therefore the UAS will ring, if not briefly. 

If, instead, the CANCEL is lost, the phone will also ring briefly, until the
CANCEL is resent (500ms).

How would you propose we deal with those two? Should a phone not ring on
INVITE, in case the user sent a CANCEL? Rather, it should wait a second? 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 18:36:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA23260
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 18:36:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA21355
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 18:36:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA20746;
	Mon, 12 Nov 2001 18:07:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA20715
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 18:07:49 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA22383
	for <sip@ietf.org>; Mon, 12 Nov 2001 18:07:45 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id XAA07752;
	Mon, 12 Nov 2001 23:07:48 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id XAA18213;
	Mon, 12 Nov 2001 23:07:40 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPR4XZT>; Mon, 12 Nov 2001 16:07:40 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B36FFB@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com, shanlu@sentito.com, sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 12 Nov 2001 16:07:39 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


>> No matter what has been said about PSTN, the simple fact is the phone
>> doesn't ring if the caller hangs up quickly. Try it for yourself.  If
>> you can not conclude one way or the other because the PSTN setup time
>> tends to be very short and leaves little room for user to 
>> "change mind",
>> then make a call between your desktop phone and cell phone. There you
>> have around one second to hang up before the phone starts to 
>> ring.
>
>You are introducing an expectation which won't be met even in the perfect
>case where CANCEL doesn't beat INVITE. Lets say I send an INVITE, and its
>not lost, and then I hangup. The INVITE will beat the CANCEL to the UAS
>under ideal cases, and therefore the UAS will ring, if not briefly. 
>
>If, instead, the CANCEL is lost, the phone will also ring briefly, until
the
>CANCEL is resent (500ms).
>
>How would you propose we deal with those two? Should a phone not ring on
>INVITE, in case the user sent a CANCEL? Rather, it should wait a second? 
>


I would also like to point out that you might be dealing with inter-digit
timers in your test calls, where the originating PBX or CLASS 5 switch is
waiting for additional digits before launching the call.  Thus, hanging up
before an inter-digit timer expires results in no call being forwarded from
a PBX or CLASS 5 switch.

Anyone that hangs up after making a call is taking a chance the phone on the
other end will briefly ring.  Under ideal conditions, this ring may be so
brief as to not even allow the ring to be heard.  We can't design around
this type of potential human behavior in the protocol.  The possibilities
might be endless, and we need to strive to Keep It Simple.

It seems to me this issue has been debated enough.  There is no concensus
that it needs to be dealt with in the protocol.  Please let this thread die.

John Hearty
Level3

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 18:50:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA23729
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 18:50:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA21611
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 18:50:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA20866;
	Mon, 12 Nov 2001 18:23:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA20835
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 18:23:38 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA22856
	for <sip@ietf.org>; Mon, 12 Nov 2001 18:23:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fACNL8CJ007646;
	Mon, 12 Nov 2001 18:21:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <WBWQYGT2>; Mon, 12 Nov 2001 18:22:28 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6E5B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>, shanlu@sentito.com,
        sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 12 Nov 2001 18:22:28 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Monday, November 12, 2001 6:08 PM
> To: jdrosen@dynamicsoft.com; shanlu@sentito.com; sip@ietf.org
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> 
> >> No matter what has been said about PSTN, the simple fact 
> is the phone
> >> doesn't ring if the caller hangs up quickly. Try it for 
> yourself.  If
> >> you can not conclude one way or the other because the PSTN 
> setup time
> >> tends to be very short and leaves little room for user to 
> >> "change mind",
> >> then make a call between your desktop phone and cell 
> phone. There you
> >> have around one second to hang up before the phone starts to 
> >> ring.
> >
> >You are introducing an expectation which won't be met even 
> in the perfect
> >case where CANCEL doesn't beat INVITE. Lets say I send an 
> INVITE, and its
> >not lost, and then I hangup. The INVITE will beat the CANCEL 
> to the UAS
> >under ideal cases, and therefore the UAS will ring, if not briefly. 
> >
> >If, instead, the CANCEL is lost, the phone will also ring 
> briefly, until
> the
> >CANCEL is resent (500ms).
> >
> >How would you propose we deal with those two? Should a phone 
> not ring on
> >INVITE, in case the user sent a CANCEL? Rather, it should 
> wait a second? 
> >
> 
> 
> I would also like to point out that you might be dealing with 
> inter-digit
> timers in your test calls, where the originating PBX or CLASS 
> 5 switch is
> waiting for additional digits before launching the call.  
> Thus, hanging up
> before an inter-digit timer expires results in no call being 
> forwarded from
> a PBX or CLASS 5 switch.
> 
> Anyone that hangs up after making a call is taking a chance 
> the phone on the
> other end will briefly ring.  Under ideal conditions, this 
> ring may be so
> brief as to not even allow the ring to be heard.  We can't 
> design around
> this type of potential human behavior in the protocol.  The 
> possibilities
> might be endless, and we need to strive to Keep It Simple.
> 
> It seems to me this issue has been debated enough.  There is 
> no concensus
> that it needs to be dealt with in the protocol.  Please let 
> this thread die.

By "no consensus that it needs to be dealt with in the protocol" - do you
mean that we should ditch the current text on waiting for 1xx before sending
CANCEL? I think that this is still required otherwise the phones will never
stop ringing, and thats bad...

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 12 19:05:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA24287
	for <sip-archive@odin.ietf.org>; Mon, 12 Nov 2001 19:05:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id TAA22142
	for sip-archive@odin.ietf.org; Mon, 12 Nov 2001 19:05:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21324;
	Mon, 12 Nov 2001 18:34:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA21295
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 18:34:22 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA23172
	for <sip@ietf.org>; Mon, 12 Nov 2001 18:34:18 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id XAA15712;
	Mon, 12 Nov 2001 23:34:21 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id XAA22471;
	Mon, 12 Nov 2001 23:34:20 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPR4ZZX>; Mon, 12 Nov 2001 16:34:19 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B36FFC@n0214idc1.oss.level3.com>
To: jdrosen@dynamicsoft.com
Cc: shanlu@sentito.com, sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 12 Nov 2001 16:34:18 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


>By "no consensus that it needs to be dealt with in the protocol" - do you
>mean that we should ditch the current text on waiting for 1xx before
sending
>CANCEL? I think that this is still required otherwise the phones will never
>stop ringing, and thats bad...

Sorry I wasn't clear.  I fully support the bis-05 change here waiting for
1xx before sending CANCEL.  That fixes an important problem.  I meant no one
else appears concerned with the issue of abandoned calls always ringing the
phone (though briefly).  This is a side affect of the fix introduced, and
the concensus seems to be this is acceptable given the potential human
behaviour to change your mind and abandon a call.  The side affect is far
more acceptable than the ring forever problem being corrected with the
bis-05 fix.

John Hearty
Level3

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 00:18:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA01313
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 00:18:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA26931
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 00:18:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA26247;
	Mon, 12 Nov 2001 23:42:30 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA26162
	for <sip@optimus.ietf.org>; Mon, 12 Nov 2001 23:42:25 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA00837
	for <sip@ietf.org>; Mon, 12 Nov 2001 23:42:21 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP id 4BE301E00D
	for <sip@ietf.org>; Mon, 12 Nov 2001 23:42:03 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id XAA20447
	for <sip@ietf.org>; Mon, 12 Nov 2001 23:42:02 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id XAA22104
	for sip@ietf.org; Mon, 12 Nov 2001 23:42:50 -0500 (EST)
Date: Mon, 12 Nov 2001 23:42:50 -0500 (EST)
Message-Id: <200111130442.XAA22104@fish.research.att.com>
To: sip@ietf.org
Subject: [Sip] Summary of Last Call comments on draft-ietf-sip-manyfolks-resource-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

The period for last call comments on the "manyfolks" draft has now passed,
so I am posting a summary of the comments/discussion and resolution of the
issues raised.  (While this is quite lengthy, I shudder to think of the
corresponding email regarding 2543bis.)

A new version of the draft will be submitted shortly.

============================================================================
Comments sent to sip@ietf.org prior to August 28 were incorporated
into version -02 of the I-D.  Those changes included the NITS
review and the LC review by Shriram Natarajan.  Those comments, and
my responses, were:

Spelling:
---------
- Figure 1. The caption should be "Basic Call Flow" instead of "FLow"
- Full Copyright Statement: "implmentation" should be "implementation"

WTM:  both fixed.

Consistency:
------------
- In some places (3. Introduction) the term "codecs" is used; in other
places (3.1 Requirements) the term is written capitalised "CODECS". The term
can be used consistently. 

WTM:  change to consistently be lower case.

Readability:
------------
- No page numbers. No content page.

WTM:  Added a Table of Contents.  Page numbers appear in my MSWord
source file, but got dropped somewhere in converting to raw text,
along with the rest of the page footer.  I think it is a Win95 bug
with the generic text printer.  I'll use WinNT for next version.

More Specification:
-------------------
- 5.3 Message Body Inclusion. Maybe the content type can also be specified
to be application/SDP only.

WTM:  added.

Option Tag Name:
----------------
- (Pardon the newbie question) where do I confirm that the tag
"precondition" has been allocated for the exclusive use of implementations
based on this draft?

WTM:  This is tied in with the Supported header, which establishes the
IANA registration for option tags.  Unfortunately we depend on that
draft, and can't easily drop the linkage.  Our tag value is included
in the initial IANA data.

References:
-----------
- Hard references are made to 100Rel and Supported headers. The respective
RFCs are still pending. Is that all right? Are those drafts going to
IESG/RFC Editor at the same time frame with the same probability of success
as this?

WTM:  Unfortunately we depend on both of these, and can't easily drop
the normative references.  (Or, more accurately, we depend on 100rel,
which depends on Supported).  These drafts have been the the IESG queue
for quite some time, and hopefully will get moved out soon.


============================================================================
Last Call Review by James Undery included the following comments:

NITS (Doing LC so I didn't really check)
====

The table numbering is messed up there are two tables 3 and 4.
Table 4 Summary of header fields, P-Z, not in alphabetical order ;-)
Section 16 is vague to the point of uselessness as no IPR statements on the
IETF page refer directly to this draft.

WTM: Table numbering is fixed.  Table 4 alphabetized.  IPR statement has 
been sent to IESG and is available on the web page.  Section 16 is the
proscribed text from RFC2026, though I agree with the comment.

LC Review
=========

Generally, I believe this draft uses functionality only working in the bis
drafts, large portions repeat the base spec (sometimes inaccurately),
however, nothing is a major problem and with these corrections I'd be happy
with the draft.

WTM:  The intention is that this draft be an extension of RFC2543, and not bis.
Therefore, several sections of bis are repeated (but just those portions 
that are needed for this mechanism).  The hope is that nothing will
directly conflict with bis, when it becomes an RFC.  I believe that
is true except for the prohibited use of Record-Route from the provisional
response (noted below, and which will be fixed).


Section 3
=========

"QoS Assured" vs "QoS Enabled"
------------------------------

QoS Assured, how can this be backwardly compatible, if the UAC goes straight
to ringing this will fail. I am not sure if this draft can guarantee QoS
Assured sessions and backwards compatibility. (Unless Requires header is
used, but this isn't explicitly stated, and then the call will fail)

WTM: The draft defines an option value for the Requires header (section 10).
Agreed it is not possible to be QoS Assured and backwards compatible.
The tag is optional to quickly recover from a UAS that does not support
preconditions (by letting the session proceed without them).  If that is
not the desired recovery, then the option tag would be used in the request.
I've added text to section 10 to make this point clearer.

Section 5.1
===========

Really a NIT, but I'd remove the i,u and e values for clarity of the example
SDP

WTM: done.

Section 6
=========

Record-Route issues
-------------------

Firstly Record-Route is broken in rfc2543, so I'll base comments on the bis
version.

"If the initial request contained Record-Route headers, the provisional
response MUST contain a copy of these headers...", The MUST conflicts with
the SHOULD in section 16.2 of bis04 and some of the text later on in the
section.

WTM: It is intended that this draft make this a MUST, while the base spec is
only a SHOULD.  The Route header is needed for the COMET (just as for
the PRACK).  I believe this is valid for the manyfolks extension to
strengthen the requirement language of the base spec.  

WTM: Inclusion of the Route header in the COMET is more of a problem.  The
current text says it MUST be placed in the COMET, and MUST NOT be placed 
in any other request.  I'm removing the MUST NOT line to not conflict with 
bis.  However, it is true that this "MUST be placed in the COMET" directly 
conflicts with the "MUST NOT be placed in any other request" in 100rel,
and therefore should be taken to override 100rel as well.

WTM: This comment also applies to 100rel, since that is the source
of the text I lifted for manyfolks.  I'll fix the wording in manyfolks
to be compatible with the bis definition.



Retransmission Strategy
-----------------------

This differs (unintentionally ?) from the retransmission strategy of
non-INVITEs. Why not just reference standard retransmission? (Requests are
retransmitted every T2 seconds after a provisional response has been
received, until 11 messages have been sent or a final response is received.)

WTM:  wording changed to make reference to the base spec, instead of
unintentionally inaccurately restating the spec.

Section 6.1
===========

Content-Length should be "m*"

WTM: 2543 didn't define "m*" for this table, and has Content-Length marked
as optional.  I'd agree that based on bis it should be "m*", but based
on 2543 it should be kept as "o".

Hide is depreciated

The following are missing

Authentication-Info
Alert-Info
Call-Info
Content-Disposition
Content-Language
In-Reply-To
MIME-version
Supported

WTM:  since manyfolks is an extension to 2543, these headers are not yet
defined.  Again I'd agree that based on bis they should be in the table,
but based on 2543 they should not be.


Sections 7 & 8
==============

The section numbers are wrong for the bis. The whole section would be
better, not trying to be errata to the SIP spec.

WTM:  The section numbers match 2543.

Section 9
=========

Content-Disposition is in the bis.

WTM:  but not in 2543 and needed for this feature.  Therefore duplicated
here.  Hopefully this will not conflict with the final text in bis.

===========================================================================
Last Call Review from Crister Holmberg made the following points:

Chapter 6 says:
===============

"The Route header that is constructed from some provisional response
MUST NOT be placed in any other request except for the COMET for that
provisional response".

I guess that is wrong, since we now have other pre-call requests, ie
INFO and BYE.

WTM:  This is essentially the same comment as above.  See section 6
comment from James Undery for common resolution.

Chapter 12.1.
=============

The text says that the 180 Ringing provisional response is also sent
using the reliability mechanism, ie PRACK. 

First, I would like to have it as a MUST/SHOULD/MAY/whatever - just to
clarify.

Second, it if is a MUST I would like to know why. I DO understand why
the 183 needs PRACK in this scenario, but why the 180?

WTM: Chapter 11 contains all the SIP usage rules, and contains all
the MUST/SHOULD/MAY/whatevers.  There is nothing in there about
using reliable provisional response for the 180 Ringing.
You are right there is no reason why it needs to.

WTM:  Chapter 12 is a set of examples; the example does use 100rel
for the 180.  So I think the current wording in section 12,
that "the 180-Ringing provisional response ... is also sent
using the reliability mechanism..." matches the figure and
intentionally contains no spec language.


Chapter 13.
===========

First, since it has been decided that forking WILL be a part of the
spec, I think that the idea of having a chapter like this in the draft
is very good (more on that in another thread).

Anyway, since we now do support the sending of BYE for a specific call
leg, using the tag, before the call is established, I think it could be
added to this chapter. Ie would not be mandatory to do multiple resource
reservation.

WTM:  These mechanisms are available only in 2543bis.  Wording will be
added to chapter 13 indicating such mechanisms may be used, if available.

==========================================================================
List open discussion made the following points.  In most cases, I have
tried to summarize the rather lengthy chain of emails.


jundery@ubiquity.net wrote:
> > There is an issue here with document dependencies, and I really
> > don't want manyfolks to have a dependency on bis...
> 
> As I said in my last call comment I believe it does, because it
> mentions Record Route which never worked (or was even implemented
> properly) to my knowledge.
my response to the list:
> It is certainly true that any working SIP implementation
> needs to follow the revised rules for Record-Route given
> in bis.  However, the headers are defined in 2543 and
> (somewhat incomplete and/or incorrect) rules for their
> use are given in 2543.  My intent in the manyfolks draft
> is to not contradict any of the new bis procedures, and
> to specify the minimum of corrections to 2543 procedures.
> 
> In this way any implementation true to 2543, when extended
> with the manyfolks-resource procedures, will work as well
> as it did before, and do resource reservation too.
> 
> An implementation that is tracking 2543bis, when extended
> with the manyfolks-resource procecures, will not have to
> deal with any conflicting MUSTs.  And it will work.
> 
> I certainly recognize this is a compromise position, and wish
> the timing had worked out better.  However, the end state
> of bis+manyfolks is a complete and correct specification.


Miguel.A.Garcia@ericsson.com wrote:
> The 2543bis says clearly that the 200 OK for an INVITE must
> contain SDP. SDP is present in INVITE and 200 OK or in 200
> OK and ACK, but always in 200 OK.
>
> However, if preconditions are used (manyfolks), the SDP is
> already known by both parties before the 200 OK, usually in
> INVITE and 183. As such, one may think if the SDP is still
> needed in 200 OK for the INVITE when preconditions are used.
>
my response to the list:
> ... But in the end, I believe the following is the resulting set of
> MUSTs and options for SDP with manyfolks+bis:
>
> case 1:	SDP in INVITE
> 		SDP in 183
> 		optional SDP in PRACK
> 		SDP in COMET (if COMET is requested)
> 		SDP in 200
>
> case 2:	SDP in 183
> 		SDP in PRACK
> 		SDP in COMET (if COMET is requested)
> 		SDP in 200
> 		SDP in ACK
>
> The need for the SDP in case#1 in the 200-OK was discussed on the
> last earlier this year, and concluded to keep it.  Though the
> SDP in 200/ACK in case#2 wasn't discussed, the reasoning seems
> the same - uniformity with cases that don't use manyfolks.


christer.holmberg@lmf.ericsson.se
> In another thread it has been mentioned that the manyfolks draft should
> not be "bis dependent", and the rules for Record-Routing was given as
> one example.
> 
> I don't know how important it is, but there are others too. For example,
> manyfolks says that one may CANCEL a COMET, but I think the current
> status is that we won't allow that, right?
> 
> Also, it says that one can terminate a call leg using CANCEL, but that
> doesn't take forking environments into account, where we have decided
> that BYE must be used (if we don't want to terminate the WHOLE call
> setup, that is).

The wording of these statements will be changed to utilize the mechanisms
available in the existing SIP specification, thus avoiding the bis vs. 2543
differences.


(a long exchange involving Miguel.Garcia@ericsson.com and jh@lohi.eng.song.fi)
Miguel A. Garcia writes:
> What IETF has to do is to publish standards that are general enough to
> have enough support. In this case, the manyfolks draft is already in
> use by PacketCable networks, and planned to by used by 3GPP networks.
> I think this is enough support to publish this standard.
Juha Heinanen wrote:
> i didn't say that you should not publish it, but that it currently lacks
> an applicability statement and evaluation of its effects on call setup
> delay and network resource utilization.
Miguel A. Garcia writes:
> This sounds like another internet draft on the applicability statement 
> of the manyfolks draft. *If* such a document is needed, I would like to 
> have it separated from the manyfolks standards track document.
jh@lohi.eng.song.fi wrote:
> may be i missed it, but the i-d should also try to analyze if the
> mechanism will scale if every phone call in the world would use it and
> how much additional delay will be introduced by it to the call setup
> process.

All of the content needed for such a section is already contained in
the introductory and overview sections of the I-D.  I see no reason
to duplicate it (the draft is already long enough), or to generate 
another I-D and increase the workload on all of us.

Miguel.A.Garcia@ericsson.com wrote:
> Manyfolks should clearly state that the SDP returned in the 200 OK for the 
> INVITE MUST NOT be used to change the "agreed" SDP negotiated in the INVITE,
> 183 (and PRACK) process. The SDP in the 200 OK MUST be sent to allow backward
> compatibility of middle proxies, but not to change the SDP itself.

Agreed.  The same principle holds for the SDP contained in the COMET, and the
SDP contained in the ACK (if necessary).

jh@lohi.eng.song.fi and henry.sinnreich@wcom.com said:
> ... the idea of 
> interleaving an end-to-end resource reservation mechanism 
> with sip signaling sounds an overkill that will introduce 
> lots of new complexity, delay, and processing in the network 
> devices to the call setup process.  ...
> ... for the more general interdomain model we showed call flows 
> with SIP and RSVP with up to 40+ messages, too complex.

No question that the integration of resource reservation and SIP is
complex.  The initial dcsgroup proposal of a two-stage invite was far
more optimized, especially for the proxies; but that wasn't the agreed
direction for this work.  No change to the draft.

henry.sinnreich@wcom.com said:
> ... in an emergency, making QoS a precondition makes no sense anyway IMHO.

And, what good is it to tie up an operator at the Emergency Services
Center with no resources for an RTP stream?  Even more important in
those cases, IMHO.  If the tool is available, the carrier can decide.
No change to the draft.

Finally, wtm@research.att.com said:
> in section 11.3 (Behavior of Destination) 7th paragraph states
>  "When procesing of all preconditions is complete, if a precondition
>   in the initial INVITE specified a confirmation request, the UAS MUST
>   send a COMET message to the UAC ..."
> 
> This should be changed to "a precondition in the SDP specified ..."
> in order to cover both the offer SDP contained in the initial INVITE
> and (when an offer SDP was sent by the UAS in the 183) the answer SDP 
> contained in the PRACK.

I obviously agree with that change.


============================================================================
Remaining open issue.

The issue of bis dependency has been complicated by the decision to 
incorporate 100rel and serverfeatures into bis-06.  If there is no longer 
an RFC defining PRACK, and defining the Supported header, then manyfolks 
will be forced to reference bis and sit in the RFC editor's queue until 
that draft goes through last call and IESG review.

This is a non-technical issue for the chairs and ADs to decide, based on the 
needs expressed by 3GPP and ITU-SG9 for timely publication of RFCs.

Bill Marshall
wtm@research.att.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 11:35:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA03365
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 11:35:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA18446
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 11:35:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA17896;
	Tue, 13 Nov 2001 11:19:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA17863
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 11:19:26 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA02361
	for <sip@ietf.org>; Tue, 13 Nov 2001 11:19:23 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP id 09B4C1E06A
	for <sip@ietf.org>; Tue, 13 Nov 2001 11:19:26 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id LAA28112;
	Tue, 13 Nov 2001 11:19:22 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id LAA31218;
	Tue, 13 Nov 2001 11:20:01 -0500 (EST)
Date: Tue, 13 Nov 2001 11:20:01 -0500 (EST)
Message-Id: <200111131620.LAA31218@fish.research.att.com>
To: sip@ietf.org
Subject: [Sip] bis-05 compact form vs. short form
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

two small nits for bis-05.

the terms "compact form" and "short form" seem to be used
interchangeably.  It would be nicer to stick to one, which
makes searches easier.

Secondly, draft-ietf-sip-serverfeatures-05 defined a compact
form for the "Supported" header, "k".  That was not kept in 
bis-05.  Intentionally?


These were discovered in checking the availability of "r" and "b"
which are claimed in draft-ietf-sip-refer-00.  As I mentioned
in that review, I believe some criterion other than chronologic
needs to be applied in the allocation of compact forms to extension 
headers, as is currently described in draft-ietf-sip-extensions-00.

Bill Marshall
wtm@research.att.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 11:37:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA03529
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 11:37:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA18472
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 11:37:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA17769;
	Tue, 13 Nov 2001 11:14:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA17739
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 11:14:48 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA02047
	for <sip@ietf.org>; Tue, 13 Nov 2001 11:14:45 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP id 00DEC1E008
	for <sip@ietf.org>; Tue, 13 Nov 2001 10:49:16 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id KAA27601
	for <sip@ietf.org>; Tue, 13 Nov 2001 10:49:14 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id KAA46583
	for sip@ietf.org; Tue, 13 Nov 2001 10:50:04 -0500 (EST)
Date: Tue, 13 Nov 2001 10:50:04 -0500 (EST)
Message-Id: <200111131550.KAA46583@fish.research.att.com>
To: sip@ietf.org
Subject: [Sip] review of draft-ietf-sip-refer-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Following are comments from a careful reading of draft-ietf-sip-refer-02.
All but the last two (or three) items qualify as nits.

Section 1, second sentence, "This SIP SIP [1] extension" change to
"This SIP [1] extension"

Section 2 should be dropped before passing on to IESG.

Section 3, last sentence of first paragraph, "A success response
indicates that the recipient was able to contact the third party." is
no longer accurate, and should be re-worded to indicate the only that
the recipient understands what is being asked.

Section 3.1 depends on RFC2396 to include the "?hdr=value" tag values
of the URL.  Perhaps a ref to RFC2396 is appropriate.

Section heading for 3.1.1 should be removed, since there is no 3.1.2.

Section 3.1.1, third example, "Replaces:12345" should be "Replaces=12345"

Section heading for 3.2.1 should be removed, since there is no 3.2.2.

Section 3.5.1 should add some text describing the handling of
"to-tag" and "from-tag" (as shown in one of the examples in 3.1.1).
Without any special exception handling, they would turn into SIP
headers "to-tag: ..." and "from-tag: ...".  

Note that the above exception handling also means that SIP header names
of "to-tag" and "from-tag" should be reserved.  Another entry for IANA.

A general structural suggestion to the document.  When REFER was one
part of a larger draft, it made sense to have everything relating to
REFER inside one section (section 3 in this draft).  Since the entire
draft deals with REFER, this should not still be the case.  I recommend
promoting section 3.8 (Examples) to section 4, and 3.9 (Security 
considerations) to section 5

Section 3.9, fourth paragraph.  The security considerations section
SHOULD NOT contain normative language; the second sentence of this
paragraph should be moved to section 3.5.

Section 5. In addition to the IANA items already listed, this I-D
also defines an Event package name "refer" and a message body type
of "message/sipfrag".

The purpose of an "IANA Considerations" section (chairs, please confirm)
is to establish a new registry.  The text in section 5 merely lists
items that IANA should add to existing registries; this should be
done by the author (or WG chairs) before finalizing the document.
Therefore section 5, as it exists in this I-D, should be deleted
in the final version.

And also a couple of substantive discussion issues to raise with this 
draft; so consider the remainder some early last-call comments.

(1) Dependencies.  This draft makes a normative reference to 
draft-ietf-sip-events-00.  While I sincerely hope sip-events
is stable, the refer draft should probably not be sent to IESG
until events has completed its last call, just in case sip-events is
not as stable as I hope, and there are changes that affect REFER.

(2) compact form of headers.
Refer-To and Refer-By do not seem to be such "high-runners" of SIP
headers to deserve compact forms.  I doubt they will occur more often
than headers such as "Route", "Record-Route" and "Supported" which do
not have compact forms.  Draft-ietf-sip-guidelines seems to suggest
the first 17 (26 minus the 9 compact forms defined in bis-05) new headers
defined in extension drafts should use them up.  A better guideline
is needed.

(3) security
The security section is correct in the second paragraph that anyone
can issue a request claiming that they were referred to that resource
by an arbitrary third party.  I think the refer draft should get the 
level of security at least as high as general SIP, so that the final UAS
can reasonably restrict access to itself.

Has 3GPP accepted REFER as the way to implement call transfer?  Security 
was a huge consideration when my proposal to use REFER in 3G was initially 
rejected last May.  My suspicion is that without a "reasonable" security 
mechanism (like comparable to HTTP digest authentication, a sufficiently
low threshold to meet), no service provider will allow REFER.  

While a mechanism to protect header integrity is sorely needed in SIP,
I don't believe it will solve the problems of REFER.  The UAS would
want to authenticate the referrer (UA that initiated the REFER), not just
the UA that initiated the refer-requested INVITE.

Consider the following as a strawman proposal:

  Agent A                Agent B                 Agent C
     |                      |                      |
     |---REFER------------->|                      |
     |<--202 Accepted-------|                      |
     |                      |---INVITE------------>|
     |                      |<--4xx Ref Auth-(*1)--|
     |<--NOTIFY (w/4xx)-----|---ACK--------------->|
     |---200 OK------------>|                      |
     |                      |                      |
     |---REFER-(w/Auth,*2)->|                      |
     |<--202 Accepted-------|                      |
     |                      |---INVITE-(w/Auth)--->|
     |                      |<--200 OK-------------|
     |<--NOTIFY (w/200)-----|---ACK--------------->|
     |---200 OK------------>|                      |
     |                      |                      |

Agent C, (*1) responds to the INVITE with a Referred-By header by a new 4xx
response code, requesting authentication by the Referred-By-entity.
Agent C provides a challenge.  This information is passed back to Agent
A in the NOTIFY; more than just the 4xx response code is in this
message/sipfrag.

Agent A then re-issues the REFER with the proper authentication (*2)
response.  This authentication information is included in the INVITE
sent by Agent B to Agent C, who then accepts the request.

Can this use the existing "Authentication-Info" and "Authorization" headers?
If so, how does Agent B know whether to answer the authorization request,
or pass it back to Agent A?  A new 4xx response code could help, but what
if Agent C also wanted to authenticate Agent B?  Perhaps new headers 
are required for this. If so, they would seem to be REFER-specific, and 
should be included in this draft instead of in a general security 
principles and procedures document.

Bill Marshall
wtm@research.att.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 14:07:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA12855
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 14:07:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA23293
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 14:07:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21767;
	Tue, 13 Nov 2001 13:29:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21737
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 13:29:28 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10744
	for <sip@ietf.org>; Tue, 13 Nov 2001 13:29:25 -0500 (EST)
Received: from zcars04e.ca.nortel.com (zcars04e.ca.nortel.com [47.129.242.56])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fADISIS12607
	for <sip@ietf.org>; Tue, 13 Nov 2001 13:28:18 -0500 (EST)
Received: from zcard015.ca.nortel.com (actually zcard015) 
          by zcars04e.ca.nortel.com; Tue, 13 Nov 2001 13:28:40 -0500
Received: by zcard015.ca.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <W3291V38>; Tue, 13 Nov 2001 13:27:51 -0500
Message-ID: <4D79C746863DD51197690002A52CDA00274B19@zcard0kc.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: "'Jean-Francois Mule'" <jfmule@yahoo.com>
Cc: sip@ietf.org, klingle@cisco.com, jmaeng@ipdialog.com, drwalker@ss8.com
Date: Tue, 13 Nov 2001 13:27:50 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C16C70.E66A7D00"
X-Orig: <taylor@americasm01.nt.com>
Subject: [Sip] RE: Review of draft-ietf-sip-mib-03.txt Part 1
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C16C70.E66A7D00
Content-Type: text/plain;
	charset="iso-8859-1"

Sorry to take so long to answer this.  I've just come off a particularly
grueling road trip.

I've deleted the parts where I have no further issue.

-----Original Message-----
From: Jean-Francois Mule [mailto:jfmule@yahoo.com]
Sent: Wednesday, October 24, 2001 3:38 PM
Cc: sip@ietf.org; klingle@cisco.com; jmaeng@ipdialog.com;
jfmule@yahoo.com; drwalker@ss8.com
Subject: Re: Review of draft-ietf-sip-mib-03.txt Part 1


Tom,

This email summarizes our responses to Tom Taylor's comments Part 1 
received on 10/01/2001. Please review & comment as we need more 
clarifications on some of the comments you submitted.

Thank you for your comments on ietf-sip-mib-draft03.
Jean-Francois.

 > -----Original Message-----
 > From: Tom-PT Taylor [mailto:taylor@nortelnetworks.com]
 > Sent: Monday, October 01, 2001 10:46 AM
 [snip]


 > General comment: should it be possible to retrieve on a
 > read-only basis
 > the capabilities of  the SIP entity as expressed in the Allow,
 > Supported, and Accept headers respectively?  Supported has its
 > equivalent in the sipFtrSupportedTable, but the other items also need
 > definition.

More clarification is requested.
1. do you suggest to add a table reflecting the headers an implementation
supports?
2. do you suggest to add another object in that table that
give more details per header of what capabilties are there?
=> any comments from the group on that topic?  useful, not useful...

[PTT] My basic intent was that it be possible to retrieve through the MIB
the same information that would be presented in each of these headers.


 > Might want a read-write object corresponding to Accept-Language.
RFC2543 section 6.9, uses a string to indicate preference for language.  Are
you asking for an additional object of type string to configure this?
(=> Kevin, to insert sip common config table upon confirmation)

[PTT] Yes, that's what I intended.

[snip]

 > sipCommonCfgTimerxxx: Do we really need timer settings per
 > method?  The
 > RFC 2543bis description of behaviour distinguishes between two
 > transmission timing situations: regular requests (not INVITE
 > or ACK) vs.
 > INVITE.  For the former we actually need two timer settings: for the
 > initial value T1 and the upper bound T2.  For INVITE we need just T1,
 > which could differ from the T1 for other methods.  We also,
 > absolutely,
 > need the application-level timer defined as sipCfgTimerProv.
based on your second email, issues resolved or moot.

[PTT] Actually, as soon as I sent that E-mail, I came to Kevin's note
raising the same question.  I still wonder whether retransmission timers
need to be configured per method or just on the simpler basis suggested by
the RFC.

 > sipCfgRetryxxx: are these meant to control the number of times a
 > transaction of the given type will be reinitiated when the previous
 > attempt has met with 4xx or 5xx failure or has died due to
 > reaching the
 > retransmission limit?  This would be like the automatic
 > retries done by
 > a FAX machine, but I suspect it wouldn't be generally useful -- better
 > to rely on user reinitiation except perhaps for REGISTER requests.  Or
 > do they set the maximum number of retransmissions?  The latter control
 > is not needed: the maximum number of retransmissions is set
 > unequivocally by the RFC.
based on your second email, issues resolved or moot.

[PTT] Are you sure?

[snip]


 > Nits and editorial
 > ==================
 > Need an IANA Considerations section.
What do you mean exactly?
Do you mean we need to add a generic IANA consideration
section about the oid registration for e.g.
Do you have any specific items in mind like for example the
applName values for sip entities? any other object
values??? ... just want to make sure we get the full comment
here.

[PTT] I was speaking from a generic point of view.  Looking through the SMI
registrations, I note that you need to register the MIB names, so that
should be mentioned.  Beyond that I don't see anything at the moment which
isn't registered by other means.

 > General: capitalize MUST, SHOULD, SHOULD NOT, MAY.
yes.  Updated front/backmatter sections - jfm, done.
question: do you mean inside the mib too?
=> kevin

[PTT] Yes, I would think it applies to the comments inside the MIB.  Maybe
this isn't the practice?

[snip]

 > Section 5.2:
 > -----------
 > sipCommonMIB DESCRIPTION: don't repeat the definitions of the
 > different
 > entities -- just refer back to the 2543 definitions section.
we (Kevin and jean-francois) disagree. It is good to have them right in the 
mib for nm
admins and it is not that long.

[PTT] Just make sure that your definitions agree with the original
documentation, then.  I wasn't sure they did, but I didn't check.

[snip]

------_=_NextPart_001_01C16C70.E66A7D00
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: Review of draft-ietf-sip-mib-03.txt Part 1</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Sorry to take so long to answer this.&nbsp; I've just =
come off a particularly grueling road trip.</FONT>
</P>

<P><FONT SIZE=3D2>I've deleted the parts where I have no further =
issue.</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Jean-Francois Mule [<A =
HREF=3D"mailto:jfmule@yahoo.com">mailto:jfmule@yahoo.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Wednesday, October 24, 2001 3:38 PM</FONT>
<BR><FONT SIZE=3D2>Cc: sip@ietf.org; klingle@cisco.com; =
jmaeng@ipdialog.com;</FONT>
<BR><FONT SIZE=3D2>jfmule@yahoo.com; drwalker@ss8.com</FONT>
<BR><FONT SIZE=3D2>Subject: Re: Review of draft-ietf-sip-mib-03.txt =
Part 1</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Tom,</FONT>
</P>

<P><FONT SIZE=3D2>This email summarizes our responses to Tom Taylor's =
comments Part 1 </FONT>
<BR><FONT SIZE=3D2>received on 10/01/2001. Please review &amp; comment =
as we need more </FONT>
<BR><FONT SIZE=3D2>clarifications on some of the comments you =
submitted.</FONT>
</P>

<P><FONT SIZE=3D2>Thank you for your comments on =
ietf-sip-mib-draft03.</FONT>
<BR><FONT SIZE=3D2>Jean-Francois.</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&gt; -----Original Message-----</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; From: Tom-PT Taylor [<A =
HREF=3D"mailto:taylor@nortelnetworks.com">mailto:taylor@nortelnetworks.c=
om</A>]</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Sent: Monday, October 01, 2001 10:46 =
AM</FONT>
<BR><FONT SIZE=3D2>&nbsp;[snip]</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&nbsp;&gt; General comment: should it be possible to =
retrieve on a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; read-only basis</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; the capabilities of&nbsp; the SIP entity =
as expressed in the Allow,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Supported, and Accept headers =
respectively?&nbsp; Supported has its</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; equivalent in the sipFtrSupportedTable, =
but the other items also need</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; definition.</FONT>
</P>

<P><FONT SIZE=3D2>More clarification is requested.</FONT>
<BR><FONT SIZE=3D2>1. do you suggest to add a table reflecting the =
headers an implementation</FONT>
<BR><FONT SIZE=3D2>supports?</FONT>
<BR><FONT SIZE=3D2>2. do you suggest to add another object in that =
table that</FONT>
<BR><FONT SIZE=3D2>give more details per header of what capabilties are =
there?</FONT>
<BR><FONT SIZE=3D2>=3D&gt; any comments from the group on that =
topic?&nbsp; useful, not useful...</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] My basic intent was that it be possible to =
retrieve through the MIB the same information that would be presented =
in each of these headers.</FONT></P>
<BR>

<P><FONT SIZE=3D2>&nbsp;&gt; Might want a read-write object =
corresponding to Accept-Language.</FONT>
<BR><FONT SIZE=3D2>RFC2543 section 6.9, uses a string to indicate =
preference for language.&nbsp; Are</FONT>
<BR><FONT SIZE=3D2>you asking for an additional object of type string =
to configure this?</FONT>
<BR><FONT SIZE=3D2>(=3D&gt; Kevin, to insert sip common config table =
upon confirmation)</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] Yes, that's what I intended.</FONT>
</P>

<P><FONT SIZE=3D2>[snip]</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&gt; sipCommonCfgTimerxxx: Do we really need =
timer settings per</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; method?&nbsp; The</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; RFC 2543bis description of behaviour =
distinguishes between two</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; transmission timing situations: regular =
requests (not INVITE</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; or ACK) vs.</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; INVITE.&nbsp; For the former we actually =
need two timer settings: for the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; initial value T1 and the upper bound =
T2.&nbsp; For INVITE we need just T1,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; which could differ from the T1 for other =
methods.&nbsp; We also,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; absolutely,</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; need the application-level timer defined =
as sipCfgTimerProv.</FONT>
<BR><FONT SIZE=3D2>based on your second email, issues resolved or =
moot.</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] Actually, as soon as I sent that E-mail, I came =
to Kevin's note raising the same question.&nbsp; I still wonder whether =
retransmission timers need to be configured per method or just on the =
simpler basis suggested by the RFC.</FONT></P>

<P><FONT SIZE=3D2>&nbsp;&gt; sipCfgRetryxxx: are these meant to control =
the number of times a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; transaction of the given type will be =
reinitiated when the previous</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; attempt has met with 4xx or 5xx failure =
or has died due to</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; reaching the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; retransmission limit?&nbsp; This would be =
like the automatic</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; retries done by</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; a FAX machine, but I suspect it wouldn't =
be generally useful -- better</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; to rely on user reinitiation except =
perhaps for REGISTER requests.&nbsp; Or</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; do they set the maximum number of =
retransmissions?&nbsp; The latter control</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; is not needed: the maximum number of =
retransmissions is set</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; unequivocally by the RFC.</FONT>
<BR><FONT SIZE=3D2>based on your second email, issues resolved or =
moot.</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] Are you sure?</FONT>
</P>

<P><FONT SIZE=3D2>[snip]</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>&nbsp;&gt; Nits and editorial</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; Need an IANA Considerations =
section.</FONT>
<BR><FONT SIZE=3D2>What do you mean exactly?</FONT>
<BR><FONT SIZE=3D2>Do you mean we need to add a generic IANA =
consideration</FONT>
<BR><FONT SIZE=3D2>section about the oid registration for e.g.</FONT>
<BR><FONT SIZE=3D2>Do you have any specific items in mind like for =
example the</FONT>
<BR><FONT SIZE=3D2>applName values for sip entities? any other =
object</FONT>
<BR><FONT SIZE=3D2>values??? ... just want to make sure we get the full =
comment</FONT>
<BR><FONT SIZE=3D2>here.</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] I was speaking from a generic point of =
view.&nbsp; Looking through the SMI registrations, I note that you need =
to register the MIB names, so that should be mentioned.&nbsp; Beyond =
that I don't see anything at the moment which isn't registered by other =
means.</FONT></P>

<P><FONT SIZE=3D2>&nbsp;&gt; General: capitalize MUST, SHOULD, SHOULD =
NOT, MAY.</FONT>
<BR><FONT SIZE=3D2>yes.&nbsp; Updated front/backmatter sections - jfm, =
done.</FONT>
<BR><FONT SIZE=3D2>question: do you mean inside the mib too?</FONT>
<BR><FONT SIZE=3D2>=3D&gt; kevin</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] Yes, I would think it applies to the comments =
inside the MIB.&nbsp; Maybe this isn't the practice?</FONT>
</P>

<P><FONT SIZE=3D2>[snip]</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&gt; Section 5.2:</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; -----------</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; sipCommonMIB DESCRIPTION: don't repeat =
the definitions of the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; different</FONT>
<BR><FONT SIZE=3D2>&nbsp;&gt; entities -- just refer back to the 2543 =
definitions section.</FONT>
<BR><FONT SIZE=3D2>we (Kevin and jean-francois) disagree. It is good to =
have them right in the </FONT>
<BR><FONT SIZE=3D2>mib for nm</FONT>
<BR><FONT SIZE=3D2>admins and it is not that long.</FONT>
</P>

<P><FONT SIZE=3D2>[PTT] Just make sure that your definitions agree with =
the original documentation, then.&nbsp; I wasn't sure they did, but I di=
dn't check.</FONT></P>

<P><FONT SIZE=3D2>[snip]</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C16C70.E66A7D00--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 14:25:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA13827
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 14:25:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA23514
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 14:25:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA22724;
	Tue, 13 Nov 2001 13:53:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA22661
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 13:53:07 -0500 (EST)
Received: from smtp1.gtsgroup.com (smtp1.gtsgroup.com [195.158.230.16])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id NAA12210;
	Tue, 13 Nov 2001 13:53:04 -0500 (EST)
Received: from 207.77.231.73 by smtp1.gtsgroup.com (InterScan E-Mail VirusWall NT); Tue, 13 Nov 2001 19:52:35 +0100
Received: by brubhdpnt01.gtsgroup.com with Internet Mail Service (5.5.2653.19)
	id <WYX0CR6F>; Tue, 13 Nov 2001 19:52:34 +0100
Message-ID: <D52BF6463BA3D311BFA700508B63C5AA05109E06@brumsgpnt01.gtsgroup.com>
From: "Agboh, Charles" <Charles.Agboh@ebone.com>
To: sipping@ietf.org, "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 13 Nov 2001 19:52:33 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] DS-0 availability
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi all,

Is there a standard way for a SIP voice gateway to indicate DS-0
status/availability to a Proxy Server ?  

BR,
Charles Agboh - Senior IP Telephony Product Engineer
E b o n e
Terhulpsesteenweg 6A
1560 Hoeilaart-Belgium
fuhua.yin@ebone.com
Tel:  +32 2 658 4243
Fax: +32 2 658 5118
GSM: +32 495 5852 67
charles.agboh@ebone.com
www.ebone.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 15:36:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA15909
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 15:36:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA25180
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 15:36:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA24174;
	Tue, 13 Nov 2001 14:59:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA24146
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 14:59:54 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA14818
	for <sip@ietf.org>; Tue, 13 Nov 2001 14:59:51 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fADJxqF66585; Tue, 13 Nov 2001 14:59:53 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 13 Nov 2001 15:00:57 -0500
Message-ID: <000701c16c7d$e9a067c0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <17052388D394D411803900508BDFFAF601B36FFC@n0214idc1.oss.level3.com>
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Sorry I wasn't clear.  I fully support 
> the bis-05 change here waiting for
> 1xx before sending CANCEL.  That fixes an 
> important problem.  I meant no one
> else appears concerned with the issue of 
> abandoned calls always ringing the
> phone (though briefly).  This is a side 
> affect of the fix introduced, and
> the concensus seems to be this is acceptable 
> given the potential human behaviour to change 
> your mind and abandon a call.  The side 
> affect is far more acceptable than the ring 
> forever problem being corrected with the
> bis-05 fix.

The solution only partially fixes the ring 
forever problem.  It does not resolve the 
issue related to a UAC unable to deliver 
CANCEL because of network/proxy/UAC problems.
Is this an item left to the implementer for
resolution, or should a solution be 
presented within the bis or extension draft?
Solutions using Expires or periodic 100rel 
could be documented in the bis.

Bis-05 section 16.6 item 9 mentions that a 
forking proxy only CANCELs "pending" branches.
The bis should clearly state that the
forking proxy MUST continue to retry the
INVITE on the obsoleted branch.  Upon 
finally getting a provisional response, 
the proxy can send the CANCEL.  Text similar 
to the "acting as a user agent" stuff around 
lines 2447 should suffice.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 16:28:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA17558
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 16:28:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA26326
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 16:28:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25164;
	Tue, 13 Nov 2001 15:36:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25140
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 15:36:30 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA15901
	for <sip@ietf.org>; Tue, 13 Nov 2001 15:36:26 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fADKY0CJ016229;
	Tue, 13 Nov 2001 15:34:03 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C220LB>; Tue, 13 Nov 2001 15:35:20 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7A5@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'Shieh, Hugh'"
	 <hugh.shieh@attws.com>,
        "'Henning G. Schulzrinne'" <hgs@cs.columbia.edu>
Cc: "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Bis-5: TLS as secure transport for SIP
Date: Tue, 13 Nov 2001 15:35:17 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Wednesday, November 07, 2001 10:14 PM
> -----Original Message-----
> From: Shieh, Hugh [mailto:hugh.shieh@attws.com]
> Sent: Tuesday, November 06, 2001 2:29 AM
> >Would love to see Gonzalo's simulation result on call setup delay
> distribution. However, by 
> >recommending TLS/TCP, does that mean that the involved 
> proxies have to be
> stateful 
> >(according to line: 2013)? 
> 
> Funny you should mention it; I just logged a bug against this 
> one. Turns out
> that you don't need to be stateful if you are TLS/TCP in both 
> directions.
> This didn't used to be true because of the close coupling of 
> transactions
> with transport. With a clean separation now, you don't need 
> to maintain
> transaction state in order to maintain "transport state" - the set of
> persistent connections.

One part of the transaction state still exists - a proxy needs
enough information to forward responses down the connection 
associated with the transaction.

So, yes a proxy handling just TCP needs to be transaction stateful
given the tools we currently have at hand.

Now, there may be a way to push this bit of state into the
the messages (Jonathan has suggested received plus rport from
sip-nat). This would allow the proxy to only keep the connection
state listed above, searching through them for the right connection
to use when a response shows up.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 13 17:56:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA20477
	for <sip-archive@odin.ietf.org>; Tue, 13 Nov 2001 17:56:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA28742
	for sip-archive@odin.ietf.org; Tue, 13 Nov 2001 17:56:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA27977;
	Tue, 13 Nov 2001 17:27:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA27949
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 17:27:30 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19551
	for <sip@ietf.org>; Tue, 13 Nov 2001 17:27:27 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id WAA12891;
	Tue, 13 Nov 2001 22:27:28 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id WAA04083;
	Tue, 13 Nov 2001 22:27:20 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPRXCZ6>; Tue, 13 Nov 2001 15:27:19 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37000@n0214idc1.oss.level3.com>
To: brett@broadsoft.com, sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 13 Nov 2001 15:27:17 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Tuesday, November 13, 2001 1:01 PM
> To: sip@ietf.org
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> > Sorry I wasn't clear.  I fully support 
> > the bis-05 change here waiting for
> > 1xx before sending CANCEL.  That fixes an 
> > important problem.  I meant no one
> > else appears concerned with the issue of 
> > abandoned calls always ringing the
> > phone (though briefly).  This is a side 
> > affect of the fix introduced, and
> > the concensus seems to be this is acceptable 
> > given the potential human behaviour to change 
> > your mind and abandon a call.  The side 
> > affect is far more acceptable than the ring 
> > forever problem being corrected with the
> > bis-05 fix.
> 
> The solution only partially fixes the ring 
> forever problem.  It does not resolve the 
> issue related to a UAC unable to deliver 
> CANCEL because of network/proxy/UAC problems.
> Is this an item left to the implementer for
> resolution, or should a solution be 
> presented within the bis or extension draft?
> Solutions using Expires or periodic 100rel 
> could be documented in the bis.

 Good point.  The symptom is the same, but the cause differs and the fix
would differ.  This is certainly a scenario to consider, given the time it
may take for a final response to an Invite, increasing the chances of a
network or proxy problem arising during the transaction.  This seems like
something that should be added to the open issues for bis.

 Timer C would fire as discussed in 17.1.1.2 terminating the transaction at
a UAC (what the TU does when informed of the timeout is not specified -
CANCEL is what we are talking about).  A similar timer in the proceeding
state for the server transaction is not discussed in section 17.2.1 but is
needed, especially if an Expires header is included in the Invite.

 There is discussion of the UAS checking the Expires header when the Invite
is first received (section 13.3.1), but nothing about it expiring during
ringing.  The bis seems to rely on an expired transaction being CANCELed by
the UAC, and does not consider this scenario and what the UAS should do.

> 
> Bis-05 section 16.6 item 9 mentions that a 
> forking proxy only CANCELs "pending" branches.
> The bis should clearly state that the
> forking proxy MUST continue to retry the
> INVITE on the obsoleted branch.  Upon 
> finally getting a provisional response, 
> the proxy can send the CANCEL.  Text similar 
> to the "acting as a user agent" stuff around 
> lines 2447 should suffice.
> 


John Hearty
Level3

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 00:25:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA28899
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 00:25:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA05363
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 00:25:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA04768;
	Tue, 13 Nov 2001 23:58:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA04683
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 23:57:59 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA28578
	for <sip@ietf.org>; Tue, 13 Nov 2001 23:57:54 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fAE4vSn11842;
	Tue, 13 Nov 2001 20:57:28 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACA86710;
	Tue, 13 Nov 2001 20:57:25 -0800 (PST)
Message-Id: <4.2.0.58.20011113205244.01fc4ec0@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Tue, 13 Nov 2001 20:55:36 -0800
To: sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Cc: rohan@cisco.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] Internet Draft on Call Control URI Parameters
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,

I just submitted a short Internet Draft which proposes Contact URI 
parameters for use with call control.  This is basically follow on work to 
cc-models.  Until it appears in the archives it is available at:

	ftp://ftpeng.cisco.com/rmahy/draft-mahy-sip-cc-uri-params-00.txt

thanks,
-rohan

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 00:30:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA28991
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 00:30:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA05635
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 00:30:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA04739;
	Tue, 13 Nov 2001 23:58:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA04670
	for <sip@optimus.ietf.org>; Tue, 13 Nov 2001 23:57:57 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA28564;
	Tue, 13 Nov 2001 23:57:52 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fAE4vQn11830;
	Tue, 13 Nov 2001 20:57:26 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACA86703;
	Tue, 13 Nov 2001 20:57:23 -0800 (PST)
Message-Id: <4.2.0.58.20011113204445.01fc2f00@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Tue, 13 Nov 2001 20:51:30 -0800
To: sipping@ietf.org, sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Cc: rohan@cisco.com, islain@cisco.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] Event package related drafts moved to SIPPING
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi Folks,

FYI: I have moved/resubmitted the following drafts to SIPPING.  The content 
has not substantially changed.

draft-mahy-sip-message-waiting-02.txt  ==>

	ftp://ftpeng.cisco.com/rmahy/draft-mahy-sipping-message-waiting-00.txt

draft-mahy-sip-signaled-digits-01.txt  ==>

	ftp://ftpeng.cisco.com/rmahy/draft-mahy-sipping-signaled-digits-00.txt

thanks,
-rohan
	

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 12:58:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA07602
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 12:58:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA04200
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 12:58:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA03039;
	Wed, 14 Nov 2001 12:21:01 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA03016
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 12:20:59 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA05273
	for <sip@ietf.org>; Wed, 14 Nov 2001 12:20:54 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 1643ib-0004HV-00
	for sip@ietf.org; Wed, 14 Nov 2001 17:20:57 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 1643iX-0007DB-00
	for sip@ietf.org; Wed, 14 Nov 2001 17:20:53 +0000
Date: Wed, 14 Nov 2001 17:20:53 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: sip@ietf.org
In-Reply-To: <4.2.0.58.20011113205244.01fc4ec0@lint.cisco.com>
Message-ID: <Pine.GSO.4.21.0111141711160.25002-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *1643ib-0004HV-00*Jcsqe0sR66A* http://duncanthrax.net/exiscan/
Subject: [Sip] does callee need add itself into the same multicast group with caller
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi, falks,
   when a user are invited to join a conference in which all of the
existing memebers are in a multicast group, I wondered if the callee
need join the group or not. if yes, how? I don't know if there are
parameters or headers indicate the caller's multicast address.
cheers.
lei



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 13:34:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA10034
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 13:34:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05795
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 13:34:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04938;
	Wed, 14 Nov 2001 13:14:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04907
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 13:14:46 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA08833
	for <sip@ietf.org>; Wed, 14 Nov 2001 13:14:43 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fAEIEhT11734;
	Wed, 14 Nov 2001 12:14:44 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fAEIEhH23166;
	Wed, 14 Nov 2001 12:14:43 -0600 (CST)
Received: from lmf.ericsson.se (rmt160175.am.ericsson.se [138.85.160.175]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA16826; Wed, 14 Nov 2001 12:14:41 -0600 (CST)
Message-ID: <3BF2B9DD.8BD91BF4@lmf.ericsson.se>
Date: Wed, 14 Nov 2001 20:37:17 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Lei Liang <l.liang@eim.surrey.ac.uk>
CC: sip@ietf.org
Subject: Re: [Sip] does callee need add itself into the same multicast group with 
 caller
References: <Pine.GSO.4.21.0111141711160.25002-100000@hermes.ee.surrey.ac.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

The c line in the SDP of the INVITE contains the multicast address of
the multicast group the callee has to join.

SIP is used only to obtain this address. The callee will typically use
IGMP to join the multicast group.

Regards,

Gonzalo

Lei Liang wrote:
> 
> Hi, falks,
>    when a user are invited to join a conference in which all of the
> existing memebers are in a multicast group, I wondered if the callee
> need join the group or not. if yes, how? I don't know if there are
> parameters or headers indicate the caller's multicast address.
> cheers.
> lei
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 13:53:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA11011
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 13:53:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA06236
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 13:53:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA05314;
	Wed, 14 Nov 2001 13:28:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA05284
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 13:28:44 -0500 (EST)
Received: from fox.iptel.org (fox.iptel.org [195.37.77.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA09631
	for <sip@ietf.org>; Wed, 14 Nov 2001 13:28:40 -0500 (EST)
Received: from jku.iptel.org ([63.110.3.156])
	by fox.iptel.org (8.11.6/8.11.6) with ESMTP id fAEIS8W30662
	for <sip@ietf.org>; Wed, 14 Nov 2001 19:28:08 +0100
Message-Id: <5.1.0.14.0.20011114182024.02f9aeb0@iptel.org>
X-Sender: jiri@iptel.org
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Wed, 14 Nov 2001 18:31:39 +0100
To: sip@ietf.org
From: Jiri Kuthan <jiri@iptel.org>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Subject: [Sip] Stateless CANCEL Processing
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Can someone explain my why CANCELs for which no matching
INVITE/whatever transaction has not been found *MUST* be
processed *statelessly* (S. 16.8, bis-05)?

I understand they must be processed (the INVITE might have
been stateless) but is then stateless processing of the
CANCEL a MUST too?

What if the INVITE state does not exist and routing logic
asks for state (forking)? (I know, bizzar case but I just
wonder if we can remove possibly unnecessary requirements.)

Thanks,

-Jiri

--
Jiri Kuthan            http://iptel.org/~jiri/


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 16:09:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA16770
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 16:09:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10073
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 16:09:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA07484;
	Wed, 14 Nov 2001 14:43:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA07457
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 14:43:11 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA13512
	for <sip@ietf.org>; Wed, 14 Nov 2001 14:43:07 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAEJfJCJ024645
	for <sip@ietf.org>; Wed, 14 Nov 2001 14:41:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JDCW>; Wed, 14 Nov 2001 14:42:40 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FE2D@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Wed, 14 Nov 2001 14:42:35 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - 6 - Last Call Open Discussion CLOSED - draft-ietf-sip-ma
 nyfolks-resource-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP WG Members,

       The subject draft's (link below) Open Discussion is now closed.

       The authors should be posting their summaries on the list shortly.

       Thank you for your participation in this discussion. The next step is
to poll the chairs and submit an updated draft to the IESG.

       If you have any further questions, please feel free to contact me.

Links

Draft -
http://www.softarmor.com/sipwg/drafts/draft-ietf-sip-manyfolks-resource-02.t
xt
Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 16:20:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA17084
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 16:20:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10328
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 16:20:31 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA07900;
	Wed, 14 Nov 2001 14:59:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA07867
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 14:59:52 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA14051
	for <sip@ietf.org>; Wed, 14 Nov 2001 14:59:48 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAEJw1CJ024848
	for <sip@ietf.org>; Wed, 14 Nov 2001 14:58:01 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JDFS>; Wed, 14 Nov 2001 14:59:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FE34@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Subject: [Sip] SIP WG - Last Call Weekly Status Update
Date: Wed, 14 Nov 2001 14:59:18 -0500
Importance: high
X-Priority: 1
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP Working Group Members,

       This Working Group Last Call status is being sent out to keep you
up-to-speed.

       Any questions about this information can be addressed to Rakesh Shah
(mailto:rshah@dynamicsoft.com).

Drafts in WGLC

draft-ietf-sip-100rel-03.txt
A. Mankin has suggested that this draft be folded into the rfc2543-bis
draft. It has finished last call and been updated recently, but no news from
ADs.

draft-ietf-sip-serverfeatures-05.txt
This work has been folded into bis-05 and therefore this draft is dead.
Chairs are working some issues with ADs. WGLC completed. Draft was submitted
to IESG, returned for updates and updates were made by authors.

draft-ietf-sip-session-timer-08.txt
Under review by A. Mankin. On IESG submitted list as of 23Oct01.

draft-ietf-sip-callerprefs-04.txt
Last Call review completed. Waiting for authors' summary. Summary delayed
due to bis re-write.

draft-ietf-sip-mib-03.txt
Waiting on authors' summary.

draft-ietf-sip-manyfolks-resource-02.txt
Last call review is complete. Author has posted a summary. Waiting for
updated draft. (Critical to 3GPP.)

draft-ietf-sip-call-auth-02.txt
List open discussion announced. (Critical for 3GPP.)

draft-ietf-sip-state-02.txt
Contacting new NITS reviewer.

draft-ietf-sip-refer-02.txt
Assigning last call reviewers. Dates pushed out for last call review to
accommodate author's schedule. Recently split from transfer draft.

Drafts Queued for WGLC

draft-ietf-sip-rfc2543bis-05.txt
Major reorg started. New dates are being planned.

draft-ietf-sip-privacy-02.txt
Expecting -03 in November. -03 will be ready for WGLC. Will generate a lot
of debate. (3GPP interest.)

draft-ietf-sip-events-01.txt
Authors say that the -01 version will be stable enough for WGLC. This is the
revival of draft-roach-subscribe-notify-03.txt. (Critical to 3GPP)

draft-rosenberg-sip-sctp-01.txt
Proposed to make SCTP support external to bis draft for timing reasons.


       This information is kept up-to-date on the supplemental SIP WG Web
site (link below).

Links

Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 17:29:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19611
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 17:29:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA13300
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 17:29:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11083;
	Wed, 14 Nov 2001 16:48:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11052
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 16:48:10 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA18054
	for <sip@ietf.org>; Wed, 14 Nov 2001 16:48:05 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fAELldW17384;
	Wed, 14 Nov 2001 13:47:39 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACA95262;
	Wed, 14 Nov 2001 13:47:37 -0800 (PST)
Message-Id: <4.2.0.58.20011113205825.02017f00@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Wed, 14 Nov 2001 13:47:57 -0800
To: sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Cc: rohan@cisco.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] cc-models ID updated
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,

I have updated the cc-models draft to incorporate references to other call 
control work submitted since the draft's first publication (Jonathan's call 
package, the Join header just submitted by Dan and I, etc..)  Until it 
appears it the archive, it is available at:

	ftp://ftpeng.cisco.com/rmahy/draft-mahy-sip-cc-models-01.txt

thanks,
-rohan


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 14 17:40:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19923
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 17:40:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA14150
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 17:40:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12547;
	Wed, 14 Nov 2001 17:12:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA12519
	for <sip@optimus.ietf.org>; Wed, 14 Nov 2001 17:12:00 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19221
	for <sip@ietf.org>; Wed, 14 Nov 2001 17:11:57 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AC1FB6A90254; Wed, 14 Nov 2001 17:11:43 -0500
Message-ID: <006f01c16d58$46f38a80$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: <sip@ietf.org>, "Jiri Kuthan" <jiri@iptel.org>
References: <5.1.0.14.0.20011114182024.02f9aeb0@iptel.org>
Subject: Re: [Sip] Stateless CANCEL Processing
Date: Wed, 14 Nov 2001 17:04:04 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

----- Original Message -----
From: "Jiri Kuthan" <jiri@iptel.org>
To: <sip@ietf.org>
Sent: Wednesday, November 14, 2001 12:31 PM
Subject: [Sip] Stateless CANCEL Processing


> Can someone explain my why CANCELs for which no matching
> INVITE/whatever transaction has not been found *MUST* be
> processed *statelessly* (S. 16.8, bis-05)?
>
> I understand they must be processed (the INVITE might have
> been stateless) but is then stateless processing of the
> CANCEL a MUST too?
>
> What if the INVITE state does not exist and routing logic
> asks for state (forking)? (I know, bizzar case but I just
> wonder if we can remove possibly unnecessary requirements.)

I'm inclined to agree with Jiri. If the proxy knows that it would not have
statelessly forwarded the request being cancelled, why cannot it just
respond with 481 (or even 200).

If the proxy does do any stateless forwarding of requests, it would know
based on the contents of the request whether or not it needs to be forwarded
since it has to be able to make the same routing choice for the CANCEL as it
did for the original request.



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 14 21:10:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA24179
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 21:10:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA20028
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 21:10:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16707;
	Wed, 14 Nov 2001 19:18:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA16676
	for <sip@ns.ietf.org>; Wed, 14 Nov 2001 19:18:52 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA22423
	for <sip@ietf.org>; Wed, 14 Nov 2001 19:18:49 -0500 (EST)
Received: from flak (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fAF0P2D24299;
	Wed, 14 Nov 2001 18:25:06 -0600
Message-ID: <011801c16d6b$0b8b2080$d837163f@flak>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>
Cc: "Henning Schulzrinne" <hgs@cs.columbia.edu>
References: <18.15153464.291d8f0e@aol.com> <3BEC3B6B.2C6881C2@cs.columbia.edu>
Subject: Re: [Sip] Communications Resource Priority Header
Date: Wed, 14 Nov 2001 17:10:23 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> Mpierce1@aol.com wrote:
> > I guess it's not clear to me how Registration fits in. I presumed that,
in a
> > real situation, Registration needs to be done, for example, when a uses
turns
> > on a SIP telephone device (maybe including some authentication process,
> > biometrics, password, etc). The proxy indicates (as more than just
advice)

And Vijay further informed
> In general (as opposed to the 3GPP model), you do not need to REGISTER
> to send a SIP INVITE (make a call). You do have to register to *receive*
> a call.

We should have called REGISTER something less conflicted, like SET-CONTACT.
Despite the persistence of 3G's misunderstanding,  REGISTER is NOT an
authentication mechanism, NOT a mechanism for establishing message routing,
and NOT REQUIRED OR NEEDED before one may establish a session. It exists
ONLY to publish dynamic contact information. REGISTER is not even required
to be able to receive a session -- it is just one of a set of techniques for
putting information into a location server, analagous to dynamic DNS
updates.

It would almost be worth changing the name of the REGISTER method in bis-06
(keep the old name as an alias, but deprecate its usage) just to make this
frequent misunderstanding go away. Maybe we could subsume the functionality
of REGISTER into the proposed PUBLISH message, and just deprecate REGISTER.

--
Dean (the unREGISTERed)



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 14 21:10:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA24200
	for <sip-archive@odin.ietf.org>; Wed, 14 Nov 2001 21:10:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id VAA20043
	for sip-archive@odin.ietf.org; Wed, 14 Nov 2001 21:10:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18159;
	Wed, 14 Nov 2001 20:09:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id UAA18128
	for <sip@ns.ietf.org>; Wed, 14 Nov 2001 20:09:06 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA23192
	for <sip@ietf.org>; Wed, 14 Nov 2001 20:09:03 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAF191V28369;
	Wed, 14 Nov 2001 20:09:01 -0500 (EST)
Message-ID: <3BF315AC.EDCE751C@cs.columbia.edu>
Date: Wed, 14 Nov 2001 20:09:00 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Dean Willis <dean.willis@softarmor.com>
CC: sip@ietf.org
Subject: Re: [Sip] Communications Resource Priority Header
References: <18.15153464.291d8f0e@aol.com> <3BEC3B6B.2C6881C2@cs.columbia.edu> <011801c16d6b$0b8b2080$d837163f@flak>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Dean Willis wrote:
> 
> > Mpierce1@aol.com wrote:
> > > I guess it's not clear to me how Registration fits in. I presumed that,
> in a
> > > real situation, Registration needs to be done, for example, when a uses
> turns
> > > on a SIP telephone device (maybe including some authentication process,
> > > biometrics, password, etc). The proxy indicates (as more than just
> advice)
> 
> And Vijay further informed
> > In general (as opposed to the 3GPP model), you do not need to REGISTER
> > to send a SIP INVITE (make a call). You do have to register to *receive*
> > a call.

Well, I applaud your belief in the power of words, but I doubt that 3G
or kindred spirits will be deterred from requiring whatever method we
name for unintended purposes, since they want this "ask first before you
can send IP packets" functionality, however misguided and bell-headed
this may be. The only consequence will be that we'll end up with two
methods, with overlapping functionality and mass confusion.

> 
> We should have called REGISTER something less conflicted, like SET-CONTACT.
> Despite the persistence of 3G's misunderstanding,  REGISTER is NOT an
> authentication mechanism, NOT a mechanism for establishing message routing,
> and NOT REQUIRED OR NEEDED before one may establish a session. It exists
> ONLY to publish dynamic contact information. REGISTER is not even required
> to be able to receive a session -- it is just one of a set of techniques for
> putting information into a location server, analagous to dynamic DNS
> updates.
> 
> It would almost be worth changing the name of the REGISTER method in bis-06
> (keep the old name as an alias, but deprecate its usage) just to make this
> frequent misunderstanding go away. Maybe we could subsume the functionality
> of REGISTER into the proposed PUBLISH message, and just deprecate REGISTER.
> 
> --
> Dean (the unREGISTERed)

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 15 10:48:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA29150
	for <sip-archive@odin.ietf.org>; Thu, 15 Nov 2001 10:48:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA20042
	for sip-archive@odin.ietf.org; Thu, 15 Nov 2001 10:48:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA18453;
	Thu, 15 Nov 2001 10:28:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA18406
	for <sip@optimus.ietf.org>; Thu, 15 Nov 2001 10:28:09 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA27982
	for <sip@ietf.org>; Thu, 15 Nov 2001 10:28:06 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id PAA02538
	for <sip@ietf.org>; Thu, 15 Nov 2001 15:28:10 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id PAA16779
	for <sip@ietf.org>; Thu, 15 Nov 2001 15:28:01 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPR6FKR>; Thu, 15 Nov 2001 08:28:00 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37010@n0214idc1.oss.level3.com>
To: sip@ietf.org
Date: Thu, 15 Nov 2001 08:27:59 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] bis-05 mostly NITS - full review
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

>  The following are largely pure nits.  A few may warrent discussion.  If
> so, please paste text in a separate thread. Thanks!
> 
> 1. Section 3 in the text version (PDF version OK) is missing a space in
> "SHALL NOT".
> 
> 2. Line 394, "through" is misspelled as "thorough".
> 
> 3. Line 406, comma after "model" should be a period.
> 
> 4. Line 442, "put" should be "out".
> 
> 5. Line 463, "is" should be "are".
> 
> 6. Line 477, "messages a server" should be "messages to a server".
> 
> 7. Line 534, "The primarily" should be "They primarily".
> 
> 8. Line 539, I believe "UAC" at the end of the line should be "UA",
> OPTIONS to determine capabilities is not specific to UAC.
> 
> 9. Lines 541-542, "between a two user agents" should be "between two user
> agents".
> 
> 10. Line 543, "both them" should be "both of them".
> 
> 11. Lines 816-817, "semantics of a the message" should be "semantics of a
> message".
> 
> 12. Line 876, "send" should be "sent".
> 
> 13. Line 912, "group together series of" should be "group together a
> series of".
> 
> 14. Line 916, "a a" should be "a".
> 
> 15. Line 1076, "header" should be deleted or the ")" should be after it,
> not before it.
> 
> 16. Line 1078, "a Accept header" should be "an Accept header".
> 
> 17. Lines 1078-1079, "in the event the request contained bodies of types
> not supported by the UAS" should probabally be deleted, since this
> sentence is in the context of a 415 response in which case this is always
> true.  "in the event" caught my eye here.
> 
> 18. Line 1163 "has not yet sent a response" might be better worded "has
> not yet sent a final response", but this it debatable as this is an intro
> paragraph.  Perhaps the same could be said for the previous sentance.
> 
> 19. Line 1206, "final response for original request" should be "final
> response for the original request".
> 
> 20. Section 10.1 of the text version has a space before a comma in three
> places.  PDF version is OK (lines 1218-1220).  Might want to do a global
> search for this, I thought Keith mentioned the same thing in another
> section.
> 
> 21. Line 1509, "The previous section" should be replaced with a link to an
> explicit section, the previous section is options, not UA processing.
> 
> 22. Line 1560, "sequence number sequence number" should be "sequence
> number".
> 
> 23. Line 1616, the following text in the PDF version is missing from the
> txt version: ". The top URI MUST be"
> 
> 24. Line 1622, the following text in the PDF version is missing from the
> txt version: ". One example is a UA that"
> 
> 25. Line 1696, "the UAC needs send an ACK" should be "the UAC needs to
> send an ACK".
> 
> 26. Lines 1729-1733.  This is possibly more of a question on the following
> text:
> 
> The offer indicates the desired communications means (audio, video,
> games), parameters of those means (such as codec types) and addresses for
> receiving media from the offerer. The other UA responds with another
> session description, called the answer, which indicates which
> communications means are accepted, the parameters which apply to those
> means, and addresses for receiving media from the answerer.
> 
>   It seemed "offerer" at the end of the first sentance and "answerer" at
> the end of the next sentence were reversed the way I have typically seen
> SDP sent, where the sender of the SDP is informing the other end what
> address they should send media to.  After some thought, at least for SDP,
> the info could be either way, as the SDP could have an attribute of
> recvonly, sendrecv, or sendonly.  Do these sentences need to be re-worded
> taking this into consideration?
> 
> 27. Line 1746, "construction" should be "constructing".
> 
> 28. Line 1761, "trasaction" should be "transaction".
> 
> 29. Line 1769-1770:
> 
> The early dialog will only be needed if the UAC needs to send a request to
> its peer within the dialog before the initial INVITE transaction
> completes.
> 
>  This confused me at first since the UAS is the one deciding (based on
> what response it sends) to start an early dialog.  After reading it a few
> times I realized what was being said, with CANCEL as an example.  Perhaps
> this would be better worded as something like the following (let me know
> if I'm off track).
> 
> The early dialog will only be needed by the UAC if the UAC needs to send a
> request (such as CANCEL) to its peer within the dialog before the initial
> INVITE transaction completes.
> 
> 30. Line 1786, 'MUST be transitioned to the "established",' should be
> 'MUST be transitioned to "established",'
> 
> 31. Line 1850, the sentence is missing a period.  "the UAS MAY silently
> accept the INVITE" is also not fully clear, I presume this means 2xx, this
> might be worth clarifying.
> 
> 32. Line 1858, section 12.1.0.1 is incorrect, no such section.
> 
> 33. Line 1860, this sentence might need to be reworded a bit when section
> 18 goes in.
> 
> 34. Line 2069, reference to Section 3 is incorrect.  I haven't verified
> all section references, but will note the ones I spotted.  It might be
> worthwhile to search for "Section" and verify the master doc has links to
> section numbers rather than hard text numbers.
> 
> 35. Line 2093, "as only" should be "as the only".
> 
> 36. Line 2097, reference to Section 12 appears to be incorrect.
> 
> 37. Line 2098, reference to Section 6 is incorrect.
> 
> 38. Line 2111, "That next hops" should be "That next hop".
> 
> 39. Line 2124, "depending contents or"  should be "depending on contents
> or the".
> 
> 40. Lines 2191-2192, "The precise format of the branch.token is
> implementation-defined." needs the period in the middle of the sentence
> removed.  This also had an extra space in the txt version.
> 
> 41. Line 2197, "placed in the this part" should be "placed in this part".
> 
> 42. Line 2200, reference to Section 3 is incorrect.
> 
> 43. Line 2216, "server handling them" should be "the server handling
> them".
> 
> 44. Line 2225 has a broken section reference link.
> 
> 45. Line 2227, "independently the" should be "independently. The"
> 
> 46. Line 2321 has a broken section reference link.
> 
> 47. Line 2324 "The response may a candidate" should be "The response may
> be a candidate".
> 
> 48. Line 2328 is missing a period.
> 
> 49. Line 2374, "so for" should be "so far".
> 
> 50. Line 2385, reference to Section 6 is incorrect.
> 
> 51. Line 2411 has a broken section reference link.
> 
> 52. Line 2437, "A stateful proxy may generate a CANCEL to any other
> request it has generated at any time."  Needs to be reworded to conform to
> new wait for 1xx rule, no?
> 
> 53. Line 2529, "past" should be "passed".
> 
> 54. Line 2530, "method the request" should be "method of the request".
> 
> 55. Lines 2548-2549, "The server transaction can send additional 1xx
> responses, which are not transmitted reliably." may need to be reworded
> when section 18 goes in.
> 
> 56. Lines 2562-2564 are missing a space after "SHOULD" three times.
> 
> 57. Line 2567, second "MAY" is missing a space after it.
> 
> 58. Line 2570, '"calling"' should be '"calling" state'.
> 
> 59. Line 2609 is missing a ")".
> 
> 60. Line 2658 missing space after "SHOULD".
> 
> 61. Line 2709, this sentence might need to be reworded a bit when section
> 18 goes in.
> 
> 62. Line 2823, "scooping" should be "scoping".
> 
> 63. Line 2877, forgot to add the received parameter in the example.
> 
> 64. Lines 2927-2928 need some wordsmithing beginning with "not just what
> they have to say", looks like something got deleted, at least a comma.
> 
65. Line 2931, "signaling  it can also" should be "signaling. It can also".

66. Line 2951, capitalize "encryption" at beginning of next sentence.

67. Line 3015, missing ")".

68. Line 3139, "that it is" should be "than it is".

69. Line 3299, what about TLS transport (port 5061)?

70. Line 3309 has a broken section reference link.

71. Line 3391, "thata" should be "that a".

72. Line 3454, might want an [HX.Y] reference rather than just RFC2617 to be
consistent with other references in this section.

73. Line 3473, "Call-ID" is missing a space after it.

74. Line 3496, space missing after period.

75. Line 3515, I believe the word "not" needs to be deleted for the text to
make sense.

76. Line 3726, reference to Section 13 is incorrect.

77. Line 3743, "upported" should be "supported".

78. Line 3749, reference to Section 13 is incorrect.

79. Line 3756, reference to Section 13 is incorrect.

80. Line 3757, reference to Section 22.20 is incorrect.

81. Lines 3766-3767, section 22.30 does not contain a usage example so "a
usage example and" should be deleted.

82. Line 3780, missing space after "branch".

83. Line 3854, "takemore" should be "take more".

84. Lines 3855-3856, this sentence might need to be reworded a bit when
section 18 goes in.

85. Line 3995, reference to Section 3 is incorrect.

86. Line 4095, ". There are two ways to determine the next hop. The" text is
missing from the txt version.

87. Line 4096, "a outbound proxy" should be "an outbound proxy".


Cheers!

John Hearty
Level3


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 15 11:23:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA01452
	for <sip-archive@odin.ietf.org>; Thu, 15 Nov 2001 11:23:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA23060
	for sip-archive@odin.ietf.org; Thu, 15 Nov 2001 11:24:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21499;
	Thu, 15 Nov 2001 11:08:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA21468
	for <sip@optimus.ietf.org>; Thu, 15 Nov 2001 11:08:56 -0500 (EST)
Received: from beamer.mchh.siemens.de (beamer.mchh.siemens.de [194.138.158.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA00349
	for <sip@ietf.org>; Thu, 15 Nov 2001 11:08:52 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id RAA17120;
	Thu, 15 Nov 2001 17:08:49 +0100 (MET)
Received: from mchh150e.mch.pn.siemens.de ([139.21.130.150])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id RAA05111;
	Thu, 15 Nov 2001 17:08:48 +0100 (MET)
Received: by mchh150e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <WT6QV3L0>; Thu, 15 Nov 2001 17:08:51 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E608169A@mchh161e>
From: Tan Ya-Ching  ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
To: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>, sip@ietf.org
Subject: RE: [Sip] bis-05 mostly NITS - full review
Date: Thu, 15 Nov 2001 17:08:39 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Here's one more :

88. Line 2779, "When TU passes a response to the server, it must inform the
TU...". The 2nd "TU" should be "server".


Ya-Ching Tan



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 15 14:30:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA13860
	for <sip-archive@odin.ietf.org>; Thu, 15 Nov 2001 14:29:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA02159
	for sip-archive@odin.ietf.org; Thu, 15 Nov 2001 14:30:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01281;
	Thu, 15 Nov 2001 14:01:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01241
	for <sip@ns.ietf.org>; Thu, 15 Nov 2001 14:01:00 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA11843
	for <sip@ietf.org>; Thu, 15 Nov 2001 14:00:57 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAFJ0wV09498
	for <sip@ietf.org>; Thu, 15 Nov 2001 14:00:58 -0500 (EST)
Message-ID: <3BF410E9.7E8E2D0B@cs.columbia.edu>
Date: Thu, 15 Nov 2001 14:00:57 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Resource-Priority header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

A first draft reflecting the discussion on the mailing list is at

http://www.ietf.org/internet-drafts/draft-polk-sip-resource-00.txt

Comments are appreciated.
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 15 17:57:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA26086
	for <sip-archive@odin.ietf.org>; Thu, 15 Nov 2001 17:57:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA08571
	for sip-archive@odin.ietf.org; Thu, 15 Nov 2001 17:57:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07992;
	Thu, 15 Nov 2001 17:34:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07961
	for <sip@ns.ietf.org>; Thu, 15 Nov 2001 17:34:56 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA25198;
	Thu, 15 Nov 2001 17:34:53 -0500 (EST)
Message-Id: <200111152234.RAA25198@ietf.org>
To: IETF-Announce: ;
Cc: sip@ietf.org
From: The IESG <iesg-secretary@ietf.org>
Reply-to: iesg@ietf.org
Date: Thu, 15 Nov 2001 17:34:53 -0500
Subject: [Sip] Last Call: SIP Session Timer to Proposed Standard
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


The IESG has received a request from the Session Initiation Protocol
Working Group to consider SIP Session Timer
<draft-ietf-sip-session-timer-08.txt> as a Proposed Standard.

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send any comments to the
iesg@ietf.org or ietf@ietf.org mailing lists by November 29, 2001.

Files can be obtained via
http://www.ietf.org/internet-drafts/draft-ietf-sip-session-timer-08.txt



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 04:04:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA24506
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 04:04:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA29118
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 04:04:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA28688;
	Fri, 16 Nov 2001 03:49:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA28657
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 03:49:44 -0500 (EST)
Received: from wiproecmx2.wipro.com (wiproecmx2.wipro.com [164.164.31.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA24380
	for <sip@ietf.org>; Fri, 16 Nov 2001 03:49:35 -0500 (EST)
Received: from ecvwall11.wipro.com (ecvwall1.wipro.com [164.164.23.6])
	by wiproecmx2.wipro.com (8.11.3/8.11.3) with SMTP id fAG8n2501047
	for <sip@ietf.org>; Fri, 16 Nov 2001 14:19:02 +0530 (IST)
Received: from SNRPRO107097 ([10.145.2.57]) by
          arabhi.mail.wipro.com (Netscape Messaging Server 4.15) with
          ESMTP id GMVXPT00.HSS for <sip@ietf.org>; Fri, 16 Nov 2001
          14:16:41 +0530 
Message-ID: <00d501c16e7b$d18f3260$3902910a@SNRPRO107097>
From: "Thiagarajan Venkatachalam" <thiagarajan.venkatachalam@wipro.com>
To: <sip@ietf.org>
Date: Fri, 16 Nov 2001 14:21:01 +0530
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="------------InterScan_NT_MIME_Boundary"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4522.1200
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Subject: [Sip] SIP alg for natpt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.

--------------InterScan_NT_MIME_Boundary
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00D2_01C16EA9.EAD7E3B0"

------=_NextPart_000_00D2_01C16EA9.EAD7E3B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hai everone ,
   =20
        if any body knows the sip alg drafts/rfc's no to implement the =
NATPT (deployed between ipv4 and ipv6 network ), give a links .=20

rgds
thiagu.

------=_NextPart_000_00D2_01C16EA9.EAD7E3B0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.3315.2870" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Hai everone ,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; =
if any body=20
knows the sip alg drafts/rfc's no to implement the NATPT (deployed =
between ipv4=20
and ipv6 network ), give a links . </FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>rgds</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>thiagu.</FONT></DIV></BODY></HTML>

------=_NextPart_000_00D2_01C16EA9.EAD7E3B0--



--------------InterScan_NT_MIME_Boundary
Content-Type: text/plain;
	name="Wipro_Disclaimer.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="Wipro_Disclaimer.txt"
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit

-----------------------------------------------------------------------------------------------------------------------
Information transmitted by this E-MAIL is proprietary to Wipro and/or its Customers and
is intended for use only by the individual or entity to which it is
addressed, and may contain information that is privileged, confidential or
exempt from disclosure under applicable law. If you are not the intended
recipient or it appears that this mail has been forwarded to you without
proper authority, you are notified that any use or dissemination of this
information in any manner is strictly prohibited. In such cases, please
notify us immediately at mailto:mailadmin@wipro.com and delete this mail
from your records.
------------------------------------------------------------------------------------------------------------------------

--------------InterScan_NT_MIME_Boundary--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 07:59:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA29152
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 07:59:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA04547
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 08:00:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04229;
	Fri, 16 Nov 2001 07:39:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04194
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 07:39:25 -0500 (EST)
Received: from infres.enst.fr (infres-192.enst.fr [137.194.192.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA28353
	for <sip@ietf.org>; Fri, 16 Nov 2001 07:39:22 -0500 (EST)
Received: from MEBSUTA (dhcp162-225.enst.fr [137.194.162.225])
	by infres.enst.fr (Postfix) with SMTP id 282BB189E
	for <sip@ietf.org>; Fri, 16 Nov 2001 13:39:13 +0100 (MET)
Message-ID: <001a01c16e9c$2b1c40f0$e1a2c289@galaxy.enst.fr>
From: "Hasnaa MOUSTAFA" <moustafa@enst.fr>
To: <sip@ietf.org>
Date: Fri, 16 Nov 2001 13:42:35 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0017_01C16EA4.8C814AE0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Subject: [Sip] Session Initiation Protocol
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

C'est un message de format MIME en plusieurs parties.

------=_NextPart_000_0017_01C16EA4.8C814AE0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all,

Concerning the Session Initiation Protocol (SIP),
Its architecture is composed of a number of servers.

1- About the Location service or Database, is it seperate for each =
server or all=20
    servers access the same location service to locate users.
2- I am a little bit mixed between the use of Redirect Server & Proxy =
Server
   =3D=3D> When exactly does the UAC contact a proxy server and when =
does it =20
          contact the redirect server???
   =3D=3D> Is this is a mode chosen either to contact the redirect =
server or a proxy  =20
          server whenever the UAS address is not known?

Thank you for any reply

mailto:moustafa@enst.fr

------=_NextPart_000_0017_01C16EA4.8C814AE0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2920.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hello all,</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Concerning the Session Initiation =
Protocol=20
(SIP),</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Its architecture is composed of a =
number of=20
servers.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>1- About the Location service or =
Database, is it=20
seperate for each server or all </FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; servers access the =
same location=20
service to locate users.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>2- I am a little bit mixed between the =
use=20
of&nbsp;<FONT face=3DArial size=3D2>Redirect Server &amp; <FONT =
face=3DArial=20
size=3D2>Proxy Server</FONT></FONT></FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp; =3D=3D&gt; When exactly =
does the UAC=20
contact a proxy server and when does it&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contact =
the=20
</FONT><FONT face=3DArial size=3D2>redirect server???</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp; =3D=3D&gt; Is this is a =
mode chosen either=20
to contact the redirect server or a proxy&nbsp;&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server =
whenever=20
the UAS address is not known?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Thank you for any reply</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><A=20
href=3D"mailto:moustafa@enst.fr">mailto:moustafa@enst.fr</A></FONT></DIV>=
</BODY></HTML>

------=_NextPart_000_0017_01C16EA4.8C814AE0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 08:14:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA29724
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 08:14:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA05134
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 08:14:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04330;
	Fri, 16 Nov 2001 07:47:19 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA04298
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 07:47:15 -0500 (EST)
Received: from infres.enst.fr (infres-192.enst.fr [137.194.192.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA28658
	for <sip@ietf.org>; Fri, 16 Nov 2001 07:47:12 -0500 (EST)
Received: from MEBSUTA (dhcp162-225.enst.fr [137.194.162.225])
	by infres.enst.fr (Postfix) with SMTP id 82CBE18AF
	for <sip@ietf.org>; Fri, 16 Nov 2001 13:47:13 +0100 (MET)
Message-ID: <005701c16e9d$48d9f910$e1a2c289@galaxy.enst.fr>
From: "Hasnaa MOUSTAFA" <moustafa@enst.fr>
To: <sip@ietf.org>
Date: Fri, 16 Nov 2001 13:50:35 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0054_01C16EA5.AA81B150"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Subject: [Sip] Session Initiation Protocol
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

C'est un message de format MIME en plusieurs parties.

------=_NextPart_000_0054_01C16EA5.AA81B150
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all,

Concerning the Session Initiation Protocol (SIP),
Its architecture is composed of a number of servers.
=20
1- About the Location service or Database, is it seperate for each =
server or all=20
    servers access the same location service to locate users.
2- I am a little bit mixed between the use of Redirect Server & Proxy =
Server
   =3D=3D> When exactly does the UAC contact a proxy server and when =
does it =20
          contact the redirect server???
   =3D=3D> Is this is a mode chosen either to contact the redirect =
server or a proxy  =20
          server whenever the UAS address is not known?

Thank you for any reply

mailto:moustafa@enst.fr

------=_NextPart_000_0054_01C16EA5.AA81B150
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2920.0" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>
<DIV><FONT face=3DArial size=3D2>Hello all,</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Concerning the Session Initiation =
Protocol=20
(SIP),</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Its architecture is composed of a =
number of=20
servers.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>1- About the Location service or =
Database, is it=20
seperate for each server or all </FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp;&nbsp; servers access the =
same location=20
service to locate users.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>2- I am a little bit mixed between the =
use=20
of&nbsp;<FONT face=3DArial size=3D2>Redirect Server &amp; <FONT =
face=3DArial=20
size=3D2>Proxy Server</FONT></FONT></FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp; =3D=3D&gt; When exactly =
does the UAC=20
contact a proxy server and when does it&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contact =
the=20
</FONT><FONT face=3DArial size=3D2>redirect server???</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>&nbsp;&nbsp; =3D=3D&gt; Is this is a =
mode chosen either=20
to contact the redirect server or a proxy&nbsp;&nbsp; </FONT></DIV>
<DIV><FONT face=3DArial=20
size=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server =
whenever=20
the UAS address is not known?</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Thank you for any reply</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2><A=20
href=3D"mailto:moustafa@enst.fr">mailto:moustafa@enst.fr</A></FONT></DIV>=
</FONT></DIV></BODY></HTML>

------=_NextPart_000_0054_01C16EA5.AA81B150--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 09:38:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA03226
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 09:38:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA07309
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 09:38:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA06698;
	Fri, 16 Nov 2001 09:20:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA06666
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 09:20:52 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA02391
	for <sip@ietf.org>; Fri, 16 Nov 2001 09:20:47 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A0C0D8E30116; Fri, 16 Nov 2001 09:20:48 -0500
Message-ID: <00d401c16ea6$ee5bbaa0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: <sip-implementors@cs.columbia.edu>, "Radu Ionescu" <radui@microsoft.com>
Cc: <sip@ietf.org>
References: <E330C3C8F912D441B11B0550EFA13AB505D77770@red-msg-07.redmond.corp.microsoft.com>
Subject: [Sip] bis definition of a call (was  [Sip-implementors] Are we allowed to use same Call-ID ...)
Date: Fri, 16 Nov 2001 08:59:38 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I am putting this on the SIP list because it has a bis-05 issue.

I think the bis-04 definition of a "call" is the correct one. A call
includes all dialogs in a session invited by a common source, and they would
have the same Call-ID. Bis-05 should be corrected. Or was there a specific
reason for changing the definition?

(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com

----- Original Message -----
From: "Radu Ionescu" <radui@microsoft.com>
To: <sip-implementors@cs.columbia.edu>
Sent: Thursday, November 15, 2001 3:35 PM
Subject: [Sip-implementors] Are we allowed to use same Call-ID for multiple
dialogs for the purpose of a non based MCU multiparty conference?


>
>
> Bis05 does not seem to make any difference between Call and CallLeg
>
> Call: A call is an informal term that refers to a dialog between peers,
> generally set up for the purposes of a multimedia conversation.
>
> Call leg: Another name for a dialog.
>
> Dialog: A dialog is a peer-to-peer SIP relationship between a Various
> Authors [Page 13]  Internet Draft SIP October 26, 2001 UAC and UAS that
> persists for some time. A dialog is established by SIP messages, such as
> a 2xx response to an INVITE request. A dialog is identified by a call
> identifier, local address, and remote address. A dialog was formerly
> known as a call leg in RFC 2543.
>
>
>
> However in Bis04
>
> Call: A call consists of all participants in a session invited by a
> common source. A SIP call is identified by a globally unique call-id
> (Section 10.12), and is created when a user agent sends an INVITE
> request. This INVITE request may generate multiple acceptances, each of
> which are part of the same call (but different call legs). Furthermore,
> if a user is invited to the same multicast session by several people,
> each of these invitations will be a unique call. In a multiparty
> conference unit (MCU) based call-in conference, each participant uses a
> separate call to invite himself to the MCU.
>
> Call leg: A call leg is a pairwise signaling relationship between two
> SIP user agents. A call leg is established when a call invitation
> results in a successful response. It is identified by the combination of
> the Call-ID header field, the local address of the participant, and the
> remote address of the other participant. For the caller, the local
> address is the From field of the INVITE, and the remote address is the
> To field of the 200 class response. For the callee, the local address is
> the To field of the 200 class response to the INVITE, and the remote
> address is the From field of the INVITE. SIP URIs are compared according
> to Section 2.1, non-SIP URIs according to Section 2.2. Within the same
> Call-ID, requests with From A and To value B belong to the same call leg
> as the requests in the opposite direction, i.e., From B and To A.
>
>
>
>
> My question - are we allowed to use same Call-ID for multiple dialogs
> for the purpose of a non based MCU multiparty conference?
>
> Thank you,
> Radu
>
> _______________________________________________
> Sip-implementors mailing list
> Sip-implementors@cs.columbia.edu
> http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 10:25:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05401
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 10:25:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA08541
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 10:25:26 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA08388;
	Fri, 16 Nov 2001 10:09:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA08360
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 10:09:10 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04631
	for <sip@ietf.org>; Fri, 16 Nov 2001 10:09:05 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fAGF8fMF005066;
	Fri, 16 Nov 2001 10:08:41 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <W8CDYKA2>; Fri, 16 Nov 2001 10:08:34 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7D2@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Radu Ionescu
	 <radui@microsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] bis definition of a call (was  [Sip-implementors] Are w
	e allowed to use same Call-ID ...)
Date: Fri, 16 Nov 2001 10:08:33 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain;
	charset="ISO-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I strongly disagree that the -04 definition was correct, and
will go further to say that there is no value in trying to
provide a concise technical definition. 

If I have a multiple-200 to INVITE scenario and don't do
something to invoke mixing, I end up in more than one "call",
each with independent state and purpose. If a pair of participants
duck out of a conference for a side conversation using some of
the mechanisms Rohan has been kicking around, are they in the
same "call"?

The point is that the term is, at best, extremely context
specific. We've got too many interpretations in popular use
to pick one and change the names of all the others. Lets leave
it loose.

Now, I disagree that -05 doesn't make a distinction in the
definitions between call and dialog (call-leg). A dialog is
a concretely defined thing in -05.


RjS



> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Friday, November 16, 2001 8:00 AM
> To: sip-implementors@cs.columbia.edu; Radu Ionescu
> Cc: sip@ietf.org
> Subject: [Sip] bis definition of a call (was [Sip-implementors] Are we
> allowed to use same Call-ID ...)
> 
> 
> I am putting this on the SIP list because it has a bis-05 issue.
> 
> I think the bis-04 definition of a "call" is the correct one. A call
> includes all dialogs in a session invited by a common source, 
> and they would
> have the same Call-ID. Bis-05 should be corrected. Or was 
> there a specific
> reason for changing the definition?
> 
> (-:bob
> 
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
> 
> ----- Original Message -----
> From: "Radu Ionescu" <radui@microsoft.com>
> To: <sip-implementors@cs.columbia.edu>
> Sent: Thursday, November 15, 2001 3:35 PM
> Subject: [Sip-implementors] Are we allowed to use same 
> Call-ID for multiple
> dialogs for the purpose of a non based MCU multiparty conference?
> 
> 
> >
> >
> > Bis05 does not seem to make any difference between Call and CallLeg
> >
> > Call: A call is an informal term that refers to a dialog 
> between peers,
> > generally set up for the purposes of a multimedia conversation.
> >
> > Call leg: Another name for a dialog.
> >
> > Dialog: A dialog is a peer-to-peer SIP relationship between 
> a Various
> > Authors [Page 13]  Internet Draft SIP October 26, 2001 UAC 
> and UAS that
> > persists for some time. A dialog is established by SIP 
> messages, such as
> > a 2xx response to an INVITE request. A dialog is identified 
> by a call
> > identifier, local address, and remote address. A dialog was formerly
> > known as a call leg in RFC 2543.
> >
> >
> >
> > However in Bis04
> >
> > Call: A call consists of all participants in a session invited by a
> > common source. A SIP call is identified by a globally unique call-id
> > (Section 10.12), and is created when a user agent sends an INVITE
> > request. This INVITE request may generate multiple 
> acceptances, each of
> > which are part of the same call (but different call legs). 
> Furthermore,
> > if a user is invited to the same multicast session by 
> several people,
> > each of these invitations will be a unique call. In a multiparty
> > conference unit (MCU) based call-in conference, each 
> participant uses a
> > separate call to invite himself to the MCU.
> >
> > Call leg: A call leg is a pairwise signaling relationship 
> between two
> > SIP user agents. A call leg is established when a call invitation
> > results in a successful response. It is identified by the 
> combination of
> > the Call-ID header field, the local address of the 
> participant, and the
> > remote address of the other participant. For the caller, the local
> > address is the From field of the INVITE, and the remote 
> address is the
> > To field of the 200 class response. For the callee, the 
> local address is
> > the To field of the 200 class response to the INVITE, and the remote
> > address is the From field of the INVITE. SIP URIs are 
> compared according
> > to Section 2.1, non-SIP URIs according to Section 2.2. 
> Within the same
> > Call-ID, requests with From A and To value B belong to the 
> same call leg
> > as the requests in the opposite direction, i.e., From B and To A.
> >
> >
> >
> >
> > My question - are we allowed to use same Call-ID for 
> multiple dialogs
> > for the purpose of a non based MCU multiparty conference?
> >
> > Thank you,
> > Radu
> >
> > _______________________________________________
> > Sip-implementors mailing list
> > Sip-implementors@cs.columbia.edu
> > http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
> >
> 
> _______________________________________________
> Sip-implementors mailing list
> Sip-implementors@cs.columbia.edu
> http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 10:51:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA06682
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 10:51:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA09311
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 10:51:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA09077;
	Fri, 16 Nov 2001 10:35:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA09048
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 10:35:19 -0500 (EST)
Received: from exchange.isc-software.com (apps.ifs.com [151.204.36.178] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05991
	for <sip@ietf.org>; Fri, 16 Nov 2001 10:35:16 -0500 (EST)
Received: from email.masconit.com (MAILHUB [12.41.17.214]) by exchange.isc-software.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id WK0A6BCK; Fri, 16 Nov 2001 10:36:28 -0500
Received: from RANJIT (TESTONE [12.41.17.140]) by email.masconit.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id VKKHPVKV; Fri, 16 Nov 2001 09:34:49 -0600
Reply-To: <ranjitka@email.masconit.com>
From: "Ranjit Avasarala" <ranjitka@email.masconit.com>
To: "'Hasnaa MOUSTAFA'" <moustafa@enst.fr>, <sip@ietf.org>
Subject: RE: [Sip] Session Initiation Protocol
Date: Fri, 16 Nov 2001 09:36:52 -0600
Message-ID: <001101c16eb4$844de2b0$3700000a@RANJIT>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <001a01c16e9c$2b1c40f0$e1a2c289@galaxy.enst.fr>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi
   Location server could be a common entity for a sip network which could
consist of many UACs and UASs.
 proxy server and redirect server could be co-located and Re direct server
redirects the request to the
 particular UAS after querying the location server.

 HTH

Regards
Ranjit

-----Original Message-----
From: Hasnaa MOUSTAFA [mailto:moustafa@enst.fr]
Sent: Friday, November 16, 2001 6:43 AM
To: sip@ietf.org
Subject: [Sip] Session Initiation Protocol


Hello all,

Concerning the Session Initiation Protocol (SIP),
Its architecture is composed of a number of servers.

1- About the Location service or Database, is it seperate for each
server or all
    servers access the same location service to locate users.
2- I am a little bit mixed between the use of Redirect Server & Proxy
Server
   ==> When exactly does the UAC contact a proxy server and when does it

          contact the redirect server???
   ==> Is this is a mode chosen either to contact the redirect server or
a proxy
          server whenever the UAS address is not known?

Thank you for any reply

mailto:moustafa@enst.fr <mailto:moustafa@enst.fr>


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 12:16:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA11781
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 12:16:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA12043
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 12:16:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10635;
	Fri, 16 Nov 2001 11:52:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10566
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 11:52:35 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10130;
	Fri, 16 Nov 2001 11:52:31 -0500 (EST)
Message-Id: <200111161652.LAA10130@ietf.org>
To: IETF-Announce: ;
Cc: sip@ietf.org, sipping@ietf.org
From: The IESG <iesg-secretary@ietf.org>
Reply-to: iesg@ietf.org
Date: Fri, 16 Nov 2001 11:52:31 -0500
Subject: [Sip] Last Call: SIP-H.323 Interworking to Informational
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


The IESG has received a request to consider the following documents as
Informational RFCs:

 o SIP-H.323 Interworking
	<draft-agrawal-sip-h323-interworking-01.txt>
 o SIP-H.323 Interworking Requirements
	<draft-agrawal-sip-h323-interworking-reqs-02.txt>

These documents have been reviewed in the IETF but are not the product
of an IETF Working Group.

The IESG plans to make a decision in the next few weeks, and solicits
final comments on this action.  Please send any comments to the
iesg@ietf.org or ietf@ietf.org mailing lists by December 15, 2001.

Files can be obtained via
http://www.ietf.org/internet-drafts/draft-agrawal-sip-h323-interworking-01.txt
http://www.ietf.org/internet-drafts/draft-agrawal-sip-h323-interworking-reqs-02.txt


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 12:36:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12962
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 12:36:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA12673
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 12:36:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12082;
	Fri, 16 Nov 2001 12:17:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12055
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 12:17:32 -0500 (EST)
Received: from ix.netcorps.com (ix.netcorps.com [216.65.52.9])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA11826
	for <sip@ietf.org>; Fri, 16 Nov 2001 12:17:27 -0500 (EST)
Received: from indigosw.com (194-78-202-25.pro.turboline.skynet.be [194.78.202.25])
	by ix.netcorps.com (8.9.0/8.9.0) with ESMTP id JAA11627;
	Fri, 16 Nov 2001 09:18:46 -0800 (PST)
Message-ID: <3BF549D3.CEC36BB0@indigosw.com>
Date: Fri, 16 Nov 2001 18:16:03 +0100
From: Chris Altree <christopher@indigosw.com>
Organization: Indigo Software
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: ranjitka@email.masconit.com
CC: "'Hasnaa MOUSTAFA'" <moustafa@enst.fr>, sip@ietf.org
Subject: Re: [Sip] Session Initiation Protocol
References: <001101c16eb4$844de2b0$3700000a@RANJIT>
Content-Type: multipart/alternative;
 boundary="------------BEA89C5CAACBABB7EFB47C11"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


--------------BEA89C5CAACBABB7EFB47C11
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Hi Ranjit,
Surely you mean the redirect server redirects the request to the particular
UAC after querying the location server?
Chris.

Ranjit Avasarala wrote:

> Hi
>    Location server could be a common entity for a sip network which could
> consist of many UACs and UASs.
>  proxy server and redirect server could be co-located and Re direct server
> redirects the request to the
>  particular UAS after querying the location server.
>
>  HTH
>
> Regards
> Ranjit
>
> -----Original Message-----
> From: Hasnaa MOUSTAFA [mailto:moustafa@enst.fr]
> Sent: Friday, November 16, 2001 6:43 AM
> To: sip@ietf.org
> Subject: [Sip] Session Initiation Protocol
>
> Hello all,
>
> Concerning the Session Initiation Protocol (SIP),
> Its architecture is composed of a number of servers.
>
> 1- About the Location service or Database, is it seperate for each
> server or all
>     servers access the same location service to locate users.
> 2- I am a little bit mixed between the use of Redirect Server & Proxy
> Server
>    ==> When exactly does the UAC contact a proxy server and when does it
>
>           contact the redirect server???
>    ==> Is this is a mode chosen either to contact the redirect server or
> a proxy
>           server whenever the UAS address is not known?
>
> Thank you for any reply
>
> mailto:moustafa@enst.fr <mailto:moustafa@enst.fr>
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

--
Chris Altree
Business Development
Indigo Software
50 Rue Wiertz
B-1050 Brussels
Belgium
tel: +32 2 235 0960
fax: +32 2 280 2676
e-mail: christopher@indigosw.com


--------------BEA89C5CAACBABB7EFB47C11
Content-Type: text/html; charset=us-ascii
Content-Transfer-Encoding: 7bit

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
Hi Ranjit,
<br>Surely you mean the redirect server redirects the request to the particular
<i>UAC </i>after querying the location server?
<br>Chris.
<p>Ranjit Avasarala wrote:
<blockquote TYPE=CITE>Hi
<br>&nbsp;&nbsp; Location server could be a common entity for a sip network
which could
<br>consist of many UACs and UASs.
<br>&nbsp;proxy server and redirect server could be co-located and Re direct
server
<br>redirects the request to the
<br>&nbsp;particular UAS after querying the location server.
<p>&nbsp;HTH
<p>Regards
<br>Ranjit
<p>-----Original Message-----
<br>From: Hasnaa MOUSTAFA [<a href="mailto:moustafa@enst.fr">mailto:moustafa@enst.fr</a>]
<br>Sent: Friday, November 16, 2001 6:43 AM
<br>To: sip@ietf.org
<br>Subject: [Sip] Session Initiation Protocol
<p>Hello all,
<p>Concerning the Session Initiation Protocol (SIP),
<br>Its architecture is composed of a number of servers.
<p>1- About the Location service or Database, is it seperate for each
<br>server or all
<br>&nbsp;&nbsp;&nbsp; servers access the same location service to locate
users.
<br>2- I am a little bit mixed between the use of Redirect Server &amp;
Proxy
<br>Server
<br>&nbsp;&nbsp; ==> When exactly does the UAC contact a proxy server and
when does it
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contact the redirect
server???
<br>&nbsp;&nbsp; ==> Is this is a mode chosen either to contact the redirect
server or
<br>a proxy
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; server whenever
the UAS address is not known?
<p>Thank you for any reply
<p><a href="mailto:moustafa@enst.fr">mailto:moustafa@enst.fr</a> &lt;<a href="mailto:moustafa@enst.fr">mailto:moustafa@enst.fr</a>>
<p>_______________________________________________
<br>Sip mailing list&nbsp; <a href="http://www1.ietf.org/mailman/listinfo/sip">http://www1.ietf.org/mailman/listinfo/sip</a>
<br>This list is for NEW development of the core SIP Protocol
<br>Use sip-implementors@cs.columbia.edu for questions on current sip
<br>Use sipping@ietf.org for new developments on the application of sip</blockquote>

<p>--
<br>Chris Altree
<br>Business Development
<br>Indigo Software
<br>50 Rue Wiertz
<br>B-1050 Brussels
<br>Belgium
<br>tel: +32 2 235 0960
<br>fax: +32 2 280 2676
<br>e-mail: christopher@indigosw.com
<br>&nbsp;</html>

--------------BEA89C5CAACBABB7EFB47C11--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 12:43:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13423
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 12:43:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA12821
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 12:43:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12197;
	Fri, 16 Nov 2001 12:22:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12166
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 12:22:55 -0500 (EST)
Received: from exchange.isc-software.com (apps.ifs.com [151.204.36.178] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12124
	for <sip@ietf.org>; Fri, 16 Nov 2001 12:22:51 -0500 (EST)
Received: from email.masconit.com (MAILHUB [12.41.17.214]) by exchange.isc-software.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2653.13)
	id WK0A6BRR; Fri, 16 Nov 2001 12:24:04 -0500
Received: from RANJIT (TESTONE [12.41.17.140]) by email.masconit.com with SMTP (Microsoft Exchange Internet Mail Service Version 5.5.2650.21)
	id VKKHPWBP; Fri, 16 Nov 2001 11:22:23 -0600
Reply-To: <ranjitka@email.masconit.com>
From: "Ranjit Avasarala" <ranjitka@email.masconit.com>
To: "'Chris Altree'" <christopher@indigosw.com>
Cc: "'Hasnaa MOUSTAFA'" <moustafa@enst.fr>, <sip@ietf.org>
Subject: RE: [Sip] Session Initiation Protocol
Date: Fri, 16 Nov 2001 11:24:27 -0600
Message-ID: <001301c16ec3$8b9cc630$3700000a@RANJIT>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <3BF549D3.CEC36BB0@indigosw.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

yes

Regards
Ranjit 

-----Original Message-----
From: Chris Altree [mailto:christopher@indigosw.com]
Sent: Friday, November 16, 2001 11:16 AM
To: ranjitka@email.masconit.com
Cc: 'Hasnaa MOUSTAFA'; sip@ietf.org
Subject: Re: [Sip] Session Initiation Protocol


Hi Ranjit, 
Surely you mean the redirect server redirects the request to the
particular UAC after querying the location server? 
Chris. 

Ranjit Avasarala wrote: 


Hi 
   Location server could be a common entity for a sip network which
could 
consist of many UACs and UASs. 
 proxy server and redirect server could be co-located and Re direct
server 
redirects the request to the 
 particular UAS after querying the location server. 

 HTH 


Regards 
Ranjit 


-----Original Message----- 
From: Hasnaa MOUSTAFA [ mailto:moustafa@enst.fr
<mailto:moustafa@enst.fr> ] 
Sent: Friday, November 16, 2001 6:43 AM 
To: sip@ietf.org 
Subject: [Sip] Session Initiation Protocol 


Hello all, 


Concerning the Session Initiation Protocol (SIP), 
Its architecture is composed of a number of servers. 


1- About the Location service or Database, is it seperate for each 
server or all 
    servers access the same location service to locate users. 
2- I am a little bit mixed between the use of Redirect Server & Proxy 
Server 
   ==> When exactly does the UAC contact a proxy server and when does it



          contact the redirect server??? 
   ==> Is this is a mode chosen either to contact the redirect server or

a proxy 
          server whenever the UAS address is not known? 


Thank you for any reply 


mailto:moustafa@enst.fr <mailto:moustafa@enst.fr>  <
mailto:moustafa@enst.fr <mailto:moustafa@enst.fr> > 


_______________________________________________ 
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
<http://www1.ietf.org/mailman/listinfo/sip>  
This list is for NEW development of the core SIP Protocol 
Use sip-implementors@cs.columbia.edu for questions on current sip 
Use sipping@ietf.org for new developments on the application of sip


-- 
Chris Altree 
Business Development 
Indigo Software 
50 Rue Wiertz 
B-1050 Brussels 
Belgium 
tel: +32 2 235 0960 
fax: +32 2 280 2676 
e-mail: christopher@indigosw.com 
 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 12:54:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA14071
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 12:54:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA13053
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 12:54:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12749;
	Fri, 16 Nov 2001 12:37:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA12718
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 12:37:40 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13010
	for <sip@ietf.org>; Fri, 16 Nov 2001 12:37:37 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAGHbPf15482;
	Fri, 16 Nov 2001 18:37:25 +0100 (MET)
Received: from ericsson.com (ppp22.lmf.ericsson.se [131.160.102.22])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAGHbNh15341;
	Fri, 16 Nov 2001 19:37:23 +0200 (EET)
Message-ID: <3BF51F00.E779851D@ericsson.com>
Date: Fri, 16 Nov 2001 16:13:20 +0200
From: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>
Organization: OY LM Ericsson AB
X-Mailer: Mozilla 4.74 [en] (Windows NT 5.0; U)
X-Accept-Language: es,en
MIME-Version: 1.0
To: William Marshall <wtm@research.att.com>
CC: sip@ietf.org
Subject: Re: [Sip] review of draft-ietf-sip-refer-02
References: <200111131550.KAA46583@fish.research.att.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi Bill:

See my comments below.

William Marshall wrote:
> 
>
[snip]
> 
> (3) security
> The security section is correct in the second paragraph that anyone
> can issue a request claiming that they were referred to that resource
> by an arbitrary third party.  I think the refer draft should get the
> level of security at least as high as general SIP, so that the final UAS
> can reasonably restrict access to itself.
> 
> Has 3GPP accepted REFER as the way to implement call transfer?  Security
> was a huge consideration when my proposal to use REFER in 3G was initially
> rejected last May.  My suspicion is that without a "reasonable" security
> mechanism (like comparable to HTTP digest authentication, a sufficiently
> low threshold to meet), no service provider will allow REFER.

3GPP has flows based on the REFER, but they are in stand-by, in the annex
of the specification, waiting to have a wider acceptance and to resolve
the security issues that you point out.

> 
> While a mechanism to protect header integrity is sorely needed in SIP,
> I don't believe it will solve the problems of REFER.  The UAS would
> want to authenticate the referrer (UA that initiated the REFER), not just
> the UA that initiated the refer-requested INVITE.
> 
> Consider the following as a strawman proposal:
> 
>   Agent A                Agent B                 Agent C
>      |                      |                      |
>      |---REFER------------->|                      |
>      |<--202 Accepted-------|                      |
>      |                      |---INVITE------------>|
>      |                      |<--4xx Ref Auth-(*1)--|
>      |<--NOTIFY (w/4xx)-----|---ACK--------------->|
>      |---200 OK------------>|                      |
>      |                      |                      |
>      |---REFER-(w/Auth,*2)->|                      |
>      |<--202 Accepted-------|                      |
>      |                      |---INVITE-(w/Auth)--->|
>      |                      |<--200 OK-------------|
>      |<--NOTIFY (w/200)-----|---ACK--------------->|
>      |---200 OK------------>|                      |
>      |                      |                      |
> 
> Agent C, (*1) responds to the INVITE with a Referred-By header by a new 4xx
> response code, requesting authentication by the Referred-By-entity.
> Agent C provides a challenge.  This information is passed back to Agent
> A in the NOTIFY; more than just the 4xx response code is in this
> message/sipfrag.
> 
> Agent A then re-issues the REFER with the proper authentication (*2)
> response.  This authentication information is included in the INVITE
> sent by Agent B to Agent C, who then accepts the request.
> 
> Can this use the existing "Authentication-Info" and "Authorization" headers?
> If so, how does Agent B know whether to answer the authorization request,
> or pass it back to Agent A?  A new 4xx response code could help, but what
> if Agent C also wanted to authenticate Agent B?  Perhaps new headers
> are required for this. If so, they would seem to be REFER-specific, and
> should be included in this draft instead of in a general security
> principles and procedures document.

I agree with you that some sort of authentication mechanism is desirable.
However I think that the problem is difficult to solve. In your example,
does it mean that A and C must share some secret key in order to authenticate
each other? 

If the answer is yes, I don't think the mechanism is valid, because it 
implies a heavy key management scheme between agents A and C in your 
example. Or are you thinking of something completely different.

/Miguel


> Bill Marshall
> wtm@research.att.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Miguel-Angel Garcia                     Oy LM Ericsson AB
                                        Jorvas, Finland
mailto:Miguel.A.Garcia@ericsson.com     Phone:  +358 9 299 3553
mailto:Miguel.A.Garcia@piuha.net        Mobile: +358 40 5140002


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 17:40:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27875
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 17:40:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA21904
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 17:40:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA20375;
	Fri, 16 Nov 2001 16:51:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA20344
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 16:51:53 -0500 (EST)
Received: from hoemail2.firewall.lucent.com (hoemail2.lucent.com [192.11.226.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26779
	for <sip@ietf.org>; Fri, 16 Nov 2001 16:51:48 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by hoemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fAGLpKm19839
	for <sip@ietf.org>; Fri, 16 Nov 2001 16:51:20 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <WPS1ML03>; Fri, 16 Nov 2001 21:51:14 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3494@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>, SIP LIST <sip@ietf.org>,
        "'Robert Sparks'" <rsparks@dynamicsoft.com>
Subject: RE: [Sip] -05bis and Contact
Date: Fri, 16 Nov 2001 21:51:13 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

When are we going to stop doing deprecation in this way.

All it does is lead to confusion. We've had it on Hide in the past, and now
we are having it here.

If the item is deprecated - take it out entirely. Don't leave it lying
around in the syntax.

If someone really wants to find out how to implement a deprecated item, then
let them go to the old version of the specification and do it from there
(after all RFCs never die).

The sole place a deprecated item should appear in the new specification is
in a list of changes since the previous version of the specification.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Robert Sparks[SMTP:rsparks@dynamicsoft.com]
> Sent: 	09 November 2001 21:55
> To: 	'Vijay Gurbani'; SIP LIST
> Subject: 	RE: [Sip] -05bis and Contact
> 
> Use of the action parameter has been deprecated,
> as such, there is no need to explicitly define it
> in the syntax (it is still syntactically valid to
> include it - it matches under contact-extension -
> it just doesn't have semantic meaning).
> 
> RjS
> 
> > -----Original Message-----
> > From: Vijay Gurbani [mailto:vkg@lucent.com]
> > Sent: Friday, November 09, 2001 2:45 PM
> > To: SIP LIST
> > Subject: [Sip] -05bis and Contact
> > 
> > 
> > In -05bis' definition of Contact (line 3492, PDF version), it 
> > appears that
> > the "action" parameter has disappeared since it says 
> > "parameters defined for
> > Contact include "q" and "expires"..."  However, in the BNF on 
> > page 134,
> > the "action" parameter is present.
> > 
> > I hope that the BNF on page 134 is accurate, not the 
> > description of para-
> > meters on line 3492.  The "action" parameter has not 
> > disappeared, has it?
> > I would hope not.
> > 
> > Thanks,
> > 
> > - vijay
> > -- 
> > Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> > Internet Software and eServices Group 
> > Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> > Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: 
> > +1 630 713 0184
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 17:41:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27943
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 17:41:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA22011
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 17:41:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA20461;
	Fri, 16 Nov 2001 16:56:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA20433
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 16:56:20 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26838
	for <sip@ietf.org>; Fri, 16 Nov 2001 16:56:11 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAGLsJCJ010899;
	Fri, 16 Nov 2001 16:54:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JK9H>; Fri, 16 Nov 2001 16:55:42 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7DE@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Drage, Keith (Keith)'" <drage@lucent.com>,
        "'Vijay Gurbani'"
	 <vkg@lucent.com>, SIP LIST <sip@ietf.org>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Subject: RE: [Sip] -05bis and Contact
Date: Fri, 16 Nov 2001 16:55:40 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I agree wholeheartedly - it should be gone from the
next iteration of the doc.

RjS

> -----Original Message-----
> From: Drage, Keith (Keith) [mailto:drage@lucent.com]
> Sent: Friday, November 16, 2001 3:51 PM
> To: 'Vijay Gurbani'; SIP LIST; 'Robert Sparks'
> Subject: RE: [Sip] -05bis and Contact
> 
> 
> When are we going to stop doing deprecation in this way.
> 
> All it does is lead to confusion. We've had it on Hide in the 
> past, and now
> we are having it here.
> 
> If the item is deprecated - take it out entirely. Don't leave it lying
> around in the syntax.
> 
> If someone really wants to find out how to implement a 
> deprecated item, then
> let them go to the old version of the specification and do it 
> from there
> (after all RFCs never die).
> 
> The sole place a deprecated item should appear in the new 
> specification is
> in a list of changes since the previous version of the specification.
> 
> Keith
> 
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
> 
> > ----------
> > From: 	Robert Sparks[SMTP:rsparks@dynamicsoft.com]
> > Sent: 	09 November 2001 21:55
> > To: 	'Vijay Gurbani'; SIP LIST
> > Subject: 	RE: [Sip] -05bis and Contact
> > 
> > Use of the action parameter has been deprecated,
> > as such, there is no need to explicitly define it
> > in the syntax (it is still syntactically valid to
> > include it - it matches under contact-extension -
> > it just doesn't have semantic meaning).
> > 
> > RjS
> > 
> > > -----Original Message-----
> > > From: Vijay Gurbani [mailto:vkg@lucent.com]
> > > Sent: Friday, November 09, 2001 2:45 PM
> > > To: SIP LIST
> > > Subject: [Sip] -05bis and Contact
> > > 
> > > 
> > > In -05bis' definition of Contact (line 3492, PDF version), it 
> > > appears that
> > > the "action" parameter has disappeared since it says 
> > > "parameters defined for
> > > Contact include "q" and "expires"..."  However, in the BNF on 
> > > page 134,
> > > the "action" parameter is present.
> > > 
> > > I hope that the BNF on page 134 is accurate, not the 
> > > description of para-
> > > meters on line 3492.  The "action" parameter has not 
> > > disappeared, has it?
> > > I would hope not.
> > > 
> > > Thanks,
> > > 
> > > - vijay
> > > -- 
> > > Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> > > Internet Software and eServices Group 
> > > Lucent Technologies/Bell Labs Innovations, 2000 Lucent 
> Lane, Rm 6G-440
> > > Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: 
> > > +1 630 713 0184
> > > 
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the 
> application of sip
> > > 
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 17:45:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA28113
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 17:45:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA22184
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 17:45:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA21086;
	Fri, 16 Nov 2001 17:15:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA21023
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 17:15:40 -0500 (EST)
Received: from bdsl.66.12.12.130.gte.net (bdsl.66.12.12.130.gte.net [66.12.12.130])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27178;
	Fri, 16 Nov 2001 17:15:35 -0500 (EST)
Received: from flak (localhost.localdomain [127.0.0.1])
	by bdsl.66.12.12.130.gte.net (8.11.2/8.11.2) with SMTP id fAGMLeD28518;
	Fri, 16 Nov 2001 16:21:40 -0600
Message-ID: <013901c16eec$1b602eb0$de036e3f@flak>
From: "Dean Willis" <dean.willis@softarmor.com>
To: <sip@ietf.org>, "Sipping \(E-mail\)" <sipping@ietf.org>
Date: Fri, 16 Nov 2001 16:14:47 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Content-Transfer-Encoding: 7bit
Subject: [Sip] Agenda Development for Upcoming meetings at IETF-52
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Once again, I'll be coordinating agendas (agendae?) for SIP and SIPPING at
IETF 52. I'll soon advise you of URLs for the requests I've received and for
draft agendas as they mature.

Final working group agendas are due to IETF by 5December.

I've already received some requests, so its well past time for guidelines.

As per IETF policy, meeting time is for discussing things we need to talk
about in person. This doesn't include presentations of new stuff that
haven't been discussed on list.

AD Scott Bradner gave all transport-are WG chairs the following direction.
As usual, his terse prose serves the purpose in a most workmanlike fashion,
so I present it unabridged:

--------------------------------
 Don't let people do a "presentation" of the content of
 a document. Instead, make them do 1 or 2 slides with the
 open issues or controversial topics and lead a discussion
 to a resolution.

 If a slide with a table of pros and cons for a particular
 problem is needed, that is fine.

 If a slide with a figure is needed to explain where the
 things fit in the overal scheme of things, that is fine too.
-------------------------------

Clearly we have plenty of open issues. I'd like to hear suggestions for
topics that you feel are important and worth addressing during our valuable
meeting time, as well as requests for any smaller-group adhocs that you
think need to be held in conjunction with IETF.

Thanks,

--
Dean


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 17:55:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA28358
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 17:55:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA22265
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 17:55:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA21232;
	Fri, 16 Nov 2001 17:26:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA21205
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 17:26:46 -0500 (EST)
Received: from hoemail1.firewall.lucent.com (hoemail1.lucent.com [192.11.226.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27374
	for <sip@ietf.org>; Fri, 16 Nov 2001 17:26:41 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by hoemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fAGMQDx22198
	for <sip@ietf.org>; Fri, 16 Nov 2001 17:26:13 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <WPS1MMHJ>; Fri, 16 Nov 2001 22:26:12 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3495@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'sip@ietf.org'" <sip@ietf.org>,
        "Drage, Keith (Keith)"
	 <drage@lucent.com>
Subject: RE: [Sip] bis-05: use of 100 Trying
Date: Fri, 16 Nov 2001 22:26:10 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Any response from the authors of the bis draft on this one yet.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Drage, Keith (Keith)[SMTP:drage@lucent.com]
> Sent: 	01 November 2001 12:02
> To: 	'sip@ietf.org'
> Subject: 	[Sip] bis-05: use of 100 Trying
> 
> Based on the CANCEL thread that is going on, I was trying to sort out the
> usage that is currently mandated for generating 100 Trying, which is
> different from bis-04.
> 
> For INVITE transactions, 
> 
> -	stateless proxies never generate it (16.9). It must pass it on no
> matter what request it relates to (section 16.9);
> 
> -	for all other servers: figure 7 (page 95) and the text in 17.2.1
> cover this. The text says MAY generate a 100 unless... The figure implies
> a
> MUST generate 100. 
> 
> I think a distinction should be drawn here between proxy servers and user
> agent servers. I have no problem indicating that proxy servers MUST
> generate
> 100 Trying. 
> 
> For user agent servers, surely there is always a better provisional
> response
> to send. Even if the UAS is taking time during a lookup, there is
> important
> information to send that a UA has been reached, and therefore 183 is
> always
> more appropriate that 100. Therefore surely it would be better to specify
> UAS MAY generate 183 unless...
> 
> 
> For non-INVITE transactions,
> 
> -	stateless proxies never generate it (16.9). It must pass it on no
> matter what request it relates to (section 16.9);
> 
> -	for all other servers: figure 8 (page 105) and the text in 17.2.2
> cover this. There is no text covering the generation of any provisional
> response, not even 100 Trying. However figure 8 indicates that the TU may
> generate 1xx responses, and that the server process will then pass them
> on.
> 
> Does this mean that a TU in a proxy can independently generate 1xx
> responses
> (including 100), or is it an attempt to represent that if a proxy receives
> a
> 1xx response, it will pass it on through the TU and therefore the server
> side will generate it? 
> 
> While the figures cover this for the client and server state machine, the
> TU
> needs requirements to state that this happens in the text, and these I
> cannot find. At a minimum therefore, I believe we have a hole in the
> specification, but I am not sure how to fill it. Surely it would be better
> to preclude 1xx responses altogether in this case, and therefore if a
> stateful proxy client receives such a response it kills it. 
> 
> I am unsure whether 100 Trying should be permitted or barred in the above
> case. Currently the balance of the text would imply it is precludes for
> non-INVITE which would appear to me to be fine.
> 
> Keith
> 
> 
> 
> 
> 	
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 18:24:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28987
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 18:24:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA22916
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 18:24:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22708;
	Fri, 16 Nov 2001 18:05:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22679
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 18:05:23 -0500 (EST)
Received: from auemail2.firewall.lucent.com (auemail2.lucent.com [192.11.223.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28645
	for <sip@ietf.org>; Fri, 16 Nov 2001 18:05:19 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail2.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fAGN4pn03322
	for <sip@ietf.org>; Fri, 16 Nov 2001 18:04:51 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <WPS1MMPC>; Fri, 16 Nov 2001 23:04:45 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC3496@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        "'Jonathan Rosenberg'"
	 <jdrosen@dynamicsoft.com>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Shan Lu
	 <shanlu@sentito.com>, sip@ietf.org
Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
Date: Fri, 16 Nov 2001 23:04:44 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I believe this is much the same problem.

You may also like to consider whether we have sufficient information to
route the ACK that is a response to 3xx or 4xx when the INVITE passed
through an intermediate proxy behaving statelessly for the INVITE
transaction, but which appeared on a pre-loaded Route. In this case assume
that the intermediate proxy wishes to process all methods, no matter what
they are.

The ACK should presumably contain the same routeing information as the
INVITE, but ACKs cannot contain the Route header.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Jonathan Rosenberg[SMTP:jdrosen@dynamicsoft.com]
> Sent: 	12 November 2001 17:01
> To: 	'Christer Holmberg'; Robert Sparks
> Cc: 	'Gonzalo Camarillo'; Shan Lu; Jonathan Rosenberg; sip@ietf.org
> Subject: 	RE: [Sip] How does Stateless Proxy handle Retransmission
> 
> 
> 
>  
> 
> > -----Original Message-----
> > From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> > Sent: Saturday, November 10, 2001 3:34 AM
> > To: Robert Sparks
> > Cc: 'Gonzalo Camarillo'; Shan Lu; Jonathan Rosenberg; sip@ietf.org
> > Subject: Re: [Sip] How does Stateless Proxy handle Retransmission
> > 
> > 
> > 
> > Hi,
> > 
> > Just one clarification I would like to get.
> > 
> > To my understanding stateless proxies don't Record-Route.
> 
> No, that is not correct. Statelessness and record-routing are orthogonal.
> 
> > 
> > However, IF the INVITE has a pre-defined route (if it will be 
> > allowed),
> > that route MAY include a stateless proxy. Then, if I want to 
> > CANCEL the
> > INVITE I guess I must include the same route in the CANCEL (it IS
> > allowed according to Table 3 on page 132), because otherwise 
> > there is no
> > guarantee that the "routing algorithm" of the stateless proxy will
> > forward the CANCEL to the same destination as the INVITE?
> 
> This is a good point. For INVITE with pre-loaded Route, the CANCEL should
> probably have the same route set as the request its cancelling. This will
> also be needed for re-INVITE. 
> 
> We need to add that to the spec.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 16 18:27:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA29058
	for <sip-archive@odin.ietf.org>; Fri, 16 Nov 2001 18:27:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA23022
	for sip-archive@odin.ietf.org; Fri, 16 Nov 2001 18:27:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22822;
	Fri, 16 Nov 2001 18:10:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA22730
	for <sip@optimus.ietf.org>; Fri, 16 Nov 2001 18:10:12 -0500 (EST)
Received: from mail5.microsoft.com (mail5.microsoft.com [131.107.3.121])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28756
	for <sip@ietf.org>; Fri, 16 Nov 2001 18:10:07 -0500 (EST)
Received: from inet-vrs-05.redmond.corp.microsoft.com ([157.54.6.148]) by mail5.microsoft.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 16 Nov 2001 15:09:18 -0800
Received: from 157.54.6.150 by inet-vrs-05.redmond.corp.microsoft.com (InterScan E-Mail VirusWall NT); Fri, 16 Nov 2001 15:09:18 -0800
Received: from red-msg-07.redmond.corp.microsoft.com ([157.54.12.75]) by inet-hub-05.redmond.corp.microsoft.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Fri, 16 Nov 2001 15:09:18 -0800
x-mimeole: Produced By Microsoft Exchange V6.0.5762.3
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Subject: RE: [Sip] bis definition of a call (was  [Sip-implementors] Are we allowed to use same Call-ID ...)
Date: Fri, 16 Nov 2001 15:08:28 -0800
Message-ID: <E330C3C8F912D441B11B0550EFA13AB50333A7BB@red-msg-07.redmond.corp.microsoft.com>
Thread-Topic: [Sip] bis definition of a call (was  [Sip-implementors] Are we allowed to use same Call-ID ...)
Thread-Index: AcFusJBNKr3tLoI/QBWgld9QvhDd5QAG/rmA
From: "Radu Ionescu" <radui@microsoft.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>,
        "Bob Penfield" <bpenfield@acmepacket.com>
Cc: <sip@ietf.org>
X-OriginalArrivalTime: 16 Nov 2001 23:09:18.0519 (UTC) FILETIME=[B7F09470:01C16EF3]
Content-Transfer-Encoding: 8bit
X-MIME-Autoconverted: from quoted-printable to 8bit by optimus.ietf.org id SAA22731
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

I agree that dialog is concretely defined thing in -05. But Call and
Call Leg are loosely defined in -05. 

The question was specific for the purpose of mixing - yes it is
extreemely context specific (this question is out of context without
doing something to invoke mixing). Can RFC be more specific on this
issue since I expect to see a lot of people doing mixing? 

Thank you,
Radu

-----Original Message-----
From: Robert Sparks [mailto:rsparks@dynamicsoft.com] 
Sent: Friday, November 16, 2001 7:09 AM
To: 'Bob Penfield'; Radu Ionescu
Cc: sip@ietf.org
Subject: RE: [Sip] bis definition of a call (was [Sip-implementors] Are
we allowed to use same Call-ID ...)


I strongly disagree that the -04 definition was correct, and will go
further to say that there is no value in trying to provide a concise
technical definition. 

If I have a multiple-200 to INVITE scenario and don't do something to
invoke mixing, I end up in more than one "call", each with independent
state and purpose. If a pair of participants duck out of a conference
for a side conversation using some of the mechanisms Rohan has been
kicking around, are they in the same "call"?

The point is that the term is, at best, extremely context specific.
We've got too many interpretations in popular use to pick one and change
the names of all the others. Lets leave it loose.

Now, I disagree that -05 doesn't make a distinction in the definitions
between call and dialog (call-leg). A dialog is a concretely defined
thing in -05.


RjS



> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Friday, November 16, 2001 8:00 AM
> To: sip-implementors@cs.columbia.edu; Radu Ionescu
> Cc: sip@ietf.org
> Subject: [Sip] bis definition of a call (was [Sip-implementors] Are we

> allowed to use same Call-ID ...)
> 
> 
> I am putting this on the SIP list because it has a bis-05 issue.
> 
> I think the bis-04 definition of a "call" is the correct one. A call 
> includes all dialogs in a session invited by a common source, and they

> would have the same Call-ID. Bis-05 should be corrected. Or was
> there a specific
> reason for changing the definition?
> 
> (-:bob
> 
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
> 
> ----- Original Message -----
> From: "Radu Ionescu" <radui@microsoft.com>
> To: <sip-implementors@cs.columbia.edu>
> Sent: Thursday, November 15, 2001 3:35 PM
> Subject: [Sip-implementors] Are we allowed to use same
> Call-ID for multiple
> dialogs for the purpose of a non based MCU multiparty conference?
> 
> 
> >
> >
> > Bis05 does not seem to make any difference between Call and CallLeg
> >
> > Call: A call is an informal term that refers to a dialog
> between peers,
> > generally set up for the purposes of a multimedia conversation.
> >
> > Call leg: Another name for a dialog.
> >
> > Dialog: A dialog is a peer-to-peer SIP relationship between
> a Various
> > Authors [Page 13]  Internet Draft SIP October 26, 2001 UAC
> and UAS that
> > persists for some time. A dialog is established by SIP
> messages, such as
> > a 2xx response to an INVITE request. A dialog is identified
> by a call
> > identifier, local address, and remote address. A dialog was formerly

> > known as a call leg in RFC 2543.
> >
> >
> >
> > However in Bis04
> >
> > Call: A call consists of all participants in a session invited by a 
> > common source. A SIP call is identified by a globally unique call-id

> > (Section 10.12), and is created when a user agent sends an INVITE 
> > request. This INVITE request may generate multiple
> acceptances, each of
> > which are part of the same call (but different call legs).
> Furthermore,
> > if a user is invited to the same multicast session by
> several people,
> > each of these invitations will be a unique call. In a multiparty 
> > conference unit (MCU) based call-in conference, each
> participant uses a
> > separate call to invite himself to the MCU.
> >
> > Call leg: A call leg is a pairwise signaling relationship
> between two
> > SIP user agents. A call leg is established when a call invitation 
> > results in a successful response. It is identified by the
> combination of
> > the Call-ID header field, the local address of the
> participant, and the
> > remote address of the other participant. For the caller, the local 
> > address is the From field of the INVITE, and the remote
> address is the
> > To field of the 200 class response. For the callee, the
> local address is
> > the To field of the 200 class response to the INVITE, and the remote

> > address is the From field of the INVITE. SIP URIs are
> compared according
> > to Section 2.1, non-SIP URIs according to Section 2.2.
> Within the same
> > Call-ID, requests with From A and To value B belong to the
> same call leg
> > as the requests in the opposite direction, i.e., From B and To A.
> >
> >
> >
> >
> > My question - are we allowed to use same Call-ID for
> multiple dialogs
> > for the purpose of a non based MCU multiparty conference?
> >
> > Thank you,
> > Radu
> >
> > _______________________________________________
> > Sip-implementors mailing list Sip-implementors@cs.columbia.edu
> > http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
> >
> 
> _______________________________________________
> Sip-implementors mailing list Sip-implementors@cs.columbia.edu
> http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 17 05:13:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA23373
	for <sip-archive@odin.ietf.org>; Sat, 17 Nov 2001 05:13:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA12873
	for sip-archive@odin.ietf.org; Sat, 17 Nov 2001 05:13:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA12256;
	Sat, 17 Nov 2001 04:40:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA12118
	for <sip@optimus.ietf.org>; Sat, 17 Nov 2001 04:40:42 -0500 (EST)
Received: from beamer.mchh.siemens.de (beamer.mchh.siemens.de [194.138.158.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA23203
	for <sip@ietf.org>; Sat, 17 Nov 2001 04:40:39 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id KAA23888
	for <sip@ietf.org>; Sat, 17 Nov 2001 10:40:41 +0100 (MET)
Received: from mchh159e.mch.pn.siemens.de ([139.21.130.171])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id KAA10724
	for <sip@ietf.org>; Sat, 17 Nov 2001 10:40:40 +0100 (MET)
Received: by mchh159e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <WT6PGJWN>; Sat, 17 Nov 2001 10:40:37 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E63367DD@mchh161e>
From: Mayer Georg  ICM N PG SP ST SN 1 <Georg.Mayer@icn.siemens.de>
To: "SIP (E-Mail)" <sip@ietf.org>
Subject: [SIP] Correlation of Dialogs
Date: Sat, 17 Nov 2001 10:40:21 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello SIP Group,

following some internal and SIPPING list discussions I started working on a
possible extension for SIP which allows to correlate two dialogs (of
whatever type) for the sake of communication between entities which act as a
proxy for an end-to-end dialog and which additionally need to exchange
signaling related to the end-to-end dialog amongst each other. Additionally
the proposed solution also would allow to initiate the session tear down
from the network. 

Below please find some outline of the requirements and the proposed
solution. This text was written in a way that it might be used as some kind
of abstract or introduction to a new Internet Draft. I would be happy if the
SIP experts would indicate to me whether there is an interest in the below
outlined solution and in which way the proposal can be improved further.
Please feel free to send me any comment or further proposal. 

Please also treat the network initiated tear down proposal as an addition to
the main (correlation) proposal - the correlation mechanism on its own
(without the network initiated tear down option) can be achieved on its own.

Thank you for your cooperation. Keep on signaling!
Georg



Dialog Correlation - the CORRELATE method

The Session Initiation Protocol (SIP) enables two user agents to communicate
via a signalling connection (dialog). This dialog between the user agents is
identified by the combination of a globally unique Call-ID, a To and a From
header, wherby these two headers need to carry a tag, which is also mandated
to be globally unique. The individual requests that are sent between the
users carry a monotonously increasing value, the so-called CSeq. 
   
   Although all SIP signalling messages for one specific dialog can be
forced to follow a specific route which involves one or more proxies, the
proxies can neither send messages directly to one or both of the user agents
nor can they communicate amongst each other on the same dialog. For the
purpose of such a communication, additional dialogs need to be established,
which cannot be correlated to each other.
   
   Certain applications require the communication of proxies with one or
both user agents or with other proxies on existing dialogs. An example for
such an application is e.g. a billing server which gets information from
another application server that offers certain services to the user. In
order to charge the user requested services not only to the user but also to
relate it to the specific dialog, the billing server needs to get additional
information from the application server. Furthermore the billing server
might want to inform the user about the already collected amount of charges
directly during the dialog (Advice of Charge). 
   
   This document introduces a mechanism that allows any entity (user agent
or proxy) which is involved in a SIP dialog (the so-called base-dialog) to
establish a second SIP signalling session (the so-called auxiliary-dialog)
to any other entity which is involved in the same base-dialog and to
correlate the auxiliary-dialog to the base-dialog. Correlation in the sense
of this specification means that entities that receive messages on the
auxiliary-dialog shall treat these messages as if they were received on the
base-dialog. However, the messages of the auxiliary-dialog shall not be sent
to any entity that is not on the signaling route of the auxiliary-dialog
(which might be different from the singaling route of the base-dialog). 
   
   This correlation mechanism also allows the correlation of two dialogs
which are established between the same user agents. 
   
   This correlation mechanism also allows the correlation of two dialogs of
different nature, e.g. a dialog established by an INVITE method and another
one which was established by a SUBSCRIBE method.
   
   In order to correlate a new auxiliary-dialog to an already existing
base-dialog the Correlate-To, Correlat-From and Correlate-Call-ID headers
are defined in this document. They hold the information of the To, From and
Call-ID headers which uniquely identify the base-dialog. These three headers
can be used in any SIP request.
   
   In order to correlate two already existing dialogs this document defines
the CORRELATE method. The CORRELATE method can be sent at any time during
the life-time of a dialog and carries (besides other basic SIP headers) the
Correlate-To, Correlate-From and Correlate-Call-ID headers. The dialog on
which the CORRELATE method is sent is the auxiliary-dialog. The dialog which
is identified by the Correlate-To, Correalte-From and Correlate-Call-ID
headers is the base-dialog. 
   
   In order to immediately establish an auxiliary-dialog the CORRELATE
method can be used as a initial SIP request, which establishes a new dialog.
In this case, the CORRELATE method may carry an Expires header. The
auxiliary-dialog is released when the base-dialog is released. If an Expires
header was placed into the initial CORRELATE request and the value of the
Expires header expires before the base-dialog is released, then the
auxiliary-dialog shall immediately be released. An auxiliary-dialog MUST NOT
persist longer then a base-dialog. 
   
   For special applications the CORRELATE method can carry an additional
Correlate-Method header. In this case the CORRELATE method shall be
interpreted by the receiving entities as if the method indicated in the
Correlate-Method header was received on the base-dialog. 
   
   A special application example is the network initiated call release
scenario. If a network entity (proxy) sees the need to tear down an existing
dialog between two user agents and this specific proxy is on the route of
this dialog, then it can use the CORRELATE method for this purpose. It can
send a CORRELATE method to both user agents. The Correlate-Method header
shall indicate a "BYE" message. All entities along the route of the dialog
shall regard this message as if they received a BYE message on the dialog
which is identified by the Correlate-To, Correlate-From and
Correlate-Call-ID headers in the CORRELATE message.

_______________________________________________________
Georg Mayer - Siemens AG
Information and Communication Mobile
ICM N PG SP ST SN1
Hofmannstr. 51, 81359 Munich, Germany
Fon: +49-89-722-33114
Fax: +49-89-722-62250
Mobile: +49-172-5371233
Email: georg.mayer@icn.siemens.de




_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 17 11:57:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA27226
	for <sip-archive@odin.ietf.org>; Sat, 17 Nov 2001 11:57:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA20041
	for sip-archive@odin.ietf.org; Sat, 17 Nov 2001 11:57:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA19454;
	Sat, 17 Nov 2001 11:16:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA19423
	for <sip@optimus.ietf.org>; Sat, 17 Nov 2001 11:16:49 -0500 (EST)
Received: from chmls16.mediaone.net (chmls16.mediaone.net [24.147.1.151])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA26840
	for <sip@ietf.org>; Sat, 17 Nov 2001 11:16:47 -0500 (EST)
Received: from prozac ([207.79.14.104])
	by chmls16.mediaone.net (8.11.1/8.11.1) with SMTP id fAHGGnT07561
	for <sip@ietf.org>; Sat, 17 Nov 2001 11:16:50 -0500 (EST)
Reply-To: <zeren@pobox.com>
From: "Mark Zeren" <markzeren@mediaone.net>
To: <sip@ietf.org>
Date: Sat, 17 Nov 2001 11:22:28 -0500
Message-ID: <000c01c16f84$0d837610$8d981f42@prozac>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] Negotiating audio mixing capabilities
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


I have several questions regarding the negotiation of audio mixing
capabilities.

The recent "draft-rosenberg-mmusic-sdp-offer-answer-00.txt," states: "when
receiving multiple streams of the same type, the streams MUST be mixed
before playing them out."

If the answerer cannot mix multiple streams (for example because of a
hardware limitation) how should it indicate this information to the offerer?

If the offerer is optionally capable of mixing to one m line (e.g. by
acquiring an external conferencing resource), how should that capability be
communicated to and allocated by the answerer?

These questions also bear on the "Centralized Signaling, Distributed Media"
conferencing model recently described in
"draft-ietf-sipping-conferencing-models-00.txt". In that model a central
controller would send an invite with multiple m lines, one for each other
participant in the call. How can a controller indicate that it is also able
to allocate a conferencing resource to mix the media for a less capable
terminal? Additionally, once the controller has allocated a conferencing
resource it may want to offer the resource to the other participants in the
call. A re-invite could be used to force all other parties to use the
conferencing resource, but I see no way to offer the conferencing resource
as an "option" to the other participants.

I have read a reasonable number of the SIP related drafts and RFCs but I
have not yes found material that addresses this specific topic.

Mark Zeren - mark@zeren.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 17 17:04:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA00100
	for <sip-archive@odin.ietf.org>; Sat, 17 Nov 2001 17:04:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA26010
	for sip-archive@odin.ietf.org; Sat, 17 Nov 2001 17:04:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA25138;
	Sat, 17 Nov 2001 16:29:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA25109
	for <sip@optimus.ietf.org>; Sat, 17 Nov 2001 16:29:47 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA29814
	for <sip@ietf.org>; Sat, 17 Nov 2001 16:29:43 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id QAA29482
	for <sip@ietf.org>; Sat, 17 Nov 2001 16:29:44 -0500 (EST)
Received: from cs.columbia.edu (localhost [127.0.0.1])
	by bart.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAHLTgw01435
	for <sip@ietf.org>; Sat, 17 Nov 2001 16:29:42 -0500 (EST)
Message-ID: <3BF6D75A.AE3CB1D4@cs.columbia.edu>
Date: Sat, 17 Nov 2001 16:32:10 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
X-Mailer: Mozilla 4.78 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] REFER security
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I'm trying to better understand the REFER security issues. It seems like
there are two approaches:

(1) If the issuer of the REFER is the same as the caller or callee. In
that case, the main problem is presumably making sure that the REFER
does indeed come from the same party. As in

A -- INVITE --> B
A -- REFER (C) -- B
                  B --- INVITE --> C
                        R-By: A

It's not clear that C would care about A's authenticated identity, as B
is in any event responsible for requests it issues, and shouldn't be
able to "blame" A for waking C at 3 am.

(2) The REFER comes "out of the blue", e.g., 

A -- INVITE --> B
                B --- REFER (A) --> C

A <------------ INVITE ------------ C

This case is no different than standard request authentication. C would
want to be sure that it is indeed B that it is talking to. C also needs
to authenticate itself to A.

Is this a fair summary?

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 18 23:56:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA04480
	for <sip-archive@odin.ietf.org>; Sun, 18 Nov 2001 23:56:51 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id XAA07628
	for sip-archive@odin.ietf.org; Sun, 18 Nov 2001 23:56:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA06761;
	Sun, 18 Nov 2001 23:29:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA06729
	for <sip@optimus.ietf.org>; Sun, 18 Nov 2001 23:29:44 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA03842
	for <sip@ietf.org>; Sun, 18 Nov 2001 23:29:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAJ4RlCJ016700;
	Sun, 18 Nov 2001 23:27:47 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JNCB>; Sun, 18 Nov 2001 23:29:09 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F22@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Drage, Keith (Keith)'" <drage@lucent.com>,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Shan Lu
	 <shanlu@sentito.com>, sip@ietf.org
Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
Date: Sun, 18 Nov 2001 23:29:04 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Drage, Keith (Keith) [mailto:drage@lucent.com]
> Sent: Friday, November 16, 2001 6:05 PM
> To: 'Christer Holmberg'; Robert Sparks; 'Jonathan Rosenberg'
> Cc: 'Gonzalo Camarillo'; Shan Lu; sip@ietf.org
> Subject: RE: [Sip] How does Stateless Proxy handle Retransmission
> 
> 
> I believe this is much the same problem.
> 
> You may also like to consider whether we have sufficient 
> information to
> route the ACK that is a response to 3xx or 4xx when the INVITE passed
> through an intermediate proxy behaving statelessly for the INVITE
> transaction, but which appeared on a pre-loaded Route. In 
> this case assume
> that the intermediate proxy wishes to process all methods, no 
> matter what
> they are.

Indeed, you are correct. It is the same problem. Dean pointed it out to me
privately. I have already corrected the text. 

> 
> The ACK should presumably contain the same routeing information as the
> INVITE, but ACKs cannot contain the Route header.

This has now changed in the text.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 00:03:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04602
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 00:03:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA08108
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 00:03:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA07372;
	Sun, 18 Nov 2001 23:38:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id XAA07341
	for <sip@optimus.ietf.org>; Sun, 18 Nov 2001 23:38:27 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id XAA04285
	for <sip@ietf.org>; Sun, 18 Nov 2001 23:38:22 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAJ4aRCJ016721;
	Sun, 18 Nov 2001 23:36:27 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JNCJ>; Sun, 18 Nov 2001 23:37:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F24@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>, sip@ietf.org,
        Jiri Kuthan
	 <jiri@iptel.org>
Subject: RE: [Sip] Stateless CANCEL Processing
Date: Sun, 18 Nov 2001 23:37:46 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Wednesday, November 14, 2001 5:04 PM
> To: sip@ietf.org; Jiri Kuthan
> Subject: Re: [Sip] Stateless CANCEL Processing
> 
> 
> ----- Original Message -----
> From: "Jiri Kuthan" <jiri@iptel.org>
> To: <sip@ietf.org>
> Sent: Wednesday, November 14, 2001 12:31 PM
> Subject: [Sip] Stateless CANCEL Processing
> 
> 
> > Can someone explain my why CANCELs for which no matching
> > INVITE/whatever transaction has not been found *MUST* be
> > processed *statelessly* (S. 16.8, bis-05)?
> >
> > I understand they must be processed (the INVITE might have
> > been stateless) but is then stateless processing of the
> > CANCEL a MUST too?
> >
> > What if the INVITE state does not exist and routing logic
> > asks for state (forking)? (I know, bizzar case but I just
> > wonder if we can remove possibly unnecessary requirements.)
> 
> I'm inclined to agree with Jiri. If the proxy knows that it 
> would not have
> statelessly forwarded the request being cancelled, why cannot it just
> respond with 481 (or even 200).

Hmm. THis is a good point. The main point is to not drop it on the floor;
whether or not it forwards it statelessly, or statefully, I guess that can
be an implementation choice.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 00:40:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04982
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 00:40:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA09464
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 00:40:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA08643;
	Mon, 19 Nov 2001 00:13:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA08612
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 00:13:23 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04752
	for <sip@ietf.org>; Mon, 19 Nov 2001 00:13:21 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAJ5BSCJ016800;
	Mon, 19 Nov 2001 00:11:28 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JND3>; Mon, 19 Nov 2001 00:12:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F2A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Radu Ionescu'" <radui@microsoft.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        Bob Penfield <bpenfield@acmepacket.com>
Cc: sip@ietf.org
Subject: RE: [Sip] bis definition of a call (was  [Sip-implementors] Are w
	e allowed to use same Call-ID ...)
Date: Mon, 19 Nov 2001 00:12:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Radu Ionescu [mailto:radui@microsoft.com]
> Sent: Friday, November 16, 2001 6:08 PM
> To: Robert Sparks; Bob Penfield
> Cc: sip@ietf.org
> Subject: RE: [Sip] bis definition of a call (was 
> [Sip-implementors] Are
> we allowed to use same Call-ID ...)
> 
> 
> I agree that dialog is concretely defined thing in -05. But Call and
> Call Leg are loosely defined in -05. 
> 
> The question was specific for the purpose of mixing - yes it is
> extreemely context specific (this question is out of context without
> doing something to invoke mixing). Can RFC be more specific on this
> issue since I expect to see a lot of people doing mixing? 

Bis is quite clear that for each dialog, the call-id is unique. THus, for a
centralized mixer, which involves multiple dialogs, each has a separate
call-id. They are correlated with the request URI (see
http://www.ietf.org/internet-drafts/draft-ietf-sipping-conferencing-models-0
0.txt). We have toyed with reusing call-id in the past, and always end up in
trouble since there are so many possible interpretations of what this means.
Now, the definition is concise and provides some useful properties (unique
identifiers are always useful).

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 00:56:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA05102
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 00:56:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id AAA09672
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 00:56:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA08980;
	Mon, 19 Nov 2001 00:28:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA08951
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 00:28:53 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA04882
	for <sip@ietf.org>; Mon, 19 Nov 2001 00:28:50 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAJ5QICJ016836;
	Mon, 19 Nov 2001 00:26:18 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <W5C2JND7>; Mon, 19 Nov 2001 00:27:41 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F2B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>, brett@broadsoft.com,
        sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 19 Nov 2001 00:27:39 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Tuesday, November 13, 2001 5:27 PM
> To: brett@broadsoft.com; sip@ietf.org
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> 
> 
> > -----Original Message-----
> > From: Brett Tate [mailto:brett@broadsoft.com]
> > Sent: Tuesday, November 13, 2001 1:01 PM
> > To: sip@ietf.org
> > Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> > 
> > 
> > > Sorry I wasn't clear.  I fully support 
> > > the bis-05 change here waiting for
> > > 1xx before sending CANCEL.  That fixes an 
> > > important problem.  I meant no one
> > > else appears concerned with the issue of 
> > > abandoned calls always ringing the
> > > phone (though briefly).  This is a side 
> > > affect of the fix introduced, and
> > > the concensus seems to be this is acceptable 
> > > given the potential human behaviour to change 
> > > your mind and abandon a call.  The side 
> > > affect is far more acceptable than the ring 
> > > forever problem being corrected with the
> > > bis-05 fix.
> > 
> > The solution only partially fixes the ring 
> > forever problem.  It does not resolve the 
> > issue related to a UAC unable to deliver 
> > CANCEL because of network/proxy/UAC problems.
> > Is this an item left to the implementer for
> > resolution, or should a solution be 
> > presented within the bis or extension draft?
> > Solutions using Expires or periodic 100rel 
> > could be documented in the bis.
> 
>  Good point.  The symptom is the same, but the cause differs 
> and the fix
> would differ.  This is certainly a scenario to consider, 
> given the time it
> may take for a final response to an Invite, increasing the 
> chances of a
> network or proxy problem arising during the transaction.  
> This seems like
> something that should be added to the open issues for bis.

I'm not sure. If the CANCEL is not delivered, this means some substantial
number of consecutive messages were lost - enough to signal a serious
network problem. All kinds of weird things will happen when you have major
network problems like this. We have not generally tried to deal with fixing
problems of this magnitude. If such a problem should occur, with the current
spec, the called party would pick up, no one would be there, and they'd hang
up. That would clean things up. Seems reasonable.


> 
>  Timer C would fire as discussed in 17.1.1.2 terminating the 
> transaction at
> a UAC (what the TU does when informed of the timeout is not 
> specified -
> CANCEL is what we are talking about).  A similar timer in the 
> proceeding
> state for the server transaction is not discussed in section 
> 17.2.1 but is
> needed, especially if an Expires header is included in the Invite.

No, this is a different scenario. The timer is needed in the client case
since a state transition depends on a message from an external entity, which
may never arrive. Here, we depend on a message from the SAME entity, which
will arrive unless there is some kind of software problem or bug, and it is
not reasonable to specify timers to handle these cases.

That said, yes, the UAS should indeed send a 487 or 408 after the Expires
header time has elapsed. That is not clear now but I think this is the
reasonable treatment and I've marked that to be changed.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 03:45:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA22445
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 03:45:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA21414
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 03:45:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA20476;
	Mon, 19 Nov 2001 03:09:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA20445
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 03:09:04 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA22071
	for <sip@ietf.org>; Mon, 19 Nov 2001 03:09:01 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fAJ892417808; Mon, 19 Nov 2001 03:09:02 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Mon, 19 Nov 2001 03:10:08 -0500
Message-ID: <000601c170d1$9b1bf120$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6F2B@DYN-EXCH-001.dynamicsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> That said, yes, the UAS should indeed 
> send a 487 or 408 after the Expires
> header time has elapsed. That is not clear now but 
> I think this is the reasonable treatment and 
> I've marked that to be changed.

Would it be beneficial to document a 
default Expires value for INVITE?  
Otherwise the value of infinity 
would continue to be the assumption.
I guess infinity could be fine for 
some applications; however I assume 
that most applications would like the 
default to be somewhere between 
3 minutes and 1 day as means to
possibly avoid sending it.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 11:53:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09286
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 11:53:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA08745
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 11:53:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA07926;
	Mon, 19 Nov 2001 11:28:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA07878
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 11:28:47 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA07979
	for <sip@ietf.org>; Mon, 19 Nov 2001 11:28:40 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAJGSgf27557
	for <sip@ietf.org>; Mon, 19 Nov 2001 17:28:42 +0100 (MET)
Received: from lmf.ericsson.se (lmf4ws450.lmf.ericsson.se [131.160.38.50])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAJGSgh03161
	for <sip@ietf.org>; Mon, 19 Nov 2001 18:28:42 +0200 (EET)
Message-ID: <3BF93339.698D2340@lmf.ericsson.se>
Date: Mon, 19 Nov 2001 18:28:41 +0200
From: Jari Arkko <Jari.Arkko@lmf.ericsson.se>
Organization: Oy L M Ericsson Ab
X-Mailer: Mozilla 4.77 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] New internet drafts on security
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Dear all,

We've published two new internet drafts around security and
SIP. They may take a few days to get to the official I-D
directories so I'll list below some URLs from which you
can access them in the meantime.

The first draft [1] is titled "HTTP (SIP) Authentication with
EAP". HTTP EAP authentication enables SIP and HTTP to be
authenticated using any of the methods supported in EAP,
a generic authentication framework used in PPP, IPsec remote
access, and various other situations. It is useful for the SIP
protocol because it opens up several new authentication methods
without additional specification work: token cards, public
keys, SRP, 2g/3g sim cards, and so on. These can be run both
h2h and e2e as desired, and without requiring intermediate
nodes to understand it. For instance, strong e2e authentication
could be run even if the hops were protected using some lower
layer method. Similarly, corporate networks could use this as
a client authentication method under TLS, reusing the token
cards and authentication databases the company already has
for other purposes. This draft also satisfies one of the
requirements in draft-garcia for supporting legacy
authentication in SIP.

The second draft [2] is titled "Security Mechanism Agreement
for SIP Connections". The purpose of this draft is to (a)
correct a vulnerability in HTTP Digest authentication for
man-in-the-middle attackers, and (b) to allow SIP peers
to *securely* pick the security method they are going to
use. A number of proposals have been made that could also
be used for 'negotiation', but this proposal attempts to
provide security against man-in-the-middle attackers.
On small networks policy configuration and software updates
are sufficient to deal with these attacks, but on large
networks that evolve over time, it isn't possible to demand
all devices must support the latest and strongest methods
and algorithms, yet where such support is available it should
be possible to take advantage of it without allowing trivial
attacks to downgrade the security. The draft works for both
the hop-by-hop and end-to-end cases, and as above satisfies
one of the requirements in draft-garcia for secure agreement
of access domain security mechanisms.

Of course, the above drafts are just one way of solving
a part of the complete problem. I'd like to invite discussion
on what the complete SIP security picture should be, as
well as various alternative approaches. For instance,
both Michael Thomas and Henning Schulzrinne have described
multi-security-scheme frameworks, perhaps we should discuss
if [2] is needed in such contexts. Also, some EAP methods
are capable of producing session keys in a secure manner,
these would potentially be useful for doing some sort of
symmetric crypto afterwards, maybe with Sanjoy Sen's draft
or with Michael's 'preshared secret crypto system'.

Perhaps the sip-security list is the appropriate list to
discuss these further. What about the next meeting, how
are the various security issues going to be discussed
in there? The framework proposal(s)? Various drafts filling
3gpp wishes? Other stuff?

Jari
----
[1] http://standards.ericsson.net/sip/drafts/draft-torvinen-http-eap-01.txt
[2] http://standards.ericsson.net/sip/drafts/draft-arkko-sip-sec-agree-00.txt

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 13:45:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA16513
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 13:45:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12520
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 13:46:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11716;
	Mon, 19 Nov 2001 13:10:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11685
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 13:10:47 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA13834
	for <sip@ietf.org>; Mon, 19 Nov 2001 13:10:45 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6att.ericy.com [138.85.92.14])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fAJIABP15969;
	Mon, 19 Nov 2001 12:10:11 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fAJIAB505126;
	Mon, 19 Nov 2001 12:10:11 -0600 (CST)
Received: from lmf.ericsson.se (rmt160162.am.ericsson.se [138.85.160.162]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA03937; Mon, 19 Nov 2001 12:10:09 -0600 (CST)
Message-ID: <3BF9506B.F1902FEF@lmf.ericsson.se>
Date: Mon, 19 Nov 2001 20:33:15 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] bis-05: use of 100 Trying
References: <475FF955A05DD411980D00508B6D5FB001AC3450@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

inline:

"Drage, Keith (Keith)" wrote:
> 
> Based on the CANCEL thread that is going on, I was trying to sort out the
> usage that is currently mandated for generating 100 Trying, which is
> different from bis-04.
> 
> For INVITE transactions,
> 
> -       stateless proxies never generate it (16.9). It must pass it on no
> matter what request it relates to (section 16.9);
> 
> -       for all other servers: figure 7 (page 95) and the text in 17.2.1
> cover this. The text says MAY generate a 100 unless... The figure implies a
> MUST generate 100.
> 
> I think a distinction should be drawn here between proxy servers and user
> agent servers. I have no problem indicating that proxy servers MUST generate
> 100 Trying.
> 
> For user agent servers, surely there is always a better provisional response
> to send. Even if the UAS is taking time during a lookup, there is important
> information to send that a UA has been reached, and therefore 183 is always
> more appropriate that 100. Therefore surely it would be better to specify
> UAS MAY generate 183 unless...

Line 2703 already says that if you are going to generate another
provisional response or a final response you do not have to generate
100.

"The server transaction MUST generate a 100 response (not any status
code - the specific value of 100) unless it knows 2703
that the TU will generate a provisional or final response within 200 ms,
in which case it MAY generate a 100 2704
response. 2705"

You claim that the UAS will ALWAYS have something better to send than a
100. Well, if my UAS is a SIP to ISUP gateway the best response I can
send is 100, because I cannot send a 183 on behalf of the end user until
I receive something from the ISUP network (typically ACM, early ACM or
even CPG in ANSI networks).

Therefore, I believe the current text is perfect as it is.

A different issue is that some folks want to return a provisional
response from any gateway in order to provide Contact info to the UAC.
However, I still have not seen a single example where this might be
useful.

Regards,

Gonzalo


> 
> For non-INVITE transactions,
> 
> -       stateless proxies never generate it (16.9). It must pass it on no
> matter what request it relates to (section 16.9);
> 
> -       for all other servers: figure 8 (page 105) and the text in 17.2.2
> cover this. There is no text covering the generation of any provisional
> response, not even 100 Trying. However figure 8 indicates that the TU may
> generate 1xx responses, and that the server process will then pass them on.
> 
> Does this mean that a TU in a proxy can independently generate 1xx responses
> (including 100), or is it an attempt to represent that if a proxy receives a
> 1xx response, it will pass it on through the TU and therefore the server
> side will generate it?
> 
> While the figures cover this for the client and server state machine, the TU
> needs requirements to state that this happens in the text, and these I
> cannot find. At a minimum therefore, I believe we have a hole in the
> specification, but I am not sure how to fill it. Surely it would be better
> to preclude 1xx responses altogether in this case, and therefore if a
> stateful proxy client receives such a response it kills it.
> 
> I am unsure whether 100 Trying should be permitted or barred in the above
> case. Currently the balance of the text would imply it is precludes for
> non-INVITE which would appear to me to be fine.
> 
> Keith
> 
> 
> Keith Drage
> Lucent Technologies
> Tel: +44 1793 776249
> Email: drage@lucent.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 13:54:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17068
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 13:54:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12613
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 13:54:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12043;
	Mon, 19 Nov 2001 13:27:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12014
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 13:27:37 -0500 (EST)
Received: from imo-d07.mx.aol.com (imo-d07.mx.aol.com [205.188.157.39])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15144
	for <sip@ietf.org>; Mon, 19 Nov 2001 13:27:35 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d07.mx.aol.com (mail_out_v31_r1.9.) id l.4b.146f17b3 (4380)
	 for <sip@ietf.org>; Mon, 19 Nov 2001 13:26:34 -0500 (EST)
Message-ID: <4b.146f17b3.292aa8d9@aol.com>
Date: Mon, 19 Nov 2001 13:26:33 EST
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Subject: [Sip] SIP-cookies
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Comments on draft-willis-sip-cookies-00:

This draft provides a good base-line for definition of a SIP-cookie 
functionality, derived from RFC 2109.

Some comments/observations:

1. The proposed SIP-cookie borrows heavily from the definition/procedures of 
cookies for HTTP (RFC 2109). Given the known possibility of abuse of cookies 
in HTTP, it is very important that the avoidance of such abuse be considered 
for SIP.

2. Currently, if one disables all cookies in their browser, certain web-based 
applications such as on-line shopping are not usable, but this does not 
affect access to most web-browsing. If the support of SIP cookies is 
essential to the provision of regular telephone type service (e.g., Call 
Transfer), a user would not be able to disable cookies, thereby exposing 
themselves to possible abuse. The draft is written as if a User Agent is 
required to store cookies, that is, can not disable them as a web-browser can 
today.

3. Section 8, Security Considerations states: "Cookies in SIP, unlike cookies 
in HTTP, are discarded at the conclusion of a session." It is not clear why 
this is stated, since RFC 2109 allows the User Agent to discard cookies. It 
states that "When a user agent terminates execution, it should let the user 
discard all state information." It seems that the common browsers do not 
choose to provide the user with this option to discard cookies upon exit, 
probably since the companies that produce them want to use these persistent 
cookies as much as any other companies. If these same companies implement SIP 
functionality, it can be expected that they will choose to not discard 
SIP-cookies at the conclusion of a telephone call either.

4. As I understand the draft, it requires a user agent to store cookies, and 
seems to make a strong objective that it must store at least 10 cookies of at 
least 4096 bytes each, and that it must include all stored cookies in every 
subsequent message it sends associated with a call. Since other draft 
proposals result in sending a very large number of messages for some 
capabilities, especially those associated with providing security, it would 
appear that this results in huge amounts of data being sent. It is obvious 
this can not lead to an efficient telephone service.

5. One could easily envision services that would benefit from retaining 
SIP-cookies after completion of a call in order to support a new call.

6. This draft appears to be one more admission that processing of many (maybe 
all) telephone type applications requires that the entity controlling the 
service have knowledge of the "state" of the call. In an increasing number of 
defined applications, it is a proxy that controls the service (not the user 
agent as perhaps originally envisioned) and that proxy needs to "remember" 
the state of the call and service. RFC 2543 included the concept of a 
"stateful proxy", which maintains the state of a transaction (until a 
definitive response is received). The proposed revision of SIP further 
refines this definition of "stateful proxy" and then introduces the notion of 
a "call stateful (proxy)" which maintains the state "from the initiating 
INVITE to the terminating BYE", but it does not describe in detail the 
operation of a "call stateful proxy".

For the control of telephone services using SIP beyond the simple, basic 
call, it appears that the time has come to admit that these services require 
a "call stateful proxy" and not to depend on storing of "cookies" in user 
agents as a substitute.

7. For some yet to be defined SIP-provided services, this cookie mechanism 
will probably be essential. In line with the recent draft for "SIP Change 
Process", draft-tsvarea-sipchange-00.txt, a definition of the requirements 
needs to be submitted to SIPPING. This would identify the specific class of 
services/capabilities that require the addition of a SIP-cookie. It should be 
intended for special cases (equivalent to the shopping cart example in RFC 
2109), not support for everyday telephone services.

Mike Pierce
Artel



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 14:31:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA19232
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 14:31:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA13728
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 14:31:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12673;
	Mon, 19 Nov 2001 13:57:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12643
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 13:57:52 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17203
	for <sip@ietf.org>; Mon, 19 Nov 2001 13:57:50 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fAJIv1MF011510;
	Mon, 19 Nov 2001 13:57:01 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTB59>; Mon, 19 Nov 2001 13:56:53 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7E7@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Henning Schulzrinne'" <hgs@cs.columbia.edu>, sip@ietf.org
Subject: RE: [Sip] REFER security
Date: Mon, 19 Nov 2001 13:56:52 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is close, but there's a peice missing - comments inline.

> -----Original Message-----
> From: Henning Schulzrinne [mailto:hgs@cs.columbia.edu]
> Sent: Saturday, November 17, 2001 3:32 PM
> To: sip@ietf.org
> Subject: [Sip] REFER security
> 
> 
> I'm trying to better understand the REFER security issues. It 
> seems like
> there are two approaches:
> 
> (1) If the issuer of the REFER is the same as the caller or callee. In
> that case, the main problem is presumably making sure that the REFER
> does indeed come from the same party. As in
> 
> A -- INVITE --> B
> A -- REFER (C) -- B
>                   B --- INVITE --> C
>                         R-By: A
> 
> It's not clear that C would care about A's authenticated 
> identity, as B
> is in any event responsible for requests it issues, and shouldn't be
> able to "blame" A for waking C at 3 am.

There have been requests to not just be able to authenticate A, but
to allow B to prove to C that A asked _this_ request be sent (so that
C can put the appropriate acceptance policies in place and B can't
put the blame on A unless it really belongs there).

> 
> (2) The REFER comes "out of the blue", e.g., 
> 
> A -- INVITE --> B
>                 B --- REFER (A) --> C
> 
> A <------------ INVITE ------------ C
> 
> This case is no different than standard request 
> authentication. C would
> want to be sure that it is indeed B that it is talking to. C 
> also needs
> to authenticate itself to A.

It suprises me, but this is the case that seems to be scaring 
people the most. There is FUD circulating that anybody 
implementing REFER opens themselves to automatically
accepting REFERences to place calls to numbers that will 
incur charges. The thing the FUDsters are choosing to
ignore is that any _sane_ implementation of C is going to
allow a policy decision to be made before issuing that INVITE
(and that policy may or may not involve authenticating B).

> 
> Is this a fair summary?
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 22:26:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA11025
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 22:26:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA24548
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 22:26:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA24371;
	Mon, 19 Nov 2001 22:01:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA24340
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 22:01:12 -0500 (EST)
Received: from mail-blue.research.att.com (mail-blue.research.att.com [135.207.30.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA10558
	for <sip@ietf.org>; Mon, 19 Nov 2001 22:01:09 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP id 458AD4CF0F
	for <sip@ietf.org>; Mon, 19 Nov 2001 19:53:43 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id TAA24785
	for <sip@ietf.org>; Mon, 19 Nov 2001 19:53:42 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id TAA15584
	for sip@ietf.org; Mon, 19 Nov 2001 19:53:14 -0500 (EST)
Date: Mon, 19 Nov 2001 19:53:14 -0500 (EST)
Message-Id: <200111200053.TAA15584@fish.research.att.com>
To: sip@ietf.org
Subject: [Sip] Last Call summary for draft-ietf-sip-call-auth-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

The Last Call comment period has expired for
draft-ietf-sip-call-auth-02.
No comments were posted to the list.

I have updated the draft incorporating all the reviewers comments
and nits.  Until it appears in the standard place, a copy
may be obtained from
   ftp://ftp.research.att.com/dist/wtm/draft-ietf-sip-call-auth-03.txt

A MSWord version, including changebars from the previous version, is
  ftp://ftp.reserach.att.com/dist/wtm/draft-ietf-sip-call-auth-011119.doc

Bill Marshall
wtm@research.att.com

p.s.  the updated manyfolks draft is also available in the same place:
  ftp://ftp.research.att.com/dist/wtm/draft-ietf-sip-manyfolks-resource-03.txt
  ftp://ftp.research.att.com/dist/wtm/draft-ietf-sip-manyfolks-011112.doc


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 19 22:42:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA12472
	for <sip-archive@odin.ietf.org>; Mon, 19 Nov 2001 22:42:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA24973
	for sip-archive@odin.ietf.org; Mon, 19 Nov 2001 22:42:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA24532;
	Mon, 19 Nov 2001 22:25:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id WAA24501
	for <sip@optimus.ietf.org>; Mon, 19 Nov 2001 22:25:00 -0500 (EST)
Received: from imo-d07.mx.aol.com (imo-d07.mx.aol.com [205.188.157.39])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA11011
	for <sip@ietf.org>; Mon, 19 Nov 2001 22:24:57 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d07.mx.aol.com (mail_out_v31_r1.9.) id l.79.1e5959f4 (3933);
	Mon, 19 Nov 2001 22:24:23 -0500 (EST)
Message-ID: <79.1e5959f4.292b26e6@aol.com>
Date: Mon, 19 Nov 2001 22:24:22 EST
To: sip@ietf.org
CC: choid@ncr.disa.mil
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Subject: [Sip] Resource-Priority Header
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

To all,

I have the following comments on draft-polk-sip-resource-00:

The approach described in this draft will provide the functionality needed to 
support the requirements spelled out in 
draft-pierce-sipping-assured-service-00.

Nits: Section 4 gives example of 'e.g., "between urgent and normal".' This 
should reference some of the values defined in Section 3.

Definition of values: Although the specific tokens defined in Section 3 are 
the ones required for the US military application (and may be usable in other 
such environments), it would appear to be advisable to define the token 
values in a more generic way within the standard. This would facilitate the 
use of the resource-priority header in other networks that may use other 
words to describe the levels. For example, a network could choose to use 
three levels and call them "important", "regular", and "not-so-important".

The current draft indicates that a network wishing to use such new values 
would be required to register them with IANA, and indicate their relationship 
with the already defined values (and presumably with every other value 
previously registered with IANA). This could be an administrative nightmare 
and potentially impossible to do. IANA could not negotiate differences of 
opinion on the relative assignments of values to be used in different or 
combined networks.  For two different networks, one could not say whether 
"important" in one should be above or below "flash" in the other, nor should 
one need to define this. Also, this registration process would need to allow 
a new value to be defined to be the same as an existing value, for example, 
if the French language equivalent of the tokens defined in Section 3 were 
desired.

It is essential that a network using a different set of values be able to do 
so without relating their meanings and relative precedence level with those 
of another network, when it is not intended that the two sets be used 
together. The stipulation that unknown values should be treated as "routine" 
might solve the problem of values "leaking" from another domain into the one 
using the definitions in Section 3. It would have to be part of the 
definition for each network to specify what "default" is used for unknown 
values. It may not always be the lowest. In addition, every network defining 
new values would have to use a completely different set.

However, since it would not be under the control of the user of a network 
whether or not intermediate routers, etc. "know" the meaning of other values 
defined for other networks, the user might be unaware of the network's 
actions resulting from its knowledge of the values defined for other networks 
(in case of "leakage"). For example, given the current definitions in Section 
3, if another network defined a set of five values of (lowest to highest) of 
"flash", "more-than-flash", "flash-plus1", super-flash", and 
"extremely-high-flash", then one of its lowest precedence calls (flash) 
"leaking" over into the other network would be treated as a relatively high 
precedence call in that other network.

In fact, all SIP applications, not just this one, must be defined on the 
presumption that "leakage" between network segments or domains can not occur. 
If it could, capabilities must be provided to detect such an error and block 
misrouted calls. Such "leakage" would be a serious problem for more things 
than just this resource-priority value interpretation.

Since one of the applications involves interworking with the ITU-T defined 
protocols (e.g., Q.735.3), it should be noted that those ITU-T protocols 
carry a numeric value 0-4 (with 5-15 reserved). Although Q.735.3 describes a 
meaning for each of those 5 values, the actual words used to identify each is 
different in various translations of the Recommendation and nothing prevents 
a network from using totally different textual meanings. Only the order is 
required.

The statement in Section 3 that states "As a response header, the value 
indicates the actual priority selected by the recipient" needs to be examined 
with respect to the services which might use this field. For the support of 
the service as defined in Q.735.3, the recipient has no say in the choice of 
priority. The originator selects the value to be used for the setup of a call 
and there would be no need for a response value. It is unknown what service, 
if any, would require this in a response.

Mike Pierce
Artel



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 01:52:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20658
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 01:52:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07371
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 01:52:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06661;
	Tue, 20 Nov 2001 01:21:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06630
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 01:21:39 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA16542
	for <sip@ietf.org>; Tue, 20 Nov 2001 01:21:37 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAK6Lcf13416;
	Tue, 20 Nov 2001 07:21:38 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.80])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAK6Lbh09677;
	Tue, 20 Nov 2001 08:21:37 +0200 (EET)
Message-ID: <3BF9F66C.810677ED@lmf.ericsson.se>
Date: Tue, 20 Nov 2001 08:21:32 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
CC: "Drage, Keith (Keith)" <drage@lucent.com>, "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] bis-05: use of 100 Trying
References: <475FF955A05DD411980D00508B6D5FB001AC3450@en0033exch001u.uk.lucent.com> <3BF9506B.F1902FEF@lmf.ericsson.se>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

As Gonzalo said, it's probably not a good idea for an UAS GW to send 183
instead of 100, before it has received an ISUP message "triggering" the
183 (it would be mapped into an ISUP message in the UAC GW, and that may
cause problems later when we do receive ISUP messages on the UAS GW
side).

So, my question is: does anyone of the "gateway people" think it would
be worth adding a new response code - "184 Gateway reached"?

This code would be sent by the gateway when the INVITE is received,
instead of 100 Trying, and it would not be mapped into any ISUP message
on the UAC GW side.

This way it would be possible for the UAS GW to provide the Contact
header and To header tag at an early stage.

Also, there may be services, and other decissions (related to the bearer
and/or signalling) which are done based on if the call ends up in
another PSTN network or in the SIP network itself. The 184 response code
would inform the UAC, and intermediate SIP nodes, about this.

Comments?

Christer Holmberg
Ericsson Finland




Gonzalo Camarillo wrote:
> 
> Hello,
> 
> inline:
> 
> "Drage, Keith (Keith)" wrote:
> >
> > Based on the CANCEL thread that is going on, I was trying to sort out the
> > usage that is currently mandated for generating 100 Trying, which is
> > different from bis-04.
> >
> > For INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 7 (page 95) and the text in 17.2.1
> > cover this. The text says MAY generate a 100 unless... The figure implies a
> > MUST generate 100.
> >
> > I think a distinction should be drawn here between proxy servers and user
> > agent servers. I have no problem indicating that proxy servers MUST generate
> > 100 Trying.
> >
> > For user agent servers, surely there is always a better provisional response
> > to send. Even if the UAS is taking time during a lookup, there is important
> > information to send that a UA has been reached, and therefore 183 is always
> > more appropriate that 100. Therefore surely it would be better to specify
> > UAS MAY generate 183 unless...
> 
> Line 2703 already says that if you are going to generate another
> provisional response or a final response you do not have to generate
> 100.
> 
> "The server transaction MUST generate a 100 response (not any status
> code - the specific value of 100) unless it knows 2703
> that the TU will generate a provisional or final response within 200 ms,
> in which case it MAY generate a 100 2704
> response. 2705"
> 
> You claim that the UAS will ALWAYS have something better to send than a
> 100. Well, if my UAS is a SIP to ISUP gateway the best response I can
> send is 100, because I cannot send a 183 on behalf of the end user until
> I receive something from the ISUP network (typically ACM, early ACM or
> even CPG in ANSI networks).
> 
> Therefore, I believe the current text is perfect as it is.
> 
> A different issue is that some folks want to return a provisional
> response from any gateway in order to provide Contact info to the UAC.
> However, I still have not seen a single example where this might be
> useful.
> 
> Regards,
> 
> Gonzalo
> 
> >
> > For non-INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 8 (page 105) and the text in 17.2.2
> > cover this. There is no text covering the generation of any provisional
> > response, not even 100 Trying. However figure 8 indicates that the TU may
> > generate 1xx responses, and that the server process will then pass them on.
> >
> > Does this mean that a TU in a proxy can independently generate 1xx responses
> > (including 100), or is it an attempt to represent that if a proxy receives a
> > 1xx response, it will pass it on through the TU and therefore the server
> > side will generate it?
> >
> > While the figures cover this for the client and server state machine, the TU
> > needs requirements to state that this happens in the text, and these I
> > cannot find. At a minimum therefore, I believe we have a hole in the
> > specification, but I am not sure how to fill it. Surely it would be better
> > to preclude 1xx responses altogether in this case, and therefore if a
> > stateful proxy client receives such a response it kills it.
> >
> > I am unsure whether 100 Trying should be permitted or barred in the above
> > case. Currently the balance of the text would imply it is precludes for
> > non-INVITE which would appear to me to be fine.
> >
> > Keith
> >
> >
> > Keith Drage
> > Lucent Technologies
> > Tel: +44 1793 776249
> > Email: drage@lucent.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 01:52:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20684
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 01:52:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA07386
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 01:52:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06612;
	Tue, 20 Nov 2001 01:19:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA06581
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 01:19:25 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA16321
	for <sip@ietf.org>; Tue, 20 Nov 2001 01:19:23 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK6HRhp007606;
	Tue, 20 Nov 2001 01:17:27 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4CAF>; Tue, 20 Nov 2001 01:18:50 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F53@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>, sip@ietf.org
Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
Date: Tue, 20 Nov 2001 01:18:49 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Monday, November 19, 2001 3:10 AM
> To: sip@ietf.org
> Subject: RE: [Sip] Bis-05 question: CANCEL -- Proposed solution
> 
> 
> > That said, yes, the UAS should indeed 
> > send a 487 or 408 after the Expires
> > header time has elapsed. That is not clear now but 
> > I think this is the reasonable treatment and 
> > I've marked that to be changed.
> 
> Would it be beneficial to document a 
> default Expires value for INVITE?  

I don't think its needed.

> Otherwise the value of infinity 
> would continue to be the assumption.

A UAS can always decide to send 408/487 at any time, there is no need to
document a specific recommended time.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 02:05:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA29056
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 02:05:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA07770
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 02:05:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07303;
	Tue, 20 Nov 2001 01:47:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA07275
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 01:47:33 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA20058
	for <sip@ietf.org>; Tue, 20 Nov 2001 01:47:31 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK6jfhp007646;
	Tue, 20 Nov 2001 01:45:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4CA4>; Tue, 20 Nov 2001 01:47:03 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F55@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] bis-05 compact form vs. short form
Date: Tue, 20 Nov 2001 01:47:02 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Tuesday, November 13, 2001 11:20 AM
> To: sip@ietf.org
> Subject: [Sip] bis-05 compact form vs. short form
> 
> 
> two small nits for bis-05.
> 
> the terms "compact form" and "short form" seem to be used
> interchangeably.  It would be nicer to stick to one, which
> makes searches easier.

Yes. We've been trying to consolidate terminology, and will do so here. 

> 
> Secondly, draft-ietf-sip-serverfeatures-05 defined a compact
> form for the "Supported" header, "k".  That was not kept in 
> bis-05.  Intentionally?

Nope, thats an error. The BNF is right, but the short form is not mentioned
in 22.35. It should be mentioned there.


> These were discovered in checking the availability of "r" and "b"
> which are claimed in draft-ietf-sip-refer-00.  As I mentioned
> in that review, I believe some criterion other than chronologic
> needs to be applied in the allocation of compact forms to extension 
> headers, as is currently described in draft-ietf-sip-extensions-00.

Suggestions? Its not clear to me that this is all that important.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 03:13:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA01835
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 03:13:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA09103
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 03:13:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA08453;
	Tue, 20 Nov 2001 02:55:27 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA08364
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 02:55:21 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA01617
	for <sip@ietf.org>; Tue, 20 Nov 2001 02:55:18 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK7qshp007769;
	Tue, 20 Nov 2001 02:52:54 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4CCQ>; Tue, 20 Nov 2001 02:54:17 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F5A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>, sip@ietf.org
Cc: Jean Mahoney <jmahoney@dynamicsoft.com>
Subject: RE: [Sip] bis-05 mostly NITS - full review
Date: Tue, 20 Nov 2001 02:54:16 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

John,

Thanks for the very detailed read!! Some responses below.



 

> -----Original Message-----
> From: John.Hearty@Level3.com [mailto:John.Hearty@Level3.com]
> Sent: Thursday, November 15, 2001 10:28 AM
> To: sip@ietf.org
> Subject: [Sip] bis-05 mostly NITS - full review
> 
> 
> >  The following are largely pure nits.  A few may warrent 
> discussion.  If
> > so, please paste text in a separate thread. Thanks!
> > 
> > 26. Lines 1729-1733.  This is possibly more of a question 
> on the following
> > text:
> > 
> > The offer indicates the desired communications means (audio, video,
> > games), parameters of those means (such as codec types) and 
> addresses for
> > receiving media from the offerer. The other UA responds with another
> > session description, called the answer, which indicates which
> > communications means are accepted, the parameters which 
> apply to those
> > means, and addresses for receiving media from the answerer.
> > 
> >   It seemed "offerer" at the end of the first sentance and 
> "answerer" at
> > the end of the next sentence were reversed the way I have 
> typically seen
> > SDP sent, where the sender of the SDP is informing the 
> other end what
> > address they should send media to.  After some thought, at 
> least for SDP,
> > the info could be either way, as the SDP could have an attribute of
> > recvonly, sendrecv, or sendonly.  Do these sentences need 
> to be re-worded
> > taking this into consideration?

You are right, these have been misworded.

> > 29. Line 1769-1770:
> > 
> > The early dialog will only be needed if the UAC needs to 
> send a request to
> > its peer within the dialog before the initial INVITE transaction
> > completes.
> > 
> >  This confused me at first since the UAS is the one 
> deciding (based on
> > what response it sends) to start an early dialog.  After 
> reading it a few
> > times I realized what was being said, with CANCEL as an 
> example.  Perhaps
> > this would be better worded as something like the following 
> (let me know
> > if I'm off track).
> > 
> > The early dialog will only be needed by the UAC if the UAC 
> needs to send a
> > request (such as CANCEL) to its peer within the dialog 
> before the initial
> > INVITE transaction completes.

Actually, CANCEL is a bad example, since you don't need a dialog to send it.
Rather, its PRACK or INFO or something, or even BYE. 

> > 31. Line 1850, the sentence is missing a period.  "the UAS 
> MAY silently
> > accept the INVITE" is also not fully clear, I presume this 
> means 2xx, this
> > might be worth clarifying.

Yes, it means send a 2xx.

> > 52. Line 2437, "A stateful proxy may generate a CANCEL to any other
> > request it has generated at any time."  Needs to be 
> reworded to conform to
> > new wait for 1xx rule, no?

Yes, correct.

> > 63. Line 2877, forgot to add the received parameter in the example.

Right; that one has been noted already.

> > 
> > 64. Lines 2927-2928 need some wordsmithing beginning with 
> "not just what
> > they have to say", looks like something got deleted, at 
> least a comma.

Its a dash. We lost a bunch of dashes due to some conversion errors.

> 69. Line 3299, what about TLS transport (port 5061)?

Yeah, this is a big mess with that. One of the reasons I sent a query asking
about whether people put 5060 into the URL even though its the default, was
to try and change this behavior to have sip:user@host:5060 NOT equal
sip:user@host, since the former would use SRV and the latter wouldn't.
Unfortunately, it seems at least a few people are putting 5060 in the
URLs....


-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 03:54:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02274
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 03:54:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA10045
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 03:54:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09755;
	Tue, 20 Nov 2001 03:34:59 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09724
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 03:34:57 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02102
	for <sip@ietf.org>; Tue, 20 Nov 2001 03:34:54 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK8X3hp007832;
	Tue, 20 Nov 2001 03:33:03 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4CD3>; Tue, 20 Nov 2001 03:34:26 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F60@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'James Undery'" <jundery@ubiquity.net>, sip@ietf.org
Subject: RE: [Sip] More clarification of bis-05 changes requested
Date: Tue, 20 Nov 2001 03:34:24 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: James Undery [mailto:jundery@ubiquity.net]
> Sent: Thursday, November 01, 2001 4:55 AM
> To: sip@ietf.org
> Subject: [Sip] More clarification of bis-05 changes requested
> 
> 
> Hi,
> 
> The question I'd like to know is were the changes relating to
> Authorization garbage collected. 

Yes.

> i.e. my rfc2543 sip device doesn't
> mess with anything below the Authorization header and the new bis
> breaks that big time (or section 7.3.1 is just confusing).

There is nothing broken; there is still total interoperability. There are no
defined mechanisms (and there won't be) which rely on the headers below
Authorization not being modified. So, if something changes them, who cares?

What is it in 7.3.1 you find confusing?

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 03:54:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02290
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 03:54:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA10063
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 03:54:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09859;
	Tue, 20 Nov 2001 03:38:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09818
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 03:37:56 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02119
	for <sip@ietf.org>; Tue, 20 Nov 2001 03:37:52 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAK8bHC18876;
	Tue, 20 Nov 2001 09:37:17 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.80])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAK8bGh24222;
	Tue, 20 Nov 2001 10:37:16 +0200 (EET)
Message-ID: <3BFA1636.6871A4EF@lmf.ericsson.se>
Date: Tue, 20 Nov 2001 10:37:10 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'John.Hearty@Level3.com'" <John.Hearty@level3.com>, sip@ietf.org,
        Jean Mahoney <jmahoney@dynamicsoft.com>
Subject: Re: [Sip] bis-05 mostly NITS - full review
References: <B65B4F8437968F488A01A940B21982BF020D6F5A@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>69. Line 3299, what about TLS transport (port 5061)?
> 
>Yeah, this is a big mess with that. One of the reasons I sent a query asking
>about whether people put 5060 into the URL even though its the default, was
>to try and change this behavior to have sip:user@host:5060 NOT equal
>sip:user@host, since the former would use SRV and the latter wouldn't.
>Unfortunately, it seems at least a few people are putting 5060 in the
>URLs....

We should also remember tat the host may be an IP address, and the
client does not use SRV. So, if there is no port, and it does NOT mean
that 5060 shall be used as default, which port does the client use?

And, to say that 5060 is default if the host is an IP address, but not
if the host is a domain name, may sound a little messy?

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 03:56:24 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02309
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 03:56:24 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA10083
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 03:56:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09815;
	Tue, 20 Nov 2001 03:37:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA09785
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 03:37:52 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA02117
	for <sip@ietf.org>; Tue, 20 Nov 2001 03:37:49 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK8ZQhp007837;
	Tue, 20 Nov 2001 03:35:26 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4CDP>; Tue, 20 Nov 2001 03:36:49 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F61@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: Henning Schulzrinne <hgs@cs.columbia.edu>, sip@ietf.org
Subject: RE: [Sip] Removal proposal: Password in SIP-URL
Date: Tue, 20 Nov 2001 03:36:47 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Thursday, November 01, 2001 1:48 AM
> To: Jonathan Rosenberg
> Cc: Henning Schulzrinne; sip@ietf.org
> Subject: Re: [Sip] Removal proposal: Password in SIP-URL
> 
> 
> 
> Hi,
> 
> >If you are bothering with real security, then use a real 
> authentication
> >mechanism. The password in the URI is a mega-cheap, 
> mega-unsecure mechanism.
> 
> I couldn't agree more :)
> 
> >In any case, as Henning has pointed out, it is in use and 
> therefore can't
> >really be deprecated.
> 
> So, if the UAS doesn't - for whatever reason - doesn't accept it, what
> response code should it use to indicate that? 

If the UAS gets a request with a request URI identifying a resource it
doesn't or won't serve (the password in the r-uri effectively becomes part
of the naming of the resource), a 404 is sent.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 20 04:29:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA02584
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 04:29:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA10729
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 04:29:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA10581;
	Tue, 20 Nov 2001 04:07:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA10551
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 04:07:16 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA02409
	for <sip@ietf.org>; Tue, 20 Nov 2001 04:07:12 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAK95Ehp007926;
	Tue, 20 Nov 2001 04:05:14 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4C16>; Tue, 20 Nov 2001 04:06:36 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F62@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] 482 handling by proxies
Date: Tue, 20 Nov 2001 04:06:35 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Old thread - please see inline.
 

> -----Original Message-----
> From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> Sent: Wednesday, October 31, 2001 5:47 AM
> To: 'Christer Holmberg'; Gonzalo Camarillo
> Cc: Bob Penfield; sip@ietf.org
> Subject: RE: [Sip] 482 handling by proxies
> 
> 
> 
> > >>Yes. I was just worried about cases where it actually may take a
> > >>relatively long time before the 200 final response is sent, 
> > due to other
> > >>call setup actions (PRACK, INFO etc), because I guess the 
> > proxy won't
> > >>wait "forever" for the final response until it takes some 
> > actions (of
> > >>course, in a real-life situation the call setup probably 
> > won't be that
> > >>long) for the pending legs.
> > >>
> > > 
> > >The proxy has ACKed already the 482 response. The only thing 
> > it does is
> > >to store it in a buffer as one of the non-2xx final 
> > responses received
> > >so far. This way it will be able to choose the "best" one to 
> > send back.
> > > 
> > >I do not know why you are raising this now, because this has been
> > >standard SIP behavior since the beginning.
> > 
> > I just wanted to clarify the specific case where it takes a 
> long time
> > before the final response is received for a specific leg, 
> because the
> > use of call pre-setup transactions etc has NOT been standard SIP
> > behavious since the beginning...
> > 
> 
> Christer,
> 
> There are two alternatives: 
> 
> When a proxy forks a request it slaps on a proxy-selected "No-Answer
> Timeout" on INVITE requests, that is, a proxy will wait 
> around for a certain
> time for final responses from all branches and otherwise it 
> will just return
> the best non-2xx response received and CANCEL out other branches.
> Imposing local timers that affect answer timeouts is a bad thing !! 
> 
> The other alternative is that the proxy "never" times outs 
> and will only
> send a final response when _all_ branches have responded with 
> a non-2xx
> response (assuming that a 1xx has been received from each 
> branch) OR one
> branch has returned a 2xx response OR the caller CANCEL's. 

One of the things that has changed in bis-05 is that a proxy is generally
not supposed to send a non-2xx final response upstream unless its gotten
final responses to all requests that it proxied. This is to prevent the
condition where a proxy forwards a non-2xx upstream, only to receive a 2xx
on a pending branch. The poor UA would have to handle this awful case where
it gets a non-2xx followed by a 2xx. 

So, if a proxy wants to terminate a pending transaction, it should follow
Robert's second alternative - CANCEL its pending branches and then send a
408 or 487 upstream once all pending branches have responded. It should not
follow his first alternative, where it simply sends the 408 and then
CANCELs.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 08:21:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA06943
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 08:21:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA16689
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 08:21:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA15734;
	Tue, 20 Nov 2001 07:55:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA15703
	for <sip@optimus.ietf.org>; Tue, 20 Nov 2001 07:55:05 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA06065
	for <sip@ietf.org>; Tue, 20 Nov 2001 07:55:00 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP id A2E3C1E105
	for <sip@ietf.org>; Tue, 20 Nov 2001 07:55:02 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id HAA02524;
	Tue, 20 Nov 2001 07:54:59 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id HAA33913;
	Tue, 20 Nov 2001 07:54:03 -0500 (EST)
Date: Tue, 20 Nov 2001 07:54:03 -0500 (EST)
Message-Id: <200111201254.HAA33913@fish.research.att.com>
To: sip@ietf.org
Subject: Re: [Sip] REFER security
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Robert Sparks wrote:
> It suprises me, but this is the case [where the REFER comes
> "out of the blue"                    that seems to be scaring 
> people the most. There is FUD circulating that anybody 
> implementing REFER opens themselves to automatically
> accepting REFERences to place calls to numbers that will 
> incur charges. The thing the FUDsters are choosing to
> ignore is that any _sane_ implementation of C is going to
> allow a policy decision to be made before issuing that INVITE
> (and that policy may or may not involve authenticating B).

One piece of the dis-information (D in FUD) seems to derive
from the example posted frequently about 
   Refer-To: ....url....&method=BYE
If this were true and valid, it would enable a hacker "out of the blue"
to cause an existing session to terminate.  What a great denial
of service attack!  And nothing a carrier can do to prevent it.
Fortunately, the current refer draft does not allow a "method="
parameter on the Refer-To header.  Hopefully that stays that way.

One piece of the fear (F in FUD) is the problem of charging.  This
is not a new problem, as it also exists with the 3xx redirect response
to an INVITE.  The DCS draft (still available on Dean's web site)
deals with this by having the proxy generate a private-url out of
the new destination, and include the proper charging information of
the entity that requested the redirect.  The same design works for
REFER (and is shown that way in the informational annex of 3GPP 24.228).

It is clear, though, that a UA that accepts a REFER from an untrusted
source, without authentication, gets exactly what it pays for.

What can be said in the draft about a minimum set of recommended
checks before accepting the refer?  I believe this is the major
uncertainty (U in FUD).

As an example of a current use of "REFER" -- how often do you get those
postcards in the mail saying "you've just won a free vacation, call to
claim your prize".  The phone number looks like a normal one (e.g. not
a 900 number), but Carribean Islands are part of the NANP, and charge
not pennies/minute, but $$$/minute.  While you are waiting on hold "due
to overwhelming response to our great offer..." you will pay more for
the phone call than the vacation is worth.  It is a well-known scam.
The problem is not solved by authentication of the source of the request.

Bill Marshall
wtm@research.att.com

-----original message-----
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Henning Schulzrinne'" <hgs@cs.columbia.edu>, sip@ietf.org
Subject: RE: [Sip] REFER security
Date: Mon, 19 Nov 2001 13:56:52 -0500

This is close, but there's a peice missing - comments inline.

> -----Original Message-----
> From: Henning Schulzrinne [mailto:hgs@cs.columbia.edu]
> Sent: Saturday, November 17, 2001 3:32 PM
> To: sip@ietf.org
> Subject: [Sip] REFER security
> 
> 
> I'm trying to better understand the REFER security issues. It 
> seems like
> there are two approaches:
> 
> (1) If the issuer of the REFER is the same as the caller or callee. In
> that case, the main problem is presumably making sure that the REFER
> does indeed come from the same party. As in
> 
> A -- INVITE --> B
> A -- REFER (C) -- B
>                   B --- INVITE --> C
>                         R-By: A
> 
> It's not clear that C would care about A's authenticated 
> identity, as B
> is in any event responsible for requests it issues, and shouldn't be
> able to "blame" A for waking C at 3 am.

There have been requests to not just be able to authenticate A, but
to allow B to prove to C that A asked _this_ request be sent (so that
C can put the appropriate acceptance policies in place and B can't
put the blame on A unless it really belongs there).

> 
> (2) The REFER comes "out of the blue", e.g., 
> 
> A -- INVITE --> B
>                 B --- REFER (A) --> C
> 
> A <------------ INVITE ------------ C
> 
> This case is no different than standard request 
> authentication. C would
> want to be sure that it is indeed B that it is talking to. C 
> also needs
> to authenticate itself to A.

It suprises me, but this is the case that seems to be scaring 
people the most. There is FUD circulating that anybody 
implementing REFER opens themselves to automatically
accepting REFERences to place calls to numbers that will 
incur charges. The thing the FUDsters are choosing to
ignore is that any _sane_ implementation of C is going to
allow a policy decision to be made before issuing that INVITE
(and that policy may or may not involve authenticating B).

> 
> Is this a fair summary?
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 09:09:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA09629
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 09:09:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA18394
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 09:09:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17476;
	Tue, 20 Nov 2001 08:44:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA17448
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 08:44:20 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA08140
	for <sip@ietf.org>; Tue, 20 Nov 2001 08:44:15 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP
	id 0C8E01E10B; Tue, 20 Nov 2001 08:44:19 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id IAA03193;
	Tue, 20 Nov 2001 08:44:18 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id IAA42443;
	Tue, 20 Nov 2001 08:43:47 -0500 (EST)
Date: Tue, 20 Nov 2001 08:43:47 -0500 (EST)
Message-Id: <200111201343.IAA42443@fish.research.att.com>
To: jdrosen@dynamicsoft.com, sip@ietf.org
Subject: RE: [Sip] bis-05 compact form vs. short form
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Johanthan Rosenberg wrote:
> Bill Marshall wrote:
> > 	... I believe some criterion other than chronologic
> > needs to be applied in the allocation of compact forms to extension 
> > headers, as is currently described in draft-ietf-sip-extensions-00.
> 
> Suggestions? Its not clear to me that this is all that important.
> 
(I goofed in the reference, it should be draft-ietf-sip-guidelines-02)

Agreed that this should be at the bottom of the priority pile.

In section 4.4 of draft-ietf-sip-guidelines-02, second paragraph:
  Extensions that define new headers SHOULD define a compact form
  representation if the non-compact header is more than four
  characters....
change to:
  Extensions that define new headers that are anticipated to be
  heavily used SHOULD define a compact form....

I think this wording is consistent with the criterion used in 2543
about picking some headers for compact forms and not others.

Bill Marshall
wtm@research.att.com

-----original message-----
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] bis-05 compact form vs. short form
Date: Tue, 20 Nov 2001 01:47:02 -0500
 

> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Tuesday, November 13, 2001 11:20 AM
> To: sip@ietf.org
> Subject: [Sip] bis-05 compact form vs. short form
> 
> 
> two small nits for bis-05.
> 
> the terms "compact form" and "short form" seem to be used
> interchangeably.  It would be nicer to stick to one, which
> makes searches easier.

Yes. We've been trying to consolidate terminology, and will do so here. 

> 
> Secondly, draft-ietf-sip-serverfeatures-05 defined a compact
> form for the "Supported" header, "k".  That was not kept in 
> bis-05.  Intentionally?

Nope, thats an error. The BNF is right, but the short form is not mentioned
in 22.35. It should be mentioned there.


> These were discovered in checking the availability of "r" and "b"
> which are claimed in draft-ietf-sip-refer-00.  As I mentioned
> in that review, I believe some criterion other than chronologic
> needs to be applied in the allocation of compact forms to extension 
> headers, as is currently described in draft-ietf-sip-extensions-00.

Suggestions? Its not clear to me that this is all that important.

-Jonathan R.

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 10:57:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA16369
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 10:57:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA23238
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 10:58:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA22360;
	Tue, 20 Nov 2001 10:36:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA22329
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 10:36:46 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA15208
	for <sip@ietf.org>; Tue, 20 Nov 2001 10:36:41 -0500 (EST)
From: John.Hearty@level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id PAA02975;
	Tue, 20 Nov 2001 15:36:46 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id PAA15734;
	Tue, 20 Nov 2001 15:36:43 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPSGK7N>; Tue, 20 Nov 2001 08:36:42 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B37021@n0214idc1.oss.level3.com>
To: christer.holmberg@lmf.ericsson.se
Cc: drage@lucent.com, sip@ietf.org, Gonzalo.Camarillo@lmf.ericsson.se
Subject: RE: [Sip] bis-05: use of 100 Trying
Date: Tue, 20 Nov 2001 08:36:40 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


 Our gateways send 100.  I still haven't heard what the usefulness is of
sending Contact and To header tag at an early stage.  We don't have an
unlimited supply of provisional response codes left and should only use them
when the need is pressing.

John Hearty
Level3

-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
Sent: Monday, November 19, 2001 11:22 PM
To: Gonzalo Camarillo
Cc: Drage, Keith (Keith); 'sip@ietf.org'
Subject: Re: [Sip] bis-05: use of 100 Trying



Hi,

As Gonzalo said, it's probably not a good idea for an UAS GW to send 183
instead of 100, before it has received an ISUP message "triggering" the
183 (it would be mapped into an ISUP message in the UAC GW, and that may
cause problems later when we do receive ISUP messages on the UAS GW
side).

So, my question is: does anyone of the "gateway people" think it would
be worth adding a new response code - "184 Gateway reached"?

This code would be sent by the gateway when the INVITE is received,
instead of 100 Trying, and it would not be mapped into any ISUP message
on the UAC GW side.

This way it would be possible for the UAS GW to provide the Contact
header and To header tag at an early stage.

Also, there may be services, and other decissions (related to the bearer
and/or signalling) which are done based on if the call ends up in
another PSTN network or in the SIP network itself. The 184 response code
would inform the UAC, and intermediate SIP nodes, about this.

Comments?

Christer Holmberg
Ericsson Finland




Gonzalo Camarillo wrote:
> 
> Hello,
> 
> inline:
> 
> "Drage, Keith (Keith)" wrote:
> >
> > Based on the CANCEL thread that is going on, I was trying to sort out
the
> > usage that is currently mandated for generating 100 Trying, which is
> > different from bis-04.
> >
> > For INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on
no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 7 (page 95) and the text in 17.2.1
> > cover this. The text says MAY generate a 100 unless... The figure
implies a
> > MUST generate 100.
> >
> > I think a distinction should be drawn here between proxy servers and
user
> > agent servers. I have no problem indicating that proxy servers MUST
generate
> > 100 Trying.
> >
> > For user agent servers, surely there is always a better provisional
response
> > to send. Even if the UAS is taking time during a lookup, there is
important
> > information to send that a UA has been reached, and therefore 183 is
always
> > more appropriate that 100. Therefore surely it would be better to
specify
> > UAS MAY generate 183 unless...
> 
> Line 2703 already says that if you are going to generate another
> provisional response or a final response you do not have to generate
> 100.
> 
> "The server transaction MUST generate a 100 response (not any status
> code - the specific value of 100) unless it knows 2703
> that the TU will generate a provisional or final response within 200 ms,
> in which case it MAY generate a 100 2704
> response. 2705"
> 
> You claim that the UAS will ALWAYS have something better to send than a
> 100. Well, if my UAS is a SIP to ISUP gateway the best response I can
> send is 100, because I cannot send a 183 on behalf of the end user until
> I receive something from the ISUP network (typically ACM, early ACM or
> even CPG in ANSI networks).
> 
> Therefore, I believe the current text is perfect as it is.
> 
> A different issue is that some folks want to return a provisional
> response from any gateway in order to provide Contact info to the UAC.
> However, I still have not seen a single example where this might be
> useful.
> 
> Regards,
> 
> Gonzalo
> 
> >
> > For non-INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on
no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 8 (page 105) and the text in
17.2.2
> > cover this. There is no text covering the generation of any provisional
> > response, not even 100 Trying. However figure 8 indicates that the TU
may
> > generate 1xx responses, and that the server process will then pass them
on.
> >
> > Does this mean that a TU in a proxy can independently generate 1xx
responses
> > (including 100), or is it an attempt to represent that if a proxy
receives a
> > 1xx response, it will pass it on through the TU and therefore the server
> > side will generate it?
> >
> > While the figures cover this for the client and server state machine,
the TU
> > needs requirements to state that this happens in the text, and these I
> > cannot find. At a minimum therefore, I believe we have a hole in the
> > specification, but I am not sure how to fill it. Surely it would be
better
> > to preclude 1xx responses altogether in this case, and therefore if a
> > stateful proxy client receives such a response it kills it.
> >
> > I am unsure whether 100 Trying should be permitted or barred in the
above
> > case. Currently the balance of the text would imply it is precludes for
> > non-INVITE which would appear to me to be fine.
> >
> > Keith
> >
> >
> > Keith Drage
> > Lucent Technologies
> > Tel: +44 1793 776249
> > Email: drage@lucent.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 11:11:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17076
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 11:10:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA23985
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 11:11:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA23047;
	Tue, 20 Nov 2001 10:51:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA23018
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 10:51:46 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA16062
	for <sip@ietf.org>; Tue, 20 Nov 2001 10:51:41 -0500 (EST)
Received: from sponge.cisco.com (sponge.cisco.com [64.101.128.87])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fAKFpEE28505;
	Tue, 20 Nov 2001 07:51:14 -0800 (PST)
Received: from arunvenkw2k (dhcp-64-101-150-140.cisco.com [64.101.150.140])
	by sponge.cisco.com (Mirapoint)
	with SMTP id AAR04326;
	Tue, 20 Nov 2001 09:47:52 -0600 (CST)
From: "A Venkatraman" <arunvenk@cisco.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>,
        "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: "Bob Penfield" <bpenfield@acmepacket.com>, <sip@ietf.org>
Subject: RE: [Sip] 482 handling by proxies
Date: Tue, 20 Nov 2001 09:54:42 -0600
Message-ID: <NEBBIAKLLFKJFPOIPFDAOEIOCKAA.arunvenk@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D6F62@DYN-EXCH-001.dynamicsoft.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan
The proxy is going to send a non-2xx final response to the UAC after a timer
expires if all branches have not sent a final response.
1.Does this mean the proxy wait for the CANCEL to potentially time out if a
branch does not respond to it, before returning the non-2xx response?

2.Further, suppose the CANCEL gets a 200 Ok but the final response to the
INVITE was not received. Should the proxy start a timer for this before
forwarding a final response to the Uac?

Venkat

-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org]On Behalf Of
Jonathan Rosenberg
Sent: Tuesday, November 20, 2001 3:07 AM
To: 'Fairlie-Cuninghame, Robert'; 'Christer Holmberg'; Gonzalo Camarillo
Cc: Bob Penfield; sip@ietf.org
Subject: RE: [Sip] 482 handling by proxies



Old thread - please see inline.


> -----Original Message-----
> From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> Sent: Wednesday, October 31, 2001 5:47 AM
> To: 'Christer Holmberg'; Gonzalo Camarillo
> Cc: Bob Penfield; sip@ietf.org
> Subject: RE: [Sip] 482 handling by proxies
>
>
>
> > >>Yes. I was just worried about cases where it actually may take a
> > >>relatively long time before the 200 final response is sent,
> > due to other
> > >>call setup actions (PRACK, INFO etc), because I guess the
> > proxy won't
> > >>wait "forever" for the final response until it takes some
> > actions (of
> > >>course, in a real-life situation the call setup probably
> > won't be that
> > >>long) for the pending legs.
> > >>
> > >
> > >The proxy has ACKed already the 482 response. The only thing
> > it does is
> > >to store it in a buffer as one of the non-2xx final
> > responses received
> > >so far. This way it will be able to choose the "best" one to
> > send back.
> > >
> > >I do not know why you are raising this now, because this has been
> > >standard SIP behavior since the beginning.
> >
> > I just wanted to clarify the specific case where it takes a
> long time
> > before the final response is received for a specific leg,
> because the
> > use of call pre-setup transactions etc has NOT been standard SIP
> > behavious since the beginning...
> >
>
> Christer,
>
> There are two alternatives:
>
> When a proxy forks a request it slaps on a proxy-selected "No-Answer
> Timeout" on INVITE requests, that is, a proxy will wait
> around for a certain
> time for final responses from all branches and otherwise it
> will just return
> the best non-2xx response received and CANCEL out other branches.
> Imposing local timers that affect answer timeouts is a bad thing !!
>
> The other alternative is that the proxy "never" times outs
> and will only
> send a final response when _all_ branches have responded with
> a non-2xx
> response (assuming that a 1xx has been received from each
> branch) OR one
> branch has returned a 2xx response OR the caller CANCEL's.

One of the things that has changed in bis-05 is that a proxy is generally
not supposed to send a non-2xx final response upstream unless its gotten
final responses to all requests that it proxied. This is to prevent the
condition where a proxy forwards a non-2xx upstream, only to receive a 2xx
on a pending branch. The poor UA would have to handle this awful case where
it gets a non-2xx followed by a 2xx.

So, if a proxy wants to terminate a pending transaction, it should follow
Robert's second alternative - CANCEL its pending branches and then send a
408 or 487 upstream once all pending branches have responded. It should not
follow his first alternative, where it simply sends the 408 and then
CANCELs.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 12:37:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22562
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 12:37:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27651
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 12:37:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26470;
	Tue, 20 Nov 2001 12:02:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26439
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 12:02:34 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20251
	for <sip@ietf.org>; Tue, 20 Nov 2001 12:02:29 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKH0Lhp010731;
	Tue, 20 Nov 2001 12:00:21 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4DL7>; Tue, 20 Nov 2001 12:01:44 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F74@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'A Venkatraman'" <arunvenk@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'Fairlie-Cuninghame, Robert'"
	 <rfairlie@nuera.com>,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>,
        Gonzalo Camarillo
	 <Gonzalo.Camarillo@lmf.ericsson.se>
Cc: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] 482 handling by proxies
Date: Tue, 20 Nov 2001 12:01:44 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: A Venkatraman [mailto:arunvenk@cisco.com]
> Sent: Tuesday, November 20, 2001 10:55 AM
> To: Jonathan Rosenberg; 'Fairlie-Cuninghame, Robert'; 'Christer
> Holmberg'; Gonzalo Camarillo
> Cc: Bob Penfield; sip@ietf.org
> Subject: RE: [Sip] 482 handling by proxies
> 
> 
> Jonathan
> The proxy is going to send a non-2xx final response to the 
> UAC after a timer
> expires if all branches have not sent a final response.
> 1.Does this mean the proxy wait for the CANCEL to potentially 
> time out if a
> branch does not respond to it, before returning the non-2xx response?

Yup, although this shouldn't occur unless there was a failure between the
original request and the CANCEL. You won't send the CANCEL in the first
place unless you got a 1xx from the next hop, so you know it was there when
you sent the original request.

> 
> 2.Further, suppose the CANCEL gets a 200 Ok but the final 
> response to the
> INVITE was not received. Should the proxy start a timer for 
> this before
> forwarding a final response to the Uac?

Yes. THis should be a problem in theory only by now, since its only an issue
for older rfc2543 UAS that don't respond to the INVITE with 487 when
receiving CANCEL. As this feature has been in bis for well over a year, I
suspect its not going to be a problem. This timer is documented in bis-05,
lines 1191-1195. 

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 12:39:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22629
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 12:39:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA27677
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 12:39:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26731;
	Tue, 20 Nov 2001 12:09:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA26704
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 12:09:22 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA20721
	for <sip@ietf.org>; Tue, 20 Nov 2001 12:09:17 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKH7Shp010821;
	Tue, 20 Nov 2001 12:07:28 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4DNM>; Tue, 20 Nov 2001 12:08:51 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F76@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: RE: [Sip] bis-05 compact form vs. short form
Date: Tue, 20 Nov 2001 12:08:50 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org




> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Tuesday, November 20, 2001 8:44 AM
> To: jdrosen@dynamicsoft.com; sip@ietf.org
> Subject: RE: [Sip] bis-05 compact form vs. short form
> 
> > Suggestions? Its not clear to me that this is all that important.
> > 
> (I goofed in the reference, it should be draft-ietf-sip-guidelines-02)
> 
> Agreed that this should be at the bottom of the priority pile.
> 
> In section 4.4 of draft-ietf-sip-guidelines-02, second paragraph:
>   Extensions that define new headers SHOULD define a compact form
>   representation if the non-compact header is more than four
>   characters....
> change to:
>   Extensions that define new headers that are anticipated to be
>   heavily used SHOULD define a compact form....
> 
> I think this wording is consistent with the criterion used in 2543
> about picking some headers for compact forms and not others.

OK, the text is changed in will appear in -04 (-03 hasn't appeared yet but
it was submitted).

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 13:04:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA24529
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 13:04:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28596
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 13:04:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27740;
	Tue, 20 Nov 2001 12:42:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27709
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 12:42:37 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22860
	for <sip@ietf.org>; Tue, 20 Nov 2001 12:42:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKHeghp011123;
	Tue, 20 Nov 2001 12:40:42 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4DR0>; Tue, 20 Nov 2001 12:42:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F79@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] bis-05: Terminating a session
Date: Tue, 20 Nov 2001 12:42:05 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Monday, October 29, 2001 3:45 PM
> To: sip@ietf.org
> Subject: [Sip] bis-05: Terminating a session
> 
> 
> Hi,
> 
> Section 15 is a great improvement,

Thanks! Its nice to see a complement after the nonstop barrage of complaints
and nits ;)

 
> Section 15 begins:
> 
>    Terminating a session is done either with the BYE request, or the
>    CANCEL request, depending on the state of the dialog. Either caller
>    or callee can terminate, and may do so for any reason.
> 
> One might interpret this as allowing a callee to send CANCEL 
> or a callee to
> send BYE prior to an "established" dialog. This whole area of 
> terminating
> session has caused a lot of confusion and discussion and I 
> think we need to
> be really clear.
> 
> I suggest section 15 begin:
> 
> "Either the caller or callee may terminate a session for any reason. A
> caller terminates a session either with BYE or CANCEL 
> depending on the state
> of the dialog. A callee uses BYE to terminate an established dialog."

OK, that sounds good.

> 
> Somewhere near line 1957, it should be noted that the callee 
> terminates an
> early dialog by sending a non-2xx final response to the INVITE.

There is no early dialog; its rejecting the invitation, and will thus not
cause a dialog to be established, or the session. But, I understand what you
are getting at, and we'll add some words.

> 
> As far as issue#202 is concerned, I think that this is the 
> right solution.

Yes, I think so too (thats why we put it in). It mirrors the solution for
CANCEL/100.

> 
> In section 15.1.1 at line 1972, ".. creation of dialog 
> (either early or
> established)." should be "... creation of dialog (established for the
> callee, early or established for the caller)".

Another good suggestion. 

Thanks for your comments,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 13:06:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA24673
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 13:06:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA28698
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 13:06:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27973;
	Tue, 20 Nov 2001 12:51:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA27943
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 12:51:05 -0500 (EST)
Received: from mgw-x2.nokia.com (mgw-x2.nokia.com [131.228.20.22])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA23378
	for <sip@ietf.org>; Tue, 20 Nov 2001 12:51:01 -0500 (EST)
From: krisztian.kiss@nokia.com
Received: from esvir02nok.nokia.com (esvir02nokt.ntc.nokia.com [172.21.143.34])
	by mgw-x2.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fAKHpkA17537
	for <sip@ietf.org>; Tue, 20 Nov 2001 19:51:46 +0200 (EET)
Received: from esebh25nok.ntc.nokia.com (unverified) by esvir02nok.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T5757b87c5fac158f22077@esvir02nok.nokia.com>;
 Tue, 20 Nov 2001 19:51:03 +0200
Received: by esebh25nok with Internet Mail Service (5.5.2652.78)
	id <XCKL3B9K>; Tue, 20 Nov 2001 19:51:03 +0200
Message-ID: <DED1F2C6CE07FA498D7AD0CCAC03401B84FC49@trebe003.NOE.Nokia.com>
To: wtm@research.att.com, sip@ietf.org
Subject: RE: [Sip] REFER security
Date: Tue, 20 Nov 2001 19:51:03 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2652.78)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,

> Fortunately, the current refer draft does not allow a "method="
> parameter on the Refer-To header.  Hopefully that stays that way.

I have found an example in 3.1.1 showing that
Refer-To: sip:carol@cleveland.com;method=SUBSCRIBE

Regards,
Krisztian

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 13:41:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27507
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 13:41:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00054
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 13:41:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28933;
	Tue, 20 Nov 2001 13:12:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA28902
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 13:12:51 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA25445
	for <sip@ietf.org>; Tue, 20 Nov 2001 13:12:46 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id KAA29263; Tue, 20 Nov 2001 10:12:14 -0800 (PST)
Message-Id: <4.1.20011120112527.03356d88@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Tue, 20 Nov 2001 12:10:37 -0600
To: Mpierce1@aol.com, sip@ietf.org
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Resource-Priority Header
Cc: choid@ncr.disa.mil
In-Reply-To: <79.1e5959f4.292b26e6@aol.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_7452906==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_7452906==_.ALT
Content-Type: text/plain; charset="us-ascii"


At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
>To all,
>
>I have the following comments on draft-polk-sip-resource-00:
>
>The approach described in this draft will provide the functionality needed to 
>support the requirements spelled out in 
>draft-pierce-sipping-assured-service-00.
>
>Nits: Section 4 gives example of 'e.g., "between urgent and normal".' This 
>should reference some of the values defined in Section 3.

This is a generic example that most can understand -- that's why it was used.

>
>Definition of values: Although the specific tokens defined in Section 3 are 
>the ones required for the US military application (and may be usable in other 
>such environments), it would appear to be advisable to define the token 
>values in a more generic way within the standard. This would facilitate the 
>use of the resource-priority header in other networks that may use other 
>words to describe the levels. For example, a network could choose to use 
>three levels and call them "important", "regular", and "not-so-important".

We chose what was originally defined in RFC791 "Internet Protocol", nothing
more, nothing less (other than not including the non-UA priority levels defined
in 791 for inter-network node communications)

>For two different networks, one could not say whether 
>"important" in one should be above or below "flash" in the other, nor should 
>one need to define this. 

This would and must be solved with an SLA if this header's effect is to
propagate past domain boundaries. As for comparing two network's treatment
levels, the Resource Header is stated as not an absolute but a relative
ordering

>
>It is essential that a network using a different set of values be able to do 
>so without relating their meanings and relative precedence level with those 
>of another network, when it is not intended that the two sets be used 
>together. 

This header is not mandatory. Your  second network doesn't have to adhere to it
at all.

>The stipulation that unknown values should be treated as "routine" 
>might solve the problem of values "leaking" from another domain into the one 
>using the definitions in Section 3. 

See above

>It would have to be part of the 
>definition for each network to specify what "default" is used for unknown 
>values. It may not always be the lowest. 

That's a implementation issue.

>In addition, every network defining 
>new values would have to use a completely different set.

Not true

>
>However, since it would not be under the control of the user of a network 
>whether or not intermediate routers, etc. "know" the meaning of other values 
>defined for other networks, the user might be unaware of the network's 
>actions resulting from its knowledge of the values defined for other networks 
>(in case of "leakage"). For example, given the current definitions in Section 
>3, if another network defined a set of five values of (lowest to highest) of 
>"flash", "more-than-flash", "flash-plus1", super-flash", and 
>"extremely-high-flash", then one of its lowest precedence calls (flash) 
>"leaking" over into the other network would be treated as a relatively high 
>precedence call in that other network.

This would only be true if they also called their SIP Header Resource-Priority,
which this group should not allow. If they still do, this is a proprietary
implementation -- and they will likely reap the benefits of not being Standard.

>
>In fact, all SIP applications, not just this one, must be defined on the 
>presumption that "leakage" between network segments or domains can not occur. 

You are referring to Leakage, this header is optional to the UA, and in and of
itself, doesn't cause anything to happen in the network itself.

Most of what you say would be true if the header Standardized within the SIP
Protocol and were Mandatory, but it is neither yet, so no problems. If it
becomes a part of SIP with its current spirit of language (meaning only  little
things are changed), then it is up to each domain to implement and react to
what this header means within this domain.

>
>Since one of the applications involves interworking with the ITU-T defined 
>protocols (e.g., Q.735.3), it should be noted that those ITU-T protocols 
>carry a numeric value 0-4 (with 5-15 reserved). 

SIP is text based.

>Although Q.735.3 describes a 
>meaning for each of those 5 values, the actual words used to identify each is 
>different in various translations of the Recommendation and nothing prevents 
>a network from using totally different textual meanings.

This header prevents it -- that why these were defined in a written order of
relative priority (let's not forget the CRITIC/ECP level)

>The statement in Section 3 that states "As a response header, the value 
>indicates the actual priority selected by the recipient" needs to be examined 
>with respect to the services which might use this field. For the support of 
>the service as defined in Q.735.3, the recipient has no say in the choice of 
>priority. 

This is a optional header. If Q735.3 were solely intended with our submission,
we would have made the language such that this header is mandatory and a
"Requires" header. Making it a Request/Response makes this header more open to
other interpretations and uses, say, like only using a subset of the 6 listed
levels within a certain network. That domain just couldn't use the values out
of order as defined here. Hospital emergency facilities shouldn't need 5 levels
-- I'm told suggestions are for only 3 levels. Financial institutions only want
2 (maybe 3) levels as well. This is an open header, and optional.

>The originator selects the value to be used for the setup of a call 
>and there would be no need for a response value.

True in your one example -- but not the sole intent here by any means.

>It is unknown what service, 
>if any, would require this in a response.

See above, and I know of many other (services and) customers that want this.

>
>Mike Pierce
>Artel
>
>
>
>_______________________________________________
>Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
>This list is for NEW development of the core SIP Protocol
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sipping@ietf.org for new developments on the application of sip

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_7452906==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:</div>
<div>&gt;To all,</div>
<div>&gt;</div>
<div>&gt;I have the following comments on
draft-polk-sip-resource-00:</div>
<div>&gt;</div>
<div>&gt;The approach described in this draft will provide the
functionality needed to </div>
<div>&gt;support the requirements spelled out in </div>
<div>&gt;draft-pierce-sipping-assured-service-00.</div>
<div>&gt;</div>
<div>&gt;Nits: Section 4 gives example of 'e.g., &quot;between urgent and
normal&quot;.' This </div>
<div>&gt;should reference some of the values defined in Section 
3.</div>
<br>
<div>This is a generic example that most can understand -- that's why it
was used.</div>
<br>
<div>&gt;</div>
<div>&gt;Definition of values: Although the specific tokens defined in
Section 3 are </div>
<div>&gt;the ones required for the US military application (and may be
usable in other </div>
<div>&gt;such environments), it would appear to be advisable to define
the token </div>
<div>&gt;values in a more generic way within the standard. This would
facilitate the </div>
<div>&gt;use of the resource-priority header in other networks that may
use other </div>
<div>&gt;words to describe the levels. For example, a network could
choose to use </div>
<div>&gt;three levels and call them &quot;important&quot;,
&quot;regular&quot;, and &quot;not-so-important&quot;.</div>
<br>
<div>We chose what was originally defined in RFC791 &quot;Internet
Protocol&quot;, nothing more, nothing less (other than not including the
non-UA priority levels defined in 791 for inter-network node
communications)</div>
<br>
<div>&gt;For two different networks, one could not say whether </div>
<div>&gt;&quot;important&quot; in one should be above or below
&quot;flash&quot; in the other, nor should </div>
<div>&gt;one need to define this. </div>
<br>
<div>This would and must be solved with an SLA if this header's effect is
to propagate past domain boundaries. As for comparing two network's
treatment levels, the Resource Header is stated as not an absolute but a
relative ordering</div>
<br>
<div>&gt;</div>
<div>&gt;It is essential that a network using a different set of values
be able to do </div>
<div>&gt;so without relating their meanings and relative precedence level
with those </div>
<div>&gt;of another network, when it is not intended that the two sets be
used </div>
<div>&gt;together. </div>
<br>
<div>This header is not mandatory. Your&nbsp; second network doesn't have
to adhere to it at all.</div>
<br>
<div>&gt;The stipulation that unknown values should be treated as
&quot;routine&quot; </div>
<div>&gt;might solve the problem of values &quot;leaking&quot; from
another domain into the one </div>
<div>&gt;using the definitions in Section 3. </div>
<br>
<div>See above</div>
<br>
<div>&gt;It would have to be part of the </div>
<div>&gt;definition for each network to specify what &quot;default&quot;
is used for unknown </div>
<div>&gt;values. It may not always be the lowest. </div>
<br>
<div>That's a implementation issue.</div>
<br>
<div>&gt;In addition, every network defining </div>
<div>&gt;new values would have to use a completely different set.</div>
<br>
<div>Not true</div>
<br>
<div>&gt;</div>
<div>&gt;However, since it would not be under the control of the user of
a network </div>
<div>&gt;whether or not intermediate routers, etc. &quot;know&quot; the
meaning of other values </div>
<div>&gt;defined for other networks, the user might be unaware of the
network's </div>
<div>&gt;actions resulting from its knowledge of the values defined for
other networks </div>
<div>&gt;(in case of &quot;leakage&quot;). For example, given the current
definitions in Section </div>
<div>&gt;3, if another network defined a set of five values of (lowest to
highest) of </div>
<div>&gt;&quot;flash&quot;, &quot;more-than-flash&quot;,
&quot;flash-plus1&quot;, super-flash&quot;, and </div>
<div>&gt;&quot;extremely-high-flash&quot;, then one of its lowest
precedence calls (flash) </div>
<div>&gt;&quot;leaking&quot; over into the other network would be treated
as a relatively high </div>
<div>&gt;precedence call in that other network.</div>
<br>
<div>This would only be true if they also called their SIP Header
Resource-Priority, which this group should not allow. If they still do,
this is a proprietary implementation -- and they will likely reap the
benefits of not being Standard.</div>
<br>
<div>&gt;</div>
<div>&gt;In fact, all SIP applications, not just this one, must be
defined on the </div>
<div>&gt;presumption that &quot;leakage&quot; between network segments or
domains can not occur. </div>
<br>
<div>You are referring to Leakage, this header is optional to the UA, and
in and of itself, doesn't cause anything to happen in the network
itself.</div>
<br>
<div>Most of what you say would be true if the header Standardized within
the SIP Protocol and were Mandatory, but it is neither yet, so no
problems. If it becomes a part of SIP with its current spirit of language
(meaning only&nbsp; little things are changed), then it is up to each
domain to implement and react to what this header means within this
domain.</div>
<br>
<div>&gt;</div>
<div>&gt;Since one of the applications involves interworking with the
ITU-T defined </div>
<div>&gt;protocols (e.g., Q.735.3), it should be noted that those ITU-T
protocols </div>
<div>&gt;carry a numeric value 0-4 (with 5-15 reserved). </div>
<br>
<div>SIP is text based.</div>
<br>
<div>&gt;Although Q.735.3 describes a </div>
<div>&gt;meaning for each of those 5 values, the actual words used to
identify each is </div>
<div>&gt;different in various translations of the Recommendation and
nothing prevents </div>
<div>&gt;a network from using totally different textual meanings.</div>
<br>
<div>This header prevents it -- that why these were defined in a written
order of relative priority (let's not forget the CRITIC/ECP 
level)</div>
<br>
<div>&gt;The statement in Section 3 that states &quot;As a response
header, the value </div>
<div>&gt;indicates the actual priority selected by the recipient&quot;
needs to be examined </div>
<div>&gt;with respect to the services which might use this field. For the
support of </div>
<div>&gt;the service as defined in Q.735.3, the recipient has no say in
the choice of </div>
<div>&gt;priority. </div>
<br>
<div>This is a optional header. If Q735.3 were solely intended with our
submission, we would have made the language such that this header is
mandatory and a &quot;Requires&quot; header. Making it a Request/Response
makes this header more open to other interpretations and uses, say, like
only using a subset of the 6 listed levels within a certain network. That
domain just couldn't use the values out of order as defined here.
Hospital emergency facilities shouldn't need 5 levels -- I'm told
suggestions are for only 3 levels. Financial institutions only want 2
(maybe 3) levels as well. This is an open header, and optional.</div>
<br>
<div>&gt;The originator selects the value to be used for the setup of a
call </div>
<div>&gt;and there would be no need for a response value.</div>
<br>
<div>True in your one example -- but not the sole intent here by any
means.</div>
<br>
<div>&gt;It is unknown what service, </div>
<div>&gt;if any, would require this in a response.</div>
<br>
<div>See above, and I know of many other (services and) customers that
want this.</div>
<br>
<div>&gt;</div>
<div>&gt;Mike Pierce</div>
<div>&gt;Artel</div>
<div>&gt;</div>
<div>&gt;</div>
<div>&gt;</div>
<div>&gt;_______________________________________________</div>
<div>&gt;Sip mailing list&nbsp;
<a href="http://www1.ietf.org/mailman/listinfo/sip" EUDORA=AUTOURL>http://www1.ietf.org/mailman/listinfo/sip</a></div>
<div>&gt;This list is for NEW development of the core SIP 
Protocol</div>
<div>&gt;Use sip-implementors@cs.columbia.edu for questions on current
sip</div>
<div>&gt;Use sipping@ietf.org for new developments on the application of
sip</div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_7452906==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 13:43:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27698
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 13:43:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA00105
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 13:43:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29153;
	Tue, 20 Nov 2001 13:24:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA29122
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 13:24:38 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA26224
	for <sip@ietf.org>; Tue, 20 Nov 2001 13:24:35 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKIMhhp011212;
	Tue, 20 Nov 2001 13:22:43 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4DS7>; Tue, 20 Nov 2001 13:24:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F7B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Padhye, Chinmay'" <c_padhye@trillium.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] SIP Caller Preferences - Does registration contain 'Pri
	ority' inf ormation?
Date: Tue, 20 Nov 2001 13:24:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



(finally getting around to revving this and finishing it up)

> -----Original Message-----
> From: Padhye, Chinmay [mailto:c_padhye@trillium.com]
> Sent: Thursday, August 23, 2001 9:04 PM
> To: 'sip@ietf.org'
> Subject: [Sip] SIP Caller Preferences - Does registration contain
> 'Priority' inf ormation?
> 
> 
> Hello,
> 
> 	In section 6.4.2 in the caller preferences draft,
> draft-ietf-sip-callerprefs-04.txt the third paragraph 
> mentions - 'A contact
> entry may contain a priority member'. But the 'Priority' 
> header is allowed
> only in the INVITE message (per table 5 in bis 04). So how 
> will a registrar
> get a contact entry with a priority member?

This is referring to the priority parameter of the Contact header, as
specified in Section 5.4. So, a registration would have:

REGISTER
Contact: sip:me@home;priority="urgent"

and then if an INVITE comes in:

INVITE sip:me@domain.com SIP/2.0
Priority: urgent

this would get routed to sip:me@home.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 14:04:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA29161
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 14:04:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA01341
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 14:04:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00332;
	Tue, 20 Nov 2001 13:47:36 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA00302
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 13:47:33 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA28072
	for <sip@ietf.org>; Tue, 20 Nov 2001 13:47:29 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKIjchp011541;
	Tue, 20 Nov 2001 13:45:38 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4DY9>; Tue, 20 Nov 2001 13:47:02 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F7C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] under-the-wire comments for caller-prefs
Date: Tue, 20 Nov 2001 13:47:01 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Saturday, September 08, 2001 2:24 AM
> To: sip@ietf.org
> Subject: [Sip] under-the-wire comments for caller-prefs
> 
> 
> Hi,
> 
> I have a few quick nits on caller-prefs while I have a few 
> minutes of last 
> call left.  ;-)

Well, my poor turnaround has made this a tad more than a few minutes...

> 
> 1) Does the behavior of "cancel-feature" in Request 
> Disposition on page 12 
> depend on the resolution of bis open issue #122?

To save people some trouble, issue #122 is about whether or not a proxy
MUST/SHOULD/MAY cancel pending branaches to a 2xx. Bis-05 has this as a
MUST. There seemed to be rough consensus on this, so this open issue is, I
think, closed. We do need to add some words to bis to make sure that its
clear that this particular MUST could be overriden by some extension. This
doesn't make bis dependent on that extension, it merely clarifies that its a
MUST unless the client says otherwise.

SO, that does mean the text in caller preferences should probably change to
reflect that the cancel=yes is redundant. I made that change.



> 
> 2) on page 2  proposed rewording: "a script written in [CPL]" 
>  -> "some 
> type of scripting language such as CPL"

Fixed.

> 
> 3) need a Full Copyright Statement at the end of the draft

OK, thanks.

> 
> 4) typo bottom of page 3  "prefernces" -> "preferences"

Fixed.

Thanks for your comments,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 14:27:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA00784
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 14:27:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA02145
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 14:27:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01634;
	Tue, 20 Nov 2001 14:10:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA01603
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 14:10:05 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA29569
	for <sip@ietf.org>; Tue, 20 Nov 2001 14:10:00 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fAKJ9ZVZ014659;
	Tue, 20 Nov 2001 14:09:35 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTC3Y>; Tue, 20 Nov 2001 14:09:26 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7F3@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Subject: RE: [Sip] REFER security
Date: Tue, 20 Nov 2001 14:09:24 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> One piece of the dis-information (D in FUD) seems to derive
> from the example posted frequently about 
>    Refer-To: ....url....&method=BYE
> If this were true and valid, it would enable a hacker "out of 
> the blue"
> to cause an existing session to terminate.  What a great denial
> of service attack!  And nothing a carrier can do to prevent it.
> Fortunately, the current refer draft does not allow a "method="
> parameter on the Refer-To header.  Hopefully that stays that way.

Well - it does allow a method to be specified, though it's policy
on the reciever's point whether or not it will use it. The DoS you 
suggest is not as easy you imply though - the REFER would have to
contain
the appropriate dialog identifiers and the endpoint processing
the refer would have to agree to reuse them - not likely. I suspect
others are thinking about an _in-dialog_ REFER that would just reuse
the existing dialog identifiers in the resulting requests - that just
moves the problem - the attacker still needs to know the dialog
identifiers to inject a REFER that would work - if they can do that,
they can just introduce the BYE directly.

<snip>

> 
> It is clear, though, that a UA that accepts a REFER from an untrusted
> source, without authentication, gets exactly what it pays for.

Agreed. That would be an unwise default policy.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 15:24:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03236
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 15:24:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA03761
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 15:24:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA02985;
	Tue, 20 Nov 2001 14:59:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA02895
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 14:59:08 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02190
	for <sip@ietf.org>; Tue, 20 Nov 2001 14:59:03 -0500 (EST)
Received: from zcars04e.ca.nortel.com (zcars04e.ca.nortel.com [47.129.242.56])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fAKJvuS02844
	for <sip@ietf.org>; Tue, 20 Nov 2001 14:57:56 -0500 (EST)
Received: from zcard015.ca.nortel.com (actually zcard015) 
          by zcars04e.ca.nortel.com; Tue, 20 Nov 2001 14:58:12 -0500
Received: by zcard015.ca.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <W9X3CWWY>; Tue, 20 Nov 2001 14:57:16 -0500
Message-ID: <4D79C746863DD51197690002A52CDA00274B65@zcard0kc.ca.nortel.com>
From: "Tom-PT Taylor" <taylor@nortelnetworks.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] bis-05: use of 100 Trying
Date: Tue, 20 Nov 2001 14:57:14 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C171FD.8C9A94D0"
X-Orig: <taylor@americasm01.nt.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C171FD.8C9A94D0
Content-Type: text/plain;
	charset="iso-8859-1"

A Gateway can interwork with many different protocols, not just ISUP.  I
suspect that your 184 would not convey any useful information.  Better to
define new headers to indicate the true state of affairs in a 183, if
absolutely necessary.

-----Original Message-----
From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
Sent: Tuesday, November 20, 2001 1:22 AM
To: Gonzalo Camarillo
Cc: Drage, Keith (Keith); 'sip@ietf.org'
Subject: Re: [Sip] bis-05: use of 100 Trying



Hi,

As Gonzalo said, it's probably not a good idea for an UAS GW to send 183
instead of 100, before it has received an ISUP message "triggering" the
183 (it would be mapped into an ISUP message in the UAC GW, and that may
cause problems later when we do receive ISUP messages on the UAS GW
side).

So, my question is: does anyone of the "gateway people" think it would
be worth adding a new response code - "184 Gateway reached"?

This code would be sent by the gateway when the INVITE is received,
instead of 100 Trying, and it would not be mapped into any ISUP message
on the UAC GW side.

This way it would be possible for the UAS GW to provide the Contact
header and To header tag at an early stage.

Also, there may be services, and other decissions (related to the bearer
and/or signalling) which are done based on if the call ends up in
another PSTN network or in the SIP network itself. The 184 response code
would inform the UAC, and intermediate SIP nodes, about this.

Comments?

Christer Holmberg
Ericsson Finland




Gonzalo Camarillo wrote:
> 
> Hello,
> 
> inline:
> 
> "Drage, Keith (Keith)" wrote:
> >
> > Based on the CANCEL thread that is going on, I was trying to sort out
the
> > usage that is currently mandated for generating 100 Trying, which is
> > different from bis-04.
> >
> > For INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on
no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 7 (page 95) and the text in 17.2.1
> > cover this. The text says MAY generate a 100 unless... The figure
implies a
> > MUST generate 100.
> >
> > I think a distinction should be drawn here between proxy servers and
user
> > agent servers. I have no problem indicating that proxy servers MUST
generate
> > 100 Trying.
> >
> > For user agent servers, surely there is always a better provisional
response
> > to send. Even if the UAS is taking time during a lookup, there is
important
> > information to send that a UA has been reached, and therefore 183 is
always
> > more appropriate that 100. Therefore surely it would be better to
specify
> > UAS MAY generate 183 unless...
> 
> Line 2703 already says that if you are going to generate another
> provisional response or a final response you do not have to generate
> 100.
> 
> "The server transaction MUST generate a 100 response (not any status
> code - the specific value of 100) unless it knows 2703
> that the TU will generate a provisional or final response within 200 ms,
> in which case it MAY generate a 100 2704
> response. 2705"
> 
> You claim that the UAS will ALWAYS have something better to send than a
> 100. Well, if my UAS is a SIP to ISUP gateway the best response I can
> send is 100, because I cannot send a 183 on behalf of the end user until
> I receive something from the ISUP network (typically ACM, early ACM or
> even CPG in ANSI networks).
> 
> Therefore, I believe the current text is perfect as it is.
> 
> A different issue is that some folks want to return a provisional
> response from any gateway in order to provide Contact info to the UAC.
> However, I still have not seen a single example where this might be
> useful.
> 
> Regards,
> 
> Gonzalo
> 
> >
> > For non-INVITE transactions,
> >
> > -       stateless proxies never generate it (16.9). It must pass it on
no
> > matter what request it relates to (section 16.9);
> >
> > -       for all other servers: figure 8 (page 105) and the text in
17.2.2
> > cover this. There is no text covering the generation of any provisional
> > response, not even 100 Trying. However figure 8 indicates that the TU
may
> > generate 1xx responses, and that the server process will then pass them
on.
> >
> > Does this mean that a TU in a proxy can independently generate 1xx
responses
> > (including 100), or is it an attempt to represent that if a proxy
receives a
> > 1xx response, it will pass it on through the TU and therefore the server
> > side will generate it?
> >
> > While the figures cover this for the client and server state machine,
the TU
> > needs requirements to state that this happens in the text, and these I
> > cannot find. At a minimum therefore, I believe we have a hole in the
> > specification, but I am not sure how to fill it. Surely it would be
better
> > to preclude 1xx responses altogether in this case, and therefore if a
> > stateful proxy client receives such a response it kills it.
> >
> > I am unsure whether 100 Trying should be permitted or barred in the
above
> > case. Currently the balance of the text would imply it is precludes for
> > non-INVITE which would appear to me to be fine.
> >
> > Keith
> >
> >
> > Keith Drage
> > Lucent Technologies
> > Tel: +44 1793 776249
> > Email: drage@lucent.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C171FD.8C9A94D0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] bis-05: use of 100 Trying</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>A Gateway can interwork with many different =
protocols, not just ISUP.&nbsp; I suspect that your 184 would not =
convey any useful information.&nbsp; Better to define new headers to =
indicate the true state of affairs in a 183, if absolutely =
necessary.</FONT></P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Christer Holmberg [<A =
HREF=3D"mailto:christer.holmberg@lmf.ericsson.se">mailto:christer.holmbe=
rg@lmf.ericsson.se</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Tuesday, November 20, 2001 1:22 AM</FONT>
<BR><FONT SIZE=3D2>To: Gonzalo Camarillo</FONT>
<BR><FONT SIZE=3D2>Cc: Drage, Keith (Keith); 'sip@ietf.org'</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] bis-05: use of 100 Trying</FONT>
</P>
<BR>
<BR>

<P><FONT SIZE=3D2>Hi,</FONT>
</P>

<P><FONT SIZE=3D2>As Gonzalo said, it's probably not a good idea for an =
UAS GW to send 183</FONT>
<BR><FONT SIZE=3D2>instead of 100, before it has received an ISUP =
message &quot;triggering&quot; the</FONT>
<BR><FONT SIZE=3D2>183 (it would be mapped into an ISUP message in the =
UAC GW, and that may</FONT>
<BR><FONT SIZE=3D2>cause problems later when we do receive ISUP =
messages on the UAS GW</FONT>
<BR><FONT SIZE=3D2>side).</FONT>
</P>

<P><FONT SIZE=3D2>So, my question is: does anyone of the &quot;gateway =
people&quot; think it would</FONT>
<BR><FONT SIZE=3D2>be worth adding a new response code - &quot;184 =
Gateway reached&quot;?</FONT>
</P>

<P><FONT SIZE=3D2>This code would be sent by the gateway when the =
INVITE is received,</FONT>
<BR><FONT SIZE=3D2>instead of 100 Trying, and it would not be mapped =
into any ISUP message</FONT>
<BR><FONT SIZE=3D2>on the UAC GW side.</FONT>
</P>

<P><FONT SIZE=3D2>This way it would be possible for the UAS GW to =
provide the Contact</FONT>
<BR><FONT SIZE=3D2>header and To header tag at an early stage.</FONT>
</P>

<P><FONT SIZE=3D2>Also, there may be services, and other decissions =
(related to the bearer</FONT>
<BR><FONT SIZE=3D2>and/or signalling) which are done based on if the =
call ends up in</FONT>
<BR><FONT SIZE=3D2>another PSTN network or in the SIP network itself. =
The 184 response code</FONT>
<BR><FONT SIZE=3D2>would inform the UAC, and intermediate SIP nodes, =
about this.</FONT>
</P>

<P><FONT SIZE=3D2>Comments?</FONT>
</P>

<P><FONT SIZE=3D2>Christer Holmberg</FONT>
<BR><FONT SIZE=3D2>Ericsson Finland</FONT>
</P>
<BR>
<BR>
<BR>

<P><FONT SIZE=3D2>Gonzalo Camarillo wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Hello,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; inline:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &quot;Drage, Keith (Keith)&quot; wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Based on the CANCEL thread that is going =
on, I was trying to sort out the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; usage that is currently mandated for =
generating 100 Trying, which is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; different from bis-04.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; For INVITE transactions,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
stateless proxies never generate it (16.9). It must pass it on =
no</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; matter what request it relates to (section =
16.9);</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for =
all other servers: figure 7 (page 95) and the text in 17.2.1</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; cover this. The text says MAY generate a =
100 unless... The figure implies a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; MUST generate 100.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I think a distinction should be drawn here =
between proxy servers and user</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; agent servers. I have no problem =
indicating that proxy servers MUST generate</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 100 Trying.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; For user agent servers, surely there is =
always a better provisional response</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; to send. Even if the UAS is taking time =
during a lookup, there is important</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; information to send that a UA has been =
reached, and therefore 183 is always</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; more appropriate that 100. Therefore =
surely it would be better to specify</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; UAS MAY generate 183 unless...</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Line 2703 already says that if you are going to =
generate another</FONT>
<BR><FONT SIZE=3D2>&gt; provisional response or a final response you do =
not have to generate</FONT>
<BR><FONT SIZE=3D2>&gt; 100.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &quot;The server transaction MUST generate a =
100 response (not any status</FONT>
<BR><FONT SIZE=3D2>&gt; code - the specific value of 100) unless it =
knows 2703</FONT>
<BR><FONT SIZE=3D2>&gt; that the TU will generate a provisional or =
final response within 200 ms,</FONT>
<BR><FONT SIZE=3D2>&gt; in which case it MAY generate a 100 2704</FONT>
<BR><FONT SIZE=3D2>&gt; response. 2705&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; You claim that the UAS will ALWAYS have =
something better to send than a</FONT>
<BR><FONT SIZE=3D2>&gt; 100. Well, if my UAS is a SIP to ISUP gateway =
the best response I can</FONT>
<BR><FONT SIZE=3D2>&gt; send is 100, because I cannot send a 183 on =
behalf of the end user until</FONT>
<BR><FONT SIZE=3D2>&gt; I receive something from the ISUP network =
(typically ACM, early ACM or</FONT>
<BR><FONT SIZE=3D2>&gt; even CPG in ANSI networks).</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Therefore, I believe the current text is =
perfect as it is.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; A different issue is that some folks want to =
return a provisional</FONT>
<BR><FONT SIZE=3D2>&gt; response from any gateway in order to provide =
Contact info to the UAC.</FONT>
<BR><FONT SIZE=3D2>&gt; However, I still have not seen a single example =
where this might be</FONT>
<BR><FONT SIZE=3D2>&gt; useful.</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Gonzalo</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; For non-INVITE transactions,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
stateless proxies never generate it (16.9). It must pass it on =
no</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; matter what request it relates to (section =
16.9);</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for =
all other servers: figure 8 (page 105) and the text in 17.2.2</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; cover this. There is no text covering the =
generation of any provisional</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; response, not even 100 Trying. However =
figure 8 indicates that the TU may</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; generate 1xx responses, and that the =
server process will then pass them on.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Does this mean that a TU in a proxy can =
independently generate 1xx responses</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; (including 100), or is it an attempt to =
represent that if a proxy receives a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 1xx response, it will pass it on through =
the TU and therefore the server</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; side will generate it?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; While the figures cover this for the =
client and server state machine, the TU</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; needs requirements to state that this =
happens in the text, and these I</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; cannot find. At a minimum therefore, I =
believe we have a hole in the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; specification, but I am not sure how to =
fill it. Surely it would be better</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; to preclude 1xx responses altogether in =
this case, and therefore if a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; stateful proxy client receives such a =
response it kills it.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I am unsure whether 100 Trying should be =
permitted or barred in the above</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; case. Currently the balance of the text =
would imply it is precludes for</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; non-INVITE which would appear to me to be =
fine.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Keith</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Keith Drage</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Lucent Technologies</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Tel: +44 1793 776249</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Email: drage@lucent.com</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; &gt; This list is for NEW development of the =
core SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Use sipping@ietf.org for new developments =
on the application of sip</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; --</FONT>
<BR><FONT SIZE=3D2>&gt; Gonzalo =
Camarillo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Phone :&nbsp;&nbsp; =
+1 212 939 71 71</FONT>
<BR><FONT SIZE=3D2>&gt; Columbia =
University&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mobile:&nbsp; +358 40 702 35 =
35</FONT>
<BR><FONT SIZE=3D2>&gt; 472 Computer Science =
Building&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fax&nbsp;&nbsp; =
:&nbsp; +358&nbsp; 9 299 30 52</FONT>
<BR><FONT SIZE=3D2>&gt; 1214 Amsterdam Ave., Mail Code 0401&nbsp; <A =
HREF=3D"http://www.hut.fi/~gonzalo" =
TARGET=3D"_blank">http://www.hut.fi/~gonzalo</A></FONT>
<BR><FONT SIZE=3D2>&gt; New York, NY 10027</FONT>
<BR><FONT SIZE=3D2>&gt; =
USA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Gonzalo.Camarillo@ericsson.com</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
</P>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C171FD.8C9A94D0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 16:12:53 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA06286
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 16:12:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05284
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 16:12:55 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA04396;
	Tue, 20 Nov 2001 15:45:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA04362
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 15:45:25 -0500 (EST)
Received: from thalia.fm.intel.com (fmfdns02.fm.intel.com [132.233.247.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04527
	for <sip@ietf.org>; Tue, 20 Nov 2001 15:45:19 -0500 (EST)
Received: from fmsmsxvs043.fm.intel.com (fmsmsxvs043.fm.intel.com [132.233.42.129])
	by thalia.fm.intel.com (8.9.1a+p1/8.9.1/d: relay.m4,v 1.46 2001/10/25 21:02:55 root Exp $) with SMTP id UAA00623
	for <sip@ietf.org>; Tue, 20 Nov 2001 20:45:23 GMT
Received: from fmsmsx29.FM.INTEL.COM ([132.233.42.29])
 by fmsmsxvs043.fm.intel.com (NAVGW 2.5.1.6) with SMTP id M2001112012443627010
 ; Tue, 20 Nov 2001 12:44:36 -0800
Received: by fmsmsx29.fm.intel.com with Internet Mail Service (5.5.2653.19)
	id <XABCZPJF>; Tue, 20 Nov 2001 12:45:23 -0800
Message-ID: <F1CE15E08172D4119247009027AE9D500E4EB49E@FMSMSX37>
From: "Padhye, Chinmay" <c_padhye@trillium.com>
To: "'rsparks@dynamicsoft.com'" <rsparks@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 20 Nov 2001 12:45:21 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Use of Expires in Refer.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,

	I remember seeing a couple of emails on this. However I could not
spot them in the archive. Hence I am writing this email. 

	Bis 05 says the following about Expires - 'The precise meaning of
this is method dependent'. 
	
	What is the meaning of the Expires header for the REFER method?

	In general should extensions that introduce new method/s also define
the precise meaning of Expires for those method/s? 

Regards,

Chinmay

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 16:17:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA06391
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 16:17:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA05455
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 16:17:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA04510;
	Tue, 20 Nov 2001 15:49:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA04479
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 15:49:31 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04879
	for <sip@ietf.org>; Tue, 20 Nov 2001 15:49:26 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A1D926BE01FE; Tue, 20 Nov 2001 15:49:29 -0500
Message-ID: <010401c17204$57f51640$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>, <sip@ietf.org>
References: <B65B4F8437968F488A01A940B21982BF020D6F79@DYN-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] bis-05: Terminating a session
Date: Tue, 20 Nov 2001 15:45:52 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


----- Original Message -----
From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
<snip>
> > Somewhere near line 1957, it should be noted that the callee
> > terminates an
> > early dialog by sending a non-2xx final response to the INVITE.
>
> There is no early dialog; its rejecting the invitation, and will thus not
> cause a dialog to be established, or the session. But, I understand what
you
> are getting at, and we'll add some words.

I was talking about the case where a UAS has sent a 1xx (e.g. 183 Ringing)
which establishes an early dialog, and then sends a 4xx when the UAS wants
to terminate because the user pressed the "don't bother me now" button.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 17:19:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08847
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 17:19:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA07077
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 17:19:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA06262;
	Tue, 20 Nov 2001 16:50:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA06231
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 16:50:42 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA07736
	for <sip@ietf.org>; Tue, 20 Nov 2001 16:50:38 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKLmmhp013488;
	Tue, 20 Nov 2001 16:48:48 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R41X7>; Tue, 20 Nov 2001 16:50:12 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E7F7@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Padhye, Chinmay'" <c_padhye@trillium.com>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] Use of Expires in Refer.
Date: Tue, 20 Nov 2001 16:50:11 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Expire has no special meaning for REFER. 

More specifically, the presence of an Expire header
in a REFER requests will not affect the processing
of that request. A Refer-To URI that happens to be a SIP
URI may contain an Expire header parameter that could
affect the resulting request.

For your last question, the lack of an explicitly
defined meaning for header FOO means header FOO has
no special meaning for the particular context and
should be treated as an unknown header. For REFER,
Expires is as unknown as Subscription-Expires...

RjS

> -----Original Message-----
> From: Padhye, Chinmay [mailto:c_padhye@trillium.com]
> Sent: Tuesday, November 20, 2001 2:45 PM
> To: 'rsparks@dynamicsoft.com'; 'sip@ietf.org'
> Subject: [Sip] Use of Expires in Refer.
> 
> 
> Hello,
> 
> 	I remember seeing a couple of emails on this. However I 
> could not
> spot them in the archive. Hence I am writing this email. 
> 
> 	Bis 05 says the following about Expires - 'The precise 
> meaning of
> this is method dependent'. 
> 	
> 	What is the meaning of the Expires header for the REFER method?
> 
> 	In general should extensions that introduce new 
> method/s also define
> the precise meaning of Expires for those method/s? 
> 
> Regards,
> 
> Chinmay
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 17:21:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08942
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 17:21:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA07094
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 17:21:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA06792;
	Tue, 20 Nov 2001 17:00:39 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA06756
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 17:00:37 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA08160
	for <sip@ietf.org>; Tue, 20 Nov 2001 17:00:33 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAKLwhhp013636
	for <sip@ietf.org>; Tue, 20 Nov 2001 16:58:43 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R41ZP>; Tue, 20 Nov 2001 17:00:07 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF0254FD65@DYN-EXCH-001.dynamicsoft.com>
From: Rakesh Shah <RShah@dynamicsoft.com>
To: "SIPWG Mailing List (sip@ietf.org)" <sip@ietf.org>
Date: Thu, 1 Nov 2001 15:24:43 -0500 
Importance: high
X-Priority: 1
Deferred-Delivery: Tue, 20 Nov 2001 17:00:00 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] SIP WG - 6 - Last Call Open Discussion CLOSED - draft-ietf-sip-ca
 ll-auth-02.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear SIP WG Members,

       The subject draft's (link below) Open Discussion is now closed.

       The authors should be posting their summaries on the list shortly.

       Thank you for your participation in this discussion. The next step is
to poll the chairs and submit an updated draft to the IESG.

       If you have any further questions, please feel free to contact me.

Links

Draft -
http://www.softarmor.com/sipwg/drafts/draft-ietf-sip-call-auth-02.txt
Last Call Calendar - http://www.softarmor.com/sipwg/lastcall/lccalendar.pl
Supplemental SIP WG Web site - http://www.softarmor.com/sipwg

Regards,

Rakesh
______________________________
Mr. Rakesh C. Shah
Project Coordinator
dynamicsoft Inc. 
72 Eagle Rock Avenue
First Floor
East Hanover, NJ 07936
(973) 952-5000 main
(973) 952-5066 direct
(201) 214-6084 mobile
(973) 952-5050 fax
rshah@dynamicsoft.com
www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Tue Nov 20 17:56:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09950
	for <sip-archive@odin.ietf.org>; Tue, 20 Nov 2001 17:56:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA07670
	for sip-archive@odin.ietf.org; Tue, 20 Nov 2001 17:56:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07527;
	Tue, 20 Nov 2001 17:33:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA07499
	for <sip@ns.ietf.org>; Tue, 20 Nov 2001 17:33:35 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA09451
	for <sip@ietf.org>; Tue, 20 Nov 2001 17:33:30 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fAKMWS806704;
	Tue, 20 Nov 2001 14:32:28 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAJ33014;
	Tue, 20 Nov 2001 14:31:50 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id OAA22544; Tue, 20 Nov 2001 14:32:26 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15354.55801.889880.920813@thomasm-u1.cisco.com>
Date: Tue, 20 Nov 2001 14:32:25 -0800 (PST)
To: Henning Schulzrinne <hgs@cs.columbia.edu>
Cc: sip@ietf.org
Subject: [Sip] REFER security
In-Reply-To: <3BF6D75A.AE3CB1D4@cs.columbia.edu>
References: <3BF6D75A.AE3CB1D4@cs.columbia.edu>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Wandering into the REFER minefield... I should
probably know better. Hopefully this isn't
a complete waste of bandwidth.

Henning Schulzrinne writes:
 > I'm trying to better understand the REFER security issues. It seems like
 > there are two approaches:
 > 
 > (1) If the issuer of the REFER is the same as the caller or callee. In
 > that case, the main problem is presumably making sure that the REFER
 > does indeed come from the same party. As in
 > 
 > A -- INVITE --> B
 > A -- REFER (C) -- B

   I assume this is REFER (C) B->A?

 >                   B --- INVITE --> C
 >                         R-By: A

   So the basic thing I don't understand here is who
   "owns" admission to the session. Ie, who is the
   ultimate arbiter (if any) of who can join a particular
   session? If anybody can invite anybody else,
   does that mean that each participant needs to
   know the identities of each other participant
   so that we know that newly arriving invitees
   aren't, in fact, crashing the party, as it
   were? 
   
   If instead it's up to the session's initiator
   to do admission checking, I'd think you'd end
   up with a star topology where the initiator
   arbitrates how it wants to control admission,
   as well as presumably what it's willing to
   be charged if that's applicable. This seems
   like a simpler model to me, but I wonder
   whether it scales well for, say, multicast,
   etc.
    
 > It's not clear that C would care about A's authenticated identity, as B
 > is in any event responsible for requests it issues, and shouldn't be
 > able to "blame" A for waking C at 3 am.
 > 
 > (2) The REFER comes "out of the blue", e.g., 
 > 
 > A -- INVITE --> B
 >                 B --- REFER (A) --> C
 > 
 > A <------------ INVITE ------------ C
 > 
 > This case is no different than standard request authentication. C would
 > want to be sure that it is indeed B that it is talking to. C also needs
 > to authenticate itself to A.

   Right, and in this case, A seems to control
   admission to the session. But how does A
   differentiate C blindly barging into a call,
   vs being refered by B? Is C's knowledge of
   the Callid sufficient proof? Otherwise, this 
   seems to imply that A would need to know that
   it was somebody on his initial invite list.
   It gets even worse if you have yet another
   level of indirection (ie, A->B->C->D, D->A)
   since A never even admitted C, and the only
   thing it knows for sure is that it invited
   B which is probably not carried across C->D.

	   Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 02:04:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA01937
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 02:04:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA27212
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 02:04:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA25903;
	Wed, 21 Nov 2001 01:38:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA25876
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 01:38:27 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA23587
	for <sip@ietf.org>; Wed, 21 Nov 2001 01:38:27 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAL6aYhp015760;
	Wed, 21 Nov 2001 01:36:34 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4FW8>; Wed, 21 Nov 2001 01:37:57 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F8D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Cc: Ben Campbell <bcampbell@dynamicsoft.com>, simple@mailman.dynamicsoft.com
Date: Wed, 21 Nov 2001 01:37:57 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Tuesday, November 20, 2001 7:32 PM
> To: Jonathan Rosenberg
> Cc: Ben Campbell; simple@mailman.dynamicsoft.com
> Subject: Re: [Simple] New I-D on IM transport
> 
> 
> I think the question is one of how to recover from problems with media
> transport. Having an FQDN gives an opportunity to try some recovery
> strategy that doesn't involve sip signalling. I think it is 
> possible to
> argue both sides convincingly as to whether this is a good thing.
> 
> The alternative is that when something goes wrong with the media
> transport then perhaps you should use more sip signalling to recover -
> by doing a reinvite. 

Indeed. I have in fact written a draft on doing just that:

http://www.jdrosen.net/papers/draft-rosenberg-sip-reconstitute-00.txt


> This gives the opportunity to exchange new
> addresses in order to continue the session. But it also has 
> the problem
> of getting the two endpoints to mutually understand what is 
> going on and
> what recovery action to take.

Its somewhat complicated when intermediaries are in the picture. A proxy in
the middle which has rewritted the SDP to point to an intermediary that has
now failed, needs to recognize that a re-INVITE is an opportunity to update
the SDP to point to a new intermediary. Whether the proxy that has done this
rewrite can realize that the intermediary has failed - well, thats hard.
This would be an argument for a media solution (i.e., using domain names in
SDP and using an alternate when media fails), as it wouldn't require the
proxy to know that the intermediary has failed.

On the other hand, a signaling solution will work better when the failure
requires some kind of state transfer or reconstitution (of the sorts
discussed in the draft above).



> But I think there is a better chance of
> doing this with signalling than without. This may need 
> something like a
> reason code (e.g. Reason: header) explaining why a reinvite is being
> done, and probably some SDP content that indicates what media session
> needs attention.

Its not clear to me that a reason is needed. THe above draft does not
require one. Its effectively the responsibility of elements "next to" the
ones that failed to detect this condition and handle the re-INVITE
appropriately.


> I posted about this some time ago, as an offshoot of the comedia
> discussions, but that faded away without any resolution. Perhaps it is
> time to resurrect it.

Yes, this is an important issue, and not really a simple one at all (and
thus the addition of sip to the cc list).

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 02:41:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA06628
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 02:41:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA28161
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 02:41:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA27532;
	Wed, 21 Nov 2001 02:22:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA27501
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 02:22:00 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA06273
	for <sip@ietf.org>; Wed, 21 Nov 2001 02:21:58 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAL7Jwhp016052;
	Wed, 21 Nov 2001 02:19:59 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4FZR>; Wed, 21 Nov 2001 02:21:22 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F98@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        Gonzalo Camarillo
	 <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] 482 handling by proxies
Date: Wed, 21 Nov 2001 02:21:21 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Wednesday, November 21, 2001 1:35 AM
> To: Jonathan Rosenberg
> Cc: 'Fairlie-Cuninghame, Robert'; Gonzalo Camarillo; Bob Penfield;
> sip@ietf.org
> Subject: Re: [Sip] 482 handling by proxies
> 
> 
> 
> Hi,
> 
> Assume the proxy sends a non-2xx response to the UAC, and then it
> terminates all (if any) pending legs. So, it sends CANCEL. 
> But, if there
> is a race condition the proxy MAY still get a 2xx final response from
> one or more of the legs. What is it supposed to do now? Since it has
> already sent a non-2xx final response to the UAC it COULD of course
> forward the other 2xx final responses to the UAC too - but isn't that
> the situation we want to prevent?

Yes.

> 
> Another option would be that the proxy ACK/BYE, but I think we have
> earlier agreed that a proxy won't do that.
> 
> A third option is that the proxy terminates the pending legs BEFORE it
> sends the final response to the UAC. In that case, IF 2xx final
> responses are received for the legs it tries to CANCEL those can still
> be forwarded to the UAC (since the CANCEL will not affect the 
> call state
> in the UAS that sent the 2xx response before it received the CANCEL).

Perhaps you didn't read my mail; I was clarifying for folks that this is
whats in bis-05.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


> > One of the things that has changed in bis-05 is that a 
> proxy is generally
> > not supposed to send a non-2xx final response upstream 
> unless its gotten
> > final responses to all requests that it proxied. This is to 
> prevent the
> > condition where a proxy forwards a non-2xx upstream, only 
> to receive a 2xx
> > on a pending branch. The poor UA would have to handle this 
> awful case where
> > it gets a non-2xx followed by a 2xx.
> > 
> > So, if a proxy wants to terminate a pending transaction, it 
> should follow
> > Robert's second alternative - CANCEL its pending branches 
> and then send a
> > 408 or 487 upstream once all pending branches have 
> responded. It should not
> > follow his first alternative, where it simply sends the 408 and then
> > CANCELs.
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 03:07:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA06904
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 03:07:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA28936
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 03:07:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA28224;
	Wed, 21 Nov 2001 02:45:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA28193
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 02:45:38 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA06693
	for <sip@ietf.org>; Wed, 21 Nov 2001 02:45:36 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAL7jbf03356;
	Wed, 21 Nov 2001 08:45:37 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.80])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAL7jZh20130;
	Wed, 21 Nov 2001 09:45:35 +0200 (EET)
Message-ID: <3BFB5B9E.2F48881A@lmf.ericsson.se>
Date: Wed, 21 Nov 2001 09:45:34 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: Re: [Sip] 482 handling by proxies
References: <B65B4F8437968F488A01A940B21982BF020D6F98@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>>A third option is that the proxy terminates the pending legs BEFORE it
>>sends the final response to the UAC. In that case, IF 2xx final
>>responses are received for the legs it tries to CANCEL those can still
>>be forwarded to the UAC (since the CANCEL will not affect the
>>call state in the UAS that sent the 2xx response before it received the CANCEL).
> 
>Perhaps you didn't read my mail; I was clarifying for folks that this is
>whats in bis-05.

I DID read your mail. It says that the proxy shall terminate all legs
and then send 408 or 487 upstream once all pending branches has
responded, and that works fine as long as there is no CANCEL/final
response race condition. 

However, it still think it should be mentioned that even if the proxy
sends CANCEL it MAY still receive final responses which are "better"
than 408 or 487, so that the proxy will eventually forward one or more
of those final responses to the UAC - and NOT 408 or 487.

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 03:12:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA01941
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 02:04:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA27225
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 02:04:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA25813;
	Wed, 21 Nov 2001 01:35:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA25783
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 01:35:12 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA23188
	for <sip@ietf.org>; Wed, 21 Nov 2001 01:35:11 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAL6ZAC18858;
	Wed, 21 Nov 2001 07:35:10 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.80])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAL6Z9h13303;
	Wed, 21 Nov 2001 08:35:09 +0200 (EET)
Message-ID: <3BFB4B1D.BEAF1E13@lmf.ericsson.se>
Date: Wed, 21 Nov 2001 08:35:09 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'Fairlie-Cuninghame, Robert'" <rfairlie@nuera.com>,
        Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: Re: [Sip] 482 handling by proxies
References: <B65B4F8437968F488A01A940B21982BF020D6F62@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Assume the proxy sends a non-2xx response to the UAC, and then it
terminates all (if any) pending legs. So, it sends CANCEL. But, if there
is a race condition the proxy MAY still get a 2xx final response from
one or more of the legs. What is it supposed to do now? Since it has
already sent a non-2xx final response to the UAC it COULD of course
forward the other 2xx final responses to the UAC too - but isn't that
the situation we want to prevent?

Another option would be that the proxy ACK/BYE, but I think we have
earlier agreed that a proxy won't do that.

A third option is that the proxy terminates the pending legs BEFORE it
sends the final response to the UAC. In that case, IF 2xx final
responses are received for the legs it tries to CANCEL those can still
be forwarded to the UAC (since the CANCEL will not affect the call state
in the UAS that sent the 2xx response before it received the CANCEL).

Regards,

Christer Holmberg
Ericsson Finland



Jonathan Rosenberg wrote:
> 
> Old thread - please see inline.
> 
> 
> > -----Original Message-----
> > From: Fairlie-Cuninghame, Robert [mailto:rfairlie@nuera.com]
> > Sent: Wednesday, October 31, 2001 5:47 AM
> > To: 'Christer Holmberg'; Gonzalo Camarillo
> > Cc: Bob Penfield; sip@ietf.org
> > Subject: RE: [Sip] 482 handling by proxies
> >
> >
> >
> > > >>Yes. I was just worried about cases where it actually may take a
> > > >>relatively long time before the 200 final response is sent,
> > > due to other
> > > >>call setup actions (PRACK, INFO etc), because I guess the
> > > proxy won't
> > > >>wait "forever" for the final response until it takes some
> > > actions (of
> > > >>course, in a real-life situation the call setup probably
> > > won't be that
> > > >>long) for the pending legs.
> > > >>
> > > >
> > > >The proxy has ACKed already the 482 response. The only thing
> > > it does is
> > > >to store it in a buffer as one of the non-2xx final
> > > responses received
> > > >so far. This way it will be able to choose the "best" one to
> > > send back.
> > > >
> > > >I do not know why you are raising this now, because this has been
> > > >standard SIP behavior since the beginning.
> > >
> > > I just wanted to clarify the specific case where it takes a
> > long time
> > > before the final response is received for a specific leg,
> > because the
> > > use of call pre-setup transactions etc has NOT been standard SIP
> > > behavious since the beginning...
> > >
> >
> > Christer,
> >
> > There are two alternatives:
> >
> > When a proxy forks a request it slaps on a proxy-selected "No-Answer
> > Timeout" on INVITE requests, that is, a proxy will wait
> > around for a certain
> > time for final responses from all branches and otherwise it
> > will just return
> > the best non-2xx response received and CANCEL out other branches.
> > Imposing local timers that affect answer timeouts is a bad thing !!
> >
> > The other alternative is that the proxy "never" times outs
> > and will only
> > send a final response when _all_ branches have responded with
> > a non-2xx
> > response (assuming that a 1xx has been received from each
> > branch) OR one
> > branch has returned a 2xx response OR the caller CANCEL's.
> 
> One of the things that has changed in bis-05 is that a proxy is generally
> not supposed to send a non-2xx final response upstream unless its gotten
> final responses to all requests that it proxied. This is to prevent the
> condition where a proxy forwards a non-2xx upstream, only to receive a 2xx
> on a pending branch. The poor UA would have to handle this awful case where
> it gets a non-2xx followed by a 2xx.
> 
> So, if a proxy wants to terminate a pending transaction, it should follow
> Robert's second alternative - CANCEL its pending branches and then send a
> 408 or 487 upstream once all pending branches have responded. It should not
> follow his first alternative, where it simply sends the 408 and then
> CANCELs.
> 
> -Jonathan R.
> 
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 03:50:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA07404
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 03:50:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA29573
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 03:50:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA29102;
	Wed, 21 Nov 2001 03:27:49 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA29072
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 03:27:46 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA07141
	for <sip@ietf.org>; Wed, 21 Nov 2001 03:27:44 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAL8PJhp016183;
	Wed, 21 Nov 2001 03:25:19 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4F63>; Wed, 21 Nov 2001 03:26:42 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6F9B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>, sip-implementors@cs.columbia.edu
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 21 Nov 2001 03:26:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: [Sip-implementors] Need clarification on callerprefs
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Thursday, September 27, 2001 10:27 AM
> To: sip-implementors@cs.columbia.edu
> Subject: [Sip-implementors] Need clarification on callerprefs
> 
> 
> I have a question on the matching algorithm in callerprefs.
> 
> Suppose I need a rule that requires multiple distinct values for the
> same kind of param - for instance I need a contact that supports both
> English and Spanish.
> 
> If I match:
> 
>    Accept-Contact *;language="en,es"
> 
> against:
> 
>    Contact: sip:joe@example.com;language="en"
>    Contact: sip:bob@example.com;language="de,en"
>    Contact: sip:alice@example.com;language="en,es,fi"
> 
> it will match both joe and alice, which is not what I want.
> 
> I believe that the following should do the right thing:
> 
>    Accept-Contact *;language="en";language="es"
> 
> I find nothing in the draft that forbids this, but neither do I find
> anything that convinces me that this is intended behavior either. 

This is an excellent question.

According to the code, this will indeed work. The BNF also allows it. 

However, the general (although not well stated) understanding was that
multiple parameters of the same name is not allowed. The reason is that it
fouls up nearly all parsers that store parameters in hash tables, which is a
common thing. I believe this is true for SIP in general. However, I welcome
further comment on that (and thus have cc'd the sip list).

So, I would argue that it is not allowed, and that text should be added to
callerprefs which says this. This does mean that this kind of AND operation
you are looking for is not really feasible with caller preferences. Caller
prefs is not a cure-all and is quite restricted in functionality.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 04:30:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA07933
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 04:30:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA00671
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 04:30:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA29693;
	Wed, 21 Nov 2001 03:58:51 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA29662
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 03:58:49 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA07481
	for <sip@ietf.org>; Wed, 21 Nov 2001 03:58:46 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id JAA26867;
	Wed, 21 Nov 2001 09:58:46 +0100 (MET)
Received: from mchh150e.mch.pn.siemens.de ([139.21.130.150])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id JAA29302;
	Wed, 21 Nov 2001 09:58:47 +0100 (MET)
Received: by mchh150e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <X22DTJQH>; Wed, 21 Nov 2001 09:58:52 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E60816AA@mchh161e>
From: Tan Ya-Ching  ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'Bob Penfield'"
	 <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] bis-05: Terminating a session
Date: Wed, 21 Nov 2001 09:58:30 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

| 
| > -----Original Message-----
| > From: Bob Penfield [mailto:bpenfield@acmepacket.com]
| > Sent: Monday, October 29, 2001 3:45 PM
| > To: sip@ietf.org
| > Subject: [Sip] bis-05: Terminating a session
| > 
| > I suggest section 15 begin:
| > 
| > "Either the caller or callee may terminate a session for any reason. A
| > caller terminates a session either with BYE or CANCEL depending on the
state
| > of the dialog. A callee..."
| 
| OK, that sounds good.
| 

"depending on the state of the dialog" is not entirely correct. CANCEL can
be sent by the caller after receiving a provisional response to the INVITE
with no To tag (eg. a 100 Trying). In that case, no dialog has been created,
not even an early one. Perhaps it should be reworded as :

"Either the caller or callee may terminate a session for any reason. A
caller terminates a session with a CANCEL if no dialog has been created yet,
or with a BYE within a dialog (early or established)."


- Ya-Ching Tan

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 07:20:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA10633
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 07:20:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA04842
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 07:20:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA04092;
	Wed, 21 Nov 2001 06:58:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA04061
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 06:58:11 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA09596;
	Wed, 21 Nov 2001 06:58:09 -0500 (EST)
Message-Id: <200111211158.GAA09596@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
CC: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Wed, 21 Nov 2001 06:58:09 -0500
Subject: [Sip] I-D ACTION:draft-mahy-sip-cc-models-01.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.


	Title		: A Call Control Model for SIP
	Author(s)	: R. Mahy
	Filename	: draft-mahy-sip-cc-models-01.txt
	Pages		: 13
	Date		: 20-Nov-01
	
This document defines an abstract call model for describing the
media relationships required for call control features in SIP, and
discusses other issues related to SIP call control as part of the
SIP Call Control Framework.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-mahy-sip-cc-models-01.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-mahy-sip-cc-models-01.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-mahy-sip-cc-models-01.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011120151412.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-mahy-sip-cc-models-01.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-mahy-sip-cc-models-01.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011120151412.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 21 10:29:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA19774
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 10:29:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA09445
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 10:29:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA08987;
	Wed, 21 Nov 2001 10:04:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA08957
	for <sip@optimus.ietf.org>; Wed, 21 Nov 2001 10:04:02 -0500 (EST)
Received: from librosdigitales.net (pc.161.132.192.9.millicomperu.com.pe [161.132.192.9])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA18366
	for <sip@ietf.org>; Wed, 21 Nov 2001 10:03:59 -0500 (EST)
Message-Id: <200111211503.KAA18366@ietf.org>
From: "LibrosDigitales" <soporte@librosdigitales.net>
To: <sip@ietf.org>
Mime-Version: 1.0
Content-Type: text/html; charset="ISO-8859-1"
Date: Wed, 21 Nov 2001 22:07:38 -0500
Content-Transfer-Encoding: 8bit
Content-Transfer-Encoding: 8bit
Subject: [Sip] Libros GRATIS
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 8bit

<html>
<head>
</head>
<body bgcolor="#FFFFFF" text="#000000">
<p align="center"><font face="Arial, Helvetica, sans-serif" size="2"><b>Libros 
  para profesionales de inform&aacute;tica </b></font><font face="Arial, Helvetica, sans-serif"> 
  </font></p>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="3">Por apertura 
  todos los libros son</font><font face="Arial, Helvetica, sans-serif"> <font size="4" color="#FF0000"><b>GRATIS!!!</b></font></font></p>
<p align="center"><font face="Arial, Helvetica, sans-serif">Vis&iacute;tenos: 
  <a href=www.LibrosDigitales.NET>www.LibrosDigitales.NET</a></font></p>
<p align="center"><img src="http://cbust.brinkster.net/librosdigitales.gif"></p>
<p align="center"><font face="Arial, Helvetica, sans-serif" size="2">Consultas: 
  soporte@LibrosDigitales.NET</font></p>
<p align="center">&nbsp;</p>
</body>
</html>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 11:26:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22943
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 11:26:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA11219
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 11:26:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10618;
	Wed, 21 Nov 2001 11:02:28 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10534
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:02:24 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21594
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:02:17 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fALFxvhp018279;
	Wed, 21 Nov 2001 10:59:57 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4GYF>; Wed, 21 Nov 2001 11:01:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6FA2@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>, sip@ietf.org
Subject: RE: [Sip] Proposed change to callerprefs
Date: Wed, 21 Nov 2001 11:01:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


response inline.
 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Friday, October 05, 2001 10:48 AM
> To: sip@ietf.org
> Subject: [Sip] Proposed change to callerprefs
> 
> 
> I posted the question attached to the end of this to 
> sip-implementors a
> week or so age.
> Since then I have considered the question further and have come to the
> conclusion that while the interpretation I reached was probably valid
> and functional, it is a confusing interpretation. I now 
> believe it would
> be better to revise the callerprefs proposal so that the issues may be
> handled in a more consistent, less confusing way. 
> 
> In my earlier posting, I posed the problem of specifying a preference
> for a contact supporting both english and spanish language. 
> According to
> draft-ietf-sip-callerprefs-04 language="en,es" means english 
> OR spanish,
> while language="en",language="es" means english AND spanish.
> 
> The trouble with this is it violates the principle of least
> astonishment. I believe most people will expect language="en,es" and
> language="en",language="es" to mean the same thing.

I also posted a note on sip-implementors that explained that this is also
problematic from a grammar perspective; I think most parsers will assume a
single instance of each parameter, as most use hash tables to index
parameters by name.


> For precedent we
> need look no further than the normal header processing logic in sip,
> which says that:
> 
>    Accept-Contact:*;language="en", *;language="es"
> 
> is equivalent to:
> 
>    Accept-Contact:*;language="en"
>    Accept-Contact:*;language="es"
> 
> So, I propose that: 
> 
>   language="en,es"
> 
> should be equivalent to:
> 
>   language="en",language="es"

Well, it was my proposal that this simply be disallowed. 

> 
> and that this should require a match on both english AND spanish.
> The reason this means AND rather than OR is consistency with the
> combination of cp-params of different types:
> 
>   language="en",media="audio"     means english AND audio, so
>   language="en",language="es"     should mean english AND spanish
> 
> Unfortunately this interpretation is a change from the current draft. 
> 
> In addition to the consistency argument, practicality also 
> supports this
> change. For one thing, there is more need to express an AND condition
> than an OR condition, and so it ought to be more concise.

Can you provide specific use cases? This rule matching can get arbitrarily
complex, and I want to make sure we don't add things because their important
in theory only, especially this late in the game.

 
> Also, there is
> already another way to express the OR condition. If I want english or
> spanish, I can write:
> 
>    Accept-Contact:*;language="en", *;language="es"

Assuming there is a need for AND, another way which is more consistent with
the grammar would be:

;language="en,es"     -> English or Spanish
;language="en&es"     -> Engish and Spanish

Effectively, the list now becomes an OR or ANDs, so that:

;language="en&es,de"

is also OK. 

> 
> There is one more issue to deal with if this change is to be made.
> Consider
> 
>    Accept-Contact:*;media="voice";media="video";q=1.0,
>                   *;media="voice";media="!video";q=.5
> 
> This ought to be equivalent to
> 
>    Accept-Contact:*;media="voice,video";q=1.0,
>                   *;media="voice,!video";q=.5
> 
> but this would be wrong because "!" is only valid at the beginning of
> the parameter value, and applies the value as a whole rather than to a
> particular item in the comma separated list of items in the value.
> 
> For consistency, I propose that this also be changed. Negation through
> use of "!" should apply to an individual element in a comma separated
> list of values.

This is not needed. Remember, the set processing is done to ultimately
affect the prioritization of the contacts. Let us assume that the & rule
above exists. Instead, you could use:

   Accept-Contact: *;media="voice&video",q=1.0,
                   *;media="voice",q=0.5

Now, if the contact list has:

sip:videophone@foo.com;media="voice,video"
sip:cellphone@foo.com;media="voice"

The videophone matches both rules above, but the cellphone only matches the
voice rule. If simple averaging is used over the q values from matching
rules, the videophone ends up with a higher q value than the cell phone,
which is ultimately what you are after anyway.


> 
> For example (yes, I know this is nonsense), suppose I want to accept
> contacts supporting english but neither spanish nor french. 

Well, to be honest, coming up with real scenarios is important in order to
justify the late change, but as I point out above, even if you did, its not
clear to me that it matters.
> 
> If there isn't agreement with this proposal, then I at least 
> hope to get
> agreement that the interpretation I posed in the message below is
> correct. It is essential that there be some way to express the AND
> condition for two values of the same cp-param type.

I'd still like to see real uses, but I can imagine there are some (voice and
video, for example, is a reasonable thing to ask for). So, I will go ahead
and add my & proposal to the draft, since its easy to do within the
framework. We can discuss further, but this way, if there is agreement on
that, then the draft is ready for iesg immediately rather than requiring a
rev.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


> 
> -------- Original Message --------
> Subject: [Sip-implementors] Need clarification on callerprefs
> Date: Thu, 27 Sep 2001 10:26:57 -0400
> From: Paul Kyzivat <pkyzivat@cisco.com>
> To: sip-implementors@cs.columbia.edu
> References: <008501c13792$ce9f8c00$0601a8c0@oleane.com>
> 
> I have a question on the matching algorithm in callerprefs.
> 
> Suppose I need a rule that requires multiple distinct values for the
> same kind of param - for instance I need a contact that supports both
> English and Spanish.
> 
> If I match:
> 
>    Accept-Contact *;language="en,es"
> 
> against:
> 
>    Contact: sip:joe@example.com;language="en"
>    Contact: sip:bob@example.com;language="de,en"
>    Contact: sip:alice@example.com;language="en,es,fi"
> 
> it will match both joe and alice, which is not what I want.
> 
> I believe that the following should do the right thing:
> 
>    Accept-Contact *;language="en";language="es"
> 
> I find nothing in the draft that forbids this, but neither do I find
> anything that convinces me that this is intended behavior either. 
> 
> Can someone confirm that this is valid usage, and that a server which
> failed to support it would be non-conforming?
> 
> 	Paul Kyzivat
> _______________________________________________
> Sip-implementors mailing list
> Sip-implementors@cs.columbia.edu
> http://lists.cs.columbia.edu/mailman/listinfo/sip-implementors
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 11:32:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23258
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 11:32:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA11707
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 11:32:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10782;
	Wed, 21 Nov 2001 11:09:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10736
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:09:19 -0500 (EST)
Received: from imo-d07.mx.aol.com (imo-d07.mx.aol.com [205.188.157.39])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21912
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:09:16 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d07.mx.aol.com (mail_out_v31_r1.9.) id c.14d.45d5b7b (4560);
	Wed, 21 Nov 2001 11:08:29 -0500 (EST)
Message-ID: <14d.45d5b7b.292d2b7d@aol.com>
Date: Wed, 21 Nov 2001 11:08:29 EST
Subject: Re: [Sip] Resource-Priority Header
To: jmpolk@cisco.com, sip@ietf.org
CC: choid@ncr.disa.mil
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
jmpolk@cisco.com writes:

> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
>  >To all,
>  >
>  >I have the following comments on draft-polk-sip-resource-00:
>  >
>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".' 
This 
>  >should reference some of the values defined in Section 3.
>  
>  This is a generic example that most can understand -- that's why it was 
used.
> 
>  James M. Polk
>  Consulting Engineer
>  Office of the CTO
>  
>  Cisco Systems

I'll respond to each item in a separate e-mail so they don't get so lengthy.

Although "urgent" and "normal" are generic words, they are not the ones used 
in this document. Use of these words as examples here would confuse someone - 
If they were unaware of the details of the current Priority Header, they 
would be confused. If they were aware of the current Priority Header, they 
would be lead to believe that the definition of the value in this new Header 
were somehow related to the one in the Priority Header. I listed this as a 
"nit", since it was clearly a cut and paste error.

Mike Pierce
Artel

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 11:37:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23665
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 11:37:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA11796
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 11:37:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10813;
	Wed, 21 Nov 2001 11:09:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10743
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:09:19 -0500 (EST)
Received: from imo-d09.mx.aol.com (imo-d09.mx.aol.com [205.188.157.41])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21910
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:09:16 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d09.mx.aol.com (mail_out_v31_r1.9.) id c.131.4e836fc (4560);
	Wed, 21 Nov 2001 11:08:36 -0500 (EST)
Message-ID: <131.4e836fc.292d2b84@aol.com>
Date: Wed, 21 Nov 2001 11:08:36 EST
Subject: Re: [Sip] Resource-Priority Header
To: jmpolk@cisco.com, sip@ietf.org
CC: choid@ncr.disa.mil
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The following comments address issues brought about by the concept that calls 
may "leak" between network domains and that somehow the way in which 
Resource-priority Header values are defined must take this fact into account.

In a previous e-mail on the subject, Henning had written: "Having different 
name spaces in the same header doesn't seem wise to me. Either the name space 
needs to be labeled (CRP: 16 ;domain="foo.com") or it should be the same. 
Messages always "leak" between domains, which would make things confusing."

I'd like to get a broader discussion on this, since it was brought up in 
regard to this subject as one of the reasons for defining the priority values 
in this way.

Yes we should avoid labeling the name space for Priority as was done in 
Q.735, but if it is true that "messages always leak between domains", then 
such labeling is required for many reasons besides the interpretation of 
Priority in order to prevent misrouted, mishandled calls. This is a 
fundamental QOS requirement in telephony networks and must be addressed for 
SIP as a whole.

Definition of the Resource-Priority header should continue on the presumption 
that "leakage" does not occur, or at least, is not a significant problem.


In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
jmpolk@cisco.com writes:

> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
>  >To all,
>  >
>  >I have the following comments on draft-polk-sip-resource-00:
>  >
>  >
>  >It is essential that a network using a different set of values be able to 
do 
>  >so without relating their meanings and relative precedence level with 
those
>  >of another network, when it is not intended that the two sets be used 
>  >together. 
>  
>  This header is not mandatory. Your  second network doesn't have to adhere 
to it
>  at all.

The situation being addressed ("leakage" between networks) is one in which 
both networks need to use the Resource-priority Header, but use a different 
definition of values, which may in fact include some common values. (Many 
would likely have a "routine".)
>  
>  >The stipulation that unknown values should be treated as "routine" 
>  >might solve the problem of values "leaking" from another domain into the 
one 
>  >using the definitions in Section 3. 
>  
>  See above

I intended to mean by this and following comments that "leakage" could be 
detected and the errant calls prevented from erroneously getting a high 
priority if the two networks used a completely different set of definitions 
and each defined a default for "unknown" values and further that there was an 
assurance that intermediate network elements did not erroneously "know" about 
the values of that other network and act on them.
>  
>  >It would have to be part of the 
>  >definition for each network to specify what "default" is used for unknown 
>  >values. It may not always be the lowest. 
>  
>  That's a implementation issue.
>  
>  >In addition, every network defining 
>  >new values would have to use a completely different set.
>  
>  Not true

See above.
>  
>  >
>  >However, since it would not be under the control of the user of a network 
>  >whether or not intermediate routers, etc. "know" the meaning of other 
values 
>  >defined for other networks, the user might be unaware of the network's 
>  >actions resulting from its knowledge of the values defined for other 
networks 
>  >(in case of "leakage"). For example, given the current definitions in 
Section 
>  >3, if another network defined a set of five values of (lowest to highest) 
of 
>  >"flash", "more-than-flash", "flash-plus1", super-flash", and 
>  >"extremely-high-flash", then one of its lowest precedence calls (flash) 
>  >"leaking" over into the other network would be treated as a relatively 
high 
>  >precedence call in that other network.
>  
>  This would only be true if they also called their SIP Header 
Resource-Priority,
>  which this group should not allow. If they still do, this is a proprietary
>  implementation -- and they will likely reap the benefits of not being 
Standard.

Again, I was referring to the case in which both networks are SIP and use the 
Resource-priority Header.

I don't understand the statement about the group not allowing "they" to call 
"their" SIP Header Resource-Priority. Does this refer to the possibility of 
another group (not the IETF) defining additional headers for the SIP 
protocol? Clearly this can't happen.
>  
>  >
>  >In fact, all SIP applications, not just this one, must be defined on the 
>  >presumption that "leakage" between network segments or domains can not 
> occur. 
>  
>  You are referring to Leakage, this header is optional to the UA, and in 
and of
>  itself, doesn't cause anything to happen in the network itself.
>  
>  Most of what you say would be true if the header Standardized within the 
SIP
>  Protocol were Mandatory, but it is neither yet, so no problems. If it
>  becomes a part of SIP with its current spirit of language (meaning only  
little
>  things are changed), then it is up to each domain to implement and react to
>  what this header means within this domain.

I understand that the Resource-Header is optional to the UA, but I don't see 
a relationship to the point about "leakage".

Not sure what you mean by "in and of itself, [this header] doesn't cause 
anything to happen in the network itself". That is the fundamental purpose of 
the header - to provide the ability to control access to network resources to 
set-up and maintain a call. If it didn't, we wouldn't care where it "leaked", 
except for maybe a security issue.

The issue I was addressing was the notion of "leakage", as mentioned in 
Henning's previous e-mails on the subject. 
>  
>  >
>  >Mike Pierce
>  >Artel
>  >
>  James M. Polk
>  Consulting Engineer
>  Office of the CTO
>  Cisco Systems

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 11:38:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA23718
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 11:38:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA11816
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 11:38:47 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10876;
	Wed, 21 Nov 2001 11:09:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA10741
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:09:19 -0500 (EST)
Received: from imo-d08.mx.aol.com (imo-d08.mx.aol.com [205.188.157.40])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA21913
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:09:16 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-d08.mx.aol.com (mail_out_v31_r1.9.) id c.12a.7adcb7a (4560);
	Wed, 21 Nov 2001 11:08:33 -0500 (EST)
Message-ID: <12a.7adcb7a.292d2b81@aol.com>
Date: Wed, 21 Nov 2001 11:08:33 EST
Subject: Re: [Sip] Resource-Priority Header
To: jmpolk@cisco.com, sip@ietf.org
CC: choid@ncr.disa.mil
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
jmpolk@cisco.com writes:

> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
>  >
>  >I have the following comments on draft-polk-sip-resource-00:
>  >
>  >Definition of values: Although the specific tokens defined in Section 3 
are 
>  >the ones required for the US military application (and may be usable in 
other 
>  >such environments), it would appear to be advisable to define the token 
>  >values in a more generic way within the standard. This would facilitate 
the 
>  >use of the resource-priority header in other networks that may use other 
>  >words to describe the levels. For example, a network could choose to use 
>  >three levels and call them "important", "regular", and "not-so-important".
>  
>  We chose what was originally defined in RFC791 "Internet Protocol", nothing
>  more, nothing less (other than not including the non-UA priority levels 
defined
>  in 791 for inter-network node communications)
>  
Yes, I understand that the values came from RFC791, which came directly from 
US military requirements. Remember, at that time the work on Internet 
specification was very much a US government research project. Along with the 
efforts now to internationalize IP and to make this particular priority 
capability more general in application, it seems advisable to make the 
definitions more generic, while allowing any network environment or 
application to use the values as they want.

As you noted, a hospital would likely want 3 levels. I'm certain they have a 
standard terminology for these 3 levels. Do hospitals need to register these 
with IANA? If the definition of the Resource Priority header were generic 
(maybe the textual equivalent of numeric values), then a hospital application 
could associate their 3 levels with 3 of the values (e.g., a labeled button 
on the phone puts a specific value in the Header). There would be no 
implemention unique to the application nor any need to register with IANA, or 
any SLA or anything of the sort. When installing a phone, someone would 
simply insert a label in a button on the phone, just like is commonly done 
today, and the button would cause a certain "numeric" value to be used. Of 
course, there could be hospital unique software which provides meainingful 
icons or words for the levels.

My point about Q.735 using numeric values in the message was in relation to 
the above. While Q.735 gives an actual meaning that probably relates to the 
label on a button on the phone, the protocol only passes a number (the 
"relative" value). Yes, I know that SIP is text based, but that doesn't mean 
that everything must be totally based on English words that represent the 
currently understood intended use.
>  >
>  >For two different networks, one could not say whether 
>  >"important" in one should be above or below "flash" in the other, nor 
should 
>  >one need to define this. 
>  
>  This would and must be solved with an SLA if this header's effect is to
>  propagate past domain boundaries. As for comparing two network's treatment
>  levels, the Resource Header is stated as not an absolute but a relative
>  ordering

I understand, if two network are intended to work together and wish to use 
different definitions of Resource-priority levels, there must be service 
level agreeements between them for handling traffic across domain boundaries. 
This would include the ability to equate different levels, which is why I 
commented that any IANA registration would require this option of specifying 
equality. "Flash" (in the US) might be equivalent to "Instantanee" (in 
France).

However, I was talking about the case when there are two completely 
independent sets of Priority values, e.g., the 5-level military one and the 
3-level hospital one, and they are not intended to interwork. It must be 
possible to define each independently from the other. The IANA registration 
should not require specifying how a level of one set fits in with the levels 
of the other. As you said, they are "relative", not "absolute", therefore, 
they can only be compared within their own set.

If the need to interwork occurs, that is, take two independent networks and 
have them exchange traffic, then SLAs would define the relationship. It might 
not be a fixed relationship. For example, if hospital traffic were carried 
through a military network, the relation between their levels and the 
military network's levels on Sept 10 and on Sept 12 would likely be 
different. Changing this relationship can not require a IANA re-registration 
or a modification of equipment all around the world.

What we can not tolerate in a military network is a situation in which, 
though mis-definition, mistakes in implementing the SLA, "leakage" between 
domains, cheating, or whatever, some traffic could get a higher priority than 
"Flash-Override". (Except for CRITIC/ECP, the use of which I'm not familiar.) 
In Q.735, this is ensured by "Flash-override" being assigned the value "0" 
which indicate the highest possible. The protocol guarantees that nothing can 
be higher.

>  
>  >Mike Pierce
>  >Artel
>  
>  James M. Polk
>  Consulting Engineer
>  Office of the CTO
>  Cisco Systems

Mike Pierce
Artel

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 12:10:46 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25534
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 12:10:46 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA13458
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 12:10:49 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA11192;
	Wed, 21 Nov 2001 11:24:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA11161
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:24:29 -0500 (EST)
Received: from mailgate.pit.comms.marconi.com (mailgate.pit.comms.marconi.com [169.144.68.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA22884
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:24:26 -0500 (EST)
Received: from mailman.pit.comms.marconi.com (mailman.pit.comms.marconi.com [169.144.2.12])
	by mailgate.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id LAA00669;
	Wed, 21 Nov 2001 11:23:38 -0500 (EST)
Received: from whq-msgrtr-01.pit.comms.marconi.com (whq-msgrtr-01.pit.comms.marconi.com [169.144.2.221])
	by mailman.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id LAA13472;
	Wed, 21 Nov 2001 11:23:39 -0500 (EST)
Received: by whq-msgrtr-01.pit.comms.marconi.com with Internet Mail Service (5.5.2650.21)
	id <XB2DHPX1>; Wed, 21 Nov 2001 11:23:38 -0500
Message-ID: <313680C9A886D511A06000204840E1CF57C56D@whq-msgusr-02.pit.comms.marconi.com>
From: "Rosen, Brian" <Brian.Rosen@marconi.com>
To: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, jmpolk@cisco.com, sip@ietf.org
Cc: choid@ncr.disa.mil
Subject: RE: [Sip] Resource-Priority Header
Date: Wed, 21 Nov 2001 11:23:37 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I'd like to keep the current wording.

One thing that always confuse me is when objections are
raised that imply customers can change the values of
fields in the protocol.  Except in very unusual instances,
they can't.  A UA implementor can.

So, if a vendor wants to create a 3 value system for
hospitals, he can do that, either with an RFC, or just
by registering the values with IANA.  The hospital would
not do that, and could not create a 3 value system
unless they have the source code to the UA, or some vendor
decided to create worlds most flexible (and thus least
interoperable) priority implementation.

If said vendor created said system, and they wanted interwork
with a U.S. Military system, they would have to define how
the interwork was accomplished, and implement it.  

If there were multiple vendors who wanted 3 value systems
for hospitals, with interwork, then they would get together
and write a document, get IANA to reserve the names, and then
anyone who wanted to build an interoperable system could do that.
The difference between the document giving a meaning to a number,
and it defining a new name for IANA to register is small,
and clarity favors meaningful names.

In this case, the most common desire is to interwork with
MLPP systems, the original names are very appropriate, and the
text gives appropriate extension mechanisms for coming up with
alternative systems.

Brian

> -----Original Message-----
> From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
> Sent: Wednesday, November 21, 2001 11:09 AM
> To: jmpolk@cisco.com; sip@ietf.org
> Cc: choid@ncr.disa.mil
> Subject: Re: [Sip] Resource-Priority Header
> 
> 
> The following comments address issues brought about by the 
> concept that calls 
> may "leak" between network domains and that somehow the way in which 
> Resource-priority Header values are defined must take this 
> fact into account.
> 
> In a previous e-mail on the subject, Henning had written: 
> "Having different 
> name spaces in the same header doesn't seem wise to me. 
> Either the name space 
> needs to be labeled (CRP: 16 ;domain="foo.com") or it should 
> be the same. 
> Messages always "leak" between domains, which would make 
> things confusing."
> 
> I'd like to get a broader discussion on this, since it was 
> brought up in 
> regard to this subject as one of the reasons for defining the 
> priority values 
> in this way.
> 
> Yes we should avoid labeling the name space for Priority as 
> was done in 
> Q.735, but if it is true that "messages always leak between 
> domains", then 
> such labeling is required for many reasons besides the 
> interpretation of 
> Priority in order to prevent misrouted, mishandled calls. This is a 
> fundamental QOS requirement in telephony networks and must be 
> addressed for 
> SIP as a whole.
> 
> Definition of the Resource-Priority header should continue on 
> the presumption 
> that "leakage" does not occur, or at least, is not a 
> significant problem.
> 
> 
> In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
> jmpolk@cisco.com writes:
> 
> > At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> >  >To all,
> >  >
> >  >I have the following comments on draft-polk-sip-resource-00:
> >  >
> >  >
> >  >It is essential that a network using a different set of 
> values be able to 
> do 
> >  >so without relating their meanings and relative 
> precedence level with 
> those
> >  >of another network, when it is not intended that the two 
> sets be used 
> >  >together. 
> >  
> >  This header is not mandatory. Your  second network doesn't 
> have to adhere 
> to it
> >  at all.
> 
> The situation being addressed ("leakage" between networks) is 
> one in which 
> both networks need to use the Resource-priority Header, but 
> use a different 
> definition of values, which may in fact include some common 
> values. (Many 
> would likely have a "routine".)
> >  
> >  >The stipulation that unknown values should be treated as 
> "routine" 
> >  >might solve the problem of values "leaking" from another 
> domain into the 
> one 
> >  >using the definitions in Section 3. 
> >  
> >  See above
> 
> I intended to mean by this and following comments that 
> "leakage" could be 
> detected and the errant calls prevented from erroneously 
> getting a high 
> priority if the two networks used a completely different set 
> of definitions 
> and each defined a default for "unknown" values and further 
> that there was an 
> assurance that intermediate network elements did not 
> erroneously "know" about 
> the values of that other network and act on them.
> >  
> >  >It would have to be part of the 
> >  >definition for each network to specify what "default" is 
> used for unknown 
> >  >values. It may not always be the lowest. 
> >  
> >  That's a implementation issue.
> >  
> >  >In addition, every network defining 
> >  >new values would have to use a completely different set.
> >  
> >  Not true
> 
> See above.
> >  
> >  >
> >  >However, since it would not be under the control of the 
> user of a network 
> >  >whether or not intermediate routers, etc. "know" the 
> meaning of other 
> values 
> >  >defined for other networks, the user might be unaware of 
> the network's 
> >  >actions resulting from its knowledge of the values 
> defined for other 
> networks 
> >  >(in case of "leakage"). For example, given the current 
> definitions in 
> Section 
> >  >3, if another network defined a set of five values of 
> (lowest to highest) 
> of 
> >  >"flash", "more-than-flash", "flash-plus1", super-flash", and 
> >  >"extremely-high-flash", then one of its lowest precedence 
> calls (flash) 
> >  >"leaking" over into the other network would be treated as 
> a relatively 
> high 
> >  >precedence call in that other network.
> >  
> >  This would only be true if they also called their SIP Header 
> Resource-Priority,
> >  which this group should not allow. If they still do, this 
> is a proprietary
> >  implementation -- and they will likely reap the benefits 
> of not being 
> Standard.
> 
> Again, I was referring to the case in which both networks are 
> SIP and use the 
> Resource-priority Header.
> 
> I don't understand the statement about the group not allowing 
> "they" to call 
> "their" SIP Header Resource-Priority. Does this refer to the 
> possibility of 
> another group (not the IETF) defining additional headers for the SIP 
> protocol? Clearly this can't happen.
> >  
> >  >
> >  >In fact, all SIP applications, not just this one, must be 
> defined on the 
> >  >presumption that "leakage" between network segments or 
> domains can not 
> > occur. 
> >  
> >  You are referring to Leakage, this header is optional to 
> the UA, and in 
> and of
> >  itself, doesn't cause anything to happen in the network itself.
> >  
> >  Most of what you say would be true if the header 
> Standardized within the 
> SIP
> >  Protocol were Mandatory, but it is neither yet, so no 
> problems. If it
> >  becomes a part of SIP with its current spirit of language 
> (meaning only  
> little
> >  things are changed), then it is up to each domain to 
> implement and react to
> >  what this header means within this domain.
> 
> I understand that the Resource-Header is optional to the UA, 
> but I don't see 
> a relationship to the point about "leakage".
> 
> Not sure what you mean by "in and of itself, [this header] 
> doesn't cause 
> anything to happen in the network itself". That is the 
> fundamental purpose of 
> the header - to provide the ability to control access to 
> network resources to 
> set-up and maintain a call. If it didn't, we wouldn't care 
> where it "leaked", 
> except for maybe a security issue.
> 
> The issue I was addressing was the notion of "leakage", as 
> mentioned in 
> Henning's previous e-mails on the subject. 
> >  
> >  >
> >  >Mike Pierce
> >  >Artel
> >  >
> >  James M. Polk
> >  Consulting Engineer
> >  Office of the CTO
> >  Cisco Systems
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 12:12:02 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25598
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 12:12:02 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA13558
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 12:12:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA12056;
	Wed, 21 Nov 2001 11:53:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA12024
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:53:26 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA24678
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:53:22 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fALGrFV02350;
	Wed, 21 Nov 2001 11:53:15 -0500 (EST)
Message-ID: <3BFBDBFB.E8313831@cs.columbia.edu>
Date: Wed, 21 Nov 2001 11:53:15 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Mpierce1@aol.com
CC: jmpolk@cisco.com, sip@ietf.org, choid@ncr.disa.mil
Subject: Re: [Sip] Resource-Priority Header
References: <14d.45d5b7b.292d2b7d@aol.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mpierce1@aol.com wrote:
> 
> In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> jmpolk@cisco.com writes:
> 
> > At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> >  >To all,
> >  >
> >  >I have the following comments on draft-polk-sip-resource-00:
> >  >
> >  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".'
> This
> >  >should reference some of the values defined in Section 3.
> >
> >  This is a generic example that most can understand -- that's why it was
> used.
> >
> >  James M. Polk
> >  Consulting Engineer
> >  Office of the CTO
> >
> >  Cisco Systems
> 
> I'll respond to each item in a separate e-mail so they don't get so lengthy.
> 
> Although "urgent" and "normal" are generic words, they are not the ones used
> in this document. Use of these words as examples here would confuse someone -
> If they were unaware of the details of the current Priority Header, they
> would be confused. If they were aware of the current Priority Header, they
> would be lead to believe that the definition of the value in this new Header
> were somehow related to the one in the Priority Header. I listed this as a
> "nit", since it was clearly a cut and paste error.
> 

Yes, that's a bug. I changed the wording to actually refer to labels
used in the draft. Thanks for catching this.

-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 12:14:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25764
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 12:14:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA13583
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 12:14:51 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA11925;
	Wed, 21 Nov 2001 11:48:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA11896
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 11:48:03 -0500 (EST)
Received: from wells.cisco.com (wells.cisco.com [171.71.177.223])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA24388
	for <sip@ietf.org>; Wed, 21 Nov 2001 11:48:00 -0500 (EST)
Received: from JMPOLK-W2K (ssh-sj1.cisco.com [171.68.225.134]) by wells.cisco.com (8.8.6 (PHNE_14041)/CISCO.SERVER.1.2) with SMTP id IAA13208 for <sip@ietf.org>; Wed, 21 Nov 2001 08:47:27 -0800 (PST)
Message-Id: <4.1.20011121104456.0137e6d8@localhost>
X-Sender: jmpolk@localhost
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.1 
Date: Wed, 21 Nov 2001 10:47:17 -0600
To: sip@ietf.org
From: "James M. Polk" <jmpolk@cisco.com>
Subject: Re: [Sip] Resource-Priority Header - comparison
In-Reply-To: <14d.45d5b7b.292d2b7d@aol.com>
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="=====================_2361595==_.ALT"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--=====================_2361595==_.ALT
Content-Type: text/plain; charset="us-ascii"


At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
>In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
>jmpolk@cisco.com writes:
>
>> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
>>  >To all,
>>  >
>>  >I have the following comments on draft-polk-sip-resource-00:
>>  >
>>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".' 
>This 
>>  >should reference some of the values defined in Section 3.
>>  
>>  This is a generic example that most can understand -- that's why it was 
>used.
>> 
>>  James M. Polk
>>  Consulting Engineer
>>  Office of the CTO
>>  
>>  Cisco Systems
>
>I'll respond to each item in a separate e-mail so they don't get so lengthy.
>
>Although "urgent" and "normal" are generic words, they are not the ones used 
>in this document. Use of these words as examples here would confuse someone - 
>If they were unaware of the details of the current Priority Header, they 
>would be confused. If they were aware of the current Priority Header, they 
>would be lead to believe that the definition of the value in this new Header 
>were somehow related to the one in the Priority Header. I listed this as a 
>"nit", since it was clearly a cut and paste error.

This phrase is intended as a comparison -- do you think that most or even some
people would believe that there isn't a difference between "urgent" and
"normal". In relative terms, probably not. And this was the intent.

>
>Mike Pierce
>Artel

*************************************
"People generally demand more respect for their own rights than they are
willing to allow for others"

James M. Polk
Consulting Engineer
Office of the CTO

Cisco Systems
2200 East President George Bush Turnpike 
Richardson, TX  75082 USA
w) 972.813.5208
f)  972.813.5280
www.cisco.com
--=====================_2361595==_.ALT
Content-Type: text/html; charset="us-ascii"

<html><div>At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:</div>
<div>&gt;In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
</div>
<div>&gt;jmpolk@cisco.com writes:</div>
<div>&gt;</div>
<div>&gt;&gt; At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com
wrote:</div>
<div>&gt;&gt;&nbsp; &gt;To all,</div>
<div>&gt;&gt;&nbsp; &gt;</div>
<div>&gt;&gt;&nbsp; &gt;I have the following comments on
draft-polk-sip-resource-00:</div>
<div>&gt;&gt;&nbsp; &gt;</div>
<div>&gt;&gt;&nbsp; &gt;Nits: Section 4 gives example of 'e.g.,
&quot;between urgent and normal&quot;.' </div>
<div>&gt;This </div>
<div>&gt;&gt;&nbsp; &gt;should reference some of the values defined in
Section 3.</div>
<div>&gt;&gt;&nbsp; </div>
<div>&gt;&gt;&nbsp; This is a generic example that most can understand --
that's why it was </div>
<div>&gt;used.</div>
<div>&gt;&gt; </div>
<div>&gt;&gt;&nbsp; James M. Polk</div>
<div>&gt;&gt;&nbsp; Consulting Engineer</div>
<div>&gt;&gt;&nbsp; Office of the CTO</div>
<div>&gt;&gt;&nbsp; </div>
<div>&gt;&gt;&nbsp; Cisco Systems</div>
<div>&gt;</div>
<div>&gt;I'll respond to each item in a separate e-mail so they don't get
so lengthy.</div>
<div>&gt;</div>
<div>&gt;Although &quot;urgent&quot; and &quot;normal&quot; are generic
words, they are not the ones used </div>
<div>&gt;in this document. Use of these words as examples here would
confuse someone - </div>
<div>&gt;If they were unaware of the details of the current Priority
Header, they </div>
<div>&gt;would be confused. If they were aware of the current Priority
Header, they </div>
<div>&gt;would be lead to believe that the definition of the value in
this new Header </div>
<div>&gt;were somehow related to the one in the Priority Header. I listed
this as a </div>
<div>&gt;&quot;nit&quot;, since it was clearly a cut and paste
error.</div>
<br>
<div>This phrase is intended as a comparison -- do you think that most or
even some people would believe that there isn't a difference between
&quot;urgent&quot; and &quot;normal&quot;. In relative terms, probably
not. And this was the intent.</div>
<br>
<div>&gt;</div>
<div>&gt;Mike Pierce</div>
<div>&gt;Artel</div>
<br>

<div align="center">
*************************************<br>
&quot;People generally demand more respect for their own rights than they
are willing to allow for others&quot;<br>
<br>
</div>
James M. Polk<br>
Consulting Engineer<br>
Office of the CTO<br>
<br>
Cisco Systems<br>
2200 East President George Bush Turnpike <br>
Richardson, TX&nbsp; 75082 USA<br>
w) 972.813.5208<br>
f)&nbsp; 972.813.5280<br>
<a href="http://www.cisco.com/" eudora="autourl">www.cisco.com</a></html>

--=====================_2361595==_.ALT--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 12:42:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26922
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 12:42:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA14336
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 12:42:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13706;
	Wed, 21 Nov 2001 12:19:52 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13675
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 12:19:49 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25991
	for <sip@ietf.org>; Wed, 21 Nov 2001 12:19:46 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 166b2L-0005Ua-00
	for sip@ietf.org; Wed, 21 Nov 2001 17:19:49 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 166b2F-00027t-00
	for sip@ietf.org; Wed, 21 Nov 2001 17:19:44 +0000
Date: Wed, 21 Nov 2001 17:19:43 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: sip@ietf.org
In-Reply-To: <4.1.20011121104456.0137e6d8@localhost>
Message-ID: <Pine.GSO.4.21.0111211712280.5180-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *166b2L-0005Ua-00*enq/K3SEdcY* http://duncanthrax.net/exiscan/
Subject: [Sip] if receive two invite at the same time.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, everybody,
  i am not sure what will happen if a UAS receives more than one invite
from different poeple in the  same conference at the same time or almost
the same time that it hasn't sent out  a final response for any one of
them. will the UAS accept the first one and tell the rest it has join the
conference automatically or the user has to choose one of them manually or
establish calls with all of them. clearly the last choice is not necessary
and waste of bandwidth. does't any document mention this case? thanks.
lei

On Wed, 21 Nov 2001, James M. Polk wrote:

> 
> At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time, 
> >jmpolk@cisco.com writes:
> >
> >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> >>  >To all,
> >>  >
> >>  >I have the following comments on draft-polk-sip-resource-00:
> >>  >
> >>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".' 
> >This 
> >>  >should reference some of the values defined in Section 3.
> >>  
> >>  This is a generic example that most can understand -- that's why it was 
> >used.
> >> 
> >>  James M. Polk
> >>  Consulting Engineer
> >>  Office of the CTO
> >>  
> >>  Cisco Systems
> >
> >I'll respond to each item in a separate e-mail so they don't get so lengthy.
> >
> >Although "urgent" and "normal" are generic words, they are not the ones used 
> >in this document. Use of these words as examples here would confuse someone - 
> >If they were unaware of the details of the current Priority Header, they 
> >would be confused. If they were aware of the current Priority Header, they 
> >would be lead to believe that the definition of the value in this new Header 
> >were somehow related to the one in the Priority Header. I listed this as a 
> >"nit", since it was clearly a cut and paste error.
> 
> This phrase is intended as a comparison -- do you think that most or even some
> people would believe that there isn't a difference between "urgent" and
> "normal". In relative terms, probably not. And this was the intent.
> 
> >
> >Mike Pierce
> >Artel
> 
> *************************************
> "People generally demand more respect for their own rights than they are
> willing to allow for others"
> 
> James M. Polk
> Consulting Engineer
> Office of the CTO
> 
> Cisco Systems
> 2200 East President George Bush Turnpike 
> Richardson, TX  75082 USA
> w) 972.813.5208
> f)  972.813.5280
> www.cisco.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 12:48:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA27211
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 12:48:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA14430
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 12:48:38 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13851;
	Wed, 21 Nov 2001 12:26:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA13822
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 12:26:07 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26313
	for <sip@ietf.org>; Wed, 21 Nov 2001 12:26:04 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fALHQ6V04195
	for <sip@ietf.org>; Wed, 21 Nov 2001 12:26:06 -0500 (EST)
Message-ID: <3BFBE3AE.B6CD43AD@cs.columbia.edu>
Date: Wed, 21 Nov 2001 12:26:06 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] New version of SIP DHCP draft
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Until it appears in the archives:
http://www.cs.columbia.edu/~hgs/sip/drafts/draft-ietf-sip-dhcp-05.txt

This draft reflects discussions with the ADs and the DHC WG. There are
probably still a few minor items to be worked out, such as the meaning
(or lack thereof) of a list of names and IPv4 addresses, but the basic
structure should now be in place.

Comments are solicited. This is believed to be ready to go to the IESG,
but since this is substantially different from earlier versions (that
already underwent such last call) another brief WG last call may be
appropriate. My hope is that we can finally close this long saga.

Henning
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 13:06:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27890
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 13:06:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA15045
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 13:06:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA14396;
	Wed, 21 Nov 2001 12:46:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA14362
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 12:46:32 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA27114
	for <sip@ietf.org>; Wed, 21 Nov 2001 12:46:30 -0500 (EST)
Received: from ms.uab.ericsson.se. (ms.uab.ericsson.se [134.138.201.16])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fALHkVf29797
	for <sip@ietf.org>; Wed, 21 Nov 2001 18:46:31 +0100 (MET)
Received: from uabs31c015 (uabs31c015 [134.138.218.15])
	by ms.uab.ericsson.se. (8.11.1/8.11.1/uab-3.6) with ESMTP id fALHkV328302;
	Wed, 21 Nov 2001 18:46:31 +0100 (MET)
Received: from uab.ericsson.se by uabs31c015 (8.9.3+Sun/client-1.3uab2)
	id SAA08496; Wed, 21 Nov 2001 18:46:26 +0100 (MET)
Message-Id: <200111211746.SAA08496@uabs31c015>
Date: Wed, 21 Nov 2001 06:58:09 -0500
From: Internet-Drafts@ietf.org
Reply-To: =?iso-8859-1?Q?Mats_Bergstr=F6m?= <mats.bergstrom@ericsson.com>
To: Mats Bergstrom <uabtrom@uab.ericsson.se>
cc: sip@ietf.org
MIME-Version: 1.0
Content-Type: MULTIPART/mixed; BOUNDARY="-2133890903-342241519-1006364790=:15031"
Content-Transfer-Encoding: BINARY
Subject: [Sip] I-D ACTION:draft-mahy-sip-cc-models-01.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

---2133890903-342241519-1006364790=:15031
Content-Type: TEXT/plain; charset=us-ascii

A New Internet-Draft is available from the on-line Internet-Drafts directories.


	Title		: A Call Control Model for SIP
	Author(s)	: R. Mahy
	Filename	: draft-mahy-sip-cc-models-01.txt
	Pages		: 13
	Date		: 20-Nov-01
	
This document defines an abstract call model for describing the
media relationships required for call control features in SIP, and
discusses other issues related to SIP call control as part of the
SIP Call Control Framework.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-mahy-sip-cc-models-01.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-mahy-sip-cc-models-01.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-mahy-sip-cc-models-01.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.


---2133890903-342241519-1006364790=:15031
Content-Type: APPLICATION/octet-stream; BOUNDARY=OtherAccess
Content-Transfer-Encoding: BASE64

LS1PdGhlckFjY2Vzcw0KQ29udGVudC1UeXBlOiBNZXNzYWdlL0V4dGVybmFs
LWJvZHk7DQoJYWNjZXNzLXR5cGU9Im1haWwtc2VydmVyIjsNCglzZXJ2ZXI9
Im1haWxzZXJ2QGlldGYub3JnIg0KDQpDb250ZW50LVR5cGU6IHRleHQvcGxh
aW4NCkNvbnRlbnQtSUQ6CTwyMDAxMTEyMDE1MTQxMi5JLURAaWV0Zi5vcmc+
DQoNCkVOQ09ESU5HIG1pbWUNCkZJTEUgL2ludGVybmV0LWRyYWZ0cy9kcmFm
dC1tYWh5LXNpcC1jYy1tb2RlbHMtMDEudHh0DQoNCi0tT3RoZXJBY2Nlc3MN
CkNvbnRlbnQtVHlwZTogTWVzc2FnZS9FeHRlcm5hbC1ib2R5Ow0KCW5hbWU9
ImRyYWZ0LW1haHktc2lwLWNjLW1vZGVscy0wMS50eHQiOw0KCXNpdGU9ImZ0
cC5pZXRmLm9yZyI7DQoJYWNjZXNzLXR5cGU9ImFub24tZnRwIjsNCglkaXJl
Y3Rvcnk9ImludGVybmV0LWRyYWZ0cyINCg0KQ29udGVudC1UeXBlOiB0ZXh0
L3BsYWluDQpDb250ZW50LUlEOgk8MjAwMTExMjAxNTE0MTIuSS1EQGlldGYu
b3JnPg0KDQotLU90aGVyQWNjZXNzLS0NCg==

---2133890903-342241519-1006364790=:15031--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 13:46:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA29307
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 13:46:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA16177
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 13:46:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA15431;
	Wed, 21 Nov 2001 13:25:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA15398
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 13:25:10 -0500 (EST)
Received: from mailgate.pit.comms.marconi.com (mailgate.pit.comms.marconi.com [169.144.68.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA28497
	for <Sip@ietf.org>; Wed, 21 Nov 2001 13:25:06 -0500 (EST)
Received: from mailman.pit.comms.marconi.com (mailman.pit.comms.marconi.com [169.144.2.12])
	by mailgate.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id NAA11414
	for <Sip@ietf.org>; Wed, 21 Nov 2001 13:24:36 -0500 (EST)
Received: from whq-msgrtr-01.pit.comms.marconi.com (whq-msgrtr-01.pit.comms.marconi.com [169.144.2.221])
	by mailman.pit.comms.marconi.com (8.9.3/8.9.3) with ESMTP id NAA09386
	for <Sip@ietf.org>; Wed, 21 Nov 2001 13:24:37 -0500 (EST)
Received: by whq-msgrtr-01.pit.comms.marconi.com with Internet Mail Service (5.5.2650.21)
	id <XB2DHWAV>; Wed, 21 Nov 2001 13:24:36 -0500
Message-ID: <313680C9A886D511A06000204840E1CF57C576@whq-msgusr-02.pit.comms.marconi.com>
From: "Rosen, Brian" <Brian.Rosen@marconi.com>
To: "'Sip@ietf.org'" <Sip@ietf.org>
Date: Wed, 21 Nov 2001 13:24:35 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Note to all new I-D authors - BNF conventions HAVE CHANGED
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

If you are writing a new, or updated draft which proposes
a new header or new method, please notice that in bis-05
a new convention is being used in the BNF.  Unless you think
your draft will issue as an RFC before bis, please edit
your bnf to match that in bis.  If you need help, ask me.

Brian

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 14:25:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA01136
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 14:25:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA17522
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 14:25:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA17085;
	Wed, 21 Nov 2001 14:03:35 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA17054
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 14:03:33 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA29938
	for <sip@ietf.org>; Wed, 21 Nov 2001 14:03:31 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fALJ1bhp019802
	for <sip@ietf.org>; Wed, 21 Nov 2001 14:01:37 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4HPF>; Wed, 21 Nov 2001 14:03:02 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6FA5@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 21 Nov 2001 14:03:01 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] results of WGLC for draft-ietf-sip-callerprefs-04.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Folks,

I've just submitted draft-ietf-sip-callerprefs-05.txt, which updates -04
based on comments received during WGLC from reviews and on the list. My
apologies to the group once more for my poor turnaround time on this draft.

You can pick up the new draft at:
http://www.jdrosen.net/papers/draft-ietf-sip-callerprefs-05.txt

until it appears in the archives.

Here are the changes that were made based on concerns raised:

Results of WGLC for draft-ietf-sip-callerprefs-04.txt:

Changes based on concerns raised from nits review:

* changed code to use camel case for function names, to improve readability.

* added copyright section

Changes based on concerns raised from wglc reviewers:

* updated description of cancel-feature to clarify that the default is
to cancel, so that only the no-cancel value is useful. Also specified
a formal proxy behavior.

* clarified that CPL is not the only type of callee specified
scripting language.

* added wording in the introduction, clarifying some of the
motivations for having caller preferences.

* clarified that caller preferences is generally useful on unrouted
requests. 

* provided motivation for the only=true parameter.

* headers have to be present in ACK/CANCEL if they were in the
original request, mirroring Route behavior.

Changes made based on author observed errors:

* fixed errors in examples that used the media param; they had omitted
the /*

Changes based on list discussion:

* added an optional feature for the proxy to compute an implicit
Accept-Contact when routing calls to devices that have registered
support for explicit media types. This implicit Accept-Contact is
built from the session description in the INVITE, if present.

* clarified that you can only have one parameter instance per contact
or per header.

* added support for an AND of OR construct in rules, instead of just
OR. This has resulted in a change in grammar, and in the code. The
code was recompiled and re-tested to verify correctness. This change
is moderately compatible with any existing implementations; clearly
the AND function won't work, but there is no change in syntax so that
existing proxies won't break, they just won't match a URL they would
otherwise match if they supported this change.

* made the only=true syntax consistent with other parameters in
allowing LWS between only, =, and true.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 14:47:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02121
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 14:47:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA18128
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 14:47:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA18026;
	Wed, 21 Nov 2001 14:32:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA17995
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 14:32:44 -0500 (EST)
Received: from imo-m03.mx.aol.com (imo-m03.mx.aol.com [64.12.136.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA01569
	for <sip@ietf.org>; Wed, 21 Nov 2001 14:32:42 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m03.mx.aol.com (mail_out_v31_r1.9.) id e.2f.1e14aa0a (4198);
	Wed, 21 Nov 2001 14:31:44 -0500 (EST)
Message-ID: <2f.1e14aa0a.292d5b20@aol.com>
Date: Wed, 21 Nov 2001 14:31:44 EST
Subject: Re: [Sip] Resource-Priority Header
To: Brian.Rosen@marconi.com, jmpolk@cisco.com, sip@ietf.org
CC: choid@ncr.disa.mil
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/21/01 11:25:05 AM Eastern Standard Time, 
Brian.Rosen@marconi.com writes:

(My comments in-line:)

> I'd like to keep the current wording.
>  
>  One thing that always confuse me is when objections are
>  raised that imply customers can change the values of
>  fields in the protocol.  Except in very unusual instances,
>  they can't.  A UA implementor can.

I did not mean to imply that a user can or should change the values. However, 
in a previous e-mail, Henning objected to using just plain numbers rather 
than the textual strings for the reason that "Just like message encoding, I 
find textual labels less error-prone, so the basic 791 set should, in my 
opinion, have names, not numbers." as if he expected the customer to be 
typing in the priority value and making mistakes like we do when we enter web 
addresses. Of course, it should only be an issue for the UA implementor. 
However, I could easily expect a UA implementor to provide a user selectable 
option to tell the UA what priority levels it should use, especially if we 
create a situation in which multiple sets of values are defined. That might 
allowt in customer to change the values (and probably make mistakes). Is the 
IETF going to say that a UA implementor is not allowed to provide this 
capability?

I would expect the UA implementor for a hospital telephone system to want to 
use and define the priority values for use in a hospital environment - and no 
- I don't expect that they would use a subset of the US military terms. But 
they might likely want to use "Routine" as one of their values.
>  
>  So, if a vendor wants to create a 3 value system for
>  hospitals, he can do that, either with an RFC, or just
>  by registering the values with IANA.  The hospital would
>  not do that, and could not create a 3 value system
>  unless they have the source code to the UA, or some vendor
>  decided to create worlds most flexible (and thus least
>  interoperable) priority implementation.

My concern is with the notion that a vendor can assign new values "just by 
registering the values with IANA". According to the wording in the draft, 
that means they can define all the values they want and specify that they are 
all above "Flash Override". This has serious implications. On the other hand, 
for some cases, it would be necessary to specify that a new value (a specific 
text string) should be equivalent to an existing value (specific text 
string). The current wording doesn't seem to allow this possibility.
>  
>  If said vendor created said system, and they wanted interwork
>  with a U.S. Military system, they would have to define how
>  the interwork was accomplished, and implement it.  

I believe that part of an interworking agreement would be defining the 
relationships between the priority levels used in the two specific networks 
that used two different sets of values. The text in the draft indicates that 
the relationship is registered with IANA, thereby casting it in concrete and 
not under the control of the networks wanting to interwork.
>  
>  If there were multiple vendors who wanted 3 value systems
>  for hospitals, with interwork, then they would get together
>  and write a document, get IANA to reserve the names, and then
>  anyone who wanted to build an interoperable system could do that.
>  The difference between the document giving a meaning to a number,
>  and it defining a new name for IANA to register is small,
>  and clarity favors meaningful names.

There is a major difference between these approaches. As has been done in a 
number of other standards and drafts, including several in the IETF, the 
protocol can define a priority value as a number, say 0-15 (or the textual 
equivalent). Networks or groups of vendor that use the protocol can associate 
a subset of these numbers to the names that they use. No RFC or IANA 
registration is needed. There is no lack of clarity: the customer using the 
service (person) never sees any of this - they just push a button or select 
an icon. The implementor certainly understands either method. All network 
equipment simply compares the numbers, or a limited, non-extendable set of 
text names - no confusion and no obsolescence . And I would say "flexibility 
favors generic names".
>  
>  In this case, the most common desire is to interwork with
>  MLPP systems, the original names are very appropriate, and the
>  text gives appropriate extension mechanisms for coming up with
>  alternative systems.
>  
>  Brian
>  
Mike Pierce
Artel

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 14:53:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02627
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 14:53:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA18209
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 14:53:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA17621;
	Wed, 21 Nov 2001 14:29:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA17590
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 14:29:53 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA01402
	for <sip@ietf.org>; Wed, 21 Nov 2001 14:29:51 -0500 (EST)
Received: from cannon.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fALJTNT12937;
	Wed, 21 Nov 2001 14:29:23 -0500 (EST)
Received: from cisco.com (rtp-vpn1-429.cisco.com [10.82.225.173])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAD98425 (AUTH pkyzivat);
	Wed, 21 Nov 2001 14:30:43 -0500 (EST)
Message-ID: <3BFBFFD8.C7B240D4@cisco.com>
Date: Wed, 21 Nov 2001 14:26:16 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Proposed change to callerprefs
References: <B65B4F8437968F488A01A940B21982BF020D6FA2@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan,

I am off on personal business this week, and so am only quickly scanning
mail. But I did want to respond to this. I have more to say, but I think
that can wait until later.

Comments below.

	Paul

Jonathan Rosenberg wrote:
> 
> > In my earlier posting, I posed the problem of specifying a preference
> > for a contact supporting both english and spanish language.
> > According to
> > draft-ietf-sip-callerprefs-04 language="en,es" means english
> > OR spanish,
> > while language="en",language="es" means english AND spanish.
> >
> > The trouble with this is it violates the principle of least
> > astonishment. I believe most people will expect language="en,es" and
> > language="en",language="es" to mean the same thing.
> 
> I also posted a note on sip-implementors that explained that this is also
> problematic from a grammar perspective; I think most parsers will assume a
> single instance of each parameter, as most use hash tables to index
> parameters by name.

I agree that repeating the parameter is a poor way to represent AND, and
that a better way is preferred.

> 
> > For precedent we
> > need look no further than the normal header processing logic in sip,
> > which says that:
> >
> >    Accept-Contact:*;language="en", *;language="es"
> >
> > is equivalent to:
> >
> >    Accept-Contact:*;language="en"
> >    Accept-Contact:*;language="es"
> >
> > So, I propose that:
> >
> >   language="en,es"
> >
> > should be equivalent to:
> >
> >   language="en",language="es"
> 
> Well, it was my proposal that this simply be disallowed.

OK, as long as we get both AND and OR.

One concern I have about this is that then there is a difference in
meaning of "," between the Contact header and the
Accept-Contact/Reject-Contact headers. In Contact, the "," means AND:

  Contact: foo@bar;language="en,es"

means foo@bar can do english AND spanish, while

  Accept-Contact: *;language="en,es"

means to accept anyone speaking english OR spanish.

It would be more reasonable to make "," mean AND, and use "|" to mean
OR. Another possibility is the one I suggested earlier to have "," mean
AND and then use multiple headers to express OR, since they already do
that.

> 
> >
> > and that this should require a match on both english AND spanish.
> > The reason this means AND rather than OR is consistency with the
> > combination of cp-params of different types:
> >
> >   language="en",media="audio"     means english AND audio, so
> >   language="en",language="es"     should mean english AND spanish
> >
> > Unfortunately this interpretation is a change from the current draft.
> >
> > In addition to the consistency argument, practicality also
> > supports this
> > change. For one thing, there is more need to express an AND condition
> > than an OR condition, and so it ought to be more concise.
> 
> Can you provide specific use cases? This rule matching can get arbitrarily
> complex, and I want to make sure we don't add things because their important
> in theory only, especially this late in the game.

The obvious use cases are:
- OR for languages (english OR spanish)
- AND for media (audio AND video)

> 
> 
> > Also, there is
> > already another way to express the OR condition. If I want english or
> > spanish, I can write:
> >
> >    Accept-Contact:*;language="en", *;language="es"
> 
> Assuming there is a need for AND, another way which is more consistent with
> the grammar would be:
> 
> ;language="en,es"     -> English or Spanish
> ;language="en&es"     -> Engish and Spanish
> 
> Effectively, the list now becomes an OR or ANDs, so that:
> 
> ;language="en&es,de"
> 
> is also OK.

Then the ugly head of precedence enters the picture. 
Does this mean "en & (es | de)" or "(en & es) | de"?

I imagine we can find something workable though perhaps not intuitive
definition.

> 
> >
> > There is one more issue to deal with if this change is to be made.
> > Consider
> >
> >    Accept-Contact:*;media="voice";media="video";q=1.0,
> >                   *;media="voice";media="!video";q=.5
> >
> > This ought to be equivalent to
> >
> >    Accept-Contact:*;media="voice,video";q=1.0,
> >                   *;media="voice,!video";q=.5
> >
> > but this would be wrong because "!" is only valid at the beginning of
> > the parameter value, and applies the value as a whole rather than to a
> > particular item in the comma separated list of items in the value.
> >
> > For consistency, I propose that this also be changed. Negation through
> > use of "!" should apply to an individual element in a comma separated
> > list of values.
> 
> This is not needed. Remember, the set processing is done to ultimately
> affect the prioritization of the contacts. Let us assume that the & rule
> above exists. Instead, you could use:
> 
>    Accept-Contact: *;media="voice&video",q=1.0,
>                    *;media="voice",q=0.5

We can easily get into the world of the obscure and useless here. I have
quite a bit of difficulty coming up with good uses for NOT at all,
especially in Accept-Contact. I suppose it has more use in
Reject-Contact.

> 
> Now, if the contact list has:
> 
> sip:videophone@foo.com;media="voice,video"
> sip:cellphone@foo.com;media="voice"
> 
> The videophone matches both rules above, but the cellphone only matches the
> voice rule. If simple averaging is used over the q values from matching
> rules, the videophone ends up with a higher q value than the cell phone,
> which is ultimately what you are after anyway.
> 
> >
> > For example (yes, I know this is nonsense), suppose I want to accept
> > contacts supporting english but neither spanish nor french.
> 
> Well, to be honest, coming up with real scenarios is important in order to
> justify the late change, but as I point out above, even if you did, its not
> clear to me that it matters.
> >
> > If there isn't agreement with this proposal, then I at least
> > hope to get
> > agreement that the interpretation I posed in the message below is
> > correct. It is essential that there be some way to express the AND
> > condition for two values of the same cp-param type.
> 
> I'd still like to see real uses, but I can imagine there are some (voice and
> video, for example, is a reasonable thing to ask for). So, I will go ahead
> and add my & proposal to the draft, since its easy to do within the
> framework. We can discuss further, but this way, if there is agreement on
> that, then the draft is ready for iesg immediately rather than requiring a
> rev.

I defer to your judgement about strategy. There is work required in the
matching algorithm section that isn't so straightforward, as well as in
the code example if it is to be retained. (I think code samples are
dangerous in standards.)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 15:38:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04683
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 15:38:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA19303
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 15:38:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18794;
	Wed, 21 Nov 2001 15:18:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA18766
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 15:18:32 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03722
	for <sip@ietf.org>; Wed, 21 Nov 2001 15:18:31 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fALKGXhp020347
	for <sip@ietf.org>; Wed, 21 Nov 2001 15:16:33 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4HW5>; Wed, 21 Nov 2001 15:17:57 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E802@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 21 Nov 2001 15:17:57 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Thought experiement - capturing all responses to a fork
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

We've had several discussions on the lists recently
on dealing with the repurcussions of a forked request.

I've put together a short strawman draft exploring a
different way of solving those problems. Until the
blackout period on new drafts expires, you can get it at
http://www.nostrum.com/~rjsparks/draft-sparks-sip-fu-00.txt

The draft defines an extension that allows _every_ final
response to be returned to the requester.

Please take note - this is just a strawman draft intended to
stimulate discussion.

RjS

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 15:59:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA05571
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 15:59:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA19500
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 15:59:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA19363;
	Wed, 21 Nov 2001 15:41:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA19335
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 15:41:03 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA04821
	for <sip@ietf.org>; Wed, 21 Nov 2001 15:41:01 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6att.ericy.com [138.85.92.14])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fALKdrY17719;
	Wed, 21 Nov 2001 14:39:53 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fALKdrd13868;
	Wed, 21 Nov 2001 14:39:53 -0600 (CST)
Received: from lmf.ericsson.se (rmt160120.am.ericsson.se [138.85.160.120]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA09686; Wed, 21 Nov 2001 14:39:51 -0600 (CST)
Message-ID: <3BFC1685.1719468C@lmf.ericsson.se>
Date: Wed, 21 Nov 2001 23:03:01 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'Shieh, Hugh'" <hugh.shieh@attws.com>,
        "'Peterson, Jon'" <jon.peterson@neustar.com>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: Re: [Sip] Bis-5: TLS as secure transport for SIP
References: <B65B4F8437968F488A01A940B21982BF020D6D70@DYN-EXCH-001.dynamicsoft.com> <3BE726F4.174CDDC6@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

"Henning G. Schulzrinne" wrote:
> 
> Jonathan Rosenberg wrote:
> >
> 
> > time, or on the first call, and then reused as needed. I am sure people will
> > dredge up the old HOL blocking issues with TCP. I still am waiting for
> 
> Gonzalo Camarillo has done a number of simulations on this here at
> Columbia; he should summarize the details, but my summary is "you have
> to try really, really hard for it to make a difference".

Yes, HOL becomes important when your queuing delay is anyway
unacceptable. That is, when you have enough timeouts to make HOL
statistically significant even SCTP cannot manage to provide a
low-enough queuing delay.

Therefore, under moderate packet loss, you do not have a noticeable
difference between TCP and SCTP.

Regards,

Gonzalo



> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 17:40:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA11807
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 17:40:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA23612
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 17:40:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23089;
	Wed, 21 Nov 2001 17:14:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23002
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 17:14:53 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA11047
	for <sip@ietf.org>; Wed, 21 Nov 2001 17:14:50 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fALMBuY21151;
	Wed, 21 Nov 2001 16:11:56 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fALMBuX28174;
	Wed, 21 Nov 2001 16:11:56 -0600 (CST)
Received: from lmf.ericsson.se (rmt160120.am.ericsson.se [138.85.160.120]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA14638; Wed, 21 Nov 2001 16:11:53 -0600 (CST)
Message-ID: <3BFC2C17.ED1BA909@lmf.ericsson.se>
Date: Thu, 22 Nov 2001 00:35:03 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: Mark Watson <mwatson@nortelnetworks.com>, sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
References: <A3C2399B2FACD411A54200508BE39C74054F6E47@zwcwd00r.europe.nortel.com> <008901c16926$89642540$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

we have finally chosen "early" and "confirmed" as the states of a
dialog. A 1xx responses different than 100 creates a dialog in "early"
state. When the 2xx is received it transitions to the "confirmed" state.

It is of course possible for a dialog to be created in the "confirmed"
state directly.

Regards,

Gonzalo

Bob Penfield wrote:
> 
> I think we should have "early" and "established" states for the dialog. I
> suggest the paragraph in section be re-worded as follows:
> 
>  "Dialogs are created through the generation of non-failure responses to
>  requests with specific methods. Within this specification, only the 2xx and
>  1xx responses to INVITE create a dialog. A dialog created by a
>  non-final response to a request is called an early dialog. An established
> dialog
>  is created by a final response. Once a final response is received for an
>  early dialog, it becomes an established dialog"
> 
> cheers,
> (-:bob
> 
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
> 
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: <sip@ietf.org>
> Sent: Friday, November 09, 2001 6:13 AM
> Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> 
> > Apologies if this has already been covered.
> >
> > There is an ambiguity in the specification with respect to the
> > 'establishment' of a dialog.
> >
> > Section 12.1 states:
> >
> > "Dialogs are created through the generation of non-failure responses to
> > requests with specific methods. Within this specification, only the 2xx
> and
> > 1xx responses to INVITE establish a dialog. A dialog established by a
> > non-final response to a request is called an early dialog."
> >
> > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > received. This means that 'establishing' a dialog is equivalent to
> > 'creating' it.
> >
> > However, the introduction to Section 12 states at the end:
> >
> > "A dialog can also be in the "early" state, which occurs when it is
> created
> > with a provisional response, and then transition to the "established"
> state
> > when the final response comes."
> >
> > i.e. the dialog is not considered 'established' until a *final* response
> is
> > received.
> >
> > Aside from the need to make the terminology unambiguous, section 12.2
> > indicates that new requests within a dialog can be sent once it is
> > 'established' so the definition of 'established' is clearly important.
> >
> > I would suggest sticking with the description of 12.1 - i.e. that the
> dialog
> > is established as soon as a non-failure response is received - this is all
> > that is required to ensure both UAS & UAC have the required, synchronised
> > state information. If it is necessary to distinguish between dialog state
> > before and after a final response, then I'd suggest using the term
> > 'confirmed' for dialogs where there has been a final response. I'm not
> sure
> > there is such a need - whether a response is provisional or final is a
> > transaction layer concept - does it need to be reflected in dialog state ?
> >
> > Regards,
> >
> > Mark Watson
> > Nortel Networks
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 18:01:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA12484
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 18:01:17 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA24281
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 18:01:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23690;
	Wed, 21 Nov 2001 17:44:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23662
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 17:44:01 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA11895
	for <sip@ietf.org>; Wed, 21 Nov 2001 17:43:58 -0500 (EST)
Received: from mr7.exu.ericsson.se (mr7att.ericy.com [138.85.92.15])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fALMhOY29915;
	Wed, 21 Nov 2001 16:43:24 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr7.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fALMhOX04293;
	Wed, 21 Nov 2001 16:43:24 -0600 (CST)
Received: from lmf.ericsson.se (rmt160120.am.ericsson.se [138.85.160.120]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA16240; Wed, 21 Nov 2001 16:43:21 -0600 (CST)
Message-ID: <3BFC3377.AB1B3ADB@lmf.ericsson.se>
Date: Thu, 22 Nov 2001 01:06:31 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Bob Penfield <bpenfield@acmepacket.com>
CC: Jonathan Rosenberg <jdrosen@dynamicsoft.com>, sip@ietf.org
Subject: Re: [Sip] bis-05: Terminating a session
References: <B65B4F8437968F488A01A940B21982BF020D6F79@DYN-EXCH-001.dynamicsoft.com> <010401c17204$57f51640$2300000a@acmepacket.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Bob Penfield wrote:
> 
> ----- Original Message -----
> From: "Jonathan Rosenberg" <jdrosen@dynamicsoft.com>
> <snip>
> > > Somewhere near line 1957, it should be noted that the callee
> > > terminates an
> > > early dialog by sending a non-2xx final response to the INVITE.
> >
> > There is no early dialog; its rejecting the invitation, and will thus not
> > cause a dialog to be established, or the session. But, I understand what
> you
> > are getting at, and we'll add some words.
> 
> I was talking about the case where a UAS has sent a 1xx (e.g. 183 Ringing)
> which establishes an early dialog, and then sends a 4xx when the UAS wants
> to terminate because the user pressed the "don't bother me now" button.
> 

I have added some wording about it.

Thanks,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Wed Nov 21 18:07:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA12772
	for <sip-archive@odin.ietf.org>; Wed, 21 Nov 2001 18:07:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA24381
	for sip-archive@odin.ietf.org; Wed, 21 Nov 2001 18:07:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23763;
	Wed, 21 Nov 2001 17:49:58 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA23732
	for <sip@ns.ietf.org>; Wed, 21 Nov 2001 17:49:55 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA12010
	for <sip@ietf.org>; Wed, 21 Nov 2001 17:49:52 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6u3.ericy.com [208.237.135.123])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fALMmwH26634;
	Wed, 21 Nov 2001 16:48:58 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fALMmwd01564;
	Wed, 21 Nov 2001 16:48:58 -0600 (CST)
Received: from lmf.ericsson.se (rmt160120.am.ericsson.se [138.85.160.120]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id QAA16407; Wed, 21 Nov 2001 16:48:56 -0600 (CST)
Message-ID: <3BFC34C5.DAE5BD01@lmf.ericsson.se>
Date: Thu, 22 Nov 2001 01:12:05 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Lei Liang <l.liang@eim.surrey.ac.uk>
CC: sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.
References: <Pine.GSO.4.21.0111211712280.5180-100000@hermes.ee.surrey.ac.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Lines 1844-1850 of the PDF version of bis-05 cover this.

Regards,

Gonzalo

Lei Liang wrote:
> 
> hi, everybody,
>   i am not sure what will happen if a UAS receives more than one invite
> from different poeple in the  same conference at the same time or almost
> the same time that it hasn't sent out  a final response for any one of
> them. will the UAS accept the first one and tell the rest it has join the
> conference automatically or the user has to choose one of them manually or
> establish calls with all of them. clearly the last choice is not necessary
> and waste of bandwidth. does't any document mention this case? thanks.
> lei
> 
> On Wed, 21 Nov 2001, James M. Polk wrote:
> 
> >
> > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > >jmpolk@cisco.com writes:
> > >
> > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > >>  >To all,
> > >>  >
> > >>  >I have the following comments on draft-polk-sip-resource-00:
> > >>  >
> > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".'
> > >This
> > >>  >should reference some of the values defined in Section 3.
> > >>
> > >>  This is a generic example that most can understand -- that's why it was
> > >used.
> > >>
> > >>  James M. Polk
> > >>  Consulting Engineer
> > >>  Office of the CTO
> > >>
> > >>  Cisco Systems
> > >
> > >I'll respond to each item in a separate e-mail so they don't get so lengthy.
> > >
> > >Although "urgent" and "normal" are generic words, they are not the ones used
> > >in this document. Use of these words as examples here would confuse someone -
> > >If they were unaware of the details of the current Priority Header, they
> > >would be confused. If they were aware of the current Priority Header, they
> > >would be lead to believe that the definition of the value in this new Header
> > >were somehow related to the one in the Priority Header. I listed this as a
> > >"nit", since it was clearly a cut and paste error.
> >
> > This phrase is intended as a comparison -- do you think that most or even some
> > people would believe that there isn't a difference between "urgent" and
> > "normal". In relative terms, probably not. And this was the intent.
> >
> > >
> > >Mike Pierce
> > >Artel
> >
> > *************************************
> > "People generally demand more respect for their own rights than they are
> > willing to allow for others"
> >
> > James M. Polk
> > Consulting Engineer
> > Office of the CTO
> >
> > Cisco Systems
> > 2200 East President George Bush Turnpike
> > Richardson, TX  75082 USA
> > w) 972.813.5208
> > f)  972.813.5280
> > www.cisco.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 04:27:34 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA11277
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 04:27:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA15566
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 04:27:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA14465;
	Thu, 22 Nov 2001 03:57:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id DAA14437
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 03:57:47 -0500 (EST)
Received: from beamer.mchh.siemens.de (beamer.mchh.siemens.de [194.138.158.163])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA10838
	for <sip@ietf.org>; Thu, 22 Nov 2001 03:57:45 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by beamer.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id JAA06423;
	Thu, 22 Nov 2001 09:57:40 +0100 (MET)
Received: from mchh159e.mch.pn.siemens.de ([139.21.130.171])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id JAA18237;
	Thu, 22 Nov 2001 09:57:39 +0100 (MET)
Received: by mchh159e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <WT6PGSAK>; Thu, 22 Nov 2001 09:57:42 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E60816B2@mchh161e>
From: Tan Ya-Ching  ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>
Cc: Mark Watson <mwatson@nortelnetworks.com>, sip@ietf.org
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Thu, 22 Nov 2001 09:57:16 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



| -----Original Message-----
| From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
| Sent: 21 November 2001 23:35
| To: Bob Penfield
| Cc: Mark Watson; sip@ietf.org
| Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
| 
| 
| Hello,
| 
| we have finally chosen "early" and "confirmed" as the states of a
| dialog. A 1xx responses different than 100 creates a dialog in "early"
| state. When the 2xx is received it transitions to the 
| "confirmed" state.
| 


"confirmed" is certainly better than "established". Do all 1xx responses
other than 100 create dialogs or should we be more specific in saying that
only 1xx responses with To tag create dialogs ?

Regards,
Ya-Ching

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 04:35:20 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA11373
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 04:35:20 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id EAA15972
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 04:35:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA15334;
	Thu, 22 Nov 2001 04:16:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA15303
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 04:16:27 -0500 (EST)
Received: from penguin-ext.wise.edt.ericsson.se (penguin-ext.wise.edt.ericsson.se [194.237.142.110])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA11153
	for <sip@ietf.org>; Thu, 22 Nov 2001 04:16:24 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by penguin.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAM9GPC07748;
	Thu, 22 Nov 2001 10:16:25 +0100 (MET)
Received: from lmf.ericsson.se (E005004B52C74.lmf.ericsson.se [131.160.30.80])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fAM9GOh23066;
	Thu, 22 Nov 2001 11:16:24 +0200 (EET)
Message-ID: <3BFCC264.3516CA90@lmf.ericsson.se>
Date: Thu, 22 Nov 2001 11:16:20 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Tan Ya-Ching ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
CC: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield <bpenfield@acmepacket.com>,
        Mark Watson <mwatson@nortelnetworks.com>, sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
References: <5B4D0C5BA65ECA46969C1419122317E60816B2@mchh161e>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

>"confirmed" is certainly better than "established". Do all 1xx responses
>other than 100 create dialogs or should we be more specific in saying that
>only 1xx responses with To tag create dialogs ?

My understanding of chapter 8.2.7 in bis-05 is that a non-100 1xx
provisional response MUST contain a To tag.

-----
If a request contained a To tag in the request, the To field in the
response MUST equal that of the request. However, if the To field in
the request did not contain a tag, the URI in the To field in the
response MUST equal the URI in the To field in the request.
Additionally, the UAS MUST add a tag to the To field in the response.
This serves to identify the UAS that is responding, possibly
resulting in a component of a dialog ID. The same tag MUST be used
for all responses to that request, both provisional and final.
Procedures for generation of tags are defined in Section 21.3.
-----

Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 05:10:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA11917
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 05:10:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA16912
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 05:10:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA16206;
	Thu, 22 Nov 2001 04:52:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA16173
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 04:52:46 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA11632
	for <sip@ietf.org>; Thu, 22 Nov 2001 04:52:43 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id KAA05134;
	Thu, 22 Nov 2001 10:52:42 +0100 (MET)
Received: from mchh150e.mch.pn.siemens.de ([139.21.130.150])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id KAA29288;
	Thu, 22 Nov 2001 10:52:43 +0100 (MET)
Received: by mchh150e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <X22DT4HN>; Thu, 22 Nov 2001 10:52:46 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E60816B3@mchh161e>
From: Tan Ya-Ching  ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>
Cc: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield
	 <bpenfield@acmepacket.com>,
        Mark Watson <mwatson@nortelnetworks.com>, sip@ietf.org
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Thu, 22 Nov 2001 10:52:24 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



| -----Original Message-----
| From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
| Sent: 22 November 2001 10:16
| To: Tan Ya-Ching ICM N PG U ID A 1
| Cc: 'Gonzalo Camarillo'; Bob Penfield; Mark Watson; sip@ietf.org
| Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
| 
| 
| 
| Hi,
| 
| >"confirmed" is certainly better than "established". Do all 
| 1xx responses
| >other than 100 create dialogs or should we be more specific 
| in saying that
| >only 1xx responses with To tag create dialogs ?
| 
| My understanding of chapter 8.2.7 in bis-05 is that a non-100 1xx
| provisional response MUST contain a To tag.
|

What about the possibilities that the provisional response is generated by a
RFC2543-compliant proxy or UAS ? I thought such considerations are included
throughout the draft.

Regards,
Ya-Ching

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 09:30:57 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA15289
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 09:30:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA22823
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 09:30:58 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA21547;
	Thu, 22 Nov 2001 08:54:15 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA21516
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 08:54:12 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA14834
	for <sip@ietf.org>; Thu, 22 Nov 2001 08:54:11 -0500 (EST)
Received: from znsgs0ja.europe.nortel.com (znsgs0ja.europe.nortel.com [47.165.25.40])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fAMDr2S01014
	for <sip@ietf.org>; Thu, 22 Nov 2001 08:53:02 -0500 (EST)
Received: from qnsgs000.nortel.com (znsgs016 [47.255.64.31])
	by znsgs0ja.europe.nortel.com (8.11.0/8.11.0) with ESMTP id fAMDreS16354
	for <sip@ietf.org>; Thu, 22 Nov 2001 13:53:40 GMT
Received: from zwcwc012.europe.nortel.com by znsgs016;
          Thu, 22 Nov 2001 13:53:23 +0000
Received: by zwcwc012.europe.nortel.com 
          with Internet Mail Service (5.5.2653.19) id <W09VCMRY>;
          Thu, 22 Nov 2001 13:52:24 -0000
Message-ID: <A3C2399B2FACD411A54200508BE39C74054F6EB2@zwcwd00r.europe.nortel.com>
From: "Mark Watson" <mwatson@nortelnetworks.com>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Bob Penfield <bpenfield@acmepacket.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Thu, 22 Nov 2001 13:52:18 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C1735C.E673D1A0"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1735C.E673D1A0
Content-Type: text/plain

Is it planned to remove the term 'established' entirely from a draft, or
will 'established' be a term which refers to a dialog which is in either
state ('early' or 'confirmed') ?

The next question (which is academic really) is what is the material
difference between an Early and Confirmed dialog with respect to actual
Proxy or UA behaviour at the dialog layer ? i.e. what does a proxy/UA do
differently with a confirmed dialog compared to an early one ?

I would have thought that most changes in behaviour on receiving a final
response are as a result of the *transaction* being completed, not as a
result of the dialog being confirmed.

Regards...Mark

-----Original Message-----
From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
Sent: 21 November 2001 22:35
To: Bob Penfield
Cc: Watson, Mark [MDN05:EP10:EXCH]; sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity


Hello,

we have finally chosen "early" and "confirmed" as the states of a
dialog. A 1xx responses different than 100 creates a dialog in "early"
state. When the 2xx is received it transitions to the "confirmed" state.

It is of course possible for a dialog to be created in the "confirmed"
state directly.

Regards,

Gonzalo

Bob Penfield wrote:
> 
> I think we should have "early" and "established" states for the dialog. I
> suggest the paragraph in section be re-worded as follows:
> 
>  "Dialogs are created through the generation of non-failure responses to
>  requests with specific methods. Within this specification, only the 2xx
and
>  1xx responses to INVITE create a dialog. A dialog created by a
>  non-final response to a request is called an early dialog. An established
> dialog
>  is created by a final response. Once a final response is received for an
>  early dialog, it becomes an established dialog"
> 
> cheers,
> (-:bob
> 
> Robert F. Penfield
> Chief Software Architect
> Acme Packet, Inc.
> 130 New Boston Street
> Woburn, MA 01801
> bpenfield@acmepacket.com
> 
> ----- Original Message -----
> From: "Mark Watson" <mwatson@nortelnetworks.com>
> To: <sip@ietf.org>
> Sent: Friday, November 09, 2001 6:13 AM
> Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> 
> > Apologies if this has already been covered.
> >
> > There is an ambiguity in the specification with respect to the
> > 'establishment' of a dialog.
> >
> > Section 12.1 states:
> >
> > "Dialogs are created through the generation of non-failure responses to
> > requests with specific methods. Within this specification, only the 2xx
> and
> > 1xx responses to INVITE establish a dialog. A dialog established by a
> > non-final response to a request is called an early dialog."
> >
> > i.e. a dialog is considered 'established' as soon as any 1xx or 2xx is
> > received. This means that 'establishing' a dialog is equivalent to
> > 'creating' it.
> >
> > However, the introduction to Section 12 states at the end:
> >
> > "A dialog can also be in the "early" state, which occurs when it is
> created
> > with a provisional response, and then transition to the "established"
> state
> > when the final response comes."
> >
> > i.e. the dialog is not considered 'established' until a *final* response
> is
> > received.
> >
> > Aside from the need to make the terminology unambiguous, section 12.2
> > indicates that new requests within a dialog can be sent once it is
> > 'established' so the definition of 'established' is clearly important.
> >
> > I would suggest sticking with the description of 12.1 - i.e. that the
> dialog
> > is established as soon as a non-failure response is received - this is
all
> > that is required to ensure both UAS & UAC have the required,
synchronised
> > state information. If it is necessary to distinguish between dialog
state
> > before and after a final response, then I'd suggest using the term
> > 'confirmed' for dialogs where there has been a final response. I'm not
> sure
> > there is such a need - whether a response is provisional or final is a
> > transaction layer concept - does it need to be reflected in dialog state
?
> >
> > Regards,
> >
> > Mark Watson
> > Nortel Networks
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

------_=_NextPart_001_01C1735C.E673D1A0
Content-Type: text/html
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Bis-05: Diaglog establishment ambiguity</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Is it planned to remove the term 'established' =
entirely from a draft, or will 'established' be a term which refers to =
a dialog which is in either state ('early' or 'confirmed') ?</FONT></P>

<P><FONT SIZE=3D2>The next question (which is academic really) is what =
is the material difference between an Early and Confirmed dialog with =
respect to actual Proxy or UA behaviour at the dialog layer ? i.e. what =
does a proxy/UA do differently with a confirmed dialog compared to an =
early one ?</FONT></P>

<P><FONT SIZE=3D2>I would have thought that most changes in behaviour =
on receiving a final response are as a result of the *transaction* =
being completed, not as a result of the dialog being =
confirmed.</FONT></P>

<P><FONT SIZE=3D2>Regards...Mark</FONT>
</P>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Gonzalo Camarillo [<A =
HREF=3D"mailto:Gonzalo.Camarillo@lmf.ericsson.se">mailto:Gonzalo.Camaril=
lo@lmf.ericsson.se</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: 21 November 2001 22:35</FONT>
<BR><FONT SIZE=3D2>To: Bob Penfield</FONT>
<BR><FONT SIZE=3D2>Cc: Watson, Mark [MDN05:EP10:EXCH]; =
sip@ietf.org</FONT>
<BR><FONT SIZE=3D2>Subject: Re: [Sip] Bis-05: Diaglog establishment =
ambiguity</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Hello,</FONT>
</P>

<P><FONT SIZE=3D2>we have finally chosen &quot;early&quot; and =
&quot;confirmed&quot; as the states of a</FONT>
<BR><FONT SIZE=3D2>dialog. A 1xx responses different than 100 creates a =
dialog in &quot;early&quot;</FONT>
<BR><FONT SIZE=3D2>state. When the 2xx is received it transitions to =
the &quot;confirmed&quot; state.</FONT>
</P>

<P><FONT SIZE=3D2>It is of course possible for a dialog to be created =
in the &quot;confirmed&quot;</FONT>
<BR><FONT SIZE=3D2>state directly.</FONT>
</P>

<P><FONT SIZE=3D2>Regards,</FONT>
</P>

<P><FONT SIZE=3D2>Gonzalo</FONT>
</P>

<P><FONT SIZE=3D2>Bob Penfield wrote:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; I think we should have &quot;early&quot; and =
&quot;established&quot; states for the dialog. I</FONT>
<BR><FONT SIZE=3D2>&gt; suggest the paragraph in section be re-worded =
as follows:</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; &quot;Dialogs are created through the =
generation of non-failure responses to</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; requests with specific methods. Within =
this specification, only the 2xx and</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; 1xx responses to INVITE create a dialog. =
A dialog created by a</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; non-final response to a request is called =
an early dialog. An established</FONT>
<BR><FONT SIZE=3D2>&gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; is created by a final response. Once a =
final response is received for an</FONT>
<BR><FONT SIZE=3D2>&gt;&nbsp; early dialog, it becomes an established =
dialog&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; cheers,</FONT>
<BR><FONT SIZE=3D2>&gt; (-:bob</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; Robert F. Penfield</FONT>
<BR><FONT SIZE=3D2>&gt; Chief Software Architect</FONT>
<BR><FONT SIZE=3D2>&gt; Acme Packet, Inc.</FONT>
<BR><FONT SIZE=3D2>&gt; 130 New Boston Street</FONT>
<BR><FONT SIZE=3D2>&gt; Woburn, MA 01801</FONT>
<BR><FONT SIZE=3D2>&gt; bpenfield@acmepacket.com</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; ----- Original Message -----</FONT>
<BR><FONT SIZE=3D2>&gt; From: &quot;Mark Watson&quot; =
&lt;mwatson@nortelnetworks.com&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; To: &lt;sip@ietf.org&gt;</FONT>
<BR><FONT SIZE=3D2>&gt; Sent: Friday, November 09, 2001 6:13 AM</FONT>
<BR><FONT SIZE=3D2>&gt; Subject: [Sip] Bis-05: Diaglog establishment =
ambiguity</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Apologies if this has already been =
covered.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; There is an ambiguity in the specification =
with respect to the</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'establishment' of a dialog.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Section 12.1 states:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &quot;Dialogs are created through the =
generation of non-failure responses to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; requests with specific methods. Within =
this specification, only the 2xx</FONT>
<BR><FONT SIZE=3D2>&gt; and</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 1xx responses to INVITE establish a =
dialog. A dialog established by a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; non-final response to a request is called =
an early dialog.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; i.e. a dialog is considered 'established' =
as soon as any 1xx or 2xx is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; received. This means that 'establishing' a =
dialog is equivalent to</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'creating' it.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; However, the introduction to Section 12 =
states at the end:</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; &quot;A dialog can also be in the =
&quot;early&quot; state, which occurs when it is</FONT>
<BR><FONT SIZE=3D2>&gt; created</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; with a provisional response, and then =
transition to the &quot;established&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; when the final response =
comes.&quot;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; i.e. the dialog is not considered =
'established' until a *final* response</FONT>
<BR><FONT SIZE=3D2>&gt; is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; received.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Aside from the need to make the =
terminology unambiguous, section 12.2</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; indicates that new requests within a =
dialog can be sent once it is</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'established' so the definition of =
'established' is clearly important.</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; I would suggest sticking with the =
description of 12.1 - i.e. that the</FONT>
<BR><FONT SIZE=3D2>&gt; dialog</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; is established as soon as a non-failure =
response is received - this is all</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; that is required to ensure both UAS &amp; =
UAC have the required, synchronised</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; state information. If it is necessary to =
distinguish between dialog state</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; before and after a final response, then =
I'd suggest using the term</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; 'confirmed' for dialogs where there has =
been a final response. I'm not</FONT>
<BR><FONT SIZE=3D2>&gt; sure</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; there is such a need - whether a response =
is provisional or final is a</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; transaction layer concept - does it need =
to be reflected in dialog state ?</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Regards,</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Mark Watson</FONT>
<BR><FONT SIZE=3D2>&gt; &gt; Nortel Networks</FONT>
<BR><FONT SIZE=3D2>&gt; &gt;</FONT>
<BR><FONT SIZE=3D2>&gt; </FONT>
<BR><FONT SIZE=3D2>&gt; =
_______________________________________________</FONT>
<BR><FONT SIZE=3D2>&gt; Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>&gt; This list is for NEW development of the core =
SIP Protocol</FONT>
<BR><FONT SIZE=3D2>&gt; Use sip-implementors@cs.columbia.edu for =
questions on current sip</FONT>
<BR><FONT SIZE=3D2>&gt; Use sipping@ietf.org for new developments on =
the application of sip</FONT>
</P>

<P><FONT SIZE=3D2>-- </FONT>
<BR><FONT SIZE=3D2>Gonzalo =
Camarillo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Phone :&nbsp;&nbsp; =
+1 212 939 71 71</FONT>
<BR><FONT SIZE=3D2>Columbia =
University&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mobile:&nbsp; +358 40 702 35 =
35</FONT>
<BR><FONT SIZE=3D2>472 Computer Science =
Building&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Fax&nbsp;&nbsp; =
:&nbsp; +358&nbsp; 9 299 30 52</FONT>
<BR><FONT SIZE=3D2>1214 Amsterdam Ave., Mail Code 0401&nbsp; <A =
HREF=3D"http://www.hut.fi/~gonzalo" =
TARGET=3D"_blank">http://www.hut.fi/~gonzalo</A></FONT>
<BR><FONT SIZE=3D2>New York, NY =
10027&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </FONT>
<BR><FONT =
SIZE=3D2>USA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
Gonzalo.Camarillo@ericsson.com</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1735C.E673D1A0--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 11:06:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA17844
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 11:06:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA26306
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 11:06:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25548;
	Thu, 22 Nov 2001 10:43:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA25454
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 10:43:42 -0500 (EST)
Received: from imr1.ericy.com (imr1.ericy.com [208.237.135.240])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA17032
	for <sip@ietf.org>; Thu, 22 Nov 2001 10:43:40 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5u3.ericy.com [208.237.135.124])
	by imr1.ericy.com (8.11.3/8.11.3) with ESMTP id fAMFhVH20605;
	Thu, 22 Nov 2001 09:43:31 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fAMFhUk23237;
	Thu, 22 Nov 2001 09:43:30 -0600 (CST)
Received: from lmf.ericsson.se (rmt160210.am.ericsson.se [138.85.160.210]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id JAA04618; Thu, 22 Nov 2001 09:43:23 -0600 (CST)
Message-ID: <3BFD2297.C970BB0@lmf.ericsson.se>
Date: Thu, 22 Nov 2001 18:06:47 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Mark Watson <mwatson@nortelnetworks.com>
CC: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
References: <A3C2399B2FACD411A54200508BE39C74054F6EB2@zwcwd00r.europe.nortel.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

> Is it planned to remove the term 'established' entirely from a draft,
> or will 'established' be a term which refers to a dialog which is in
> either state ('early' or 'confirmed') ?

we still use "establish", but without a formal definition. Example: " a
180 response establishes a dialog which, at that point of time, is at
the early state."

> 
> The next question (which is academic really) is what is the material
> difference between an Early and Confirmed dialog with respect to
> actual Proxy or UA behaviour at the dialog layer ? i.e. what does a
> proxy/UA do differently with a confirmed dialog compared to an early
> one ?

One difference is that you terminate the early dialog with CANCEL and
the confirmed one with BYE. Another difference is that many pieces of
state in a confirmed dialog are fixed (except the Contact in the Route
set) whereas in an early dialog the 2xx response will change these
pieces of state.

> 
> I would have thought that most changes in behaviour on receiving a
> final response are as a result of the *transaction* being completed,
> not as a result of the dialog being confirmed.

As soon as you begin using early media, for instance, this distintion
between early and confirmed is very important.

Regards,

Gonzalo

> 
> Regards...Mark
> 
> -----Original Message-----
> From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> Sent: 21 November 2001 22:35
> To: Bob Penfield
> Cc: Watson, Mark [MDN05:EP10:EXCH]; sip@ietf.org
> Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
> 
> Hello,
> 
> we have finally chosen "early" and "confirmed" as the states of a
> dialog. A 1xx responses different than 100 creates a dialog in "early"
> 
> state. When the 2xx is received it transitions to the "confirmed"
> state.
> 
> It is of course possible for a dialog to be created in the "confirmed"
> 
> state directly.
> 
> Regards,
> 
> Gonzalo
> 
> Bob Penfield wrote:
> >
> > I think we should have "early" and "established" states for the
> dialog. I
> > suggest the paragraph in section be re-worded as follows:
> >
> >  "Dialogs are created through the generation of non-failure
> responses to
> >  requests with specific methods. Within this specification, only the
> 2xx and
> >  1xx responses to INVITE create a dialog. A dialog created by a
> >  non-final response to a request is called an early dialog. An
> established
> > dialog
> >  is created by a final response. Once a final response is received
> for an
> >  early dialog, it becomes an established dialog"
> >
> > cheers,
> > (-:bob
> >
> > Robert F. Penfield
> > Chief Software Architect
> > Acme Packet, Inc.
> > 130 New Boston Street
> > Woburn, MA 01801
> > bpenfield@acmepacket.com
> >
> > ----- Original Message -----
> > From: "Mark Watson" <mwatson@nortelnetworks.com>
> > To: <sip@ietf.org>
> > Sent: Friday, November 09, 2001 6:13 AM
> > Subject: [Sip] Bis-05: Diaglog establishment ambiguity
> >
> > > Apologies if this has already been covered.
> > >
> > > There is an ambiguity in the specification with respect to the
> > > 'establishment' of a dialog.
> > >
> > > Section 12.1 states:
> > >
> > > "Dialogs are created through the generation of non-failure
> responses to
> > > requests with specific methods. Within this specification, only
> the 2xx
> > and
> > > 1xx responses to INVITE establish a dialog. A dialog established
> by a
> > > non-final response to a request is called an early dialog."
> > >
> > > i.e. a dialog is considered 'established' as soon as any 1xx or
> 2xx is
> > > received. This means that 'establishing' a dialog is equivalent to
> 
> > > 'creating' it.
> > >
> > > However, the introduction to Section 12 states at the end:
> > >
> > > "A dialog can also be in the "early" state, which occurs when it
> is
> > created
> > > with a provisional response, and then transition to the
> "established"
> > state
> > > when the final response comes."
> > >
> > > i.e. the dialog is not considered 'established' until a *final*
> response
> > is
> > > received.
> > >
> > > Aside from the need to make the terminology unambiguous, section
> 12.2
> > > indicates that new requests within a dialog can be sent once it is
> 
> > > 'established' so the definition of 'established' is clearly
> important.
> > >
> > > I would suggest sticking with the description of 12.1 - i.e. that
> the
> > dialog
> > > is established as soon as a non-failure response is received -
> this is all
> > > that is required to ensure both UAS & UAC have the required,
> synchronised
> > > state information. If it is necessary to distinguish between
> dialog state
> > > before and after a final response, then I'd suggest using the term
> 
> > > 'confirmed' for dialogs where there has been a final response. I'm
> not
> > sure
> > > there is such a need - whether a response is provisional or final
> is a
> > > transaction layer concept - does it need to be reflected in dialog
> state ?
> > >
> > > Regards,
> > >
> > > Mark Watson
> > > Nortel Networks
> > >
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> --
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027
> USA                              Gonzalo.Camarillo@ericsson.com

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 11:54:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18671
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 11:54:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA27412
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 11:54:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA26707;
	Thu, 22 Nov 2001 11:27:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA26677
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 11:27:45 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18222
	for <sip@ietf.org>; Thu, 22 Nov 2001 11:27:42 -0500 (EST)
Received: from moody.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.226])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id RAA11140;
	Thu, 22 Nov 2001 17:27:42 +0100 (MET)
Received: from mchh150e.mch.pn.siemens.de ([139.21.130.150])
	by moody.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id RAA02996;
	Thu, 22 Nov 2001 17:27:43 +0100 (MET)
Received: by mchh150e.mch.pn.siemens.de with Internet Mail Service (5.5.2653.19)
	id <X22DTZ1Q>; Thu, 22 Nov 2001 17:27:46 +0100
Message-ID: <5B4D0C5BA65ECA46969C1419122317E60816B5@mchh161e>
From: Tan Ya-Ching  ICM N PG U ID A 1 <Ya-Ching.Tan@icn.siemens.de>
To: "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Mark Watson
	 <mwatson@nortelnetworks.com>
Cc: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Thu, 22 Nov 2001 17:27:25 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



| -----Original Message-----
| From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
| Sent: 22 November 2001 17:07
| To: Mark Watson
| Cc: Bob Penfield; sip@ietf.org
| Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
| 
| One difference is that you terminate the early dialog with CANCEL and
| the confirmed one with BYE.
| 

This is certainly not what bis-05 says:

bis-05 13.2.2.1 1XX responses (pdf lines 1766-1770)
"Provisional responses for an INVITE request can create "early dialogs". If
a provisional response has a tag in the To field, and if the dialog ID of
the response does not match an existing dialog, one is constructed using the
procedures defined in Section 12.1.0.2.
The early dialog will only be needed if the UAC needs to send a request to
its peer within the dialog before the initial INVITE transaction completes."

12.2 Requests within a Dialog (line 1651)
"For INVITE initiated dialogs terminating the dialog consists of sending a
BYE."

12.3 Termination of a Dialog (line 1680-1682)
"When a dialog is established with INVITE, it is terminated with a BYE. No
other means to terminate a dialog are described in this specification, but
extensions can define other ways."

The statement "No other means to terminate a dialog are described in this
specification" seems to exclude termination of a dialog with CANCEL.


- Ya-Ching

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 22 12:04:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA18908
	for <sip-archive@odin.ietf.org>; Thu, 22 Nov 2001 12:04:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA28593
	for sip-archive@odin.ietf.org; Thu, 22 Nov 2001 12:04:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA27168;
	Thu, 22 Nov 2001 11:43:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA27137
	for <sip@optimus.ietf.org>; Thu, 22 Nov 2001 11:43:18 -0500 (EST)
Received: from pimout2-int.prodigy.net (pimout2-ext.prodigy.net [207.115.63.101])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18534
	for <sip@ietf.org>; Thu, 22 Nov 2001 11:43:15 -0500 (EST)
Received: from BobP (h-64-105-110-5.CMBRMAOR.covad.net [64.105.110.5])
	by pimout2-int.prodigy.net (8.11.0/8.11.0) with ESMTP id fAMGh9M343588;
	Thu, 22 Nov 2001 11:43:09 -0500
Message-ID: <005201c17374$45a18b60$6401a8c0@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Gonzalo Camarillo" <Gonzalo.Camarillo@lmf.ericsson.se>,
        "Mark Watson" <mwatson@nortelnetworks.com>
Cc: <sip@ietf.org>
References: <A3C2399B2FACD411A54200508BE39C74054F6EB2@zwcwd00r.europe.nortel.com> <3BFD2297.C970BB0@lmf.ericsson.se>
Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Thu, 22 Nov 2001 11:38:34 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


> > The next question (which is academic really) is what is the material
> > difference between an Early and Confirmed dialog with respect to
> > actual Proxy or UA behaviour at the dialog layer ? i.e. what does a
> > proxy/UA do differently with a confirmed dialog compared to an early
> > one ?
>
> One difference is that you terminate the early dialog with CANCEL and
> the confirmed one with BYE.

Just to be complete, CANCEL will terminate any and all early dialogs
resulting from an INVITE. BYE is used by the UAC to terminate a specific
early dialog.



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 23 09:07:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA17771
	for <sip-archive@odin.ietf.org>; Fri, 23 Nov 2001 09:07:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA00617
	for sip-archive@odin.ietf.org; Fri, 23 Nov 2001 09:07:46 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA29844;
	Fri, 23 Nov 2001 08:44:48 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA29813
	for <sip@optimus.ietf.org>; Fri, 23 Nov 2001 08:44:45 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA17571
	for <sip@ietf.org>; Fri, 23 Nov 2001 08:44:42 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fANDiif26896;
	Fri, 23 Nov 2001 14:44:44 +0100 (MET)
Received: from ericsson.com (3NJPI0013L1IJOG.lmf.ericsson.se [131.160.30.9])
	by fogerty.lmf.ericsson.se (8.11.3/8.11.3) with ESMTP id fANDigh08649;
	Fri, 23 Nov 2001 15:44:42 +0200 (EET)
Message-ID: <3BFE52D1.C65485B5@ericsson.com>
Date: Fri, 23 Nov 2001 15:44:49 +0200
From: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>
Organization: OY LM Ericsson AB
X-Mailer: Mozilla 4.74 [en] (Windows NT 5.0; U)
X-Accept-Language: es,en
MIME-Version: 1.0
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
CC: sip@ietf.org
Subject: Re: [Sip] New version of SIP DHCP draft
References: <3BFBE3AE.B6CD43AD@cs.columbia.edu>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Henning:

May I ask if there has been some discussion regarding the support for
IPv6 in this draft? I remember some e-mails in the mailing list some
time ago, even some volunteer to do the work. Is that work ongoing?
In a separate draft, perhaps?

Thanks a lot,

     Miguel

"Henning G. Schulzrinne" wrote:
> 
> Until it appears in the archives:
> http://www.cs.columbia.edu/~hgs/sip/drafts/draft-ietf-sip-dhcp-05.txt
> 
> This draft reflects discussions with the ADs and the DHC WG. There are
> probably still a few minor items to be worked out, such as the meaning
> (or lack thereof) of a list of names and IPv4 addresses, but the basic
> structure should now be in place.
> 
> Comments are solicited. This is believed to be ready to go to the IESG,
> but since this is substantially different from earlier versions (that
> already underwent such last call) another brief WG last call may be
> appropriate. My hope is that we can finally close this long saga.
> 
> Henning
> --
> Henning Schulzrinne   http://www.cs.columbia.edu/~hgs
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Miguel-Angel Garcia                     Oy LM Ericsson AB
                                        Jorvas, Finland
mailto:Miguel.A.Garcia@ericsson.com     Phone:  +358 9 299 3553
mailto:Miguel.A.Garcia@piuha.net        Mobile: +358 40 5140002

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 23 11:20:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA18968
	for <sip-archive@odin.ietf.org>; Fri, 23 Nov 2001 11:20:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA02895
	for sip-archive@odin.ietf.org; Fri, 23 Nov 2001 11:20:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA02338;
	Fri, 23 Nov 2001 10:46:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA02307
	for <sip@optimus.ietf.org>; Fri, 23 Nov 2001 10:46:32 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA18724
	for <sip@ietf.org>; Fri, 23 Nov 2001 10:46:27 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id KAA21330;
	Fri, 23 Nov 2001 10:46:31 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by bart.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fANFkT801643;
	Fri, 23 Nov 2001 10:46:29 -0500 (EST)
Message-ID: <3BFE6EB5.8FCB9082@cs.columbia.edu>
Date: Fri, 23 Nov 2001 10:43:49 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>
CC: sip@ietf.org
Subject: Re: [Sip] New version of SIP DHCP draft
References: <3BFBE3AE.B6CD43AD@cs.columbia.edu> <3BFE52D1.C65485B5@ericsson.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

After discussion with the DHCP folks and the ADs, it was decided that
IPv6 in DHCPv4 doesn't make a whole lot of sense. It would indeed be
nice if somebody would step forward and write a draft extending the
DHCPv4 SIP option to DHCPv6. However, to avoid further delays for this
long-suffering draft, I would strongly suggest that this be a separate
effort.

"Miguel A. Garcia" wrote:
> 
> Henning:
> 
> May I ask if there has been some discussion regarding the support for
> IPv6 in this draft? I remember some e-mails in the mailing list some
> time ago, even some volunteer to do the work. Is that work ongoing?
> In a separate draft, perhaps?
> 
> Thanks a lot,
> 
>      Miguel
>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 23 13:10:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA21489
	for <sip-archive@odin.ietf.org>; Fri, 23 Nov 2001 13:10:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA05484
	for sip-archive@odin.ietf.org; Fri, 23 Nov 2001 13:10:15 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA05034;
	Fri, 23 Nov 2001 12:34:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA05003
	for <sip@optimus.ietf.org>; Fri, 23 Nov 2001 12:34:00 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA21144
	for <sip@ietf.org>; Fri, 23 Nov 2001 12:33:56 -0500 (EST)
Received: from dynamicsoft.com (1Cust190.tnt2.new-brunswick3.nj.da.uu.net [63.44.101.190])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fANHW4hp025266
	for <sip@ietf.org>; Fri, 23 Nov 2001 12:32:04 -0500 (EST)
Message-ID: <3BFE886A.63866F55@dynamicsoft.com>
Date: Fri, 23 Nov 2001 12:33:30 -0500
From: Anders Kristensen <akristensen@dynamicsoft.com>
X-Mailer: Mozilla 4.75 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP <sip@ietf.org>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Nit: grammar for display-name
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

The production for display-name and token in bis-05 are:

    token         =  1*(alphanum | "-" | "." | "!" | "%" | "*"
                                 | "_" | "+" | "`" | "'" | "~" )
    display-name  =  LWS (*token | quoted-string)

This is broken as it doesn't allow for LWS between tokens, as in

    From: John Doe <sip:doeboy@example.com>

Also, I suspect the leading LWS is unnecessary, as display-name always
occurs after something that ends in LWS anyway. Probably better not to
match it as part of the display-name, then.


Another nit: The bis-05 example Date header (line 3588) is bogus:

  Date: Sat, 13 Nov 2001 23:29:00 GMT

13 Nov 2001 is a tuesday, not a saturday.

Anders

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 23 16:07:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA23427
	for <sip-archive@odin.ietf.org>; Fri, 23 Nov 2001 16:07:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA08589
	for sip-archive@odin.ietf.org; Fri, 23 Nov 2001 16:07:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA08087;
	Fri, 23 Nov 2001 15:40:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA08053
	for <sip@optimus.ietf.org>; Fri, 23 Nov 2001 15:40:40 -0500 (EST)
Received: from auemail1.firewall.lucent.com (auemail1.lucent.com [192.11.223.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23169
	for <sip@ietf.org>; Fri, 23 Nov 2001 15:40:35 -0500 (EST)
Received: from uk0006exch001h.wins.lucent.com (h135-86-160-150.lucent.com [135.86.160.150])
	by auemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fANKe7O17879
	for <sip@ietf.org>; Fri, 23 Nov 2001 15:40:07 -0500 (EST)
Received: by uk0006exch001h.uk.lucent.com with Internet Mail Service (5.5.2650.21)
	id <XK6NZ2VG>; Fri, 23 Nov 2001 20:40:01 -0000
Message-ID: <475FF955A05DD411980D00508B6D5FB001AC34C7@en0033exch001u.uk.lucent.com>
From: "Drage, Keith (Keith)" <drage@lucent.com>
To: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>,
        "'Henning Schulzrinne'" <hgs@cs.columbia.edu>
Cc: sip@ietf.org
Subject: RE: [Sip] New version of SIP DHCP draft
Date: Fri, 23 Nov 2001 20:39:57 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Could we have a bit more explanation of the discussion with the DHCP folks
and the ADs as to what the issues were (even if it is just a copy of some of
the exchanged mails).

The only discussion we have seen on the main SIP list is that there is an
incompatibility in one area of coding space, which would surely be a fairly
simple fix.

Your response however implies a new draft that would require significant
technical discussions.

Note that one of the 3GPP options requires this draft, but of course from
the UE, 3GPP is using IPv6.

Keith

Keith Drage
Lucent Technologies
Tel: +44 1793 776249
Email: drage@lucent.com

> ----------
> From: 	Henning Schulzrinne[SMTP:hgs@cs.columbia.edu]
> Sent: 	23 November 2001 15:43
> To: 	Miguel A. Garcia
> Cc: 	sip@ietf.org
> Subject: 	Re: [Sip] New version of SIP DHCP draft
> 
> After discussion with the DHCP folks and the ADs, it was decided that
> IPv6 in DHCPv4 doesn't make a whole lot of sense. It would indeed be
> nice if somebody would step forward and write a draft extending the
> DHCPv4 SIP option to DHCPv6. However, to avoid further delays for this
> long-suffering draft, I would strongly suggest that this be a separate
> effort.
> 
> "Miguel A. Garcia" wrote:
> > 
> > Henning:
> > 
> > May I ask if there has been some discussion regarding the support for
> > IPv6 in this draft? I remember some e-mails in the mailing list some
> > time ago, even some volunteer to do the work. Is that work ongoing?
> > In a separate draft, perhaps?
> > 
> > Thanks a lot,
> > 
> >      Miguel
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Fri Nov 23 20:03:05 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id UAA25423
	for <sip-archive@odin.ietf.org>; Fri, 23 Nov 2001 20:03:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id UAA12641
	for sip-archive@odin.ietf.org; Fri, 23 Nov 2001 20:03:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA12100;
	Fri, 23 Nov 2001 19:39:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id TAA12069
	for <sip@optimus.ietf.org>; Fri, 23 Nov 2001 19:39:40 -0500 (EST)
Received: from cs.columbia.edu (cs.columbia.edu [128.59.16.20])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id TAA25290
	for <sip@ietf.org>; Fri, 23 Nov 2001 19:39:36 -0500 (EST)
Received: from bart.cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by cs.columbia.edu (8.9.3/8.9.3) with ESMTP id TAA25983;
	Fri, 23 Nov 2001 19:39:39 -0500 (EST)
Received: from cs.columbia.edu (bart.cs.columbia.edu [128.59.19.191])
	by bart.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAO0da803212;
	Fri, 23 Nov 2001 19:39:37 -0500 (EST)
Message-ID: <3BFEEBA8.215C090D@cs.columbia.edu>
Date: Fri, 23 Nov 2001 19:36:56 -0500
From: Henning Schulzrinne <hgs@cs.columbia.edu>
Organization: Columbia University
X-Mailer: Mozilla 4.76 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>, sip@ietf.org
Subject: Re: [Sip] New version of SIP DHCP draft
References: <475FF955A05DD411980D00508B6D5FB001AC34C7@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



"Drage, Keith (Keith)" wrote:
> 
> Could we have a bit more explanation of the discussion with the DHCP folks
> and the ADs as to what the issues were (even if it is just a copy of some of
> the exchanged mails).

The issue is relatively simple: Currently, DHCP options are defined
either for v4 or v6, but not both. (All RFC 2132 address-based options
are IPv4 addresses, for example, with no means to indicate IPv6
addresses. There are currently no DHCPv6 options beyond the ones
specified in draft-ietf-dhc-dhcpv6-20, as far as I know.)

Thus, including SIP-for-v6 in DHCPv4 would only make sense for rather
strange configurations.

In the simplest case, we can simply inherit the current DHCP-for-SIP
draft and transform it for DHCPv6, by making the option code 16 bits
long and defining a new encoding code for numeric IPv6 addresses.

However, since DHCPv6 is not complete, it would not be a good idea to
create a single document, since that document would have a normative
dependency on DHCPv6. Suffice it to say that DHCPv6 has had a long
history already (the version number provides a clue).

Given that we have now hopefully resolved the basic model for how DHCP
should work for SIP, it should be a simple matter for somebody to take
the current draft, cast it in IPv6 terms and submit it.

> 
> The only discussion we have seen on the main SIP list is that there is an
> incompatibility in one area of coding space, which would surely be a fairly
> simple fix.
> 
> Your response however implies a new draft that would require significant
> technical discussions.
> 
> Note that one of the 3GPP options requires this draft, but of course from
> the UE, 3GPP is using IPv6.

I suspect that getting DHCPv6 done is going to be harder thing, compared
to the relatively trivial SIP-for-DHCP draft. Since it will have taken
almost as long to write the draft as to compose this message, I'll do
the substitutions and submit it after the gates open again, unless
somebody else is dying to do this exciting work.

> 
> Keith
>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sat Nov 24 13:49:15 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA23362
	for <sip-archive@odin.ietf.org>; Sat, 24 Nov 2001 13:49:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA07728
	for sip-archive@odin.ietf.org; Sat, 24 Nov 2001 13:49:17 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06822;
	Sat, 24 Nov 2001 12:47:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA06796
	for <sip@optimus.ietf.org>; Sat, 24 Nov 2001 12:47:13 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA22788
	for <sip@ietf.org>; Sat, 24 Nov 2001 12:47:11 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAOHlBV09035;
	Sat, 24 Nov 2001 12:47:11 -0500 (EST)
Message-ID: <3BFFDD1E.200ED746@cs.columbia.edu>
Date: Sat, 24 Nov 2001 12:47:10 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: "Drage, Keith (Keith)" <drage@lucent.com>
CC: "Miguel A. Garcia" <Miguel.A.Garcia@ericsson.com>, sip@ietf.org
Subject: Re: [Sip] New version of SIP DHCP draft
References: <475FF955A05DD411980D00508B6D5FB001AC34C7@en0033exch001u.uk.lucent.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

http://www.cs.columbia.edu/sip/drafts/draft-ietf-sip-dhcpv6-00.txt is a
first cut at the v6 version. I intend to submit this after the SLC IETF
when the I-D gate opens again. Comments are welcome.
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 25 15:02:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24337
	for <sip-archive@odin.ietf.org>; Sun, 25 Nov 2001 15:02:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA10075
	for sip-archive@odin.ietf.org; Sun, 25 Nov 2001 15:02:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09610;
	Sun, 25 Nov 2001 14:44:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09580
	for <sip@optimus.ietf.org>; Sun, 25 Nov 2001 14:44:22 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24178
	for <sip@ietf.org>; Sun, 25 Nov 2001 14:44:19 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAPJiIV27054;
	Sun, 25 Nov 2001 14:44:18 -0500 (EST)
Message-ID: <3C014A12.3B263AEC@cs.columbia.edu>
Date: Sun, 25 Nov 2001 14:44:18 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: William Marshall <wtm@research.att.com>
CC: sip@ietf.org
Subject: Re: [Sip] REFER security
References: <200111201254.HAA33913@fish.research.att.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

William Marshall wrote:
> 
>
> One piece of the dis-information (D in FUD) seems to derive
> from the example posted frequently about
>    Refer-To: ....url....&method=BYE
> If this were true and valid, it would enable a hacker "out of the blue"
> to cause an existing session to terminate.  What a great denial
> of service attack!  And nothing a carrier can do to prevent it.
> Fortunately, the current refer draft does not allow a "method="
> parameter on the Refer-To header.  Hopefully that stays that way.

I don't see why this has to be anything but a policy decision. For
example, asking somebody within an existing signaling relationship to
SUBSCRIBE seems both useful and, given appropriate safeguards, harmless.

> 
> One piece of the fear (F in FUD) is the problem of charging.  This
> is not a new problem, as it also exists with the 3xx redirect response
> to an INVITE.  The DCS draft (still available on Dean's web site)
> deals with this by having the proxy generate a private-url out of
> the new destination, and include the proper charging information of
> the entity that requested the redirect.  The same design works for
> REFER (and is shown that way in the informational annex of 3GPP 24.228).

This matters only for certain models of charging and might be taking as
illustrating that that charging model is broken...


> What can be said in the draft about a minimum set of recommended
> checks before accepting the refer?  I believe this is the major
> uncertainty (U in FUD).
> 
> As an example of a current use of "REFER" -- how often do you get those
> postcards in the mail saying "you've just won a free vacation, call to
> claim your prize".  The phone number looks like a normal one (e.g. not
> a 900 number), but Carribean Islands are part of the NANP, and charge
> not pennies/minute, but $$$/minute.  While you are waiting on hold "due
> to overwhelming response to our great offer..." you will pay more for
> the phone call than the vacation is worth.  It is a well-known scam.
> The problem is not solved by authentication of the source of the request.

The problem is solved by a resource management protocol that indicates
the charges to be incurred ahead of time. In an IP-based environment,
there is no reason not to include this information before committing.
Indeed, I would consider it similar to the requirement that goods for
sale are labeled with their price. From my limited understanding of
consumer protection laws in most developed countries, not doing this
would incur the wrath of the local equivalent of the FTC. 

This seems to be a primarily a legal problem, rather than a technical
one. We can't, via technology, prevent people from filling in their
credit card number on a web site that promises untold riches or
spiritual salvation by reading science fiction. We should, however, make
it easy for protocols that have connection to charging to provide this
information. Do 3G protocols have this type of information?
-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 25 15:12:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24516
	for <sip-archive@odin.ietf.org>; Sun, 25 Nov 2001 15:12:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA10162
	for sip-archive@odin.ietf.org; Sun, 25 Nov 2001 15:12:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09702;
	Sun, 25 Nov 2001 14:59:13 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA09671
	for <sip@optimus.ietf.org>; Sun, 25 Nov 2001 14:59:11 -0500 (EST)
Received: from opus.cs.columbia.edu (opus.cs.columbia.edu [128.59.20.100])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24306
	for <sip@ietf.org>; Sun, 25 Nov 2001 14:59:08 -0500 (EST)
Received: from cs.columbia.edu (metroliner.cs.columbia.edu [128.59.19.252])
	by opus.cs.columbia.edu (8.10.2+Sun/8.9.3) with ESMTP id fAPJx8V27575;
	Sun, 25 Nov 2001 14:59:08 -0500 (EST)
Message-ID: <3C014D8C.8F799299@cs.columbia.edu>
Date: Sun, 25 Nov 2001 14:59:08 -0500
From: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Organization: Dept. of Computer Science, Columbia University
X-Mailer: Mozilla 4.78 [en] (X11; U; Linux 2.2.19-3cucs i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
CC: sip@ietf.org
Subject: Re: [Sip] REFER security
References: <3BF6D75A.AE3CB1D4@cs.columbia.edu> <15354.55801.889880.920813@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Michael Thomas wrote:
> 

>  > A -- INVITE --> B
>  > A -- REFER (C) -- B
> 
>    I assume this is REFER (C) B->A?

No, A to B, since B ends up sending the INVITE.

> 
>  >                   B --- INVITE --> C
>  >                         R-By: A
> 
>    So the basic thing I don't understand here is who
>    "owns" admission to the session. Ie, who is the
>    ultimate arbiter (if any) of who can join a particular
>    session? If anybody can invite anybody else,
>    does that mean that each participant needs to
>    know the identities of each other participant
>    so that we know that newly arriving invitees
>    aren't, in fact, crashing the party, as it
>    were?

Even if you take existing practice, there's currently nothing that
prevents me from inviting the whole family to listen in on our phone
calls. Note that just because B invites C does not mean that A's audio
will go to C.



-- 
Henning Schulzrinne   http://www.cs.columbia.edu/~hgs

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Sun Nov 25 15:52:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24739
	for <sip-archive@odin.ietf.org>; Sun, 25 Nov 2001 15:52:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA10739
	for sip-archive@odin.ietf.org; Sun, 25 Nov 2001 15:52:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA10632;
	Sun, 25 Nov 2001 15:36:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA10604
	for <sip@optimus.ietf.org>; Sun, 25 Nov 2001 15:36:31 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24663
	for <sip@ietf.org>; Sun, 25 Nov 2001 15:36:27 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fAPKZSl16544;
	Sun, 25 Nov 2001 12:35:28 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAJ73562;
	Sun, 25 Nov 2001 12:34:53 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id MAA25062; Sun, 25 Nov 2001 12:35:28 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15361.22032.106058.826163@thomasm-u1.cisco.com>
Date: Sun, 25 Nov 2001 12:35:28 -0800 (PST)
To: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>
Cc: Michael Thomas <mat@cisco.com>, sip@ietf.org
Subject: Re: [Sip] REFER security
In-Reply-To: <3C014D8C.8F799299@cs.columbia.edu>
References: <3BF6D75A.AE3CB1D4@cs.columbia.edu>
	<15354.55801.889880.920813@thomasm-u1.cisco.com>
	<3C014D8C.8F799299@cs.columbia.edu>
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Henning G. Schulzrinne writes:
 > Michael Thomas wrote:
 > > 
 > 
 > >  > A -- INVITE --> B
 > >  > A -- REFER (C) -- B
 > > 
 > >    I assume this is REFER (C) B->A?
 > 
 > No, A to B, since B ends up sending the INVITE.
 > 
 > > 
 > >  >                   B --- INVITE --> C
 > >  >                         R-By: A
 > > 
 > >    So the basic thing I don't understand here is who
 > >    "owns" admission to the session. Ie, who is the
 > >    ultimate arbiter (if any) of who can join a particular
 > >    session? If anybody can invite anybody else,
 > >    does that mean that each participant needs to
 > >    know the identities of each other participant
 > >    so that we know that newly arriving invitees
 > >    aren't, in fact, crashing the party, as it
 > >    were?
 > 
 > Even if you take existing practice, there's currently nothing that
 > prevents me from inviting the whole family to listen in on our phone
 > calls. Note that just because B invites C does not mean that A's audio
 > will go to C.

As I'm sure you're well aware, party lines are not
something trivially reproducible with IP, unlike
analog pots (eg, with SIP phones, not SIP/FXS POTS
gateways). I'll certainly agree that there's
nothing A can do if B is a b2bua acting like a
mixer/bridge, but if B wants to have A or C incur
the cost and/or set up a multicast conference,
they're going to have to participate, right?

In this particular case (and I'm sorry if I'm
being dense here because I don't have a clear
picture in my mind), I assume that there's already
a session between A and C, and that A wants B to
participate?  (and possibly drop out of the call?)
In that case, how does C know whether B is just
barging in, or whether it was legitimately refered
by A? For example, say that the session wasn't
encrypted and I could snoop the session
information to join a call and set up a media
stream to listen in?

If I'm way off base here, maybe you could say what
the two use scenarios were that you outlined?

	Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 06:40:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA20445
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 06:40:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA05388
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 06:40:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA04672;
	Mon, 26 Nov 2001 06:19:17 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA04641
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 06:19:13 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA19766;
	Mon, 26 Nov 2001 06:19:10 -0500 (EST)
Message-Id: <200111261119.GAA19766@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Mon, 26 Nov 2001 06:19:10 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-guidelines-03.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: Guidelines for Authors of SIP Extensions
	Author(s)	: J. Rosenberg, H. Schulzrinne
	Filename	: draft-ietf-sip-guidelines-03.txt
	Pages		: 16
	Date		: 21-Nov-01
	
The Session Initiation Protocol (SIP) is a flexible, yet simple tool
for establishing interactive connections across the Internet. Part of
this flexibility is the ease with which it can be extended. In order
to facilitate effective and interoperable extensions to SIP, some
guidelines need to be followed when developing SIP extensions. This
document outlines a set of such guidelines for authors of SIP
extensions.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-guidelines-03.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-guidelines-03.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-guidelines-03.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011121142141.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-guidelines-03.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-guidelines-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011121142141.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 09:21:55 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA28295
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 09:21:55 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA08678
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 09:21:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA08395;
	Mon, 26 Nov 2001 09:04:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA08364
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 09:04:43 -0500 (EST)
Received: from prue.eim.surrey.ac.uk (IDENT:exim@prue.eim.surrey.ac.uk [131.227.76.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA27216
	for <sip@ietf.org>; Mon, 26 Nov 2001 09:04:38 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by prue.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 168MN5-00073U-00; Mon, 26 Nov 2001 14:04:31 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 168MN4-0001Yw-00; Mon, 26 Nov 2001 14:04:30 +0000
Date: Mon, 26 Nov 2001 14:04:30 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
cc: sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.
In-Reply-To: <3BFC34C5.DAE5BD01@lmf.ericsson.se>
Message-ID: <Pine.GSO.4.21.0111261403050.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *168MN5-00073U-00*1FjZJV.OBFk* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, Gonzalo,
  could u please tell me where to download the pdf version of bis05?
Thanks very much.
 cheers, lei

On Thu, 22 Nov 2001, Gonzalo Camarillo wrote:

> Hello,
> 
> Lines 1844-1850 of the PDF version of bis-05 cover this.
> 
> Regards,
> 
> Gonzalo
> 
> Lei Liang wrote:
> > 
> > hi, everybody,
> >   i am not sure what will happen if a UAS receives more than one invite
> > from different poeple in the  same conference at the same time or almost
> > the same time that it hasn't sent out  a final response for any one of
> > them. will the UAS accept the first one and tell the rest it has join the
> > conference automatically or the user has to choose one of them manually or
> > establish calls with all of them. clearly the last choice is not necessary
> > and waste of bandwidth. does't any document mention this case? thanks.
> > lei
> > 
> > On Wed, 21 Nov 2001, James M. Polk wrote:
> > 
> > >
> > > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > > >jmpolk@cisco.com writes:
> > > >
> > > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > > >>  >To all,
> > > >>  >
> > > >>  >I have the following comments on draft-polk-sip-resource-00:
> > > >>  >
> > > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".'
> > > >This
> > > >>  >should reference some of the values defined in Section 3.
> > > >>
> > > >>  This is a generic example that most can understand -- that's why it was
> > > >used.
> > > >>
> > > >>  James M. Polk
> > > >>  Consulting Engineer
> > > >>  Office of the CTO
> > > >>
> > > >>  Cisco Systems
> > > >
> > > >I'll respond to each item in a separate e-mail so they don't get so lengthy.
> > > >
> > > >Although "urgent" and "normal" are generic words, they are not the ones used
> > > >in this document. Use of these words as examples here would confuse someone -
> > > >If they were unaware of the details of the current Priority Header, they
> > > >would be confused. If they were aware of the current Priority Header, they
> > > >would be lead to believe that the definition of the value in this new Header
> > > >were somehow related to the one in the Priority Header. I listed this as a
> > > >"nit", since it was clearly a cut and paste error.
> > >
> > > This phrase is intended as a comparison -- do you think that most or even some
> > > people would believe that there isn't a difference between "urgent" and
> > > "normal". In relative terms, probably not. And this was the intent.
> > >
> > > >
> > > >Mike Pierce
> > > >Artel
> > >
> > > *************************************
> > > "People generally demand more respect for their own rights than they are
> > > willing to allow for others"
> > >
> > > James M. Polk
> > > Consulting Engineer
> > > Office of the CTO
> > >
> > > Cisco Systems
> > > 2200 East President George Bush Turnpike
> > > Richardson, TX  75082 USA
> > > w) 972.813.5208
> > > f)  972.813.5280
> > > www.cisco.com
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 09:44:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA29996
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 09:44:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA09343
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 09:44:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA08778;
	Mon, 26 Nov 2001 09:24:23 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA08751
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 09:24:21 -0500 (EST)
Received: from mgw-x2.nokia.com (mgw-x2.nokia.com [131.228.20.22])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA28485
	for <sip@ietf.org>; Mon, 26 Nov 2001 09:24:13 -0500 (EST)
From: Inmaculada.Espigares@nokia.com
Received: from esvir03nok.nokia.com (esvir03nokt.ntc.nokia.com [172.21.143.35])
	by mgw-x2.nokia.com (Switch-2.1.0/Switch-2.1.0) with ESMTP id fAQEOnA05407
	for <sip@ietf.org>; Mon, 26 Nov 2001 16:24:49 +0200 (EET)
Received: from esebh25nok.ntc.nokia.com (unverified) by esvir03nok.nokia.com
 (Content Technologies SMTPRS 4.2.5) with ESMTP id <T5775e1282aac158f2313c@esvir03nok.nokia.com>;
 Mon, 26 Nov 2001 16:24:04 +0200
Received: by esebh25nok with Internet Mail Service (5.5.2652.78)
	id <XP21YPHW>; Mon, 26 Nov 2001 16:24:03 +0200
Message-ID: <BDE6795F544BC340B981319B8063F38DBA1588@esebe015.NOE.Nokia.com>
To: l.liang@eim.surrey.ac.uk
Cc: sip@ietf.org
Subject: RE: [Sip] if receive two invite at the same time.
Date: Mon, 26 Nov 2001 16:23:50 +0200
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2652.78)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi,
You can get it from:
http://www.jdrosen.net/papers/draft-ietf-sip-rfc2543bis-05.pdf
BR,
Queca

-----Original Message-----
From: ext Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
Sent: 26. November 2001 16:05
To: Gonzalo Camarillo
Cc: sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.


hi, Gonzalo,
  could u please tell me where to download the pdf version of bis05?
Thanks very much.
 cheers, lei

On Thu, 22 Nov 2001, Gonzalo Camarillo wrote:

> Hello,
> 
> Lines 1844-1850 of the PDF version of bis-05 cover this.
> 
> Regards,
> 
> Gonzalo
> 
> Lei Liang wrote:
> > 
> > hi, everybody,
> >   i am not sure what will happen if a UAS receives more than one invite
> > from different poeple in the  same conference at the same time or almost
> > the same time that it hasn't sent out  a final response for any one of
> > them. will the UAS accept the first one and tell the rest it has join
the
> > conference automatically or the user has to choose one of them manually
or
> > establish calls with all of them. clearly the last choice is not
necessary
> > and waste of bandwidth. does't any document mention this case? thanks.
> > lei
> > 
> > On Wed, 21 Nov 2001, James M. Polk wrote:
> > 
> > >
> > > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > > >jmpolk@cisco.com writes:
> > > >
> > > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > > >>  >To all,
> > > >>  >
> > > >>  >I have the following comments on draft-polk-sip-resource-00:
> > > >>  >
> > > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and
normal".'
> > > >This
> > > >>  >should reference some of the values defined in Section 3.
> > > >>
> > > >>  This is a generic example that most can understand -- that's why
it was
> > > >used.
> > > >>
> > > >>  James M. Polk
> > > >>  Consulting Engineer
> > > >>  Office of the CTO
> > > >>
> > > >>  Cisco Systems
> > > >
> > > >I'll respond to each item in a separate e-mail so they don't get so
lengthy.
> > > >
> > > >Although "urgent" and "normal" are generic words, they are not the
ones used
> > > >in this document. Use of these words as examples here would confuse
someone -
> > > >If they were unaware of the details of the current Priority Header,
they
> > > >would be confused. If they were aware of the current Priority Header,
they
> > > >would be lead to believe that the definition of the value in this new
Header
> > > >were somehow related to the one in the Priority Header. I listed this
as a
> > > >"nit", since it was clearly a cut and paste error.
> > >
> > > This phrase is intended as a comparison -- do you think that most or
even some
> > > people would believe that there isn't a difference between "urgent"
and
> > > "normal". In relative terms, probably not. And this was the intent.
> > >
> > > >
> > > >Mike Pierce
> > > >Artel
> > >
> > > *************************************
> > > "People generally demand more respect for their own rights than they
are
> > > willing to allow for others"
> > >
> > > James M. Polk
> > > Consulting Engineer
> > > Office of the CTO
> > >
> > > Cisco Systems
> > > 2200 East President George Bush Turnpike
> > > Richardson, TX  75082 USA
> > > w) 972.813.5208
> > > f)  972.813.5280
> > > www.cisco.com
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 10:22:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA02754
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 10:22:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA10190
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 10:22:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA09951;
	Mon, 26 Nov 2001 10:09:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA09921
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 10:09:22 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01861
	for <sip@ietf.org>; Mon, 26 Nov 2001 10:09:18 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAQF7N7x001503;
	Mon, 26 Nov 2001 10:07:23 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4LTT>; Mon, 26 Nov 2001 10:08:48 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E810@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Inmaculada.Espigares@nokia.com'" <Inmaculada.Espigares@nokia.com>,
        l.liang@eim.surrey.ac.uk
Cc: sip@ietf.org
Subject: RE: [Sip] if receive two invite at the same time.
Date: Mon, 26 Nov 2001 10:08:42 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Its also available in the ietf draft repository
http://www.ietf.org/internet-drafts/draft-ietf-sip-rfc2543bis-05.pdf

RjS

> -----Original Message-----
> From: Inmaculada.Espigares@nokia.com
> [mailto:Inmaculada.Espigares@nokia.com]
> Sent: Monday, November 26, 2001 8:24 AM
> To: l.liang@eim.surrey.ac.uk
> Cc: sip@ietf.org
> Subject: RE: [Sip] if receive two invite at the same time.
> 
> 
> Hi,
> You can get it from:
> http://www.jdrosen.net/papers/draft-ietf-sip-rfc2543bis-05.pdf
> BR,
> Queca
> 
> -----Original Message-----
> From: ext Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: 26. November 2001 16:05
> To: Gonzalo Camarillo
> Cc: sip@ietf.org
> Subject: Re: [Sip] if receive two invite at the same time.
> 
> 
> hi, Gonzalo,
>   could u please tell me where to download the pdf version of bis05?
> Thanks very much.
>  cheers, lei
> 
> On Thu, 22 Nov 2001, Gonzalo Camarillo wrote:
> 
> > Hello,
> > 
> > Lines 1844-1850 of the PDF version of bis-05 cover this.
> > 
> > Regards,
> > 
> > Gonzalo
> > 
> > Lei Liang wrote:
> > > 
> > > hi, everybody,
> > >   i am not sure what will happen if a UAS receives more 
> than one invite
> > > from different poeple in the  same conference at the same 
> time or almost
> > > the same time that it hasn't sent out  a final response 
> for any one of
> > > them. will the UAS accept the first one and tell the rest 
> it has join
> the
> > > conference automatically or the user has to choose one of 
> them manually
> or
> > > establish calls with all of them. clearly the last choice is not
> necessary
> > > and waste of bandwidth. does't any document mention this 
> case? thanks.
> > > lei
> > > 
> > > On Wed, 21 Nov 2001, James M. Polk wrote:
> > > 
> > > >
> > > > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > > > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > > > >jmpolk@cisco.com writes:
> > > > >
> > > > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > > > >>  >To all,
> > > > >>  >
> > > > >>  >I have the following comments on 
> draft-polk-sip-resource-00:
> > > > >>  >
> > > > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and
> normal".'
> > > > >This
> > > > >>  >should reference some of the values defined in Section 3.
> > > > >>
> > > > >>  This is a generic example that most can understand 
> -- that's why
> it was
> > > > >used.
> > > > >>
> > > > >>  James M. Polk
> > > > >>  Consulting Engineer
> > > > >>  Office of the CTO
> > > > >>
> > > > >>  Cisco Systems
> > > > >
> > > > >I'll respond to each item in a separate e-mail so they 
> don't get so
> lengthy.
> > > > >
> > > > >Although "urgent" and "normal" are generic words, they 
> are not the
> ones used
> > > > >in this document. Use of these words as examples here 
> would confuse
> someone -
> > > > >If they were unaware of the details of the current 
> Priority Header,
> they
> > > > >would be confused. If they were aware of the current 
> Priority Header,
> they
> > > > >would be lead to believe that the definition of the 
> value in this new
> Header
> > > > >were somehow related to the one in the Priority 
> Header. I listed this
> as a
> > > > >"nit", since it was clearly a cut and paste error.
> > > >
> > > > This phrase is intended as a comparison -- do you think 
> that most or
> even some
> > > > people would believe that there isn't a difference 
> between "urgent"
> and
> > > > "normal". In relative terms, probably not. And this was 
> the intent.
> > > >
> > > > >
> > > > >Mike Pierce
> > > > >Artel
> > > >
> > > > *************************************
> > > > "People generally demand more respect for their own 
> rights than they
> are
> > > > willing to allow for others"
> > > >
> > > > James M. Polk
> > > > Consulting Engineer
> > > > Office of the CTO
> > > >
> > > > Cisco Systems
> > > > 2200 East President George Bush Turnpike
> > > > Richardson, TX  75082 USA
> > > > w) 972.813.5208
> > > > f)  972.813.5280
> > > > www.cisco.com
> > > 
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the 
> application of sip
> > 
> > -- 
> > Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> > Columbia University                  Mobile:  +358 40 702 35 35
> > 472 Computer Science Building        Fax   :  +358  9 299 30 52
> > 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> > New York, NY 10027                   
> > USA                              Gonzalo.Camarillo@ericsson.com
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> > 
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 10:57:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05930
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 10:57:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA12378
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 10:57:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA10815;
	Mon, 26 Nov 2001 10:38:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA10786
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 10:38:16 -0500 (EST)
Received: from argyre.fr.uu.net (mail.fr.uu.net [194.98.0.9])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04015
	for <sip@ietf.org>; Mon, 26 Nov 2001 10:38:12 -0500 (EST)
From: annuaire@annuairefrancais.com
Received: from [213.11.39.71] ([213.11.39.71])
	by argyre.fr.uu.net (8.9.3/8.8.7) with SMTP id QAA13436
	for <sip@ietf.org>; Mon, 26 Nov 2001 16:44:52 +0100 (MET)
Message-Id: <200111261544.QAA13436@argyre.fr.uu.net>
Mime-Version: 1.0
Content-Type: text/plain;charset="us-ascii"
Content-Transfer-Encoding: 7bit
Date: Mon, 26 Nov 2001 16:37:11 +0100
To: sip@ietf.org
Content-Transfer-Encoding: 7bit
Subject: [Sip] Info : L'Annuaire Francais par Departement facilite vos recherches
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Bonjour,

L'annuaire Francais Par departement http://www.annuairefrancais.com integre desormais un moteur de recherche pour affiner vos recherches sur le web.

L'inscription reste gratuite et la validation toujours manuelle. L'adresse d'inscription est desormais http://inscrip.annuairefrancais.com

Pour toutes suggestions contactez par mail :
direction : laurent@annuairefrancais.com
validation : validation@annuairefrancais.com
publicite : publicite@annuairefrancais.com
partenariat : partenariat@annuairefrancais.com

INFORMATIONS :
retrait de notre liste d'info : http://supressinfo.annuairefrancais.com
(L'annuaire francais envoi 2 infos par an)

L'annuaire Francais
119 Rue des Pyrenees
75020 PARIS
+33 (0)1 43 67 00 74

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 11:53:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA11570
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 11:53:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA16461
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 11:53:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15402;
	Mon, 26 Nov 2001 11:34:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15308
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 11:34:31 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA09297
	for <sip@ietf.org>; Mon, 26 Nov 2001 11:34:22 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 168OiB-0006EK-00; Mon, 26 Nov 2001 16:34:27 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 168Oi4-0001qp-00; Mon, 26 Nov 2001 16:34:20 +0000
Date: Mon, 26 Nov 2001 16:34:20 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
cc: sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.
In-Reply-To: <3BFC34C5.DAE5BD01@lmf.ericsson.se>
Message-ID: <Pine.GSO.4.21.0111261610030.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *168OiB-0006EK-00*6Ex783jH68E* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi, falks,
   in the bis-05, it was mentioned that if a UAS receive multiple INVITE
from the same conference that it has been in, it will "silently" accept
the INVITE. 

firstly, I wondered what the "silently" mean. does
it mean that the USA send 2xx response or not? 

secondly, for a multipart multicast conference involving large number of
users, because each of them don't need to know who is participating the
conference, it's possibly that they will send out requests to every one
who has been in and when it tries to leave it will send BYE  to everyone
who has sip relation with it. wasn't it a waste of resource?
 
cheers.
lei



On Thu, 22 Nov 2001, Gonzalo Camarillo wrote:

> Hello,
> 
> Lines 1844-1850 of the PDF version of bis-05 cover this.
> 
> Regards,
> 
> Gonzalo
> 
> Lei Liang wrote:
> > 
> > hi, everybody,
> >   i am not sure what will happen if a UAS receives more than one invite
> > from different poeple in the  same conference at the same time or almost
> > the same time that it hasn't sent out  a final response for any one of
> > them. will the UAS accept the first one and tell the rest it has join the
> > conference automatically or the user has to choose one of them manually or
> > establish calls with all of them. clearly the last choice is not necessary
> > and waste of bandwidth. does't any document mention this case? thanks.
> > lei
> > 
> > On Wed, 21 Nov 2001, James M. Polk wrote:
> > 
> > >
> > > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > > >jmpolk@cisco.com writes:
> > > >
> > > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > > >>  >To all,
> > > >>  >
> > > >>  >I have the following comments on draft-polk-sip-resource-00:
> > > >>  >
> > > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".'
> > > >This
> > > >>  >should reference some of the values defined in Section 3.
> > > >>
> > > >>  This is a generic example that most can understand -- that's why it was
> > > >used.
> > > >>
> > > >>  James M. Polk
> > > >>  Consulting Engineer
> > > >>  Office of the CTO
> > > >>
> > > >>  Cisco Systems
> > > >
> > > >I'll respond to each item in a separate e-mail so they don't get so lengthy.
> > > >
> > > >Although "urgent" and "normal" are generic words, they are not the ones used
> > > >in this document. Use of these words as examples here would confuse someone -
> > > >If they were unaware of the details of the current Priority Header, they
> > > >would be confused. If they were aware of the current Priority Header, they
> > > >would be lead to believe that the definition of the value in this new Header
> > > >were somehow related to the one in the Priority Header. I listed this as a
> > > >"nit", since it was clearly a cut and paste error.
> > >
> > > This phrase is intended as a comparison -- do you think that most or even some
> > > people would believe that there isn't a difference between "urgent" and
> > > "normal". In relative terms, probably not. And this was the intent.
> > >
> > > >
> > > >Mike Pierce
> > > >Artel
> > >
> > > *************************************
> > > "People generally demand more respect for their own rights than they are
> > > willing to allow for others"
> > >
> > > James M. Polk
> > > Consulting Engineer
> > > Office of the CTO
> > >
> > > Cisco Systems
> > > 2200 East President George Bush Turnpike
> > > Richardson, TX  75082 USA
> > > w) 972.813.5208
> > > f)  972.813.5280
> > > www.cisco.com
> > 
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> 
> -- 
> Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> Columbia University                  Mobile:  +358 40 702 35 35
> 472 Computer Science Building        Fax   :  +358  9 299 30 52
> 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> New York, NY 10027                   
> USA                              Gonzalo.Camarillo@ericsson.com
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:00:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12096
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:00:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA17498
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:00:36 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15705;
	Mon, 26 Nov 2001 11:43:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA14172
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 11:28:56 -0500 (EST)
Received: from relay5.kornet.net ([211.48.62.165])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08557
	for <sip@ietf.org>; Mon, 26 Nov 2001 11:28:47 -0500 (EST)
Received: from localhost (61.72.136.249) by relay5.kornet.net; 27 Nov 2001 01:28:39 +0900
Message-ID: <3c026db73c1dc003@relay5.kornet.net> (added by relay5.kornet.net)
Reply-To: salearea3@airtkcketauction.co.kr
From: ()<happydawn@orgio.net>
To: sip@ietf.org
Mime-Version: 1.0
Content-Type: text/html; charset="ks_c_5601-1987"
Date: Tue, 27 Nov 2001 01:34:48 +0900
Subject: [Sip] []    .
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

<!-- saved from url=(0022)http://internet.e-mail -->
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=euc-kr">
<title>      ,     </title>
<meta name="generator" content="Namo WebEditor v5.0">
<style>

body {font-size:12px;}

p  {font-size:12px;}

td  {font-size:12px;}

a  {TEXT-DECORATION: NONE; COLOR:#000099}

a:hover {TEXT-DECORATION: NONE;  COLOR:#0000ff}

text {font-size:12px;}

select {font-size:9pt; line-height:9pt;}



</style>
</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red" style="font-size:9pt;">
<table border="1" cellspacing="0" width="548" bordercolordark="white" bordercolorlight="#CCCCCC">
    <tr>
        <td width="749">
            <p><img src="http://www.airticketauction.co.kr/mcm_event.gif" width="548" height="363" border="0"></p>
            <table align="center">

<TR>
<TD>&nbsp;&nbsp;      ,     <BR>&nbsp;&nbsp;&nbsp;&nbsp;.    
    <BR>&nbsp;&nbsp;&nbsp;&nbsp;. </TD></TR>
<TR>
<FORM name=event action=form6.cgi method=post>
<TD align=middle height=54> <a href='mailto:delmail@airticketauction.co.kr?subject=&amp;body=">'></a> </TD></FORM></TR>
        </table>
    </td>
    </tr>
</table>
<p>&nbsp;</p>
</body>

</html>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:01:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12280
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:01:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA17931
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:02:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA16115;
	Mon, 26 Nov 2001 11:47:03 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA16049
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 11:46:57 -0500 (EST)
Received: from sj-msg-core-2.cisco.com (sj-msg-core-2.cisco.com [171.69.24.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10991
	for <sip@ietf.org>; Mon, 26 Nov 2001 11:46:52 -0500 (EST)
Received: from mira-sjc5-9.cisco.com (mira-sjc5-9.cisco.com [171.71.163.32])
	by sj-msg-core-2.cisco.com (8.11.3/8.9.1) with ESMTP id fAQGkNE07692
	for <sip@ietf.org>; Mon, 26 Nov 2001 08:46:23 -0800 (PST)
Received: from CJ650 (ssh-sj1.cisco.com [171.68.225.134])
	by mira-sjc5-9.cisco.com (Mirapoint)
	with SMTP id ABM86750;
	Mon, 26 Nov 2001 08:46:27 -0800 (PST)
From: "Cullen Jennings" <fluffy@cisco.com>
To: <sip@ietf.org>
Date: Mon, 26 Nov 2001 08:49:31 -0800
Message-ID: <MFEJKLHKCMNFOPKPHMBPIEALCBAA.fluffy@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Content-Transfer-Encoding: 7bit
Subject: [Sip] SCTP address in draft-ietf-sip-sctp-00
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


I think SCTP is an excellent transport for high availability SIP proxies.

A SCTP destination can consist of a list of IP addresses and a port.
Imagine that I want to send an invite to a proxy that is listening at
24.1.1.20 and 24.1.1.21 on port 5061 over SCTP. What is the syntax to do
this?
Should we have a syntax for this or just rely on everyone using DNS to
specify a SCTP address?

Thanks, Cullen







_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:08:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA12778
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:08:31 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18251
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:08:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA16002;
	Mon, 26 Nov 2001 11:46:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA15971
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 11:46:29 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA10960
	for <sip@ietf.org>; Mon, 26 Nov 2001 11:46:25 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id A1E46B7018E; Mon, 26 Nov 2001 11:46:28 -0500
Message-ID: <007401c17699$6bc17940$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>, <sip@ietf.org>
Date: Mon, 26 Nov 2001 11:42:21 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-Mimeole: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Subject: [Sip] Review of draft-ietf-sip-refer-02
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Here are my comments on the refer draft. I apologize if some of these items
have been raised before.

1) section 1. "SIP" is repeated in the second sentence.

2) section 3: I think the fact that the recipient's response simply accepts
the request and that a subsequent notification indicates that "the recipient
was able to contact the third party" should be expressed in the first
paragraph. I realize this is explicit later in the draft, but a "success
response" might be misinterpreted.

3) section 3.1: I suggest replacing "It provides a URL to reference" with:

    "The URL in the Refer-To header provides the contact information
    (i.e. the target of the reference) to the recipient."

in order to make a direct connection to the "contact information" mentioned
in section 3.

4) section 3.1: should this section reference RFC 2396 for valid URLs? Are
there any types of URLs which are invalid?

5) section 3.1, next to last para: s/end-end/end-to-end/

6) section 3.2, last para: s/end-end/end-to-end/

7) section 3.5.1 should explicitly mention the usage of the method parameter
in a SIP URL. It is not clear what a SIP INVITE URL is. I assume it is a SIP
URL with method=INVITE parameter or no method parameter (thus defaulting to
INVITE).

8) Question: is it legal for a Refer-To SIP URL to identify an existing
dialog that the recipient is a party to for the purposes of causing the
recipient to send a request for that dialog?

9) section 3.5.3.3, 1st sentence: s/identifers/identifiers/

10) section 3.8.2, 1st sentence: s/existance/existence/

11) section 3.8.2. Might want to point out that the cseq parameter in
present in message seven to distinguish the notification.

12) section 3.9. If it is legal to identify an existing dialog in a Refer-To
SIP URL, there should be some discussion of the possibility of a malicious
third party injecting requests (such as BYE) into an existing dialog.

13) section 4, 3rd para: s/referrenced/referenced/ (2 times)

cheers,
(-:bob

Robert F. Penfield
Chief Software Architect
Acme Packet, Inc.
130 New Boston Street
Woburn, MA 01801
bpenfield@acmepacket.com



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:29:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA14672
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:29:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA18774
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:29:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18489;
	Mon, 26 Nov 2001 12:16:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA18458
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 12:16:19 -0500 (EST)
Received: from june.Broomfield1.level3.net (june.Broomfield1.Level3.net [209.245.18.7])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA13572
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:16:15 -0500 (EST)
From: John.Hearty@Level3.com
Received: from f1ee40-19.idc1.level3.com (hme0.f1ee40-19.idc1.oss.level3.com [10.1.144.204])
	by june.Broomfield1.level3.net (8.9.3/8.9.3) with ESMTP id RAA03008;
	Mon, 26 Nov 2001 17:16:21 GMT
Received: from n0195idc1.oss.level3.com (localhost [127.0.0.1])
	by f1ee40-19.idc1.level3.com (8.8.8+Sun/8.8.8) with ESMTP id RAA08246;
	Mon, 26 Nov 2001 17:16:17 GMT
Received: by n0195idc1.oss.level3.com with Internet Mail Service (5.5.2653.19)
	id <WVPS3N1R>; Mon, 26 Nov 2001 10:16:16 -0700
Message-ID: <17052388D394D411803900508BDFFAF601B3702E@n0214idc1.oss.level3.com>
To: l.liang@eim.surrey.ac.uk, Gonzalo.Camarillo@lmf.ericsson.se
Cc: sip@ietf.org
Subject: RE: [Sip] if receive two invite at the same time.
Date: Mon, 26 Nov 2001 10:16:16 -0700
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Monday, November 26, 2001 9:34 AM
> To: Gonzalo Camarillo
> Cc: sip@ietf.org
> Subject: Re: [Sip] if receive two invite at the same time.
> 
> 
> Hi, falks,
>    in the bis-05, it was mentioned that if a UAS receive 
> multiple INVITE
> from the same conference that it has been in, it will 
> "silently" accept
> the INVITE. 
> 
> firstly, I wondered what the "silently" mean. does
> it mean that the USA send 2xx response or not? 

I brought this up in my nits list, Jonathan confirmed 2xx is sent.  Since at
least two people were not fully clear on this, it might need a bit of
re-wording in the next version.

John Hearty
Level3


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:50:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA16123
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:50:11 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA19858
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:50:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19451;
	Mon, 26 Nov 2001 12:36:20 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19424
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 12:36:17 -0500 (EST)
Received: from mail.pingtel.com (IDENT:root@mail.pingtel.com [216.91.1.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA15084
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:36:14 -0500 (EST)
Received: from pingtel.com (cdhcp141.pingtel.com [10.1.1.141])
	by mail.pingtel.com (8.11.0/8.11.0) with ESMTP id fAQHXRW16216;
	Mon, 26 Nov 2001 12:33:27 -0500
Message-ID: <3C027C1F.93799D27@pingtel.com>
Date: Mon, 26 Nov 2001 12:30:07 -0500
From: "Daniel G. Petrie" <dpetrie@pingtel.com>
Organization: Pingtel Corp.  http://www.pingtel.com
X-Mailer: Mozilla 4.73 [en]C-{C-UDP; EBM-SONY1}  (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Michael Thomas <mat@cisco.com>
CC: "Henning G. Schulzrinne" <hgs@cs.columbia.edu>, sip@ietf.org,
        Robert Sparks <rsparks@dynamicsoft.com>
Subject: Re: [Sip] REFER security
References: <3BF6D75A.AE3CB1D4@cs.columbia.edu>
		<15354.55801.889880.920813@thomasm-u1.cisco.com>
		<3C014D8C.8F799299@cs.columbia.edu> <15361.22032.106058.826163@thomasm-u1.cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I agree with Robert and Henning.  This is
all solvable with a policy mechanism on the
UA.  The difficulty is coming up with a policy
rules mechanism that mortals can comprehend
enough to allow the desired functionality and
disallow the undesired functionality.  I would
hope that we could come up with a standard
way to represent the rules.

Too bad we don't have a sanctioned effort
on standardizing UA configuration. ;-)


Michael Thomas wrote:

> Henning G. Schulzrinne writes:
>  > Michael Thomas wrote:
>  > >
>  >
>  > >  > A -- INVITE --> B
>  > >  > A -- REFER (C) -- B
>  > >
>  > >    I assume this is REFER (C) B->A?
>  >
>  > No, A to B, since B ends up sending the INVITE.
>  >
>  > >
>  > >  >                   B --- INVITE --> C
>  > >  >                         R-By: A
>  > >
>  > >    So the basic thing I don't understand here is who
>  > >    "owns" admission to the session. Ie, who is the
>  > >    ultimate arbiter (if any) of who can join a particular
>  > >    session? If anybody can invite anybody else,
>  > >    does that mean that each participant needs to
>  > >    know the identities of each other participant
>  > >    so that we know that newly arriving invitees
>  > >    aren't, in fact, crashing the party, as it
>  > >    were?
>  >
>  > Even if you take existing practice, there's currently nothing that
>  > prevents me from inviting the whole family to listen in on our phone
>  > calls. Note that just because B invites C does not mean that A's audio
>  > will go to C.
>
> As I'm sure you're well aware, party lines are not
> something trivially reproducible with IP, unlike
> analog pots (eg, with SIP phones, not SIP/FXS POTS
> gateways). I'll certainly agree that there's
> nothing A can do if B is a b2bua acting like a
> mixer/bridge, but if B wants to have A or C incur
> the cost and/or set up a multicast conference,
> they're going to have to participate, right?
>
> In this particular case (and I'm sorry if I'm
> being dense here because I don't have a clear
> picture in my mind), I assume that there's already
> a session between A and C, and that A wants B to
> participate?  (and possibly drop out of the call?)
> In that case, how does C know whether B is just
> barging in, or whether it was legitimately refered
> by A? For example, say that the session wasn't
> encrypted and I could snoop the session
> information to join a call and set up a media
> stream to listen in?
>
> If I'm way off base here, maybe you could say what
> the two use scenarios were that you outlined?
>
>         Mike
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:53:42 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA16299
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:53:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA19912
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:53:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19191;
	Mon, 26 Nov 2001 12:33:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19165
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 12:33:19 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA14961
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:33:16 -0500 (EST)
Received: from mr6.exu.ericsson.se (mr6att.ericy.com [138.85.92.14])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fAQHWGY19732;
	Mon, 26 Nov 2001 11:32:16 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr6.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fAQHWGX18695;
	Mon, 26 Nov 2001 11:32:16 -0600 (CST)
Received: from lmf.ericsson.se (rmt160233.am.ericsson.se [138.85.160.233]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id LAA05364; Mon, 26 Nov 2001 11:32:13 -0600 (CST)
Message-ID: <3C028230.D32475B0@lmf.ericsson.se>
Date: Mon, 26 Nov 2001 19:56:00 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Lei Liang <l.liang@eim.surrey.ac.uk>
CC: sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.
References: <Pine.GSO.4.21.0111261610030.14131-100000@hermes.ee.surrey.ac.uk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

Lei Liang wrote:
> 
> Hi, falks,
>    in the bis-05, it was mentioned that if a UAS receive multiple INVITE
> from the same conference that it has been in, it will "silently" accept
> the INVITE.
> 
> firstly, I wondered what the "silently" mean. does
> it mean that the USA send 2xx response or not?
> 

It means that it sends the 2xx response but it does not alert the user.


> secondly, for a multipart multicast conference involving large number of
> users, because each of them don't need to know who is participating the
> conference, it's possibly that they will send out requests to every one
> who has been in and when it tries to leave it will send BYE  to everyone
> who has sip relation with it. wasn't it a waste of resource?
> 

No, it is not. The BYE will terminate the dialog between them

Regards,

Gonzalo


> cheers.
> lei
> 
> On Thu, 22 Nov 2001, Gonzalo Camarillo wrote:
> 
> > Hello,
> >
> > Lines 1844-1850 of the PDF version of bis-05 cover this.
> >
> > Regards,
> >
> > Gonzalo
> >
> > Lei Liang wrote:
> > >
> > > hi, everybody,
> > >   i am not sure what will happen if a UAS receives more than one invite
> > > from different poeple in the  same conference at the same time or almost
> > > the same time that it hasn't sent out  a final response for any one of
> > > them. will the UAS accept the first one and tell the rest it has join the
> > > conference automatically or the user has to choose one of them manually or
> > > establish calls with all of them. clearly the last choice is not necessary
> > > and waste of bandwidth. does't any document mention this case? thanks.
> > > lei
> > >
> > > On Wed, 21 Nov 2001, James M. Polk wrote:
> > >
> > > >
> > > > At 11:08 AM 11/21/2001 -0500, Mpierce1@aol.com wrote:
> > > > >In a message dated 11/20/01 1:13:06 PM Eastern Standard Time,
> > > > >jmpolk@cisco.com writes:
> > > > >
> > > > >> At 10:24 PM 11/19/2001 -0500, Mpierce1@aol.com wrote:
> > > > >>  >To all,
> > > > >>  >
> > > > >>  >I have the following comments on draft-polk-sip-resource-00:
> > > > >>  >
> > > > >>  >Nits: Section 4 gives example of 'e.g., "between urgent and normal".'
> > > > >This
> > > > >>  >should reference some of the values defined in Section 3.
> > > > >>
> > > > >>  This is a generic example that most can understand -- that's why it was
> > > > >used.
> > > > >>
> > > > >>  James M. Polk
> > > > >>  Consulting Engineer
> > > > >>  Office of the CTO
> > > > >>
> > > > >>  Cisco Systems
> > > > >
> > > > >I'll respond to each item in a separate e-mail so they don't get so lengthy.
> > > > >
> > > > >Although "urgent" and "normal" are generic words, they are not the ones used
> > > > >in this document. Use of these words as examples here would confuse someone -
> > > > >If they were unaware of the details of the current Priority Header, they
> > > > >would be confused. If they were aware of the current Priority Header, they
> > > > >would be lead to believe that the definition of the value in this new Header
> > > > >were somehow related to the one in the Priority Header. I listed this as a
> > > > >"nit", since it was clearly a cut and paste error.
> > > >
> > > > This phrase is intended as a comparison -- do you think that most or even some
> > > > people would believe that there isn't a difference between "urgent" and
> > > > "normal". In relative terms, probably not. And this was the intent.
> > > >
> > > > >
> > > > >Mike Pierce
> > > > >Artel
> > > >
> > > > *************************************
> > > > "People generally demand more respect for their own rights than they are
> > > > willing to allow for others"
> > > >
> > > > James M. Polk
> > > > Consulting Engineer
> > > > Office of the CTO
> > > >
> > > > Cisco Systems
> > > > 2200 East President George Bush Turnpike
> > > > Richardson, TX  75082 USA
> > > > w) 972.813.5208
> > > > f)  972.813.5280
> > > > www.cisco.com
> > >
> > > _______________________________________________
> > > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > > This list is for NEW development of the core SIP Protocol
> > > Use sip-implementors@cs.columbia.edu for questions on current sip
> > > Use sipping@ietf.org for new developments on the application of sip
> >
> > --
> > Gonzalo Camarillo                    Phone :   +1 212 939 71 71
> > Columbia University                  Mobile:  +358 40 702 35 35
> > 472 Computer Science Building        Fax   :  +358  9 299 30 52
> > 1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
> > New York, NY 10027
> > USA                              Gonzalo.Camarillo@ericsson.com
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 12:54:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA16321
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 12:54:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA19929
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 12:54:01 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19328;
	Mon, 26 Nov 2001 12:34:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19297
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 12:34:09 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA15003
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:34:06 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAQHWC7x002964;
	Mon, 26 Nov 2001 12:32:12 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4MH6>; Mon, 26 Nov 2001 12:33:38 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D6FD5@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] Translate header in draft-ietf-sip-nat-00.txt
Date: Mon, 26 Nov 2001 12:33:36 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I have revved this draft.

responses inline.

> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Friday, September 07, 2001 9:03 PM
> To: sip@ietf.org
> Subject: [Sip] Translate header in draft-ietf-sip-nat-00.txt
> 
> 
> Hi,
> 
> In draft-ietf-sip-nat-00.txt, Jonathan describes a new header 
> called the 
> Translate header that is used to translate the Contact in a 
> REGISTER into 
> the address received for that Contact in the received and 
> rport Via parameters.
> 
> Based on my quick read of the draft, it seems that 
> Registration Servers 
> which are not co-located with the "first proxy", are unable 
> to perform the 
> proper Translate magic.
> 
> UA --- NAT --- Proxy ----Registration Server
> 
> To get around this problem (if it exists),

It does. 

 and to avoid 
> adding an extra 
> header, I propose instead that the UA "lie" in its REGISTER.  
> The UA would 
> generate a new Contact from its public IP address and port if 
> it discovers 
> received and rport parameters in its own Via header.  For example...
> 
> REGISTER domain.org SIP/2.0
> Via: 10.1.1.1:5060;rport
> To: user@domain.org
> From: user@domain.org
> Contact: user@10.1.1.1:5060
> 
> SIP/2.0 200 OK
> Via: 10.1.1.1:5060;received=77.68.24.3;rport=8734
> ...
> 
> REGISTER domain.org SIP/2.0
> Via: 10.1.1.1:5060;rport
> To: user@domain.org
> From: user@domain.org
> Contact: user@77.68.24.3:8734
> 
> Unfortunately, if the first proxy after the NAT is actually a 
> cluster of 
> load-sharing proxies we have a problem.  (I believe this was 
> part of the 
> problem Translate attempts to solve). Consider a new INVITE 
> coming from the 
> world:
> 		
> 
>            /-- proxy 1
>           /
> UA -- NAT --- proxy 2    <---- INVITE user@domain.org    UA
>           \
>            \-- proxy 3
> 
> Depending on the type of NAT, three things may happen:
> 
> 1) For a fully promiscuous cone NAT, the INVITE from any of 
> the proxies 
> will arrive safely at the UA.
> 
> 2) For a partial cone NAT, the UA will only receive the 
> INVITE if it is 
> delivered by the proxy that last handled registrations.
> 
> The UA could insure that a cone mapping is open by sending an 
> OPTIONS or 
> other SIP request to each member of the cluster.  Discovering 
> the cluster 
> members is the tricky part.  DNS may provide enough 
> information, but it is 
> hard to determine topology and intent from DNS.
> 
> cluster.proxies.com	IN A	12.1.1.1
> 			IN A	12.1.1.2
> 			IN A	12.1.1.3
> 
> 3) For a fully symetric NAT, the UA has several ugly choices:
> a) keep a translation to each proxy and register from each 
> translated address
> b) register yourself to a specific proxy (if this even works):
> 
> 	REGISTER sip:domain.org
> 	From: user@domain.org
> 	Contact: user@12.1.1.2:5060	
> 
> 	REGISTER sip:12.1.1.2
> 	From: user@12.1.1.2
> 	Contact: user@77.68.24.3:8734
> 
> c) register yourself with a preloaded loose Route (illegal and YUCK!)
> 
> 	REGISTER
> 	Contact: 
> user@77.68.24.3:8734?Route=12.1.1.2:5060;route-type=loose
> 
> d) use some shared-IP address load-sharing device in front of 
> the proxies.
> 
> Any thoughts?


My preference is a combination of the things you have proposed.

The Translate header remains, but instead, the registrar uses the rport and
received param from the bottom-most via header, rather than the source
IP/port. This will therefore work when there are proxies between the UA and
the registrar.

I prefer to keep the Translate header, since it then makes it explicit about
what the problem is. The network can implement a solution to handle the
symmetric case in any way it likes. Your solutions above all have the client
deciding how to force routing through its outbound proxy, but I think its a
server problem. Its a server problem since the solution depends on the
architecture and design of the network. One implementation might store the
outbound proxy IP as part of the user profile, and program their proxies to
route requests there. Another implementation might store a contact in a
loose route format, as you have suggested. In the case where only a single
IP address is provided, and a load balancer is used, entirely different
solutions may be required.

I do concede that Translate is definitely ugly. One of the interesting
problems it introduces is this: when there are multiple UA's registered, how
does a particular UA know which of the contact addresses in the 2xx is the
translated one? It needs to know for a variety of reasons (like, inserting
that contact into the contact in an INVITE or 2xx to INVITE). Therefore, I
think we will need the Translate header in the response to contain the
translated URL (it would also be in the contact header). Ugly also, but it
works. I welcome alternate suggestions.

Thanks,
Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 13:21:11 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA18285
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 13:21:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA20948
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 13:21:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA20025;
	Mon, 26 Nov 2001 12:57:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA19995
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 12:57:29 -0500 (EST)
Received: from zcars0m9.nortelnetworks.com (zcars0m9.nortelnetworks.com [47.129.242.157])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA16537
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:57:26 -0500 (EST)
Received: from znsgs0ja.europe.nortel.com (znsgs0ja.europe.nortel.com [47.165.25.40])
	by zcars0m9.nortelnetworks.com (8.11.0/8.11.0) with ESMTP id fAQHuDd12419
	for <sip@ietf.org>; Mon, 26 Nov 2001 12:56:13 -0500 (EST)
Received: from qnsgs000.nortel.com (znsgs016 [47.255.64.31])
	by znsgs0ja.europe.nortel.com (8.11.0/8.11.0) with ESMTP id fAQHupL12416
	for <sip@ietf.org>; Mon, 26 Nov 2001 17:56:51 GMT
Received: from zwcwc012.europe.nortel.com by znsgs016;
          Mon, 26 Nov 2001 17:56:35 +0000
Received: by zwcwc012.europe.nortel.com 
          with Internet Mail Service (5.5.2653.19) id <XVGH6CJ2>;
          Mon, 26 Nov 2001 17:55:44 -0000
Message-ID: <D738AA46E980D5119C4B0002A56045FC555C04@zwcwc010.europe.nortel.com>
From: "Chris Hogg" <chogg@nortelnetworks.com>
To: "'sip@ietf.org'" <sip@ietf.org>
Cc: "Francois Audet" <audet@nortelnetworks.com>,
        "Sanjoy Sen" <sanjoy@nortelnetworks.com>,
        "Jayshree Bharatia" <jayshree@nortelnetworks.com>,
        "Mark Watson" <mwatson@nortelnetworks.com>,
        "Mary Barnes" <mbarnes@nortelnetworks.com>
Date: Mon, 26 Nov 2001 17:55:43 -0000
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C176A3.913BB280"
Subject: [Sip] New version of "Early Media Issues and Scenarios" draft - (draft-
 sen-sip-earlymedia)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C176A3.913BB280
Content-Type: text/plain;
	charset="iso-8859-1"

Hi,

Version-01 of our draft "Early Media Issues and Scenarios" has been
submitted to the IETF SIP WG.  It may take a few days to be available in the
archives.  In the meantime, you can download a copy from:

http://www.obsidian97.com/draft-sen-sip-earlymedia-01.txt


Thanks,
Chris.

Chris Hogg
Nortel Networks

------------------------
Title:  "Early Media Issues and Scenarios".

Abstract:  
        The ability to carry Early Media - defined as media that is 
        delivered prior to call answer or session establishment - has been 
        the subject of many discussions and internet drafts within the IETF 
        [6][7].  Despite these discussions, it appears that no clear 
        solution has emerged to solve the Early media problem.  Furthermore 
        recent changes resulting from the re-drafting/re-wording of 
        RFC2543bis-05 [4] combined with the publication of the "SDP-offer-
        answer draft" [5] and the latest version of Manyfolks [3] have 
        further muddied the waters regarding the behaviour associated with 
        early media.  This draft aims to highlight the sources of confusion 
        surrounding how early media operates in the context of these drafts 
        and presents a solution for achieving alignment of the concepts 
        outlined hence solving the early media problem.  Additionally, it is

        shown how this solution is applicable to a variety of early media 
        scenarios such as the complexity introduced by forked INVITEs, 
        interactions with NAT/FW traversal and PSTN/PBX interworking issues.

    
-----------------------------------------------     

------_=_NextPart_001_01C176A3.913BB280
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>New version of &quot;Early Media Issues and Scenarios&quot; =
draft - (draft-sen-sip-earlymedia)</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Hi,</FONT>
</P>

<P><FONT SIZE=3D2>Version-01 of our draft &quot;Early Media Issues and =
Scenarios&quot; has been submitted to the IETF SIP WG.&nbsp; It may =
take a few days to be available in the archives.&nbsp; In the meantime, =
you can download a copy from:</FONT></P>

<P><FONT SIZE=3D2><A =
HREF=3D"http://www.obsidian97.com/draft-sen-sip-earlymedia-01.txt" =
TARGET=3D"_blank">http://www.obsidian97.com/draft-sen-sip-earlymedia-01.=
txt</A></FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Thanks,</FONT>
<BR><FONT SIZE=3D2>Chris.</FONT>
</P>

<P><FONT SIZE=3D2>Chris Hogg</FONT>
<BR><FONT SIZE=3D2>Nortel Networks</FONT>
</P>

<P><FONT SIZE=3D2>------------------------</FONT>
<BR><FONT SIZE=3D2>Title:&nbsp; &quot;Early Media Issues and =
Scenarios&quot;.</FONT>
</P>

<P><FONT SIZE=3D2>Abstract:&nbsp; </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The =
ability to carry Early Media - defined as media that is </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; delivered =
prior to call answer or session establishment - has been </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the =
subject of many discussions and internet drafts within the IETF </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
[6][7].&nbsp; Despite these discussions, it appears that no clear =
</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; solution =
has emerged to solve the Early media problem.&nbsp; Furthermore </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; recent =
changes resulting from the re-drafting/re-wording of </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
RFC2543bis-05 [4] combined with the publication of the =
&quot;SDP-offer-</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; answer =
draft&quot; [5] and the latest version of Manyfolks [3] have </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; further =
muddied the waters regarding the behaviour associated with </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; early =
media.&nbsp; This draft aims to highlight the sources of confusion =
</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
surrounding how early media operates in the context of these drafts =
</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and =
presents a solution for achieving alignment of the concepts </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; outlined =
hence solving the early media problem.&nbsp; Additionally, it is =
</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shown how =
this solution is applicable to a variety of early media </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scenarios =
such as the complexity introduced by forked INVITEs, </FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
interactions with NAT/FW traversal and PSTN/PBX interworking issues. =
</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp;&nbsp; </FONT>
<BR><FONT =
SIZE=3D2>-----------------------------------------------&nbsp;&nbsp;&nbs=
p;&nbsp; </FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C176A3.913BB280--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 13:33:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA19166
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 13:33:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA21708
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 13:33:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20653;
	Mon, 26 Nov 2001 13:08:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA20622
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 13:08:42 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17341
	for <sip@ietf.org>; Mon, 26 Nov 2001 13:08:39 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fAQI83Y13183;
	Mon, 26 Nov 2001 12:08:03 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fAQI83524936;
	Mon, 26 Nov 2001 12:08:03 -0600 (CST)
Received: from lmf.ericsson.se (rmt160233.am.ericsson.se [138.85.160.233]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id MAA08475; Mon, 26 Nov 2001 12:08:01 -0600 (CST)
Message-ID: <3C028A94.52056A13@lmf.ericsson.se>
Date: Mon, 26 Nov 2001 20:31:48 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Cullen Jennings <fluffy@cisco.com>
CC: sip@ietf.org
Subject: Re: [Sip] SCTP address in draft-ietf-sip-sctp-00
References: <MFEJKLHKCMNFOPKPHMBPIEALCBAA.fluffy@cisco.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hello,

we have submitted a new version of the draft some days ago. Until it
appears in the archives you can fetch it from:

http://www.cs.columbia.edu/~gonzalo/draft-ietf-sip-sctp-01.pdf

> A SCTP destination can consist of a list of IP addresses and a port.
> Imagine that I want to send an invite to a proxy that is listening at
> 24.1.1.20 and 24.1.1.21 on port 5061 over SCTP. What is the syntax to do
> this?

The peer usually gives you a list of IP addresses and host names at
association establishment time. So you can use DNS to discover the host
name or IP address of the server (SRV records will tell you than it
supports SCTP). Then, in the SCTP four-way handshake you will get a set
of IP addresses to be used in case the principal one goes down.

Regards,

Gonzalo


> Should we have a syntax for this or just rely on everyone using DNS to
> specify a SCTP address?
> 
> Thanks, Cullen
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip

-- 
Gonzalo Camarillo                    Phone :   +1 212 939 71 71
Columbia University                  Mobile:  +358 40 702 35 35
472 Computer Science Building        Fax   :  +358  9 299 30 52
1214 Amsterdam Ave., Mail Code 0401  http://www.hut.fi/~gonzalo
New York, NY 10027                   
USA                              Gonzalo.Camarillo@ericsson.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 14:10:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA22294
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 14:10:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA22954
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 14:10:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA22073;
	Mon, 26 Nov 2001 13:48:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA22042
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 13:48:35 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA20154
	for <sip@ietf.org>; Mon, 26 Nov 2001 13:48:31 -0500 (EST)
Received: from cannon.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fAQIlwT04663;
	Mon, 26 Nov 2001 13:47:58 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAE07747 (AUTH pkyzivat);
	Mon, 26 Nov 2001 13:49:18 -0500 (EST)
Message-ID: <3C028DA5.953ECC9B@cisco.com>
Date: Mon, 26 Nov 2001 13:44:53 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>, Ben Campbell <bcampbell@dynamicsoft.com>,
        simple@mailman.dynamicsoft.com
References: <B65B4F8437968F488A01A940B21982BF020D6F8D@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan Rosenberg wrote:
> 
> Indeed. I have in fact written a draft on doing just that:
> 
> http://www.jdrosen.net/papers/draft-rosenberg-sip-reconstitute-00.txt

Intesting paper. I think that a procedure of this sort is definitely
needed.

Here are some specific comments/questions about the details of what you
propose:

- what if the problem wasn't with the endpoint at all, but rather was an
intermittent problem with the network? In that case, both ends may try
to initiate recovery. (The analogy in the PSTN is the familiar "we were
disconnected, but when I tried to call back your line was busy"
problem.)

- what if there is no problem with signalling but there is a problem
with the media stream? Then the reinvite will reach the original
endpoint rather than a backup. It will not be able to distinguish this
reinvite from one for some other purpose, like session timer refresh. It
will note that the sdp has not changed, and may choose to simply return
the last sdp it sent. (This could happen if the sip and media travel on
different network connections to the same host, or if the media is on a
separate device with its own network connection.) 

- your 3pcc example requires that the controller forward on all
reinvites, even if nothing in the sdp has changed. However there are
other cases where this is a bad thing. There may well be reinvites going
on simply to update session timers. Since the session timer schedule may
differ on the two legs, it isn't desirable to forward noop invites.

- in a separate mail thread on the comedia draft, we identified some
added problems with reinvites and connection oriented media. In that
case, what is negotiated in the sdp is used to establish a media
connection, so it isn't idempotent to subsequent invitations. There is
need to indicate in the sdp whether to renegotiate the connection or
not. I don't think we ever fully resolved that. But I believe it is
important that something in the sdp be changed to indicate a desire to
renegotiate the connection. The same kind of scenario applies here.

All of these issues suggest to me that some explicit information needs
to be conveyed indicating what is being attempted. Part of this might be
a Reason header indicating that the reinvite is being sent to recover
from a perceived problem. In addition, I think there needs to be
something in the SDP to indicate what needs to be done. One possibility
I have suggested elsewhere is to extend sdp to permit an o= line for
each media description. This could then be revised to indicate a desire
to renegotiate the media stream without changing the caller's end. (This
could also be indicated with a new kind of a= line.)

	Paul

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 14:12:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA22406
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 14:12:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA23002
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 14:12:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21999;
	Mon, 26 Nov 2001 13:48:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA21970
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 13:48:10 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA20118
	for <sip@ietf.org>; Mon, 26 Nov 2001 13:48:06 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAQIm7f24038
	for <sip@ietf.org>; Mon, 26 Nov 2001 19:48:07 +0100 (MET)
Received: from lmf.ericsson.se (ecndhcp134243.acc.am.ericsson.se [138.85.134.243])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fAQIm6I9003918
	for <sip@ietf.org>; Mon, 26 Nov 2001 20:48:06 +0200 (EET)
Message-ID: <3C028E85.BDC52EDA@lmf.ericsson.se>
Date: Mon, 26 Nov 2001 20:48:37 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: sip@ietf.org
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] REFER issues
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

I have some questions/clarifications on REFER.

Q1.

Consider the following scenario:

A          B          C
-----------------------

--REFER---->
<-202-------
           ---INVITE-->
           <--200------

Now, bis-05 says that if a C doesn't receive an ACK it should send a
re-INVITE to B, including the same SDP it included in the 200 OK. If
this happens, what response code does B insert in the NOTIFY to A? 200
OK? 

Q2.

If the INVITE "triggered" by the REFER gets forked, the UAC may receive
multiple 2xx final responses, in which case multiple NOTIFYs will be
sent to the client who issued the REFER. The draft does say "each
NOTIFY", but maybe this scenario should be mentioned a little more?

Q3.

Consider the following scenario:

A          B          C
-----------------------

--REFER---->
<-202-------
           ---INVITE-->
           <--3xx------

If a 3xx final response is received for the INVITE I guess B
MAY forward that response code in a NOTIFY. IF that happens, however,
can A ASSUME that B did NOT issue a new INVITE?

Also, IF the 3xx final response is sent in the NOTIFY, should it be a
MUST to also include the Contact header(s) received in the 3xx, so that
A can issue
a new REFER to tell B to contact the address received in the 3xx?


Regards,

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 14:18:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA22736
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 14:18:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA23080
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 14:18:40 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA22655;
	Mon, 26 Nov 2001 14:01:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA22561
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 14:01:09 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA21567
	for <sip@ietf.org>; Mon, 26 Nov 2001 14:01:05 -0500 (EST)
Received: from cannon.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fAQJ0dT06035;
	Mon, 26 Nov 2001 14:00:40 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAE07857 (AUTH pkyzivat);
	Mon, 26 Nov 2001 14:02:00 -0500 (EST)
Message-ID: <3C02909F.E65EA7F1@cisco.com>
Date: Mon, 26 Nov 2001 13:57:35 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] Proposed change to callerprefs
References: <B65B4F8437968F488A01A940B21982BF020D6FA2@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Jonathan,

I sent this last wednesday, but I haven't seen it come back, so maybe it
got lost. Here it is again.

Comments below.

	Paul

Jonathan Rosenberg wrote:
> 
> > In my earlier posting, I posed the problem of specifying a preference
> > for a contact supporting both english and spanish language.
> > According to
> > draft-ietf-sip-callerprefs-04 language="en,es" means english
> > OR spanish,
> > while language="en",language="es" means english AND spanish.
> >
> > The trouble with this is it violates the principle of least
> > astonishment. I believe most people will expect language="en,es" and
> > language="en",language="es" to mean the same thing.
> 
> I also posted a note on sip-implementors that explained that this is also
> problematic from a grammar perspective; I think most parsers will assume a
> single instance of each parameter, as most use hash tables to index
> parameters by name.

I agree that repeating the parameter is a poor way to represent AND, and
that a better way is preferred.

> 
> > For precedent we
> > need look no further than the normal header processing logic in sip,
> > which says that:
> >
> >    Accept-Contact:*;language="en", *;language="es"
> >
> > is equivalent to:
> >
> >    Accept-Contact:*;language="en"
> >    Accept-Contact:*;language="es"
> >
> > So, I propose that:
> >
> >   language="en,es"
> >
> > should be equivalent to:
> >
> >   language="en",language="es"
> 
> Well, it was my proposal that this simply be disallowed.

OK, as long as we get both AND and OR.

One concern I have about this is that then there is a difference in
meaning of "," between the Contact header and the
Accept-Contact/Reject-Contact headers. In Contact, the "," means AND:

  Contact: foo@bar;language="en,es"

means foo@bar can do english AND spanish, while

  Accept-Contact: *;language="en,es"

means to accept anyone speaking english OR spanish.

It would be more reasonable to make "," mean AND, and use "|" to mean
OR. Another possibility is the one I suggested earlier to have "," mean
AND and then use multiple headers to express OR, since they already do
that.

> 
> >
> > and that this should require a match on both english AND spanish.
> > The reason this means AND rather than OR is consistency with the
> > combination of cp-params of different types:
> >
> >   language="en",media="audio"     means english AND audio, so
> >   language="en",language="es"     should mean english AND spanish
> >
> > Unfortunately this interpretation is a change from the current draft.
> >
> > In addition to the consistency argument, practicality also
> > supports this
> > change. For one thing, there is more need to express an AND condition
> > than an OR condition, and so it ought to be more concise.
> 
> Can you provide specific use cases? This rule matching can get arbitrarily
> complex, and I want to make sure we don't add things because their important
> in theory only, especially this late in the game.

The obvious use cases are:
- OR for languages (english OR spanish)
- AND for media (audio AND video)

> 
> 
> > Also, there is
> > already another way to express the OR condition. If I want english or
> > spanish, I can write:
> >
> >    Accept-Contact:*;language="en", *;language="es"
> 
> Assuming there is a need for AND, another way which is more consistent with
> the grammar would be:
> 
> ;language="en,es"     -> English or Spanish
> ;language="en&es"     -> Engish and Spanish
> 
> Effectively, the list now becomes an OR or ANDs, so that:
> 
> ;language="en&es,de"
> 
> is also OK.

Then the ugly head of precedence enters the picture. 
Does this mean "en & (es | de)" or "(en & es) | de"?

I imagine we can find something workable though perhaps not intuitive
definition.

> 
> >
> > There is one more issue to deal with if this change is to be made.
> > Consider
> >
> >    Accept-Contact:*;media="voice";media="video";q=1.0,
> >                   *;media="voice";media="!video";q=.5
> >
> > This ought to be equivalent to
> >
> >    Accept-Contact:*;media="voice,video";q=1.0,
> >                   *;media="voice,!video";q=.5
> >
> > but this would be wrong because "!" is only valid at the beginning of
> > the parameter value, and applies the value as a whole rather than to a
> > particular item in the comma separated list of items in the value.
> >
> > For consistency, I propose that this also be changed. Negation through
> > use of "!" should apply to an individual element in a comma separated
> > list of values.
> 
> This is not needed. Remember, the set processing is done to ultimately
> affect the prioritization of the contacts. Let us assume that the & rule
> above exists. Instead, you could use:
> 
>    Accept-Contact: *;media="voice&video",q=1.0,
>                    *;media="voice",q=0.5

We can easily get into the world of the obscure and useless here. I have
quite a bit of difficulty coming up with good uses for NOT at all,
especially in Accept-Contact. I suppose it has more use in
Reject-Contact.

> 
> Now, if the contact list has:
> 
> sip:videophone@foo.com;media="voice,video"
> sip:cellphone@foo.com;media="voice"
> 
> The videophone matches both rules above, but the cellphone only matches the
> voice rule. If simple averaging is used over the q values from matching
> rules, the videophone ends up with a higher q value than the cell phone,
> which is ultimately what you are after anyway.
> 
> >
> > For example (yes, I know this is nonsense), suppose I want to accept
> > contacts supporting english but neither spanish nor french.
> 
> Well, to be honest, coming up with real scenarios is important in order to
> justify the late change, but as I point out above, even if you did, its not
> clear to me that it matters.
> >
> > If there isn't agreement with this proposal, then I at least
> > hope to get
> > agreement that the interpretation I posed in the message below is
> > correct. It is essential that there be some way to express the AND
> > condition for two values of the same cp-param type.
> 
> I'd still like to see real uses, but I can imagine there are some (voice and
> video, for example, is a reasonable thing to ask for). So, I will go ahead
> and add my & proposal to the draft, since its easy to do within the
> framework. We can discuss further, but this way, if there is agreement on
> that, then the draft is ready for iesg immediately rather than requiring a
> rev.

I defer to your judgement about strategy. There is work required in the
matching algorithm section that isn't so straightforward, as well as in
the code example if it is to be retained. (I think code samples are
dangerous in standards.)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 14:50:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24865
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 14:50:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA23983
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 14:50:22 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23755;
	Mon, 26 Nov 2001 14:40:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23724
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 14:40:35 -0500 (EST)
Received: from sj-msg-core-1.cisco.com (sj-msg-core-1.cisco.com [171.71.163.11])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24168
	for <sip@ietf.org>; Mon, 26 Nov 2001 14:40:31 -0500 (EST)
Received: from imop.cisco.com (imop.cisco.com [171.69.11.44])
	by sj-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fAQJe3I19105;
	Mon, 26 Nov 2001 11:40:03 -0800 (PST)
Received: from rmahy-home-nt (ssh-sj1.cisco.com [171.68.225.134])
	by imop.cisco.com (Mirapoint)
	with ESMTP id ACC01240;
	Mon, 26 Nov 2001 11:40:01 -0800 (PST)
Message-Id: <4.2.0.58.20011126112107.01e4c780@lint.cisco.com>
X-Sender: rmahy@lint.cisco.com (Unverified)
X-Mailer: QUALCOMM Windows Eudora Pro Version 4.2.0.58 
Date: Mon, 26 Nov 2001 11:40:27 -0800
To: sip@ietf.org
From: Rohan Mahy <rohan@cisco.com>
Cc: rohan@cisco.com
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
Subject: [Sip] The Future of SIP Call Control
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi Everyone,

Currently SIP Call Control is an item on the SIP Charter:

 >The specific deliverables of the group are:
...
 >2. callcontrol: Completion of the SIP call control specifications, which
 >enables multiparty services, such as transfer and bridged sessions.
...

Obviously this charter item is not as important as bis, but we should 
either make progress on it or drop it.

Aside from work on REFER and transfer, there has been very little activity 
on call control.  I believe call control needs a holistic apporach.  I 
don't think we can add transfer here, conference there, park here, 
etc.  Therefore I propose that we take one of the following actions:

1)  Write a Call Control requirements document in SIP.  Quickly identify 
missing peices and evaluate proposals for adding the required 
functionality.  A subteam can do a lot of this work and post the issues 
back to the list.  This would only require a Milestone recharter in SIP.

2)  Do Call Control framework and requirements documents in SIPPING.  Pass 
the requirements to SIP.  Quickly identify missing peices/evaluate 
proposals, etc.   (This is similar to the proposal for *new* work items in 
SIP).  This would require a recharter in both SIPPING and SIP (to move 
cc-framework to SIPPING).

3)  Abandon call control altogether.  I would be very disappointed if we 
let this happen.

thanks,
-rohan (as an individual)

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 15:08:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26522
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 15:08:05 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA24759
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 15:08:09 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23905;
	Mon, 26 Nov 2001 14:45:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA23874
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 14:45:47 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA24509
	for <sip@ietf.org>; Mon, 26 Nov 2001 14:45:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAQJhm7x004554;
	Mon, 26 Nov 2001 14:43:48 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4M8S>; Mon, 26 Nov 2001 14:45:14 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E819@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>, sip@ietf.org
Subject: RE: [Sip] REFER issues
Date: Mon, 26 Nov 2001 14:45:09 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Monday, November 26, 2001 12:49 PM
> To: sip@ietf.org
> Subject: [Sip] REFER issues
> 
> 
> 
> Hi,
> 
> I have some questions/clarifications on REFER.
> 
> Q1.
> 
> Consider the following scenario:
> 
> A          B          C
> -----------------------
> 
> --REFER---->
> <-202-------
>            ---INVITE-->
>            <--200------
> 
> Now, bis-05 says that if a C doesn't receive an ACK it should send a
> re-INVITE to B, including the same SDP it included in the 200 OK. If
> this happens, what response code does B insert in the NOTIFY to A? 200
> OK? 

In that scenario, B issues the NOTIFY and will probably do so long
before C gives up waiting for an ACK (maybe even before it _sends_ 
the ACK, so from A and B's perspective this looks just like the
success case.

> 
> Q2.
> 
> If the INVITE "triggered" by the REFER gets forked, the UAC 
> may receive
> multiple 2xx final responses, in which case multiple NOTIFYs will be
> sent to the client who issued the REFER. The draft does say "each
> NOTIFY", but maybe this scenario should be mentioned a little more?

You've made quite a leap here - the REFER draft makes no requirement
for such multiple NOTIFYs. The "each NOTIFY" string corresponds to having
multiple REFER statements in a dialog - a completely different context.

Now, the effect of multiple 2xxs to an INVITE on what the referred
party generates is a policy decision the referred party must make.
If they have a minimal implementation, they'll send a NOTIFY upon
receiving the first 200 OK and toss the implied subscription state.
Other implementations might do as you suggest and generate subsequent
notifications (meaning "I succeeded again"?) but they would most 
likely get 481ed. 

> 
> Q3.
> 
> Consider the following scenario:
> 
> A          B          C
> -----------------------
> 
> --REFER---->
> <-202-------
>            ---INVITE-->
>            <--3xx------
> 
> If a 3xx final response is received for the INVITE I guess B
> MAY forward that response code in a NOTIFY. IF that happens, however,
> can A ASSUME that B did NOT issue a new INVITE?

This would be a really odd thing for B to do. B is more likely to
either automatically recurse or prompt B's user for instructions
on how to proceed. A NOTIFY would not be generated until the
subsequent request(s) were sent and some knowledge of success or
failure is available (or if B decided it didn't know how to recurse
or was unwilling to do so, in which case it would return with
a 503 or 603).

If B did return a NOTIFY containing a 3xx start-line, A would assume
the referred action failed and take whatever its fail path is.

> 
> Also, IF the 3xx final response is sent in the NOTIFY, should it be a
> MUST to also include the Contact header(s) received in the 
> 3xx, so that
> A can issue
> a new REFER to tell B to contact the address received in the 3xx?

Lets NOT go there. As much as it tries to act like it, REFER really
doesn't need to be the SIP Remote-Control method. 

The 3xx question you're asking here is similar to the 401/407 question.
It's B's responsibility to provide the credentials necessary to get
through the network to C, and it may take a round or two of challenges
to get that done.

> 
> 
> Regards,
> 
> Christer Holmberg
> Ericsson Finland
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 15:12:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA26934
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 15:12:35 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA24824
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 15:12:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA24116;
	Mon, 26 Nov 2001 14:54:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA24085
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 14:54:40 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA25226
	for <sip@ietf.org>; Mon, 26 Nov 2001 14:54:35 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fAQJs1VZ022096;
	Mon, 26 Nov 2001 14:54:01 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTD85>; Mon, 26 Nov 2001 14:53:50 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E81A@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Mon, 26 Nov 2001 14:53:49 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I will be suprised if anyone steps up to support 3, but
I understand the frustration with having a goal and 
insufficient cycles applied to reaching it.

I think this falls clearly into SIPPING (and I hope most
of the realization of the goals can stay there - agreeing
on the use of existing tools, returning to SIP only when
we discover new tools are needed).
 
But aside from the process pain you alude to, is there a
significant difference between your first 2 options? In either
case, the subteam approach is going to be needed to make
progress.

RjS


> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Monday, November 26, 2001 1:40 PM
> To: sip@ietf.org
> Cc: rohan@cisco.com
> Subject: [Sip] The Future of SIP Call Control
> 
> 
> Hi Everyone,
> 
> Currently SIP Call Control is an item on the SIP Charter:
> 
>  >The specific deliverables of the group are:
> ...
>  >2. callcontrol: Completion of the SIP call control 
> specifications, which
>  >enables multiparty services, such as transfer and bridged sessions.
> ...
> 
> Obviously this charter item is not as important as bis, but we should 
> either make progress on it or drop it.
> 
> Aside from work on REFER and transfer, there has been very 
> little activity 
> on call control.  I believe call control needs a holistic 
> apporach.  I 
> don't think we can add transfer here, conference there, park here, 
> etc.  Therefore I propose that we take one of the following actions:
> 
> 1)  Write a Call Control requirements document in SIP.  
> Quickly identify 
> missing peices and evaluate proposals for adding the required 
> functionality.  A subteam can do a lot of this work and post 
> the issues 
> back to the list.  This would only require a Milestone 
> recharter in SIP.
> 
> 2)  Do Call Control framework and requirements documents in 
> SIPPING.  Pass 
> the requirements to SIP.  Quickly identify missing peices/evaluate 
> proposals, etc.   (This is similar to the proposal for *new* 
> work items in 
> SIP).  This would require a recharter in both SIPPING and SIP 
> (to move 
> cc-framework to SIPPING).
> 
> 3)  Abandon call control altogether.  I would be very 
> disappointed if we 
> let this happen.
> 
> thanks,
> -rohan (as an individual)
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 15:33:37 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28564
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 15:33:37 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA25608
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 15:33:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA24893;
	Mon, 26 Nov 2001 15:14:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA24864
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 15:14:54 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA27147
	for <sip@ietf.org>; Mon, 26 Nov 2001 15:14:49 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAQKEmf12242;
	Mon, 26 Nov 2001 21:14:48 +0100 (MET)
Received: from lmf.ericsson.se (ecndhcp134243.acc.am.ericsson.se [138.85.134.243])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fAQKEkI9007386;
	Mon, 26 Nov 2001 22:14:47 +0200 (EET)
Message-ID: <3C02A2D5.C5A71C0A@lmf.ericsson.se>
Date: Mon, 26 Nov 2001 22:15:17 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] REFER issues
References: <9BF66EBF6BEFD942915B4D4D45C051F338E819@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Robert Sparks wrote:
> 
> inline
> 
> > -----Original Message-----
> > From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> > Sent: Monday, November 26, 2001 12:49 PM
> > To: sip@ietf.org
> > Subject: [Sip] REFER issues
> >
> >
> >
> > Hi,
> >
> > I have some questions/clarifications on REFER.
> >
> > Q1.
> >
> > Consider the following scenario:
> >
> > A          B          C
> > -----------------------
> >
> > --REFER---->
> > <-202-------
> >            ---INVITE-->
> >            <--200------
> >
>>Now, bis-05 says that if a C doesn't receive an ACK it should send a
>>re-INVITE to B, including the same SDP it included in the 200 OK. If
>>this happens, what response code does B insert in the NOTIFY to A? 200
>>OK?
>In that scenario, B issues the NOTIFY and will probably do so long
>before C gives up waiting for an ACK (maybe even before it _sends_
>the ACK, so from A and B's perspective this looks just like the
>success case.

In this case I guess the B should NOT accept the re-INVITE, since it has
already sent a NOTIFY with an error code (some 4xx, I guess)?

>>Q2.
>>
>>If the INVITE "triggered" by the REFER gets forked, the UAC
>>may receive multiple 2xx final responses, in which case multiple NOTIFYs will be
>>sent to the client who issued the REFER. The draft does say "each
>>NOTIFY", but maybe this scenario should be mentioned a little more?
>You've made quite a leap here - the REFER draft makes no requirement
>for such multiple NOTIFYs. The "each NOTIFY" string corresponds to having
>multiple REFER statements in a dialog - a completely different context.
> 
>Now, the effect of multiple 2xxs to an INVITE on what the referred
>party generates is a policy decision the referred party must make.
>If they have a minimal implementation, they'll send a NOTIFY upon
>receiving the first 200 OK and toss the implied subscription state.
>Other implementations might do as you suggest and generate subsequent
>notifications (meaning "I succeeded again"?) but they would most
>likely get 481ed.

I do agree that this should be a decission made by the referred party,
and it should not be a requirement in the draft how to handle it. 

However, since forking IS a part of SIP, I think it would be a good idea
to mention forking scenarios in the draft.

>>Q3.
>>
>>Consider the following scenario:
>>
>> A          B          C
>> -----------------------
>>
>> --REFER---->
>> <-202-------
>>            ---INVITE-->
>>            <--3xx------
>>
>>If a 3xx final response is received for the INVITE I guess B
>>MAY forward that response code in a NOTIFY. IF that happens, however,
>>can A ASSUME that B did NOT issue a new INVITE?
> 
>This would be a really odd thing for B to do. B is more likely to
>either automatically recurse or prompt B's user for instructions
>on how to proceed. A NOTIFY would not be generated until the
>subsequent request(s) were sent and some knowledge of success or
>failure is available (or if B decided it didn't know how to recurse
>or was unwilling to do so, in which case it would return with
>a 503 or 603).
> 
>If B did return a NOTIFY containing a 3xx start-line, A would assume
>the referred action failed and take whatever its fail path is.

I agree. Again, do you think this is this something that should me
mentioned in the draft?

>>Also, IF the 3xx final response is sent in the NOTIFY, should it be a
>>MUST to also include the Contact header(s) received in the
>>3xx, so that A can issue a new REFER to tell B to contact the address received in the 3xx?
> 
>Lets NOT go there. As much as it tries to act like it, REFER really
>doesn't need to be the SIP Remote-Control method.
> 
>
>The 3xx question you're asking here is similar to the 401/407 question.

Yes.

Regards,

Christer Holmberg
Ericsson Finland



>It's B's responsibility to provide the credentials necessary to get
>through the network to C, and it may take a round or two of challenges
>to get that done.
> 
> >
> >
> > Regards,
> >
> > Christer Holmberg
> > Ericsson Finland
> >
> > _______________________________________________
> > Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> > This list is for NEW development of the core SIP Protocol
> > Use sip-implementors@cs.columbia.edu for questions on current sip
> > Use sipping@ietf.org for new developments on the application of sip
> >

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 15:42:35 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29279
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 15:42:34 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA25797
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 15:42:39 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25148;
	Mon, 26 Nov 2001 15:26:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25117
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 15:26:52 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28098
	for <sip@ietf.org>; Mon, 26 Nov 2001 15:26:46 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAQKOq7x005024;
	Mon, 26 Nov 2001 15:24:52 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4N1K>; Mon, 26 Nov 2001 15:26:18 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E81E@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] REFER issues
Date: Mon, 26 Nov 2001 15:26:09 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> > > I have some questions/clarifications on REFER.
> > >
> > > Q1.
> > >
> > > Consider the following scenario:
> > >
> > > A          B          C
> > > -----------------------
> > >
> > > --REFER---->
> > > <-202-------
> > >            ---INVITE-->
> > >            <--200------
> > >
> >>Now, bis-05 says that if a C doesn't receive an ACK it should send a
> >>re-INVITE to B, including the same SDP it included in the 200 OK. If
> >>this happens, what response code does B insert in the 
> NOTIFY to A? 200
> >>OK?
> >In that scenario, B issues the NOTIFY and will probably do so long
> >before C gives up waiting for an ACK (maybe even before it _sends_
> >the ACK, so from A and B's perspective this looks just like the
> >success case.
> 
> In this case I guess the B should NOT accept the re-INVITE, 
> since it has
> already sent a NOTIFY with an error code (some 4xx, I guess)?

You've got a scenario in your head that's different from
what you put in the message. In the one you describe, B
got a 200 OK. At that point it can (most implementations would)
send a NOTIFY with a 200 OK. The transport (and possible failure) 
of the ACK happens after that. 

> 
> >>Q2.
> >>
> >>If the INVITE "triggered" by the REFER gets forked, the UAC
> >>may receive multiple 2xx final responses, in which case 
> multiple NOTIFYs will be
> >>sent to the client who issued the REFER. The draft does say "each
> >>NOTIFY", but maybe this scenario should be mentioned a little more?
> >You've made quite a leap here - the REFER draft makes no requirement
> >for such multiple NOTIFYs. The "each NOTIFY" string 
> corresponds to having
> >multiple REFER statements in a dialog - a completely 
> different context.
> > 
> >Now, the effect of multiple 2xxs to an INVITE on what the referred
> >party generates is a policy decision the referred party must make.
> >If they have a minimal implementation, they'll send a NOTIFY upon
> >receiving the first 200 OK and toss the implied subscription state.
> >Other implementations might do as you suggest and generate subsequent
> >notifications (meaning "I succeeded again"?) but they would most
> >likely get 481ed.
> 
> I do agree that this should be a decission made by the referred party,
> and it should not be a requirement in the draft how to handle it. 
> 
> However, since forking IS a part of SIP, I think it would be 
> a good idea
> to mention forking scenarios in the draft.

OK

> 
> >>Q3.
> >>
> >>Consider the following scenario:
> >>
> >> A          B          C
> >> -----------------------
> >>
> >> --REFER---->
> >> <-202-------
> >>            ---INVITE-->
> >>            <--3xx------
> >>
> >>If a 3xx final response is received for the INVITE I guess B
> >>MAY forward that response code in a NOTIFY. IF that 
> happens, however,
> >>can A ASSUME that B did NOT issue a new INVITE?
> > 
> >This would be a really odd thing for B to do. B is more likely to
> >either automatically recurse or prompt B's user for instructions
> >on how to proceed. A NOTIFY would not be generated until the
> >subsequent request(s) were sent and some knowledge of success or
> >failure is available (or if B decided it didn't know how to recurse
> >or was unwilling to do so, in which case it would return with
> >a 503 or 603).
> > 
> >If B did return a NOTIFY containing a 3xx start-line, A would assume
> >the referred action failed and take whatever its fail path is.
> 
> I agree. Again, do you think this is this something that should me
> mentioned in the draft?

I think its already there, but I'll reread with this perspective
in mind and look for places to improve clarity.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 15:44:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA29516
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 15:44:39 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA25820
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 15:44:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25596;
	Mon, 26 Nov 2001 15:33:37 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25565
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 15:33:34 -0500 (EST)
Received: from albatross-ext.wise.edt.ericsson.se (albatross-ext.wise.edt.ericsson.se [194.237.142.116])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA28558
	for <sip@ietf.org>; Mon, 26 Nov 2001 15:33:24 -0500 (EST)
Received: from fogerty.lmf.ericsson.se (fogerty.lmf.ericsson.se [131.160.11.6])
	by albatross.wise.edt.ericsson.se (8.11.0/8.11.0/WIREfire-1.3) with ESMTP id fAQKXOf15049;
	Mon, 26 Nov 2001 21:33:24 +0100 (MET)
Received: from lmf.ericsson.se (ecndhcp134243.acc.am.ericsson.se [138.85.134.243])
	by fogerty.lmf.ericsson.se (8.12.1/8.12.1/lmf.8.12.1.jcs) with ESMTP id fAQKXMI9008242;
	Mon, 26 Nov 2001 22:33:23 +0200 (EET)
Message-ID: <3C02A731.56073FF8@lmf.ericsson.se>
Date: Mon, 26 Nov 2001 22:33:53 +0200
From: Christer Holmberg <christer.holmberg@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Robert Sparks <rsparks@dynamicsoft.com>
CC: sip@ietf.org
Subject: Re: [Sip] REFER issues
References: <9BF66EBF6BEFD942915B4D4D45C051F338E81E@DYN-TX-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


Hi,

Robert Sparks wrote:
> 
> > > > I have some questions/clarifications on REFER.
> > > >
> > > > Q1.
> > > >
> > > > Consider the following scenario:
> > > >
> > > > A          B          C
> > > > -----------------------
> > > >
> > > > --REFER---->
> > > > <-202-------
> > > >            ---INVITE-->
> > > >            <--200------
> > > >
> > >>Now, bis-05 says that if a C doesn't receive an ACK it should send a
> > >>re-INVITE to B, including the same SDP it included in the 200 OK. If
> > >>this happens, what response code does B insert in the
> > NOTIFY to A? 200
> > >>OK?
> > >In that scenario, B issues the NOTIFY and will probably do so long
> > >before C gives up waiting for an ACK (maybe even before it _sends_
> > >the ACK, so from A and B's perspective this looks just like the
> > >success case.
> >
> > In this case I guess the B should NOT accept the re-INVITE,
> > since it has
> > already sent a NOTIFY with an error code (some 4xx, I guess)?
> 
>You've got a scenario in your head that's different from
>what you put in the message. In the one you describe, B
>got a 200 OK. At that point it can (most implementations would)
>send a NOTIFY with a 200 OK. The transport (and possible failure)
>of the ACK happens after that.

It's the same scenario, but I assumed that the NOTIFY with the 200 won't
be sent until the call actually is established. However, the referred
party doesn't know if the ACK reaches C or not, so I guess it WILL (as
you said) send the NOTIFY as soon as it gets the 200...

Thanks!

Christer Holmberg
Ericsson Finland

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 16:09:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA01849
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 16:09:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA26501
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 16:09:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25907;
	Mon, 26 Nov 2001 15:49:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA25879
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 15:49:38 -0500 (EST)
Received: from acmepacket.com (mail1.acmepacket.com [63.67.143.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA00014
	for <sip@ietf.org>; Mon, 26 Nov 2001 15:49:33 -0500 (EST)
Received: from BobP [63.67.143.2] by acmepacket.com
  (SMTPD32-7.04) id AAE090F20228; Mon, 26 Nov 2001 15:49:36 -0500
Message-ID: <009f01c176bb$5dbcc9e0$2300000a@acmepacket.com>
From: "Bob Penfield" <bpenfield@acmepacket.com>
To: "Robert Sparks" <rsparks@dynamicsoft.com>,
        "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>,
        <sip@ietf.org>
References: <9BF66EBF6BEFD942915B4D4D45C051F338E819@DYN-TX-EXCH-001.dynamicsoft.com>
Subject: Re: [Sip] REFER issues
Date: Mon, 26 Nov 2001 15:46:04 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> > Q2.
> >
> > If the INVITE "triggered" by the REFER gets forked, the UAC
> > may receive
> > multiple 2xx final responses, in which case multiple NOTIFYs will be
> > sent to the client who issued the REFER. The draft does say "each
> > NOTIFY", but maybe this scenario should be mentioned a little more?
>
> You've made quite a leap here - the REFER draft makes no requirement
> for such multiple NOTIFYs. The "each NOTIFY" string corresponds to having
> multiple REFER statements in a dialog - a completely different context.
>
I made the same interpretation when reviewing the draft. In section 3.9, you
say "Using message/sipfrag bodies to return the progress and results of a
REFER request is extremely powerful". I interpret "progress" to mean that
the recipient MAY send multiple NOTIFYs with things like provisional
responses. If this is not true, the draft should explicitly state that there
should only by one NOTIFY per REFER.

> Now, the effect of multiple 2xxs to an INVITE on what the referred
> party generates is a policy decision the referred party must make.
> If they have a minimal implementation, they'll send a NOTIFY upon
> receiving the first 200 OK and toss the implied subscription state.
> Other implementations might do as you suggest and generate subsequent
> notifications (meaning "I succeeded again"?) but they would most
> likely get 481ed.
>



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 17:02:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA05596
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 17:02:49 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA28162
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 17:02:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA27301;
	Mon, 26 Nov 2001 16:40:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA27272
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 16:40:39 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA04059
	for <sip@ietf.org>; Mon, 26 Nov 2001 16:40:33 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fAQLdPVZ022483;
	Mon, 26 Nov 2001 16:39:25 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HT1AV>; Mon, 26 Nov 2001 16:39:15 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E820@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Bob Penfield'" <bpenfield@acmepacket.com>,
        Robert Sparks
	 <rsparks@dynamicsoft.com>,
        "'Christer Holmberg'"
	 <christer.holmberg@lmf.ericsson.se>,
        sip@ietf.org
Subject: RE: [Sip] REFER issues
Date: Mon, 26 Nov 2001 16:39:12 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> -----Original Message-----
> From: Bob Penfield [mailto:bpenfield@acmepacket.com]
> Sent: Monday, November 26, 2001 2:46 PM
> To: Robert Sparks; 'Christer Holmberg'; sip@ietf.org
> Subject: Re: [Sip] REFER issues
> 
> 
> > > Q2.
> > >
> > > If the INVITE "triggered" by the REFER gets forked, the UAC
> > > may receive
> > > multiple 2xx final responses, in which case multiple 
> NOTIFYs will be
> > > sent to the client who issued the REFER. The draft does say "each
> > > NOTIFY", but maybe this scenario should be mentioned a 
> little more?
> >
> > You've made quite a leap here - the REFER draft makes no requirement
> > for such multiple NOTIFYs. The "each NOTIFY" string 
> corresponds to having
> > multiple REFER statements in a dialog - a completely 
> different context.
> >
> I made the same interpretation when reviewing the draft. In 
> section 3.9, you
> say "Using message/sipfrag bodies to return the progress and 
> results of a
> REFER request is extremely powerful". I interpret "progress" 
> to mean that
> the recipient MAY send multiple NOTIFYs with things like provisional
> responses. If this is not true, the draft should explicitly 
> state that there
> should only by one NOTIFY per REFER.

Yes, a recipient MAY send multiple NOTIFYs reflecting provisional
responses (there's been much discussion on the list in the past
as to just how useful this may or may not be).

The situation Christer brought up concerned multiple FINAL responses.
The point to take away is that the draft only requires (and that only
at SHOULD strength) one (1) NOTIFY representing success or failure.
It allows multiple NOTIFYs, so sending progress via provisionals is ok.

It would even allow multiple NOTIFYs containing potentially different
final responses, which is probably not a bad thing given that REFER is
supposed to be a general purpose tool. Each use should talk about what
multiple final response NOTIFYs might mean. For transfer, we only get
one failure final response, usually one success final response, and
at the edge multiple success final responses to the INVITE. Its pretty
clear what to do with the NOTIFY in the case of the failure final
response. Its also pretty clear what to do with the NOTIFY if there
is only one success final response. The question is do we need to put
requirements on the use of REFER in transfers wrt notification of
multiple
successes? I'm strongly inclined to say no. Nothing prevents them from
being sent, nothing breaks if they are sent - does anything break if
they
aren't? I don't think so.

> 
> > Now, the effect of multiple 2xxs to an INVITE on what the referred
> > party generates is a policy decision the referred party must make.
> > If they have a minimal implementation, they'll send a NOTIFY upon
> > receiving the first 200 OK and toss the implied subscription state.
> > Other implementations might do as you suggest and generate 
> subsequent
> > notifications (meaning "I succeeded again"?) but they would most
> > likely get 481ed.
> >
> 
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Mon Nov 26 18:45:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA13004
	for <sip-archive@odin.ietf.org>; Mon, 26 Nov 2001 18:45:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA01122
	for sip-archive@odin.ietf.org; Mon, 26 Nov 2001 18:45:05 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA00583;
	Mon, 26 Nov 2001 18:27:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id SAA00456
	for <sip@optimus.ietf.org>; Mon, 26 Nov 2001 18:27:08 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA11853;
	Mon, 26 Nov 2001 18:27:04 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id RAA19462;
	Mon, 26 Nov 2001 17:26:33 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch2.nortel.com;
          Mon, 26 Nov 2001 17:19:14 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <XRGV4Z42>; Mon, 26 Nov 2001 17:25:02 -0600
Message-ID: <933FADF5E673D411B8A30002A5608A0E06F314@zrc2c012.us.nortel.com>
From: "Sanjoy Sen" <sanjoy@nortelnetworks.com>
To: sipping@ietf.org, "'sip@ietf.org'" <sip@ietf.org>
Cc: "Sanjoy Sen" <sanjoy@nortelnetworks.com>
Date: Mon, 26 Nov 2001 17:25:01 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C176D1.924CE580"
X-Orig: <sanjoy@americasm01.nt.com>
Subject: [Sip] new I-D: Redirection Service capability in SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C176D1.924CE580
Content-Type: text/plain;
	charset="iso-8859-1"

All,
 
    We've submitted a new ID draft-bharatia-sipping-redirect-00.txt which
analyzes the requirements for SIP to carry redirection-related information
to support various redirection-based services such as Voice-mail, ACD etc.
Although current SIP does support redirection capabilities, it needs to
carry certain additional pieces of information to enable interworking with
such legacy services as a SIP call to a PSTN voicemail and vice-versa. These
addititonal pieces of information are listed, along with the reason why
they're needed, and which SIP headers might carry some of these information.
We also analyze some of the existing solutions (such as Diversion header,
RFC 3087), and finally discuss using three proposed headers to carry these
information - 1) State, 2) Cookie and 3) Remote-Party-Id. Our solution bias
towards the RPI header are due to - a) it is used for privacy (which is an
important requirement) and the redirection information really characterizes
a remote party endpoint, and b) its a current WG draft. For more details,
please refer to:
 
http://search.ietf.org/internet-drafts/draft-bharatia-sipping-redirect-00.tx
t
<http://search.ietf.org/internet-drafts/draft-bharatia-sipping-redirect-00.t
xt> 
 
Any comments/feedback will be very much appreciated.
 
Regards,
 
Sanjoy Sen
Nortel Networks


========== 
Abstract: SIP is selected as a session control protocol for many VOIP 
   applications. Hence it should provide capabilities for supporting 
   such redirection-based services as automatic call distribution for 
   call centers, third-party voicemail, follow-me service etc. The 
   concept of Call Redirection is implicit in the capabilities already 
   defined for SIP Proxies and Clients. However, in order to allow 
   redirection to be used as a component of other services (in 
   particular voicemail), and in order to facilitate inter-working with 
   existing services, these capabilities needs to operate in a 
   consistent and well-defined way, and also need to support transfer 
   of certain additional pieces of information, such as redirecting and 
   redirected-to addresses, redirecting reason, redirection counter 
   etc. This draft discusses this required set of information, 
   evaluates existing work and proposes solution to this effect. 

   


------_=_NextPart_001_01C176D1.924CE580
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<TITLE>new I-D: Redirection Service capability in SIP</TITLE>

<META content=3D"MSHTML 5.00.2314.1000" name=3DGENERATOR></HEAD>
<BODY>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001>All,</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001>&nbsp;&nbsp;&nbsp; We've submitted a new ID=20
draft-bharatia-sipping-redirect-00.txt which analyzes the requirements =
for SIP=20
to carry redirection-related information to support various =
redirection-based=20
services such as Voice-mail, ACD etc. Although current SIP does support =

redirection capabilities, it needs to carry certain additional pieces =
of=20
information to enable interworking with such legacy services as a SIP =
call to a=20
PSTN voicemail and vice-versa. These addititonal pieces of =
information&nbsp;are=20
listed, along with the reason why they're needed, and which SIP headers =
might=20
carry some of these information. We also analyze some of the existing =
solutions=20
(such as Diversion header, RFC 3087), and finally discuss using three =
proposed=20
headers to carry these information - 1) State, 2) Cookie and 3)=20
Remote-Party-Id.&nbsp;Our solution bias towards the RPI header are due =
to - a)=20
it is used for privacy (which is an important requirement) and the =
redirection=20
information really characterizes&nbsp;a remote party endpoint, and b) =
its a=20
current WG draft. For more details, please refer =
to:</SPAN></FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D840215122-26112001><A=20
href=3D"http://search.ietf.org/internet-drafts/draft-bharatia-sipping-re=
direct-00.txt">http://search.ietf.org/internet-drafts/draft-bharatia-sip=
ping-redirect-00.txt</A></SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D840215122-26112001>Any=20
comments/feedback will be very much appreciated.</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001>Regards,</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN=20
class=3D840215122-26112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D840215122-26112001>Sanjoy=20
Sen</SPAN></FONT></DIV>
<DIV><FONT color=3D#0000ff face=3DArial size=3D2><SPAN =
class=3D840215122-26112001>Nortel=20
Networks</SPAN></FONT></DIV>
<BLOCKQUOTE=20
style=3D"BORDER-LEFT: #0000ff 2px solid; MARGIN-LEFT: 5px; =
MARGIN-RIGHT: 0px; PADDING-LEFT: 5px"><BR>
  <P><FONT size=3D2>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D</FONT> <BR><FONT =
size=3D2>Abstract: SIP is selected=20
  as a session control protocol for many VOIP </FONT><BR><FONT=20
  size=3D2>&nbsp;&nbsp; applications. Hence it should provide =
capabilities for=20
  supporting </FONT><BR><FONT size=3D2>&nbsp;&nbsp; such =
redirection-based=20
  services as automatic call distribution for </FONT><BR><FONT=20
  size=3D2>&nbsp;&nbsp; call centers, third-party voicemail, follow-me =
service=20
  etc. The </FONT><BR><FONT size=3D2>&nbsp;&nbsp; concept of Call =
Redirection is=20
  implicit in the capabilities already </FONT><BR><FONT =
size=3D2>&nbsp;&nbsp;=20
  defined for SIP Proxies and Clients. However, in order to allow=20
  </FONT><BR><FONT size=3D2>&nbsp;&nbsp; redirection to be used as a =
component of=20
  other services (in </FONT><BR><FONT size=3D2>&nbsp;&nbsp; particular =
voicemail),=20
  and in order to facilitate inter-working with </FONT><BR><FONT=20
  size=3D2>&nbsp;&nbsp; existing services, these capabilities needs to =
operate in=20
  a </FONT><BR><FONT size=3D2>&nbsp;&nbsp; consistent and well-defined =
way, and=20
  also need to support transfer </FONT><BR><FONT size=3D2>&nbsp;&nbsp; =
of certain=20
  additional pieces of information, such as redirecting and =
</FONT><BR><FONT=20
  size=3D2>&nbsp;&nbsp; redirected-to addresses, redirecting reason, =
redirection=20
  counter </FONT><BR><FONT size=3D2>&nbsp;&nbsp; etc. This draft =
discusses this=20
  required set of information, </FONT><BR><FONT size=3D2>&nbsp;&nbsp; =
evaluates=20
  existing work and proposes solution to this effect.</FONT> </P>
  <P><FONT size=3D2>&nbsp;&nbsp; </FONT></P></BLOCKQUOTE></BODY></HTML>

------_=_NextPart_001_01C176D1.924CE580--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 06:18:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA19640
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 06:17:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA27447
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 06:17:59 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA26961;
	Tue, 27 Nov 2001 06:02:25 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA26930
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 06:02:22 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA18826;
	Tue, 27 Nov 2001 06:02:19 -0500 (EST)
Message-Id: <200111271102.GAA18826@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Tue, 27 Nov 2001 06:02:18 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-manyfolks-resource-03.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: Integration of Resource Management and SIP
	Author(s)	: W. Marshall et al.
	Filename	: draft-ietf-sip-manyfolks-resource-03.txt
	Pages		: 28
	Date		: 26-Nov-01
	
This document discusses how network QoS and security establishment
can be made a precondition to sessions initiated by the Session
Initiation Protocol (SIP), and described by SDP. These preconditions
require that the participant reserve network resources (or establish
a secure media channel) before continuing with the session. We do
not define new QoS reservation or security mechanisms; these pre-
conditions simply require a participant to use existing resource
reservation and security mechanisms before beginning the session.
This results in a multi-phase call-setup mechanism, with the
resource management protocol interleaved between two phases of call
signaling. The objective of such a mechanism is to enable deployment
of robust IP Telephony services, by ensuring that resources are made
available before the phone rings and the participants of the call
are 'invited' to participate.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-manyfolks-resource-03.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-manyfolks-resource-03.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-manyfolks-resource-03.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011126102209.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-manyfolks-resource-03.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-manyfolks-resource-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011126102209.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 06:19:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA19707
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 06:19:22 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA27521
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 06:19:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA26998;
	Tue, 27 Nov 2001 06:02:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA26965
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 06:02:27 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA18839;
	Tue, 27 Nov 2001 06:02:24 -0500 (EST)
Message-Id: <200111271102.GAA18839@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Tue, 27 Nov 2001 06:02:24 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-call-auth-03.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Extensions for Media Authorization
	Author(s)	: W. Marshall et al.
	Filename	: draft-ietf-sip-call-auth-03.txt
	Pages		: 16
	Date		: 26-Nov-01
	
This document describes the need for call authorization and offers a 
mechanism for call authorization that can be used for admission control 
and against denial of service attacks.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-call-auth-03.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-call-auth-03.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-call-auth-03.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011126102228.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-call-auth-03.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-call-auth-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011126102228.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 10:02:12 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA01697
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 10:02:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA03702
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 10:02:13 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03078;
	Tue, 27 Nov 2001 09:45:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA03047
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 09:45:00 -0500 (EST)
Received: from pmesmtp01.wcom.com (pmesmtp01.wcom.com [199.249.20.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA00455
	for <sip@ietf.org>; Tue, 27 Nov 2001 09:44:58 -0500 (EST)
Received: from dgismtp02.wcomnet.com ([166.38.58.142])
 by firewall.wcom.com (PMDF V5.2-33 #47837)
 with ESMTP id <0GNG00ANORKW7E@firewall.wcom.com> for sip@ietf.org; Tue,
 27 Nov 2001 14:43:44 +0000 (GMT)
Received: from dgismtp02.wcomnet.com by dgismtp02.wcomnet.com
 (PMDF V5.2-33 #42263) with SMTP id <0GNG00E01RKMZ3@dgismtp02.wcomnet.com> for
 sip@ietf.org; Tue, 27 Nov 2001 14:43:43 +0000 (GMT)
Received: from skanchina ([166.35.144.87])
 by dgismtp02.wcomnet.com (PMDF V5.2-33 #42263)
 with SMTP id <0GNG00CILRKGGS@dgismtp02.wcomnet.com> for sip@ietf.org; Tue,
 27 Nov 2001 14:43:29 +0000 (GMT)
Date: Tue, 27 Nov 2001 08:54:51 -0600
From: Sharma Kanchinadham <sharma.kanchinadham@wcom.com>
To: sip@ietf.org
Reply-to: sharma.kanchinadham@wcom.com
Message-id: <004601c17753$78386fc0$579023a6@wcomnet.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] Reg draft-ietf-avt-rtp-mime-05.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

I have some comments/observations on draft-ietf-avt-rtp-mime-05.txt. Please
provide your inputs/opinion.

The link to the draft is:
http://search.ietf.org/internet-drafts/draft-ietf-avt-rtp-mime-05.txt


1. The parameter "annexb" is not always applicable. For example in G.711 the
Silence Suppression is Appendix II. Hence there needs to be more values such
as "appendix_II" and "cisco_vad".

2. The second item is currently if the "annexb" parameter is ommitted then
it is assumed that Silence Suppression is supported (basically it is treated
as if it is "yes"). This would create backward compatibility problems when
interworking with platforms that do not want to do the development. Is it
possible to reverse this ?



Thanks ,
Sharma Kanchinadham
Worldcom



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 10:37:10 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04028
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 10:37:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04750
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 10:35:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04056;
	Tue, 27 Nov 2001 10:19:31 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA04025
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 10:19:28 -0500 (EST)
Received: from purple.nge.isi.edu (reserved.east.isi.edu [65.114.168.32])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA02894
	for <sip@ietf.org>; Tue, 27 Nov 2001 10:19:24 -0500 (EST)
Received: from purple.nge.isi.edu (localhost [127.0.0.1])
	by purple.nge.isi.edu (8.11.6/8.11.6) with ESMTP id fARFJLv02487;
	Tue, 27 Nov 2001 10:19:22 -0500
Message-Id: <200111271519.fARFJLv02487@purple.nge.isi.edu>
To: sharma.kanchinadham@wcom.com
cc: sip@ietf.org
Subject: Re: [Sip] Reg draft-ietf-avt-rtp-mime-05.txt 
In-Reply-To: Your message of "Tue, 27 Nov 2001 08:54:51 CST."
             <004601c17753$78386fc0$579023a6@wcomnet.com> 
Date: Tue, 27 Nov 2001 10:19:21 -0500
From: Colin Perkins <csp@isi.edu>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--> Sharma Kanchinadham writes:
>I have some comments/observations on draft-ietf-avt-rtp-mime-05.txt. Please
>provide your inputs/opinion.
>
>The link to the draft is:
>http://search.ietf.org/internet-drafts/draft-ietf-avt-rtp-mime-05.txt

You should really ask this question on the AVT group's mailing list
<avt@ietf.org>, since it doesn't relate to SIP.

>1. The parameter "annexb" is not always applicable. For example in G.711 the
>Silence Suppression is Appendix II. Hence there needs to be more values such
>as "appendix_II" and "cisco_vad".

The annexb parameter is defined only for G.729. It cannot be applied to
other payload formats.

>2. The second item is currently if the "annexb" parameter is ommitted then
>it is assumed that Silence Suppression is supported (basically it is treated
>as if it is "yes"). This would create backward compatibility problems when
>interworking with platforms that do not want to do the development. Is it
>possible to reverse this ?

There is no backwards compatibility issue, since this parameter is only
valid for G729, and was introduced at the same time as that payload format. 

Colin

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 10:37:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA04053
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 10:37:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA04877
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 10:37:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03974;
	Tue, 27 Nov 2001 10:18:21 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA03942
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 10:18:14 -0500 (EST)
Received: from gorilla.mchh.siemens.de (gorilla.mchh.siemens.de [194.138.158.18])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA02726
	for <sip@ietf.org>; Tue, 27 Nov 2001 10:18:12 -0500 (EST)
Received: from blues.mchh.siemens.de (mail2.mchh.siemens.de [194.138.158.227])
	by gorilla.mchh.siemens.de (8.9.3/8.9.3) with ESMTP id QAA13006
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:18:11 +0100 (MET)
Received: from mchh274e.demchh201e.icn.siemens.de ([139.21.200.84])
	by blues.mchh.siemens.de (8.9.1/8.9.1) with ESMTP id QAA28265
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:18:13 +0100 (MET)
Received: by MCHH274E with Internet Mail Service (5.5.2653.19)
	id <V0P59CC2>; Tue, 27 Nov 2001 16:17:43 +0100
Message-ID: <2F55078199E8D411A9D50008C71E2F9D885AB4@MCHH232E>
From: Buettner Werner <Werner.Buettner@icn.siemens.de>
To: "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 27 Nov 2001 16:17:42 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="ISO-8859-1"
Subject: [Sip] To-Tag
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Dear All

I have two questions, and hope that some of you will find the time to answer.

The first question concerns the interpretation of the To-Header tag usage in the SIP protocol.  This question has arisen after bis05 was released.

 Consider the following scenario:  (diagram in terminal font!!! - fixed width)

   UAC                  Proxy A               Proxy B                  UAS
    |                     |                      |                      |
    |------ Invite ------>|----- Invite -------> |---- Invite --------->|
    |                     |                      |                      |
    |<--- 180, tag A -----|<--- 180, tag A ----- |<---- 180, tag A -----|
    |                     |                      |                      |
    |                     |        (*)           |<---- 480, tag A -----|
    |                     |                      |---- ACK, tag A ----->|
    |                     |<---- 480, tag B -----|                      |
    |                     |---- ACK, tag B ----->|                      |
    |<---- 480, tag C ----|                      |                      |
    |---- ACK, tag C ---->|                      |                      |

This call flow is taken from the call flow draft [draft-ietf-sip-call-flows-05.txt, 3.2.4]

In the draft it is stated that the to-tag has the purpose of distinguishing between different UAS when forking is done.  This has prompted us to include the to-tag in order to match up requests and following responses.  However, as you can see (marked with a *) the tags between the 180 response at proxy B and the follow-up 480 response are different.  This causes problems in the transaction handling.  

Another example: In the call flow draft [refer draft-ietf-sip-call-flows-05.txt, page 32 steps F7,F8, F9 and F10] which accompany the RFC2543 drafts it is shown that the non 200 responses (407 in this specific example) which are received are tagged by each proxy with a different tag.  This tag is then also present in the following ACK message.  

But, it is mentioned in RFC2543 bis 04 or 05that the proxy is only allowed to set the to tag for locally generated responses.  My interpretation of this is that the proxy may (and must) only tag responses which terminate a request at that point, and not responses which are received from further downstream (even if they are negative responses to INVITEs which are ACKed step by step.  Furthermore, I refer you all to a mail by Robert Sparks on the mailing list, which seems to strengthen this view.  [refer http://www1.ietf.org/mail-archive/working-groups/sip/current/msg01706.html] 

But, if this view is correct, then the call flow examples are incorrect.  In RFC2543 it is furthermore mentioned that several parameters including TO, FROM CALL-ID etc are used to establish whether an ACK is for the proxy (hence, does not need proxying).  If these responses could be tagged by the proxy then surely the tag would be enough to establish this.

It would be very kind if someone could provide me with some clarification on this point, since it seems like there is more than one interpretation possible.  Also, it seems like an attempt was done in bis-05 to clarify this point (which means that there was some sort of confusing), but I am not sure if I understand it correctly.  

Secondly, I would like to know why it is not possible to add a port number to the maddr parameter?  Consider receiving a "305 use proxy" with the following contact:

Contact: <sip:siemens.de:6666>

If the original INVITE had a request line which looked like this:  INVITE sip:bob@other.com SIP/2.0

then the contact of the 305 message should be witten as a maddr parameter within the request line of the new invite request.  But, where does one place the port if a maddr parameter cannot consist of a host and port number?  We have currently solved the problem on the UDP/TCP layer.  Hence, send the same invite response to siemens.de port 6666.  Wouldnt it be nicer if the maddr parameter could have a port part as well.  After all, each host address could have a specific port number, too.

I thank you for your time and effort in advance.

Sincere Regards

Werner Bttner
Siemens AG
ICN WN CC NA D12
Network Aplications - hiQ6200

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 11:16:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA06772
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 11:16:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA06408
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 11:16:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05353;
	Tue, 27 Nov 2001 10:53:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA05300
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 10:53:40 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA05149
	for <sip@ietf.org>; Tue, 27 Nov 2001 10:53:38 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fARFrGVZ023832;
	Tue, 27 Nov 2001 10:53:17 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HT1KP>; Tue, 27 Nov 2001 10:53:04 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E82C@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Buettner Werner'" <Werner.Buettner@icn.siemens.de>,
        "'sip@ietf.org'"
	 <sip@ietf.org>
Subject: RE: [Sip] To-Tag
Date: Tue, 27 Nov 2001 10:53:02 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

inline

> -----Original Message-----
> From: Buettner Werner [mailto:Werner.Buettner@icn.siemens.de]
> Sent: Tuesday, November 27, 2001 9:18 AM
> To: 'sip@ietf.org'
> Subject: [Sip] To-Tag
> 
> 
> Dear All
> 
> I have two questions, and hope that some of you will find the 
> time to answer.
> 
> The first question concerns the interpretation of the 
> To-Header tag usage in the SIP protocol.  This question has 
> arisen after bis05 was released.
> 
>  Consider the following scenario:  (diagram in terminal 
> font!!! - fixed width)
> 
>    UAC                  Proxy A               Proxy B
UAS
>     |                     |                      |
|
>     |------ Invite ------>|----- Invite -------> |---- Invite
--------->|
>     |                     |                      |
|
>     |<--- 180, tag A -----|<--- 180, tag A ----- |<---- 180,  tag A
-----|
>     |                     |                      |
|
>     |                     |        (*)           |<---- 480,  tag A
-----|
>     |                     |                      |---- ACK,  tag A
----->|
>     |                     |<---- 480, tag B -----|
|
>     |                     |---- ACK, tag B ----->|
|
>     |<---- 480, tag C ----|                      |
|
>     |---- ACK, tag C ---->|                      |
|

> > This call flow is taken from the call flow draft 
> [draft-ietf-sip-call-flows-05.txt, 3.2.4]
> 
> In the draft it is stated that the to-tag has the purpose of 
> distinguishing between different UAS when forking is done.  
> This has prompted us to include the to-tag in order to match 
> up requests and following responses.  However, as you can see 
> (marked with a *) the tags between the 180 response at proxy 
> B and the follow-up 480 response are different.  This causes 
> problems in the transaction handling.  

There was a thread on exactly this on sip-implementors
recently (Titled "How does a forking proxy handle To tag
in error response selection"). 

You are perceiving a false problem above. You can generate
exactly the same set of messages from the UAC's perspective
by having request fork, and having a 480 be returned as the
"best" response from a different UAS. See the sip-implementors
thread for more detail.

> 
> Another example: In the call flow draft [refer 
> draft-ietf-sip-call-flows-05.txt, page 32 steps F7,F8, F9 and 
> F10] which accompany the RFC2543 drafts it is shown that the 
> non 200 responses (407 in this specific example) which are 
> received are tagged by each proxy with a different tag.  This 
> tag is then also present in the following ACK message.  
> 
> But, it is mentioned in RFC2543 bis 04 or 05that the proxy is 
> only allowed to set the to tag for locally generated 
> responses.  My interpretation of this is that the proxy may 
> (and must) only tag responses which terminate a request at 
> that point, and not responses which are received from further 
> downstream (even if they are negative responses to INVITEs 
> which are ACKed step by step.  Furthermore, I refer you all 
> to a mail by Robert Sparks on the mailing list, which seems 
> to strengthen this view.  
> [refer 
>
http://www1.ietf.org/mail-archive/working-groups/sip/current/msg01706.ht
ml] 

I disagree that my message strengthens the view you are putting
forth.

Again, refer to the thread on sip-implementors - there was
quite a bit of discussion around this. To summarize:

When a stateful proxy sends a non-200 response upstream to a
request that might create a dialog (that's a pretty restrictive
set of preconditions - read it carefully - in particular it means
we're talking about requests that don't already have a To tag),
the next upstream element can not distinguish whether the proxy 
forwarded a response keeping a tag, or made up its own response 
with a new tag.

Most implementations are likely to just reuse a tag when "forwarding"
a non-200 response in that situation, but if one chooses to use its
own tag, nothing breaks (and nothing outside that proxy can tell).
Consider in particular the act of "forwarding" a 401 or 407 where
you are required to gather the challenges from all the other 401
and 407 responses and include them in this one. What you are really
doing is making your own response based on information from the 
responses received. You can consider that to be the case for any
non-200 response you forward under these preconditions.

Now - if the request had a To tag, its a different story - the To
tag in every response will necessarily match the To tag in the request.

> But, if this view is correct, then the call flow examples are
> incorrect.

They are correct with respect to this issue.
 
>            In RFC2542 it is furthermore mentioned that several
> parameters including TO, FROM CALL-ID etc are used to establish 
> whether an ACK is for the proxy (hence, does not need proxying).
> If these responses could be tagged by the proxy then surely the
> tag would be enough to establish this.

I don't understand your question?

> 
> It would be very kind if someone could provide me with some
> clarification on this point, since it seems like there is more
> than one interpretation possible.  Also, it seems like an attempt
> was done in bis-05 to clarify this point (which means that there
> was some sort of confusing), but I am not sure if I understand
> it correctly.  

Hopefully this (and the thread on sip-implementors) covers it
for you. I did add clarifying text on this point to the proxy
section in the spec - it will be available with bis-06.


> 
> Secondly, I would like to know why it is not possible to add a
> port number to the maddr parameter?  Consider receiving a
> "305 use proxy" with the following contact:
> 
> Contact: <sip:siemens.de:6666>
> 
> If the original INVITE had a request line which looked like
> this:  INVITE sip:bob@other.com SIP/2.0
> 
> then the contact of the 305 message should be witten as a
> maddr parameter within the request line of the new invite 
> request.  But, where does one place the port if a maddr 
> parameter cannot consist of a host and port number?  
> We have currently solved the problem on the UDP/TCP 
> layer.  Hence, send the same invite response to 
> siemens.de port 6666.  Wouldnt it be nicer if the maddr 
> parameter could have a port part as well.  After all, 
> each host address could have a specific port number, too.
> 
> I thank you for your time and effort in advance.
> 
> Sincere Regards
> 
> Werner Bttner
> Siemens AG
> ICN WN CC NA D12
> Network Aplications - hiQ6200
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 11:39:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08322
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 11:38:59 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA07306
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 11:39:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA05930;
	Tue, 27 Nov 2001 11:04:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA05867
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 11:04:39 -0500 (EST)
Received: from dgesmtp02.wcom.com (dgesmtp02.wcom.com [199.249.16.17])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA05870;
	Tue, 27 Nov 2001 11:04:36 -0500 (EST)
Received: from dgismtp02.wcomnet.com ([166.38.58.142])
 by firewall.wcom.com (PMDF V5.2-33 #42261)
 with ESMTP id <0GNG00M5FV64W3@firewall.wcom.com>; Tue,
 27 Nov 2001 16:01:16 +0000 (GMT)
Received: from dgismtp02.wcomnet.com by dgismtp02.wcomnet.com
 (PMDF V5.2-33 #42263) with SMTP id <0GNG00B01V5ZJM@dgismtp02.wcomnet.com>;
 Tue, 27 Nov 2001 16:01:15 +0000 (GMT)
Received: from skanchina ([166.35.144.87])
 by dgismtp02.wcomnet.com (PMDF V5.2-33 #42263)
 with SMTP id <0GNG009EAV5LVV@dgismtp02.wcomnet.com>; Tue,
 27 Nov 2001 16:00:58 +0000 (GMT)
Date: Tue, 27 Nov 2001 10:12:24 -0600
From: Sharma Kanchinadham <sharma.kanchinadham@wcom.com>
Subject: RE: [Sip] Reg draft-ietf-avt-rtp-mime-05.txt
In-reply-to: <200111271519.fARFJLv02487@purple.nge.isi.edu>
To: "'Colin Perkins'" <csp@isi.edu>
Cc: sip@ietf.org, avt@ietf.org
Reply-to: sharma.kanchinadham@wcom.com
Message-id: <003e01c1775e$4db3ba60$579023a6@wcomnet.com>
MIME-version: 1.0
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
X-Mailer: Microsoft Outlook 8.5, Build 4.71.2173.0
Content-type: text/plain; charset=iso-8859-1
Content-transfer-encoding: 7bit
Importance: Normal
X-Priority: 3 (Normal)
X-MSMail-priority: Normal
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi ,

Thanks for the info on the AVT working group.

Regarding item 1 what i am trying to say is that:

There needs to be a new MIME subtype of G.711 as shown below:


MIME media type name: audio
MIME subtype name: G711
Required parameters: None
Optional parameters:

               appendix_II: indicates that appendix_II, silence suppression
                             is used.

Also there can be 2 types of Silence Suppression with G.729 i.e. G.729
annexb, or some kind of a proprietary silence suppression for example: G.729
with Cisco VAD. Hence it is suggested that there be a 'cisco_vad' or
'unspecified_vad' as another optional parameter under G.729.

The below mentioned draft is being considered as a basis for Silence
Suppression negotiation. In this connection, the second point assumes
significance. Assume a SIP client that is not conformant to this Internet
Draft. Hence it would not pass the 'annexb' parameter etc. However the draft
assumes that if 'annexb' is not passed it supports 'annexb'. Hence the far
end might start sending Silence Suppression packets and the SIP client may
not handle the SS packets properly. Thats what i mean by saying that it
causes backward compatibility problems.

Please see if you agree.



Thanks ,
Sharma Kanchinadham
Worldcom

============================================================================


-----Original Message-----
From: Colin Perkins [mailto:csp@isi.edu]
Sent: Tuesday, November 27, 2001 9:19 AM
To: sharma.kanchinadham@wcom.com
Cc: sip@ietf.org
Subject: Re: [Sip] Reg draft-ietf-avt-rtp-mime-05.txt


--> Sharma Kanchinadham writes:
>I have some comments/observations on draft-ietf-avt-rtp-mime-05.txt. Please
>provide your inputs/opinion.
>
>The link to the draft is:
>http://search.ietf.org/internet-drafts/draft-ietf-avt-rtp-mime-05.txt

You should really ask this question on the AVT group's mailing list
<avt@ietf.org>, since it doesn't relate to SIP.

>1. The parameter "annexb" is not always applicable. For example in G.711
the
>Silence Suppression is Appendix II. Hence there needs to be more values
such
>as "appendix_II" and "cisco_vad".

The annexb parameter is defined only for G.729. It cannot be applied to
other payload formats.

>2. The second item is currently if the "annexb" parameter is ommitted then
>it is assumed that Silence Suppression is supported (basically it is
treated
>as if it is "yes"). This would create backward compatibility problems when
>interworking with platforms that do not want to do the development. Is it
>possible to reverse this ?

There is no backwards compatibility issue, since this parameter is only
valid for G729, and was introduced at the same time as that payload format.

Colin


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 11:46:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA08924
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 11:46:58 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id LAA07584
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 11:47:00 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06546;
	Tue, 27 Nov 2001 11:19:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id LAA06515
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 11:19:36 -0500 (EST)
Received: from imo-m07.mx.aol.com (imo-m07.mx.aol.com [64.12.136.162])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id LAA07000
	for <sip@ietf.org>; Tue, 27 Nov 2001 11:19:33 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m07.mx.aol.com (mail_out_v31_r1.9.) id l.134.540c87f (4389);
	Tue, 27 Nov 2001 11:19:01 -0500 (EST)
Message-ID: <134.540c87f.293516f5@aol.com>
Date: Tue, 27 Nov 2001 11:19:01 EST
Subject: Re: [Sip] The Future of SIP Call Control
To: sip@ietf.org
CC: rohan@cisco.com
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/26/01 2:47:17 PM Eastern Standard Time, rohan@cisco.com 
writes:

> Hi Everyone,
>  
>  Currently SIP Call Control is an item on the SIP Charter:
>  
>   >The specific deliverables of the group are:
>  ...
>   >2. callcontrol: Completion of the SIP call control specifications, which
>   >enables multiparty services, such as transfer and bridged sessions.
>  ...
>  
>  Obviously this charter item is not as important as bis, but we should 
>  either make progress on it or drop it.
>  
>  Aside from work on REFER and transfer, there has been very little activity 
>  on call control.  I believe call control needs a holistic apporach.  I 
>  don't think we can add transfer here, conference there, park here, 
>  etc.  Therefore I propose that we take one of the following actions:
>  
>  1)  Write a Call Control requirements document in SIP.  Quickly identify 
>  missing peices and evaluate proposals for adding the required 
>  functionality.  A subteam can do a lot of this work and post the issues 
>  back to the list.  This would only require a Milestone recharter in SIP.
>  
>  2)  Do Call Control framework and requirements documents in SIPPING.  Pass 
>  the requirements to SIP.  Quickly identify missing peices/evaluate 
>  proposals, etc.   (This is similar to the proposal for *new* work items in 
>  SIP).  This would require a recharter in both SIPPING and SIP (to move 
>  cc-framework to SIPPING).
>  
>  3)  Abandon call control altogether.  I would be very disappointed if we 
>  let this happen.
>  
>  thanks,
>  -rohan (as an individual)
>  
>  
Interesting question. I had naively thought that everything being discussed 
beyond baisc "Session Initiation" was really "Call Control".

The seemingly endless discussions on "REFER" and "CANCEL" and forks and 
receiving two requests, etc are all issues that effect the control of 
real-life telephone calls. The real world is a lot more complicated then the 
simple establishment of a one-to-one call/connection ("session") between two 
perfectly cooperating devices.

Yes, it is critically important that each service (call transfer, conference, 
park) not be dealt with separately. I believe a lot of the discussion on 
REFER has been exactly that - discussing the details of a specific protocol 
element and its interaction with other protocol elements, without an 
agreement on the big picture or requirements. Where is the statement of the 
functional requirements for a Call Transfer service to be supported by SIP? I 
would be the first to agree that it doesn't have to be exactly what the 
circuit switched network provides, which is somewhat a matter of evolution 
based on the genes of that network. The IP-based network may have better 
genes (or lack some in some areas) that could result in a slightly different 
service operation for Call Transfer. But it needs to be agreed before the 
detailed protocol work is done.

The development of services for ISDN (and H.323 by extension) was blessed? by 
the previous, well-understood definitions of these services in the existing 
circuit-switched world. While the SIP work was apparently intended to break 
from that background, it does not appear to have created the base on which to 
develop protocols to support Call Control. As other groups have found, that 
step can't be avoided.

I had understood that this function was to be the work of SIPPING. I would 
hope that SIPPING (or whatever WG) is able to write a Service Description 
document that would identify the services and their operation that are 
required to be supported by SIP, and would identify how they interact with 
each other. This document would not mention "REFER" or "INVITE" or any other 
protocol element. (In ITU-T, this is referred to a "Stage 1" of the 
standardization process.) When this is done, SIP WG could develop protocol 
elements for the agreed to services. (This is "Stage 2" and "Stage 3" in the 
ITU-T.) Sometimes, I get the feeling that IETF is good at jumping in at the 
"Stage 3" point in the development, which works fine for well-contained, 
bounded protocol tasks, but fails miserably for things as complex as 
telephony.

My thoughts (also as an individual),
Mike Pierce



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 13:35:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA16211
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 13:35:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA11833
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 13:35:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA10744;
	Tue, 27 Nov 2001 13:06:40 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA10717
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:06:38 -0500 (EST)
Received: from prue.eim.surrey.ac.uk (IDENT:exim@prue.eim.surrey.ac.uk [131.227.76.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14379
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:06:36 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by prue.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 168mcs-0000X3-00
	for sip@ietf.org; Tue, 27 Nov 2001 18:06:34 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 168mcr-0003oS-00
	for sip@ietf.org; Tue, 27 Nov 2001 18:06:33 +0000
Date: Tue, 27 Nov 2001 18:06:33 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: sip@ietf.org
In-Reply-To: <200111271102.GAA18839@ietf.org>
Message-ID: <Pine.GSO.4.21.0111271750070.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *168mcs-0000X3-00*4nKBOpTC3tc* http://duncanthrax.net/exiscan/
Subject: [Sip] multicast conference service of SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, falks,
  for the case of multicast conference service using SIP as signalling
protocol, I know from draft-ietf-sipping-conferencing-models-00.txt that
only media streams are transported using multicast rather than multicast
signalling. I now wondered if a callee can know all of the rest existing
users in the conference upon receipt of the first INVITE and if it should
establish sip connections with all of them. 
I know RTCP uses multicast to inform all of the participants network
status.why we don't use the same mechanism to broadcast information which
can be used for session control and management?
cheers,
lei



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 13:45:22 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA16848
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 13:45:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12035
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 13:45:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA10830;
	Tue, 27 Nov 2001 13:08:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA10799
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:08:47 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA14452
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:08:45 -0500 (EST)
Received: from gab200r1.ems.att.com ([135.37.94.32])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fARI7vD09343;
	Tue, 27 Nov 2001 13:08:03 -0500 (EST)
Received: from njb140bh1.ems.att.com by gab200r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id NAA09487; Tue, 27 Nov 2001 13:08:23 -0500 (EST)
Received: by njb140bh1.ems.att.com with Internet Mail Service (5.5.2653.19)
	id <XJ1T3YTW>; Tue, 27 Nov 2001 13:07:52 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F958C1C5@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Mpierce1@aol.com, rohan@cisco.com
Cc: sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Tue, 27 Nov 2001 13:07:45 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

...

Yes, it is critically important that each service (call transfer,
conference, 
park) not be dealt with separately. 

...

Where is the statement of the 
functional requirements for a Call Transfer service to be supported by SIP? 
...

[RRR] Both Rohan and Mike have raised good questions. 

[RRR] I believe that "SIP Call Control" will include the items like call
transfer (consultation transfer, out-of-consultation transfer), conference
(out-of consultation), call park, call diversion, call hold
(near-end/remote-end hold, near-end/remote-end hold/retrieve), call
diversion, call/message waiting, message waiting callback, call intrusion
and others.

[RRR] The next thing, as Mike pointed out, let us define the functional
requirements for each call service (although standard works for some
services are going on). It will provide the big picture how all those
services will be glued together when we develop standards.

[RRR] Any comments?

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 13:51:59 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17386
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 13:51:54 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12108
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 13:51:56 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11221;
	Tue, 27 Nov 2001 13:23:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11190
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:23:08 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15262
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:23:06 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARILA7x011108;
	Tue, 27 Nov 2001 13:21:11 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4PZL>; Tue, 27 Nov 2001 13:22:37 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7012@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Lei Liang'" <l.liang@eim.surrey.ac.uk>, sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
Date: Tue, 27 Nov 2001 13:22:37 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Tuesday, November 27, 2001 1:07 PM
> To: sip@ietf.org
> Subject: [Sip] multicast conference service of SIP
> 
> 
> hi, falks,
>   for the case of multicast conference service using SIP as signalling
> protocol, I know from 
> draft-ietf-sipping-conferencing-models-00.txt that
> only media streams are transported using multicast rather 
> than multicast
> signalling. I now wondered if a callee can know all of the 
> rest existing
> users in the conference upon receipt of the first INVITE and 
> if it should
> establish sip connections with all of them. 

What you are talking about is fully distribute multiparty conferencing,
which uses a full mesh of signaling relationships among participants. Thats
a really hard problem, and not a conferencing model there appears to be real
demand for. We've been around the bush a few times on it, and never came up
with a simple yet correct solution. Centralized signaling for conferences
(whether its "centralized" in a handset or the network is irrelevant) is
well understood and easily done with SIP, so that is the area work has
focused on.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 13:55:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17605
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 13:55:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA12143
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 13:55:14 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11036;
	Tue, 27 Nov 2001 13:20:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11005
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:20:07 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA15042
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:20:05 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARII97x011088;
	Tue, 27 Nov 2001 13:18:09 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4PZB>; Tue, 27 Nov 2001 13:19:36 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7011@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Rohan Mahy'" <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Tue, 27 Nov 2001 13:19:36 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

I think (2) is the right approach.

We already know about a few call control primitives that we need to
standardize in SIP; namely, REFER and 3pcc. That work is already underway.
What missing is whether that is sufficient for all call control services.
I'm sure its not, and I'm sure we'll also need things like the call and
conference state subscription work. To fully determine whats needed, I would
support a sipping item to work through some scenarios and distill out a set
of required protocol primitives for supporting a range of services.

This is not the same as standardizing those services, which I do not
support. 

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Monday, November 26, 2001 2:40 PM
> To: sip@ietf.org
> Cc: rohan@cisco.com
> Subject: [Sip] The Future of SIP Call Control
> 
> 
> Hi Everyone,
> 
> Currently SIP Call Control is an item on the SIP Charter:
> 
>  >The specific deliverables of the group are:
> ...
>  >2. callcontrol: Completion of the SIP call control 
> specifications, which
>  >enables multiparty services, such as transfer and bridged sessions.
> ...
> 
> Obviously this charter item is not as important as bis, but we should 
> either make progress on it or drop it.
> 
> Aside from work on REFER and transfer, there has been very 
> little activity 
> on call control.  I believe call control needs a holistic 
> apporach.  I 
> don't think we can add transfer here, conference there, park here, 
> etc.  Therefore I propose that we take one of the following actions:
> 
> 1)  Write a Call Control requirements document in SIP.  
> Quickly identify 
> missing peices and evaluate proposals for adding the required 
> functionality.  A subteam can do a lot of this work and post 
> the issues 
> back to the list.  This would only require a Milestone 
> recharter in SIP.
> 
> 2)  Do Call Control framework and requirements documents in 
> SIPPING.  Pass 
> the requirements to SIP.  Quickly identify missing peices/evaluate 
> proposals, etc.   (This is similar to the proposal for *new* 
> work items in 
> SIP).  This would require a recharter in both SIPPING and SIP 
> (to move 
> cc-framework to SIPPING).
> 
> 3)  Abandon call control altogether.  I would be very 
> disappointed if we 
> let this happen.
> 
> thanks,
> -rohan (as an individual)
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 14:14:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA19199
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 14:14:42 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA12925
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 14:14:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11990;
	Tue, 27 Nov 2001 13:44:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA11957
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:44:15 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA16803
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:44:12 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARIgE7x011301;
	Tue, 27 Nov 2001 13:42:15 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4P7M>; Tue, 27 Nov 2001 13:43:41 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7014@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Robert Sparks <rsparks@dynamicsoft.com>,
        "'Buettner Werner'"
	 <Werner.Buettner@icn.siemens.de>,
        "'sip@ietf.org'" <sip@ietf.org>
Subject: RE: [Sip] To-Tag
Date: Tue, 27 Nov 2001 13:43:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


some further clarifications inline.
 

> -----Original Message-----
> From: Robert Sparks [mailto:rsparks@dynamicsoft.com]
> Sent: Tuesday, November 27, 2001 10:53 AM
> To: 'Buettner Werner'; 'sip@ietf.org'
> Subject: RE: [Sip] To-Tag
> 
> > > This call flow is taken from the call flow draft 
> > [draft-ietf-sip-call-flows-05.txt, 3.2.4]
> > 
> > In the draft it is stated that the to-tag has the purpose of 
> > distinguishing between different UAS when forking is done.  
> > This has prompted us to include the to-tag in order to match 
> > up requests and following responses.  However, as you can see 
> > (marked with a *) the tags between the 180 response at proxy 
> > B and the follow-up 480 response are different.  This causes 
> > problems in the transaction handling.  

Transaction handling doesn't depend on a To tag being added in the response.
Section 17.1.3 of bis-05 is very clear on that. 

> >            In RFC2542 it is furthermore mentioned that several
> > parameters including TO, FROM CALL-ID etc are used to establish 
> > whether an ACK is for the proxy (hence, does not need proxying).
> > If these responses could be tagged by the proxy then surely the
> > tag would be enough to establish this.
> 
> I don't understand your question?

I think the question is how a proxy knows whether or not it needs to forward
an ACK. If the proxy could choose its own tag, it could easily know whether
to forward it, by looking at the tag in the ACK.

This is really not needed. Whether its generated or simply forwarded, the
tag in the non-2xx response needs to match the tag in the ACK. Anything
running a server transaction would store this as part of the state of the
server transaction. Whenever you get an ACK that doesn't match a server
transaction, the proxy will forward it. 

> > 
> > Secondly, I would like to know why it is not possible to add a
> > port number to the maddr parameter?  Consider receiving a
> > "305 use proxy" with the following contact:
> > 
> > Contact: <sip:siemens.de:6666>
> > 
> > If the original INVITE had a request line which looked like
> > this:  INVITE sip:bob@other.com SIP/2.0
> > 
> > then the contact of the 305 message should be witten as a
> > maddr parameter within the request line of the new invite 
> > request.  But, where does one place the port if a maddr 
> > parameter cannot consist of a host and port number?  

The port is the port from the host part of the URL. 

> > We have currently solved the problem on the UDP/TCP 
> > layer.  Hence, send the same invite response to 
> > siemens.de port 6666.  Wouldnt it be nicer if the maddr 
> > parameter could have a port part as well.  After all, 
> > each host address could have a specific port number, too.

Whilst I agree this would be nice, its not backwards compatible to add a
port to the maddr. The set of cases where you want to use maddr to route
through an intermediary to a URL that has a non-standard port is small
enough for me not to worry about.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 14:31:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA20516
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 14:31:19 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA13662
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 14:31:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12192;
	Tue, 27 Nov 2001 13:57:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA12161
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 13:57:03 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA17788
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:57:00 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARIt37x011423;
	Tue, 27 Nov 2001 13:55:04 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4P9H>; Tue, 27 Nov 2001 13:56:30 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7015@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Christer Holmberg'" <christer.holmberg@lmf.ericsson.se>, sip@ietf.org
Subject: RE: [Sip] REFER issues
Date: Tue, 27 Nov 2001 13:56:30 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Christer Holmberg [mailto:christer.holmberg@lmf.ericsson.se]
> Sent: Monday, November 26, 2001 1:49 PM
> To: sip@ietf.org
> Subject: [Sip] REFER issues
> 
> 
> 
> Hi,
> 
> I have some questions/clarifications on REFER.
> 
> Q1.
> 
> Consider the following scenario:
> 
> A          B          C
> -----------------------
> 
> --REFER---->
> <-202-------
>            ---INVITE-->
>            <--200------
> 
> Now, bis-05 says that if a C doesn't receive an ACK it should send a
> re-INVITE to B, including the same SDP it included in the 200 OK. If
> this happens, what response code does B insert in the NOTIFY to A? 200
> OK? 

Just to clarify, subsequent list discussion seems to have converged on
sending a BYE in this case rather than a re-INVITE, to simplify things and
to unify the treatment with the initial INVITE, where a BYE is sent. I don't
think that alters the subsequent comments on treatment of this case, but I
want to make sure people are aware of that.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 15:48:27 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23978
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 15:48:27 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA15396
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 15:48:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA14609;
	Tue, 27 Nov 2001 15:19:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA14578
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 15:19:09 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA22918
	for <sip@ietf.org>; Tue, 27 Nov 2001 15:19:05 -0500 (EST)
Received: from njb140r1.ems.att.com ([135.65.202.58])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fARKIMD01765;
	Tue, 27 Nov 2001 15:18:22 -0500 (EST)
Received: from njb140bh1.ems.att.com by njb140r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id PAA23554; Tue, 27 Nov 2001 15:16:59 -0500 (EST)
Received: by njb140bh1.ems.att.com with Internet Mail Service (5.5.2653.19)
	id <XJ1TPL73>; Tue, 27 Nov 2001 15:18:18 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F958C338@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'Rohan Mahy'"
	 <rohan@cisco.com>, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Tue, 27 Nov 2001 15:18:10 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



-----Original Message-----
From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
Sent: Tuesday, November 27, 2001 1:20 PM
To: 'Rohan Mahy'; sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control


I think (2) is the right approach.

We already know about a few call control primitives that we need to
standardize in SIP; namely, REFER and 3pcc. That work is already underway.
What missing is whether that is sufficient for all call control services.

[RRR] I think that it will provide a good example. 3pcc is a call control
service. When this service was analyzed, it turns out that there needs to be
an extension in SIP and REFER was proposed. What has been missing though, I
guess, is the functional requirements for the 3pcc service.

I'm sure its not, and I'm sure we'll also need things like the call and
conference state subscription work. 

[RRR] We can take into account other services as well. For example,
conference (out-of consultation), call park, call diversion, call hold
(near-end/remote-end hold, near-end/remote-end hold/retrieve), call
diversion, call/message waiting, message waiting callback, call intrusion
and others.

To fully determine whats needed, I would
support a sipping item to work through some scenarios and distill out a set
of required protocol primitives for supporting a range of services.

[RRR] I fully agree with this proposal.

This is not the same as standardizing those services, which I do not
support. 

[RRR] Right. All we need to find out, like REFER in 3pcc, whether any
extensions are needed in SIP.

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Rohan Mahy [mailto:rohan@cisco.com]
> Sent: Monday, November 26, 2001 2:40 PM
> To: sip@ietf.org
> Cc: rohan@cisco.com
> Subject: [Sip] The Future of SIP Call Control
> 
> 
> Hi Everyone,
> 
> Currently SIP Call Control is an item on the SIP Charter:
> 
>  >The specific deliverables of the group are:
> ...
>  >2. callcontrol: Completion of the SIP call control 
> specifications, which
>  >enables multiparty services, such as transfer and bridged sessions.
> ...
> 
> Obviously this charter item is not as important as bis, but we should 
> either make progress on it or drop it.
> 
> Aside from work on REFER and transfer, there has been very 
> little activity 
> on call control.  I believe call control needs a holistic 
> apporach.  I 
> don't think we can add transfer here, conference there, park here, 
> etc.  Therefore I propose that we take one of the following actions:
> 
> 1)  Write a Call Control requirements document in SIP.  
> Quickly identify 
> missing peices and evaluate proposals for adding the required 
> functionality.  A subteam can do a lot of this work and post 
> the issues 
> back to the list.  This would only require a Milestone 
> recharter in SIP.
> 
> 2)  Do Call Control framework and requirements documents in 
> SIPPING.  Pass 
> the requirements to SIP.  Quickly identify missing peices/evaluate 
> proposals, etc.   (This is similar to the proposal for *new* 
> work items in 
> SIP).  This would require a recharter in both SIPPING and SIP 
> (to move 
> cc-framework to SIPPING).
> 
> 3)  Abandon call control altogether.  I would be very 
> disappointed if we 
> let this happen.
> 
> thanks,
> -rohan (as an individual)
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 15:49:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA24009
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 15:49:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA15410
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 15:49:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA14768;
	Tue, 27 Nov 2001 15:26:00 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA14736
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 15:25:58 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA23234
	for <sip@ietf.org>; Tue, 27 Nov 2001 15:25:54 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARKNu7x012256;
	Tue, 27 Nov 2001 15:23:56 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4QKX>; Tue, 27 Nov 2001 15:25:23 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7020@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] Proposed change to callerprefs
Date: Tue, 27 Nov 2001 15:25:22 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Wednesday, November 21, 2001 2:26 PM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: Re: [Sip] Proposed change to callerprefs
> 
> > > So, I propose that:
> > >
> > >   language="en,es"
> > >
> > > should be equivalent to:
> > >
> > >   language="en",language="es"
> > 
> > Well, it was my proposal that this simply be disallowed.
> 
> OK, as long as we get both AND and OR.
> 
> One concern I have about this is that then there is a difference in
> meaning of "," between the Contact header and the
> Accept-Contact/Reject-Contact headers. In Contact, the "," means AND:
> 
>   Contact: foo@bar;language="en,es"
> 
> means foo@bar can do english AND spanish, while
> 
>   Accept-Contact: *;language="en,es"
> 
> means to accept anyone speaking english OR spanish.
> 
> It would be more reasonable to make "," mean AND, and use "|" to mean
> OR. Another possibility is the one I suggested earlier to 
> have "," mean
> AND and then use multiple headers to express OR, since they already do
> that.

While the syntax is the same, the spec is clearer now that the contact
header and accept-contact are not saying the same thing:

   The
   parameter values in the rule are interpreted as an OR-of-ANDs logic
   statement, with the conjunctions separated by commas, and the
   components in the conjunction separated by ampersands. The logic
   statement can be preceded by the negation operator (!). The parameter
   values in the contact entry are interpreted as a set of elements. A
   component in the logic statement is true if its value appears in the
   set of elements (based on a case sensitive string comparison), false
   otherwise. The rule matches the contact entry if the rule would
   evaluate to true, given that the value of the components of the rule
   are true or false depending on their presence in the set defined by
   the contact entry.

Hopefully this makes it clear that the contact header has a set, and the
accept-contact has a rule.

There is no technical reason not to use different syntaxes; its merely an
issue of backwards compatibility, since this draft has been around FOREVER. 
> > Can you provide specific use cases? This rule matching can 
> get arbitrarily
> > complex, and I want to make sure we don't add things 
> because their important
> > in theory only, especially this late in the game.
> 
> The obvious use cases are:
> - OR for languages (english OR spanish)
> - AND for media (audio AND video)

Other examples would be nice, but as I said, I am convinced that AND would
be useful and its now in the draft.
> > Assuming there is a need for AND, another way which is more 
> consistent with
> > the grammar would be:
> > 
> > ;language="en,es"     -> English or Spanish
> > ;language="en&es"     -> Engish and Spanish
> > 
> > Effectively, the list now becomes an OR or ANDs, so that:
> > 
> > ;language="en&es,de"
> > 
> > is also OK.
> 
> Then the ugly head of precedence enters the picture. 
> Does this mean "en & (es | de)" or "(en & es) | de"?

Standard precedence rules used in logic. AND takes presence, so en&es,de is
(en&es) | de. I will add text to clarify that (hopefully in the version that
also includes IESG comments, since I really want to send this version to
iesg).
> > 
> > This is not needed. Remember, the set processing is done to 
> ultimately
> > affect the prioritization of the contacts. Let us assume 
> that the & rule
> > above exists. Instead, you could use:
> > 
> >    Accept-Contact: *;media="voice&video",q=1.0,
> >                    *;media="voice",q=0.5
> 
> We can easily get into the world of the obscure and useless 
> here. I have
> quite a bit of difficulty coming up with good uses for NOT at all,
> especially in Accept-Contact. I suppose it has more use in
> Reject-Contact.

OK, so if there are no uses let us keep with what is written now.
> > I'd still like to see real uses, but I can imagine there 
> are some (voice and
> > video, for example, is a reasonable thing to ask for). So, 
> I will go ahead
> > and add my & proposal to the draft, since its easy to do within the
> > framework. We can discuss further, but this way, if there 
> is agreement on
> > that, then the draft is ready for iesg immediately rather 
> than requiring a
> > rev.
> 
> I defer to your judgement about strategy. There is work 
> required in the
> matching algorithm section that isn't so straightforward, as 
> well as in
> the code example if it is to be retained. (I think code samples are
> dangerous in standards.)
> 

OK, what is the problem specifically? I did verify the code...

-Jonathan R.


---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 16:35:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA25904
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 16:35:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA17103
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 16:35:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA15941;
	Tue, 27 Nov 2001 16:06:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA15912
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 16:06:30 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA24849
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:06:28 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARL4X7x012561;
	Tue, 27 Nov 2001 16:04:33 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4Q30>; Tue, 27 Nov 2001 16:06:00 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7021@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Anders Kristensen <Akristensen@dynamicsoft.com>, SIP <sip@ietf.org>
Subject: RE: [Sip] Nit: grammar for display-name
Date: Tue, 27 Nov 2001 16:05:59 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Anders Kristensen [mailto:akristensen@dynamicsoft.com]
> Sent: Friday, November 23, 2001 12:34 PM
> To: SIP
> Subject: [Sip] Nit: grammar for display-name
> 
> 
> The production for display-name and token in bis-05 are:
> 
>     token         =  1*(alphanum | "-" | "." | "!" | "%" | "*"
>                                  | "_" | "+" | "`" | "'" | "~" )
>     display-name  =  LWS (*token | quoted-string)
> 
> This is broken as it doesn't allow for LWS between tokens, as in
> 
>     From: John Doe <sip:doeboy@example.com>

Good catch. It looks like we missed the implicit->explicit LWS here.


> 
> Also, I suspect the leading LWS is unnecessary, as display-name always
> occurs after something that ends in LWS anyway. Probably better not to
> match it as part of the display-name, then.

Good point.

> 
> 
> Another nit: The bis-05 example Date header (line 3588) is bogus:
> 
>   Date: Sat, 13 Nov 2001 23:29:00 GMT
> 
> 13 Nov 2001 is a tuesday, not a saturday.

Anders, you win the prize for the most obscure nit in bis-05....

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 16:47:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26497
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 16:47:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA17535
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 16:47:02 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA16274;
	Tue, 27 Nov 2001 16:15:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA16243
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 16:15:40 -0500 (EST)
Received: from chmls06.mediaone.net (chmls06.mediaone.net [24.147.1.144])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA25123
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:15:38 -0500 (EST)
Received: from mzeren ([207.79.15.85])
	by chmls06.mediaone.net (8.11.1/8.11.1) with ESMTP id fARLGH810411;
	Tue, 27 Nov 2001 16:16:17 -0500 (EST)
From: "Mark Zezren" <mark@zeren.com>
To: "'Jonathan Rosenberg'" <jdrosen@dynamicsoft.com>,
        "'Lei Liang'" <l.liang@eim.surrey.ac.uk>, <sip@ietf.org>
Subject: RE: [Sip] multicast conference service of SIP
Date: Tue, 27 Nov 2001 16:14:34 -0500
Message-ID: <70001EDABEACD411AE3A00B0D022EB1D01B9822F@MIS_1>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
In-Reply-To: <70001EDABEACD411AE3A00B0D022EB1D02668A4F@MIS_1>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



-----Original Message-----
From: sip-admin@ietf.org [mailto:sip-admin@ietf.org] On Behalf Of
Jonathan 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
...
> hi, falks,
>   for the case of multicast conference service using SIP as signalling
> protocol, I know from 
> draft-ietf-sipping-conferencing-models-00.txt that
> only media streams are transported using multicast rather 
> than multicast
> signalling. I now wondered if a callee can know all of the 
> rest existing
> users in the conference upon receipt of the first INVITE and 
> if it should
> establish sip connections with all of them. 

What you are talking about is fully distribute multiparty conferencing,
which uses a full mesh of signaling relationships among participants.
Thats
a really hard problem, and not a conferencing model there appears to be
real
demand for. We've been around the bush a few times on it, and never came
up
with a simple yet correct solution. Centralized signaling for
conferences
(whether its "centralized" in a handset or the network is irrelevant) is
well understood and easily done with SIP, so that is the area work has
focused on.

-Jonathan R.

[mjz] 
I think there is demand to know the state of all of the other parties in
a conference. Can a SIP central controller provide information about the
state of other parties to each individual party?

mjz



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 17:04:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27078
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 17:04:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA19014
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 17:04:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17113;
	Tue, 27 Nov 2001 16:35:02 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17073
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 16:35:00 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA25900
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:34:58 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARLX37x012832;
	Tue, 27 Nov 2001 16:33:03 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4QSK>; Tue, 27 Nov 2001 16:34:30 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7025@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Mark Zezren'" <mark@zeren.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'Lei Liang'" <l.liang@eim.surrey.ac.uk>, sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
Date: Tue, 27 Nov 2001 16:34:29 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Mark Zezren [mailto:mark@zeren.com]
> Sent: Tuesday, November 27, 2001 4:15 PM
> To: 'Jonathan Rosenberg'; 'Lei Liang'; sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> real
> demand for. We've been around the bush a few times on it, and 
> never came
> up
> with a simple yet correct solution. Centralized signaling for
> conferences
> (whether its "centralized" in a handset or the network is 
> irrelevant) is
> well understood and easily done with SIP, so that is the area work has
> focused on.
> 
> -Jonathan R.
> 
> [mjz] 
> I think there is demand to know the state of all of the other 
> parties in
> a conference. Can a SIP central controller provide 
> information about the
> state of other parties to each individual party?
> 

http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 17:16:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27471
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 17:16:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA19144
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 17:16:03 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17664;
	Tue, 27 Nov 2001 16:48:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17571
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 16:48:45 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26580
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:48:43 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fARLjj7x012998;
	Tue, 27 Nov 2001 16:45:46 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4Q4L>; Tue, 27 Nov 2001 16:47:12 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7027@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Tan Ya-Ching  ICM N PG U ID A 1'" <Ya-Ching.Tan@icn.siemens.de>,
        "'Gonzalo Camarillo'" <Gonzalo.Camarillo@lmf.ericsson.se>,
        Mark Watson
	 <mwatson@nortelnetworks.com>
Cc: Bob Penfield <bpenfield@acmepacket.com>, sip@ietf.org
Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
Date: Tue, 27 Nov 2001 16:47:11 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Tan Ya-Ching ICM N PG U ID A 1
> [mailto:Ya-Ching.Tan@icn.siemens.de]
> Sent: Thursday, November 22, 2001 11:27 AM
> To: 'Gonzalo Camarillo'; Mark Watson
> Cc: Bob Penfield; sip@ietf.org
> Subject: RE: [Sip] Bis-05: Diaglog establishment ambiguity
> 
> 
> 
> 
> | -----Original Message-----
> | From: Gonzalo Camarillo [mailto:Gonzalo.Camarillo@lmf.ericsson.se]
> | Sent: 22 November 2001 17:07
> | To: Mark Watson
> | Cc: Bob Penfield; sip@ietf.org
> | Subject: Re: [Sip] Bis-05: Diaglog establishment ambiguity
> | 
> | One difference is that you terminate the early dialog with 
> CANCEL and
> | the confirmed one with BYE.
> | 
> 
> This is certainly not what bis-05 says:
> 
> bis-05 13.2.2.1 1XX responses (pdf lines 1766-1770)
> "Provisional responses for an INVITE request can create 
> "early dialogs". If
> a provisional response has a tag in the To field, and if the 
> dialog ID of
> the response does not match an existing dialog, one is 
> constructed using the
> procedures defined in Section 12.1.0.2.
> The early dialog will only be needed if the UAC needs to send 
> a request to
> its peer within the dialog before the initial INVITE 
> transaction completes."
> 
> 12.2 Requests within a Dialog (line 1651)
> "For INVITE initiated dialogs terminating the dialog consists 
> of sending a
> BYE."
> 
> 12.3 Termination of a Dialog (line 1680-1682)
> "When a dialog is established with INVITE, it is terminated 
> with a BYE. No
> other means to terminate a dialog are described in this 
> specification, but
> extensions can define other ways."
> 
> The statement "No other means to terminate a dialog are 
> described in this
> specification" seems to exclude termination of a dialog with CANCEL.

The CANCEL doesn't terminate the dialog per se; its the 487 from the
original request that will terminate the dialog. Indeed, if CANCEL and 200
OK pass on the wire, the dialog isn't terminated at all.

I think the real difference is the handling of route sets. As Gonzalo has
pointed out, the route set from a 2xx completely overrides the route set
from any 1xx (this is needed for backwards compatibility, since most folks
don't include record-route in 1xx). However, for an established dialog, only
the contact is changed.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 17:18:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27530
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 17:18:41 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA19187
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 17:18:43 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17982;
	Tue, 27 Nov 2001 16:56:18 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA17953
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 16:56:16 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA26835
	for <sip@ietf.org>; Tue, 27 Nov 2001 16:56:14 -0500 (EST)
Received: from mira-sjc5-7.cisco.com (mira-sjc5-7.cisco.com [171.71.163.27])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fARLtkd18519
	for <sip@ietf.org>; Tue, 27 Nov 2001 13:55:46 -0800 (PST)
Received: from thomasm-u1.cisco.com (thomasm-u1.cisco.com [128.107.140.53])
	by mira-sjc5-7.cisco.com (Mirapoint)
	with ESMTP id AAK09160;
	Tue, 27 Nov 2001 13:55:10 -0800 (PST)
Received: (thomasm@localhost) by thomasm-u1.cisco.com (8.8.8-Cisco List Logging/CISCO.WS.1.2) id NAA26064; Tue, 27 Nov 2001 13:55:45 -0800 (PST)
From: Michael Thomas <mat@cisco.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15364.3041.320955.389672@thomasm-u1.cisco.com>
Date: Tue, 27 Nov 2001 13:55:45 -0800 (PST)
To: sip@ietf.org
X-Mailer: VM 6.72 under 21.1 (patch 6) "Big Bend" XEmacs Lucid
X-Face: &,heK/V66p?[2!i|tVn,9lN0TUvEv7:9FzXREj/AuzN4m<D]vnFJ>u!4x[/Z4t{V}~L]+Sk
 @RFNnJEg~WZ/(8<`5a),-7ukALWa^&?&D2R0CSG3kO5~#6JxLF\d,g">$%B!0w{W)qIhmwhye104zd
 bUcI'1!
Content-Transfer-Encoding: 7bit
Subject: [Sip] SIP security requirements (this might mean you!)
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


As promised, I separated out the requirements from
the framework I hacked up for the last meeting,
and they're currently available in
draft-thomas-sip-sec-req-00.txt. Not a whole lot
has changed here: I've mainly tried to capture
the comments from our ad hoc meeting, and flesh
out the requirements I had before.

So here's my dark confession: I can't keep up with
the vast expanse of this working group's
in-progress and proposed extensions to determine
whether the set of requirements I've already come
up with are necessary and sufficient. I've mainly
paid attention to 2543bis and a few other drafts
which I'm familiar, like the privacy draft. It is
quite possible that any assumptions and hopes for
SIP security that are being made in other drafts
-- and I sure hope that their security
considerations sections enumerate all of them --
are not well accounted for in these requirements.

Therefore, it would be really, really helpful if
the authors of these drafts helped out here by
comparing their expectations for security with
what is being claimed as requirements in the
draft. Henning's questions on REFER security are
exactly the kind of input that is needed to test
to see if we're missing things -- either
specifics, or general trends. If you all don't
help out, you're probably going to be faced with
the prospect of my limited understanding of many
of these drafts, aided by their perfect security
considerations section, filling in the blanks.
This should probably not give you comfort.

	 Mike

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 18:03:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28747
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 18:03:10 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA20342
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 18:03:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19230;
	Tue, 27 Nov 2001 17:19:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19202
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 17:19:41 -0500 (EST)
Received: from imo-m03.mx.aol.com (imo-m03.mx.aol.com [64.12.136.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27557
	for <sip@ietf.org>; Tue, 27 Nov 2001 17:19:39 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m03.mx.aol.com (mail_out_v31_r1.9.) id l.46.1e6b9585 (4421)
	 for <sip@ietf.org>; Tue, 27 Nov 2001 17:19:07 -0500 (EST)
Message-ID: <46.1e6b9585.29356b5b@aol.com>
Date: Tue, 27 Nov 2001 17:19:07 EST
Subject: Re: [Sip] The Future of SIP Call Control
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/27/01 1:48:03 PM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> I think (2) is the right approach.
>  
>  We already know about a few call control primitives that we need to
>  standardize in SIP; namely, REFER and 3pcc. That work is already underway.
>  What missing is whether that is sufficient for all call control services.
>  I'm sure its not, and I'm sure we'll also need things like the call and
>  conference state subscription work. To fully determine whats needed, I 
would
>  support a sipping item to work through some scenarios and distill out a set
>  of required protocol primitives for supporting a range of services.
>  
>  This is not the same as standardizing those services, which I do not
>  support. 
>  
>  -Jonathan R.

I'm not sure what the distinction is between "standardizing those services" 
and the alternative. Either you do or you don't. If you don't standardize 
each service, that is, the complete protocol needed to allow it to be 
implemented on multiple devices built by multiple vendors, and to interwork 
with other services, then you can never prove interoperability and you can 
never use that service in a real network. I believe strongly that we can't 
just standardize "protocol primitives". It is first necessary to agree on the 
set of services to be supported  and to have a concept of what "protocol 
primitives" could be, and then to determine the general way in which these 
services are to be supported in SIP. Then a set of "protocol primitives" can 
be developed which provide the necessary functions, while individual 
standards are being written for each service using those "primitives".

I understand that REFER was invented as the "protocol primitive" to support 
Call Transfer, but I think I've seen it suggested for use in other places.

I see draft-ietf-sip-cc-transfer-05 is an attempt to "standardize this 
service".

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 18:03:16 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id SAA28762
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 18:03:15 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id SAA20356
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 18:03:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19787;
	Tue, 27 Nov 2001 17:34:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA19756
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 17:34:53 -0500 (EST)
Received: from kcmso1.proxy.att.com (kcmso1.att.com [192.128.133.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA27977
	for <sip@ietf.org>; Tue, 27 Nov 2001 17:34:50 -0500 (EST)
Received: from njb140r1.ems.att.com ([135.65.202.58])
	by kcmso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fARMYNx15621;
	Tue, 27 Nov 2001 17:34:23 -0500 (EST)
Received: from njb140bh2.ems.att.com by njb140r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id RAA16545; Tue, 27 Nov 2001 17:33:03 -0500 (EST)
Received: by NJB140BH2 with Internet Mail Service (5.5.2653.19)
	id <XJGD4P8Z>; Tue, 27 Nov 2001 17:34:22 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F958C4D0@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Mpierce1@aol.com, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Tue, 27 Nov 2001 17:33:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hi, Mike:

Yes, I agree with you.

Let me explain.

There needs to be a two-step process: 1. Define the SIP protocol primitives
and 2. Use of SIP protocol primitives to offer services (e.g., cc-transfer
draft).

I believe that above two-step process will ensure interoperability.

Best regards,

Radhika R. Roy
rrroy@att.com

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Tuesday, November 27, 2001 5:19 PM
To: sip@ietf.org
Subject: Re: [Sip] The Future of SIP Call Control


In a message dated 11/27/01 1:48:03 PM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> I think (2) is the right approach.
>  
>  We already know about a few call control primitives that we need to
>  standardize in SIP; namely, REFER and 3pcc. That work is already
underway.
>  What missing is whether that is sufficient for all call control services.
>  I'm sure its not, and I'm sure we'll also need things like the call and
>  conference state subscription work. To fully determine whats needed, I 
would
>  support a sipping item to work through some scenarios and distill out a
set
>  of required protocol primitives for supporting a range of services.
>  
>  This is not the same as standardizing those services, which I do not
>  support. 
>  
>  -Jonathan R.

I'm not sure what the distinction is between "standardizing those services" 
and the alternative. Either you do or you don't. If you don't standardize 
each service, that is, the complete protocol needed to allow it to be 
implemented on multiple devices built by multiple vendors, and to interwork 
with other services, then you can never prove interoperability and you can 
never use that service in a real network. I believe strongly that we can't 
just standardize "protocol primitives". It is first necessary to agree on
the 
set of services to be supported  and to have a concept of what "protocol 
primitives" could be, and then to determine the general way in which these 
services are to be supported in SIP. Then a set of "protocol primitives" can

be developed which provide the necessary functions, while individual 
standards are being written for each service using those "primitives".

I understand that REFER was invented as the "protocol primitive" to support 
Call Transfer, but I think I've seen it suggested for use in other places.

I see draft-ietf-sip-cc-transfer-05 is an attempt to "standardize this 
service".

Mike Pierce

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Tue Nov 27 22:29:39 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id WAA04761
	for <sip-archive@odin.ietf.org>; Tue, 27 Nov 2001 22:29:38 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id WAA26665
	for sip-archive@odin.ietf.org; Tue, 27 Nov 2001 22:29:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA26081;
	Tue, 27 Nov 2001 21:50:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id VAA26030
	for <sip@optimus.ietf.org>; Tue, 27 Nov 2001 21:50:55 -0500 (EST)
Received: from calliope1.fm.intel.com (fmfdns01.fm.intel.com [132.233.247.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id VAA04463
	for <sip@ietf.org>; Tue, 27 Nov 2001 21:50:51 -0500 (EST)
Received: from fmsmsxvs043.fm.intel.com (fmsmsxvs043.fm.intel.com [132.233.42.129])
	by calliope1.fm.intel.com (8.9.1a+p1/8.9.1/d: relay.m4,v 1.46 2001/10/25 21:02:55 root Exp $) with SMTP id CAA19031
	for <sip@ietf.org>; Wed, 28 Nov 2001 02:48:33 GMT
Received: from fmsmsx28.fm.intel.com ([132.233.42.28])
 by fmsmsxvs043.fm.intel.com (NAVGW 2.5.1.6) with SMTP id M2001112718474413492
 ; Tue, 27 Nov 2001 18:47:44 -0800
Received: by fmsmsx28.fm.intel.com with Internet Mail Service (5.5.2653.19)
	id <W0BQ8JQK>; Tue, 27 Nov 2001 18:48:31 -0800
Message-ID: <F1CE15E08172D4119247009027AE9D500E4EB4D0@FMSMSX37>
From: "Padhye, Chinmay" <c_padhye@trillium.com>
To: "'jdrosen@dynamicsoft.com'" <jdrosen@dynamicsoft.com>,
        "'sdonovan@microsoft.com'" <sdonovan@microsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Tue, 27 Nov 2001 18:48:29 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] Session Timer Questions.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Hello,

	I have a confusion in one section of the session timer draft.
(version - 08)

	In section 7.1 it says -
	"The UAC MUST insert the Min-SE header into a re-INVITE request for
a particular call leg if it has ever received a 422 response to a previous
INVITE on the same leg, or if it has received an INVITE on that call leg
which contained a Min-SE header."
	
	This is talking about a re-INVITE. Is this correct? 

	The next sentence is -

	"Similarly, if no call leg has been established yet, a UAC MUST
insert the Min-SE header into an INVITE request for a particular call if it
has ever received a 422 response to a previous INVITE with the same Call-ID"

	The last sentence is confusing to me. First of all if no call leg
has been established then the 422 was for the initial INVITE. Is this
correct? Can a uac receive a 422 for the first INVITE and still consider the
call alive?

	If a uac receives a 422 error response to an INVITE with call id
(CID) 1, then is it a 'MUST' for the uac to reuse CID 1 for the second
INVITE with a new Session-Expires header? Why cant the uac use CID 2?


Regards,

Chinmay


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:01:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA08612
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:01:23 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA02092
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:01:25 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00577;
	Wed, 28 Nov 2001 00:23:05 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00546
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 00:23:02 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08123
	for <sip@ietf.org>; Wed, 28 Nov 2001 00:23:00 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS5L47x014462;
	Wed, 28 Nov 2001 00:21:04 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RK5>; Wed, 28 Nov 2001 00:22:30 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7046@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Padhye, Chinmay'" <c_padhye@trillium.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'sdonovan@microsoft.com'"
	 <sdonovan@microsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>
Date: Wed, 28 Nov 2001 00:22:30 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Subject: [Sip] RE: Session Timer Questions.
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Padhye, Chinmay [mailto:c_padhye@trillium.com]
> Sent: Tuesday, November 27, 2001 9:48 PM
> To: 'jdrosen@dynamicsoft.com'; 'sdonovan@microsoft.com'
> Cc: 'sip@ietf.org'
> Subject: Session Timer Questions.
> 
> 
> Hello,
> 
> 	I have a confusion in one section of the session timer draft.
> (version - 08)
> 
> 	In section 7.1 it says -
> 	"The UAC MUST insert the Min-SE header into a re-INVITE 
> request for
> a particular call leg if it has ever received a 422 response 
> to a previous
> INVITE on the same leg, or if it has received an INVITE on 
> that call leg
> which contained a Min-SE header."
> 	
> 	This is talking about a re-INVITE. Is this correct? 

Yes.


> 
> 	The next sentence is -
> 
> 	"Similarly, if no call leg has been established yet, a UAC MUST
> insert the Min-SE header into an INVITE request for a 
> particular call if it
> has ever received a 422 response to a previous INVITE with 
> the same Call-ID"
> 
> 	The last sentence is confusing to me. First of all if 
> no call leg
> has been established then the 422 was for the initial INVITE. Is this
> correct? Can a uac receive a 422 for the first INVITE and 
> still consider the
> call alive?

There is no call; thats why it says you should insert the Min-SE if you ever
sent an INVITE previously with the same Call-ID value, and got a 422. So, I
send you an invite, I get a 422. Now, I try again. This attempt is NOT a
re-invite, but it shares the same call-id, so it includes a Min-SE.

> 
> 	If a uac receives a 422 error response to an INVITE with call id
> (CID) 1, then is it a 'MUST' for the uac to reuse CID 1 for the second
> INVITE with a new Session-Expires header? Why cant the uac use CID 2?

It could, nothing can stop that. The idea is that the behavior of retrying
the invite is to use the same call-id. This is probably not clear in bis, in
fact, and it needs to be. Its discussed for 401/407, but not more generally.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:08:54 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA09044
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:08:53 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA06427
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:08:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01009;
	Wed, 28 Nov 2001 00:30:33 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA00964
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 00:30:30 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08298
	for <sip@ietf.org>; Wed, 28 Nov 2001 00:30:28 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS5SY7x014479;
	Wed, 28 Nov 2001 00:28:34 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RLD>; Wed, 28 Nov 2001 00:30:00 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7047@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Mpierce1@aol.com'" <Mpierce1@aol.com>, sip@ietf.org
Subject: RE: [Sip] The Future of SIP Call Control
Date: Wed, 28 Nov 2001 00:29:59 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
> Sent: Tuesday, November 27, 2001 5:19 PM
> To: sip@ietf.org
> Subject: Re: [Sip] The Future of SIP Call Control
> 
> 
> I'm not sure what the distinction is between "standardizing 
> those services" 
> and the alternative. Either you do or you don't. If you don't 
> standardize 
> each service, that is, the complete protocol needed to allow it to be 
> implemented on multiple devices built by multiple vendors, 
> and to interwork 
> with other services, then you can never prove 
> interoperability and you can 
> never use that service in a real network. I believe strongly 
> that we can't 
> just standardize "protocol primitives". It is first necessary 
> to agree on the 
> set of services to be supported  and to have a concept of 
> what "protocol 
> primitives" could be, and then to determine the general way 
> in which these 
> services are to be supported in SIP. Then a set of "protocol 
> primitives" can 
> be developed which provide the necessary functions, while individual 
> standards are being written for each service using those "primitives".

I don't think the latter is needed in many cases. Many services are
"one-sided", in that they require the invoker to understand the semantics of
the service, but require the other side to only follow a particular protocol
primitive. Thus, with a sufficiently generaly set of primitives, you can
make many more of these services work in this fashion. Certainly that is the
case, for example, with transfer. There are many variants on it, and the
exact variant (bridged, blind, consulutation, etc.) need ONLY be known by
the UA invoking the service. If, however, we did as you propose, we would
need to write a separate draft for each of these variants, and the result of
that is painfully slow deployment of services, lack of innnovation in
services, and limited set of standardized services. I do not believe that
this is the right route, and it has been fairly fundamental to sip that this
remain the case.

Now, this same one-sidedness, with the proper primitives and general,
service independent components (like the ones described in
http://www.jdrosen.net/papers/draft-rosenberg-sip-app-components-01.txt),
you can pretty much nail everything in this way. Conferencing, hold, mute,
transfer, and with
http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt, park
and pickup, all as these "one-sided services". 

I've been meaning to write a draft that discusses this stuff in more detail,
along with how it relates to the user interface problem. Seems like that
draft is becoming timely...

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:19:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA10012
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:19:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA10750
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:19:45 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01320;
	Wed, 28 Nov 2001 00:37:50 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01290
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 00:37:48 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08340
	for <sip@ietf.org>; Wed, 28 Nov 2001 00:37:46 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS5Zq7x014504;
	Wed, 28 Nov 2001 00:35:52 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RL3>; Wed, 28 Nov 2001 00:37:18 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D7048@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: "'sip@ietf.org'" <sip@ietf.org>,
        Ben Campbell
	 <bcampbell@dynamicsoft.com>,
        simple@mailman.dynamicsoft.com
Date: Wed, 28 Nov 2001 00:37:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Monday, November 26, 2001 1:45 PM
> To: Jonathan Rosenberg
> Cc: 'sip@ietf.org'; Ben Campbell; simple@mailman.dynamicsoft.com
> Subject: Re: [Simple] New I-D on IM transport
> 
> 
> Jonathan Rosenberg wrote:
> > 
> > Indeed. I have in fact written a draft on doing just that:
> > 
> > 
> http://www.jdrosen.net/papers/draft-rosenberg-sip-reconstitute-00.txt
> 
> Intesting paper. I think that a procedure of this sort is definitely
> needed.

There is very little in here that needs to be standardized; since it is
something that effects baseline operation (it defines a failure scenario
that is not defined), it is my hope to incorporate the baseline stuff into
bis. Thats currently an open issue we're tracking.

> 
> Here are some specific comments/questions about the details 
> of what you
> propose:
> 
> - what if the problem wasn't with the endpoint at all, but 
> rather was an
> intermittent problem with the network? In that case, both ends may try
> to initiate recovery. (The analogy in the PSTN is the 
> familiar "we were
> disconnected, but when I tried to call back your line was busy"
> problem.)

No problem. If both sides send at the same time, the glare procedures will
handle that. If its sequential, its sequential. I think the draft talks
about giving up if the reinvite doesn't help after a few tries.

> 
> - what if there is no problem with signalling but there is a problem
> with the media stream? Then the reinvite will reach the original
> endpoint rather than a backup. It will not be able to distinguish this
> reinvite from one for some other purpose, like session timer 
> refresh. It
> will note that the sdp has not changed, and may choose to 
> simply return
> the last sdp it sent. (This could happen if the sip and media 
> travel on
> different network connections to the same host, or if the 
> media is on a
> separate device with its own network connection.) 

I guess this seems to me to be the right behavior. What would you want to
happen in this case?

> 
> - your 3pcc example requires that the controller forward on all
> reinvites, even if nothing in the sdp has changed. However there are
> other cases where this is a bad thing. There may well be 
> reinvites going
> on simply to update session timers. Since the session timer 
> schedule may
> differ on the two legs, it isn't desirable to forward noop invites.

I don't think a controller will ever be in a position to adequately
determine what really constitutes a no-op re-invite, and should therefore
pass along everything, even if it means faster session timers on both ends
of a call (the session timer is infrequent anyway).

> 
> - in a separate mail thread on the comedia draft, we identified some
> added problems with reinvites and connection oriented media. In that
> case, what is negotiated in the sdp is used to establish a media
> connection, so it isn't idempotent to subsequent invitations. There is
> need to indicate in the sdp whether to renegotiate the connection or
> not. I don't think we ever fully resolved that. But I believe it is
> important that something in the sdp be changed to indicate a desire to
> renegotiate the connection. The same kind of scenario applies here.

This is a good point. I think its a pure co-media issue, though, and that
needs to be addressed in that draft.

> 
> All of these issues suggest to me that some explicit information needs
> to be conveyed indicating what is being attempted. Part of 
> this might be
> a Reason header indicating that the reinvite is being sent to recover
> from a perceived problem. 

I'm still not convinced, so long as the comedia issue is handled.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:31:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA11223
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:31:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11269
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:31:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01644;
	Wed, 28 Nov 2001 00:55:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01615
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 00:55:27 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08541
	for <sip@ietf.org>; Wed, 28 Nov 2001 00:55:25 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS5rV7x014611;
	Wed, 28 Nov 2001 00:53:31 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RMQ>; Wed, 28 Nov 2001 00:54:57 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D704B@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Paul Kyzivat'" <pkyzivat@cisco.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Date: Wed, 28 Nov 2001 00:54:56 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: Comment on draft-ietf-sip-rfc2543bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


Cleaning up old threads...
 

> -----Original Message-----
> From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> Sent: Friday, October 26, 2001 4:34 PM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: Comment on draft-ietf-sip-rfc2543bis-05
> 
> 
> I haven't read the whole draft yet, but I did read
> draft-rosenberg-mmusic-sdp-offer-answer-00, and found something there
> that needs to be addressed in the bis. I just want to post it before I
> forget.
> 
> You have now introduced the notion of an offer and an answer, that get
> mapped onto SDP via 
> draft-rosenberg-mmusic-sdp-offer-answer-00. However
> in splitting the documents I think you have introduced a 
> subtle change.
> This has to do with how to determine if the INVITE contains an offer.
> 
> Bis-04, section 5.1, says "The caller MAY choose to omit the request
> body (i.e., not send a session description) OR SEND A SESSION
> DESCRIPTION THAT DOES NOT LIST ANY MEDIA TYPES. This 
> indicates that the
> caller does not know its desired media characteristics until the call
> has been accepted."
> 
> When I read this in the past I concluded that it meant it is 
> permissible
> to send an SDP body containing a description without any m lines, and
> this should not be considered to be an offer. Now bis-05 (based on a
> quick search) no longer says this. In section 13.2.1 it says 
> "The first,
> ... is that the INVITE contains the offer. ... A second model is that
> the INVITE contains no session description, the 2xx response contains
> the offer, and the ACK contains the answer." 
> 
> This no longer permits an SDP body without m lines, that 
> isn't an offer.

Oh? offer-answer still permits the offer to have zero media lines:

2.1 Unicast

   The offer MUST contain zero or more media sections. Zero media
   sessions implies that the offerer wishes to communicate, but that the
   streams for the session will be added at a later time through re-
   INVITEs.

So, the offer has zero media lines. The answer will come in the 2xx, and it
also has zero. We then do a re-invite to add more lines as normal.

Can you clarify what text led you to the conclusion that zero m lines are no
longer allowed?

Thanks,
Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:36:56 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA11973
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:36:56 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11383
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:36:57 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01566;
	Wed, 28 Nov 2001 00:51:38 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id AAA01535
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 00:51:36 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id AAA08523
	for <sip@ietf.org>; Wed, 28 Nov 2001 00:51:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS5ne7x014596;
	Wed, 28 Nov 2001 00:49:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RML>; Wed, 28 Nov 2001 00:51:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D704A@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Itamar Gilad'" <ItamarG@radvision.com>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>,
        "'SIP list'" <sip@ietf.org>
Subject: RE: [Sip] Possible interop issues due to BNF of digest auth
Date: Wed, 28 Nov 2001 00:51:05 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="windows-1255"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Well, the right place for this is really rfc2617, not bis. I hope bis is
clear about when single instances of parameters are needed for the headers
it defines.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Itamar Gilad [mailto:ItamarG@radvision.com]
> Sent: Sunday, October 28, 2001 9:50 AM
> To: 'Jonathan Rosenberg'; Itamar Gilad; 'SIP list'
> Subject: RE: [Sip] Possible interop issues due to BNF of digest auth
> 
> 
> Thanks for the response.  Shouldn't we have this documented 
> in the spec just
> to avoid confusion?  
> 
> > -----Original Message-----
> > From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> > Sent: Sun, October 21, 2001 11:59 PM
> > To: 'Itamar Gilad'; 'SIP list'
> > Subject: RE: [Sip] Possible interop issues due to BNF of digest auth
> > 
> > 
> > 
> > 
> > 
> > 
> > > -----Original Message-----
> > > From: Itamar Gilad [mailto:ItamarG@radvision.com]
> > > Sent: Thursday, October 18, 2001 12:40 PM
> > > To: 'SIP list'
> > > Subject: [Sip] Possible interop issues due to BNF of digest auth
> > > 
> > > 
> > > SIP borrows the definitions of authentication headers from 
> > > RFC 2616 and RFC
> > > 2617
> > > 
> > > RFC 2616 14.47:
> > >        WWW-Authenticate  = "WWW-Authenticate" ":" 1#challenge
> > > 
> > > RFC 2616 14.33:
> > >        Proxy-Authenticate  = "Proxy-Authenticate" ":" 1#challenge
> > > 
> > > From RFC 2617 3.2.1 as follows:
> > > 
> > >       challenge        =  "Digest" digest-challenge
> > > 
> > >       digest-challenge  = 1#( realm | [ domain ] | nonce |
> > >                           [ opaque ] |[ stale ] | [ algorithm ] |
> > >                           [ qop-options ] | [auth-param] )
> > > 
> > > This means that there's a great deal of freedom in the way 
> > > WWW-Authenticate
> > > and Proxy-Authenticate headers are constructed which may 
> > lead to major
> > > interop issues. We've seen some of this in the last SipIt.  
> > > For example the
> > > header below is valid:
> > > 
> > > WWW-Authenticate: Digest realm="realm1", realm="realm2",
> > >   nonce="aaaaaEF1ZyAxNCAxNTowNjoxNyBCU1QgMjAwMVtCQDZkMzJjNAaa", 
> > >   nonce="rrrrrEF1ZyAxNCAxNTowNjoxNyBCU1QgMjAwMVtCQDZkMzJjNAaa", 
> > >   opaque="bbbbbbFiYTAwMzgzYTY4MA==", stale=false, 
> > >   algorithm=md5, algorithm=sha1, qop="auth, auth-int",
> > >   Digest realm="realm3", realm="realm4",   
> > >   nonce="aaaaaEF1ZyAxNCAxNTowNjoxNyBCU1QgMjAwMVtCQDZkMzJjNAaa", 
> > >   opaque="ttttttFiYTAwMzgzYTY4MA==", stale=false, 
> > > algorithm=sha1, qop="auth,
> > > auth-int"
> > 
> > No, this is not valid. It passes the grammar, but grammars 
> > are ill suited at
> > expressing more complex constraints. In this case, the 
> > grammar does not
> > specify that duplicates of certain parameters are not 
> > allowed. However, I
> > think it is reasonably clear from the specifications that you 
> > can only have
> > one realm, one nonce, and so on. Most web browsers have 
> > gotten this right, I
> > think SIP implementors can too.
> > 
> > As an example of this, consider the Date header. Dates 
> > introduce constraints
> > that are far too complex to place in the grammar (for 
> > example, Feburary 29
> > is allowed in some years), and it is unrealistic to even try.
> > 
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 01:53:52 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA14268
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 01:53:52 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id BAA11486
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 01:53:53 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10681;
	Wed, 28 Nov 2001 01:16:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10652
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 01:16:42 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA09684
	for <sip@ietf.org>; Wed, 28 Nov 2001 01:16:40 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS6Dt7x014655;
	Wed, 28 Nov 2001 01:13:57 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RNG>; Wed, 28 Nov 2001 01:15:21 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D704C@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>,
        "'Wray Ferrell'"
	 <wferrell@cisco.com>, sip@ietf.org
Subject: RE: [Sip] Session Timer - Timeout on Refresh
Date: Wed, 28 Nov 2001 01:15:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Thursday, October 25, 2001 7:45 PM
> To: 'Wray Ferrell'; sip@ietf.org
> Subject: RE: [Sip] Session Timer - Timeout on Refresh
> 
> 
> > Version 0.8 of the draft states:
> > "If no response is received to a refreshing re_INVITE
> > is received before the session expiration, the UA
> > SHOULD send a BYE request to terminate the call.
> > It SHOULD send this BYE slightly before session
> > expiration"
> 
> I think it should be "If no 2xx response ...".

Yup. THe draft pretty much assumes we are talking about 2xx. I'll fix that
during iesg comments.

> 
> > 
> > The bis-03 draft of SIP states under Reliability
> > for INVITE Requests:
> > "If no response is received after sending seven packet
> > requests, processing continues as if a 481 response was
> > received for that request."
> 
> Would a 408 be more appropriate than a 481?
> This would allow the UAC to decide the 
> importance of the re-invite.

bis-05 doesn't actually have this above text anymore; it talks about client
transactions sending timeouts to the TU, but I couldn't find any matching
text that describes how the ua core or proxy cores handle the timeouts.
Thats a bug.

Assuming it generates either a 408 or 481, the spec is clear that both
terminate a dialog anyway, so there is no difference.

>  
> > So does the SIP Session Timer override the section on
> > reliability for INVITE requests? More specifically if
> > a UA responsible for refreshing does not receive a
> > response to its' re-INVITE what should its' behavior
> > be? Disconnect the session as if receiving a 481 or
> > keep the session alive since the session expiration
> > has not yet been reached?
> 
> I think that the session should stay alive 
> if the re-invite didn't have a new sdp.

I don't like making this kind of behavior dependent on the SDP. A million
other things could have changed. Keep it simple - if the other side isn't
there any more, the call is over.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 02:13:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA24641
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 02:13:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id CAA11951
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 02:13:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10865;
	Wed, 28 Nov 2001 01:21:14 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id BAA10774
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 01:21:09 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id BAA10186
	for <sip@ietf.org>; Wed, 28 Nov 2001 01:21:06 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS6J77x014750;
	Wed, 28 Nov 2001 01:19:07 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RNZ>; Wed, 28 Nov 2001 01:20:33 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D704D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'brett@broadsoft.com'" <brett@broadsoft.com>,
        "sip-ietf (E-mail)"
	 <sip@ietf.org>
Subject: RE: [Sip] Record routing primary and secondary locations
Date: Wed, 28 Nov 2001 01:20:32 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



 

> -----Original Message-----
> From: Brett Tate [mailto:brett@broadsoft.com]
> Sent: Thursday, October 25, 2001 5:24 PM
> To: sip-ietf (E-mail)
> Subject: [Sip] Record routing primary and secondary locations
> 
> 
> Hi,
> 
> At various times on this list people have 
> alluded to the various possibilities to 
> help ensure that a request can traverse a 
> route for an established call-leg even 
> when a proxy is down.  Has such 
> functionality been capture in an IETF 
> draft?  If so, which one?

Proxies can record-route with SIP URLs.

The specification defines procedures for failure handling when trying to
contact a SIP URL. Therefore, I believe that to be sufficient. Generally,
this means a DNS based approach. There are failover approaches that are
dns-less as well, using IP routing techniques, and these also work. However,
none of them are specific to the record-routing, and I don't think that
specifying a mechanism specific to record-route is a good thing.

-Jonathan R.
---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 03:29:45 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id DAA26114
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 03:29:45 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id DAA14238
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 03:29:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA12735;
	Wed, 28 Nov 2001 02:40:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id CAA12704
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 02:40:50 -0500 (EST)
Received: from mail1.dynamicsoft.com ([63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id CAA25447
	for <sip@ietf.org>; Wed, 28 Nov 2001 02:40:47 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAS7cq7x014953;
	Wed, 28 Nov 2001 02:38:52 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4RRC>; Wed, 28 Nov 2001 02:40:18 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D704F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'Vijay Gurbani'" <vkg@lucent.com>, SIP LIST <sip@ietf.org>
Date: Wed, 28 Nov 2001 02:40:17 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Subject: [Sip] RE: Request merging
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Just to confirm for all:

in bis-05, proxies don't check for merged requests at all. The onus is on
the UAS.

I will update my web page to remove the now outdated discussion on request
merging.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: Vijay Gurbani [mailto:vkg@lucent.com]
> Sent: Friday, October 05, 2001 10:43 AM
> To: SIP LIST
> Cc: Jonathan Rosenberg
> Subject: Request merging 
> 
> 
> Can someone please confirm what is the current status of 
> request merging for 
> proxies?  I recall that there was some discussion on the list a few 
> weeks ago that deprecated request merging for proxies and put 
> the onus on 
> UAs.
> 
> Are proxies NOT supposed to handle request merging anymore?  
> If that is the
> case, Jonathan's page on this topic should probably be 
> updated to this 
> effect.
> 
> Thanks,
> 
> - vijay
> -- 
> Vijay K. Gurbani  vkg@{lucent.com,research.bell-labs.com,acm.org}
> Internet Software and eServices Group 
> Lucent Technologies/Bell Labs Innovations, 2000 Lucent Lane, Rm 6G-440
> Naperville, Illinois 60566     Voice: +1 630 224 0216   Fax: 
> +1 630 713 0184
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 05:26:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id FAA27627
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 05:26:14 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id FAA17812
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 05:26:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA16029;
	Wed, 28 Nov 2001 04:30:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA15989
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 04:30:32 -0500 (EST)
Received: from prue.eim.surrey.ac.uk (IDENT:exim@prue.eim.surrey.ac.uk [131.227.76.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA26864
	for <sip@ietf.org>; Wed, 28 Nov 2001 04:30:28 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by prue.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 16912v-0004vs-00; Wed, 28 Nov 2001 09:30:25 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 16912u-0004oQ-00; Wed, 28 Nov 2001 09:30:24 +0000
Date: Wed, 28 Nov 2001 09:30:24 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D7012@DYN-EXCH-001.dynamicsoft.com>
Message-ID: <Pine.GSO.4.21.0111280926570.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *16912v-0004vs-00*RdgaBUNJ0fc* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, Jonathan, 
   for the centralized signaling model, the MCU or the centre controller
may become the bottleneck of the conference and risk to fail the whole
conference upon its failure. isn't it?
cheers,
lei

On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:

> 
> 
>  
> 
> > -----Original Message-----
> > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > Sent: Tuesday, November 27, 2001 1:07 PM
> > To: sip@ietf.org
> > Subject: [Sip] multicast conference service of SIP
> > 
> > 
> > hi, falks,
> >   for the case of multicast conference service using SIP as signalling
> > protocol, I know from 
> > draft-ietf-sipping-conferencing-models-00.txt that
> > only media streams are transported using multicast rather 
> > than multicast
> > signalling. I now wondered if a callee can know all of the 
> > rest existing
> > users in the conference upon receipt of the first INVITE and 
> > if it should
> > establish sip connections with all of them. 
> 
> What you are talking about is fully distribute multiparty conferencing,
> which uses a full mesh of signaling relationships among participants. Thats
> a really hard problem, and not a conferencing model there appears to be real
> demand for. We've been around the bush a few times on it, and never came up
> with a simple yet correct solution. Centralized signaling for conferences
> (whether its "centralized" in a handset or the network is irrelevant) is
> well understood and easily done with SIP, so that is the area work has
> focused on.
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 06:30:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA00733
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 06:30:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA21630
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 06:30:27 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA19884;
	Wed, 28 Nov 2001 06:00:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA19846
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 06:00:35 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA29318;
	Wed, 28 Nov 2001 06:00:30 -0500 (EST)
Message-Id: <200111281100.GAA29318@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Wed, 28 Nov 2001 06:00:30 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-service-examples-03.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Service Examples
	Author(s)	: A. Johnston, R. Sparks, C. Cunningham, 
                          S. Donovan, K. Summers
	Filename	: draft-ietf-sip-service-examples-03.txt
	Pages		: 107
	Date		: 27-Nov-01
	
This informational document gives examples of SIP (Session Initiation
Protocol) services.  This covers most features offered in so-called
Centrex offerings from local exchange carriers and PBX (Private
Branch Exchange) features.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-service-examples-03.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-service-examples-03.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-service-examples-03.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011127135802.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-service-examples-03.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-service-examples-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011127135802.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 06:31:40 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA00780
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 06:31:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA21882
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 06:31:42 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA19844;
	Wed, 28 Nov 2001 06:00:34 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA19782
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 06:00:29 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA29304;
	Wed, 28 Nov 2001 06:00:25 -0500 (EST)
Message-Id: <200111281100.GAA29304@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Wed, 28 Nov 2001 06:00:24 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-sctp-01.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SCTP as a Transport for SIP
	Author(s)	: J. Rosenberg, H. Schulzrinne, G. Camarillo
	Filename	: draft-ietf-sip-sctp-01.txt
	Pages		: 11
	Date		: 27-Nov-01
	
This document specifies a mechanism for usage of SCTP (the Stream
Control Transmission Protocol) as the transport between SIP entities.
SCTP is a new protocol which provides several features that may prove
beneficial for transport between SIP entities which exchange a large
amount of messages, including gateways and proxies. As SIP is
transport independent, support of SCTP is a relatively
straightforward process, nearly identical to support for TCP.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-sctp-01.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-sctp-01.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-sctp-01.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011127135749.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-sctp-01.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-sctp-01.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011127135749.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 06:41:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA01234
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 06:41:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA22090
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 06:41:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA20988;
	Wed, 28 Nov 2001 06:19:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA20959
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 06:19:42 -0500 (EST)
Received: from mailx3.dacom.co.kr (mailx3.dacom.co.kr [203.252.3.75])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA00217
	for <sip@ietf.org>; Wed, 28 Nov 2001 06:19:38 -0500 (EST)
Received: from sol ([211.171.1.156])
	by mailx3.dacom.co.kr (8.9.1a/8.9.1) with SMTP id UAA13565
	for <sip@ietf.org>; Wed, 28 Nov 2001 20:19:43 +0900 (KST)
Message-Id: <200111281119.UAA13565@mailx3.dacom.co.kr>
From: admin <admin@bojimolca.com>
To: sip@ietf.org
X-Mailer: Microsoft Outlook Express 5.00.2615.200
Reply-To: admin@bojimolca.com
Date: Wed, 28 Nov 2001 20:19:30 +0900
Mime-Version: 1.0
Content-Type: text/html; charset=ks_c_5601-1987
Subject: [Sip] []  .
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ks_c_5601-1987">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title> H</title>
</head>

<body>

<table align="center" bgColor="black" cellPadding="0" cellSpacing="0" width="477">
  <tbody>
    <tr>
      <td colSpan="2" vAlign="top" width="477">
        <table cellPadding="0" cellSpacing="0">
          <tbody>
            <tr>
              <td rowSpan="2" width="230">
                <p><b><font color="#FFFFFF" size="6"><a href="http://www.bojimolca.com" target="new">
                <font color="#FF0000"></font></a></font></b></p>
              </td>
              <td width="230">
                <p><font color="red"><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;</span></font><a href="http://www.bojimolca.com" target="new"><span style="FONT-SIZE: 9pt"><font color="red">
                H. ......</font></span></a></p>
              </td>
            </tr>
            <tr>
              <td width="230">
                <p><font color="red"><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;</span></font><a href="http://www.bojimolca.com" target="new"><span style="FONT-SIZE: 9pt"><font color="red">..XXX
                ,..</font></span></a></p>
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr>
    <tr>
      <td height="268" rowSpan="2" width="363">
        <p align="center"><a href="http://www.bojimolca.com" target="new"><img border="0" height="267" src="http://sexsextv.co.kr/img/Image1.gif" width="363"></a></p>
      </td>
      <td width="114">
        <p align="center"><a href="http://www.bojimolca.com" target="new"><img border="0" src="http://sexsextv.co.kr/img/Image7.gif" width="112" height="131"></a></p>
      </td>
    </tr>
    <tr>
      <td height="103" width="114">
        <p align="center"><a href="http://www.bojimolca.com" target="new"><img border="0" height="131" src="http://sexsextv.co.kr/img/Image6.gif" width="109"></a></p>
      </td>
    </tr>
    <tr>
      <td colSpan="2" height="76" width="477">
        <p align="center"><a href="http://www.bojimolca.com" target="new"><img border="0" src="http://sexsextv.co.kr/img/Image18.gif" width="475" height="74"></a></p>
      </td>
    </tr>
    <tr>
      <td colSpan="2" height="79" width="477">
        <p align="center" style="LINE-HEIGHT: 100%; MARGIN-BOTTOM: 0px; MARGIN-TOP: 0px">
        <p style="LINE-HEIGHT: 100%; MARGIN-BOTTOM: 0px; MARGIN-TOP: 0px">
        <marquee behavior="alternate"></marquee>
        <a href="http://www.bojimolca.com" target="new">
        <img border="0" src="http://img.69sexual.com/intro/photo_03.gif" width="152" height="110"><img border="0" src="http://img.69sexual.com/intro/photo_01.gif" width="154" height="110"><img border="0" src="http://img.69sexual.com/intro/photo_02.gif" width="152" height="110"><img border="0" src="http://img.69sexual.com/intro/photo_03.gif" width="152" height="110"><img border="0" src="http://img.69sexual.com/intro/photo_04.gif" width="152" height="110"><img border="0" src="http://img.69sexual.com/intro/photo_05.gif" width="148" height="110"><img border="0" height="110" src="http://img.69sexual.com/intro/photo_06.jpg" width="148"><img border="0" height="110" src="http://img.69sexual.com/intro/photo_07.jpg" width="152">
        <img border="0" src="http://img.69sexual.com/intro/photo_03.gif" width="152" height="110"><img border="0" height="110" src="http://img.69sexual.com/intro/photo_08.jpg" width="152"><img border="0" height="110" src="http://img.69sexual.com/intro/photo_09.jpg" width="152"><img border="0" src="http://img.69sexual.com/intro/photo_03.gif" width="152" height="110"></p>
        </a>
      </td>
    </tr>
  </tbody>
</table>
<p></p>

</body>

</html>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 08:23:17 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA05912
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 08:23:12 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id IAA24162
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 08:23:16 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA23636;
	Wed, 28 Nov 2001 07:57:29 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id HAA23605
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 07:57:27 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA04710;
	Wed, 28 Nov 2001 07:56:25 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 1694GN-0001jk-00; Wed, 28 Nov 2001 12:56:31 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 1694GF-00059w-00; Wed, 28 Nov 2001 12:56:23 +0000
Date: Wed, 28 Nov 2001 12:56:23 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: Internet-Drafts@ietf.org
cc: sip@ietf.org
In-Reply-To: <200111281100.GAA29304@ietf.org>
Message-ID: <Pine.GSO.4.21.0111281227180.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *1694GN-0001jk-00*RPdvA5kCFX.* http://duncanthrax.net/exiscan/
Subject: [Sip] SUBSCRIBE & NOTIFY mechanism
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, falks,
  I see that SUBSCRIBE & NOTIFY mechanism is still trying to use tightly
coupled manner to keep participants' status informed in
multiparty multimedia conference. Personally, I think it's a littel bit
complex and not flexible for big scale conference. and looks more and more
methods and packages and events will be demanded for further
developement. so why don't try to distribute status information to each
participant in a relatively loose manner?
i.e.
1.UAs keep all useful call-in information to decide if callback or not and
for other services as well as drop the useless ones to which they  don't
need do any further response.
2. UAs keep self-status
3. UAs broadcast self-status periodically to all participants and receive
and store others' status in tables. expires can still be used in this
case.

ps. when the SUBSCRIBE & NOTIFY mechanism is going to be used. or when a
participant want to know the status of another participant? I think,
in most of the case, it should be a participant A  want to inform another
participant B (or some participants) what A  is going to do next.      

cheers.
lei


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:19:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA09239
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:19:16 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA25826
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:19:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25095;
	Wed, 28 Nov 2001 08:59:06 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA25064
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 08:59:03 -0500 (EST)
Received: from prue.eim.surrey.ac.uk (IDENT:exim@prue.eim.surrey.ac.uk [131.227.76.5])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA07638
	for <sip@ietf.org>; Wed, 28 Nov 2001 08:58:58 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by prue.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 1695Eo-0003Ok-00
	for sip@ietf.org; Wed, 28 Nov 2001 13:58:58 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 1695En-0005DZ-00
	for sip@ietf.org; Wed, 28 Nov 2001 13:58:57 +0000
Date: Wed, 28 Nov 2001 13:58:57 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: sip@ietf.org
In-Reply-To: <200111281100.GAA29304@ietf.org>
Message-ID: <Pine.GSO.4.21.0111281353030.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *1695Eo-0003Ok-00*GDA/7BJ..1o* http://duncanthrax.net/exiscan/
Subject: [Sip] one open issue in Models for Multi Party Conferencing in SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, falks, 
  I am not sure if the following issue has been fixed or not. here is my
suggestion.

  issue:
  There is no way for A to know that the entire conference has
transitioned. Also, as above, its not clear that a REFER from the
conference server wouldn't be better.

  suggestion:
  to inform A that the entire conference has transitioned, NOTIFY can be
broadcasted from conference server to all existing members when new member
joins.
  I prefer REFER from conference server. it's more logical for me. :)

cheers.
lei  


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:19:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA09262
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:19:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA25843
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:19:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA24933;
	Wed, 28 Nov 2001 08:53:56 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id IAA24902
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 08:53:54 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id IAA07395
	for <sip@ietf.org>; Wed, 28 Nov 2001 08:53:49 -0500 (EST)
Received: from cannon.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fASDrPE21977;
	Wed, 28 Nov 2001 08:53:25 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAE18586 (AUTH pkyzivat);
	Wed, 28 Nov 2001 08:54:44 -0500 (EST)
Message-ID: <3C04EB94.ED0CABB8@cisco.com>
Date: Wed, 28 Nov 2001 08:50:12 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: sip@ietf.org
References: <B65B4F8437968F488A01A940B21982BF020D704B@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: Comment on draft-ietf-sip-rfc2543bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

I didn't mean to imply that zero media lines are no longer legal.
But they now mean something different. Bis-04, section 5.1, says 

  "The caller MAY choose to omit the request
  body (i.e., not send a session description) OR SEND A SESSION
  DESCRIPTION THAT DOES NOT LIST ANY MEDIA TYPES. This
  indicates that the caller does not know its desired media 
  characteristics until the call has been accepted."

The way I read that, in an invite an SDP body with no media lines 
is equivalent to no body at all - not considered an offer.
With bis-05 it is considered an offer for a session with no media.

I think this is a GOOD change, but it still seems to be a change.
I am pleased to see it made - I think the old way was wrong.

	Paul

Jonathan Rosenberg wrote:
> 
> Cleaning up old threads...
> 
> 
> > -----Original Message-----
> > From: Paul Kyzivat [mailto:pkyzivat@cisco.com]
> > Sent: Friday, October 26, 2001 4:34 PM
> > To: Jonathan Rosenberg
> > Cc: sip@ietf.org
> > Subject: Comment on draft-ietf-sip-rfc2543bis-05
> >
> >
> > I haven't read the whole draft yet, but I did read
> > draft-rosenberg-mmusic-sdp-offer-answer-00, and found something there
> > that needs to be addressed in the bis. I just want to post it before I
> > forget.
> >
> > You have now introduced the notion of an offer and an answer, that get
> > mapped onto SDP via
> > draft-rosenberg-mmusic-sdp-offer-answer-00. However
> > in splitting the documents I think you have introduced a
> > subtle change.
> > This has to do with how to determine if the INVITE contains an offer.
> >
> > Bis-04, section 5.1, says "The caller MAY choose to omit the request
> > body (i.e., not send a session description) OR SEND A SESSION
> > DESCRIPTION THAT DOES NOT LIST ANY MEDIA TYPES. This
> > indicates that the
> > caller does not know its desired media characteristics until the call
> > has been accepted."
> >
> > When I read this in the past I concluded that it meant it is
> > permissible
> > to send an SDP body containing a description without any m lines, and
> > this should not be considered to be an offer. Now bis-05 (based on a
> > quick search) no longer says this. In section 13.2.1 it says
> > "The first,
> > ... is that the INVITE contains the offer. ... A second model is that
> > the INVITE contains no session description, the 2xx response contains
> > the offer, and the ACK contains the answer."
> >
> > This no longer permits an SDP body without m lines, that
> > isn't an offer.
> 
> Oh? offer-answer still permits the offer to have zero media lines:
> 
> 2.1 Unicast
> 
>    The offer MUST contain zero or more media sections. Zero media
>    sessions implies that the offerer wishes to communicate, but that the
>    streams for the session will be added at a later time through re-
>    INVITEs.
> 
> So, the offer has zero media lines. The answer will come in the 2xx, and it
> also has zero. We then do a re-invite to add more lines as normal.
> 
> Can you clarify what text led you to the conclusion that zero m lines are no
> longer allowed?
> 
> Thanks,
> Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:27:07 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA09728
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:27:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA25953
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:27:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA25506;
	Wed, 28 Nov 2001 09:02:53 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA25475
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 09:02:50 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA07936
	for <sip@ietf.org>; Wed, 28 Nov 2001 09:02:46 -0500 (EST)
Received: from njb140r1.ems.att.com ([135.65.202.58])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fASDxVD02205;
	Wed, 28 Nov 2001 08:59:53 -0500 (EST)
Received: from njb140bh1.ems.att.com by njb140r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id IAA04388; Wed, 28 Nov 2001 08:56:40 -0500 (EST)
Received: by njb140bh1.ems.att.com with Internet Mail Service (5.5.2653.19)
	id <XJ1TRC4P>; Wed, 28 Nov 2001 08:58:00 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F958C5EB@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Lei Liang <l.liang@eim.surrey.ac.uk>,
        Jonathan Rosenberg
	 <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
Date: Wed, 28 Nov 2001 08:56:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



-----Original Message-----
From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
Sent: Wednesday, November 28, 2001 4:30 AM
To: Jonathan Rosenberg
Cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP


hi, Jonathan, 
   for the centralized signaling model, the MCU or the centre controller
may become the bottleneck of the conference and risk to fail the whole
conference upon its failure. isn't it?

[RRR] Yes, this risk remains with the centralized conferencing. So, what
people might do is to build redundancy in MCUs or controllers. However, the
redundancy in configurations is outside the scope of standard.

[RRR] In fact, the centralized conferencing is being offered commercially.

[RRR] However, I do believe that there can be more scalable conferencing
protocol architecture in centralized conferencing as well. For example, a
single MCU or controller may not scale in a large network or a conference
may spread the boundary of multiple service providers. In this situation,
there will be multiple MCUs or controllers where a central MCU/Controller
will act the master one while the other MCUs/Controllers will act the slaves
(a kind of tree-like architecture). This is where we also need to put our
energy for standardization. First, we need to write a functional requirement
document and, then we need to find how SIP conferencing services can be
offered in a standard way for the sake of interoperability. Hope that we
would move in that direction soon.

cheers,
lei

On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:

> 
> 
>  
> 
> > -----Original Message-----
> > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > Sent: Tuesday, November 27, 2001 1:07 PM
> > To: sip@ietf.org
> > Subject: [Sip] multicast conference service of SIP
> > 
> > 
> > hi, falks,
> >   for the case of multicast conference service using SIP as signalling
> > protocol, I know from 
> > draft-ietf-sipping-conferencing-models-00.txt that
> > only media streams are transported using multicast rather 
> > than multicast
> > signalling. I now wondered if a callee can know all of the 
> > rest existing
> > users in the conference upon receipt of the first INVITE and 
> > if it should
> > establish sip connections with all of them. 
> 
> What you are talking about is fully distribute multiparty conferencing,
> which uses a full mesh of signaling relationships among participants.
Thats
> a really hard problem, and not a conferencing model there appears to be
real
> demand for. We've been around the bush a few times on it, and never came
up
> with a simple yet correct solution. Centralized signaling for conferences
> (whether its "centralized" in a handset or the network is irrelevant) is
> well understood and easily done with SIP, so that is the area work has
> focused on.
> 
> -Jonathan R.
> ---
> Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> Chief Scientist                             First Floor
> dynamicsoft                                 East Hanover, NJ 07936
> jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> http://www.jdrosen.net                      PHONE: (973) 952-5000
> http://www.dynamicsoft.com
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:49:06 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA11211
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:49:06 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26717
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:49:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA25935;
	Wed, 28 Nov 2001 09:25:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA25904
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 09:25:51 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA09688
	for <sip@ietf.org>; Wed, 28 Nov 2001 09:25:46 -0500 (EST)
Received: from gab200r1.ems.att.com ([135.37.94.32])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fASEOhD16460;
	Wed, 28 Nov 2001 09:24:44 -0500 (EST)
Received: from njb140bh2.ems.att.com by gab200r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id JAA24302; Wed, 28 Nov 2001 09:25:14 -0500 (EST)
Received: by NJB140BH2 with Internet Mail Service (5.5.2653.19)
	id <XJGDVY3F>; Wed, 28 Nov 2001 09:24:42 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F958C638@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Lei Liang <l.liang@eim.surrey.ac.uk>, sip@ietf.org
Subject: RE: [Sip] one open issue in Models for Multi Party Conferencing i
	n SIP
Date: Wed, 28 Nov 2001 09:24:34 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



-----Original Message-----
From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
Sent: Wednesday, November 28, 2001 8:59 AM
To: sip@ietf.org
Subject: [Sip] one open issue in Models for Multi Party Conferencing in
SIP


hi, falks, 
  I am not sure if the following issue has been fixed or not. here is my
suggestion.

  issue:
  There is no way for A to know that the entire conference has
transitioned. Also, as above, its not clear that a REFER from the
conference server wouldn't be better.

[RRR] I believe that we can extend this a little bit. Let us say who owns
the conference? Who has the right to see the entire view of the conference?
Will we allow a partial view to someone while the owner will see the entire
picture? There are so many ways that a conference architecture can be built.
Then the question comes whether it is a centralized conferencing
architecture or not. If it is centralized, the master MCU/Controller will
play the role of these policy implementations. So, it all depends what has
the been the functional requirements of the conferencing. Then we can see
how REFER can used in the context of these functional requirements.

  suggestion:
  to inform A that the entire conference has transitioned, NOTIFY can be
broadcasted from conference server to all existing members when new member
joins.
  I prefer REFER from conference server. it's more logical for me. :)

[RRR] I guess that you are referring the case for the centralized
conferencing. 

cheers.
lei  


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:57:23 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA11732
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:57:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26880
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:57:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26479;
	Wed, 28 Nov 2001 09:34:11 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26381
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 09:34:03 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA10232
	for <sip@ietf.org>; Wed, 28 Nov 2001 09:33:58 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 1695mn-0003eC-00; Wed, 28 Nov 2001 14:34:05 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 1695mf-0005HF-00; Wed, 28 Nov 2001 14:33:57 +0000
Date: Wed, 28 Nov 2001 14:33:57 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: sip@ietf.org
cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] multicast conference service of SIP
In-Reply-To: <62DA45D4963FA747BA1B253E266760F958C5EB@OCCLUST04EVS1.ugd.att.com>
Message-ID: <Pine.GSO.4.21.0111281421570.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *1695mn-0003eC-00*yjPGVIY9jvo* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

hi, Jonathan,
  thanks indeed for your explanation. 
  I am not sure why you insist that the centralized system is better.
I am also not sure if you mean that all of the stream(signaling and media
data) should be handled by the central controller.
 I personally think that maybe a centralized sip signaling server plus a
multicast RTP solution is not bad. the central server handles signaling
and session control information(includes status distribution). hence, it
won't face the bandwidth problem as well as realise some other service,
e.g. billing. when the multicast address problem is solved, RTP multicast
then can be adopted by large number of conference while all of them can
share the same signaling and control center.
cheers.
lei

On Wed, 28 Nov 2001, Roy, Radhika R, ALCTA wrote:

> 
> 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Wednesday, November 28, 2001 4:30 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> hi, Jonathan, 
>    for the centralized signaling model, the MCU or the centre controller
> may become the bottleneck of the conference and risk to fail the whole
> conference upon its failure. isn't it?
> 
> [RRR] Yes, this risk remains with the centralized conferencing. So, what
> people might do is to build redundancy in MCUs or controllers. However, the
> redundancy in configurations is outside the scope of standard.
> 
> [RRR] In fact, the centralized conferencing is being offered commercially.
> 
> [RRR] However, I do believe that there can be more scalable conferencing
> protocol architecture in centralized conferencing as well. For example, a
> single MCU or controller may not scale in a large network or a conference
> may spread the boundary of multiple service providers. In this situation,
> there will be multiple MCUs or controllers where a central MCU/Controller
> will act the master one while the other MCUs/Controllers will act the slaves
> (a kind of tree-like architecture). This is where we also need to put our
> energy for standardization. First, we need to write a functional requirement
> document and, then we need to find how SIP conferencing services can be
> offered in a standard way for the sake of interoperability. Hope that we
> would move in that direction soon.
> 
> cheers,
> lei
> 
> On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:
> 
> > 
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > > Sent: Tuesday, November 27, 2001 1:07 PM
> > > To: sip@ietf.org
> > > Subject: [Sip] multicast conference service of SIP
> > > 
> > > 
> > > hi, falks,
> > >   for the case of multicast conference service using SIP as signalling
> > > protocol, I know from 
> > > draft-ietf-sipping-conferencing-models-00.txt that
> > > only media streams are transported using multicast rather 
> > > than multicast
> > > signalling. I now wondered if a callee can know all of the 
> > > rest existing
> > > users in the conference upon receipt of the first INVITE and 
> > > if it should
> > > establish sip connections with all of them. 
> > 
> > What you are talking about is fully distribute multiparty conferencing,
> > which uses a full mesh of signaling relationships among participants.
> Thats
> > a really hard problem, and not a conferencing model there appears to be
> real
> > demand for. We've been around the bush a few times on it, and never came
> up
> > with a simple yet correct solution. Centralized signaling for conferences
> > (whether its "centralized" in a handset or the network is irrelevant) is
> > well understood and easily done with SIP, so that is the area work has
> > focused on.
> > 
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 09:57:25 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA11749
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 09:57:25 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id JAA26896
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 09:57:29 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26574;
	Wed, 28 Nov 2001 09:39:07 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id JAA26543
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 09:39:04 -0500 (EST)
Received: from phoebe.eim.surrey.ac.uk (IDENT:exim@phoebe.eim.surrey.ac.uk [131.227.74.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id JAA10532
	for <sip@ietf.org>; Wed, 28 Nov 2001 09:38:58 -0500 (EST)
Received: from hermes.ee.surrey.ac.uk ([131.227.88.10] ident=exim)
	by phoebe.eim.surrey.ac.uk with esmtp (Exim 3.16 #1)
	id 1695rb-0003ij-00; Wed, 28 Nov 2001 14:39:03 +0000
Received: from ees2ll (helo=localhost)
	by hermes.ee.surrey.ac.uk with local-esmtp (Exim 2.12 #5)
	id 1695rT-0005Hh-00; Wed, 28 Nov 2001 14:38:55 +0000
Date: Wed, 28 Nov 2001 14:38:55 +0000 (GMT)
From: Lei Liang <l.liang@eim.surrey.ac.uk>
X-Sender: ees2ll@hermes.ee.surrey.ac.uk
To: "Roy, Radhika R, ALCTA" <rrroy@att.com>
cc: sip@ietf.org
Subject: RE: [Sip] one open issue in Models for Multi Party Conferencing i
 n SIP
In-Reply-To: <62DA45D4963FA747BA1B253E266760F958C638@OCCLUST04EVS1.ugd.att.com>
Message-ID: <Pine.GSO.4.21.0111281435240.14131-100000@hermes.ee.surrey.ac.uk>
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Scanner: exiscan *1695rb-0003ij-00*Nwxrh1n0Lto* http://duncanthrax.net/exiscan/
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

yes, I was refering centralized conference because this issue is base on
it. the centre server will handle the policies you mentioned below.
cheers.
lei

On Wed, 28 Nov 2001, Roy, Radhika R, ALCTA wrote:

> 
> 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Wednesday, November 28, 2001 8:59 AM
> To: sip@ietf.org
> Subject: [Sip] one open issue in Models for Multi Party Conferencing in
> SIP
> 
> 
> hi, falks, 
>   I am not sure if the following issue has been fixed or not. here is my
> suggestion.
> 
>   issue:
>   There is no way for A to know that the entire conference has
> transitioned. Also, as above, its not clear that a REFER from the
> conference server wouldn't be better.
> 
> [RRR] I believe that we can extend this a little bit. Let us say who owns
> the conference? Who has the right to see the entire view of the conference?
> Will we allow a partial view to someone while the owner will see the entire
> picture? There are so many ways that a conference architecture can be built.
> Then the question comes whether it is a centralized conferencing
> architecture or not. If it is centralized, the master MCU/Controller will
> play the role of these policy implementations. So, it all depends what has
> the been the functional requirements of the conferencing. Then we can see
> how REFER can used in the context of these functional requirements.
> 
>   suggestion:
>   to inform A that the entire conference has transitioned, NOTIFY can be
> broadcasted from conference server to all existing members when new member
> joins.
>   I prefer REFER from conference server. it's more logical for me. :)
> 
> [RRR] I guess that you are referring the case for the centralized
> conferencing. 
> 
> cheers.
> lei  
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 10:43:01 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA15078
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 10:43:01 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA28635
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 10:43:06 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA27584;
	Wed, 28 Nov 2001 10:15:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA27553
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 10:15:01 -0500 (EST)
Received: from smtp2.gtsgroup.com (smtp2.gtsgroup.com [195.158.230.80])
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA12847
	for <sip@ietf.org>; Wed, 28 Nov 2001 10:14:55 -0500 (EST)
Received: from 207.77.231.73 by smtp2.gtsgroup.com (InterScan E-Mail VirusWall NT); Wed, 28 Nov 2001 15:13:28 -0000
Received: by brubhdpnt01.gtsgroup.com with Internet Mail Service (5.5.2653.19)
	id <XVKLLB8D>; Wed, 28 Nov 2001 16:13:28 +0100
Message-ID: <D52BF6463BA3D311BFA700508B63C5AA05109EDF@brumsgpnt01.gtsgroup.com>
From: "Agboh, Charles" <Charles.Agboh@ebone.com>
To: "'Roy, Radhika R, ALCTA'" <rrroy@att.com>,
        Lei Liang
	 <l.liang@eim.surrey.ac.uk>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
Date: Wed, 28 Nov 2001 16:13:26 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Roy, Radhika R, ALCTA [mailto:rrroy@att.com]
> Sent: Wednesday, November 28, 2001 2:56 PM
> To: Lei Liang; Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> 
> 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Wednesday, November 28, 2001 4:30 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> hi, Jonathan, 
>    for the centralized signaling model, the MCU or the centre 
> controller
> may become the bottleneck of the conference and risk to fail the whole
> conference upon its failure. isn't it?
> 
> [RRR] Yes, this risk remains with the centralized 
> conferencing. So, what
> people might do is to build redundancy in MCUs or 
> controllers. However, the
> redundancy in configurations is outside the scope of standard.
> 
> [RRR] In fact, the centralized conferencing is being offered 
> commercially.
> 
> [RRR] However, I do believe that there can be more scalable 
> conferencing
> protocol architecture in centralized conferencing as well. 
> For example, a
> single MCU or controller may not scale in a large network or 
> a conference
> may spread the boundary of multiple service providers. In 
> this situation,
> there will be multiple MCUs or controllers where a central 
> MCU/Controller
> will act the master one while the other MCUs/Controllers will 
> act the slaves
> (a kind of tree-like architecture). This is where we also 
> need to put our
> energy for standardization. First, we need to write a 
> functional requirement
> document and, then we need to find how SIP conferencing 
> services can be
> offered in a standard way for the sake of interoperability. 
> Hope that we
> would move in that direction soon.

What you are actaully describing is similar to the H.332 conferencing model.
This model may or may not work for SIP.  The requirements have not been
defined.  The degree of  scalability of this and other conference model
depends on the capability of the servers to announce ressource usage to
other servers and the granularity of this information....boils down to
server load balancing (depends on your network topology).......

> cheers,
> lei
> 
> On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:
> 
> > 
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > > Sent: Tuesday, November 27, 2001 1:07 PM
> > > To: sip@ietf.org
> > > Subject: [Sip] multicast conference service of SIP
> > > 
> > > 
> > > hi, falks,
> > >   for the case of multicast conference service using SIP 
> as signalling
> > > protocol, I know from 
> > > draft-ietf-sipping-conferencing-models-00.txt that
> > > only media streams are transported using multicast rather 
> > > than multicast
> > > signalling. I now wondered if a callee can know all of the 
> > > rest existing
> > > users in the conference upon receipt of the first INVITE and 
> > > if it should
> > > establish sip connections with all of them. 
> > 
> > What you are talking about is fully distribute multiparty 
> conferencing,
> > which uses a full mesh of signaling relationships among 
> participants.
> Thats
> > a really hard problem, and not a conferencing model there 
> appears to be
> real
> > demand for. We've been around the bush a few times on it, 
> and never came
> up
> > with a simple yet correct solution. Centralized signaling 
> for conferences
> > (whether its "centralized" in a handset or the network is 
> irrelevant) is
> > well understood and easily done with SIP, so that is the 
> area work has
> > focused on.
> > 
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 13:28:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27745
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 13:28:48 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA04434
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 13:28:50 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA03486;
	Wed, 28 Nov 2001 12:57:55 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA03456
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 12:57:53 -0500 (EST)
Received: from kcmso1.proxy.att.com (kcmso1.att.com [192.128.133.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA25660
	for <sip@ietf.org>; Wed, 28 Nov 2001 12:57:50 -0500 (EST)
Received: from njb140r1.ems.att.com ([135.65.202.58])
	by kcmso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fASHuTx23103;
	Wed, 28 Nov 2001 12:56:30 -0500 (EST)
Received: from njb140bh2.ems.att.com by njb140r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id MAA04171; Wed, 28 Nov 2001 12:55:06 -0500 (EST)
Received: by NJB140BH2 with Internet Mail Service (5.5.2653.19)
	id <XJGDWX1D>; Wed, 28 Nov 2001 12:56:26 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F962F1FE@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: "Agboh, Charles" <Charles.Agboh@ebone.com>,
        Lei Liang
	 <l.liang@eim.surrey.ac.uk>,
        Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP
Date: Wed, 28 Nov 2001 12:45:59 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



-----Original Message-----
From: Agboh, Charles [mailto:Charles.Agboh@ebone.com]
Sent: Wednesday, November 28, 2001 10:13 AM
To: Roy, Radhika R, ALCTA; Lei Liang; Jonathan Rosenberg
Cc: sip@ietf.org
Subject: RE: [Sip] multicast conference service of SIP




> -----Original Message-----
> From: Roy, Radhika R, ALCTA [mailto:rrroy@att.com]
> Sent: Wednesday, November 28, 2001 2:56 PM
> To: Lei Liang; Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> 
> 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Wednesday, November 28, 2001 4:30 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> hi, Jonathan, 
>    for the centralized signaling model, the MCU or the centre 
> controller
> may become the bottleneck of the conference and risk to fail the whole
> conference upon its failure. isn't it?
> 
> [RRR] Yes, this risk remains with the centralized 
> conferencing. So, what
> people might do is to build redundancy in MCUs or 
> controllers. However, the
> redundancy in configurations is outside the scope of standard.
> 
> [RRR] In fact, the centralized conferencing is being offered 
> commercially.
> 
> [RRR] However, I do believe that there can be more scalable 
> conferencing
> protocol architecture in centralized conferencing as well. 
> For example, a
> single MCU or controller may not scale in a large network or 
> a conference
> may spread the boundary of multiple service providers. In 
> this situation,
> there will be multiple MCUs or controllers where a central 
> MCU/Controller
> will act the master one while the other MCUs/Controllers will 
> act the slaves
> (a kind of tree-like architecture). This is where we also 
> need to put our
> energy for standardization. First, we need to write a 
> functional requirement
> document and, then we need to find how SIP conferencing 
> services can be
> offered in a standard way for the sake of interoperability. 
> Hope that we
> would move in that direction soon.

What you are actaully describing is similar to the H.332 conferencing model.
This model may or may not work for SIP.  

[RRR] The above example is a generic one and, is NOT H.332.

The requirements have not been
defined.  

[RRR] Yes, that is why, the proposal has been made to define one.

The degree of  scalability of this and other conference model
depends on the capability of the servers to announce ressource usage to
other servers and the granularity of this information....boils down to
server load balancing (depends on your network topology).......

[RRR] I brought the issue of scalability, as an example, in the light of the
centralized conferencing that Lei provided. I have expanded that one a
little more in that direction considering MCUs/Controllers only. You are
welcome to bring more things along that line if you want to, but it will be
good to be more specific.

> cheers,
> lei
> 
> On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:
> 
> > 
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > > Sent: Tuesday, November 27, 2001 1:07 PM
> > > To: sip@ietf.org
> > > Subject: [Sip] multicast conference service of SIP
> > > 
> > > 
> > > hi, falks,
> > >   for the case of multicast conference service using SIP 
> as signalling
> > > protocol, I know from 
> > > draft-ietf-sipping-conferencing-models-00.txt that
> > > only media streams are transported using multicast rather 
> > > than multicast
> > > signalling. I now wondered if a callee can know all of the 
> > > rest existing
> > > users in the conference upon receipt of the first INVITE and 
> > > if it should
> > > establish sip connections with all of them. 
> > 
> > What you are talking about is fully distribute multiparty 
> conferencing,
> > which uses a full mesh of signaling relationships among 
> participants.
> Thats
> > a really hard problem, and not a conferencing model there 
> appears to be
> real
> > demand for. We've been around the bush a few times on it, 
> and never came
> up
> > with a simple yet correct solution. Centralized signaling 
> for conferences
> > (whether its "centralized" in a handset or the network is 
> irrelevant) is
> > well understood and easily done with SIP, so that is the 
> area work has
> > focused on.
> > 
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 13:42:14 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA29085
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 13:42:09 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id NAA04968
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 13:42:12 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04251;
	Wed, 28 Nov 2001 13:21:10 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA04218
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 13:21:07 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27145
	for <sip@ietf.org>; Wed, 28 Nov 2001 13:21:04 -0500 (EST)
Received: from gab200r1.ems.att.com ([135.37.94.32])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fASIJWD20715;
	Wed, 28 Nov 2001 13:19:33 -0500 (EST)
Received: from njb140bh2.ems.att.com by gab200r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id NAA22294; Wed, 28 Nov 2001 13:19:58 -0500 (EST)
Received: by NJB140BH2 with Internet Mail Service (5.5.2653.19)
	id <XJGDW59P>; Wed, 28 Nov 2001 13:19:26 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F962F25F@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Lei Liang <l.liang@eim.surrey.ac.uk>, sip@ietf.org
Cc: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
Subject: RE: [Sip] multicast conference service of SIP
Date: Wed, 28 Nov 2001 13:19:16 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



-----Original Message-----
From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
Sent: Wednesday, November 28, 2001 9:34 AM
To: sip@ietf.org
Cc: Jonathan Rosenberg
Subject: RE: [Sip] multicast conference service of SIP


hi, Jonathan,
  thanks indeed for your explanation. 

[RRR] If I understand you correctly, this reply was sent by me (Radhika R.
Roy [RRR], not Jonathan Rosenberg).

  I am not sure why you insist that the centralized system is better.

[RRR] I guess that no one is saying that the centralized system is better.
Rather, people say, how to implement a centralized conferencing system is
better understood (than the distributive one). People are yet to understand
clearly how to implement a distributive one and their implications on
resources.

I am also not sure if you mean that all of the stream(signaling and media
data) should be handled by the central controller.

[RRR] No necessarily. Primarily, I have been pointing to the signaling part.
However, media can also be handled in a similar way if the multicasting is
handled in the application layer. However, the media need to be handled
separately, decoupling from signaling.

 I personally think that maybe a centralized sip signaling server plus a
multicast RTP solution is not bad. 

[RRR] I agree.

the central server handles signaling
and session control information(includes status distribution). hence, it
won't face the bandwidth problem as well as realise some other service,
e.g. billing. 

[RRR] Quite possible.

when the multicast address problem is solved, RTP multicast
then can be adopted by large number of conference while all of them can
share the same signaling and control center.

[RRR] This is the area, I guess, where we need to do more work.

cheers.
lei

On Wed, 28 Nov 2001, Roy, Radhika R, ALCTA wrote:

> 
> 
> -----Original Message-----
> From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> Sent: Wednesday, November 28, 2001 4:30 AM
> To: Jonathan Rosenberg
> Cc: sip@ietf.org
> Subject: RE: [Sip] multicast conference service of SIP
> 
> 
> hi, Jonathan, 
>    for the centralized signaling model, the MCU or the centre controller
> may become the bottleneck of the conference and risk to fail the whole
> conference upon its failure. isn't it?
> 
> [RRR] Yes, this risk remains with the centralized conferencing. So, what
> people might do is to build redundancy in MCUs or controllers. However,
the
> redundancy in configurations is outside the scope of standard.
> 
> [RRR] In fact, the centralized conferencing is being offered commercially.
> 
> [RRR] However, I do believe that there can be more scalable conferencing
> protocol architecture in centralized conferencing as well. For example, a
> single MCU or controller may not scale in a large network or a conference
> may spread the boundary of multiple service providers. In this situation,
> there will be multiple MCUs or controllers where a central MCU/Controller
> will act the master one while the other MCUs/Controllers will act the
slaves
> (a kind of tree-like architecture). This is where we also need to put our
> energy for standardization. First, we need to write a functional
requirement
> document and, then we need to find how SIP conferencing services can be
> offered in a standard way for the sake of interoperability. Hope that we
> would move in that direction soon.
> 
> cheers,
> lei
> 
> On Tue, 27 Nov 2001, Jonathan Rosenberg wrote:
> 
> > 
> > 
> >  
> > 
> > > -----Original Message-----
> > > From: Lei Liang [mailto:l.liang@eim.surrey.ac.uk]
> > > Sent: Tuesday, November 27, 2001 1:07 PM
> > > To: sip@ietf.org
> > > Subject: [Sip] multicast conference service of SIP
> > > 
> > > 
> > > hi, falks,
> > >   for the case of multicast conference service using SIP as signalling
> > > protocol, I know from 
> > > draft-ietf-sipping-conferencing-models-00.txt that
> > > only media streams are transported using multicast rather 
> > > than multicast
> > > signalling. I now wondered if a callee can know all of the 
> > > rest existing
> > > users in the conference upon receipt of the first INVITE and 
> > > if it should
> > > establish sip connections with all of them. 
> > 
> > What you are talking about is fully distribute multiparty conferencing,
> > which uses a full mesh of signaling relationships among participants.
> Thats
> > a really hard problem, and not a conferencing model there appears to be
> real
> > demand for. We've been around the bush a few times on it, and never came
> up
> > with a simple yet correct solution. Centralized signaling for
conferences
> > (whether its "centralized" in a handset or the network is irrelevant) is
> > well understood and easily done with SIP, so that is the area work has
> > focused on.
> > 
> > -Jonathan R.
> > ---
> > Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
> > Chief Scientist                             First Floor
> > dynamicsoft                                 East Hanover, NJ 07936
> > jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
> > http://www.jdrosen.net                      PHONE: (973) 952-5000
> > http://www.dynamicsoft.com
> > 
> 


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 16:17:43 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA12875
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 16:17:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10618
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 16:15:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09259;
	Wed, 28 Nov 2001 15:54:41 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09218
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 15:54:38 -0500 (EST)
Received: from imo-m03.mx.aol.com (imo-m03.mx.aol.com [64.12.136.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11226
	for <sip@ietf.org>; Wed, 28 Nov 2001 15:54:33 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m03.mx.aol.com (mail_out_v31_r1.9.) id l.3c.1534857f (4216)
	 for <sip@ietf.org>; Wed, 28 Nov 2001 15:53:58 -0500 (EST)
Message-ID: <3c.1534857f.2936a8e6@aol.com>
Date: Wed, 28 Nov 2001 15:53:58 EST
To: sip@ietf.org
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Subject: [Sip] Service Examples - Single Line Extensions
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Regarding draft-ietf-sip-service-examples.03:

Section 2.10 Single Line Extension
I don't understand the application of a service which "rings several 
extensions in sequence". The requirement to emulate a group of extensions 
would be to simultaneously ring all.
The reference to "help desk/call center" further confuses the issue of Single 
Line Extension. In fact, "extensions" are typically used for individual 
users, for example, when a couple of office mates share one phone number. 
This is no different than the Home Extension case. Larger groups, such as 
might be used for help desk/call center applications, use a much more 
complicated feature set than "extensions" or what is shown in Section 2.11.

Section 2.11
States that the signaling for Single Line Extension and Find-Me is the same. 
These should be two different services and fundamentally different signaling. 
Single Line Extension must work differently than shown. I presume that 
"Forking" is required here, and the INVITEs are simultaneously sent to a 
group of devices that have been somehow defined as belonging together 
("extensions" in the mind of the user). Find-Me, on the other hand, could 
sequentially signal to a list of locations which are not "extensions". They 
are unrelated devices. (In fact, one of the sequential attempts in the 
Find-Me chain could be to ring a group of extensions.)

Mike Pierce
Artel


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 16:18:48 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13017
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 16:18:43 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10649
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 16:18:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09211;
	Wed, 28 Nov 2001 15:54:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09181
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 15:54:30 -0500 (EST)
Received: from imo-m01.mx.aol.com (imo-m01.mx.aol.com [64.12.136.4])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11207
	for <sip@ietf.org>; Wed, 28 Nov 2001 15:54:25 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m01.mx.aol.com (mail_out_v31_r1.9.) id l.3f.27d2f83 (4216);
	Wed, 28 Nov 2001 15:53:54 -0500 (EST)
Message-ID: <3f.27d2f83.2936a8e2@aol.com>
Date: Wed, 28 Nov 2001 15:53:54 EST
Subject: Re: [Sip] SIP security requirements (this might mean you!)
To: sip@ietf.org
CC: mat@cisco.com
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mat,

Comments on draft-thomas-sip-req-00:

Looks like a good identification of the requirements. At least on the high 
level, it appears to identify the security requirements of 
draft-pierce-sipping-assured-service-00.

Nits (to prove I read it):

2.4.5 4th line "upon" should be "open"

2nd paragraph of section 3:
Second word ("trapezoid") should be deleted (or replaced with "trust 
boundaries").
Phrase "Neither the UAC or UAS have no direct..." should be "neither the UAC 
nor the UAS have a direct.."

Section 3.0.4: word "of" missing in third line after "shades"

Questions:

12th bullet in Section 4 ("consider the cost of any public key"). It isn't 
clear to me what this means, especially as a requirement. It seems to be 
saying that an implementation should be able to keep a copy and reuse 
something that it is supposed to pay for on a per use basis.

14th bullet in Section 4 ("compress any encrypted portions"). It isn't clear 
what the requirement here is. If size of messages is a problem, the 
requirement to compress would be independent from any security aspects such 
as encryption. compression would have to be done before encryption. Once 
encrypted, compression if impossible. Properly encrypted data can not be 
compressed since it consists of totally random data. I suppose you meant "to 
first compress any portion of the message to be encrypted." This brings up 
another possible requirement, which is to be able to hide the length of 
messages by padding them to a specific length before encryption. I don't know 
if this is needed.

Mike Pierce
Artel


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 16:23:50 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13491
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 16:23:50 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA10766
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 16:23:54 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09286;
	Wed, 28 Nov 2001 15:54:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA09226
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 15:54:39 -0500 (EST)
Received: from imo-m03.mx.aol.com (imo-m03.mx.aol.com [64.12.136.6])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA11228
	for <sip@ietf.org>; Wed, 28 Nov 2001 15:54:34 -0500 (EST)
From: Mpierce1@aol.com
Received: from Mpierce1@aol.com
	by imo-m03.mx.aol.com (mail_out_v31_r1.9.) id l.a0.1e1d6d77 (4216);
	Wed, 28 Nov 2001 15:53:57 -0500 (EST)
Message-ID: <a0.1e1d6d77.2936a8e4@aol.com>
Date: Wed, 28 Nov 2001 15:53:56 EST
Subject: Re: [Sip] The Future of SIP Call Control
To: sip@ietf.org
CC: jdrosen@dynamicsoft.com
MIME-Version: 1.0
Content-Type: text/plain; charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Mailer: AOL 4.0 for Windows 95 sub 112
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

In a message dated 11/28/01 12:45:57 AM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> > -----Original Message-----
>  > From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
>  > Sent: Tuesday, November 27, 2001 5:19 PM
>  > To: sip@ietf.org
>  > Subject: Re: [Sip] The Future of SIP Call Control
>  > 
>  > 
>  > I'm not sure what the distinction is between "standardizing those 
services" 
>  > and the alternative. Either you do or you don't. If you don't 
standardize 
>  > each service, that is, the complete protocol needed to allow it to be 
>  > implemented on multiple devices built by multiple vendors, and to 
interwork 
>  > with other services, then you can never prove  interoperability and you 
can 
>  > never use that service in a real network. I believe strongly  that we 
can't 
>  > just standardize "protocol primitives". It is first necessary  to agree 
on the 
>  > set of services to be supported  and to have a concept of  what 
"protocol 
>  > primitives" could be, and then to determine the general way  in which 
these 
>  > services are to be supported in SIP. Then a set of "protocol  
primitives" can 
>  > be developed which provide the necessary functions, while individual 
>  > standards are being written for each service using those "primitives".
>  
>  I don't think the latter is needed in many cases. Many services are
>  "one-sided", in that they require the invoker to understand the semantics 
of
>  the service, but require the other side to only follow a particular 
protocol
>  primitive. Thus, with a sufficiently generaly set of primitives, you can
>  make many more of these services work in this fashion. Certainly that is 
the
>  case, for example, with transfer. There are many variants on it, and the
>  exact variant (bridged, blind, consulutation, etc.) need ONLY be known by
>  the UA invoking the service. If, however, we did as you propose, we would
>  need to write a separate draft for each of these variants, and the result 
of
>  that is painfully slow deployment of services, lack of innnovation in
>  services, and limited set of standardized services. I do not believe that
>  this is the right route, and it has been fairly fundamental to sip that 
this
>  remain the case.
>  
>  Now, this same one-sidedness, with the proper primitives and general,
>  service independent components (like the ones described in
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-app-components-01.txt),
>  you can pretty much nail everything in this way. Conferencing, hold, mute,
>  transfer, and with
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt, park
>  and pickup, all as these "one-sided services". 
>  
>  I've been meaning to write a draft that discusses this stuff in more 
detail,
>  along with how it relates to the user interface problem. Seems like that
>  draft is becoming timely...
>  
>  -Jonathan R.
>  
I agree that many services are "one-sided" in that one of the end points 
involved just responds to messages that are a part of the simple call setup 
procedures. But that doesn't obviate the need for a "standard". Taking Call 
Transfer as an example - yes, there are many variants, which is complicating 
all the discussion of REFER and other protocol elements.

But what it all comes down to in the end is, if you want to sell thousands of 
IP telephones for use in a real network, they will have to be 
tested/certified as complying with some standard. Currently, with H.323 
(which I understand is virtually the only IP phones in real use), the 
question can be "Does your product comply with H.323, H.225, H.425, and 
H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in real 
networks, what would the equivalent question be for compliance?

Unfortunately, I was previously involved with several standardization efforts 
that attempted to do exactly what you said - define a set of protocol 
primitives which the user could then string together any way they wanted to 
create services. It didn't work then, and I don't think it will now.

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 16:46:03 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA15477
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 16:46:03 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id QAA11755
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 16:46:08 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA10929;
	Wed, 28 Nov 2001 16:29:12 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA10900
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 16:29:09 -0500 (EST)
Received: from almso1.proxy.att.com (almso1.att.com [192.128.167.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA13975
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:29:04 -0500 (EST)
Received: from njb140r1.ems.att.com ([135.65.202.58])
	by almso1.proxy.att.com (AT&T IPNS/MSO-3.0) with ESMTP id fASLSND21610;
	Wed, 28 Nov 2001 16:28:25 -0500 (EST)
Received: from njb140bh1.ems.att.com by njb140r1.ems.att.com (8.8.8+Sun/ATTEMS-1.4.1 sol2)
	id QAA13835; Wed, 28 Nov 2001 16:27:03 -0500 (EST)
Received: by njb140bh1.ems.att.com with Internet Mail Service (5.5.2653.19)
	id <XJ1TTD9P>; Wed, 28 Nov 2001 16:28:22 -0500
Message-ID: <62DA45D4963FA747BA1B253E266760F962F4B9@OCCLUST04EVS1.ugd.att.com>
From: "Roy, Radhika R, ALCTA" <rrroy@att.com>
To: Mpierce1@aol.com, sip@ietf.org
Cc: jdrosen@dynamicsoft.com
Subject: RE: [Sip] The Future of SIP Call Control
Date: Wed, 28 Nov 2001 16:28:15 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

My comments are inline [RRR].

-----Original Message-----
From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
Sent: Wednesday, November 28, 2001 3:54 PM
To: sip@ietf.org
Cc: jdrosen@dynamicsoft.com
Subject: Re: [Sip] The Future of SIP Call Control


In a message dated 11/28/01 12:45:57 AM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> > -----Original Message-----
>  > From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
>  > Sent: Tuesday, November 27, 2001 5:19 PM
>  > To: sip@ietf.org
>  > Subject: Re: [Sip] The Future of SIP Call Control
>  > 
>  > 
>  > I'm not sure what the distinction is between "standardizing those 
services" 
>  > and the alternative. Either you do or you don't. If you don't 
standardize 
>  > each service, that is, the complete protocol needed to allow it to be 
>  > implemented on multiple devices built by multiple vendors, and to 
interwork 
>  > with other services, then you can never prove  interoperability and you

can 
>  > never use that service in a real network. I believe strongly  that we 
can't 
>  > just standardize "protocol primitives". It is first necessary  to agree

on the 
>  > set of services to be supported  and to have a concept of  what 
"protocol 
>  > primitives" could be, and then to determine the general way  in which 
these 
>  > services are to be supported in SIP. Then a set of "protocol  
primitives" can 
>  > be developed which provide the necessary functions, while individual 
>  > standards are being written for each service using those "primitives".
>  
>  I don't think the latter is needed in many cases. Many services are
>  "one-sided", in that they require the invoker to understand the semantics

of
>  the service, but require the other side to only follow a particular 
protocol
>  primitive. Thus, with a sufficiently generaly set of primitives, you can
>  make many more of these services work in this fashion. Certainly that is 
the
>  case, for example, with transfer. There are many variants on it, and the
>  exact variant (bridged, blind, consulutation, etc.) need ONLY be known by
>  the UA invoking the service. If, however, we did as you propose, we would
>  need to write a separate draft for each of these variants, and the result

of
>  that is painfully slow deployment of services, lack of innnovation in
>  services, and limited set of standardized services. I do not believe that
>  this is the right route, and it has been fairly fundamental to sip that 
this
>  remain the case.
>  
>  Now, this same one-sidedness, with the proper primitives and general,
>  service independent components (like the ones described in
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-app-components-01.txt),
>  you can pretty much nail everything in this way. Conferencing, hold,
mute,
>  transfer, and with
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt,
park
>  and pickup, all as these "one-sided services". 
>  
>  I've been meaning to write a draft that discusses this stuff in more 
detail,
>  along with how it relates to the user interface problem. Seems like that
>  draft is becoming timely...
>  
>  -Jonathan R.
>  
I agree that many services are "one-sided" in that one of the end points 
involved just responds to messages that are a part of the simple call setup 
procedures. But that doesn't obviate the need for a "standard". Taking Call 
Transfer as an example - yes, there are many variants, which is complicating

all the discussion of REFER and other protocol elements.

But what it all comes down to in the end is, if you want to sell thousands
of 
IP telephones for use in a real network, they will have to be 
tested/certified as complying with some standard. Currently, with H.323 
(which I understand is virtually the only IP phones in real use), the 
question can be "Does your product comply with H.323, H.225, H.425, and 
H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in
real 
networks, what would the equivalent question be for compliance?

[RRR] I do not know whether I can answer your questions directly. Let me try
to answer indirectly. We are working for SIP-H.323 interworking in the
SIP-H323-eGroup (IETF). At some point of time, we will address interworking
between SIP and H.323 supplementary services. We may find some ways for
interworking (e.g.,
http://www.cs.columbia.edu/~hgs/sip/drafts/SIP-H.323_Call_Examples.txt), not
necessarily the same experiences/functionalities in both sides.

[RRR] I would NOT say "Does your product comply with H.323, H.225, H.425,
and H450.2 for Call Transfer?" What I would like to see happen is that SIP
call control services will have the equivalent capabilities/functionalities
what H.323 supplementary services provide. The way I prefer that we should
proceed has been explained in earlier emails: 1. Functional requirements, 2.
Standardize SIP primitives, and 3. RFCs for SIP call control (or
conferencing) services.

Unfortunately, I was previously involved with several standardization
efforts 
that attempted to do exactly what you said - define a set of protocol 
primitives which the user could then string together any way they wanted to 
create services. It didn't work then, and I don't think it will now.

[RRR] From service provider point of view, it is the most important point as
Mike has pointed out.

[RRR] As mentioned before, the two step-process may be the right way to
address the concerns that Mike has mentioned: 1. Standardize all primitives
in SIP that are needed to provide services and 2. Publish the RFCs that show
how SIP call control (or conferencing) services are offered. These RFCs will
foster the global interoperability for SIP call control (or conferencing)
services.

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 17:01:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16869
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 17:01:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA12493
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 17:01:23 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11618;
	Wed, 28 Nov 2001 16:43:09 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11587
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 16:43:06 -0500 (EST)
Received: from broadsof.temp.veriohosting.com (broadsof.temp.veriohosting.com [161.58.239.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA15238
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:42:59 -0500 (EST)
Received: from tate ([64.243.180.244]) by broadsof.temp.veriohosting.com (8.11.6) id fASLgoX11600; Wed, 28 Nov 2001 16:42:51 -0500 (EST)
Reply-To: <brett@broadsoft.com>
From: "Brett Tate" <brett@broadsoft.com>
To: <sip@ietf.org>
Subject: RE: [Sip] Session Timer - Timeout on Refresh
Date: Wed, 28 Nov 2001 16:44:14 -0500
Message-ID: <001901c17855$d34ebab0$2b01a8c0@broadsoft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook CWS, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <B65B4F8437968F488A01A940B21982BF020D704C@DYN-EXCH-001.dynamicsoft.com>
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

> > > The bis-03 draft of SIP states under Reliability
> > > for INVITE Requests:
> > > "If no response is received after sending seven packet
> > > requests, processing continues as if a 481 response was
> > > received for that request."
> > 
> > Would a 408 be more appropriate than a 481?
> > This would allow the UAC to decide the 
> > importance of the re-invite.
> 
> bis-05 doesn't actually have this above text 
> anymore; it talks about client
> transactions sending timeouts to the TU, 
> but I couldn't find any matching
> text that describes how the ua core or 
> proxy cores handle the timeouts.
> Thats a bug.
> 
> Assuming it generates either a 408 or 481, 
> the spec is clear that both
> terminate a dialog anyway, so there is no 
> difference.

Thanks for pointing out the change in bis-05.
Why should a 408 automatically terminate a 
dialog?

This change will result in proxy failure 
causing a call to be released after 
approximately half Session-Expires instead 
of allowing approximately half Session-Expires 
for the proxy to recover.


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 17:04:13 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA17101
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 17:04:13 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA12521
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 17:04:18 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11729;
	Wed, 28 Nov 2001 16:45:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11643
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 16:45:21 -0500 (EST)
Received: from mail-blue.research.att.com (mail-blue.research.att.com [135.207.30.102])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA15409
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:45:16 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-blue.research.att.com (Postfix) with ESMTP id 289934CEA3
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:45:08 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id QAA10778
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:45:07 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id QAA74557
	for sip@ietf.org; Wed, 28 Nov 2001 16:45:07 -0500 (EST)
Date: Wed, 28 Nov 2001 16:45:07 -0500 (EST)
Message-Id: <200111282145.QAA74557@fish.research.att.com>
Subject: Re: [Sip] The Future of SIP Call Control
To: sip@ietf.org
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Many of the services are definitely "one-sided", where the other just
does as it is told.

But, the discussion on REFER is leaving the "policy decision" to the
subscriber/vendor/user as to whether they actually do as they are
told or ignore it.

This is the combination that will NOT produce interoperable services.

So, in addition to the definition of primitives like REFER, it is
absolutely necessary to provide guidance to the policy decisions
that are needed to implement services.  This part is missing --
MUST-strength requirements (testable) defining how a UA responds 
to the commands (e.g. REFER).  

I think the only real issue is whether this belongs in the sip draft
that defines the primitive, or in the sipping draft that defines
the use of the primitive.

Bill Marshall
wtm@research.att.com

-----original message-----
From: Mpierce1@aol.com
Date: Wed, 28 Nov 2001 15:53:56 EST
Subject: Re: [Sip] The Future of SIP Call Control
To: sip@ietf.org

In a message dated 11/28/01 12:45:57 AM Eastern Standard Time, 
jdrosen@dynamicsoft.com writes:

> > -----Original Message-----
>  > From: Mpierce1@aol.com [mailto:Mpierce1@aol.com]
>  > Sent: Tuesday, November 27, 2001 5:19 PM
>  > To: sip@ietf.org
>  > Subject: Re: [Sip] The Future of SIP Call Control
>  > 
>  > 
>  > I'm not sure what the distinction is between "standardizing those services" 
>  > and the alternative. Either you do or you don't. If you don't standardize 
>  > each service, that is, the complete protocol needed to allow it to be 
>  > implemented on multiple devices built by multiple vendors, and to interwork 
>  > with other services, then you can never prove  interoperability and you can 
>  > never use that service in a real network. I believe strongly  that we can't 
>  > just standardize "protocol primitives". It is first necessary  to agree on the 
>  > set of services to be supported  and to have a concept of  what "protocol 
>  > primitives" could be, and then to determine the general way  in which these 
>  > services are to be supported in SIP. Then a set of "protocol  primitives" can 
>  > be developed which provide the necessary functions, while individual 
>  > standards are being written for each service using those "primitives".
>  
>  I don't think the latter is needed in many cases. Many services are
>  "one-sided", in that they require the invoker to understand the semantics of
>  the service, but require the other side to only follow a particular protocol
>  primitive. Thus, with a sufficiently generaly set of primitives, you can
>  make many more of these services work in this fashion. Certainly that is the
>  case, for example, with transfer. There are many variants on it, and the
>  exact variant (bridged, blind, consulutation, etc.) need ONLY be known by
>  the UA invoking the service. If, however, we did as you propose, we would
>  need to write a separate draft for each of these variants, and the result of
>  that is painfully slow deployment of services, lack of innnovation in
>  services, and limited set of standardized services. I do not believe that
>  this is the right route, and it has been fairly fundamental to sip that this
>  remain the case.
>  
>  Now, this same one-sidedness, with the proper primitives and general,
>  service independent components (like the ones described in
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-app-components-01.txt),
>  you can pretty much nail everything in this way. Conferencing, hold, mute,
>  transfer, and with
>  http://www.jdrosen.net/papers/draft-rosenberg-sip-call-package-00.txt, park
>  and pickup, all as these "one-sided services". 
>  
>  I've been meaning to write a draft that discusses this stuff in more detail,
>  along with how it relates to the user interface problem. Seems like that
>  draft is becoming timely...
>  
>  -Jonathan R.
>  
I agree that many services are "one-sided" in that one of the end points 
involved just responds to messages that are a part of the simple call setup 
procedures. But that doesn't obviate the need for a "standard". Taking Call 
Transfer as an example - yes, there are many variants, which is complicating 
all the discussion of REFER and other protocol elements.

But what it all comes down to in the end is, if you want to sell thousands of 
IP telephones for use in a real network, they will have to be 
tested/certified as complying with some standard. Currently, with H.323 
(which I understand is virtually the only IP phones in real use), the 
question can be "Does your product comply with H.323, H.225, H.425, and 
H450.2 for Call Transfer?" If anyone tries to sell SIP phones for use in real 
networks, what would the equivalent question be for compliance?

Unfortunately, I was previously involved with several standardization efforts 
that attempted to do exactly what you said - define a set of protocol 
primitives which the user could then string together any way they wanted to 
create services. It didn't work then, and I don't think it will now.

Mike Pierce


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Wed Nov 28 17:28:36 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA19413
	for <sip-archive@odin.ietf.org>; Wed, 28 Nov 2001 17:28:36 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA12874
	for sip-archive@odin.ietf.org; Wed, 28 Nov 2001 17:28:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA12013;
	Wed, 28 Nov 2001 16:58:45 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA11981
	for <sip@optimus.ietf.org>; Wed, 28 Nov 2001 16:58:43 -0500 (EST)
Received: from dgesmtp01.wcom.com (dgesmtp01.wcom.com [199.249.16.16])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA16641
	for <sip@ietf.org>; Wed, 28 Nov 2001 16:58:37 -0500 (EST)
Received: from dgismtp03.wcomnet.com ([166.38.58.143])
 by firewall.wcom.com (PMDF V5.2-33 #42260)
 with ESMTP id <0GNJ002GD6CRWU@firewall.wcom.com> for sip@ietf.org; Wed,
 28 Nov 2001 21:58:03 +0000 (GMT)
Received: from dgismtp03.wcomnet.com by dgismtp03.wcomnet.com
 (PMDF V5.2-33 #42262) with SMTP id <0GNJ00E016CJWZ@dgismtp03.wcomnet.com>;
 Wed, 28 Nov 2001 21:58:02 +0000 (GMT)
Received: from wcom.com ([166.42.34.218])
 by dgismtp03.wcomnet.com (PMDF V5.2-33 #42262)
 with ESMTP id <0GNJ00CDI6C0HK@dgismtp03.wcomnet.com>; Wed,
 28 Nov 2001 21:57:37 +0000 (GMT)
Date: Wed, 28 Nov 2001 15:59:35 -0600
From: Alan Johnston <alan.johnston@wcom.com>
Subject: Re: [Sip] Service Examples - Single Line Extensions
To: Mpierce1@aol.com
Cc: sip@ietf.org
Message-id: <3C055E46.2EB2AEF@wcom.com>
MIME-version: 1.0
X-Mailer: Mozilla 4.7 [en] (Win98; U)
Content-type: text/plain; charset=us-ascii
Content-transfer-encoding: 7bit
X-Accept-Language: en
References: <3c.1534857f.2936a8e6@aol.com>
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Mike,

See my comments below.  This new version of this draft has only minor changes
since the last - changes to how hold is signaled in SDP and changes to the syntax
of REFER messages.

Look for more activity with this draft soon, using many useful concepts from
Jonathan's SIP Event Package draft.
(http://search.ietf.org/internet-drafts/draft-rosenberg-sip-call-package-00.txt)

Thanks,
Alan. Johnston
sip:alan@siptest.wcom.com
WorldCom

Mpierce1@aol.com wrote:

> Regarding draft-ietf-sip-service-examples.03:
>
> Section 2.10 Single Line Extension
> I don't understand the application of a service which "rings several
> extensions in sequence". The requirement to emulate a group of extensions
> would be to simultaneously ring all.
> The reference to "help desk/call center" further confuses the issue of Single
> Line Extension. In fact, "extensions" are typically used for individual
> users, for example, when a couple of office mates share one phone number.
> This is no different than the Home Extension case. Larger groups, such as
> might be used for help desk/call center applications, use a much more
> complicated feature set than "extensions" or what is shown in Section 2.11.
>

I agree - the wording on this section is badly out of date.  See the above draft
for details on this service.

>
> Section 2.11
> States that the signaling for Single Line Extension and Find-Me is the same.
> These should be two different services and fundamentally different signaling.
> Single Line Extension must work differently than shown. I presume that
> "Forking" is required here, and the INVITEs are simultaneously sent to a
> group of devices that have been somehow defined as belonging together
> ("extensions" in the mind of the user). Find-Me, on the other hand, could
> sequentially signal to a list of locations which are not "extensions". They
> are unrelated devices. (In fact, one of the sequential attempts in the
> Find-Me chain could be to ring a group of extensions.)
>

Again, I agree.  This section will be substantially reworked soon.

>
> Mike Pierce
> Artel
>
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 06:01:58 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA20076
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 06:01:57 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id GAA08923
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 06:01:41 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA07111;
	Thu, 29 Nov 2001 04:39:22 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id EAA07079
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 04:39:19 -0500 (EST)
Received: from exchange.hotsip.com ([212.28.214.249])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id EAA18025
	for <sip@ietf.org>; Thu, 29 Nov 2001 04:39:17 -0500 (EST)
Received: from Hash ([195.238.204.173]) by exchange.hotsip.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Thu, 29 Nov 2001 10:38:38 +0100
From: "Hisham Khartabil" <hisham.khartabil@hotsip.com>
To: <sip@ietf.org>
Date: Thu, 29 Nov 2001 11:37:47 +0200
Message-ID: <GEEMIMOPEJGBIEGHJBHDEECFCMAA.hisham.khartabil@hotsip.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-OriginalArrivalTime: 29 Nov 2001 09:38:38.0513 (UTC) FILETIME=[9F9B6A10:01C178B9]
Content-Transfer-Encoding: 7bit
Subject: [Sip] Refer-To header and method-param
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

Section 3.5.1 of draft-ietf-sip-refer-02 states:

   "The resource identified by the Refer-To: URL is contacted using the
   normal mechanisms for that URL type.  For example, if the URL is a
   SIP INVITE URL, the UA would issue a new INVITE using all of the
   normal rules for sending an INVITE defined in [1]."

My question is: How can I determine is the URL is indeed an INVITE URL? What
does an "INVITE URL" mean?

The only thing I can relate to this is the method-param in a SIP URL.

The other question is: If a UAC has the capabilities to REFER someone to a
voice session as well as some other session like a Game session. How does it
tell the referee what type of INVITE it is.

E.g.

- A is in a voice session with B
- A is in a game session with C
- A wants to refer D to join the voice with B and game with C. How would the
Refer-To header differ in that scenario?


Regards,
Hisham
www.hotsip.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 07:32:18 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA24802
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 07:32:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA11657
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 07:32:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09348;
	Thu, 29 Nov 2001 06:12:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09317
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 06:12:44 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA21444;
	Thu, 29 Nov 2001 06:12:41 -0500 (EST)
Message-Id: <200111291112.GAA21444@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Thu, 29 Nov 2001 06:12:40 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-callerprefs-05.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Caller Preferences and Callee Capabilities
	Author(s)	: H. Schulzrinne, J. Rosenberg
	Filename	: draft-ietf-sip-callerprefs-05.txt
	Pages		: 32
	Date		: 28-Nov-01
	
This document describes a set of extensions to SIP which allow a
caller to express preferences about request handling in servers.
These preferences include the ability to select which URIs a request
gets routed to, and to specify certain request handling directives in
proxies and redirect servers. It does so by defining three new
request headers, Accept-Contact, Reject-Contact and Request-
Disposition, which specify the callers preferences. The extension
also defines new parameters for the Contact header that describe the
characterstics of a UA.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-callerprefs-05.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-callerprefs-05.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-callerprefs-05.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011128145503.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-callerprefs-05.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-callerprefs-05.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011128145503.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 07:32:19 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA24812
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 07:32:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA11680
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 07:32:20 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09313;
	Thu, 29 Nov 2001 06:12:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09282
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 06:12:39 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA21430;
	Thu, 29 Nov 2001 06:12:36 -0500 (EST)
Message-Id: <200111291112.GAA21430@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Thu, 29 Nov 2001 06:12:36 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-dhcp-05.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: DHCP Option for SIP Servers
	Author(s)	: H. Schulzrinne
	Filename	: draft-ietf-sip-dhcp-05.txt
	Pages		: 6
	Date		: 28-Nov-01
	
This document defines a DHCP option that contains a single name or
IPv4 address that can be mapped to one or more SIP outbound proxy
servers.  This is one of the many methods that a SIP client can use
to obtain the addresses of such a local SIP server.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-dhcp-05.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-dhcp-05.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-dhcp-05.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011128145450.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-dhcp-05.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-dhcp-05.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011128145450.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 08:34:44 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id HAA24801
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 07:32:18 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id HAA11659
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 07:32:19 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09393;
	Thu, 29 Nov 2001 06:12:54 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id GAA09352
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 06:12:49 -0500 (EST)
Received: from CNRI.Reston.VA.US (localhost [127.0.0.1])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id GAA21459;
	Thu, 29 Nov 2001 06:12:46 -0500 (EST)
Message-Id: <200111291112.GAA21459@ietf.org>
Mime-Version: 1.0
Content-Type: Multipart/Mixed; Boundary="NextPart"
To: IETF-Announce: ;
Cc: sip@ietf.org
From: Internet-Drafts@ietf.org
Reply-to: Internet-Drafts@ietf.org
Date: Thu, 29 Nov 2001 06:12:45 -0500
Subject: [Sip] I-D ACTION:draft-ietf-sip-privacy-03.txt
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

--NextPart

A New Internet-Draft is available from the on-line Internet-Drafts directories.
This draft is a work item of the Session Initiation Protocol Working Group of the IETF.

	Title		: SIP Extensions for Caller Identity and Privacy
	Author(s)	: W. Marshall et al.
	Filename	: draft-ietf-sip-privacy-03.txt
	Pages		: 33
	Date		: 28-Nov-01
	
This document describes extensions to the Session Initiation 
Protocol (SIP) that enable parties in a SIP session to be identified 
by different types of party information, which are authenticated by 
a trusted entity by means outside the scope of this document.

A URL for this Internet-Draft is:
http://www.ietf.org/internet-drafts/draft-ietf-sip-privacy-03.txt

To remove yourself from the IETF Announcement list, send a message to 
ietf-announce-request with the word unsubscribe in the body of the message.

Internet-Drafts are also available by anonymous FTP. Login with the username
"anonymous" and a password of your e-mail address. After logging in,
type "cd internet-drafts" and then
	"get draft-ietf-sip-privacy-03.txt".

A list of Internet-Drafts directories can be found in
http://www.ietf.org/shadow.html 
or ftp://ftp.ietf.org/ietf/1shadow-sites.txt


Internet-Drafts can also be obtained by e-mail.

Send a message to:
	mailserv@ietf.org.
In the body type:
	"FILE /internet-drafts/draft-ietf-sip-privacy-03.txt".
	
NOTE:	The mail server at ietf.org can return the document in
	MIME-encoded form by using the "mpack" utility.  To use this
	feature, insert the command "ENCODING mime" before the "FILE"
	command.  To decode the response(s), you will need "munpack" or
	a MIME-compliant mail reader.  Different MIME-compliant mail readers
	exhibit different behavior, especially when dealing with
	"multipart" MIME messages (i.e. documents which have been split
	up into multiple messages), so check your local documentation on
	how to manipulate these messages.
		
		
Below is the data which will enable a MIME compliant mail reader
implementation to automatically retrieve the ASCII version of the
Internet-Draft.

--NextPart
Content-Type: Multipart/Alternative; Boundary="OtherAccess"

--OtherAccess
Content-Type: Message/External-body;
	access-type="mail-server";
	server="mailserv@ietf.org"

Content-Type: text/plain
Content-ID:	<20011128145515.I-D@ietf.org>

ENCODING mime
FILE /internet-drafts/draft-ietf-sip-privacy-03.txt

--OtherAccess
Content-Type: Message/External-body;
	name="draft-ietf-sip-privacy-03.txt";
	site="ftp.ietf.org";
	access-type="anon-ftp";
	directory="internet-drafts"

Content-Type: text/plain
Content-ID:	<20011128145515.I-D@ietf.org>

--OtherAccess--

--NextPart--



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 10:30:09 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA12834
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 10:30:08 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA16642
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 10:30:11 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA15947;
	Thu, 29 Nov 2001 10:03:32 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA15914
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 10:03:25 -0500 (EST)
Received: from face.sentitonetworks.com (user9.sentito.com [65.202.222.9] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with SMTP id KAA07785
	for <sip@ietf.org>; Thu, 29 Nov 2001 10:03:05 -0500 (EST)
Received: (qmail 16152 invoked from network); 29 Nov 2001 14:54:24 -0000
Received: from unknown (HELO SAJAK) (10.0.0.235)
  by face.sentito.com with SMTP; 29 Nov 2001 14:54:24 -0000
From: "Shan Lu" <shanlu@sentito.com>
To: "IETF SIP Mailing List" <sip@ietf.org>
Date: Thu, 29 Nov 2001 10:02:27 -0500
Message-ID: <001501c178e6$dc0dd5f0$eb00000a@SAJAK>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] New I-D on Gateway Registration Using SIP
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi all,

We intend to submit the following internet draft after the current
blackout is over. For now, you can pick up a copy at:

http://www.sentito.com/IETF/draft-lu-telurl-wildcard-00.txt
http://www.sentito.com/IETF/draft-lu-telurl-wildcard-00.pdf

Abstract

This document proposes two extensions to the telephone URL scheme. With 
these extensions, phone numbers starting with a given prefix or 
spanning a given range can be represented. Their applications in SIP-
PSTN gateway and large SIP endpoint registrations are also discussed.

Regards,

Shan Lu
sentitO Networks  


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@optimus.ietf.org  Thu Nov 29 10:44:04 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA14710
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 10:44:04 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id KAA17147
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 10:44:07 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA16327;
	Thu, 29 Nov 2001 10:17:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id KAA16302
	for <sip@optimus.ietf.org>; Thu, 29 Nov 2001 10:17:43 -0500 (EST)
Received: from exchange.hotsip.com ([212.28.214.249])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id KAA10572
	for <sip@ietf.org>; Thu, 29 Nov 2001 10:17:38 -0500 (EST)
Received: from Hash ([195.238.204.173]) by exchange.hotsip.com with Microsoft SMTPSVC(5.0.2195.2966);
	 Thu, 29 Nov 2001 16:17:03 +0100
From: "Hisham Khartabil" <hisham.khartabil@hotsip.com>
To: <sip@ietf.org>
Date: Thu, 29 Nov 2001 17:16:12 +0200
Message-ID: <GEEMIMOPEJGBIEGHJBHDGECKCMAA.hisham.khartabil@hotsip.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-OriginalArrivalTime: 29 Nov 2001 15:17:03.0794 (UTC) FILETIME=[E67F6920:01C178E8]
Content-Transfer-Encoding: 7bit
Subject: [Sip] Clarification on methods-param in caller preferences
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

The example in mind is as follows

2 contacts registered


   sip:pager@service;methods="MESSAGE"
   sip:user@host

The draft says, if the proxy (Registrar) get an INVITE request, then the
first contact above is eliminated.

My question is: If the proxy gets a MESSAGE request, does the methods-param
in the first contact force the proxy to use that contact? or are the two
contacts of equal weight? (i.e. fork the request or something)

Much appreciated,
Hisham
www.hotsip.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 12:52:30 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26160
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 12:52:29 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA22506
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 12:52:30 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA21556;
	Thu, 29 Nov 2001 12:26:47 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA21527
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 12:26:44 -0500 (EST)
Received: from mail3.dynamicsoft.com ([63.113.44.69])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA23912
	for <sip@ietf.org>; Thu, 29 Nov 2001 12:26:41 -0500 (EST)
Received: from DYN-VA-EXCH-001.dynamicsoft.com ([63.114.208.70])
	by mail3.dynamicsoft.com (8.12.1/8.12.1) with ESMTP id fATHQAVZ028862;
	Thu, 29 Nov 2001 12:26:10 -0500 (EST)
Received: by DYN-VA-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.1960.3)
	id <X18HTFQP>; Thu, 29 Nov 2001 12:25:59 -0500
Message-ID: <9BF66EBF6BEFD942915B4D4D45C051F338E853@DYN-TX-EXCH-001.dynamicsoft.com>
From: Robert Sparks <rsparks@dynamicsoft.com>
To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip@ietf.org
Subject: RE: [Sip] Refer-To header and method-param
Date: Thu, 29 Nov 2001 12:25:57 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.1960.3)
Content-Type: text/plain;
	charset="iso-8859-1"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



> -----Original Message-----
> From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
> Sent: Thursday, November 29, 2001 3:38 AM
> To: sip@ietf.org
> Subject: [Sip] Refer-To header and method-param
> 
> 
> Hi,
> 
> Section 3.5.1 of draft-ietf-sip-refer-02 states:
> 
>    "The resource identified by the Refer-To: URL is contacted 
> using the
>    normal mechanisms for that URL type.  For example, if the URL is a
>    SIP INVITE URL, the UA would issue a new INVITE using all of the
>    normal rules for sending an INVITE defined in [1]."
> 
> My question is: How can I determine is the URL is indeed an 
> INVITE URL? What
> does an "INVITE URL" mean?
> 
> The only thing I can relate to this is the method-param in a SIP URL.

Which is exactly the thing. INVITE is the default value of that method
parameter.

so sip:foo@bar.com and sip:foo@bar.com;method=INVITE are INVITE URIs.

sip:foo@bar.com;method=SUBSCRIBE is a SUBSCRIBE URI


> 
> The other question is: If a UAC has the capabilities to REFER 
> someone to a
> voice session as well as some other session like a Game 
> session. How does it
> tell the referee what type of INVITE it is.
> 
> E.g.
> 
> - A is in a voice session with B
> - A is in a game session with C
> - A wants to refer D to join the voice with B and game with 
> C. How would the
> Refer-To header differ in that scenario?

This is a good question, but its not REFER specific.

To put it another way, suppose you want to put a URI that 
someone can use to join your game on a business card or
on a web page. What does it look like?

I've heard a number of possible answers for this
(and I don't claim this is an exhaustive list)

1) The game URI looks exactly like the voice URI, but you
   use different clients to play games and have voice 
   conversations, so the intent is inferred from which
   client you handed the URI too. 

     This has tons of problems, starting with the assumption
     of different clients. 

2) The URIs look exactly the same, and agents always include
   every kind of session they support in every offer.

     Think of video vs audio for a minute. How do you know from
     a SIP URI on a business card that someone supports both?
     The discussion I've heard to date indicates that you don't -
     you just include a video m= line if you want to use it and
     if the other side supports it, great! You could take the
     same approach with game streams. The downside of this is that
     D above may end up in both a voice and game session (think
     voice and video if you think that's bad) with C. Now if D is
     joining an existing dialog at C (which is managing only a
     game session), C can just decline the voice part of the offer.

     The downside with this approach is having to include an offer
     for everything you support - resource acquisition at the client
     may be prohibitive, and the messaging can get huge. What if
     you support 30 different games? Are those games only distinguished
     by SDP? Do you have 30 sets of m= lines in your offer matching
     them?


3) The URIs differ by some parameter, header, or body content.

     This path has the most promise, but there needs to be
     much discussion about what the difference is. The examples
     of games sessions we've seen before use INVITEs that differ
     only in their SDP - do we include SDP or some subset of it
     in the URI? That way is filled with security and interop
     peril. 
     
4) You just have a different URI for games, video and voice.

     This is a workaround - not a solution.

> 
> 
> Regards,
> Hisham
> www.hotsip.com
> 
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 12:54:21 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA26391
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 12:54:21 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id MAA22531
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 12:54:21 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA21619;
	Thu, 29 Nov 2001 12:28:44 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id MAA21588
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 12:28:41 -0500 (EST)
Received: from valen.greycouncil.com (bdsl.66.12.12.131.gte.net [66.12.12.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id MAA24071
	for <sip@ietf.org>; Thu, 29 Nov 2001 12:28:37 -0500 (EST)
Received: from softarmor.com (localhost.localdomain [127.0.0.1])
	by valen.greycouncil.com (8.11.6/8.11.2) with ESMTP id fATHjaR07496;
	Thu, 29 Nov 2001 11:45:36 -0600
Message-ID: <3C06743F.2010803@softarmor.com>
Date: Thu, 29 Nov 2001 11:45:35 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011012
X-Accept-Language: en-us
MIME-Version: 1.0
To: Mpierce1@aol.com
CC: sip@ietf.org, rohan@cisco.com
Subject: Re: [Sip] The Future of SIP Call Control
References: <134.540c87f.293516f5@aol.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit


This is clearly a task for SIPPING.

SIPPING has two milestones that I believe relate to this.

Jan 02    Submit Internet-Draft on Call Transfer using REFER to IESG for 
consideration as an Informational RFC

Apr 02    Submit Internet-Draft on Multi-Party/Conferencing Framework to 
IESG for consideration as an Informational RFC


Further discussion of how to interpret and fulfill these milestones 
should be on the SIPPING list. We can, of course, also discuss 
additional milestones. . .

Thanks,

--
Dean


Mpierce1@aol.com wrote:

>In a message dated 11/26/01 2:47:17 PM Eastern Standard Time, rohan@cisco.com 
>writes:
>
>>Hi Everyone,
>> 
>> Currently SIP Call Control is an item on the SIP Charter:
>> 
>>  >The specific deliverables of the group are:
>>
>I had understood that this function was to be the work of SIPPING. I would 
>hope that SIPPING (or whatever WG) is able to write a Service Description 
>document that would identify the services and their operation that are 
>required to be supported by SIP, and would identify how they interact with 
>each other. This document would not mention "REFER" or "INVITE" or any other 
>protocol element. (In ITU-T, this is referred to a "Stage 1" of the 
>standardization process.) When this is done, SIP WG could develop protocol 
>elements for the agreed to services. (This is "Stage 2" and "Stage 3" in the 
>ITU-T.) Sometimes, I get the feeling that IETF is good at jumping in at the 
>"Stage 3" point in the development, which works fine for well-contained, 
>bounded protocol tasks, but fails miserably for things as complex as 
>telephony.
>



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 14:05:38 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02749
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 14:05:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA24936
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 14:05:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA24141;
	Thu, 29 Nov 2001 13:47:46 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA24112
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 13:47:43 -0500 (EST)
Received: from host.serversanddomains.com (host.serversanddomains.com [209.239.59.212])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA01290
	for <sip@ietf.org>; Thu, 29 Nov 2001 13:47:41 -0500 (EST)
Received: from victorpc ([206.184.140.167])
	by host.serversanddomains.com (8.10.2/8.10.2) with SMTP id fATIldK26163;
	Thu, 29 Nov 2001 13:47:40 -0500
From: "Victor Paulsamy" <victor@zapex.com>
To: <sip@ietf.org>
Cc: "Victor Paulsamy" <victor@zapex.com>
Date: Thu, 29 Nov 2001 10:47:58 -0800
Message-ID: <NEBBIPNANPGLCDPGFJGPKEJHCBAA.victor@zapex.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
Content-Transfer-Encoding: 7bit
Subject: [Sip] A comment on "sip-service-examples-03.txt"
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

From "draft-ietf-mmusic-sdp-new-03.txt":

... "o=<username> <session id> <version> <network type> <address type>
<address>

... so long as
<version> is increased when a modification is made to the session data.

... In general, the ``o='' field serves as a globally unique identifier for
this version of this session description, and the subfields excepting
the version taken together identify the session irrespective of any
modifications."

In "sip-service-examples-03.txt", the "session id" has been changed
(incremented) along with "version" in all the examples,  as opposed to the
recommendation of "draft-ietf-mmusic-sdp-new-03.txt".

Warm regards,

--victor

Victor Paulsamy               E-mail: victor@zapex.com
Senior Software Engineer      Phone : 650.930.1339 (Direct)
Zapex Technologies, Inc.      Phone : 650.930.1300 (Main)
Mountain View, CA 94043       Fax   : 650.930.1399


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 14:38:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05501
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 14:38:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA26459
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 14:38:34 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25140;
	Thu, 29 Nov 2001 14:08:42 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25110
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 14:08:39 -0500 (EST)
Received: from valen.greycouncil.com (bdsl.66.12.12.131.gte.net [66.12.12.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02976
	for <sip@ietf.org>; Thu, 29 Nov 2001 14:08:37 -0500 (EST)
Received: from softarmor.com (localhost.localdomain [127.0.0.1])
	by valen.greycouncil.com (8.11.6/8.11.2) with ESMTP id fATJPZR07549;
	Thu, 29 Nov 2001 13:25:35 -0600
Message-ID: <3C068BAF.2080505@softarmor.com>
Date: Thu, 29 Nov 2001 13:25:35 -0600
From: Dean Willis <dean.willis@softarmor.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011012
X-Accept-Language: en-us
MIME-Version: 1.0
To: William Marshall <wtm@research.att.com>
CC: sip@ietf.org
Subject: Re: [Sip] The Future of SIP Call Control
References: <200111282145.QAA74557@fish.research.att.com>
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



William Marshall wrote:

>Many of the services are definitely "one-sided", where the other just
>does as it is told.
>
>But, the discussion on REFER is leaving the "policy decision" to the
>subscriber/vendor/user as to whether they actually do as they are
>told or ignore it.
>
>This is the combination that will NOT produce interoperable services.
>
>So, in addition to the definition of primitives like REFER, it is
>absolutely necessary to provide guidance to the policy decisions
>that are needed to implement services.  This part is missing --
>MUST-strength requirements (testable) defining how a UA responds 
>to the commands (e.g. REFER).  
>
Remember, we specify protocols -- not services. We can give examples of 
services that one might build. We can describe the requirements that 
implementation of a service place on a protocol. We can work with 
implementors like 3GPP who are defining services. But we don't 
standardize services, as I think we're using the term here, in the IETF.

>
>I think the only real issue is whether this belongs in the sip draft
>that defines the primitive, or in the sipping draft that defines
>the use of the primitive.
>
Implentation guidance on "how to use" something is within the scope of 
SIPPING.

--
Dean



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 14:43:26 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA05882
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 14:43:26 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA26586
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 14:43:28 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25720;
	Thu, 29 Nov 2001 14:26:26 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA25686
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 14:26:23 -0500 (EST)
Received: from zrc2s03g.us.nortel.com (h66s122a103n47.user.nortelnetworks.com [47.103.122.66])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA04320
	for <sip@ietf.org>; Thu, 29 Nov 2001 14:26:20 -0500 (EST)
Received: from smtprch2.nortel.com (erchg0k.us.nortel.com [47.113.64.104])
	by zrc2s03g.us.nortel.com (8.9.3+Sun/8.9.1) with ESMTP id NAA17915
	for <sip@ietf.org>; Thu, 29 Nov 2001 13:25:47 -0600 (CST)
Received: from zrchb200.us.nortel.com by smtprch2.nortel.com;
          Thu, 29 Nov 2001 13:16:31 -0600
Received: by zrchb200.us.nortel.com with Internet Mail Service (5.5.2653.19) 
          id <X6VK9NBR>; Thu, 29 Nov 2001 13:22:17 -0600
Message-ID: <EF1056F8EB4ED511B8FB0002A56079D41B42B9@zrc2c014.us.nortel.com>
From: "Sriram Parameswar" <sriramp@nortelnetworks.com>
To: "'Hisham Khartabil'" <hisham.khartabil@hotsip.com>, sip <sip@ietf.org>
Subject: RE: [Sip] Refer-To header and method-param
Date: Thu, 29 Nov 2001 13:22:15 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
              boundary="----_=_NextPart_001_01C1790B.27908B70"
X-Orig: <sriramp@americasm01.nt.com>
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This message is in MIME format. Since your mail reader does not understand
this format, some or all of this message may not be legible.

------_=_NextPart_001_01C1790B.27908B70
Content-Type: text/plain;
	charset="iso-8859-1"

Some time ago Aaron Lo had suggested on this list that possibly the REFER
should contain SDP which is suggestion of the session that could be created
between Transferee and Transfer Target. That thread went no-where - a quick
re-visit?

Sriram

__________________________________________
Sriram Parameswar              Phone: 972-685-8540
Interactive Multimedia Server (IMS) Fax: 972-685-3563
Nortel Networks, Richardson USA  Email: sriramp@nortelnetworks.com


-----Original Message-----
From: Hisham Khartabil [mailto:hisham.khartabil@hotsip.com]
Sent: Thursday, November 29, 2001 3:38 AM
To: sip
Subject: [Sip] Refer-To header and method-param


Hi,

Section 3.5.1 of draft-ietf-sip-refer-02 states:

   "The resource identified by the Refer-To: URL is contacted using the
   normal mechanisms for that URL type.  For example, if the URL is a
   SIP INVITE URL, the UA would issue a new INVITE using all of the
   normal rules for sending an INVITE defined in [1]."

My question is: How can I determine is the URL is indeed an INVITE URL? What
does an "INVITE URL" mean?

The only thing I can relate to this is the method-param in a SIP URL.

The other question is: If a UAC has the capabilities to REFER someone to a
voice session as well as some other session like a Game session. How does it
tell the referee what type of INVITE it is.

E.g.

- A is in a voice session with B
- A is in a game session with C
- A wants to refer D to join the voice with B and game with C. How would the
Refer-To header differ in that scenario?


Regards,
Hisham
www.hotsip.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip

------_=_NextPart_001_01C1790B.27908B70
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Diso-8859-1">
<META NAME=3D"Generator" CONTENT=3D"MS Exchange Server version =
5.5.2654.89">
<TITLE>RE: [Sip] Refer-To header and method-param</TITLE>
</HEAD>
<BODY>

<P><FONT SIZE=3D2>Some time ago Aaron Lo had suggested on this list =
that possibly the REFER should contain SDP which is suggestion of the =
session that could be created between Transferee and Transfer Target. =
That thread went no-where - a quick re-visit?</FONT></P>

<P><FONT SIZE=3D2>Sriram</FONT>
</P>

<P><FONT SIZE=3D2>__________________________________________</FONT>
<BR><FONT SIZE=3D2>Sriram =
Parameswar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; Phone: 972-685-8540</FONT>
<BR><FONT SIZE=3D2>Interactive Multimedia Server (IMS) Fax: =
972-685-3563</FONT>
<BR><FONT SIZE=3D2>Nortel Networks, Richardson USA&nbsp; Email: =
sriramp@nortelnetworks.com</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>-----Original Message-----</FONT>
<BR><FONT SIZE=3D2>From: Hisham Khartabil [<A =
HREF=3D"mailto:hisham.khartabil@hotsip.com">mailto:hisham.khartabil@hots=
ip.com</A>]</FONT>
<BR><FONT SIZE=3D2>Sent: Thursday, November 29, 2001 3:38 AM</FONT>
<BR><FONT SIZE=3D2>To: sip</FONT>
<BR><FONT SIZE=3D2>Subject: [Sip] Refer-To header and =
method-param</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Hi,</FONT>
</P>

<P><FONT SIZE=3D2>Section 3.5.1 of draft-ietf-sip-refer-02 =
states:</FONT>
</P>

<P><FONT SIZE=3D2>&nbsp;&nbsp; &quot;The resource identified by the =
Refer-To: URL is contacted using the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; normal mechanisms for that URL =
type.&nbsp; For example, if the URL is a</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; SIP INVITE URL, the UA would issue a =
new INVITE using all of the</FONT>
<BR><FONT SIZE=3D2>&nbsp;&nbsp; normal rules for sending an INVITE =
defined in [1].&quot;</FONT>
</P>

<P><FONT SIZE=3D2>My question is: How can I determine is the URL is =
indeed an INVITE URL? What</FONT>
<BR><FONT SIZE=3D2>does an &quot;INVITE URL&quot; mean?</FONT>
</P>

<P><FONT SIZE=3D2>The only thing I can relate to this is the =
method-param in a SIP URL.</FONT>
</P>

<P><FONT SIZE=3D2>The other question is: If a UAC has the capabilities =
to REFER someone to a</FONT>
<BR><FONT SIZE=3D2>voice session as well as some other session like a =
Game session. How does it</FONT>
<BR><FONT SIZE=3D2>tell the referee what type of INVITE it is.</FONT>
</P>

<P><FONT SIZE=3D2>E.g.</FONT>
</P>

<P><FONT SIZE=3D2>- A is in a voice session with B</FONT>
<BR><FONT SIZE=3D2>- A is in a game session with C</FONT>
<BR><FONT SIZE=3D2>- A wants to refer D to join the voice with B and =
game with C. How would the</FONT>
<BR><FONT SIZE=3D2>Refer-To header differ in that scenario?</FONT>
</P>
<BR>

<P><FONT SIZE=3D2>Regards,</FONT>
<BR><FONT SIZE=3D2>Hisham</FONT>
<BR><FONT SIZE=3D2>www.hotsip.com</FONT>
</P>
<BR>

<P><FONT =
SIZE=3D2>_______________________________________________</FONT>
<BR><FONT SIZE=3D2>Sip mailing list&nbsp; <A =
HREF=3D"http://www1.ietf.org/mailman/listinfo/sip" =
TARGET=3D"_blank">http://www1.ietf.org/mailman/listinfo/sip</A></FONT>
<BR><FONT SIZE=3D2>This list is for NEW development of the core SIP =
Protocol</FONT>
<BR><FONT SIZE=3D2>Use sip-implementors@cs.columbia.edu for questions =
on current sip</FONT>
<BR><FONT SIZE=3D2>Use sipping@ietf.org for new developments on the =
application of sip</FONT>
</P>

</BODY>
</HTML>
------_=_NextPart_001_01C1790B.27908B70--

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 15:25:31 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA08946
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 15:25:30 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA27787
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 15:25:33 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA26963;
	Thu, 29 Nov 2001 14:58:57 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA26902
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 14:58:52 -0500 (EST)
Received: from valen.greycouncil.com (bdsl.66.12.12.131.gte.net [66.12.12.131])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA07089;
	Thu, 29 Nov 2001 14:58:48 -0500 (EST)
Received: from dynamicsoft.com (localhost.localdomain [127.0.0.1])
	by valen.greycouncil.com (8.11.6/8.11.2) with ESMTP id fATKFnR07609;
	Thu, 29 Nov 2001 14:15:49 -0600
Message-ID: <3C069774.8060709@dynamicsoft.com>
Date: Thu, 29 Nov 2001 14:15:48 -0600
From: Dean Willis <dwillis@dynamicsoft.com>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:0.9.5) Gecko/20011012
X-Accept-Language: en-us
MIME-Version: 1.0
To: sip@ietf.org, sipping@ietf.org
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] AT&T IPR Notices on SIP drafts
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Please be advised of the following, posted at:

http://www.ietf.org/ietf/IPR/ATT-SIP:

-------------------------------------------

The following was received October 11, 2001
From: "Frost, Thomas F (Tom), ALCOO" <tfrost@att.com>


This declaration is being made pursuant to the provisions of IETF IPR
Policy, Sections 10.3.1 and 10.3.2.

This is to advise the IETF that AT&T believes it owns intellectual 
property including various pending patent applications that may relate 
to the following Internet Draft documents:

         draft-ietf-sip-privacy-xx
         draft-ietf-sip-call-auth-xx
         draft-ietf-sip-manyfolks-resource-xx
         draft-ietf-sip-state-xx
         draft-dcsgroup-sip-proxy-proxy-xx
         draft-dcsgroup-sip-architecture-xx
         draft-willis-sip-cookies-xx

To the extent that the technology discussed in any of these Internet 
Drafts becomes an IETF Standard, and to the extent claims of AT&T's 
patents are required to implement the IETF Standard, AT&T agrees that, 
upon written request, AT&T will offer, on a nondiscriminatory basis, 
non-exclusive licenses on fair and reasonable terms under such patent 
claims to implement that IETF Standard. AT&T's willingness to grant such 
licenses is conditioned upon the prospective licensee granting a 
reciprocal license to AT&T under any patents that the prospective 
licensee has to any technology required to implement that IETF Standard.

Written requests for licenses may be sent to:

AT&T Intellectual Property Licensing
Room 2E37, Bldg. 104
180 Park Avenue
Florham Park, NJ 07932



_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 15:31:32 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA09404
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 15:31:32 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28260
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 15:31:35 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA27644;
	Thu, 29 Nov 2001 15:15:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA27614
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 15:15:01 -0500 (EST)
Received: from imr2.ericy.com (imr2.ericy.com [12.34.240.68])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA08087
	for <sip@ietf.org>; Thu, 29 Nov 2001 15:14:58 -0500 (EST)
Received: from mr5.exu.ericsson.se (mr5att.ericy.com [138.85.92.13])
	by imr2.ericy.com (8.11.3/8.11.3) with ESMTP id fATKDOY22967;
	Thu, 29 Nov 2001 14:13:24 -0600 (CST)
Received: from newman.exu.ericsson.se (newman.exu.ericsson.se [138.85.75.179])
	by mr5.exu.ericsson.se (8.11.3/8.11.3) with ESMTP id fATKDN620277;
	Thu, 29 Nov 2001 14:13:23 -0600 (CST)
Received: from lmf.ericsson.se (rmt160234.am.ericsson.se [138.85.160.234]) by newman.exu.ericsson.se (8.7.5/8.7.3) with ESMTP id OAA15958; Thu, 29 Nov 2001 14:13:22 -0600 (CST)
Message-ID: <3C069C85.23C4C71F@lmf.ericsson.se>
Date: Thu, 29 Nov 2001 22:37:25 +0200
From: Gonzalo Camarillo <Gonzalo.Camarillo@lmf.ericsson.se>
X-Mailer: Mozilla 4.61 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: John.Hearty@Level3.com
CC: l.liang@eim.surrey.ac.uk, sip@ietf.org
Subject: Re: [Sip] if receive two invite at the same time.
References: <17052388D394D411803900508BDFFAF601B3702E@n0214idc1.oss.level3.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit

Hi,

> > firstly, I wondered what the "silently" mean. does
> > it mean that the USA send 2xx response or not?
> 
> I brought this up in my nits list, Jonathan confirmed 2xx is sent.  Since at
> least two people were not fully clear on this, it might need a bit of
> re-wording in the next version.

I have added some wording. Now everything should be clear. Thanks for
pointing this out.

Regards,

Gonzalo

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 15:34:08 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA09565
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 15:34:07 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA28319
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 15:34:10 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA27437;
	Thu, 29 Nov 2001 15:05:04 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id PAA27412
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 15:05:02 -0500 (EST)
Received: from rtp-msg-core-1.cisco.com (rtp-msg-core-1.cisco.com [161.44.11.97])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA07493
	for <sip@ietf.org>; Thu, 29 Nov 2001 15:04:45 -0500 (EST)
Received: from cannon.cisco.com (cannon.cisco.com [161.44.228.16])
	by rtp-msg-core-1.cisco.com (8.11.3/8.9.1) with ESMTP id fATK46E25557;
	Thu, 29 Nov 2001 15:04:08 -0500 (EST)
Received: from cisco.com (dhcp-161-44-241-140.cisco.com [161.44.241.140])
	by cannon.cisco.com (Mirapoint)
	with ESMTP id AAE28829 (AUTH pkyzivat);
	Thu, 29 Nov 2001 15:05:25 -0500 (EST)
Message-ID: <3C0693F1.7AA8E623@cisco.com>
Date: Thu, 29 Nov 2001 15:00:49 -0500
From: Paul Kyzivat <pkyzivat@cisco.com>
X-Mailer: Mozilla 4.76 [en]C-CCK-MCD   (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
CC: "'sip@ietf.org'" <sip@ietf.org>, Ben Campbell <bcampbell@dynamicsoft.com>,
        simple@mailman.dynamicsoft.com
References: <B65B4F8437968F488A01A940B21982BF020D7048@DYN-EXCH-001.dynamicsoft.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Content-Transfer-Encoding: 7bit
Subject: [Sip] Re: [Simple] New I-D on IM transport
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org
Content-Transfer-Encoding: 7bit



Jonathan Rosenberg wrote:
> 
> > - what if there is no problem with signalling but there is a problem
> > with the media stream? Then the reinvite will reach the original
> > endpoint rather than a backup. It will not be able to distinguish this
> > reinvite from one for some other purpose, like session timer
> > refresh. It
> > will note that the sdp has not changed, and may choose to
> > simply return
> > the last sdp it sent. (This could happen if the sip and media
> > travel on
> > different network connections to the same host, or if the
> > media is on a
> > separate device with its own network connection.)
> 
> I guess this seems to me to be the right behavior. What would you want to
> happen in this case?

Doing nothing in response to the problem seems wrong to me.
But clearly it is difficult to figure out the right thing to do.
Possible actions:
- switch to a different port. See if that helps.
- switch to a different media server, if it is independent of the 
  sip UA itself
- record the fact that a caller reinvited because of presumed media
  problems at this end. Eventually an accumulation of these might lead
  to taking this box out of service.

Some or all of these responses could be tried *if* the called
system knew the reinvite was sent because of problems with the call.

> > - in a separate mail thread on the comedia draft, we identified some
> > added problems with reinvites and connection oriented media. In that
> > case, what is negotiated in the sdp is used to establish a media
> > connection, so it isn't idempotent to subsequent invitations. There is
> > need to indicate in the sdp whether to renegotiate the connection or
> > not. I don't think we ever fully resolved that. But I believe it is
> > important that something in the sdp be changed to indicate a desire to
> > renegotiate the connection. The same kind of scenario applies here.
> 
> This is a good point. I think its a pure co-media issue, though, and that
> needs to be addressed in that draft.

Fair enough, as long as the rules you are trying to craft dovetail with
that. It may not be sufficient to simply reinvite with same old SDP;
it may be required to do something slightly different on a per-media
basis.

> > All of these issues suggest to me that some explicit information needs
> > to be conveyed indicating what is being attempted. Part of
> > this might be
> > a Reason header indicating that the reinvite is being sent to recover
> > from a perceived problem.
> 
> I'm still not convinced, so long as the comedia issue is handled.

You may be right, but I have the feeling the problem is bigger than
just comedia. Reinvites can be sent for many reasons, and errors can
show their symptoms in many ways. The assumption you are making is that
the reinvite will always induce another problem, and that the
resolution of that problem will fix the original one. 

	Paul

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 17:19:33 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA17161
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 17:19:33 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA01208
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 17:19:37 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00213;
	Thu, 29 Nov 2001 16:51:16 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id QAA00153
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 16:51:13 -0500 (EST)
Received: from sj-msg-core-4.cisco.com (sj-msg-core-4.cisco.com [171.71.163.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id QAA15193;
	Thu, 29 Nov 2001 16:51:08 -0500 (EST)
Received: from sj-msg-av-3.cisco.com (sj-msg-av-3.cisco.com [171.69.17.42])
	by sj-msg-core-4.cisco.com (8.11.3/8.9.1) with ESMTP id fATLoXd11905;
	Thu, 29 Nov 2001 13:50:33 -0800 (PST)
Received: from mailman.cisco.com (localhost [127.0.0.1])
	by sj-msg-av-3.cisco.com (8.10.1/8.10.1) with ESMTP id fATLoXV24818;
	Thu, 29 Nov 2001 13:50:33 -0800 (PST)
Received: from CHSHARP-W2K1.cisco.com (rtp-vpn1-262.cisco.com [10.82.225.6]) by mailman.cisco.com (8.9.3/CISCO.SERVER.1.2) with ESMTP id NAA10323; Thu, 29 Nov 2001 13:50:30 -0800 (PST)
Message-Id: <4.3.2.7.2.20011129164315.025dcd70@dogwood.cisco.com>
X-Sender: chsharp@dogwood.cisco.com
X-Mailer: QUALCOMM Windows Eudora Version 4.3.2
Date: Thu, 29 Nov 2001 16:50:27 -0500
To: Dean Willis <dwillis@dynamicsoft.com>
From: Chip Sharp <chsharp@cisco.com>
Cc: sip@ietf.org, sipping@ietf.org
In-Reply-To: <3C069774.8060709@dynamicsoft.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Subject: [Sip] Re: [Sipping] AT&T IPR Notices on SIP drafts
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

FWIW,
I can't find a draft with file name:
     draft-dcsgroup-sip-architecture-xx

There is a draft with file name:
     draft-dcsgroup-sip-arch-05.txt

Perhaps the IPR statement needs to be updated?

Chip

At 03:15 PM 11/29/2001, Dean Willis wrote:
>Please be advised of the following, posted at:
>
>http://www.ietf.org/ietf/IPR/ATT-SIP:
>
>-------------------------------------------
>
>The following was received October 11, 2001
>From: "Frost, Thomas F (Tom), ALCOO" <tfrost@att.com>
>
>
>This declaration is being made pursuant to the provisions of IETF IPR
>Policy, Sections 10.3.1 and 10.3.2.
>
>This is to advise the IETF that AT&T believes it owns intellectual property including various pending patent applications that may relate to the following Internet Draft documents:
>
>        draft-ietf-sip-privacy-xx
>        draft-ietf-sip-call-auth-xx
>        draft-ietf-sip-manyfolks-resource-xx
>        draft-ietf-sip-state-xx
>        draft-dcsgroup-sip-proxy-proxy-xx
>        draft-dcsgroup-sip-architecture-xx
>        draft-willis-sip-cookies-xx
>
>To the extent that the technology discussed in any of these Internet Drafts becomes an IETF Standard, and to the extent claims of AT&T's patents are required to implement the IETF Standard, AT&T agrees that, upon written request, AT&T will offer, on a nondiscriminatory basis, non-exclusive licenses on fair and reasonable terms under such patent claims to implement that IETF Standard. AT&T's willingness to grant such licenses is conditioned upon the prospective licensee granting a reciprocal license to AT&T under any patents that the prospective licensee has to any technology required to implement that IETF Standard.
>
>Written requests for licenses may be sent to:
>
>AT&T Intellectual Property Licensing
>Room 2E37, Bldg. 104
>180 Park Avenue
>Florham Park, NJ 07932
>
>
>
>_______________________________________________
>Sipping mailing list  http://www1.ietf.org/mailman/listinfo/sipping
>This list is for NEW development of the application of SIP
>Use sip-implementors@cs.columbia.edu for questions on current sip
>Use sip@ietf.org for new developments of core SIP


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 17:23:41 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA17406
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 17:23:40 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA01271
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 17:23:44 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA00960;
	Thu, 29 Nov 2001 17:10:24 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA00931
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 17:10:22 -0500 (EST)
Received: from mail-green.research.att.com (H-135-207-30-103.research.att.com [135.207.30.103])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16460
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:10:18 -0500 (EST)
Received: from alliance.research.att.com (alliance.research.att.com [135.207.26.26])
	by mail-green.research.att.com (Postfix) with ESMTP
	id 275AB1E062; Thu, 29 Nov 2001 17:10:17 -0500 (EST)
Received: from fish.research.att.com (fish.research.att.com [135.207.27.137])
	by alliance.research.att.com (8.8.7/8.8.7) with ESMTP id RAA03567;
	Thu, 29 Nov 2001 17:10:13 -0500 (EST)
From: William Marshall <wtm@research.att.com>
Received: (from wtm@localhost)
	by fish.research.att.com (SGI-8.9.3/8.8.5) id RAA18517;
	Thu, 29 Nov 2001 17:08:44 -0500 (EST)
Date: Thu, 29 Nov 2001 17:08:44 -0500 (EST)
Message-Id: <200111292208.RAA18517@fish.research.att.com>
To: sip@ietf.org
Cc: dwillis@dynamicsoft.com, chsharp@cisco.com
Subject: Re: [Sip] AT&T IPR Notices on SIP drafts
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

> Perhaps the IPR statement needs to be updated?

I'll change the name of the draft.  It will be easier.

Bill Marshall
wtm@research.att.com

-----original message-----
Date: Thu, 29 Nov 2001 16:50:27 -0500
To: Dean Willis <dwillis@dynamicsoft.com>
From: Chip Sharp <chsharp@cisco.com>
Cc: sip@ietf.org, sipping@ietf.org
Subject: [Sip] Re: [Sipping] AT&T IPR Notices on SIP drafts

FWIW,
I can't find a draft with file name:
     draft-dcsgroup-sip-architecture-xx

There is a draft with file name:
     draft-dcsgroup-sip-arch-05.txt

Perhaps the IPR statement needs to be updated?

Chip

At 03:15 PM 11/29/2001, Dean Willis wrote:
>Please be advised of the following, posted at:
>
>http://www.ietf.org/ietf/IPR/ATT-SIP:
>
>-------------------------------------------
>
>The following was received October 11, 2001
>From: "Frost, Thomas F (Tom), ALCOO" <tfrost@att.com>
>
>
>This declaration is being made pursuant to the provisions of IETF IPR
>Policy, Sections 10.3.1 and 10.3.2.
>
>This is to advise the IETF that AT&T believes it owns intellectual property 
> including various pending patent applications that may relate to the 
> following Internet Draft documents:
>
>        draft-ietf-sip-privacy-xx
>        draft-ietf-sip-call-auth-xx
>        draft-ietf-sip-manyfolks-resource-xx
>        draft-ietf-sip-state-xx
>        draft-dcsgroup-sip-proxy-proxy-xx
>        draft-dcsgroup-sip-architecture-xx
>        draft-willis-sip-cookies-xx
>
>To the extent that the technology discussed in any of these Internet Drafts 
> becomes an IETF Standard, and to the extent claims of AT&T's patents are 
> required to implement the IETF Standard, AT&T agrees that, upon written 
> request, AT&T will offer, on a nondiscriminatory basis, non-exclusive 
> licenses on fair and reasonable terms under such patent claims to implement 
> that IETF Standard. AT&T's willingness to grant such licenses is 
> conditioned upon the prospective licensee granting a reciprocal license 
> to AT&T under any patents that the prospective licensee has to any 
> technology required to implement that IETF Standard.
>
>Written requests for licenses may be sent to:
>
>AT&T Intellectual Property Licensing
>Room 2E37, Bldg. 104
>180 Park Avenue
>Florham Park, NJ 07932
>
>

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Thu Nov 29 17:37:28 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA18252
	for <sip-archive@odin.ietf.org>; Thu, 29 Nov 2001 17:37:28 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id RAA02174
	for sip-archive@odin.ietf.org; Thu, 29 Nov 2001 17:37:32 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01166;
	Thu, 29 Nov 2001 17:17:08 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id RAA01074
	for <sip@ns.ietf.org>; Thu, 29 Nov 2001 17:17:02 -0500 (EST)
Received: from ihemail1.firewall.lucent.com (ihemail1.lucent.com [192.11.222.161])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id RAA16999
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:16:58 -0500 (EST)
Received: from teton.mh.lucent.com (h135-3-130-2.lucent.com [135.3.130.2])
	by ihemail1.firewall.lucent.com (Switch-2.1.3/Switch-2.1.0) with ESMTP id fATMH0119484
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:17:00 -0500 (EST)
Received: from lucent.com (pctla2 [135.3.130.26])
	by teton.mh.lucent.com (8.8.8+Sun/8.8.8) with ESMTP id RAA26034
	for <sip@ietf.org>; Thu, 29 Nov 2001 17:12:09 -0500 (EST)
Message-ID: <3C06B20F.F51FC408@lucent.com>
Date: Thu, 29 Nov 2001 17:09:20 -0500
From: Terry L Anderson <tla@lucent.com>
Organization: Lucent Technologies
X-Mailer: Mozilla 4.79 [en] (Win95; U)
X-Accept-Language: en
MIME-Version: 1.0
To: SIP Mailing List <sip@ietf.org>
Content-Type: multipart/mixed;
 boundary="------------3695E2572993C39553DA1AE0"
Subject: [Sip] Some comments on rfc2543bis-05
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

This is a multi-part message in MIME format.
--------------3695E2572993C39553DA1AE0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Some comments on rfc2543bis-05.  Most are minor editorial issues (I
believe).  Perhaps, some have been discuss earlier but I could not find
them.

Issue 1:     Section 6 Definitions
It might be nice to define "Request" and "Response" here.  "Message"
appears to be used occasionally and I believe means either Request or
Response but maybe "Message" should also be defined.  And 12.2 defines
"Refresh Request".  It would be nice to have it included here as well,
for convenient reference.

Issue 2: Section 8.2.3.2 Require
I just want to confirm that the intention is that even an ACK, BYE or
CANCEL containing a Require header with option tags that the recipient
does not support should be rejected with a 420 response.  I would assume
that Require would most often be used in INVITE or REGISTER, but is
allowed in ACK, BYE and CANCEL.   Should we refuse to BYE or CANCEL the
call?  I guess this requires the sender to resend without the option tag
in Require or the call will not be cleaned up.

What is the behavior when receiving an ACK with an unsupported option
tag in Require.  There is no response to an ACK so there is no way to
indicate that the tag is unsupported.  Does one ignore the ACK and thus
consider the INVITE response un-ACKed and so close the call? or accept
in spite of the unsupported option?  Perhaps, this should be specified
here.

Issue 3: Section 23 Header Fields: Table 3
Require has a 'g' in the where column and To has a 'gc(1)'.  I believe
that the 'g's are left over from bis-04; the meaning for this and the
other instances have been removed in bis-05.

Issue 4: Section 8.2.7
The last paragraph states: "The same tag MUST be used for all responses
to that request, both provisional and final".  But since the tag is used
as part of the dialog ID, isn't it required to be used in subsequent
requests in the dialog?  This is probably clear from statements
elsewhere, but since this sentence could be read as implying the
lifetime of the tag it might be clearer if it read something like "...
all responses to that request, both provisional and final (and any later
requests in the same dialog)."

Issue 5: Section 9.2
Related to my issue 2 above.  The last paragraph of 9.2 states that "The
CANCEL request itself is answered with a 200 (OK) in either case."  This
might be read to mean in "every" case, but might the response be 420 if
the CANCEL contained an unsupported option tag in Require?

Issue 6: Section 15.1.2
Similar to issue 5, this section states that "The UAS core MUST generate
a 2xx response to the BYE", but should it rather generate a 420 if the
BYE contained an unsupported option tag in Require?

Issue 7: Section 16.1, 16.6 and 8.2.7
I am trying to understand if there are cases where a final, non-200
response received by UAC might contain NO To-tag.  Section 8.2.7 appears
to require a UAS to add a To-tag to ALL responses.  Section 16.6 appears
to states that a proxy MUST NOT insert a To-tag into a forwarded
response that does not have one, but from 8.2.7, it must always have one
(unless it is received from a non-complying UAS).  I assume that the
proxy is NOT permitted to remove the tag.  Section 16.1 requires that a
proxy that is responding directly (generates a response rather than
forwards one) must behave as a UAS including section 8.2 and so
apparently must add a To-tag.  So it would seem that a response received
by the UAC will always have one, except for the case there the UAS in
non-complying.  Am I missing a case?  (We have seen 4xx's from proxies
with no To-tag and am trying to determine if this should be expected in
some cases).

Issue 8:  Section 15
If I understand this section, a caller should use a BYE to terminate an
early dialog (rather than a CANCEL) but must not use a CANCEL until some
response is received.  Since UAS must add a To-tag to all responses, any
provisional response other than 100, received by UAC should contain a
To-tag and hence establish a dialog.  So it appears that UAC will only
use CANCEL between receipt of 100 (if received) and some other 1xx.  Is
this correct?  Perhaps, stating that here would make it clearer.

Issue 9: Early media
If a proxy forks an INVITE containing SDP, the UAC may receive
provisional responses from more than one UAS, establishing more than one
dialog.  If more than one of these contains SDP this would appear to
establish more than one media stream that might be used to send early
media to the UAC on the same port.  For example, more than one UAS may
be sending ringback tones in a media stream and one or more may contain
a special information tone or voice message.  The RTP packets can be
distinguished by the source addresses in the headers, but is it stated
anywhere what the expected behavior of the UAC is?  Should it mix these
and play all of these to the calling party?  If not, how can it choose
which to present to the calling party?  Or is early media outside the
scope of 2543bis?






--

------------------------------------------------------------
Terry L Anderson              mailto:tla@lucent.com
Tel:908.582.7013   Fax:908.582.6729
Lucent Technologies/INS/Voice Over IP Access Networks
Rm 2B-121, 600 Mountain Av, Murray Hill, NJ 07974
http://its.lucent.com/~tla (Lucent internal) http://www.gti.net/tla


--------------3695E2572993C39553DA1AE0
Content-Type: text/x-vcard; charset=us-ascii;
 name="tla.vcf"
Content-Description: Card for Terry L Anderson
Content-Disposition: attachment;
 filename="tla.vcf"
Content-Transfer-Encoding: 7bit

begin:vcard 
n:Anderson;Terry L
tel;fax:908.582.6729
tel;work:908.582.7013
x-mozilla-html:TRUE
url:http://its.lucent.com/~tla
org:Lucent / Integrated Network Solutions;VoIP Access Networks
version:2.1
email;internet:tla@lucent.com
title:DMTS
note:http://www.gti.net/tla  or http://teton.mh.lucent.com/~tla (Lucent internal)
adr;quoted-printable:;;Rm 2B-121=0D=0A600 Mountain Ave;Murray Hill;NJ;07974;USA
x-mozilla-cpt:;-4752
fn:Terry L Anderson
end:vcard

--------------3695E2572993C39553DA1AE0--


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Nov 30 14:13:00 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA29231
	for <sip-archive@odin.ietf.org>; Fri, 30 Nov 2001 14:13:00 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id OAA16549
	for sip-archive@odin.ietf.org; Fri, 30 Nov 2001 14:13:04 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA15746;
	Fri, 30 Nov 2001 13:49:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id NAA15712
	for <sip@ns.ietf.org>; Fri, 30 Nov 2001 13:49:39 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id NAA27558
	for <sip@ietf.org>; Fri, 30 Nov 2001 13:49:34 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAUIld7x029669;
	Fri, 30 Nov 2001 13:47:40 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4YNC>; Fri, 30 Nov 2001 13:49:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D707D@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: "'William Marshall'" <wtm@research.att.com>, sip@ietf.org
Cc: Dean Willis <dwillis@dynamicsoft.com>, chsharp@cisco.com
Subject: RE: [Sip] AT&T IPR Notices on SIP drafts
Date: Fri, 30 Nov 2001 13:48:58 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org

Bill,

I am deeply disturbed by these terms. Deeply.

I would like a clarification on the following sentence:

AT&T's willingness to grant such licenses is 
conditioned upon the prospective licensee granting a 
reciprocal license 
to AT&T under any patents that the prospective licensee has to any 
technology required to implement that IETF Standard.



OK, if I read this right, it means AT&T will NOT give me a license unless I
can give them a license to patents I might have that are required to
implement the drafts listed below. Is this a correct interpretation? Please
confirm/deny ASAP.

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com
 

> -----Original Message-----
> From: William Marshall [mailto:wtm@research.att.com]
> Sent: Thursday, November 29, 2001 5:09 PM
> To: sip@ietf.org
> Cc: dwillis@dynamicsoft.com; chsharp@cisco.com
> Subject: Re: [Sip] AT&T IPR Notices on SIP drafts
> 
> 
> > Perhaps the IPR statement needs to be updated?
> 
> I'll change the name of the draft.  It will be easier.
> 
> Bill Marshall
> wtm@research.att.com
> 
> -----original message-----
> Date: Thu, 29 Nov 2001 16:50:27 -0500
> To: Dean Willis <dwillis@dynamicsoft.com>
> From: Chip Sharp <chsharp@cisco.com>
> Cc: sip@ietf.org, sipping@ietf.org
> Subject: [Sip] Re: [Sipping] AT&T IPR Notices on SIP drafts
> 
> FWIW,
> I can't find a draft with file name:
>      draft-dcsgroup-sip-architecture-xx
> 
> There is a draft with file name:
>      draft-dcsgroup-sip-arch-05.txt
> 
> Perhaps the IPR statement needs to be updated?
> 
> Chip
> 
> At 03:15 PM 11/29/2001, Dean Willis wrote:
> >Please be advised of the following, posted at:
> >
> >http://www.ietf.org/ietf/IPR/ATT-SIP:
> >
> >-------------------------------------------
> >
> >The following was received October 11, 2001
> >From: "Frost, Thomas F (Tom), ALCOO" <tfrost@att.com>
> >
> >
> >This declaration is being made pursuant to the provisions of IETF IPR
> >Policy, Sections 10.3.1 and 10.3.2.
> >
> >This is to advise the IETF that AT&T believes it owns 
> intellectual property 
> > including various pending patent applications that may 
> relate to the 
> > following Internet Draft documents:
> >
> >        draft-ietf-sip-privacy-xx
> >        draft-ietf-sip-call-auth-xx
> >        draft-ietf-sip-manyfolks-resource-xx
> >        draft-ietf-sip-state-xx
> >        draft-dcsgroup-sip-proxy-proxy-xx
> >        draft-dcsgroup-sip-architecture-xx
> >        draft-willis-sip-cookies-xx
> >
> >To the extent that the technology discussed in any of these 
> Internet Drafts 
> > becomes an IETF Standard, and to the extent claims of 
> AT&T's patents are 
> > required to implement the IETF Standard, AT&T agrees that, 
> upon written 
> > request, AT&T will offer, on a nondiscriminatory basis, 
> non-exclusive 
> > licenses on fair and reasonable terms under such patent 
> claims to implement 
> > that IETF Standard. AT&T's willingness to grant such licenses is 
> > conditioned upon the prospective licensee granting a 
> reciprocal license 
> > to AT&T under any patents that the prospective licensee has to any 
> > technology required to implement that IETF Standard.
> >
> >Written requests for licenses may be sent to:
> >
> >AT&T Intellectual Property Licensing
> >Room 2E37, Bldg. 104
> >180 Park Avenue
> >Florham Park, NJ 07932
> >
> >
> 
> _______________________________________________
> Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
> This list is for NEW development of the core SIP Protocol
> Use sip-implementors@cs.columbia.edu for questions on current sip
> Use sipping@ietf.org for new developments on the application of sip
> 

_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



From daemon@ns.ietf.org  Fri Nov 30 15:08:49 2001
Received: from optimus.ietf.org (ietf.org [132.151.1.19] (may be forged))
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id PAA03315
	for <sip-archive@odin.ietf.org>; Fri, 30 Nov 2001 15:08:44 -0500 (EST)
Received: (from daemon@localhost)
	by optimus.ietf.org (8.9.1a/8.9.1) id PAA19060
	for sip-archive@odin.ietf.org; Fri, 30 Nov 2001 15:08:48 -0500 (EST)
Received: from optimus.ietf.org (localhost [127.0.0.1])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA18174;
	Fri, 30 Nov 2001 14:52:43 -0500 (EST)
Received: from ietf.org (odin [132.151.1.176])
	by optimus.ietf.org (8.9.1a/8.9.1) with ESMTP id OAA18142
	for <sip@ns.ietf.org>; Fri, 30 Nov 2001 14:52:40 -0500 (EST)
Received: from mail1.dynamicsoft.com (mail1.dynamicsoft.com [63.113.40.10])
	by ietf.org (8.9.1a/8.9.1a) with ESMTP id OAA02295
	for <sip@ietf.org>; Fri, 30 Nov 2001 14:52:35 -0500 (EST)
Received: from DYN-EXCH-001.dynamicsoft.com (dyn-exch-001 [63.113.44.7])
	by mail1.dynamicsoft.com (8.12.0.Beta7/8.12.0.Beta7) with ESMTP id fAUJod7x000076;
	Fri, 30 Nov 2001 14:50:41 -0500 (EST)
Received: by DYN-EXCH-001.dynamicsoft.com with Internet Mail Service (5.5.2653.19)
	id <XH6R4YTC>; Fri, 30 Nov 2001 14:52:06 -0500
Message-ID: <B65B4F8437968F488A01A940B21982BF020D707F@DYN-EXCH-001.dynamicsoft.com>
From: Jonathan Rosenberg <jdrosen@dynamicsoft.com>
To: Jonathan Rosenberg <jdrosen@dynamicsoft.com>,
        "'William Marshall'"
	 <wtm@research.att.com>, sip@ietf.org
Cc: Dean Willis <dwillis@dynamicsoft.com>, chsharp@cisco.com
Subject: RE: [Sip] AT&T IPR Notices on SIP drafts
Date: Fri, 30 Nov 2001 14:51:56 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain
Sender: sip-admin@ietf.org
Errors-To: sip-admin@ietf.org
X-Mailman-Version: 1.0
Precedence: bulk
List-Id: Session Initiation Protocol <sip.ietf.org>
X-BeenThere: sip@ietf.org



Some more clarifications requested inline:


> -----Original Message-----
> From: Jonathan Rosenberg [mailto:jdrosen@dynamicsoft.com]
> Sent: Friday, November 30, 2001 1:49 PM
> To: 'William Marshall'; sip@ietf.org
> Cc: Dean Willis; chsharp@cisco.com
> Subject: RE: [Sip] AT&T IPR Notices on SIP drafts
> 
> 
> Bill,
> 
> I am deeply disturbed by these terms. Deeply.
> 
> I would like a clarification on the following sentence:
> 
> AT&T's willingness to grant such licenses is 
> conditioned upon the prospective licensee granting a 
> reciprocal license 
> to AT&T under any patents that the prospective licensee has to any 
> technology required to implement that IETF Standard.
> 
> 
> 
> OK, if I read this right, it means AT&T will NOT give me a 
> license unless I
> can give them a license to patents I might have that are required to
> implement the drafts listed below. Is this a correct 
> interpretation? Please
> confirm/deny ASAP.

Let me be more specific. In the event that a company has NO IPR on the
drafts mentioned in the statement, EXACTLY what is AT&T's policy on granting
of licensing? 

-Jonathan R.

---
Jonathan D. Rosenberg, Ph.D.                72 Eagle Rock Ave.
Chief Scientist                             First Floor
dynamicsoft                                 East Hanover, NJ 07936
jdrosen@dynamicsoft.com                     FAX:   (973) 952-5050
http://www.jdrosen.net                      PHONE: (973) 952-5000
http://www.dynamicsoft.com


_______________________________________________
Sip mailing list  http://www1.ietf.org/mailman/listinfo/sip
This list is for NEW development of the core SIP Protocol
Use sip-implementors@cs.columbia.edu for questions on current sip
Use sipping@ietf.org for new developments on the application of sip



